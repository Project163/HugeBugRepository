<!--
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Thu Oct 23 09:38:39 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+%22SLING%22+AND+issuetype+%3D+Bug+ORDER+BY+key+DESC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="3800" end="4000" total="4707"/>
                <build-info>
            <version>8.20.10</version>
            <build-number>820010</build-number>
            <build-date>22-06-2022</build-date>
        </build-info>

<item>
            <title>[SLING-2189] Resources installed by launchpad should not have default priority</title>
                <link>https://issues.apache.org/jira/browse/SLING-2189</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Resources from the launchpad installer use the default priority which is 100 - this is the same priority as resources from the repository (jcr installer, libs dir)&lt;br/&gt;
The priority of the launchpad resources should be lower.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12519389">SLING-2189</key>
            <summary>Resources installed by launchpad should not have default priority</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Fri, 19 Aug 2011 09:04:41 +0000</created>
                <updated>Tue, 31 Jan 2012 11:10:39 +0000</updated>
                            <resolved>Fri, 19 Aug 2011 09:09:36 +0000</resolved>
                                    <version>Launchpad Installer 1.0.4</version>
                                    <fixVersion>Launchpad Installer 1.0.6</fixVersion>
                                    <component>Launchpad</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13087618" author="cziegeler" created="Fri, 19 Aug 2011 09:09:36 +0000"  >&lt;p&gt;Set priority to 50 in revision 1159553&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43669</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 11 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10o1j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>212029</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2188] Correct metadata</title>
                <link>https://issues.apache.org/jira/browse/SLING-2188</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The metadata for the jcr installer is not correct: property handler schemes is an array, name and description are missing for service.ranking and handler.schemes&lt;/p&gt;</description>
                <environment></environment>
        <key id="12519388">SLING-2188</key>
            <summary>Correct metadata</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Fri, 19 Aug 2011 08:38:40 +0000</created>
                <updated>Tue, 31 Jan 2012 11:11:57 +0000</updated>
                            <resolved>Fri, 19 Aug 2011 08:45:28 +0000</resolved>
                                    <version>JCR Installer 3.1.0</version>
                                    <fixVersion>JCR Installer 3.1.2</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13087612" author="cziegeler" created="Fri, 19 Aug 2011 08:45:28 +0000"  >&lt;p&gt;Fixed in revision 1159543&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>64431</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 11 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1eepb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>292311</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2186] PostOperationProxyProvider does not transfer properties correctly</title>
                <link>https://issues.apache.org/jira/browse/SLING-2186</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I think that&lt;/p&gt;

&lt;p&gt;         props.put(PostOperation.PROP_OPERATION_NAME,&lt;br/&gt;
            serviceReference.getProperty(SlingPostOperation.SERVICE_NAME));&lt;/p&gt;

&lt;p&gt;should be&lt;/p&gt;

&lt;p&gt;         props.put(PostOperation.PROP_OPERATION_NAME,&lt;br/&gt;
            serviceReference.getProperty(SlingPostOperation.PROP_OPERATION_NAME));&lt;/p&gt;</description>
                <environment></environment>
        <key id="12519320">SLING-2186</key>
            <summary>PostOperationProxyProvider does not transfer properties correctly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="ax">Aleksander Bandelj</reporter>
                        <labels>
                    </labels>
                <created>Thu, 18 Aug 2011 17:19:26 +0000</created>
                <updated>Tue, 3 Apr 2012 12:12:19 +0000</updated>
                            <resolved>Tue, 3 Apr 2012 12:12:19 +0000</resolved>
                                                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="3600">1h</timeoriginalestimate>
                            <timeestimate seconds="3600">1h</timeestimate>
                                        <comments>
                            <comment id="13245249" author="bdelacretaz" created="Tue, 3 Apr 2012 12:12:19 +0000"  >&lt;p&gt;Fixed in revision 1308836, thanks for reporting!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12473172">SLING-1725</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12490818" name="patch.txt" size="793" author="ax" created="Thu, 18 Aug 2011 17:19:45 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35946</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 31 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10cxz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>210231</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2179] 403 instead of 404 response after stopping bundle</title>
                <link>https://issues.apache.org/jira/browse/SLING-2179</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Before starting &quot;Apache Sling Launchpad Testing Services&quot; (compiled from launchpad/test-services&quot; on &lt;a href=&quot;http://localhost:8080/testing/PathsServlet/foo/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/testing/PathsServlet/foo/&lt;/a&gt; I correctly get a 404 response&lt;/li&gt;
	&lt;li&gt;After starting the bundle I correctly get a 200 response&lt;/li&gt;
	&lt;li&gt;After stopping the bundle I get a 403 response&lt;/li&gt;
	&lt;li&gt;After restarting the OSGI container the expected 404 response is returned again&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Body of the unexpected 403 response:&lt;br/&gt;
&amp;lt;h1&amp;gt;Forbidden (403)&amp;lt;/h1&amp;gt;&lt;br/&gt;
&amp;lt;p&amp;gt;The requested URL /testing/PathsServlet/foo/ resulted in an error in org.apache.sling.servlets.get.DefaultGetServlet.&amp;lt;/p&amp;gt;&lt;br/&gt;
&amp;lt;h3&amp;gt;Request Progress:&amp;lt;/h3&amp;gt;&lt;br/&gt;
&amp;lt;pre&amp;gt;&lt;br/&gt;
      0 (2011-08-15 11:54:45) TIMER_START&lt;/p&gt;
{Request Processing}
&lt;p&gt;      0 (2011-08-15 11:54:45) COMMENT timer_end format is &lt;/p&gt;
{&amp;lt;elapsed msec&amp;gt;,&amp;lt;timer name&amp;gt;}
&lt;p&gt; &amp;lt;optional message&amp;gt;&lt;/p&gt;

&lt;p&gt;      0 (2011-08-15 11:54:45) LOG Method=GET, PathInfo=/testing/PathsServlet/foo/&lt;br/&gt;
      0 (2011-08-15 11:54:45) TIMER_START&lt;/p&gt;
{ResourceResolution}
&lt;p&gt;      0 (2011-08-15 11:54:45) TIMER_END&lt;/p&gt;
{0,ResourceResolution}
&lt;p&gt; URI=/testing/PathsServlet/foo/ resolves to Resource=SyntheticResource, type=sling:syntheticResourceProviderResource, path=/testing/PathsServlet/foo&lt;br/&gt;
      0 (2011-08-15 11:54:45) LOG Resource Path Info: SlingRequestPathInfo: path=&apos;/testing/PathsServlet/foo&apos;, selectorString=&apos;null&apos;, extension=&apos;null&apos;, suffix=&apos;/&apos;&lt;br/&gt;
      0 (2011-08-15 11:54:45) TIMER_START&lt;/p&gt;
{ServletResolution}
&lt;p&gt;      0 (2011-08-15 11:54:45) TIMER_START&lt;/p&gt;
{resolveServlet(SyntheticResource, type=sling:syntheticResourceProviderResource, path=/testing/PathsServlet/foo)}
&lt;p&gt;      0 (2011-08-15 11:54:45) TIMER_END&lt;/p&gt;
{0,resolveServlet(SyntheticResource, type=sling:syntheticResourceProviderResource, path=/testing/PathsServlet/foo)}
&lt;p&gt; Using servlet org.apache.sling.servlets.get.DefaultGetServlet&lt;br/&gt;
      0 (2011-08-15 11:54:45) TIMER_END&lt;/p&gt;
{0,ServletResolution}
&lt;p&gt; URI=/testing/PathsServlet/foo/ handled by Servlet=org.apache.sling.servlets.get.DefaultGetServlet&lt;br/&gt;
      0 (2011-08-15 11:54:45) LOG Applying Requestfilters&lt;br/&gt;
      0 (2011-08-15 11:54:45) LOG Calling filter: org.apache.sling.engine.impl.debug.RequestProgressTrackerLogFilter&lt;br/&gt;
      0 (2011-08-15 11:54:45) TIMER_START&lt;/p&gt;
{org.apache.sling.servlets.get.DefaultGetServlet#0}
&lt;p&gt;      0 (2011-08-15 11:54:45) LOG Using org.apache.sling.servlets.get.impl.helpers.StreamRendererServlet to render for extension=null&lt;br/&gt;
      1 (2011-08-15 11:54:45) TIMER_START&lt;/p&gt;
{handleError:status=403}
&lt;p&gt;      2 (2011-08-15 11:54:45) TIMER_END&lt;/p&gt;
{1,handleError:status=403}
&lt;p&gt; Using handler org.apache.sling.servlets.resolver.internal.defaults.DefaultErrorHandlerServlet&lt;br/&gt;
      2 (2011-08-15 11:54:45) TIMER_END&lt;/p&gt;
{2,Request Processing}
&lt;p&gt; Dumping SlingRequestProgressTracker Entries&lt;br/&gt;
&amp;lt;/pre&amp;gt;&lt;br/&gt;
&amp;lt;hr&amp;gt;&lt;br/&gt;
&amp;lt;address&amp;gt;ApacheSling/2.2 (Java HotSpot(TM) Server VM 1.6.0_26; Linux 2.6.38-10-generic-pae i386)&amp;lt;/address&amp;gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12518865">SLING-2179</key>
            <summary>403 instead of 404 response after stopping bundle</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="reto">Reto Gm&#252;r</reporter>
                        <labels>
                    </labels>
                <created>Mon, 15 Aug 2011 09:58:27 +0000</created>
                <updated>Thu, 13 Apr 2023 05:06:18 +0000</updated>
                            <resolved>Thu, 13 Apr 2023 05:06:18 +0000</resolved>
                                                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13195152" author="nijhawan" created="Fri, 27 Jan 2012 22:21:59 +0000"  >&lt;p&gt;I second that. Sling is not easy to get right the first time especially if you&apos;re hooking it up to a database like oracle. I can upload and download with full URL paths but i can&apos;t browse the tree (content node isn&apos;t there) and i had to fight off a lot of repository lock issues.&lt;/p&gt;

&lt;p&gt;A resolution would be nice.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35947</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 40 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i031cf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>15651</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2178] Installed resource should be listed before not installed one</title>
                <link>https://issues.apache.org/jira/browse/SLING-2178</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If the same resource is available more than once, this is currently sorted by the url of the provider which might lead to the uninstalled version being listed before the installed one - which in turn results in problems when the resource is uninstalled.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12518557">SLING-2178</key>
            <summary>Installed resource should be listed before not installed one</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Thu, 11 Aug 2011 06:29:15 +0000</created>
                <updated>Tue, 31 Jan 2012 11:09:17 +0000</updated>
                            <resolved>Thu, 11 Aug 2011 06:29:55 +0000</resolved>
                                    <version>Installer Core 3.2.0</version>
                    <version>Installer Core 3.2.2</version>
                                    <fixVersion>Installer Core 3.3.0</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13082957" author="cziegeler" created="Thu, 11 Aug 2011 06:29:55 +0000"  >&lt;p&gt;Fixed in revision 1156505&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>65494</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 13 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10nzz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>212022</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2176] Server ready detection does not always work</title>
                <link>https://issues.apache.org/jira/browse/SLING-2176</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;It seems that the server ready check is not working properly, with current trunk tests are started too early.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12518321">SLING-2176</key>
            <summary>Server ready detection does not always work</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Tue, 9 Aug 2011 14:26:32 +0000</created>
                <updated>Wed, 10 Aug 2011 11:55:42 +0000</updated>
                            <resolved>Wed, 10 Aug 2011 11:55:42 +0000</resolved>
                                    <version>Launchpad Testing 6</version>
                                                    <component>Launchpad</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13082297" author="cziegeler" created="Wed, 10 Aug 2011 11:55:42 +0000"  >&lt;p&gt;This seems to be solved by &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2174&quot; title=&quot;Leverage Framework interface to better control framework startup&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2174&quot;&gt;&lt;del&gt;SLING-2174&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>65597</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 13 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10gj3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>210812</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2172] NPE in DefaultSlingScript#verifySlingBindings</title>
                <link>https://issues.apache.org/jira/browse/SLING-2172</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;NPE in line 688 of DefaultSlingScript - this happened so far only once but nevertheless. The only explanation I have is that the bindingsValuesProvider array contains a NULL&lt;/p&gt;</description>
                <environment></environment>
        <key id="12518308">SLING-2172</key>
            <summary>NPE in DefaultSlingScript#verifySlingBindings</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Tue, 9 Aug 2011 12:01:04 +0000</created>
                <updated>Tue, 16 Aug 2011 06:10:17 +0000</updated>
                            <resolved>Tue, 9 Aug 2011 12:27:53 +0000</resolved>
                                    <version>Scripting Core 2.0.16</version>
                                    <fixVersion>Scripting Core 2.0.18</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13081592" author="cziegeler" created="Tue, 9 Aug 2011 12:27:53 +0000"  >&lt;p&gt;Added an extra null check in revision 1155333&lt;/p&gt;

&lt;p&gt;I&apos;ve also synced the maps by using concurrent maps - just to be safe&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>64946</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 13 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10ntb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>211992</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2170] jQuery explorer fails to display item&apos;s children if parent&apos;s name contains &apos;=&apos;</title>
                <link>https://issues.apache.org/jira/browse/SLING-2170</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If a resource has a name containing a &apos;=&apos; character, the listing of its children fails without any error message.&lt;/p&gt;

&lt;p&gt;Can be fixed by replacing &apos;=&apos; with &apos;_&apos; when generating DOM node IDs.&lt;/p&gt;

&lt;p&gt;Fix coming up.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12518265">SLING-2170</key>
            <summary>jQuery explorer fails to display item&apos;s children if parent&apos;s name contains &apos;=&apos;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="vramdal">Vidar Skauge Ramdal</assignee>
                                    <reporter username="vramdal">Vidar Skauge Ramdal</reporter>
                        <labels>
                    </labels>
                <created>Tue, 9 Aug 2011 00:50:56 +0000</created>
                <updated>Wed, 20 Sep 2017 13:04:23 +0000</updated>
                            <resolved>Tue, 9 Aug 2011 01:01:04 +0000</resolved>
                                    <version>Sling Explorer 1.0.2</version>
                                    <fixVersion>Sling Explorer 1.0.4</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13081348" author="vramdal" created="Tue, 9 Aug 2011 01:01:04 +0000"  >&lt;p&gt;Fixed in rev#1155179&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>65710</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 13 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10cwv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>210226</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2169] Solution for SLING-2057 is not thread safe</title>
                <link>https://issues.apache.org/jira/browse/SLING-2169</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The change implemented to fix &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2057&quot; title=&quot;&amp;lt;c:import&amp;gt; can&amp;#39;t be used across servlet contexts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2057&quot;&gt;&lt;del&gt;SLING-2057&lt;/del&gt;&lt;/a&gt; does not hold up under load as it uses the static JspFactory.setDefaultFactory() method which will impact all threads.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12518206">SLING-2169</key>
            <summary>Solution for SLING-2057 is not thread safe</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="justinedelson">Justin Edelson</assignee>
                                    <reporter username="justinedelson">Justin Edelson</reporter>
                        <labels>
                    </labels>
                <created>Mon, 8 Aug 2011 13:44:39 +0000</created>
                <updated>Mon, 15 Aug 2011 23:11:00 +0000</updated>
                            <resolved>Mon, 8 Aug 2011 14:53:10 +0000</resolved>
                                    <version>Scripting JSP 2.0.16</version>
                                    <fixVersion>Scripting JSP 2.0.18</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13080984" author="justinedelson" created="Mon, 8 Aug 2011 14:53:11 +0000"  >&lt;p&gt;in r1154977, changed the implemenation of cross-context import support to use the factory delegation mechanism built for &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-1928&quot; title=&quot;JSP API classes from the environment can&amp;#39;t be used.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-1928&quot;&gt;&lt;del&gt;SLING-1928&lt;/del&gt;&lt;/a&gt;. Before an include/forward, the counter is set to 0 and then afterwards, restored to the original value.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>64971</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 13 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10ns7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>211987</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2165] Form based login failure always switches to the &apos;selector&apos; login page to show the login error</title>
                <link>https://issues.apache.org/jira/browse/SLING-2165</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Repro:&lt;br/&gt;
1. start sling launchpad&lt;br/&gt;
2. open the form based login page: &lt;a href=&quot;http://localhost:8888/system/sling/form/login&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8888/system/sling/form/login&lt;/a&gt;&lt;br/&gt;
3. enter invalid credentials and submit the form&lt;br/&gt;
4. Notice the response has switched to the &apos;selector&apos; login page: &lt;a href=&quot;http://localhost:8888/system/sling/selector/login?j_reason=INVALID_CREDENTIALS&amp;amp;resource=%2F&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8888/system/sling/selector/login?j_reason=INVALID_CREDENTIALS&amp;amp;resource=%2F&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Expected:&lt;br/&gt;
Invalid credentials submitted from the &apos;form&apos; login page should report the login error to the same login page.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12515788">SLING-2165</key>
            <summary>Form based login failure always switches to the &apos;selector&apos; login page to show the login error</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="enorman">Eric Norman</assignee>
                                    <reporter username="enorman">Eric Norman</reporter>
                        <labels>
                    </labels>
                <created>Fri, 29 Jul 2011 15:48:50 +0000</created>
                <updated>Fri, 20 Sep 2019 11:34:43 +0000</updated>
                            <resolved>Fri, 13 Jan 2012 19:30:08 +0000</resolved>
                                    <version>OpenID Authentication 1.0.2</version>
                    <version>Form Based Authentication 1.0.2</version>
                    <version>Auth Selector 1.0.4</version>
                    <version>Auth Core 1.0.6</version>
                                    <fixVersion>OpenID Authentication 1.0.4</fixVersion>
                    <fixVersion>Form Based Authentication 1.0.4</fixVersion>
                    <fixVersion>Auth Selector 1.0.6</fixVersion>
                    <fixVersion>Auth Core 1.1.0</fixVersion>
                                    <component>Authentication</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13149170" author="enorman" created="Sat, 12 Nov 2011 22:29:26 +0000"  >&lt;p&gt;fixed in revision 1201346.  + added a few integration tests.&lt;/p&gt;</comment>
                            <comment id="13185725" author="enorman" created="Fri, 13 Jan 2012 18:14:33 +0000"  >&lt;p&gt;re-opening to fix regression reported @ &lt;a href=&quot;http://markmail.org/message/hfham6wzubfyr3kl&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://markmail.org/message/hfham6wzubfyr3kl&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13185780" author="enorman" created="Fri, 13 Jan 2012 19:30:08 +0000"  >&lt;p&gt;Fixed regression in revision 1231244.  Plus added an integration test to verify.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35949</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 42 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0sriv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>165936</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2163] Persisting a new configuration is missing PID and factory PID</title>
                <link>https://issues.apache.org/jira/browse/SLING-2163</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When a new configuration is written back it is missing the PID and factory pid.&lt;br/&gt;
Also the configuration is persisted by the udpate handler, it can&apos;t be removed or reapplied later on as this information is missing&lt;/p&gt;</description>
                <environment></environment>
        <key id="12515765">SLING-2163</key>
            <summary>Persisting a new configuration is missing PID and factory PID</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Fri, 29 Jul 2011 11:25:33 +0000</created>
                <updated>Tue, 16 Aug 2011 06:05:52 +0000</updated>
                            <resolved>Fri, 29 Jul 2011 11:59:39 +0000</resolved>
                                    <version>Installer Core 3.2.0</version>
                    <version>Installer Configuration Factory 1.0.0</version>
                                    <fixVersion>Installer Core 3.2.2</fixVersion>
                    <fixVersion>Installer Configuration Factory 1.0.2</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13072788" author="cziegeler" created="Fri, 29 Jul 2011 11:59:39 +0000"  >&lt;p&gt;Fixed in revision 1152171&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>64965</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 14 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10npz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>211977</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2160] Close input streams</title>
                <link>https://issues.apache.org/jira/browse/SLING-2160</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Some input streams are never closed, especially for resource reading&lt;/p&gt;</description>
                <environment></environment>
        <key id="12515631">SLING-2160</key>
            <summary>Close input streams</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Thu, 28 Jul 2011 11:58:31 +0000</created>
                <updated>Fri, 18 May 2012 23:14:58 +0000</updated>
                            <resolved>Thu, 28 Jul 2011 11:59:23 +0000</resolved>
                                    <version>Launchpad Base 2.3.0</version>
                                    <fixVersion>Launchpad Base 2.4.0</fixVersion>
                                    <component>Launchpad</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13072305" author="cziegeler" created="Thu, 28 Jul 2011 11:59:23 +0000"  >&lt;p&gt;Fixed in revision 1151805&lt;/p&gt;</comment>
                            <comment id="13279317" author="fmeschbe" created="Fri, 18 May 2012 23:14:58 +0000"  >&lt;p&gt;Close after release.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>66736</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 24 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10min:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>211782</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2159] The custom-login-form sample doesn&apos;t work anymore</title>
                <link>https://issues.apache.org/jira/browse/SLING-2159</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;1. Move the custom_login.html resource to the org/apache/sling/auth/form/impl folder&lt;br/&gt;
2. Change the fragment-host to: org.apache.sling.auth.form&lt;/p&gt;</description>
                <environment></environment>
        <key id="12515475">SLING-2159</key>
            <summary>The custom-login-form sample doesn&apos;t work anymore</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="enorman">Eric Norman</assignee>
                                    <reporter username="enorman">Eric Norman</reporter>
                        <labels>
                    </labels>
                <created>Wed, 27 Jul 2011 05:21:23 +0000</created>
                <updated>Fri, 20 Sep 2019 11:34:36 +0000</updated>
                            <resolved>Wed, 27 Jul 2011 05:38:44 +0000</resolved>
                                                                    <component>Samples</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13071522" author="enorman" created="Wed, 27 Jul 2011 05:38:44 +0000"  >&lt;p&gt;fixed in r1151337&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>66822</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 15 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10cl3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>210173</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2153] Wrong parent relativePath attribute value in few pom files</title>
                <link>https://issues.apache.org/jira/browse/SLING-2153</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I tried to build the last Sling release (1149269) but I noticed that few pom files have a wrong parent relative path. Because of this issue it is impossible to compile sling project using maven.&lt;/p&gt;

&lt;p&gt;I found this bug in these pom files:&lt;br/&gt;
&amp;lt;sling_path&amp;gt;/bundles/extensions/framework-extension-transaction/pom.xml&lt;br/&gt;
&amp;lt;sling_path&amp;gt;/bundles/extensions/framework-extension-xml/pom.xml&lt;br/&gt;
&amp;lt;sling_path&amp;gt;/testing/tools/pom.xml&lt;br/&gt;
&amp;lt;sling_path&amp;gt;/testing/junit/core/pom.xml&lt;br/&gt;
&amp;lt;sling_path&amp;gt;/testing/junit/scriptable/pom.xml  &lt;br/&gt;
&amp;lt;sling_path&amp;gt;/testing/junit/remote/pom.xml&lt;br/&gt;
&amp;lt;sling_path&amp;gt;/testing/samples/sample-tests/pom.xml&lt;br/&gt;
&amp;lt;sling_path&amp;gt;/testing/samples/failing-tests/pom.xml&lt;br/&gt;
&amp;lt;sling_path&amp;gt;/testing/samples/integration-tests/pom.xml&lt;/p&gt;</description>
                <environment>OS name: &amp;quot;linux&amp;quot;, version: &amp;quot;2.6.18-194.17.4.el5&amp;quot;, arch: &amp;quot;amd64&amp;quot;, family: &amp;quot;unix&amp;quot;</environment>
        <key id="12514945">SLING-2153</key>
            <summary>Wrong parent relativePath attribute value in few pom files</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="justinedelson">Justin Edelson</assignee>
                                    <reporter username="mark1981">Marco</reporter>
                        <labels>
                            <label>building</label>
                            <label>compilation</label>
                            <label>maven</label>
                    </labels>
                <created>Thu, 21 Jul 2011 16:49:41 +0000</created>
                <updated>Thu, 21 Jul 2011 22:37:12 +0000</updated>
                            <resolved>Thu, 21 Jul 2011 22:37:10 +0000</resolved>
                                                                    <component>General</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="86400">24h</timeoriginalestimate>
                            <timeestimate seconds="86400">24h</timeestimate>
                                        <comments>
                            <comment id="13069244" author="guisho" created="Thu, 21 Jul 2011 22:17:24 +0000"  >&lt;p&gt;I am having the exact same issue on release 1149266. &lt;br/&gt;
I am on a mac, java 6. &lt;/p&gt;</comment>
                            <comment id="13069259" author="justinedelson" created="Thu, 21 Jul 2011 22:37:12 +0000"  >&lt;p&gt;fixed in r1149394&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>67221</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 15 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i100mf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>208235</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2151] Parent POM defines sl4j 1.5.2 while the org.apache.sling.commons.log exports 1.6.1</title>
                <link>https://issues.apache.org/jira/browse/SLING-2151</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;This causes problems in bundles - for example scripting.freemarker. (LoggerFactory class not found). I&apos;ve updated in Parent POM in my machine to 1.6.1 and it seems OK.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12514896">SLING-2151</key>
            <summary>Parent POM defines sl4j 1.5.2 while the org.apache.sling.commons.log exports 1.6.1</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="robson@semmi.se">R&#243;bert Cs&#225;k&#225;ny</reporter>
                        <labels>
                    </labels>
                <created>Thu, 21 Jul 2011 12:20:33 +0000</created>
                <updated>Tue, 20 Mar 2012 17:41:20 +0000</updated>
                            <resolved>Tue, 20 Mar 2012 17:41:20 +0000</resolved>
                                    <version>Parent 10</version>
                                                    <component>General</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13069241" author="justinedelson" created="Thu, 21 Jul 2011 22:08:08 +0000"  >&lt;p&gt;This isn&apos;t the source of the freemarker error. That&apos;s intentional. SLF4J is explicitly &lt;b&gt;not&lt;/b&gt; imported in the freemarker bundle because Freemarker&apos;s SLF4J bridge depends upon some classes in the SLF4J SPI which the Sling Commons Log bundle does not export. Freemarker seems happy to fall through to Log4j or JCL (sorry, forget which one off the top of my head).&lt;/p&gt;</comment>
                            <comment id="13069441" author="cziegeler" created="Fri, 22 Jul 2011 08:28:47 +0000"  >&lt;p&gt;Updating the dependency (import) to slf4j higher than 1.5 is dangerous as this makes all bundles fail in existing environments where version 1.5 is exported - so it would force to upgrade the log implementation just to get a bugfix for any bundle in.&lt;/p&gt;</comment>
                            <comment id="13076107" author="robson@semmi.se" created="Tue, 2 Aug 2011 09:16:00 +0000"  >&lt;p&gt;Thanks for answers. I understand the side effects of the version upgrade. &lt;br/&gt;
I&apos;ve tried the other way to downgraded commons-log back to 1.5.2 of slf4j, I&apos;ve recompiled and deployed. My problem was a lot of bundle crashed with same error as freemarker. Maybe I&apos;m wrong, but it seems to me that bundles required 1.6.1 version be provided in commons-log - or I made a mistake.&lt;/p&gt;

&lt;p&gt;Justin: My problemis the freemarker is not fallback to LOG4J. I don&apos;t undersatand why when it&apos;s in Ignored-Package. &lt;br/&gt;
The bigger problem is when freemarker crash, all other script engines as well. When I remove freemarker bundle everything works well.&lt;/p&gt;

&lt;p&gt;The error message:&lt;/p&gt;

&lt;p&gt;01.08.2011 21:54:35.725 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;FelixDispatchQueue&amp;#93;&lt;/span&gt; org.apache.sling.scripting.freemarker BundleEvent STARTED                                                                       &lt;br/&gt;
01.08.2011 21:54:35.725 &lt;b&gt;ERROR&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;FelixDispatchQueue&amp;#93;&lt;/span&gt; org.apache.sling.scripting.core FrameworkEvent ERROR (java.lang.NoClassDefFoundError: org/slf4j/LoggerFactory) java.lang.NoClas&lt;br/&gt;
sDefFoundError: org/slf4j/LoggerFactory                                                                                                                                             &lt;br/&gt;
        at org.apache.sling.scripting.freemarker.FreemarkerScriptEngine.&amp;lt;clinit&amp;gt;(FreemarkerScriptEngine.java:42)                                                                    &lt;br/&gt;
        at org.apache.sling.scripting.freemarker.FreemarkerScriptEngineFactory.getScriptEngine(FreemarkerScriptEngineFactory.java:107)                                              &lt;br/&gt;
        at javax.script.ScriptEngineManager.getEngineByExtension(ScriptEngineManager.java:256)                                                                                      &lt;br/&gt;
        at org.apache.sling.scripting.core.impl.ScriptEngineManagerFactory.refreshScriptEngineManager(ScriptEngineManagerFactory.java:123)                                          &lt;br/&gt;
        at org.apache.sling.scripting.core.impl.ScriptEngineManagerFactory.bundleChanged(ScriptEngineManagerFactory.java:187)                                                       &lt;br/&gt;
        at org.apache.felix.framework.util.EventDispatcher.invokeBundleListenerCallback(EventDispatcher.java:807)                                                                   &lt;br/&gt;
        at org.apache.felix.framework.util.EventDispatcher.fireEventImmediately(EventDispatcher.java:729)                                                                           &lt;br/&gt;
        at org.apache.felix.framework.util.EventDispatcher.run(EventDispatcher.java:949)                                                                                            &lt;br/&gt;
        at org.apache.felix.framework.util.EventDispatcher.access$000(EventDispatcher.java:54)                                                                                      &lt;br/&gt;
        at org.apache.felix.framework.util.EventDispatcher$1.run(EventDispatcher.java:106)                                                                                          &lt;br/&gt;
        at java.lang.Thread.run(Thread.java:662)                                                                                                                                    &lt;br/&gt;
Caused by: java.lang.ClassNotFoundException: org.slf4j.LoggerFactory not found by org.apache.sling.scripting.freemarker &lt;span class=&quot;error&quot;&gt;&amp;#91;99&amp;#93;&lt;/span&gt;                                                        &lt;br/&gt;
        at org.apache.felix.framework.ModuleImpl.findClassOrResourceByDelegation(ModuleImpl.java:787)                                                                               &lt;br/&gt;
        at org.apache.felix.framework.ModuleImpl.access$400(ModuleImpl.java:71)                                                                                                     &lt;br/&gt;
        at org.apache.felix.framework.ModuleImpl$ModuleClassLoader.loadClass(ModuleImpl.java:1768)                                                                                  &lt;br/&gt;
        at java.lang.ClassLoader.loadClass(ClassLoader.java:247)                                                                                                                    &lt;br/&gt;
        ... 11 more                                                             &lt;/p&gt;</comment>
                            <comment id="13222007" author="skleinjung" created="Sun, 4 Mar 2012 20:42:04 +0000"  >&lt;p&gt;It is possible that the problems encountered using the Freemarker script engine are due to an explicit dependency on slf4j that should not be present. I have reported this issue as &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2432&quot; title=&quot;java.lang.NoClassDefFoundError when using Freemarker ScriptingEngine [patch included]&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2432&quot;&gt;&lt;del&gt;SLING-2432&lt;/del&gt;&lt;/a&gt;, with a patch to resolve that specific issue. (This does not relate to any other bundles that the original reporter may be having difficulties with, however.)&lt;/p&gt;</comment>
                            <comment id="13222171" author="robson@semmi.se" created="Mon, 5 Mar 2012 05:47:03 +0000"  >&lt;p&gt;Thank you Sean!&lt;/p&gt;</comment>
                            <comment id="13233605" author="justinedelson" created="Tue, 20 Mar 2012 17:41:20 +0000"  >&lt;p&gt;resolving as duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2432&quot; title=&quot;java.lang.NoClassDefFoundError when using Freemarker ScriptingEngine [patch included]&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2432&quot;&gt;&lt;del&gt;SLING-2432&lt;/del&gt;&lt;/a&gt;. if that&apos;s not the case, feel free to reopen.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35954</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 33 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10hrz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>211014</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2149] NPE in SlingLoggerConfig if log file can&apos;t be created</title>
                <link>https://issues.apache.org/jira/browse/SLING-2149</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If e.g. the default log writer file can&apos;t be created (e.g. the user has no permissions), then the writer with a null file handle is used nevertheless which then causes the Sling logger to end in NPEs when trying to write to the log.&lt;br/&gt;
If the file can&apos;t be created maybe stderr/stdout should be used&lt;/p&gt;</description>
                <environment></environment>
        <key id="12514591">SLING-2149</key>
            <summary>NPE in SlingLoggerConfig if log file can&apos;t be created</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ianeboston">Ian Boston</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 Jul 2011 13:34:33 +0000</created>
                <updated>Wed, 20 Sep 2017 13:04:53 +0000</updated>
                            <resolved>Fri, 26 Oct 2012 01:35:16 +0000</resolved>
                                    <version>Commons Log 2.1.0</version>
                                    <fixVersion>Commons Log 3.0.2</fixVersion>
                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13484645" author="ianeboston" created="Fri, 26 Oct 2012 01:35:16 +0000"  >&lt;p&gt;fixed in r1402370. Falls back to stdout on FileNotFound or security exceptions, and uses stdout.&lt;br/&gt;
Added tests. I hope (think), I got the right place.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35955</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 1 week, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i031dr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>15657</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2148] Untransformed resources are copied on each rendevouz</title>
                <link>https://issues.apache.org/jira/browse/SLING-2148</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;An untransformed resource is copied on each rendevouz - filling up the installer directory with copies of this resource&lt;/p&gt;</description>
                <environment></environment>
        <key id="12514435">SLING-2148</key>
            <summary>Untransformed resources are copied on each rendevouz</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Mon, 18 Jul 2011 13:11:03 +0000</created>
                <updated>Tue, 16 Aug 2011 06:09:47 +0000</updated>
                            <resolved>Mon, 18 Jul 2011 13:15:41 +0000</resolved>
                                    <version>Installer Core 3.2.0</version>
                                    <fixVersion>Installer Core 3.2.2</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13067015" author="cziegeler" created="Mon, 18 Jul 2011 13:15:41 +0000"  >&lt;p&gt;The digest cache was not filled by untransformed resources&lt;br/&gt;
Fixed in revision 1147848&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>64947</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 16 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10nkn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>211953</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2147] Cannot build Sling using instructions given on Sling wiki</title>
                <link>https://issues.apache.org/jira/browse/SLING-2147</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Steps to reproduce:&lt;br/&gt;
1: clean maven repository (I know that means you have to download the&lt;br/&gt;
internet but...)&lt;br/&gt;
2: rm -rf sling&lt;br/&gt;
3: svn checkout &lt;a href=&quot;http://svn.apache.org/repos/asf/sling/trunk&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/repos/asf/sling/trunk&lt;/a&gt; sling&lt;br/&gt;
4: mvn clean install&lt;/p&gt;

&lt;p&gt;The tail end of the build is&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Apache Sling Settings ............................. SUCCESS &lt;span class=&quot;error&quot;&gt;&amp;#91;1.562s&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Apache Sling Thread Dumper ........................ SUCCESS &lt;span class=&quot;error&quot;&gt;&amp;#91;0.930s&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Apache Sling Web Console Branding ................. SUCCESS &lt;span class=&quot;error&quot;&gt;&amp;#91;0.426s&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Apache Sling Web Console Security Provider ........ SUCCESS &lt;span class=&quot;error&quot;&gt;&amp;#91;2.554s&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Apache Sling Integration Tests .................... SUCCESS &lt;span class=&quot;error&quot;&gt;&amp;#91;4.815s&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Apache Sling Groovy Extensions .................... SUCCESS &lt;span class=&quot;error&quot;&gt;&amp;#91;5.481s&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Apache Sling Explorer ............................. SUCCESS &lt;span class=&quot;error&quot;&gt;&amp;#91;0.651s&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Apache Sling Test Tools ........................... SUCCESS &lt;span class=&quot;error&quot;&gt;&amp;#91;2.124s&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Apache Sling JUnit Core ........................... SUCCESS &lt;span class=&quot;error&quot;&gt;&amp;#91;2.459s&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Apache Sling JUnit Scriptable Tests Provider ...... SUCCESS &lt;span class=&quot;error&quot;&gt;&amp;#91;2.873s&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Apache Sling JUnit Remote Tests Runners ........... SUCCESS &lt;span class=&quot;error&quot;&gt;&amp;#91;1.446s&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Apache Sling Installer ............................ SUCCESS &lt;span class=&quot;error&quot;&gt;&amp;#91;3.360s&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Apache Sling File Installer ....................... SUCCESS &lt;span class=&quot;error&quot;&gt;&amp;#91;1.118s&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Apache Sling JCR Installer ........................ SUCCESS &lt;span class=&quot;error&quot;&gt;&amp;#91;2:19.554s&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Apache Sling Installer Configuration Admin Support  SUCCESS &lt;span class=&quot;error&quot;&gt;&amp;#91;2.239s&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Apache Sling Deployment Package Installer ......... SUCCESS &lt;span class=&quot;error&quot;&gt;&amp;#91;1.341s&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Apache Sling Installer Integration Tests .......... FAILURE &lt;span class=&quot;error&quot;&gt;&amp;#91;1:29.908s&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Apache Sling Launchpad Installer .................. SKIPPED&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Apache Sling Launchpad Content .................... SKIPPED&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Apache Sling Launchpad Application Builder ........ SKIPPED&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Apache Sling Sample Server-Side Tests ............. SKIPPED&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Apache Sling Failing Server-Side Tests ............ SKIPPED&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Apache Sling Sample Integration Tests ............. SKIPPED&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Apache Sling Launchpad Testing Services ........... SKIPPED&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Apache Sling Launchpad Testing Services WAR ....... SKIPPED&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; org.apache.sling.launchpad.test-bundles ........... SKIPPED&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Apache Sling Launchpad Testing .................... SKIPPED&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Apache Sling (Builder) ............................ SKIPPED&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; BUILD FAILURE&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Total time: 14:17.001s&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Finished at: Sun Jul 17 09:08:05 BST 2011&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Final Memory: 91M/1486M&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.4.3:test (default-test) on project org.apache.sling.installer.it: There are test failures.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Please refer to C:\Users\Phil\workspaces\sling6\installer\it\target\surefire-reports for the individual test results.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; -&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Help 1&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; To see the full stack trace of the errors, re-run Maven with the -e switch.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Re-run Maven using the -X switch to enable full debug logging.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; For more information about the errors and possible solutions, please read the following articles:&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Help 1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; After correcting the problems, you can resume the build with the command&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt;   mvn &amp;lt;goals&amp;gt; -rf :org.apache.sling.installer.it&lt;/p&gt;


</description>
                <environment>svn: Slik SVN 1.6.17/64 bit edition (the very latest as I write this)&lt;br/&gt;
maven:  3.0.3 (64 bit)&lt;br/&gt;
</environment>
        <key id="12514352">SLING-2147</key>
            <summary>Cannot build Sling using instructions given on Sling wiki</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="phil.rice">Phil</reporter>
                        <labels>
                    </labels>
                <created>Sun, 17 Jul 2011 08:17:37 +0000</created>
                <updated>Fri, 20 Sep 2019 11:34:34 +0000</updated>
                            <resolved>Fri, 11 May 2012 21:22:04 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13066605" author="phil.rice" created="Sun, 17 Jul 2011 08:18:15 +0000"  >&lt;p&gt;One of the failing test files&lt;/p&gt;</comment>
                            <comment id="13070034" author="enorman" created="Sat, 23 Jul 2011 19:35:15 +0000"  >&lt;p&gt;I haven&apos;t seen that specific error any of my environments.&lt;/p&gt;

&lt;p&gt;Generally, the only trouble I have is that the timeouts for the integration tests are often too short for slower machines.  Sometime sling takes longer than 60 seconds to get started.&lt;/p&gt;

&lt;p&gt;I workaround that by overriding the timeout properties in my maven settings.xml like this:&lt;/p&gt;


&lt;p&gt;&amp;lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.0.0&quot;&lt;br/&gt;
  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;br/&gt;
  xsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0&lt;br/&gt;
                      &lt;a href=&quot;http://maven.apache.org/xsd/settings-1.0.0.xsd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://maven.apache.org/xsd/settings-1.0.0.xsd&lt;/a&gt;&quot;&amp;gt;&lt;br/&gt;
  &amp;lt;profiles&amp;gt;&lt;br/&gt;
    &amp;lt;profile&amp;gt;&lt;br/&gt;
      &amp;lt;id&amp;gt;slingtest&amp;lt;/id&amp;gt;&lt;br/&gt;
      &amp;lt;activation&amp;gt;&lt;br/&gt;
        &amp;lt;activeByDefault&amp;gt;true&amp;lt;/activeByDefault&amp;gt;&lt;br/&gt;
      &amp;lt;/activation&amp;gt;&lt;br/&gt;
      &amp;lt;properties&amp;gt;&lt;br/&gt;
        &amp;lt;sling.testing.timeout.multiplier&amp;gt;2.0&amp;lt;/sling.testing.timeout.multiplier&amp;gt;&lt;br/&gt;
        &amp;lt;HttpTestBase.readyTimeoutSeconds&amp;gt;120&amp;lt;/HttpTestBase.readyTimeoutSeconds&amp;gt;&lt;br/&gt;
      &amp;lt;/properties&amp;gt;&lt;br/&gt;
    &amp;lt;/profile&amp;gt;&lt;br/&gt;
  &amp;lt;/profiles&amp;gt;&lt;br/&gt;
&amp;lt;/settings&amp;gt;&lt;/p&gt;</comment>
                            <comment id="13070317" author="phil.rice.erudine@googlemail.com" created="Mon, 25 Jul 2011 05:09:09 +0000"  >&lt;p&gt;Thank you very much for looking into this: I am very uncomfortable&lt;br/&gt;
with having source code and failing tests.&lt;/p&gt;

&lt;p&gt;The changes you suggested had little impact on my main machine. I&lt;br/&gt;
increased the sling.testing.timeout.multiplier to 4 and the&lt;br/&gt;
HttpTestBase.readyTimeoutSeconds to 240. I still have test failures.&lt;br/&gt;
I&apos;ve increased them to 10 and 500 and that didn&apos;t help either. However&lt;br/&gt;
encouraged by the fact that you had no problems, I tried on my old&lt;br/&gt;
slow laptop (which had previous failed as well). Somewhat to my&lt;br/&gt;
surprise it worked on the laptop.&lt;/p&gt;

&lt;p&gt;So I think its fair to say the problem has now shifted. Firstly it was&lt;br/&gt;
because of maven issues, then slowdown and now its almost certainly a&lt;br/&gt;
configuration issue. I&apos;m going to start chasing down whether it&apos;s now&lt;br/&gt;
because I am using some ports on my main machine (for instance it has&lt;br/&gt;
apache and tomcat running while the laptop is way too old and slow for&lt;br/&gt;
that). I&apos;d appreciate any advice on ports to investigate or other&lt;br/&gt;
possible configuration issues.&lt;/p&gt;

&lt;p&gt;Once again thanks for looking into this.&lt;/p&gt;

</comment>
                            <comment id="13273630" author="cziegeler" created="Fri, 11 May 2012 21:22:04 +0000"  >&lt;p&gt;The test pass atm&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12486757" name="org.apache.sling.installer.it.BundleInstallUpgradeDowngradeTest.txt" size="3074" author="phil.rice" created="Sun, 17 Jul 2011 08:18:15 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35956</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 25 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10bjj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>210004</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2143] SlingPostServlet ImportOperation :content parameter overrides _charset_ parameter with system default encoding</title>
                <link>https://issues.apache.org/jira/browse/SLING-2143</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The ImportOperation on the SlingPostServlet (2.1.0 to Trunk) does not support encoding specified in the form &lt;em&gt;charset&lt;/em&gt; parameter on a POST request. &lt;/p&gt;

&lt;p&gt;REPRODUCTION STEPS:&lt;br/&gt;
Create a POST request using the SlingPostServlet and ImportOperation:&lt;/p&gt;

&lt;p&gt;curl -F&quot;:operation=import&quot; -F&quot;&lt;em&gt;charset&lt;/em&gt;=UTF-8&quot; -F&quot;:contentType=json&quot; -F&quot;:replace=true&quot; -F&quot;:replaceProperties=true&quot; -F&quot;:content=&lt;/p&gt;
{&apos;latin&apos;:&apos;&#248;&#181;&#229;&apos;, &apos;chinese&apos;:&apos;&#29572;&#29275;&apos;}
&lt;p&gt;&quot; &lt;a href=&quot;http://admin:admin@localhost:8080&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://admin:admin@localhost:8080&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;PROPOSED SOLUTION:&lt;/p&gt;

&lt;p&gt;In ImportOperation.java, line 137 (as of 2.1.0 tag):&lt;/p&gt;

&lt;p&gt;contentStream = new ByteArrayInputStream(content.getBytes());&lt;/p&gt;

&lt;p&gt;This line will take the :content parameter on a request, properly encoded (ex. UTF-8) and get the bytes using system-level encoding. This causes all unicode characters in the content to be encoded, on windows, with the wrong encoding. &lt;/p&gt;

&lt;p&gt;The simple fix, which resolves the issue and allows UTF-8 encoding across all operating systems:&lt;/p&gt;

&lt;p&gt;contentStream = new ByteArrayInputStream(content.getBytes(&quot;UTF-8&quot;));&lt;/p&gt;

&lt;p&gt;My proposed fix, is to support the form parameter &lt;em&gt;charset&lt;/em&gt;, since :content is a parameter on the form in the post request:&lt;/p&gt;

&lt;p&gt;RequestParameter encodingParam = request.getRequestParameter(&quot;&lt;em&gt;charset&lt;/em&gt;&quot;);&lt;br/&gt;
byte[] contentBytes;&lt;br/&gt;
if (encodingParam != null &amp;amp;&amp;amp; encodingParam.getString() != null) {&lt;br/&gt;
      contentBytes = content.getBytes(encodingParam.getString());&lt;br/&gt;
} else {&lt;br/&gt;
      contentBytes = content.getBytes();&lt;br/&gt;
}&lt;br/&gt;
contentStream = new ByteArrayInputStream(contentBytes);&lt;/p&gt;
</description>
                <environment>OS: Windows 2k8, Windows 7&lt;br/&gt;
Web Servers: Tomcat 6&lt;br/&gt;
Sling 6</environment>
        <key id="12514089">SLING-2143</key>
            <summary>SlingPostServlet ImportOperation :content parameter overrides _charset_ parameter with system default encoding</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="enorman">Eric Norman</assignee>
                                    <reporter username="ssanchez">Stephen Sanchez</reporter>
                        <labels>
                    </labels>
                <created>Thu, 14 Jul 2011 16:58:29 +0000</created>
                <updated>Fri, 20 Sep 2019 11:34:47 +0000</updated>
                            <resolved>Wed, 27 Jul 2011 05:43:20 +0000</resolved>
                                    <version>Servlets Post 2.1.0</version>
                                    <fixVersion>Servlets Post 2.1.2</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="7200">2h</timeoriginalestimate>
                            <timeestimate seconds="7200">2h</timeestimate>
                                        <comments>
                            <comment id="13071527" author="enorman" created="Wed, 27 Jul 2011 05:43:20 +0000"  >&lt;p&gt;fixed in r1150269.  Please verify when you have some free time.&lt;/p&gt;</comment>
                            <comment id="13072515" author="ssanchez" created="Thu, 28 Jul 2011 20:24:33 +0000"  >&lt;p&gt;Verified unicode characters are now properly saved through the import operation.&lt;/p&gt;

&lt;p&gt;However, I should note that based on the code changes, it appears UTF-8 encoding is forced by building Strings from the properties (Strings being by default encoded to UTF-8), instead of reading the bytes based on the &lt;em&gt;charset&lt;/em&gt; parameter. This means there would be no way to encode your POST request in any other way. &lt;/p&gt;

&lt;p&gt;I noticed this was fixed for Servlet Post 2.1.2, any chance of a back-port to 2.1.0, so Sling 6 is supported as well? &lt;/p&gt;</comment>
                            <comment id="13072683" author="enorman" created="Fri, 29 Jul 2011 05:27:35 +0000"  >&lt;p&gt;Hi Stephen,&lt;/p&gt;

&lt;p&gt;I believe that since the operation is now using the RequestParameter object to get the content, the &lt;em&gt;charset&lt;/em&gt; parameter handling should already be converting the values to the requested charset per what is documented in &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;.  Do you have a scenario where this does not work?  Can you provide a test case?&lt;/p&gt;

&lt;p&gt;1. &lt;a href=&quot;http://sling.apache.org/site/request-parameters.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sling.apache.org/site/request-parameters.html&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>66678</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 14 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i102yv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>208615</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2139] JCR Explorer fails to display data</title>
                <link>https://issues.apache.org/jira/browse/SLING-2139</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;1: Execute  curl -u admin:admin -F&quot;sling:resourceType=foo/bar&quot; -F&quot;title=some title&quot; &lt;a href=&quot;http://localhost:8080/content/mynode1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/content/mynode1&lt;/a&gt;&lt;br/&gt;
2: Use a browser and navigate to &lt;a href=&quot;http://localhost:8080/content/mynode1.json&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/content/mynode1.json&lt;/a&gt;&lt;br/&gt;
3: Observe the correct response &lt;/p&gt;
{&quot;title&quot;:&quot;some title&quot;,&quot;sling:resourceType&quot;:&quot;foo/bar&quot;,&quot;jcr:primaryType&quot;:&quot;nt:unstructured&quot;}
&lt;p&gt;4: Use the jcrexplorer and navigate to /content/mynode1&lt;br/&gt;
5: Observe that the properties title and resourceType are not displayed (see attached image)&lt;/p&gt;

&lt;p&gt;In general sometimes I get data, and sometimes I don&apos;t. On occasion if I have put a json map as the value of the string, I only get the first &quot;{&quot; displayed and no other text. &lt;br/&gt;
The route I have described is very repeatable, and I have tried it with multiple browsers, multiple times&lt;/p&gt;

</description>
                <environment>IE 9.0.1 or Chrome 12.0.742.112&lt;br/&gt;
Window 7 64 bit&lt;br/&gt;
org.apache.sling.launchpad-6-standalone.jar&lt;br/&gt;
jdk1.6.0_24 (64 bit)&lt;br/&gt;
</environment>
        <key id="12513893">SLING-2139</key>
            <summary>JCR Explorer fails to display data</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="phil.rice">Phil</reporter>
                        <labels>
                    </labels>
                <created>Wed, 13 Jul 2011 09:05:12 +0000</created>
                <updated>Wed, 20 Sep 2017 13:04:22 +0000</updated>
                            <resolved>Mon, 2 Apr 2012 12:28:40 +0000</resolved>
                                    <version>Sling Explorer 1.0.2</version>
                                    <fixVersion>Sling Explorer 1.0.4</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13064442" author="phil.rice" created="Wed, 13 Jul 2011 09:07:14 +0000"  >&lt;p&gt;Screenshot&lt;/p&gt;</comment>
                            <comment id="13243187" author="comrade" created="Sat, 31 Mar 2012 15:11:27 +0000"  >&lt;p&gt;This patch file adds a replace &apos;/&apos; with &apos;&lt;em&gt;&apos; just like it was already replacing &apos;:&apos; with &apos;&lt;/em&gt;&apos; in order to no longer break when displaying nodes with slingResourceType set to a path.&lt;/p&gt;</comment>
                            <comment id="13244149" author="bdelacretaz" created="Mon, 2 Apr 2012 12:28:41 +0000"  >&lt;p&gt;Patch applied in revision 1308317, thanks for the bug report and patch!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12520787" name="SLING-2139.diff" size="888" author="comrade" created="Sat, 31 Mar 2012 15:11:27 +0000"/>
                            <attachment id="12486282" name="SlingJcrExplorer.png" size="41644" author="phil.rice" created="Wed, 13 Jul 2011 09:07:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35958</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 31 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10ayn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>209910</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2135] Copying of resources should respect default includes</title>
                <link>https://issues.apache.org/jira/browse/SLING-2135</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Currently if configurations are located at /src/main/config the whole directory structure is copied. There are no excludes defined. This results in files like .svn copied as well.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12513689">SLING-2135</key>
            <summary>Copying of resources should respect default includes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Mon, 11 Jul 2011 15:40:50 +0000</created>
                <updated>Wed, 20 Sep 2017 12:16:01 +0000</updated>
                            <resolved>Mon, 11 Jul 2011 15:41:41 +0000</resolved>
                                    <version>Maven Launchpad Plugin 2.0.10</version>
                                    <fixVersion>Maven Launchpad Plugin 2.1.0</fixVersion>
                                    <component>Maven Plugins and Archetypes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13063401" author="cziegeler" created="Mon, 11 Jul 2011 15:41:41 +0000"  >&lt;p&gt;Fixed in revision 1145208&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>68383</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 17 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i102rj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>208582</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2133] Sling WebDAV response is not sending realm correctly</title>
                <link>https://issues.apache.org/jira/browse/SLING-2133</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Sling WebDav is sending &lt;/p&gt;

&lt;p&gt;WWW-Authenticate: Basic Realm=&quot;Sling WebDAV&quot;&lt;/p&gt;

&lt;p&gt;instead of &lt;/p&gt;

&lt;p&gt;WWW-Authenticate: Basic realm=&quot;Sling WebDAV&quot;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12513652">SLING-2133</key>
            <summary>Sling WebDAV response is not sending realm correctly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Mon, 11 Jul 2011 10:35:10 +0000</created>
                <updated>Fri, 30 Nov 2012 17:58:56 +0000</updated>
                            <resolved>Mon, 11 Jul 2011 10:39:19 +0000</resolved>
                                    <version>JCR Webdav 2.1.0</version>
                                    <fixVersion>JCR Webdav 2.1.2</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13063277" author="cziegeler" created="Mon, 11 Jul 2011 10:39:19 +0000"  >&lt;p&gt;Fixed in Revision 1145114&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>68431</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 17 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0srhb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>165929</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2132] Curl commands in &quot;Discover with sling in 15 minutes&quot; are slightly wrong</title>
                <link>https://issues.apache.org/jira/browse/SLING-2132</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Comment: I marked this as a major because this is the first thing any potential user tries when they download the project&lt;/p&gt;

&lt;p&gt;Steps to reproduce:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Install the launchpad jar in a blank directory&lt;/li&gt;
	&lt;li&gt;Execute    curl -u admin:admin -F&quot;sling:resourceType=foo/bar&quot; -F&quot;title=some title&quot; &lt;a href=&quot;http://localhost:8080/content/mynode&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/content/mynode&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;Observe the response:&lt;br/&gt;
&amp;lt;html&amp;gt;&lt;br/&gt;
  &amp;lt;head&amp;gt;&lt;br/&gt;
      &amp;lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=ISO-8859-1&quot;/&amp;gt;&lt;br/&gt;
  &amp;lt;title&amp;gt;Error 404 NOT_FOUND&amp;lt;/title&amp;gt;&lt;br/&gt;
  &amp;lt;/head&amp;gt;&lt;br/&gt;
&amp;lt;body&amp;gt;&amp;lt;h2&amp;gt;HTTP ERROR 404&amp;lt;/h2&amp;gt;&lt;br/&gt;
  &amp;lt;p&amp;gt;Problem accessing /content/mynode. Reason:&lt;br/&gt;
   &amp;lt;pre&amp;gt;    NOT_FOUND&amp;lt;/pre&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;hr /&amp;gt;&amp;lt;i&amp;gt;&amp;lt;small&amp;gt;Powered by Jetty://&amp;lt;/small&amp;gt;&amp;lt;/i&amp;gt;&amp;lt;br/&amp;gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;According to the &quot;Discover with sling in 15 minutes&quot; this should have created some content. I had to replace it with:&lt;/p&gt;

&lt;p&gt;            curl -u admin:admin -F&quot;sling:resourceType=foo/bar&quot; -F&quot;title=some title&quot; &lt;a href=&quot;http://localhost:8080/mynode&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/mynode&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;One very interesting thing about this was that when I had been using Sling for some time, the curl command worked. I had to re-install a virgin version (by running the launchpad jar in a clean directory) to recreate the defect. I tried to recreate the defect in the version I was using, and even deleted the &apos;content&apos; node, but that made no difference: in the version I had used for a while the curl command worked, and in the virgin version it didn&apos;t&lt;/p&gt;


</description>
                <environment>* Intel Core2 Q8300 @2,5GHz&lt;br/&gt;
* Windows 7 Home Premium (64 bit)  with all the latest updates for 11/7/2011&lt;br/&gt;
* jdk1.6.0_24&lt;br/&gt;
* org.apache.sling.launchpad-6-standalone.jar</environment>
        <key id="12513484">SLING-2132</key>
            <summary>Curl commands in &quot;Discover with sling in 15 minutes&quot; are slightly wrong</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="olli">Oliver Lietz</assignee>
                                    <reporter username="phil.rice">Phil</reporter>
                        <labels>
                    </labels>
                <created>Mon, 11 Jul 2011 05:36:17 +0000</created>
                <updated>Wed, 9 Jul 2014 09:32:26 +0000</updated>
                            <resolved>Wed, 9 Jul 2014 09:32:26 +0000</resolved>
                                                                    <component>Site</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14056032" author="olli" created="Wed, 9 Jul 2014 09:32:16 +0000"  >&lt;p&gt;Cannot reproduce with 6 and 7-SNAPSHOT. If the cause is a missing intermediate node (&lt;tt&gt;content&lt;/tt&gt;), create it with &lt;tt&gt;curl -X MKCOL -u admin:admin &lt;a href=&quot;http://localhost:8080/content&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/content&lt;/a&gt;&lt;/tt&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35960</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 17 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i031ef:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>15660</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2130] Workspace prefix should only be set if use multiple workspaces is activated</title>
                <link>https://issues.apache.org/jira/browse/SLING-2130</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The workspace prefix should never be set if multiple workspace support is turned off&lt;/p&gt;</description>
                <environment></environment>
        <key id="12513238">SLING-2130</key>
            <summary>Workspace prefix should only be set if use multiple workspaces is activated</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Fri, 8 Jul 2011 09:20:14 +0000</created>
                <updated>Fri, 18 May 2012 07:45:49 +0000</updated>
                            <resolved>Fri, 8 Jul 2011 09:21:30 +0000</resolved>
                                    <version>JCR Resource 2.0.10</version>
                                    <fixVersion>JCR Resource 2.1.0</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13061862" author="cziegeler" created="Fri, 8 Jul 2011 09:21:31 +0000"  >&lt;p&gt;Fixed in revision 1144205&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>68762</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 17 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10ngn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>211935</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2127] Build fails (cyclic dependency) with Maven 2.2.1</title>
                <link>https://issues.apache.org/jira/browse/SLING-2127</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Running Maven 2.2.1 at the top of the revision 1143359 tree fails with&lt;/p&gt;

&lt;p&gt;The projects in the reactor contain a cyclic reference: Edge between &apos;Vertex&lt;/p&gt;
{label=&apos;org.apache.sling:org.apache.sling.commons.testing&apos;}
&lt;p&gt;&apos; and &apos;Vertex&lt;/p&gt;
{label=&apos;org.apache.sling:org.apache.sling.api&apos;}
&lt;p&gt;&apos; introduces to cycle in the graph org.apache.sling:org.apache.sling.api --&amp;gt; org.apache.sling:org.apache.sling.commons.testing --&amp;gt; org.apache.sling:org.apache.sling.api&lt;/p&gt;

&lt;p&gt;But we don&apos;t really have a cycle, if we take the version numbers into account.&lt;/p&gt;

&lt;p&gt;org.apache.sling.commons.testing : 2.0.9-SNAPSHOT depends on&lt;br/&gt;
org.apache.sling:org.apache.sling.api:jar:2.1.0:compile&lt;/p&gt;

&lt;p&gt;org.apache.sling.api 2.2.1-SNAPSHOT depends on&lt;br/&gt;
org.apache.sling:org.apache.sling.commons.testing:jar:2.0.6:test&lt;/p&gt;

&lt;p&gt;We need to either remove the (perceived) cycle to work around what looks like a Maven bug, or require Maven 3. &lt;/p&gt;

&lt;p&gt;Build works fine for me with 3.0.2.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12512971">SLING-2127</key>
            <summary>Build fails (cyclic dependency) with Maven 2.2.1</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Wed, 6 Jul 2011 12:04:47 +0000</created>
                <updated>Wed, 20 Sep 2017 12:10:48 +0000</updated>
                            <resolved>Thu, 7 Jul 2011 14:16:59 +0000</resolved>
                                    <version>Parent 10</version>
                                    <fixVersion>Parent 11</fixVersion>
                                    <component>General</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13061333" author="bdelacretaz" created="Thu, 7 Jul 2011 14:16:59 +0000"  >&lt;p&gt;As discussed on list, I have changed the parent pom in revision 1143836 to require Maven 3.0.2.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>68834</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 17 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i102qn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>208578</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2125] Jcr Resource mappings are not all applied when a certain number of mapping entries is created</title>
                <link>https://issues.apache.org/jira/browse/SLING-2125</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Add 13 URL Mappings to &quot;resource.resolver.mapping&quot; property of the Jcr Resource Resolver.&lt;/p&gt;

&lt;p&gt;Not every mapping is applied. &lt;br/&gt;
-&amp;gt; In class org.apache.sling.jcr.resource.internal.JcrResourceResolver line 415, the list &quot;this.factory.getMapEntries().getResolveMaps()&quot; is not correctly sorted anymore. &lt;/p&gt;

&lt;p&gt;The entry &quot;MapEntry: match:^&lt;span class=&quot;error&quot;&gt;&amp;#91;^/&amp;#93;&lt;/span&gt;&lt;ins&gt;/&lt;span class=&quot;error&quot;&gt;&amp;#91;^/&amp;#93;&lt;/span&gt;&lt;/ins&gt;/, replacement:/, internal, &quot; is not at the end, end every entries below this one is not processed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12512718">SLING-2125</key>
            <summary>Jcr Resource mappings are not all applied when a certain number of mapping entries is created</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="gschneck">Geoffroy Schneck</reporter>
                        <labels>
                    </labels>
                <created>Mon, 4 Jul 2011 13:31:04 +0000</created>
                <updated>Fri, 18 May 2012 07:47:01 +0000</updated>
                            <resolved>Mon, 4 Jul 2011 14:00:34 +0000</resolved>
                                    <version>JCR Resource 2.0.10</version>
                                    <fixVersion>JCR Resource 2.1.0</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13059444" author="cziegeler" created="Mon, 4 Jul 2011 14:00:34 +0000"  >&lt;p&gt;Sorting the list with revision 1142669&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>46452</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 18 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10nfj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>211930</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2123] ContentLoader should not use an URL as a key in Map</title>
                <link>https://issues.apache.org/jira/browse/SLING-2123</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The JCR Content Loader&apos;s Loader class uses a HashMap&amp;lt;URL, String&amp;gt; to cache imported content. Using an URL as a key in a Map is problematic due to the URL class&apos; implementation of the hashCode method.&lt;/p&gt;

&lt;p&gt;A customer of ours reported the following thread dump illustrating the issue:&lt;/p&gt;

&lt;p&gt;    java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method)&lt;br/&gt;
    java.net.InetAddress$1.lookupAllHostAddr(InetAddress.java:867)&lt;br/&gt;
    java.net.InetAddress.getAddressFromNameService(InetAddress.java:1246)&lt;br/&gt;
    java.net.InetAddress.getAllByName0(InetAddress.java:1197)&lt;br/&gt;
    java.net.InetAddress.getAllByName(InetAddress.java:1128)&lt;br/&gt;
    java.net.InetAddress.getAllByName(InetAddress.java:1064)&lt;br/&gt;
    java.net.InetAddress.getByName(InetAddress.java:1014)&lt;br/&gt;
    java.net.URLStreamHandler.getHostAddress(URLStreamHandler.java:437)&lt;br/&gt;
    java.net.URLStreamHandler.hashCode(URLStreamHandler.java:354)&lt;br/&gt;
    java.net.URL.hashCode(URL.java:875)&lt;br/&gt;
    java.util.HashMap.getEntry(HashMap.java:361)&lt;br/&gt;
    java.util.HashMap.containsKey(HashMap.java:352)&lt;br/&gt;
    org.apache.sling.jcr.contentloader.internal.Loader.installFromPath(Loader.java:398)&lt;/p&gt;

&lt;p&gt;We should probably use URL.toString as the map key.&lt;/p&gt;

&lt;p&gt;See also &lt;a href=&quot;http://www.eishay.com/2008/04/javas-url-little-secret.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.eishay.com/2008/04/javas-url-little-secret.html&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12512699">SLING-2123</key>
            <summary>ContentLoader should not use an URL as a key in Map</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Mon, 4 Jul 2011 07:56:27 +0000</created>
                <updated>Tue, 31 Jan 2012 10:57:42 +0000</updated>
                            <resolved>Tue, 5 Jul 2011 13:28:10 +0000</resolved>
                                    <version>JCR ContentLoader 2.1.2</version>
                                    <fixVersion>JCR ContentLoader 2.1.4</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13059354" author="asanso" created="Mon, 4 Jul 2011 08:21:42 +0000"  >&lt;p&gt;+1 &lt;br/&gt;
another alternative to the URL.toString is to use java.net.URI. &lt;br/&gt;
See also &lt;a href=&quot;http://michaelscharf.blogspot.com/2006/11/javaneturlequals-and-hashcode-make.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://michaelscharf.blogspot.com/2006/11/javaneturlequals-and-hashcode-make.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13059878" author="fmeschbe" created="Tue, 5 Jul 2011 12:54:59 +0000"  >&lt;p&gt;@Antonio: Yes, would be an option; but not needed here. toString is just enough&lt;/p&gt;

&lt;p&gt;Changed Map&amp;lt;URL,...&amp;gt; to Map&amp;lt;String,...&amp;gt; in Rev. 1143034&lt;/p&gt;</comment>
                            <comment id="13059897" author="fmeschbe" created="Tue, 5 Jul 2011 13:28:10 +0000"  >&lt;p&gt;Fixed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>69130</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 18 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1eegf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>292271</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2122] SynchronousBundleListener might be called concurrently</title>
                <link>https://issues.apache.org/jira/browse/SLING-2122</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The bundle listener in the Activator class is currently not correctly guarded against concurrent bundle events arriving.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12512696">SLING-2122</key>
            <summary>SynchronousBundleListener might be called concurrently</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Mon, 4 Jul 2011 07:02:28 +0000</created>
                <updated>Tue, 31 Jan 2012 11:00:56 +0000</updated>
                            <resolved>Mon, 4 Jul 2011 07:04:13 +0000</resolved>
                                    <version>Commons ClassLoader 1.2.2</version>
                                    <fixVersion>Commons ClassLoader 1.2.4</fixVersion>
                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13059342" author="cziegeler" created="Mon, 4 Jul 2011 07:04:13 +0000"  >&lt;p&gt;Fixed in revision 1142570&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>69328</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 18 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10nen:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>211926</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2114] Content Loader is not thread safe</title>
                <link>https://issues.apache.org/jira/browse/SLING-2114</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;After deploying to a new quad-core system, we encountered a node loaded by one bundle which contained file contents from a different bundle and different path. After re-deployment, several bundles&apos; content were missing altogether. The log contained messages like:&lt;/p&gt;

&lt;p&gt;27.06.2011 13:10:18.387 &lt;b&gt;ERROR&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;FelixStartLevel&amp;#93;&lt;/span&gt; org.apache.sling.jcr.contentloader.internal.ContentLoaderService bundleChanged: Problem loading initial content of bundle org.sakaiproject.nakamura.org.sakaiproject.nakamura.uxloader-myberkeley (8) java.util.EmptyStackException&lt;br/&gt;
	at java.util.Stack.peek(Stack.java:102)&lt;br/&gt;
	at java.util.Stack.pop(Stack.java:84)&lt;br/&gt;
	at org.apache.sling.jcr.contentloader.internal.DefaultContentCreator.finishNode(DefaultContentCreator.java:470)&lt;br/&gt;
	at org.apache.sling.jcr.contentloader.internal.Loader.createFile(Loader.java:603)&lt;br/&gt;
	at org.apache.sling.jcr.contentloader.internal.Loader.handleFile(Loader.java:483)&lt;br/&gt;
	at org.apache.sling.jcr.contentloader.internal.Loader.installFromPath(Loader.java:425)&lt;br/&gt;
	at org.apache.sling.jcr.contentloader.internal.Loader.installFromPath(Loader.java:420)&lt;br/&gt;
	at org.apache.sling.jcr.contentloader.internal.Loader.installContent(Loader.java:279)&lt;br/&gt;
	at org.apache.sling.jcr.contentloader.internal.Loader.registerBundleInternal(Loader.java:172)&lt;br/&gt;
	at org.apache.sling.jcr.contentloader.internal.Loader.registerBundle(Loader.java:103)&lt;br/&gt;
	at org.apache.sling.jcr.contentloader.internal.ContentLoaderService.bundleChanged(ContentLoaderService.java:148)&lt;/p&gt;

&lt;p&gt;and&lt;/p&gt;

&lt;p&gt;27.06.2011 10:42:22.986 &lt;b&gt;ERROR&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;FelixDispatchQueue&amp;#93;&lt;/span&gt; org.apache.sling.jcr.contentloader.internal.Loader Cannot load initial content for bundle org.sakaiproject.nakamura.user : Single-valued property can not be set to an array of values:property /var/notifications/search/sakai:propertyprovider javax.jcr.ValueFormatException: Single-valued property can not be set to an array of values:property /var/notifications/search/sakai:propertyprovider&lt;br/&gt;
	at org.apache.jackrabbit.core.PropertyImpl.checkSetValue(PropertyImpl.java:230)&lt;br/&gt;
	at org.apache.jackrabbit.core.PropertyImpl.setValue(PropertyImpl.java:690)&lt;br/&gt;
	at org.apache.jackrabbit.core.NodeImpl.setProperty(NodeImpl.java:2413)&lt;br/&gt;
	at org.apache.jackrabbit.core.NodeImpl.setProperty(NodeImpl.java:1555)&lt;br/&gt;
	at org.apache.jackrabbit.core.NodeImpl.setProperty(NodeImpl.java:2134)&lt;br/&gt;
	at org.apache.jackrabbit.core.NodeImpl.setProperty(NodeImpl.java:2156)&lt;br/&gt;
	at org.apache.sling.jcr.contentloader.internal.DefaultContentCreator.createProperty(DefaultContentCreator.java:416)&lt;br/&gt;
	at org.apache.sling.jcr.contentloader.internal.readers.JsonReader.createProperty(JsonReader.java:218)&lt;br/&gt;
	at org.apache.sling.jcr.contentloader.internal.readers.JsonReader.createNode(JsonReader.java:199)&lt;br/&gt;
	at org.apache.sling.jcr.contentloader.internal.readers.JsonReader.parse(JsonReader.java:159)&lt;br/&gt;
	at org.apache.sling.jcr.contentloader.internal.readers.JsonReader.parse(JsonReader.java:140)&lt;br/&gt;
	at org.apache.sling.jcr.contentloader.internal.Loader.createNode(Loader.java:543)&lt;br/&gt;
	at org.apache.sling.jcr.contentloader.internal.Loader.handleFile(Loader.java:470)&lt;br/&gt;
	at org.apache.sling.jcr.contentloader.internal.Loader.installFromPath(Loader.java:425)&lt;br/&gt;
	at org.apache.sling.jcr.contentloader.internal.Loader.installFromPath(Loader.java:420)&lt;br/&gt;
	at org.apache.sling.jcr.contentloader.internal.Loader.installFromPath(Loader.java:420)&lt;br/&gt;
	at org.apache.sling.jcr.contentloader.internal.Loader.installContent(Loader.java:279)&lt;br/&gt;
	at org.apache.sling.jcr.contentloader.internal.Loader.registerBundleInternal(Loader.java:172)&lt;br/&gt;
	at org.apache.sling.jcr.contentloader.internal.Loader.registerBundle(Loader.java:103)&lt;br/&gt;
	at org.apache.sling.jcr.contentloader.internal.ContentLoaderService.activate(ContentLoaderService.java:268)&lt;/p&gt;

&lt;p&gt;The DefaultContentCreator object is written to be used by a single thread. However, the Loader class stores it as an instance variable, and in turn the ContentLoaderService stores the Loader as an instance variable. Apparently the coder assumed that a SynchronousBundleListener is effectively single-threaded. That assumption is wrong:&lt;/p&gt;

&lt;p&gt;&apos;Synchronous listeners get called &quot;synchronously&quot; on the same thread which caused the event to occur. If two threads are performing actions which cause bundle events to occur then synchronous listeners will be called (potentially at the same &quot;time&quot;) from the different threads which are causing the events to occur. Bottom line, synchronous bundle listeners must be thread safe.&apos;&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;a href=&quot;http://www.eclipse.org/forums/index.php?&amp;amp;t=msg&amp;amp;th=39802&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.eclipse.org/forums/index.php?&amp;amp;t=msg&amp;amp;th=39802&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12512009">SLING-2114</key>
            <summary>Content Loader is not thread safe</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="raydavis">Ray Davis</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 Jun 2011 15:38:33 +0000</created>
                <updated>Tue, 31 Jan 2012 10:57:42 +0000</updated>
                            <resolved>Mon, 4 Jul 2011 06:28:02 +0000</resolved>
                                    <version>JCR ContentLoader 2.1.2</version>
                                    <fixVersion>JCR ContentLoader 2.1.4</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13056587" author="raydavis" created="Tue, 28 Jun 2011 15:38:49 +0000"  >&lt;p&gt;I got a working deployment by declaring Loader installContent() &quot;synchronized&quot;. But it might be better to drop the instance variable and create a DefaultContentCreator when needed.&lt;/p&gt;</comment>
                            <comment id="13057088" author="cziegeler" created="Wed, 29 Jun 2011 08:45:56 +0000"  >&lt;p&gt;Potential fix&lt;/p&gt;</comment>
                            <comment id="13057089" author="cziegeler" created="Wed, 29 Jun 2011 08:47:05 +0000"  >&lt;p&gt;Yes, you&apos;re right - mislead by the name &quot;synchronized&quot; we assumed that the listener is not called concurrently.&lt;br/&gt;
If applied a potential fix which creates the instance on demand and also synchronizes the set in the bundle listener.&lt;/p&gt;

&lt;p&gt;Can you please give this a try?&lt;/p&gt;</comment>
                            <comment id="13057389" author="raydavis" created="Wed, 29 Jun 2011 18:39:24 +0000"  >&lt;p&gt;Thanks, Carsten. I may not have access to the quad-core for a day or two, but when I do I&apos;ll let you know how it went.&lt;/p&gt;</comment>
                            <comment id="13058594" author="raydavis" created="Fri, 1 Jul 2011 15:12:53 +0000"  >&lt;p&gt;No errors reported on this end, Carsten. Thank you again for the fix.&lt;/p&gt;</comment>
                            <comment id="13059331" author="cziegeler" created="Mon, 4 Jul 2011 06:28:02 +0000"  >&lt;p&gt;Thanks for testing, Ray!&lt;/p&gt;

&lt;p&gt;I&apos;ve committed the fix in revision 1142562.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12484608" name="java.patch" size="15559" author="cziegeler" created="Wed, 29 Jun 2011 08:45:56 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>69329</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 18 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10jtz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>211347</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2113] Non admin members of the group GroupAdmin can not add members to the group UserAdmin</title>
                <link>https://issues.apache.org/jira/browse/SLING-2113</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;A member of the GroupAdmin group should be able to add members to all groups. That works fine except for the UserAdmin group. &lt;br/&gt;
There the addition fails if the user is not at the same time the admin user. &lt;br/&gt;
Jackrabbit is denying the rights for the property right. &lt;/p&gt;

&lt;p&gt;27.06.2011 14:45:48.874 &lt;b&gt;ERROR&lt;/b&gt; [127.0.0.1 &lt;span class=&quot;error&quot;&gt;&amp;#91;1309178743836&amp;#93;&lt;/span&gt; POST /system/userManager/group/UserAdmin.update.json HTTP/1.1] org.apache.sling.jackrabbit.usermanager.impl.post.UpdateGroupServlet Failed to update group. javax.jcr.AccessDeniedException: Permission denied.&lt;br/&gt;
        at org.apache.jackrabbit.core.ProtectedItemModifier.checkPermission(ProtectedItemModifier.java:175)&lt;br/&gt;
        at org.apache.jackrabbit.core.ProtectedItemModifier.setProperty(ProtectedItemModifier.java:126)&lt;br/&gt;
        at org.apache.jackrabbit.core.security.user.UserManagerImpl.setProtectedProperty(UserManagerImpl.java:696)&lt;br/&gt;
        at org.apache.jackrabbit.core.security.user.GroupImpl$PropertyBasedMembershipProvider.addMember(GroupImpl.java:392)&lt;br/&gt;
        at org.apache.jackrabbit.core.security.user.GroupImpl.addMember(GroupImpl.java:172)&lt;br/&gt;
        at org.apache.sling.jackrabbit.usermanager.impl.post.AbstractGroupPostServlet.updateGroupMembership(AbstractGroupPostServlet.java:88)&lt;br/&gt;
        at org.apache.sling.jackrabbit.usermanager.impl.post.UpdateGroupServlet.updateGroup(UpdateGroupServlet.java:149)&lt;br/&gt;
        at org.apache.sling.jackrabbit.usermanager.impl.post.UpdateGroupServlet.handleOperation(UpdateGroupServlet.java:107)&lt;br/&gt;
        at org.apache.sling.jackrabbit.usermanager.impl.post.AbstractPostServlet.doPost(AbstractPostServlet.java:88)&lt;br/&gt;
        at org.apache.sling.api.servlets.SlingAllMethodsServlet.mayService(SlingAllMethodsServlet.java:148)&lt;br/&gt;
        at org.apache.sling.api.servlets.SlingSafeMethodsServlet.service(SlingSafeMethodsServlet.java:344)&lt;br/&gt;
        at org.apache.sling.api.servlets.SlingSafeMethodsServlet.service(SlingSafeMethodsServlet.java:375)&lt;br/&gt;
        at org.apache.sling.engine.impl.request.RequestData.service(RequestData.java:491)&lt;br/&gt;
        at org.apache.sling.engine.impl.SlingRequestProcessorImpl.processComponent(SlingRequestProcessorImpl.java:273)&lt;br/&gt;
        at org.apache.sling.engine.impl.filter.RequestSlingFilterChain.render(RequestSlingFilterChain.java:49)&lt;br/&gt;
        at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:64)&lt;br/&gt;
        at org.apache.sling.engine.impl.debug.RequestProgressTrackerLogFilter.doFilter(RequestProgressTrackerLogFilter.java:59)&lt;br/&gt;
        at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:60)&lt;br/&gt;
        at org.apache.sling.engine.impl.SlingRequestProcessorImpl.processRequest(SlingRequestProcessorImpl.java:163)&lt;br/&gt;
        at org.apache.sling.engine.impl.SlingMainServlet.service(SlingMainServlet.java:187)&lt;br/&gt;
        at org.apache.felix.http.base.internal.handler.ServletHandler.doHandle(ServletHandler.java:96)&lt;br/&gt;
        at org.apache.felix.http.base.internal.handler.ServletHandler.handle(ServletHandler.java:79)&lt;br/&gt;
        at org.apache.felix.http.base.internal.dispatch.ServletPipeline.handle(ServletPipeline.java:42)&lt;br/&gt;
        at org.apache.felix.http.base.internal.dispatch.InvocationFilterChain.doFilter(InvocationFilterChain.java:49)&lt;br/&gt;
        at org.apache.felix.http.base.internal.dispatch.HttpFilterChain.doFilter(HttpFilterChain.java:33)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12511648">SLING-2113</key>
            <summary>Non admin members of the group GroupAdmin can not add members to the group UserAdmin</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jocsch">Markus Joschko</reporter>
                        <labels>
                    </labels>
                <created>Mon, 27 Jun 2011 13:18:06 +0000</created>
                <updated>Fri, 20 Sep 2019 11:34:39 +0000</updated>
                            <resolved>Fri, 1 Jul 2011 17:58:59 +0000</resolved>
                                    <version>JCR Jackrabbit User Manager 2.1.0</version>
                                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13058220" author="enorman" created="Fri, 1 Jul 2011 05:27:01 +0000"  >&lt;p&gt;It doesn&apos;t seem like it would be appropriate to allow all the GroupAdmin members permission to add themselves as members of the UserAdmin group.  &lt;/p&gt;

&lt;p&gt;From my reading of the jackrabbit code, the behavior from the description looks like the expected behavior.&lt;/p&gt;

&lt;p&gt;See:&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc/jackrabbit/tags/2.2.5/jackrabbit-core/src/main/java/org/apache/jackrabbit/core/security/user/UserAccessControlProvider.java?view=markup&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc/jackrabbit/tags/2.2.5/jackrabbit-core/src/main/java/org/apache/jackrabbit/core/security/user/UserAccessControlProvider.java?view=markup&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Specifically, the following comment:&lt;/p&gt;

&lt;p&gt;460	                /*&lt;br/&gt;
461	                below group-tree:&lt;br/&gt;
462	                - test if the user is group-administrator.&lt;br/&gt;
463	                - make sure group-admin cannot modify user-admin or administrators&lt;br/&gt;
464	                - ... and cannot remove itself.&lt;br/&gt;
465	                */&lt;/p&gt;</comment>
                            <comment id="13058245" author="jocsch" created="Fri, 1 Jul 2011 07:57:35 +0000"  >&lt;p&gt;Now that I think about it i&apos;s probably really a security thread if everybody who can admin groups can also potentially create users and add them to groups.&lt;br/&gt;
However I am looking for a way to allow delegated user administration. In my app the admin account is only used for technical administration (configuration, bundle updates etc) and all admininistrators of the application are normal users in the groups administrators, groupadmin, useradmin. They should be able to &quot;self organize&quot; -&amp;gt; add other users to the useradmin group. &lt;br/&gt;
Would it make sense to at least allow users from the administrators group to add users to the useradmin group? &lt;br/&gt;
 guess there is nothing that can be done on the SLING side as this is jackrabbit functionality. I always wanted to try out how hard it is to overwrite the ACPs.&lt;/p&gt;</comment>
                            <comment id="13058675" author="enorman" created="Fri, 1 Jul 2011 17:57:29 +0000"  >&lt;p&gt;Hi Markus, &lt;/p&gt;

&lt;p&gt;I agree that it would be useful to allow the members of the administrators group permission to update the members of the useradmin group.  It looks like it would be a pretty simple change to allow that.  Can you open an issue against the jackrabbit project?&lt;/p&gt;

</comment>
                            <comment id="13058677" author="enorman" created="Fri, 1 Jul 2011 17:58:59 +0000"  >&lt;p&gt;This would be best addressed in the jackrabbit code.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>69453</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 18 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10hdr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>210950</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2111] JcrResourceBundle is not compatible with RFC 3066</title>
                <link>https://issues.apache.org/jira/browse/SLING-2111</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When loading messages from JCR repo, JcrResourceBundle use java.util.Locale.toString() to find the coresponding jcr:language JCR property.&lt;br/&gt;
jcr:language uses RFC 3066 (e.g. en-US) while Java Locale use en_US.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12511616">SLING-2111</key>
            <summary>JcrResourceBundle is not compatible with RFC 3066</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="justinedelson">Justin Edelson</assignee>
                                    <reporter username="christanto">Christanto</reporter>
                        <labels>
                    </labels>
                <created>Mon, 27 Jun 2011 08:50:09 +0000</created>
                <updated>Wed, 20 Sep 2017 12:21:24 +0000</updated>
                            <resolved>Thu, 30 Jun 2011 00:18:32 +0000</resolved>
                                    <version>I18n 2.0.4</version>
                                    <fixVersion>I18n 2.1.2</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13057561" author="justinedelson" created="Thu, 30 Jun 2011 00:14:13 +0000"  >&lt;p&gt;actually, it looks like JCR 283 references RFC 4646, which obsoletes RFC 3066. See &lt;a href=&quot;http://s.apache.org/vG&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://s.apache.org/vG&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13057563" author="justinedelson" created="Thu, 30 Jun 2011 00:18:33 +0000"  >&lt;p&gt;in r1141340, generating an RFC 4646 representation of the Locale. If this is not equal to the normal String representation of the Locale, an or is used in the query, ie. (@jcr:language = &apos;en_US&apos; or @jcr:language = &apos;en-US&apos;)&lt;/p&gt;

&lt;p&gt;This is necessary for backwards compatibility on the off chance someone was depending on the old behavior.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>69667</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 19 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10ct3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>210209</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2108] PostServlet :import operation does not take autoCheckout into account</title>
                <link>https://issues.apache.org/jira/browse/SLING-2108</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;To reproduce:&lt;/p&gt;

&lt;p&gt;curl -u admin:admin -F&quot;:operation=import&quot; -F&quot;:contentType=json&quot; -F&quot;:content={&apos;person1&apos;:{&apos;jcr:primaryType&apos;:&apos;nt:unstructured&apos;,&apos;jcr:mixinTypes&apos;:&lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;#39;mix:versionable&amp;#39;&amp;#93;&lt;/span&gt;, &apos;surname&apos;:&apos;aaa&apos;}}&quot; -F&quot;:replaceProperties=true&quot; -F&quot;:checkin=true&quot; -F&quot;:autoCheckout=true&quot; &lt;a href=&quot;http://localhost:8080/content/people&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/content/people&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;curl -u admin:admin -F&quot;:operation=import&quot; -F&quot;:contentType=json&quot; -F&quot;:content={&apos;person1&apos;:{&apos;jcr:primaryType&apos;:&apos;nt:unstructured&apos;,&apos;jcr:mixinTypes&apos;:&lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;#39;mix:versionable&amp;#39;&amp;#93;&lt;/span&gt;, &apos;surname&apos;:&apos;bbb&apos;}}&quot; -F&quot;:replaceProperties=true&quot; -F&quot;:checkin=true&quot; -F&quot;:autoCheckout=true&quot; &lt;a href=&quot;http://localhost:8080/content/people&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/content/people&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Second request gives &quot;javax.jcr.version.VersionException: Unable to perform operation. Node is checked-in&quot;&lt;/p&gt;

&lt;p&gt;Workaround is to use this in between those requests:&lt;/p&gt;

&lt;p&gt;curl -u admin:admin -F&quot;:operation=checkout&quot; &lt;a href=&quot;http://localhost:4502/content/people/person1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:4502/content/people/person1&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12511352">SLING-2108</key>
            <summary>PostServlet :import operation does not take autoCheckout into account</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="enorman">Eric Norman</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                            <label>import</label>
                            <label>post,</label>
                    </labels>
                <created>Thu, 23 Jun 2011 12:43:57 +0000</created>
                <updated>Fri, 20 Sep 2019 11:34:35 +0000</updated>
                            <resolved>Sat, 26 Nov 2011 21:59:40 +0000</resolved>
                                    <version>Servlets Post 2.1.0</version>
                                    <fixVersion>Servlets Post 2.1.2</fixVersion>
                    <fixVersion>JCR ContentLoader 2.1.4</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13157616" author="enorman" created="Sat, 26 Nov 2011 21:59:40 +0000"  >&lt;p&gt;fixed in revision 1206611&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35962</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 49 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1eegv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>292273</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2107] Harden the I18NFilter implementation for getLocale() and getLocales() methods</title>
                <link>https://issues.apache.org/jira/browse/SLING-2107</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;As per Toby&apos;s comment &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; to &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-1905&quot; title=&quot;Custom LocaleResolver cannot fall back to using the locale from the request&amp;#39;s Accept-Language header&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-1905&quot;&gt;&lt;del&gt;SLING-1905&lt;/del&gt;&lt;/a&gt; we should harden the I18NFilter implementations:&lt;/p&gt;

&lt;p&gt;(1) We don&apos;t specify whether LocaleResolver.resolveLocale may return null or an empty list.&lt;br/&gt;
     ==&amp;gt; we should specifiy this; IMHO allow null or empty list but defining what the consequence would be&lt;/p&gt;

&lt;p&gt;(2) I18NSlingHttpServletRequest.getLocaleList() does not check the result of resolveLocale (which may be empty or null)&lt;br/&gt;
     ==&amp;gt; check the result of resolveLocale. If empty or null use singleton list with the ResourceBundleProvider.getDefaultLocale()&lt;/p&gt;

&lt;p&gt;(3) I18NSlingHttpServletRequest.getLocale() only checks for the empty list but may throw NPE if the list is null&lt;br/&gt;
     ==&amp;gt; No need for check since getLocaleList() always returns non-empty list&lt;/p&gt;

&lt;p&gt;(4) I18NSlingHttpServletRequest.getLocales() may in fact return an empty list or even throw NPE if the list is null&lt;br/&gt;
     ==&amp;gt; No need for check since getLocaleList() always returns non-empty list&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-1905?focusedCommentId=13052839&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13052839&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SLING-1905?focusedCommentId=13052839&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13052839&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12511202">SLING-2107</key>
            <summary>Harden the I18NFilter implementation for getLocale() and getLocales() methods</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Wed, 22 Jun 2011 06:26:16 +0000</created>
                <updated>Wed, 20 Sep 2017 12:20:53 +0000</updated>
                            <resolved>Wed, 22 Jun 2011 06:37:00 +0000</resolved>
                                    <version>I18n 2.0.4</version>
                                    <fixVersion>I18n 2.1.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13053070" author="fmeschbe" created="Wed, 22 Jun 2011 06:37:00 +0000"  >&lt;p&gt;Fixed in Rev. 1138316.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>70647</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 20 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i102cn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>208515</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2104] UnsupportedOperationException in DefaultPortletPreferencesService.store</title>
                <link>https://issues.apache.org/jira/browse/SLING-2104</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Step to reproduce:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;go in the edit mode of a portlet&lt;/li&gt;
	&lt;li&gt;remove one preference&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;==&amp;gt; result in this stacktrace&lt;br/&gt;
Caused by: java.lang.UnsupportedOperationException: remove&lt;br/&gt;
	at org.apache.jackrabbit.core.LazyItemIterator.remove(LazyItemIterator.java:267)&lt;br/&gt;
	at org.apache.sling.portal.container.internal.services.DefaultPortletPreferencesService.store(DefaultPortletPreferencesService.java:242)&lt;br/&gt;
	at org.apache.pluto.container.impl.PortletPreferencesImpl.internalStore(PortletPreferencesImpl.java:278)&lt;br/&gt;
	at org.apache.pluto.container.impl.PortletPreferencesImpl.store(PortletPreferencesImpl.java:249)&lt;/p&gt;

&lt;p&gt;The problem is the #PropertyIterator.remove call that will call the remove of on of the implementation of PropertyIterator that is &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; in tihs case. From the API of &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;:&lt;/p&gt;

&lt;p&gt;public void remove()&lt;/p&gt;

&lt;p&gt;    Specified by:&lt;br/&gt;
        remove in interface Iterator&lt;/p&gt;

&lt;p&gt;    Throws:&lt;br/&gt;
        UnsupportedOperationException - always since removal is not implemented.&lt;/p&gt;


&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://jackrabbit.apache.org/api/1.4/org/apache/jackrabbit/jcr2spi/LazyItemIterator.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jackrabbit.apache.org/api/1.4/org/apache/jackrabbit/jcr2spi/LazyItemIterator.html&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12510539">SLING-2104</key>
            <summary>UnsupportedOperationException in DefaultPortletPreferencesService.store</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="asanso">Antonio Sanso</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 Jun 2011 07:57:08 +0000</created>
                <updated>Mon, 27 Jun 2011 10:59:10 +0000</updated>
                            <resolved>Mon, 27 Jun 2011 10:59:10 +0000</resolved>
                                                                    <component>General</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13050270" author="asanso" created="Thu, 16 Jun 2011 07:59:11 +0000"  >&lt;p&gt;attaching simple patch that uses #Property.remove rather than #PropertyIterator.remove&lt;/p&gt;</comment>
                            <comment id="13050280" author="asanso" created="Thu, 16 Jun 2011 08:15:52 +0000"  >&lt;p&gt;I just realized I have pasted the wrong API link. Apologies this should be the right one:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://jackrabbit.apache.org/api/2.0/org/apache/jackrabbit/core/LazyItemIterator.html#remove%28%29&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jackrabbit.apache.org/api/2.0/org/apache/jackrabbit/core/LazyItemIterator.html#remove%28%29&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13055460" author="cziegeler" created="Mon, 27 Jun 2011 10:59:10 +0000"  >&lt;p&gt;Thanks for your patch, Antonio - I&apos;ve applied it in revision 1140101&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12482759" name="SLING-2104.patch" size="799" author="asanso" created="Thu, 16 Jun 2011 07:59:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>69907</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 19 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i102dj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>208519</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2103] Felix OSGI System Bundle is not providing WS Addressing</title>
                <link>https://issues.apache.org/jira/browse/SLING-2103</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;this is a follow-up of &lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-2073&quot; title=&quot;The System Bundle is not providing WS Addressing&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-2073&quot;&gt;&lt;del&gt;FELIX-2073&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
the system bundle in felix does not export the package javax.xml.ws.wsaddressing, which is part of JDK 1.6.&lt;br/&gt;
it has to be added to jre-1.6.properties as well (see attached patch).&lt;/p&gt;

&lt;p&gt;p.s. this was already discussed on the sling mailing list &lt;a href=&quot;http://www.mail-archive.com/dev@sling.apache.org/msg03813.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.mail-archive.com/dev@sling.apache.org/msg03813.html&lt;/a&gt;&lt;/p&gt;</description>
                <environment>JDK 1.6</environment>
        <key id="12510466">SLING-2103</key>
            <summary>Felix OSGI System Bundle is not providing WS Addressing</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="sseifert">Stefan Seifert</reporter>
                        <labels>
                    </labels>
                <created>Wed, 15 Jun 2011 16:26:57 +0000</created>
                <updated>Wed, 20 Sep 2017 12:22:46 +0000</updated>
                            <resolved>Sat, 12 Nov 2011 20:40:24 +0000</resolved>
                                                    <fixVersion>Framework Extension Fragment WS 1.0.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13053906" author="fmeschbe" created="Thu, 23 Jun 2011 14:51:32 +0000"  >&lt;p&gt;As of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2109&quot; title=&quot;Separate some system bundle provide packages into properties for easier overwrite&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2109&quot;&gt;&lt;del&gt;SLING-2109&lt;/del&gt;&lt;/a&gt; I removed the exports for the XML APIs from the default properties files and moved them into a separate system bundle extension fragment (which basically just exports the XML APIs available in Java 5.&lt;/p&gt;

&lt;p&gt;I think to fix this issue, we just would have to provide a bundle doing the same for the Java 6 XML APIs...&lt;/p&gt;</comment>
                            <comment id="13085674" author="sseifert@pro-vision.de" created="Tue, 16 Aug 2011 13:01:10 +0000"  >&lt;p&gt;attached is a first draft of such an bundle which can be installed additionally to support all XML apis of JRE 1.6:&lt;br/&gt;
110816_&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2103&quot; title=&quot;Felix OSGI System Bundle is not providing WS Addressing&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2103&quot;&gt;&lt;del&gt;SLING-2103&lt;/del&gt;&lt;/a&gt;_patch.patch&lt;/p&gt;

&lt;p&gt;but i&apos;m not totally happy with this solution.&lt;br/&gt;
for all other apis shipped with the JRE there is an auto-detection for JRE 1.5 vs. JRE 1.6, depending on the VM sling is running in.&lt;/p&gt;

&lt;p&gt;now this does no longer apply to the XML APIs, the sling application developer has to install the additional &quot;XML APIs for JRE 1.6&quot; bundle manually.&lt;/p&gt;

&lt;p&gt;do you see any chance to apply such an auto-detection for this framework extension bundles as well within the original &quot;framework-extension-xml&quot; bundle?&lt;/p&gt;</comment>
                            <comment id="13088092" author="justinedelson" created="Sat, 20 Aug 2011 00:41:39 +0000"  >&lt;p&gt;Perhaps what we can do is to have a framework extension bundle for Java 1.5 XML libraries and another for the Java 1.6 XML libraries (just the delta between 1.5 and 1.6). Both will be included in the default bundle list for Sling. The 1.6 bundle will have a Bundle-RequireExecutionEnvironment header of JavaSE-1.6 so it won&apos;t install on a 1.5 VM.&lt;/p&gt;

&lt;p&gt;WDYT?&lt;/p&gt;

&lt;p&gt;Alternatively, we could just kill support for 1.5 &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13088611" author="sseifert@pro-vision.de" created="Mon, 22 Aug 2011 11:11:49 +0000"  >&lt;p&gt;i tried this by adding a&lt;/p&gt;

&lt;p&gt;&amp;lt;Bundle-RequiredExecutionEnvironment&amp;gt;&lt;br/&gt;
  JavaSE-1.6&lt;br/&gt;
&amp;lt;/Bundle-RequiredExecutionEnvironment&amp;gt;&lt;/p&gt;

&lt;p&gt;to the JRE 1.6 system extension bundle manifest, but it does not seem to work.&lt;br/&gt;
the bundle is installed on JRE 1.5 as well, and the additional packages are listed as exported, although they do not exist on JRE 1.5.&lt;br/&gt;
perhaps this setting is not supported in felix for &quot;fragment&quot; bundles which provide system bundle extensions?&lt;/p&gt;</comment>
                            <comment id="13149135" author="fmeschbe" created="Sat, 12 Nov 2011 20:12:21 +0000"  >&lt;p&gt;Creating a WS system bundle fragment&lt;/p&gt;</comment>
                            <comment id="13149142" author="fmeschbe" created="Sat, 12 Nov 2011 20:40:24 +0000"  >&lt;p&gt;Created new system bundle extension fragment for WS APIs in Rev. 1201319&lt;/p&gt;</comment>
                            <comment id="13149145" author="fmeschbe" created="Sat, 12 Nov 2011 20:43:55 +0000"  >&lt;p&gt;And added to launchpad builder list and build reactor in Rev. 1201320&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12456147">FELIX-2073</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12511354">SLING-2109</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12482685" name="110615_SLING-2103_patch.patch" size="452" author="sseifert" created="Wed, 15 Jun 2011 16:28:24 +0000"/>
                            <attachment id="12490527" name="110816_SLING-2103_patch.patch" size="8698" author="sseifert" created="Tue, 16 Aug 2011 13:01:10 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35963</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 51 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i102b3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>208508</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2099] NPE in SlingServletResolver.resolveServlet() for no matches if debug logging enabled</title>
                <link>https://issues.apache.org/jira/browse/SLING-2099</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Steps to reproduce:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;enable debug logging for org.apache.sling.servlets.resolver&lt;/li&gt;
	&lt;li&gt;call SlingServletResolver.resolveServlet(rr, &quot;doesnotexist.jsp&quot;)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;=&amp;gt; results in this stacktrace:&lt;br/&gt;
Caused by: java.lang.NullPointerException&lt;br/&gt;
	at org.apache.sling.api.request.RequestUtil.getServletName(RequestUtil.java:129)&lt;br/&gt;
	at org.apache.sling.servlets.resolver.internal.SlingServletResolver.resolveServlet(SlingServletResolver.java:360)&lt;br/&gt;
	at org.apache.sling.servlets.resolver.internal.SlingServletResolver.resolveServlet(SlingServletResolver.java:320)&lt;/p&gt;

&lt;p&gt;The problem is in the internal resolveServlet(), where in the servlet == null and log.isDebugEnabled() case, RequestUtil.getServletName(servlet) is called, which throws for a null argument.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12509448">SLING-2099</key>
            <summary>NPE in SlingServletResolver.resolveServlet() for no matches if debug logging enabled</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="justinedelson">Justin Edelson</assignee>
                                    <reporter username="alexander.klimetschek">Alexander Klimetschek</reporter>
                        <labels>
                    </labels>
                <created>Tue, 7 Jun 2011 11:55:28 +0000</created>
                <updated>Tue, 31 Jan 2012 10:59:07 +0000</updated>
                            <resolved>Thu, 30 Jun 2011 00:43:24 +0000</resolved>
                                    <version>Servlets Resolver 2.1.0</version>
                                    <fixVersion>Servlets Resolver 2.1.2</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13045394" author="alexander.klimetschek" created="Tue, 7 Jun 2011 12:27:31 +0000"  >&lt;p&gt;Simple patch, avoiding the log for servlet == null.&lt;/p&gt;

&lt;p&gt;One could also log something different if no servlet was found, but that is done by both calling methods anyway.&lt;/p&gt;</comment>
                            <comment id="13057571" author="justinedelson" created="Thu, 30 Jun 2011 00:43:25 +0000"  >&lt;p&gt;Thanks for the patch.&lt;/p&gt;

&lt;p&gt;applied in r1141352.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12481688" name="SLING-2099.patch" size="906" author="alexander.klimetschek" created="Tue, 7 Jun 2011 12:27:31 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>69666</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 19 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1eehb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>292275</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2096] JcrResourceResolver.map() doesn&apos;t read the workspace from the request</title>
                <link>https://issues.apache.org/jira/browse/SLING-2096</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;if the workspace is defined as a request attribute, it should be honored by resolve(HttpServletRequest, String).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12509134">SLING-2096</key>
            <summary>JcrResourceResolver.map() doesn&apos;t read the workspace from the request</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="justinedelson">Justin Edelson</assignee>
                                    <reporter username="justinedelson">Justin Edelson</reporter>
                        <labels>
                    </labels>
                <created>Thu, 2 Jun 2011 21:53:58 +0000</created>
                <updated>Fri, 18 May 2012 07:46:08 +0000</updated>
                            <resolved>Thu, 2 Jun 2011 22:06:14 +0000</resolved>
                                                    <fixVersion>JCR Resource 2.1.0</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13043091" author="justinedelson" created="Thu, 2 Jun 2011 22:06:15 +0000"  >&lt;p&gt;fixed in r1130845&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72201</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 22 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10myv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>211855</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2095] JcrResourceResolver.resolve() doesn&apos;t handle paths with workspace prefix</title>
                <link>https://issues.apache.org/jira/browse/SLING-2095</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If you pass a workspace-specific path to resolve(), the workspace name does not get extracted properly.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12509133">SLING-2095</key>
            <summary>JcrResourceResolver.resolve() doesn&apos;t handle paths with workspace prefix</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="justinedelson">Justin Edelson</assignee>
                                    <reporter username="justinedelson">Justin Edelson</reporter>
                        <labels>
                    </labels>
                <created>Thu, 2 Jun 2011 21:45:32 +0000</created>
                <updated>Fri, 18 May 2012 07:46:23 +0000</updated>
                            <resolved>Thu, 2 Jun 2011 22:06:04 +0000</resolved>
                                                    <fixVersion>JCR Resource 2.1.0</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13043090" author="justinedelson" created="Thu, 2 Jun 2011 22:06:05 +0000"  >&lt;p&gt;fixed in r1130844&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72202</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 22 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10n2n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>211872</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2093] Reverse mapping with insufficient access rights truncates path</title>
                <link>https://issues.apache.org/jira/browse/SLING-2093</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;when a user has read access to a node but not it&apos;s parent nodes, the reverse mapping aborts during the alias resolution and leaves the path truncated.&lt;/p&gt;

&lt;p&gt;eg: map(&quot;/content/foo/bar&quot;) -&amp;gt; &quot;/bar&quot; (if user can&apos;t read /content/foo).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12509030">SLING-2093</key>
            <summary>Reverse mapping with insufficient access rights truncates path</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="tripod">Tobias Bocanegra</reporter>
                        <labels>
                    </labels>
                <created>Wed, 1 Jun 2011 22:13:00 +0000</created>
                <updated>Fri, 20 Sep 2019 11:34:44 +0000</updated>
                            <resolved>Tue, 5 Jul 2011 09:52:21 +0000</resolved>
                                    <version>JCR Resource 2.0.10</version>
                                    <fixVersion>JCR Resource 2.1.0</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13042486" author="tripod" created="Wed, 1 Jun 2011 22:23:12 +0000"  >&lt;p&gt;Patch that fixes this issue.&lt;/p&gt;</comment>
                            <comment id="13042497" author="tripod" created="Wed, 1 Jun 2011 22:59:48 +0000"  >&lt;p&gt;(improved) patch that fixes this issue&lt;/p&gt;</comment>
                            <comment id="13043396" author="justinedelson" created="Fri, 3 Jun 2011 15:22:26 +0000"  >&lt;p&gt;applied patch, minus if... continue... block which was concerned with workspace prefixes as that is not relevant within the map() method&lt;/p&gt;

&lt;p&gt;leaving this open because I&apos;d like there to be some tests for this.&lt;/p&gt;</comment>
                            <comment id="13043410" author="justinedelson" created="Fri, 3 Jun 2011 15:38:39 +0000"  >&lt;p&gt;Toby - can you look at the attached patch re: testing this feature? I&apos;m getting a test failure on line 1879 and I&apos;m not expecting to.&lt;/p&gt;</comment>
                            <comment id="13043897" author="justinedelson" created="Fri, 3 Jun 2011 17:33:58 +0000"  >&lt;p&gt;test case added in r1131116&lt;/p&gt;

&lt;p&gt;currently, if any node in the path being mapped isn&apos;t visible, the entire path is not aliased. while this is an improvement on the old, totally buggy, behavior, I think it&apos;d be great if as much of the path was aliased as possible.&lt;/p&gt;

&lt;p&gt;Toby - if this is something you can submit a patch for in relatively short order, please do so. Otherwise, I&apos;ll marked this issue as resolved and create a separate issue to handle partial aliasing.&lt;/p&gt;</comment>
                            <comment id="13043905" author="tripod" created="Fri, 3 Jun 2011 17:45:28 +0000"  >&lt;p&gt;Revised patch that respects partial alias re-mappings.&lt;/p&gt;</comment>
                            <comment id="13043945" author="justinedelson" created="Fri, 3 Jun 2011 18:25:59 +0000"  >&lt;p&gt;partial aliases work as of r1131133&lt;/p&gt;

&lt;p&gt;Thanks for the patches!&lt;/p&gt;</comment>
                            <comment id="13051300" author="enorman" created="Fri, 17 Jun 2011 20:10:41 +0000"  >&lt;p&gt;reopening due to a regression.  After the changes from revision 1131069, importing to the root node now throws a NPE.&lt;/p&gt;

&lt;p&gt;Repro:&lt;/p&gt;

&lt;p&gt;curl -F&quot;:operation=import&quot; -F&quot;:contentType=json&quot; -F&quot;:content={ &apos;sample&apos; : {&apos;propOne&apos; : &apos;propOneValue&apos;, &apos;childOne&apos; : &lt;/p&gt;
{ &apos;childPropOne&apos; : true }
&lt;p&gt; } }&quot; &lt;a href=&quot;http://admin:admin@localhost:8080&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://admin:admin@localhost:8080&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13051340" author="enorman" created="Fri, 17 Jun 2011 21:40:33 +0000"  >&lt;p&gt;fixed regression in revision 1137043&lt;/p&gt;</comment>
                            <comment id="13059789" author="cziegeler" created="Tue, 5 Jul 2011 09:51:06 +0000"  >&lt;p&gt;This change can cause a NPE:&lt;/p&gt;

&lt;p&gt;java.lang.NullPointerException) java.lang.NullPointerException&lt;br/&gt;
	at org.apache.sling.jcr.resource.internal.JcrResourceResolver.map(JcrResourceResolver.java:647)&lt;br/&gt;
	at org.apache.sling.jcr.resource.internal.JcrResourceResolver.map(JcrResourceResolver.java:536)&lt;/p&gt;</comment>
                            <comment id="13059790" author="cziegeler" created="Tue, 5 Jul 2011 09:52:21 +0000"  >&lt;p&gt;Committed a different fix in revision 1142950.&lt;br/&gt;
This fix restores the old logic but checks if parent resources are not accessible&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12481357" name="ASF.LICENSE.NOT.GRANTED--SLING-2093-test.patch" size="5775" author="justinedelson" created="Fri, 3 Jun 2011 15:38:41 +0000"/>
                            <attachment id="12481161" name="sling-2093-r1130338.patch" size="3830" author="tripod" created="Wed, 1 Jun 2011 22:59:48 +0000"/>
                            <attachment id="12481377" name="sling-2093-r113118.patch" size="2031" author="tripod" created="Fri, 3 Jun 2011 17:45:28 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>69155</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 18 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10n3r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>211877</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2091] Sling JUnit sample integration tests fail on CQ 5.4 due to missing credentials</title>
                <link>https://issues.apache.org/jira/browse/SLING-2091</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;After deploying the sling junit runtime bundles, sling testing tools, and sample server-side tests to a local CQ 5.4 instance, several sample integration tests fail when trying to run `mvn install` for the integration tests bundle.&lt;/p&gt;

&lt;p&gt;Bundles deployed to instance using JCR Install:&lt;br/&gt;
/apps/bundles/install/org.apache.sling.testing.tools-1.0.5-SNAPSHOT.jar&lt;br/&gt;
/apps/bundles/install/org.apache.sling.junit.core-1.0.7-SNAPSHOT.jar&lt;br/&gt;
/apps/bundles/install/org.apache.sling.junit.scriptable-1.0.7-SNAPSHOT.jar&lt;br/&gt;
/apps/bundles/install/org.apache.sling.junit.remote-1.0.7-SNAPSHOT.jar&lt;br/&gt;
/apps/bundles/install/org.apache.sling.testing.samples.sampletests-1.0.7-SNAPSHOT.jar&lt;br/&gt;
/apps/bundles/install/org.apache.sling.testing.samples.failingtests-1.0.7-SNAPSHOT.jar&lt;/p&gt;

&lt;p&gt;I copied and modified the org.apache.sling.testing.samples.integrationtests module to run the tests against a running local CQ 5.4 instance listening on port 4502.&lt;/p&gt;

&lt;p&gt;Upon the first execution, the following tests failed:&lt;/p&gt;

&lt;p&gt;##########&lt;br/&gt;
Failed tests: &lt;br/&gt;
  testScriptableTest&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;(org.apache.sling.testing.samples.integrationtests.serverside.scriptable.ScriptableTestsTest): MKCOL request to &lt;a href=&quot;http://localhost:6502/apps/testing:&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:6502/apps/testing:&lt;/a&gt; expecting status 201 expected:&amp;lt;201&amp;gt; but was:&amp;lt;405&amp;gt;&lt;br/&gt;
  testScriptableTest&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;(org.apache.sling.testing.samples.integrationtests.serverside.scriptable.ScriptableTestsTest): MKCOL request to &lt;a href=&quot;http://localhost:6502/apps/testing:&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:6502/apps/testing:&lt;/a&gt; expecting status 201 expected:&amp;lt;201&amp;gt; but was:&amp;lt;405&amp;gt;&lt;br/&gt;
  initializationError(org.apache.sling.testing.samples.integrationtests.serverside.sling.SlingServerSideSingleMethodTest): RetryLoop failed, condition is false after 30 seconds: Expecting /test/sling/1306687266726.junit to return HTTP status 200&lt;br/&gt;
  initializationError(org.apache.sling.testing.samples.integrationtests.serverside.sling.SlingServerSideTest): /test/sling/1306687266726.junit check failed previously, cannot run tests&lt;br/&gt;
##########&lt;/p&gt;

&lt;p&gt;The first couple failures are related to the ScriptableTestsTest use of a SlingClient.mkdirs() method to create the /apps/testing/ScriptableTests path. The &amp;lt;405&amp;gt; response indicates that the client attempted to create a folder that already exists, even though it should be checking for existence first when mkdir calls SlingClient.exists(). &lt;/p&gt;

&lt;p&gt;The problem is that, unlike the MKCOL request in the mkdir() method, the SlingClient.exists() method does not pass the ADMIN credentials along with the GET request it creates, which results in a failure to read the nodes. I made progress in the tests by adding a &quot;.withCredentials(username, password)&quot; to the request builder call in SlingClient.java on line 206.&lt;/p&gt;


&lt;p&gt;The next execution resulted in the following failed tests:&lt;/p&gt;

&lt;p&gt;##########&lt;br/&gt;
Failed tests: &lt;br/&gt;
  testScriptableTest&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;(org.apache.sling.testing.samples.integrationtests.serverside.scriptable.ScriptableTestsTest): Expected 0 failing tests but got 1: [verifyContent&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;(org.apache.sling.junit.scriptable.TestAllPaths): Expecting HTTP status 200 for path /apps/testing/ScriptableTests/testnode.test.txt expected:&amp;lt;200&amp;gt; but was:&amp;lt;500&amp;gt;]&lt;br/&gt;
  initializationError(org.apache.sling.testing.samples.integrationtests.serverside.sling.SlingServerSideSingleMethodTest): RetryLoop failed, condition is false after 30 seconds: Expecting /test/sling/1306688554150.junit to return HTTP status 200&lt;br/&gt;
  initializationError(org.apache.sling.testing.samples.integrationtests.serverside.sling.SlingServerSideTest): /test/sling/1306688554150.junit check failed previously, cannot run tests&lt;br/&gt;
##########&lt;/p&gt;

&lt;p&gt;The first failure, &quot;testScriptableTest&quot; referred to a 500 response, and the cause for this was a NullPointerException:&lt;/p&gt;

&lt;p&gt;29.05.2011 10:02:33.985 &lt;b&gt;ERROR&lt;/b&gt; [127.0.0.1 &lt;span class=&quot;error&quot;&gt;&amp;#91;1306688553968&amp;#93;&lt;/span&gt; POST /system/sling/junit/org.apache.sling.junit.scriptable.ScriptableTestsProvider.json HTTP/1.1] org.apache.sling.engine.impl.SlingRequestProcessorImpl service: Uncaught Throwable java.lang.NullPointerException&lt;br/&gt;
	at org.apache.sling.engine.impl.parameters.ParameterSupport.getContainerParameters(ParameterSupport.java:154)&lt;br/&gt;
	at org.apache.sling.engine.impl.parameters.ParameterSupport.getRequestParameterMapInternal(ParameterSupport.java:119)&lt;br/&gt;
	at org.apache.sling.engine.impl.parameters.ParameterSupport.getParameter(ParameterSupport.java:85)&lt;br/&gt;
	at org.apache.sling.engine.impl.SlingHttpServletRequestImpl.getParameter(SlingHttpServletRequestImpl.java:143)&lt;br/&gt;
	at org.apache.sling.bgservlets.impl.BackgroundServletStarterFilter.doFilter(BackgroundServletStarterFilter.java:105)&lt;br/&gt;
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:60)&lt;br/&gt;
	at org.apache.sling.engine.impl.SlingRequestProcessorImpl.processRequest(SlingRequestProcessorImpl.java:161)&lt;br/&gt;
	at org.apache.sling.junit.scriptable.TestAllPaths.verifyContent(TestAllPaths.java:62)&lt;br/&gt;
	...&lt;/p&gt;

&lt;p&gt;This can be traced to the BackgroundServletStarterFilter attempting to get a parameter from the org.apache.sling.junit.scriptable.HttpRequest object that was passed to the request processor by the TestAllPaths.verifyContent() method. The HttpRequest.getParameterMap() method currently returns a null pointer and the ParameterSupport class does not check for. A quick workaround was to add a Map&amp;lt;String, String&amp;gt; member to the HttpRequest class and to return it in the getParameterMap() method.&lt;/p&gt;

&lt;p&gt;The next execution result in the following failed tests:&lt;/p&gt;

&lt;p&gt;##########&lt;br/&gt;
Failed tests: &lt;br/&gt;
  initializationError(org.apache.sling.testing.samples.integrationtests.serverside.sling.SlingServerSideSingleMethodTest): RetryLoop failed, condition is false after 30 seconds: Expecting /test/sling/1306689608120.junit to return HTTP status 200&lt;br/&gt;
  initializationError(org.apache.sling.testing.samples.integrationtests.serverside.sling.SlingServerSideTest): /test/sling/1306689608120.junit check failed previously, cannot run tests&lt;br/&gt;
##########&lt;/p&gt;

&lt;p&gt;The above failure resulted from missing admin credentials in the org.apache.sling.testing.tools.http.RetryingContentChecker&apos;s RetryLoop.Condition. I added a &quot;.withCredentials(SlingTestBase.ADMIN, SlingTestBase.ADMIN)&quot; call to the request builder, which seems to fix that problem.&lt;/p&gt;

&lt;p&gt;The next execution resulted in the following reported errors:&lt;/p&gt;

&lt;p&gt;##########&lt;br/&gt;
Tests in error: &lt;br/&gt;
  org.apache.sling.testing.samples.integrationtests.serverside.sling.SlingServerSideSingleMethodTest: POST request to &lt;a href=&quot;http://localhost:6502/test/sling/1306690571924.junit/org.apache.sling.testing.samples.sampletests.JUnit4Test/testRequiresBefore.json:&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:6502/test/sling/1306690571924.junit/org.apache.sling.testing.samples.sampletests.JUnit4Test/testRequiresBefore.json:&lt;/a&gt; expecting status 200 expected:&amp;lt;200&amp;gt; but was:&amp;lt;500&amp;gt;&lt;br/&gt;
  org.apache.sling.testing.samples.integrationtests.serverside.sling.SlingServerSideTest: POST request to &lt;a href=&quot;http://localhost:6502/test/sling/1306690571924.junit/org.apache.sling.testing.samples.sampletests.json:&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:6502/test/sling/1306690571924.junit/org.apache.sling.testing.samples.sampletests.json:&lt;/a&gt; expecting status 200 expected:&amp;lt;200&amp;gt; but was:&amp;lt;500&amp;gt;&lt;br/&gt;
##########&lt;/p&gt;

&lt;p&gt;The above errors were again the result of a lack of permission to execute a test&apos;s HTTP Request. Here are the associated entries in crx-quickstart/logs/error.log:&lt;/p&gt;

&lt;p&gt;29.05.2011 10:36:11.977 &lt;b&gt;ERROR&lt;/b&gt; [127.0.0.1 &lt;span class=&quot;error&quot;&gt;&amp;#91;1306690571975&amp;#93;&lt;/span&gt; POST /test/sling/1306690571924.junit/org.apache.sling.testing.samples.sampletests.JUnit4Test/testRequiresBefore.json HTTP/1.1] org.apache.sling.servlets.post.impl.operations.ModifyOperation Access Denied cannot read item cafebabe-cafe-babe-cafe-babecafebabe &lt;br/&gt;
29.05.2011 10:36:12.036 &lt;b&gt;ERROR&lt;/b&gt; [127.0.0.1 &lt;span class=&quot;error&quot;&gt;&amp;#91;1306690572033&amp;#93;&lt;/span&gt; POST /test/sling/1306690571924.junit/org.apache.sling.testing.samples.sampletests.json HTTP/1.1] org.apache.sling.servlets.post.impl.operations.ModifyOperation Access Denied cannot read item cafebabe-cafe-babe-cafe-babecafebabe &lt;/p&gt;

&lt;p&gt;In this case, the request originates from the org.apache.sling.junit.remote.httpclient.RemoteTestHttpClient.runTests() method. Again, I added a &quot;.withCredentials(SlingTestBase.ADMIN, SlingTestBase.ADMIN)&quot; call to the request builder, and this resolved the errors.&lt;/p&gt;

&lt;p&gt;After making that change and running the tests again, no other errors were reported:&lt;/p&gt;

&lt;p&gt;##########&lt;br/&gt;
Results :&lt;/p&gt;

&lt;p&gt;Tests run: 22, Failures: 0, Errors: 0, Skipped: 0&lt;br/&gt;
##########&lt;/p&gt;</description>
                <environment>Windows 7 64bit, Maven 3.0.3, Adobe CQ 5.4</environment>
        <key id="12508662">SLING-2091</key>
            <summary>Sling JUnit sample integration tests fail on CQ 5.4 due to missing credentials</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="madamcin">Mark Adamcin</reporter>
                        <labels>
                    </labels>
                <created>Sun, 29 May 2011 17:54:00 +0000</created>
                <updated>Mon, 18 Feb 2013 13:41:46 +0000</updated>
                            <resolved>Tue, 21 Jun 2011 09:31:37 +0000</resolved>
                                    <version>JUnit Remote Tests Runners 1.0.6</version>
                    <version>JUnit Scriptable Tests Provider 1.0.6</version>
                    <version>org.apache.sling.testing.tools 1.0.4</version>
                                    <fixVersion>JUnit Remote Tests Runners 1.0.8</fixVersion>
                    <fixVersion>JUnit Scriptable Tests Provider 1.0.8</fixVersion>
                    <fixVersion>org.apache.sling.testing.tools 1.0.6</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13040840" author="madamcin" created="Sun, 29 May 2011 17:59:07 +0000"  >&lt;p&gt;Patch file containing the 4 sets of changes described in the ticket&lt;/p&gt;</comment>
                            <comment id="13040841" author="madamcin" created="Sun, 29 May 2011 18:03:58 +0000"  >&lt;p&gt;Cleared the &quot;Affects Version&quot; value, since I can&apos;t find anything relevant in the list.&lt;/p&gt;</comment>
                            <comment id="13040843" author="madamcin" created="Sun, 29 May 2011 18:13:18 +0000"  >&lt;p&gt;pom.xml file branched from org.apache.sling.testing.samples.integrationtests that I modified so that the integration tests would be executed against a running CQ instance rather than a standalone sling launchpad process.&lt;/p&gt;</comment>
                            <comment id="13052441" author="bdelacretaz" created="Tue, 21 Jun 2011 09:31:37 +0000"  >&lt;p&gt;Committed your patch in revision 1137918, thanks very much for your analysis and contribution!&lt;/p&gt;

&lt;p&gt;As you note, the main problem is that CQ requires authentication everywhere, while the default Sling setup is more lenient. So your patch makes those tools more generally applicable, which is great.&lt;/p&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12480791" name="madamcin_sling_junit_cq54.patch" size="4032" author="madamcin" created="Sun, 29 May 2011 17:59:07 +0000"/>
                            <attachment id="12480792" name="sample-integration-tests-1.0-SNAPSHOT.pom" size="5691" author="madamcin" created="Sun, 29 May 2011 18:13:18 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>70702</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 20 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10czr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>210239</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2087] Deprecate org.apache.sling.api.servlets.HtmlResponse</title>
                <link>https://issues.apache.org/jira/browse/SLING-2087</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description></description>
                <environment>This class is now replaced by org.apache.sling.servlets.post.HtmlResponse, for now we should keep the api one around but deprecate it.</environment>
        <key id="12508173">SLING-2087</key>
            <summary>Deprecate org.apache.sling.api.servlets.HtmlResponse</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Tue, 24 May 2011 11:41:39 +0000</created>
                <updated>Tue, 16 Aug 2011 06:06:36 +0000</updated>
                            <resolved>Tue, 24 May 2011 13:13:08 +0000</resolved>
                                    <version>API 2.2.0</version>
                                    <fixVersion>API 2.2.2</fixVersion>
                                    <component>API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13038545" author="bdelacretaz" created="Tue, 24 May 2011 13:13:08 +0000"  >&lt;p&gt;Added @deprecated tag in revision 1127025&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>64961</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 24 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1eei7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>292279</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2086] Potential endless loop in jcr install</title>
                <link>https://issues.apache.org/jira/browse/SLING-2086</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The log looks like the following:&lt;br/&gt;
....&lt;br/&gt;
12.05.2011 13:03:27.747 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;JcrInstaller.4&amp;#93;&lt;/span&gt; &lt;br/&gt;
org.apache.sling.installer.provider.jcr.impl.WatchedFolder Watching folder &lt;br/&gt;
/libs/mcm/install (priority 100)&lt;br/&gt;
12.05.2011 13:03:27.748 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;JcrInstaller.4&amp;#93;&lt;/span&gt; &lt;br/&gt;
org.apache.sling.installer.provider.jcr.impl.WatchedFolder Watching folder &lt;br/&gt;
/libs/crxde/install (priority 100)&lt;br/&gt;
12.05.2011 13:03:27.750 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;JcrInstaller.4&amp;#93;&lt;/span&gt; &lt;br/&gt;
org.apache.sling.installer.provider.jcr.impl.WatchedFolder Watching folder &lt;br/&gt;
/apps/geometrixx/install (priority 200)&lt;br/&gt;
12.05.2011 13:03:27.752 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;JcrInstaller.4&amp;#93;&lt;/span&gt; &lt;br/&gt;
org.apache.sling.installer.provider.jcr.impl.JcrInstaller Removing resource from &lt;br/&gt;
OSGi installer (folder deleted): []&lt;br/&gt;
This repeats every 500ms.&lt;/p&gt;

&lt;p&gt;The WatchedFolder.rescanTimer is set, but all WatchedFolders.needsScan() return &lt;br/&gt;
false. That leads to the endless loop, since in JcrInstaller.runOneCycle the &lt;br/&gt;
variable scanWf is always true, but for every watched folder needsScan() returns &lt;br/&gt;
false. Therefore the rescanTimer is never reset, but updateFoldersList() is &lt;br/&gt;
called every 500ms.&lt;/p&gt;

&lt;p&gt;Probably this is caused by the following timing (for example if you delete &lt;br/&gt;
/apps/geometrixx/install):&lt;/p&gt;

&lt;p&gt;   1. The background thread executes runOnCycle in JcrInstaller up to line 446 &lt;br/&gt;
(at this time the rescanTimer of the WatchedFolders is not set, but &lt;br/&gt;
updateFoldersListTimer.expired() is true)&lt;br/&gt;
   2. The event listener thread calls onEvent of the WatchedFolder for &lt;br/&gt;
/apps/geometrixx/install. This leads to a cal of scheduleScan() which itself &lt;br/&gt;
sets the rescanTimer and also sets needScan to true.&lt;br/&gt;
   3. Back in the background thread updateFoldersList() is executed (line 453 of &lt;br/&gt;
JcrInstaller). In this method it detects that one of the watchedFolder have been &lt;br/&gt;
removed and therefore indirectly resets the needScan of the WatchedFolder &lt;br/&gt;
/apps/geometrixx/install back to false (line 385). Unfortunately it doesn&apos;t &lt;br/&gt;
reset the rescanTimer.&lt;br/&gt;
   4. The next time when runOneCycle is executed, the rescanTimer has exired -&amp;gt; &lt;br/&gt;
scanWF is true. Unfortunately every watchedFolder returns false for needsScan(). &lt;br/&gt;
Now you are in a loop, because the rescanTimer will not be reset.&lt;/p&gt;

&lt;p&gt;The main problem is, that needsScan and rescanTimer.reset/set must always be set &lt;br/&gt;
in parallel, but this is not true for the described usecase.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12508168">SLING-2086</key>
            <summary>Potential endless loop in jcr install</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Tue, 24 May 2011 11:23:35 +0000</created>
                <updated>Wed, 20 Sep 2017 12:19:02 +0000</updated>
                            <resolved>Tue, 24 May 2011 11:25:55 +0000</resolved>
                                    <version>JCR Installer 3.0.4</version>
                                    <fixVersion>JCR Installer 3.1.0</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13038510" author="cziegeler" created="Tue, 24 May 2011 11:25:38 +0000"  >&lt;p&gt;I completely changed this part of the code: the rescan timer is not needed anymore as the run cycle already does the required delay.&lt;br/&gt;
On every cycle the watched folders are checked now, if they need a rescan.&lt;br/&gt;
I also fixed a bug with the session refresh handling and improved listener registration&lt;/p&gt;

&lt;p&gt;Done in revision 1126982&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176840</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 24 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1021b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>208464</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2085] RequestHistoryConsolePlugin should escape HTML text</title>
                <link>https://issues.apache.org/jira/browse/SLING-2085</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The RequestHistoryConsolePlugin should escape the HTML text that it outputs&lt;/p&gt;</description>
                <environment></environment>
        <key id="12508137">SLING-2085</key>
            <summary>RequestHistoryConsolePlugin should escape HTML text</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Tue, 24 May 2011 06:26:40 +0000</created>
                <updated>Fri, 1 Nov 2013 17:03:37 +0000</updated>
                            <resolved>Tue, 24 May 2011 13:09:49 +0000</resolved>
                                    <version>Engine 2.2.2</version>
                                    <fixVersion>Engine 2.2.4</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13038416" author="bdelacretaz" created="Tue, 24 May 2011 06:44:58 +0000"  >&lt;p&gt;Implemented in revision 1126891&lt;/p&gt;</comment>
                            <comment id="13038513" author="bdelacretaz" created="Tue, 24 May 2011 11:39:37 +0000"  >&lt;p&gt;HTML escaping is already available in the org.apache.sling.api.request.ResponseUtil class, we should use that instead.&lt;/p&gt;</comment>
                            <comment id="13038542" author="bdelacretaz" created="Tue, 24 May 2011 13:09:49 +0000"  >&lt;p&gt;Uses ResponseUtil in revision 1127020&lt;/p&gt;</comment>
                            <comment id="13811410" author="andrei.dulvac" created="Fri, 1 Nov 2013 16:31:43 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3222&quot; title=&quot;RequestUtil#escapeXml doesn&amp;#39;t escape quotes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3222&quot;&gt;&lt;del&gt;SLING-3222&lt;/del&gt;&lt;/a&gt; might affect this. Is it a concern?&lt;/p&gt;</comment>
                            <comment id="13811425" author="bdelacretaz" created="Fri, 1 Nov 2013 16:41:53 +0000"  >&lt;p&gt;Intuitively I&apos;d say no, escaping single and double quotes in addition to what&apos;s already escaped shouldn&apos;t be a problem.&lt;/p&gt;</comment>
                            <comment id="13811438" author="andrei.dulvac" created="Fri, 1 Nov 2013 16:52:01 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdelacretaz&quot; class=&quot;user-hover&quot; rel=&quot;bdelacretaz&quot;&gt;bdelacretaz&lt;/a&gt;, What I meant is that using RequestUtil in RequestHistoryConsolePlugin might not be safe right now, as using quotes can be part of an XSS attack.&lt;/p&gt;</comment>
                            <comment id="13811446" author="bdelacretaz" created="Fri, 1 Nov 2013 16:59:29 +0000"  >&lt;p&gt;Ah ok, so fixing &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3222&quot; title=&quot;RequestUtil#escapeXml doesn&amp;#39;t escape quotes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3222&quot;&gt;&lt;del&gt;SLING-3222&lt;/del&gt;&lt;/a&gt; would fix that, right? That would be good then.&lt;/p&gt;</comment>
                            <comment id="13811451" author="andrei.dulvac" created="Fri, 1 Nov 2013 17:03:37 +0000"  >&lt;p&gt;Attached a trivial patch on &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3222&quot; title=&quot;RequestUtil#escapeXml doesn&amp;#39;t escape quotes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3222&quot;&gt;&lt;del&gt;SLING-3222&lt;/del&gt;&lt;/a&gt;, could you close it?&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12677100">SLING-3222</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>69835</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1eeif:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>292280</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2084] StreamRendererServlet ignores authentication on redirect</title>
                <link>https://issues.apache.org/jira/browse/SLING-2084</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Use case:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;create a nt:unstructured node e.g. /content/a.xml&lt;/li&gt;
	&lt;li&gt;execute the java class in attachment (TestUnstructuredNode.java). Output from the class  ==&amp;gt; status 404&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;log excerpt &lt;/p&gt;

&lt;p&gt;17.05.2011 14:06:42.391 &lt;b&gt;DEBUG&lt;/b&gt; [127.0.0.1 &lt;span class=&quot;error&quot;&gt;&amp;#91;1305634002391&amp;#93;&lt;/span&gt; GET /content/a.xml HTTP/1.1] org.apache.sling.auth.core.impl.SlingAuthenticator handleSecurity: Trying to get a session for admin&lt;br/&gt;
17.05.2011 14:06:42.393 &lt;b&gt;DEBUG&lt;/b&gt; [127.0.0.1 &lt;span class=&quot;error&quot;&gt;&amp;#91;1305634002391&amp;#93;&lt;/span&gt; GET /content/a.xml HTTP/1.1] org.apache.sling.auth.core.impl.SlingAuthenticator setAttributes: ResourceResolver stored as request attribute: user=admin&lt;br/&gt;
17.05.2011 14:06:42.404 &lt;b&gt;DEBUG&lt;/b&gt; [127.0.0.1 &lt;span class=&quot;error&quot;&gt;&amp;#91;1305634002404&amp;#93;&lt;/span&gt; GET /content/a.xml/ HTTP/1.1] org.apache.sling.auth.core.impl.HttpBasicAuthenticationHandler forceAuthentication: Not forcing authentication because request parameter sling:authRequestLogin is not set&lt;br/&gt;
17.05.2011 14:06:42.404 &lt;b&gt;DEBUG&lt;/b&gt; [127.0.0.1 &lt;span class=&quot;error&quot;&gt;&amp;#91;1305634002404&amp;#93;&lt;/span&gt; GET /content/a.xml/ HTTP/1.1] org.apache.sling.auth.core.impl.SlingAuthenticator getAuthenticationInfo: no handler could extract credentials&lt;br/&gt;
17.05.2011 14:06:42.404 &lt;b&gt;DEBUG&lt;/b&gt; [127.0.0.1 &lt;span class=&quot;error&quot;&gt;&amp;#91;1305634002404&amp;#93;&lt;/span&gt; GET /content/a.xml/ HTTP/1.1] org.apache.sling.auth.core.impl.SlingAuthenticator handleSecurity: No credentials in the request, anonymous&lt;br/&gt;
17.05.2011 14:06:42.406 &lt;b&gt;DEBUG&lt;/b&gt; [127.0.0.1 &lt;span class=&quot;error&quot;&gt;&amp;#91;1305634002404&amp;#93;&lt;/span&gt; GET /content/a.xml/ HTTP/1.1] org.apache.sling.auth.core.impl.SlingAuthenticator setAttributes: ResourceResolver stored as request attribute: user=anonymous&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Disable/Uncheck &quot;Allow Anonymous Access&quot; in the org.apache.sling.engine.impl.auth.SlingAuthenticator configuration&lt;/li&gt;
	&lt;li&gt;execute the java class in attachment. Output from the class  ==&amp;gt; May 17, 2011 2:09:30 PM org.apache.commons.httpclient.auth.AuthChallengeProcessor selectAuthScheme&lt;br/&gt;
INFO: basic authentication scheme selected&lt;br/&gt;
Status 200&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;log excerpt &lt;/p&gt;

&lt;p&gt;17.05.2011 14:09:30.570 &lt;b&gt;DEBUG&lt;/b&gt; [127.0.0.1 &lt;span class=&quot;error&quot;&gt;&amp;#91;1305634170570&amp;#93;&lt;/span&gt; GET /content/a.xml HTTP/1.1] org.apache.sling.auth.core.impl.SlingAuthenticator handleSecurity: Trying to get a session for admin&lt;br/&gt;
17.05.2011 14:09:30.572 &lt;b&gt;DEBUG&lt;/b&gt; [127.0.0.1 &lt;span class=&quot;error&quot;&gt;&amp;#91;1305634170570&amp;#93;&lt;/span&gt; GET /content/a.xml HTTP/1.1] org.apache.sling.auth.core.impl.SlingAuthenticator setAttributes: ResourceResolver stored as request attribute: user=admin&lt;br/&gt;
17.05.2011 14:09:30.583 &lt;b&gt;DEBUG&lt;/b&gt; [127.0.0.1 &lt;span class=&quot;error&quot;&gt;&amp;#91;1305634170582&amp;#93;&lt;/span&gt; GET /content/a.xml/ HTTP/1.1] org.apache.sling.auth.core.impl.HttpBasicAuthenticationHandler forceAuthentication: Not forcing authentication because request parameter sling:authRequestLogin is not set&lt;br/&gt;
17.05.2011 14:09:30.583 &lt;b&gt;DEBUG&lt;/b&gt; [127.0.0.1 &lt;span class=&quot;error&quot;&gt;&amp;#91;1305634170582&amp;#93;&lt;/span&gt; GET /content/a.xml/ HTTP/1.1] org.apache.sling.auth.core.impl.SlingAuthenticator getAuthenticationInfo: no handler could extract credentials&lt;br/&gt;
17.05.2011 14:09:30.583 &lt;b&gt;DEBUG&lt;/b&gt; [127.0.0.1 &lt;span class=&quot;error&quot;&gt;&amp;#91;1305634170582&amp;#93;&lt;/span&gt; GET /content/a.xml/ HTTP/1.1] org.apache.sling.auth.core.impl.SlingAuthenticator handleSecurity: No credentials in the request, anonymous&lt;br/&gt;
17.05.2011 14:09:30.583 &lt;b&gt;INFO&lt;/b&gt; [127.0.0.1 &lt;span class=&quot;error&quot;&gt;&amp;#91;1305634170582&amp;#93;&lt;/span&gt; GET /content/a.xml/ HTTP/1.1] org.apache.sling.auth.core.impl.SlingAuthenticator getAnonymousSession: Anonymous access not allowed by configuration - requesting credentials&lt;br/&gt;
17.05.2011 14:09:30.678 &lt;b&gt;DEBUG&lt;/b&gt; [127.0.0.1 &lt;span class=&quot;error&quot;&gt;&amp;#91;1305634170677&amp;#93;&lt;/span&gt; GET /content/a.xml/ HTTP/1.1] org.apache.sling.auth.core.impl.SlingAuthenticator handleSecurity: Trying to get a session for admin&lt;br/&gt;
17.05.2011 14:09:30.680 &lt;b&gt;DEBUG&lt;/b&gt; [127.0.0.1 &lt;span class=&quot;error&quot;&gt;&amp;#91;1305634170677&amp;#93;&lt;/span&gt; GET /content/a.xml/ HTTP/1.1] org.apache.sling.auth.core.impl.SlingAuthenticator setAttributes: ResourceResolver stored as request attribute: user=admin&lt;/p&gt;

&lt;p&gt;The behavior is clearly inconsistent. The nt:unstructured node is rendered from the StreamRendererServlet class that does a redirect (not forcing authentication) and inducing the second request to use the anonymous user.&lt;br/&gt;
Adding ?sling:authRequestLogin=1 parameter to the StreamRendererServlet  redirect would solve the issue but it is not a clean solution (I am looking for a better one and I might attach a patch file).&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12507877">SLING-2084</key>
            <summary>StreamRendererServlet ignores authentication on redirect</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="asanso">Antonio Sanso</reporter>
                        <labels>
                    </labels>
                <created>Fri, 20 May 2011 14:58:44 +0000</created>
                <updated>Wed, 27 Jul 2011 07:44:54 +0000</updated>
                            <resolved>Wed, 27 Jul 2011 07:39:30 +0000</resolved>
                                    <version>Servlets Get 2.1.2</version>
                                                    <component>Authentication</component>
                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13036863" author="asanso" created="Fri, 20 May 2011 14:59:55 +0000"  >&lt;p&gt;class to to test the issue&lt;/p&gt;</comment>
                            <comment id="13071584" author="asanso" created="Wed, 27 Jul 2011 07:39:30 +0000"  >&lt;p&gt;Close as invalid. Problem is client related  as&lt;/p&gt;

&lt;p&gt;curl -u admin:admin &lt;a href=&quot;http://localhost:4602/content/a.xml&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:4602/content/a.xml&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;gives back&lt;/p&gt;

&lt;p&gt;&amp;lt;html&amp;gt;This page moved to &amp;lt;a href=&quot;&lt;br/&gt;
/content/a.xml/&quot;&amp;gt;here&amp;lt;/a&amp;gt;&amp;lt;/html&amp;gt;&lt;/p&gt;

&lt;p&gt;and curl -IL -u admin:admin &lt;a href=&quot;http://localhost:4602/content/a.xml&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:4602/content/a.xml&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;HTTP/1.1 302 Moved Temporarily&lt;br/&gt;
Connection: Keep-Alive&lt;br/&gt;
Server: Day-Servlet-Engine/4.1.12 &lt;br/&gt;
Content-Type: text/html&lt;br/&gt;
Date: Wed, 27 Jul 2011 07:38:22 GMT&lt;br/&gt;
Transfer-Encoding: chunked&lt;br/&gt;
Location: /content/a.xml/&lt;/p&gt;

&lt;p&gt;HTTP/1.1 200 OK&lt;br/&gt;
Connection: Keep-Alive&lt;br/&gt;
Server: Day-Servlet-Engine/4.1.12 &lt;br/&gt;
Content-Type: text/html;charset=utf-8&lt;br/&gt;
Date: Wed, 27 Jul 2011 07:38:22 GMT&lt;br/&gt;
Transfer-Encoding: chunked&lt;/p&gt;

&lt;p&gt;The common http client seems to invalidate the authentication right before the redirect&lt;/p&gt;</comment>
                            <comment id="13071587" author="asanso" created="Wed, 27 Jul 2011 07:44:54 +0000"  >&lt;p&gt;closing issue as for comment above&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12479911" name="TestUnstructuredNode.java" size="910" author="asanso" created="Fri, 20 May 2011 14:59:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>66812</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 15 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1eein:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>292281</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2082] XSS vulnerability: HtmlResponse output does not escape URLs in HTML</title>
                <link>https://issues.apache.org/jira/browse/SLING-2082</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;A POST request including a &amp;lt;script&amp;gt; in the URL can lead to execution of that script in the browser:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://localhost:4502/does/not/exist.html/%22%3e%3cscript%3ealert(29679)%3c/script%3e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:4502/does/not/exist.html/%22%3e%3cscript%3ealert(29679)%3c/script%3e&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test with curl:&lt;/p&gt;

&lt;p&gt;curl -X POST &quot;http://localhost:4502/does/not/exist.html/%22%3e%3cscript%3ealert(29679)%3c/script%3e&quot;&lt;/p&gt;

&lt;p&gt;I think this applies to both org/apache/sling/api/servlets/HtmlResponse and org/apache/sling/servlets/post/HtmlResponse, but not sure how to trigger the first one.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12507632">SLING-2082</key>
            <summary>XSS vulnerability: HtmlResponse output does not escape URLs in HTML</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="alexander.klimetschek">Alexander Klimetschek</reporter>
                        <labels>
                    </labels>
                <created>Wed, 18 May 2011 16:56:49 +0000</created>
                <updated>Fri, 4 Jul 2014 07:40:40 +0000</updated>
                            <resolved>Tue, 24 May 2011 13:11:09 +0000</resolved>
                                    <version>Servlets Post 2.1.0</version>
                    <version>API 2.2.0</version>
                                    <fixVersion>Servlets Post 2.1.2</fixVersion>
                    <fixVersion>API 2.2.2</fixVersion>
                                    <component>API</component>
                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13037977" author="bdelacretaz" created="Mon, 23 May 2011 14:46:54 +0000"  >&lt;p&gt;POST servlet modified in revision 1126521 to escape HTML output&lt;/p&gt;</comment>
                            <comment id="13037999" author="bdelacretaz" created="Mon, 23 May 2011 15:45:38 +0000"  >&lt;p&gt;sling/api class modified in revision 1126545 - that class is used by the *UserServlets among others, to test it I created a simple test servlet&lt;/p&gt;</comment>
                            <comment id="13038417" author="bdelacretaz" created="Tue, 24 May 2011 06:47:50 +0000"  >&lt;p&gt;Fixed in revision 1126566&lt;/p&gt;</comment>
                            <comment id="13038512" author="bdelacretaz" created="Tue, 24 May 2011 11:39:27 +0000"  >&lt;p&gt;HTML escaping is already available in the org.apache.sling.api.request.ResponseUtil class, we should use that instead.&lt;/p&gt;</comment>
                            <comment id="13038543" author="bdelacretaz" created="Tue, 24 May 2011 13:11:09 +0000"  >&lt;p&gt;Uses ResponseUtil in revision 1127023&lt;/p&gt;</comment>
                            <comment id="13051797" author="tripod" created="Mon, 20 Jun 2011 04:43:32 +0000"  >&lt;p&gt;the escaping changed the readability of the response, because it now escapes the &amp;lt;pre&amp;gt; and &amp;lt;br&amp;gt; tags. which now don&apos;t look nice in the browser anymore.&lt;br/&gt;
the intention of the xhtml response was that it is human and machine readable. further, it alters the DOM of the chagelog entry which might cause backward compatibility. &lt;/p&gt;

&lt;p&gt;IMO it would be better to only escape the actual changelog entries instead of the entire changelog.&lt;/p&gt;

&lt;p&gt;eg:&lt;br/&gt;
&amp;lt;td&amp;gt;ChangeLog&amp;lt;/td&amp;gt;&lt;br/&gt;
&amp;lt;td&amp;gt;&amp;lt;div id=&quot;ChangeLog&quot;&amp;gt;&lt;br/&gt;
&amp;lt;pre&amp;gt;created(&quot;/foo.txt&quot;);&amp;lt;br/&amp;gt;created(&quot;/bar.txt&quot;);&amp;lt;br/&amp;gt;&amp;lt;/pre&amp;gt;&lt;br/&gt;
&amp;lt;/div&amp;gt;&amp;lt;/td&amp;gt;&lt;/p&gt;</comment>
                            <comment id="14052237" author="bdelacretaz" created="Fri, 4 Jul 2014 07:40:40 +0000"  >&lt;p&gt;FWIW here&apos;s a curl example that demonstrates the resulting encoding:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;curl -s -e &lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;lt;script&amp;gt;alert(&lt;span class=&quot;code-quote&quot;&gt;&apos;argh&apos;&lt;/span&gt;)&amp;lt;/script&amp;gt;&quot;&lt;/span&gt; -X POST http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:8080/DOESNT_EXIST
&lt;/span&gt;&amp;lt;html&amp;gt;
&amp;lt;head&amp;gt;
    &amp;lt;title&amp;gt;Error &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; processing /DOESNT_EXIST&amp;lt;/title&amp;gt;
&amp;lt;/head&amp;gt;
    &amp;lt;body&amp;gt;
    &amp;lt;h1&amp;gt;Error &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; processing /DOESNT_EXIST&amp;lt;/h1&amp;gt;
...
            &amp;lt;tr&amp;gt;
                &amp;lt;td&amp;gt;Referer&amp;lt;/td&amp;gt;
                &amp;lt;td&amp;gt;&amp;lt;a href=&lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;amp;lt;script&amp;amp;gt;alert(&amp;amp;apos;argh&amp;amp;apos;)&amp;amp;lt;/script&amp;amp;gt;&quot;&lt;/span&gt;id=&lt;span class=&quot;code-quote&quot;&gt;&quot;Referer&quot;&lt;/span&gt;&amp;gt;&amp;amp;lt;script&amp;amp;gt;alert(&amp;amp;apos;argh&amp;amp;apos;)&amp;amp;lt;/script&amp;amp;gt;&amp;lt;/a&amp;gt;&amp;lt;/td&amp;gt;
            &amp;lt;/tr&amp;gt;
...
    &amp;lt;/body&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>64964</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 17 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10pd3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>212243</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2081] Bundle version manifest entry is a string (not a Version object)</title>
                <link>https://issues.apache.org/jira/browse/SLING-2081</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The BundleBundleVersionInfo assumes that the manifest entry for version returned by the Bundle object is of type Version - which is wrong - manifest entries are always of type String&lt;/p&gt;</description>
                <environment></environment>
        <key id="12507593">SLING-2081</key>
            <summary>Bundle version manifest entry is a string (not a Version object)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Wed, 18 May 2011 11:10:24 +0000</created>
                <updated>Tue, 16 Aug 2011 06:07:21 +0000</updated>
                            <resolved>Wed, 18 May 2011 11:13:11 +0000</resolved>
                                    <version>Commons OSGi 2.0.6</version>
                                    <fixVersion>Commons OSGi 2.1.0</fixVersion>
                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13035294" author="cziegeler" created="Wed, 18 May 2011 11:13:11 +0000"  >&lt;p&gt;Fixed in revision 1124188&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>64959</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 25 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10mqv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>211819</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2075] maven-sling-plugin does not fail build if installation failed</title>
                <link>https://issues.apache.org/jira/browse/SLING-2075</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Due to incorrect logic in my build script I the user/pass was not set correctly and bundle failed to install.&lt;br/&gt;
This should cause my build to fail.  For now just capturing maven output and grepping output for errors. &lt;/p&gt;

&lt;p&gt;maven-sling-plugin:2.0.4-incubator:install&lt;br/&gt;
....&lt;/p&gt;

&lt;p&gt;INFO: Failure authenticating with BASIC &apos;OSGi Management Console&apos;@localhost:4502&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Installation failed, cause: Unauthorized&lt;/p&gt;

&lt;p&gt;...&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; BUILD SUCCESS&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;/p&gt;


</description>
                <environment></environment>
        <key id="12506429">SLING-2075</key>
            <summary>maven-sling-plugin does not fail build if installation failed</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="justinedelson">Justin Edelson</assignee>
                                    <reporter username="kharriger">Kurt Harriger</reporter>
                        <labels>
                    </labels>
                <created>Fri, 6 May 2011 16:54:01 +0000</created>
                <updated>Thu, 12 Jan 2012 05:47:39 +0000</updated>
                            <resolved>Fri, 6 May 2011 18:26:38 +0000</resolved>
                                    <version>Maven Sling Plugin 2.0.4</version>
                                    <fixVersion>Maven Sling Plugin 2.0.6</fixVersion>
                                    <component>Maven Plugins and Archetypes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13030049" author="kharriger" created="Fri, 6 May 2011 17:40:13 +0000"  >&lt;p&gt;Patch is here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/kurtharriger/sling/tree/SLING-2075&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/kurtharriger/sling/tree/SLING-2075&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13030074" author="justinedelson" created="Fri, 6 May 2011 18:26:39 +0000"  >&lt;p&gt;in r1100313, adding an option failOnError. It defaults to false for backwards-compatibility reasons.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176837</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 26 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1eej3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>292283</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2074] Defining vanity path to target where user has no read permissions leads to redirect-loop</title>
                <link>https://issues.apache.org/jira/browse/SLING-2074</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;1. create a resource the anonymous user has no read access. e.g. /secrect/test&lt;br/&gt;
2. define a vanity url: path=&quot;/test&quot; redirect=&quot;true&quot;&lt;br/&gt;
3. request &quot;/test&quot; as admin -&amp;gt; redirect works&lt;br/&gt;
4. request &quot;/test&quot; as anonymous -&amp;gt; redirects to /test.html -&amp;gt; redirects to /test.html&lt;/p&gt;</description>
                <environment></environment>
        <key id="12506327">SLING-2074</key>
            <summary>Defining vanity path to target where user has no read permissions leads to redirect-loop</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="tripod">Tobias Bocanegra</reporter>
                        <labels>
                    </labels>
                <created>Thu, 5 May 2011 20:14:47 +0000</created>
                <updated>Mon, 18 Feb 2013 04:45:02 +0000</updated>
                            <resolved>Mon, 18 Feb 2013 04:45:02 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13580408" author="ianeboston" created="Mon, 18 Feb 2013 04:44:02 +0000"  >&lt;p&gt;curl commands to reproduce&lt;br/&gt;
curl -Fjcr:mixinTypes=sling:VanityPath -Fsling:vanityPath=/mypathA -Fsling:vanityPath=/mypathB -Fsling:redirect=true &lt;a href=&quot;http://admin:admin@localhost:8080/secret/test&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://admin:admin@localhost:8080/secret/test&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test both anon and admin on both paths is ok&lt;br/&gt;
curl -V &lt;a href=&quot;http://admin:admin@localhost:8080/mypathA&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://admin:admin@localhost:8080/mypathA&lt;/a&gt;&lt;br/&gt;
curl -V &lt;a href=&quot;http://admin:admin@localhost:8080/mypathB&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://admin:admin@localhost:8080/mypathB&lt;/a&gt;&lt;br/&gt;
curl -V &lt;a href=&quot;http://localhost:8080/mypathA&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/mypathA&lt;/a&gt;&lt;br/&gt;
curl -V &lt;a href=&quot;http://localhost:8080/mypathA&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/mypathA&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;All result in a 302 redirect&lt;/p&gt;

&lt;p&gt;Make /secret/test private to admin&lt;br/&gt;
curl -FprincipalId=anonymous -Fprivilege@jcr:read=denied &lt;a href=&quot;http://admin:admin@localhost:8080/secret/test.modifyAce.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://admin:admin@localhost:8080/secret/test.modifyAce.html&lt;/a&gt;&lt;br/&gt;
curl -FprincipalId=everyone -Fprivilege@jcr:read=denied &lt;a href=&quot;http://admin:admin@localhost:8080/secret/test.modifyAce.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://admin:admin@localhost:8080/secret/test.modifyAce.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;verify&lt;br/&gt;
curl -V &lt;a href=&quot;http://localhost:8080/secret/test&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/secret/test&lt;/a&gt;&lt;br/&gt;
gives a 404&lt;/p&gt;


&lt;p&gt;Redirects to &lt;a href=&quot;http://localhost:8080/secret/test.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/secret/test.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;curl -V &lt;a href=&quot;http://localhost:8080/mypathA&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/mypathA&lt;/a&gt;&lt;br/&gt;
curl -V &lt;a href=&quot;http://localhost:8080/mypathA&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/mypathA&lt;/a&gt;&lt;br/&gt;
Redirects to &lt;a href=&quot;http://localhost:8080/secret/test.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/secret/test.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Change to internal redirect&lt;br/&gt;
curl  -Fsling:redirect=false &lt;a href=&quot;http://admin:admin@localhost:8080/secret/test&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://admin:admin@localhost:8080/secret/test&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;test&lt;br/&gt;
Test both anon and admin on both paths is ok&lt;br/&gt;
curl -V &lt;a href=&quot;http://admin:admin@localhost:8080/mypathA&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://admin:admin@localhost:8080/mypathA&lt;/a&gt;&lt;br/&gt;
curl -V &lt;a href=&quot;http://admin:admin@localhost:8080/mypathB&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://admin:admin@localhost:8080/mypathB&lt;/a&gt;&lt;br/&gt;
Content returned&lt;/p&gt;


&lt;p&gt;curl -V &lt;a href=&quot;http://localhost:8080/mypathA&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/mypathA&lt;/a&gt;&lt;br/&gt;
curl -V &lt;a href=&quot;http://localhost:8080/mypathA&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/mypathA&lt;/a&gt;&lt;br/&gt;
404 returned&lt;/p&gt;


&lt;p&gt;AFAICT this is all worked as expected at r1446551&lt;/p&gt;

&lt;p&gt;The redirect loop you are seeing might have been caused by something cached in the browser since Sling doesnt return a redirect on /secret/test or a redirect on /test to /test.html infinitely.&lt;/p&gt;</comment>
                            <comment id="13580411" author="ianeboston" created="Mon, 18 Feb 2013 04:45:02 +0000"  >&lt;p&gt;Closing as cant reproduce. &lt;br/&gt;
If the steps to reproduce were incorrect and its possible to reproduce, please provide the steps as curl operations and reopen the issue.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35970</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 37 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i031fj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>15665</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2073] query parameters passed to servletContext.getRequestDispatcher() aren&apos;t visible in the included servlet/JSP </title>
                <link>https://issues.apache.org/jira/browse/SLING-2073</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;According to the servlet spec, when running code like this:&lt;/p&gt;

&lt;p&gt;RequestDispatcher rd = servletContext.getContext(&quot;/other&quot;).getRequestDispatcher(&quot;/page.jsp?foo=bar&quot;);&lt;br/&gt;
rd.include(request, response);&lt;/p&gt;

&lt;p&gt;the foo parameter is supposed to be visible in the included servlet/JSP.&lt;/p&gt;

&lt;p&gt;But in Sling, this is not the case - the included servlet/JSP doesn&apos;t see the request parameter foo.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12506325">SLING-2073</key>
            <summary>query parameters passed to servletContext.getRequestDispatcher() aren&apos;t visible in the included servlet/JSP </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="justinedelson">Justin Edelson</assignee>
                                    <reporter username="justinedelson">Justin Edelson</reporter>
                        <labels>
                    </labels>
                <created>Thu, 5 May 2011 19:19:24 +0000</created>
                <updated>Tue, 28 Jun 2011 18:10:27 +0000</updated>
                            <resolved>Thu, 5 May 2011 21:40:18 +0000</resolved>
                                    <version>Engine 2.2.2</version>
                                    <fixVersion>Engine 2.2.4</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13029588" author="justinedelson" created="Thu, 5 May 2011 21:40:20 +0000"  >&lt;p&gt;fixed in r1099977 by unwrapping to the last servlet request/response &lt;b&gt;before&lt;/b&gt; SlingHttpServletRequestImpl / SlingHttpServletResponseImpl&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>69834</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 26 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10n8f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>211898</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2071] Job is not locked and can be removed if locking manager is configured with &quot;none&quot;</title>
                <link>https://issues.apache.org/jira/browse/SLING-2071</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The remove check is currently based on checking if the node is locked - if the locking manager is configured to use no locking, then the job can be removed even if it is running.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12506071">SLING-2071</key>
            <summary>Job is not locked and can be removed if locking manager is configured with &quot;none&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Tue, 3 May 2011 16:13:10 +0000</created>
                <updated>Wed, 20 Sep 2017 13:03:58 +0000</updated>
                            <resolved>Tue, 3 May 2011 16:43:12 +0000</resolved>
                                    <version>Event 3.0.2</version>
                                    <fixVersion>Event 3.1.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13028302" author="cziegeler" created="Tue, 3 May 2011 16:43:12 +0000"  >&lt;p&gt;Resolved in revision 1099114&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176835</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 27 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i101yn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>208452</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2070] Members of the UserAdmin group can not create a new user</title>
                <link>https://issues.apache.org/jira/browse/SLING-2070</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The CreateUserServlet only allows for creation of user by either self registration or the administrator.&lt;br/&gt;
It is not possible for member of the UserAdmin group to create new users. However they can delete and change users.&lt;br/&gt;
That should probably be fixed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12505935">SLING-2070</key>
            <summary>Members of the UserAdmin group can not create a new user</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="enorman">Eric Norman</assignee>
                                    <reporter username="jocsch">Markus Joschko</reporter>
                        <labels>
                    </labels>
                <created>Mon, 2 May 2011 14:19:03 +0000</created>
                <updated>Fri, 20 Sep 2019 11:34:37 +0000</updated>
                            <resolved>Tue, 3 May 2011 05:30:16 +0000</resolved>
                                    <version>JCR Jackrabbit User Manager 2.1.0</version>
                                    <fixVersion>JCR Jackrabbit User Manager 2.2.0</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13028029" author="enorman" created="Tue, 3 May 2011 05:30:16 +0000"  >&lt;p&gt;Fixed in revision 1098913.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176834</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 27 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1eec7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>292252</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2067] AuthorizablePrivilegesInfo throws NPE when used in a script that is being rendered for the anonymous user</title>
                <link>https://issues.apache.org/jira/browse/SLING-2067</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When the current user is anonymous, the userManager.getAuthorizable(jcrSession.getUserID()) call returns null.&lt;/p&gt;

&lt;p&gt;In the AuthorizablePrivilegesInfo impl, AuthorizablePrivilegesInfo.canAddGroup(..) and AuthorizablePrivilegesInfo.canAddUser(..) need a null check for the current authorizable object before attempting to use it.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12505890">SLING-2067</key>
            <summary>AuthorizablePrivilegesInfo throws NPE when used in a script that is being rendered for the anonymous user</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="enorman">Eric Norman</assignee>
                                    <reporter username="enorman">Eric Norman</reporter>
                        <labels>
                    </labels>
                <created>Sun, 1 May 2011 23:12:01 +0000</created>
                <updated>Fri, 20 Sep 2019 11:34:37 +0000</updated>
                            <resolved>Sun, 1 May 2011 23:13:15 +0000</resolved>
                                    <version>JCR Jackrabbit User Manager 2.1.0</version>
                                    <fixVersion>JCR Jackrabbit User Manager 2.2.0</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13027509" author="enorman" created="Sun, 1 May 2011 23:13:15 +0000"  >&lt;p&gt;Fixed in revision 1098439.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176831</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 27 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10mrz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>211824</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2066] Improve error reporting for validation errors in the create user and create group servlets</title>
                <link>https://issues.apache.org/jira/browse/SLING-2066</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;CreateUserServlet:&lt;br/&gt;
1. empty :name parameter should report a better error&lt;/p&gt;

&lt;p&gt;CreateGroupServlet:&lt;br/&gt;
1. empty :name parameter should report a better error&lt;br/&gt;
2. no need to catch and rethrow the RepositoryException since that obscures the real error&lt;/p&gt;</description>
                <environment></environment>
        <key id="12505888">SLING-2066</key>
            <summary>Improve error reporting for validation errors in the create user and create group servlets</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="enorman">Eric Norman</assignee>
                                    <reporter username="enorman">Eric Norman</reporter>
                        <labels>
                    </labels>
                <created>Sun, 1 May 2011 23:05:32 +0000</created>
                <updated>Fri, 20 Sep 2019 11:34:37 +0000</updated>
                            <resolved>Sun, 1 May 2011 23:06:35 +0000</resolved>
                                    <version>JCR Jackrabbit User Manager 2.1.0</version>
                                    <fixVersion>JCR Jackrabbit User Manager 2.2.0</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13027507" author="enorman" created="Sun, 1 May 2011 23:06:35 +0000"  >&lt;p&gt;Fixed in revision 1098436.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176830</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 27 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1eecn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>292254</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2063] If a node is removed and added in one go, resource added event should be fired</title>
                <link>https://issues.apache.org/jira/browse/SLING-2063</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If a resource is removed and added in one session operation, the bridge logic compacts this to a resource remove event and not a resource added event.&lt;/p&gt;

&lt;p&gt;For the following set of jcr observation events:&lt;br/&gt;
JCR: Event: Path: /content/en/channels/second, NodeRemoved: , UserId: admin, Timestamp: 1304097112590, UserData: null, Info: {}&lt;br/&gt;
JCR: Event: Path: /content/en/channels/second, NodeAdded: , UserId: admin, Timestamp: 1304097112590, UserData: null, Info: {}&lt;br/&gt;
JCR: Event: Path: /content/en/channels/third, NodeRemoved: , UserId: admin, Timestamp: 1304097112590, UserData: null, Info: {}&lt;br/&gt;
JCR: Event: Path: /content/en/channels/third, NodeAdded: , UserId: admin, Timestamp: 1304097112590, UserData: null, Info: {}&lt;br/&gt;
these OSGi resource events are generated:&lt;br/&gt;
SLING: path=/content/en/channels/third topic=org/apache/sling/api/resource/Resource/REMOVED&lt;br/&gt;
SLING: path=/content/en/channels/third topic=org/apache/sling/api/resource/Resource/REMOVED&lt;/p&gt;

&lt;p&gt;We should check the order of jcr events when compacting: remove followed by add is an add, add followed by a remove is a remove&lt;/p&gt;</description>
                <environment></environment>
        <key id="12505836">SLING-2063</key>
            <summary>If a node is removed and added in one go, resource added event should be fired</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Sat, 30 Apr 2011 06:34:17 +0000</created>
                <updated>Fri, 18 May 2012 07:46:38 +0000</updated>
                            <resolved>Mon, 2 May 2011 06:21:09 +0000</resolved>
                                    <version>JCR Resource 2.0.10</version>
                                    <fixVersion>JCR Resource 2.1.0</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13027562" author="cziegeler" created="Mon, 2 May 2011 06:21:09 +0000"  >&lt;p&gt;Fixed in revision 1098497&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176828</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 27 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1eecv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>292255</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2058] DefineObjects tag should not reset page context state</title>
                <link>https://issues.apache.org/jira/browse/SLING-2058</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When the release method of the tag is called, it should reset the state of the tag object but not the state of the page context!&lt;/p&gt;</description>
                <environment></environment>
        <key id="12505167">SLING-2058</key>
            <summary>DefineObjects tag should not reset page context state</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Tue, 26 Apr 2011 08:37:09 +0000</created>
                <updated>Tue, 3 May 2011 17:04:20 +0000</updated>
                            <resolved>Tue, 26 Apr 2011 08:43:30 +0000</resolved>
                                    <version>Scripting JSP-Taglib 2.1.0</version>
                                    <fixVersion>Scripting JSP-Taglib 2.1.2</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13025135" author="cziegeler" created="Tue, 26 Apr 2011 08:43:30 +0000"  >&lt;p&gt;Resolved in revision 1096696&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176825</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 28 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10mpj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>211813</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2051] Sling does not shut down cleanly on Windows Server 2008</title>
                <link>https://issues.apache.org/jira/browse/SLING-2051</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Sling 6 does not shut down cleanly on Windows Server 2008 and the process must be killed manually.&lt;/p&gt;

&lt;p&gt;The problem was discovered when we upgraded our Tomcat-based application to Sling 6, but it also occurs using an unmodified copy of the Sling Standalone Application.  We consistently see the problem on all Windows Server 2008 machines.&lt;/p&gt;

&lt;p&gt;After coming across &lt;a href=&quot;#SLING-2020&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;SLING-2020&lt;/a&gt; Update to latest Apache Felix Event Admin 1.2.10, I tried replacing the Apache Felix EventAdmin 1.2.10 bundle with the Knopflerfish Event-Admin 3.0.4 bundle (you will also need their Log Service bundle).  Using the Knopflerfish bundle, the issue no longer occurred.&lt;/p&gt;</description>
                <environment>Windows Server 2008 SP2 (Enterprise), JRE 1.6.0_24-b07, Sling 6</environment>
        <key id="12504071">SLING-2051</key>
            <summary>Sling does not shut down cleanly on Windows Server 2008</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="mbanner">Matt Banner</reporter>
                        <labels>
                    </labels>
                <created>Tue, 12 Apr 2011 15:42:32 +0000</created>
                <updated>Wed, 20 Sep 2017 12:17:13 +0000</updated>
                            <resolved>Wed, 4 Jan 2012 08:39:19 +0000</resolved>
                                                    <fixVersion>Launchpad Builder 6</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13019233" author="fmeschbe" created="Wed, 13 Apr 2011 07:18:09 +0000"  >&lt;p&gt;I assume this is really a deadlock in the Apache Felix Event Admin Bundle (I may also have seen on my Linux box). Can you please attach a Thread Dump of this dead lock ? Thanks.&lt;/p&gt;</comment>
                            <comment id="13019354" author="mbanner" created="Wed, 13 Apr 2011 14:30:35 +0000"  >&lt;p&gt;Here are two thread dumps:&lt;/p&gt;

&lt;p&gt;sling6.thread_dump.01.txt was taken about 10 seconds after a shutdown of Sling was attempted.  &lt;/p&gt;

&lt;p&gt;sling6.thread_dump.02.txt was taken a couple minutes later.  I include it because quite a few of the threads from the first dump have stopped by this point.&lt;/p&gt;</comment>
                            <comment id="13019359" author="cziegeler" created="Wed, 13 Apr 2011 14:47:10 +0000"  >&lt;p&gt;Test bundle&lt;/p&gt;</comment>
                            <comment id="13019360" author="cziegeler" created="Wed, 13 Apr 2011 14:47:56 +0000"  >&lt;p&gt;Hi Matt&lt;/p&gt;

&lt;p&gt;I&apos;ve attached a new Apache Felix EventAdmin bundle where I think the problem should be fixed.&lt;br/&gt;
Could you please test with that version? (I can&apos;t reproduce it on my machine)&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="13019410" author="mbanner" created="Wed, 13 Apr 2011 16:21:06 +0000"  >&lt;p&gt;That seems to do the trick.&lt;/p&gt;

&lt;p&gt;I had to add the org.osgi,service.event.* classes to the JAR and update its manifest to include an Export-Package line (I just copied both from the 1.2.10 JAR), but with that done eventing continues to work correctly and the shutdown issue no longer occurs.&lt;/p&gt;</comment>
                            <comment id="13019733" author="cziegeler" created="Thu, 14 Apr 2011 08:43:54 +0000"  >&lt;p&gt;Thanks Matt - it seems that the setup in the Felix project changed (sorry for not checking that)&lt;br/&gt;
I&apos;ll open an issue in the Felix project and will commit my patch&lt;/p&gt;</comment>
                            <comment id="13179343" author="cziegeler" created="Wed, 4 Jan 2012 08:39:19 +0000"  >&lt;p&gt;So this is fixed with a newer event admin release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12476244" name="org.apache.felix.eventadmin-1.2.11-SNAPSHOT.jar" size="196487" author="cziegeler" created="Wed, 13 Apr 2011 14:47:10 +0000"/>
                            <attachment id="12476241" name="sling6.thread_dump.01.txt" size="27797" author="mbanner" created="Wed, 13 Apr 2011 14:30:34 +0000"/>
                            <attachment id="12476242" name="sling6.thread_dump.02.txt" size="15542" author="mbanner" created="Wed, 13 Apr 2011 14:30:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35973</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 44 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10apz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>209871</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2050] PostServletOutputContentTypeTest shouldn&apos;t rely on a StackOverflowError</title>
                <link>https://issues.apache.org/jira/browse/SLING-2050</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;PostServletOutputContentTypeTest uses a recursive copy to cause a server-side error. The operation causes a StackOverflowError which can take a long time to come up, and could cause other issues server-side.&lt;/p&gt;

&lt;p&gt;To avoid problems, the test should use another operation to cause a server-side error.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12504024">SLING-2050</key>
            <summary>PostServletOutputContentTypeTest shouldn&apos;t rely on a StackOverflowError</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Tue, 12 Apr 2011 08:33:09 +0000</created>
                <updated>Tue, 12 Apr 2011 09:06:46 +0000</updated>
                            <resolved>Tue, 12 Apr 2011 09:06:46 +0000</resolved>
                                                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13018767" author="bdelacretaz" created="Tue, 12 Apr 2011 09:06:46 +0000"  >&lt;p&gt;Fixed in revision 1091328, the test now uses an invalid post servlet operation to trigger an error.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176821</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 30 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10cmf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>210179</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2049] Wrong URL unescaping</title>
                <link>https://issues.apache.org/jira/browse/SLING-2049</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;there is a difference when requesting with or without an escaped url. for example:&lt;/p&gt;

&lt;p&gt;curl -v -u admin:admin &quot;http://localhost:4502/content/foo test.html&quot;&lt;br/&gt;
...&lt;br/&gt;
&amp;lt;p&amp;gt;The requested URL /content/foo was not found on this server.&amp;lt;/p&amp;gt;&lt;/p&gt;

&lt;p&gt;and&lt;/p&gt;

&lt;p&gt;curl -v -u admin:admin &quot;http://localhost:4502/content/foo%20test.html&quot;&lt;br/&gt;
...&lt;br/&gt;
&amp;lt;p&amp;gt;The requested URL /content/foo%20test.html was not found on this server.&amp;lt;/p&amp;gt;&lt;/p&gt;

&lt;p&gt;Expected that the %20 is unescaped before resolved.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12503545">SLING-2049</key>
            <summary>Wrong URL unescaping</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="tripod">Tobias Bocanegra</reporter>
                        <labels>
                    </labels>
                <created>Wed, 6 Apr 2011 19:31:02 +0000</created>
                <updated>Wed, 6 Apr 2011 20:03:47 +0000</updated>
                            <resolved>Wed, 6 Apr 2011 20:03:47 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13016501" author="tripod" created="Wed, 6 Apr 2011 20:03:47 +0000"  >&lt;p&gt;sorry my bad. the %20 actually works. i.e. if there is a resource at &quot;/content/foo test&quot; it is resolved. the error lies in the servlet container that did not produce the correct url.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176820</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 31 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10icn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>211107</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2045] JcrResourceBundle should cache the key as its value if the query returns no resource</title>
                <link>https://issues.apache.org/jira/browse/SLING-2045</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The JcrResourceBundle.handleObject(String) method uses a query to find a resource for the key, if it has not cached it yet. If such a resource is found, it is cached and returned. If no resource is found the key is returned but not put into the cache.&lt;/p&gt;

&lt;p&gt;On repeated query of the same key the same query is run over and over. This causes a majore performance hit.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12503273">SLING-2045</key>
            <summary>JcrResourceBundle should cache the key as its value if the query returns no resource</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Mon, 4 Apr 2011 11:42:24 +0000</created>
                <updated>Wed, 20 Sep 2017 12:20:53 +0000</updated>
                            <resolved>Mon, 4 Apr 2011 12:04:33 +0000</resolved>
                                    <version>I18n 2.0.4</version>
                                    <fixVersion>I18n 2.1.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13015366" author="fmeschbe" created="Mon, 4 Apr 2011 11:48:14 +0000"  >&lt;p&gt;In fact, thinking about it a bit more, I wonder, whether on-demand loading is still viable:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;It makes the code more complex&lt;/li&gt;
	&lt;li&gt;Querying a single message amounts to scanning more than a single message&lt;br/&gt;
     (since the initial code we made key property optional using the node name as the key instead)&lt;/li&gt;
	&lt;li&gt;Over time the complete (or almost complete) resource bundle will be loaded anyway.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Thus I think we should forget about on-demand loading and instead fully load the resources when the ResourceBundle is first loaded.&lt;/p&gt;</comment>
                            <comment id="13015371" author="cziegeler" created="Mon, 4 Apr 2011 12:00:40 +0000"  >&lt;p&gt;Big +1&lt;/p&gt;</comment>
                            <comment id="13015372" author="fmeschbe" created="Mon, 4 Apr 2011 12:04:33 +0000"  >&lt;p&gt;Simplified JcrResourceBundle in Rev. 1088573 to fully load the resources on instantiation and remove all on-demand loading support and functionality.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176816</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 31 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1014n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>208317</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2039] Output lost with JSPs and sling:include</title>
                <link>https://issues.apache.org/jira/browse/SLING-2039</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Using a single output buffer per included resource may lead to loss of response data.&lt;/p&gt;

&lt;p&gt;Consider this setup:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;main request handled by html.jsp. Some data is written to &quot;out&quot; (buffering JspWriter)&lt;/li&gt;
	&lt;li&gt;html.jsp incudes another jsp (list.html.jsp) which in turn writes more data&lt;/li&gt;
	&lt;li&gt;html.jsp continues writing to the output&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;If list.html.jsp sends less than the JspWriter&apos;s buffer, everything is fine.&lt;/p&gt;

&lt;p&gt;As soon as the JspWritter buffer overflows, though, only the first bytes of the actual response (exactly the size of the JspWriter buffer) is returned.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12502851">SLING-2039</key>
            <summary>Output lost with JSPs and sling:include</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Wed, 30 Mar 2011 08:51:07 +0000</created>
                <updated>Tue, 28 Jun 2011 18:10:26 +0000</updated>
                            <resolved>Wed, 30 Mar 2011 09:59:02 +0000</resolved>
                                    <version>Engine 2.2.2</version>
                                    <fixVersion>Engine 2.2.4</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13012890" author="fmeschbe" created="Wed, 30 Mar 2011 09:08:09 +0000"  >&lt;p&gt;Investigation shows a problematic interfaction between three bundles:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;the Engine maintaining buffers per included resource&lt;/li&gt;
	&lt;li&gt;Scripting Core using OnDemandWriter to postpone accessing the actual writer until data is written&lt;/li&gt;
	&lt;li&gt;JSP&apos;s JspWriter which itself buffers output (8K by default in Sling&apos;s Jasper)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;What happens is as follows:&lt;/p&gt;

&lt;p&gt;(1) html.jsp writes to the JspWriter 1 which is based on OnDemandWriter 1. The actual response writer is not retrieved yet&lt;br/&gt;
(2) list.html.jsp is included&lt;br/&gt;
(3) list.html.jsp writes to JspWriter 2 which is based on OnDemandWriter 2&lt;br/&gt;
(4) Once list.html.jsp writes data in excess of the JspWriter2&apos;s buffer the data is written to OnDemandWriter 2.&lt;br/&gt;
(5) This causes OnDemandWriter 2 to write to JspWriter 1.&lt;br/&gt;
(6) This will immediately cause JspWriter 1 to have to write since the buffer overflows.&lt;br/&gt;
(7) Thus OnDemandWriter 1 gets the PrintWriter from the SlingHttpServletResponseImpl&lt;br/&gt;
(8) SlingHttpServlteResponseImpl gets a BufferedPrintWriter 2 from the currentContentData (which is related to the list.html.jsp script)&lt;br/&gt;
(8a) the BufferedPrintWriter 2 is backed by BufferedPrintWriter 1 related to the html.jsp script&lt;br/&gt;
(9) OnDemandWriter 1 writes to the BufferedPrintWriter&lt;br/&gt;
(10) list.html.jsp terminates and the of JspWriter 2 is flushed to OnDemandWriter 2 and in turn to JspWriter 1 (buffering again)&lt;br/&gt;
(11) upon termination of list.html.jsp the currentContentData is disposed and BufferedPrintWriter 2 is written to the BufferedPrintWriter 1&lt;br/&gt;
(11) html.jsp writes some more data to JspWriter 1&lt;br/&gt;
(12) html.jsp terminates and remaining data from JspWriter 1 is flushed to OnDemandWriter 1 and thus BufferedPrintWriter 2&lt;br/&gt;
(13) upon termination of html.jsp the currentContentData is disposed and BufferedPrintWriter 1 sent to the client&lt;/p&gt;

&lt;p&gt;The problem is that the &quot;lowest&quot; OnDemandWriter 1 is backed by BufferedPrintWriter 2 which belonged to the highest included request. But since BufferedPrintWriter 2 is not flushed any more when the html.jsp script ends (because it has already been flushed when list.html.jsp ended) some output remains in the defunct buffer.&lt;/p&gt;

&lt;p&gt;The simplest fix is to not use a buffer per ContentData but a single global buffer for the RequestData. This also uses less memory, is easier to handle (less cycles spent managing it), simpler to maintain. Having a buffer per ContentData dates way back before Apache Sling and has probably (cannot remember any more, sorry) done for some stupid reason in the pre-HttpServletWrapper days.....&lt;/p&gt;</comment>
                            <comment id="13012902" author="fmeschbe" created="Wed, 30 Mar 2011 09:59:02 +0000"  >&lt;p&gt;Removed Sling&apos;s internal output buffering completely in Rev. 1086883&lt;/p&gt;

&lt;p&gt;For historical reasons predating Apache Sling by years (aeons I dare say) Sling Engine maintained its own response buffering down to a processing component level.&lt;/p&gt;

&lt;p&gt;Since servlet containers nowaydays all implement response buffering there is no reason for Sling to do it, too.&lt;/p&gt;</comment>
                            <comment id="13012904" author="fmeschbe" created="Wed, 30 Mar 2011 10:07:54 +0000"  >&lt;p&gt;Simple test scenario for this issue. Upload attached file using curl:&lt;/p&gt;

&lt;p&gt;$ curl -u user:pass -F&quot;:contentType=jcr.xml&quot; -F:operation=import -F:name=jcr-test -F:contentFile=@&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2039&quot; title=&quot;Output lost with JSPs and sling:include&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2039&quot;&gt;&lt;del&gt;SLING-2039&lt;/del&gt;&lt;/a&gt;-test.xml &lt;a href=&quot;http://host:port/apps&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://host:port/apps&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Then send a request to /apps/jsp-test.html; e.g. with curl:&lt;/p&gt;

&lt;p&gt;$ curl -u user:pass &lt;a href=&quot;http://host:port/apps/jsp_test.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://host:port/apps/jsp_test.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;If the server replies with a proper HTML response (ends with &amp;lt;html&amp;gt;) everything is fine. If the server replies with just a bunch of lower-case a characters then the error manifests itself.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12474958" name="SLING-2039-test.xml" size="4267" author="fmeschbe" created="Wed, 30 Mar 2011 10:07:54 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>69836</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 32 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10nav:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>211909</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2035] Import does not properly handle replace import</title>
                <link>https://issues.apache.org/jira/browse/SLING-2035</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Importing (system view) content has several flaws:&lt;/p&gt;

&lt;p&gt;(1) if :name request parameter is given and a node exists of that name the request fails with a RepositoryException. Rather the request should either replace the existing node (if the :replace request parameter is true) or terminate the request with a 412/PRECONDITION FAILED otherwise&lt;/p&gt;

&lt;p&gt;(2) If the import operation replaces an existing node, the request is actually not a creation request but a modification request. The response status should thus (in case of success) be 200/OK and not 201/CREATED.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12502571">SLING-2035</key>
            <summary>Import does not properly handle replace import</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Mon, 28 Mar 2011 12:51:10 +0000</created>
                <updated>Wed, 20 Sep 2017 12:04:14 +0000</updated>
                            <resolved>Mon, 28 Mar 2011 13:19:49 +0000</resolved>
                                    <version>Servlets Post 2.1.0</version>
                                    <fixVersion>Servlets Post 2.1.2</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13012043" author="fmeschbe" created="Mon, 28 Mar 2011 13:19:49 +0000"  >&lt;p&gt;Fixed in Rev. 1086221.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176811</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 32 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i101cn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>208353</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2034] ImportOptions ignored for System View import</title>
                <link>https://issues.apache.org/jira/browse/SLING-2034</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Importing system view formatted content over an existing node does not work even if ImportOptions.isOverwrite() returns true.&lt;/p&gt;

&lt;p&gt;Problem is that the system view import is not provided with the import options ..&lt;/p&gt;</description>
                <environment></environment>
        <key id="12502564">SLING-2034</key>
            <summary>ImportOptions ignored for System View import</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Mon, 28 Mar 2011 11:49:23 +0000</created>
                <updated>Tue, 31 Jan 2012 10:57:41 +0000</updated>
                            <resolved>Mon, 28 Mar 2011 12:47:03 +0000</resolved>
                                    <version>JCR ContentLoader 2.1.2</version>
                                    <fixVersion>JCR ContentLoader 2.1.4</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13012031" author="fmeschbe" created="Mon, 28 Mar 2011 12:47:03 +0000"  >&lt;p&gt;Fixed in Rev. 1086215 by considering ImportOptions.isOverwrite() to decide whether to actually overwrite an existing import location or not&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176810</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 32 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10mgf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>211772</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2033] Unexpected NullPointerException on System View import</title>
                <link>https://issues.apache.org/jira/browse/SLING-2033</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Importing Content in the DefaultContentImporter with a name of just &quot;jcr.xml&quot; will select the System View import mechanism but causes the import to indirectly fail because the name used for checking the existence of the imported node in the DefaultContentImporter.importSystemView method is empty. On repository implementation is known to throw a NullPointerException in this case....&lt;/p&gt;

&lt;p&gt;Fix is to check whether the name is not empty before checking for the existence of the node.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12502561">SLING-2033</key>
            <summary>Unexpected NullPointerException on System View import</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Mon, 28 Mar 2011 10:57:12 +0000</created>
                <updated>Tue, 31 Jan 2012 10:57:43 +0000</updated>
                            <resolved>Mon, 28 Mar 2011 11:03:18 +0000</resolved>
                                    <version>JCR ContentLoader 2.1.2</version>
                                    <fixVersion>JCR ContentLoader 2.1.4</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13011997" author="fmeschbe" created="Mon, 28 Mar 2011 11:03:18 +0000"  >&lt;p&gt;Actually the expected node name must not be empty because it is also used after the import to return the imported node. Thus if the name is empty (or consists of the jcr.xml extension only), an IOException with a message is now thrown.&lt;/p&gt;

&lt;p&gt;Fixed in Rev. 1086183&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176809</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 32 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10mj3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>211784</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2029] RemoteTestHttpClient does not support credentials</title>
                <link>https://issues.apache.org/jira/browse/SLING-2029</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;RemoteTestHttpClient should allow tests to provide credentials&lt;/p&gt;</description>
                <environment></environment>
        <key id="12501156">SLING-2029</key>
            <summary>RemoteTestHttpClient does not support credentials</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Fri, 11 Mar 2011 15:29:27 +0000</created>
                <updated>Fri, 15 Feb 2013 10:29:02 +0000</updated>
                            <resolved>Fri, 15 Feb 2013 10:29:02 +0000</resolved>
                                                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13006830" author="chetanm" created="Tue, 15 Mar 2011 08:17:50 +0000"  >&lt;p&gt;Patch for supporting addition of credentials based on a ThreadLocal request processor&lt;/p&gt;</comment>
                            <comment id="13006848" author="chetanm" created="Tue, 15 Mar 2011 09:00:44 +0000"  >&lt;p&gt;The patch provides one possible approach based on passing the Request object to a RequestProcessor. The RequestProcessor instance is obtained from a ThreadLocal which can be specified by the TestCase in the Before execution phase depending on the testcase being run&lt;/p&gt;</comment>
                            <comment id="13009678" author="bdelacretaz" created="Tue, 22 Mar 2011 15:29:56 +0000"  >&lt;p&gt;Thanks for your contribution! &lt;/p&gt;

&lt;p&gt;I&apos;m not a fan of thread locals at the framework level if we can avoid them, so I implemented a different mechanism in revision 1084217, using optional interfaces.&lt;/p&gt;

&lt;p&gt;The SlingRemoteExecutionRule class is a RequestCustomizer which does nothing by default, but if you want to use thread locals in your project inheriting your own rule class from that one should work.&lt;/p&gt;

&lt;p&gt;Please let us know if this works for you, and I&apos;ll close this issue if it does.&lt;/p&gt;</comment>
                            <comment id="13579078" author="bdelacretaz" created="Fri, 15 Feb 2013 10:29:02 +0000"  >&lt;p&gt;Marking resolved, feel free to reopen if needed&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12473652" name="Threadlocal-based-approach.patch" size="5744" author="chetanm" created="Tue, 15 Mar 2011 08:17:50 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35975</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 37 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i031gf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>15669</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2028] SlingClient: conversion of Location header value to path assumes hostname is present</title>
                <link>https://issues.apache.org/jira/browse/SLING-2028</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The o.a.s.testing.tools SlingClient.createNode() method breaks if the Location header value is shorter than slingServerUrl.length() - use a more robust extraction method.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12501155">SLING-2028</key>
            <summary>SlingClient: conversion of Location header value to path assumes hostname is present</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Fri, 11 Mar 2011 15:28:27 +0000</created>
                <updated>Fri, 11 Mar 2011 15:52:20 +0000</updated>
                            <resolved>Fri, 11 Mar 2011 15:52:20 +0000</resolved>
                                                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13005687" author="bdelacretaz" created="Fri, 11 Mar 2011 15:52:20 +0000"  >&lt;p&gt;Fixed in revision 1080625&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176805</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 34 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10cen:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>210144</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2026] Junit Core Bundle packages duplicate copy of JUnit classes</title>
                <link>https://issues.apache.org/jira/browse/SLING-2026</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The org.apache.sling.junit.core Bundle embed the Junit jar. The bundle produced has Junit classes present as inline and also as part of embedded jar&lt;/p&gt;

&lt;p&gt;The maven-bundle-plugin should have one of the following two configuration&lt;br/&gt;
1. Inline the Junit jar dependency&lt;br/&gt;
2. Use _exportcontent instead of the Export-Package for exporting clases which are part of any embedded  jar&lt;/p&gt;

&lt;p&gt;For more details have a look at &lt;a href=&quot;http://felix.apache.org/site/apache-felix-maven-bundle-plugin-bnd.html#ApacheFelixMavenBundlePlugin%28BND%29-EmbedDependencyandExportPackage&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://felix.apache.org/site/apache-felix-maven-bundle-plugin-bnd.html#ApacheFelixMavenBundlePlugin%28BND%29-EmbedDependencyandExportPackage&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12500736">SLING-2026</key>
            <summary>Junit Core Bundle packages duplicate copy of JUnit classes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="chetanm">Chetan Mehrotra</reporter>
                        <labels>
                    </labels>
                <created>Tue, 8 Mar 2011 08:21:50 +0000</created>
                <updated>Wed, 9 Mar 2011 15:41:28 +0000</updated>
                            <resolved>Wed, 9 Mar 2011 15:41:28 +0000</resolved>
                                                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13004618" author="bdelacretaz" created="Wed, 9 Mar 2011 15:41:28 +0000"  >&lt;p&gt;Fixed in revision 1079844, thanks for the detailed report!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176803</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 35 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10cjj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>210166</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2025] Registered LogListeners don&apos;t get messages sent through SLF4J</title>
                <link>https://issues.apache.org/jira/browse/SLING-2025</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When a log message is sent through LogService, the message also goes out to LogListeners registered with LogReaderService. When a log message is sent through SLF4J, it bypasses LogService and thusly the LogReaderService and no LogListeners receive the log message.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12500728">SLING-2025</key>
            <summary>Registered LogListeners don&apos;t get messages sent through SLF4J</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="thecarlhall">Carl Franklin Hall</reporter>
                        <labels>
                    </labels>
                <created>Tue, 8 Mar 2011 06:15:48 +0000</created>
                <updated>Tue, 8 Mar 2011 14:22:31 +0000</updated>
                            <resolved>Tue, 8 Mar 2011 14:22:31 +0000</resolved>
                                                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13003862" author="fmeschbe" created="Tue, 8 Mar 2011 08:36:50 +0000"  >&lt;p&gt;Works as designed I might say &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;LogListener is a functionality of the OSGi Log Service specification so only log messages sent to the OSGi LogService are sent to log listeners.&lt;/p&gt;

&lt;p&gt;More on the dev list &lt;a href=&quot;http://markmail.org/message/eggzlxx7x5bkqyjp&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://markmail.org/message/eggzlxx7x5bkqyjp&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13003959" author="thecarlhall" created="Tue, 8 Mar 2011 14:22:31 +0000"  >&lt;p&gt;As noted by Felix with details on the dev@ mail list, this is working as designed. Injecting into the logger will be handled by changes made in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2024&quot; title=&quot;Replace file logger with logback&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2024&quot;&gt;&lt;del&gt;SLING-2024&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>97647</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 35 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10itb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>211182</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2019] explorer doesn&apos;t work when sling is used in a non-root context</title>
                <link>https://issues.apache.org/jira/browse/SLING-2019</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;error in JCR Explorer when sling is used in a non-root context,&lt;br/&gt;
explorer 0.9.0-SNAPSHOT works &lt;/p&gt;</description>
                <environment>sling from trunk Revision: 1076292</environment>
        <key id="12500611">SLING-2019</key>
            <summary>explorer doesn&apos;t work when sling is used in a non-root context</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="enorman">Eric Norman</assignee>
                                    <reporter username="meiko">Meiko Rachimow</reporter>
                        <labels>
                    </labels>
                <created>Mon, 7 Mar 2011 10:37:12 +0000</created>
                <updated>Fri, 20 Sep 2019 11:34:34 +0000</updated>
                            <resolved>Sat, 26 Mar 2011 19:13:08 +0000</resolved>
                                    <version>Sling Explorer 1.0.0</version>
                    <version>Sling Explorer 1.0.2</version>
                                    <fixVersion>Sling Explorer 1.0.4</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13003317" author="meiko" created="Mon, 7 Mar 2011 10:37:56 +0000"  >&lt;p&gt;same problem was described here&lt;/p&gt;</comment>
                            <comment id="13011669" author="enorman" created="Sat, 26 Mar 2011 19:13:08 +0000"  >&lt;p&gt;Fixed in revision 1085787.  Please verify that it works as expected now.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12473833">SLING-1751</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176799</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 32 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i101ev:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>208363</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2018] Using RepositoryAccessor inside a bundle</title>
                <link>https://issues.apache.org/jira/browse/SLING-2018</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I install a bundle with a Felix activator inside the Sling/Felix version builded from the trunk.&lt;/p&gt;

&lt;p&gt;Here the code inside the activate method:&lt;/p&gt;

&lt;p&gt;		RepositoryAccessor  repositoryAccessor = new RepositoryAccessor();&lt;br/&gt;
		Repository repository = repositoryAccessor.getRepositoryFromURL(&quot;jndi://jackrabbit:java.naming.factory.initial=org.apache.jackrabbit.core.jndi.provider.DummyInitialContextFactory,java.naming.provider.url=localhost&quot;);&lt;/p&gt;


&lt;p&gt;I get this Exception:&lt;/p&gt;

&lt;p&gt;javax.naming.NoInitialContextException: Cannot instantiate class: org.apache.jackrabbit.core.jndi.provider.DummyInitialContextFactory &lt;span class=&quot;error&quot;&gt;&amp;#91;Root exception is java.lang.ClassNotFoundException: org.apache.jackrabbit.core.jndi.provider.DummyInitialContextFactory&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at javax.naming.spi.NamingManager.getInitialContext(NamingManager.java:657)&lt;br/&gt;
	at javax.naming.InitialContext.getDefaultInitCtx(InitialContext.java:288)&lt;br/&gt;
	at javax.naming.InitialContext.init(InitialContext.java:223)&lt;br/&gt;
	at javax.naming.InitialContext.&amp;lt;init&amp;gt;(InitialContext.java:197)&lt;br/&gt;
	at org.apache.sling.jcr.base.util.RepositoryAccessor.getRepository(RepositoryAccessor.java:75)&lt;br/&gt;
	at org.apache.sling.jcr.base.util.RepositoryAccessor.getRepositoryFromURL(RepositoryAccessor.java:171)&lt;br/&gt;
	at com.sourcesense.stone.jcr.base.Activator.start(Activator.java:32)&lt;br/&gt;
	at org.apache.felix.framework.util.SecureAction.startActivator(SecureAction.java:629)&lt;br/&gt;
	at org.apache.felix.framework.Felix.activateBundle(Felix.java:1827)&lt;br/&gt;
	at org.apache.felix.framework.Felix.startBundle(Felix.java:1744)&lt;br/&gt;
	at org.apache.felix.framework.Felix.setActiveStartLevel(Felix.java:1148)&lt;br/&gt;
	at org.apache.felix.framework.StartLevelImpl.run(StartLevelImpl.java:264)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:680)&lt;br/&gt;
Caused by: java.lang.ClassNotFoundException: org.apache.jackrabbit.core.jndi.provider.DummyInitialContextFactory&lt;br/&gt;
	at java.net.URLClassLoader$1.run(URLClassLoader.java:202)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(Native Method)&lt;br/&gt;
	at java.net.URLClassLoader.findClass(URLClassLoader.java:190)&lt;br/&gt;
	at java.lang.ClassLoader.loadClass(ClassLoader.java:307)&lt;br/&gt;
	at org.apache.sling.launchpad.base.shared.LauncherClassLoader.loadClass(LauncherClassLoader.java:133)&lt;br/&gt;
	at java.lang.ClassLoader.loadClass(ClassLoader.java:248)&lt;br/&gt;
	at org.apache.felix.framework.ModuleImpl.doImplicitBootDelegation(ModuleImpl.java:1535)&lt;br/&gt;
	at org.apache.felix.framework.ModuleImpl.searchDynamicImports(ModuleImpl.java:1472)&lt;br/&gt;
	at org.apache.felix.framework.ModuleImpl.findClassOrResourceByDelegation(ModuleImpl.java:734)&lt;br/&gt;
	at org.apache.felix.framework.ModuleImpl.access$400(ModuleImpl.java:71)&lt;br/&gt;
	at org.apache.felix.framework.ModuleImpl$ModuleClassLoader.loadClass(ModuleImpl.java:1768)&lt;br/&gt;
	at java.lang.ClassLoader.loadClass(ClassLoader.java:248)&lt;br/&gt;
	at java.lang.Class.forName0(Native Method)&lt;br/&gt;
	at java.lang.Class.forName(Class.java:247)&lt;br/&gt;
	at com.sun.naming.internal.VersionHelper12.loadClass(VersionHelper12.java:46)&lt;br/&gt;
	at javax.naming.spi.NamingManager.getInitialContext(NamingManager.java:654)&lt;br/&gt;
	... 12 more&lt;/p&gt;



&lt;p&gt;I suppose JNDI doesn&apos;t work inside a local environment. I see this code in org.apache.sling.jcr.base.util.RepositoryAccessor: row 73:&lt;/p&gt;

&lt;p&gt;                Thread.currentThread().setContextClassLoader(&lt;br/&gt;
                    this.getClass().getClassLoader());&lt;br/&gt;
                InitialContext initialContext = new InitialContext(jndiContext);&lt;/p&gt;


&lt;p&gt;that ClassLoader contains only the packages:&lt;/p&gt;

{org.apache.sling.jcr.base.util=package org.apache.sling.jcr.base.util, org.apache.sling.jcr.base.internal.loader=package org.apache.sling.jcr.base.internal.loader, org.apache.sling.jcr.base=package org.apache.sling.jcr.base}


&lt;p&gt;If I delete the Thread.currentThread().setContextClassLoader and I use the default ClassLoader, the InitialContext is loaded correctly&lt;/p&gt;



</description>
                <environment>org.apache.sling.jcr.base 1065652 revision</environment>
        <key id="12500604">SLING-2018</key>
            <summary>Using RepositoryAccessor inside a bundle</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="luca.stancaqpiano">Luca Stancapiano</reporter>
                        <labels>
                    </labels>
                <created>Mon, 7 Mar 2011 09:50:54 +0000</created>
                <updated>Thu, 13 Apr 2023 05:04:51 +0000</updated>
                            <resolved>Thu, 13 Apr 2023 05:04:51 +0000</resolved>
                                    <version>3</version>
                                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35978</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 35 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i031h3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>15672</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2017] Add missing bundles to bundle lists</title>
                <link>https://issues.apache.org/jira/browse/SLING-2017</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The current list of bundles in the Launchpad Builder project is somewhat outdated and incomplete.&lt;/p&gt;

&lt;p&gt;Missing Bundles:&lt;br/&gt;
   org.apache.sling.installer.provider.file 1.0.0&lt;br/&gt;
   org.apache.sling.installer.provider.jcr 3.0.4&lt;br/&gt;
   org.apache.sling.event 3.0.2&lt;/p&gt;

&lt;p&gt;Outdated Versions:&lt;br/&gt;
   org.apache.sling.scripting.core 2.0.14 (should be 2.0.16)&lt;br/&gt;
   org.apache.sling.extensions.explorer 1.0.0 (should 1.0.2)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12500524">SLING-2017</key>
            <summary>Add missing bundles to bundle lists</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Sat, 5 Mar 2011 20:58:45 +0000</created>
                <updated>Wed, 20 Sep 2017 12:17:17 +0000</updated>
                            <resolved>Sat, 5 Mar 2011 20:59:53 +0000</resolved>
                                                    <fixVersion>Launchpad Builder 6</fixVersion>
                                    <component>Launchpad</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13003045" author="fmeschbe" created="Sat, 5 Mar 2011 20:59:53 +0000"  >&lt;p&gt;Fixed in Rev. 1078352&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176798</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 35 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10aof:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>209864</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2016] Wrong object (javax.script.Bindings) is put into Sling Bindings request attribute</title>
                <link>https://issues.apache.org/jira/browse/SLING-2016</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The javax.script.Bindings object is put as a request attribute with the SlingBindings.class.getName() key.&lt;br/&gt;
This is a regression - the sling bindings object should be put there&lt;/p&gt;</description>
                <environment></environment>
        <key id="12500409">SLING-2016</key>
            <summary>Wrong object (javax.script.Bindings) is put into Sling Bindings request attribute</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Mar 2011 09:56:24 +0000</created>
                <updated>Tue, 31 Jan 2012 11:15:23 +0000</updated>
                            <resolved>Fri, 4 Mar 2011 09:57:20 +0000</resolved>
                                    <version>Scripting Java 2.0.0</version>
                                    <fixVersion>Scripting Java 2.0.2</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13002520" author="cziegeler" created="Fri, 4 Mar 2011 09:57:20 +0000"  >&lt;p&gt;Fixed in revision 1077859&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176797</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 35 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1eedj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>292258</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2012] Sling Scala Hello World example concurrent access fails</title>
                <link>https://issues.apache.org/jira/browse/SLING-2012</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/SLING/Using+Scala+with+Sling&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://cwiki.apache.org/confluence/display/SLING/Using+Scala+with+Sling&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Installed Scala Hello World. Checked &lt;a href=&quot;http://localhost:8888/content/helloworld.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8888/content/helloworld.html&lt;/a&gt; it works!&lt;/p&gt;

&lt;p&gt;Next, hit refresh 2/3 times, it breaks with 500 errors. &lt;/p&gt;

&lt;p&gt;I&apos;ll attach some error logs&lt;/p&gt;</description>
                <environment></environment>
        <key id="12500188">SLING-2012</key>
            <summary>Sling Scala Hello World example concurrent access fails</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="stillalex">Alex Deparvu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 2 Mar 2011 16:00:08 +0000</created>
                <updated>Thu, 13 Apr 2023 05:04:43 +0000</updated>
                            <resolved>Thu, 13 Apr 2023 05:04:43 +0000</resolved>
                                                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13001465" author="alex.parvulescu" created="Wed, 2 Mar 2011 16:02:38 +0000"  >&lt;p&gt;errors that I got while hitting refresh link a crazy guy &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;log.txt is the server log&lt;/li&gt;
	&lt;li&gt;page-errors.txt are errors that I&apos;ve seen on the page, but for some reason were not in the server logs&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13005039" author="alex.parvulescu" created="Thu, 10 Mar 2011 11:51:08 +0000"  >&lt;p&gt;Attaching a new test file containing some tests that only use JSR223 api.&lt;br/&gt;
There is a multi threaded test that can server as a reference to this problem&lt;/p&gt;

&lt;p&gt;I think this class should go into /contrib/scripting/scala/script/src/test/scala/org/apache/sling/scripting/scala&lt;/p&gt;</comment>
                            <comment id="13005111" author="mduerig" created="Thu, 10 Mar 2011 15:44:47 +0000"  >&lt;p&gt;Thanks for the test cases. I can reproduce the issue now. I committed them at revision 1080252 so they can serve as a starting point for diagnosing this issue. &lt;/p&gt;</comment>
                            <comment id="13005126" author="mduerig" created="Thu, 10 Mar 2011 16:02:05 +0000"  >&lt;p&gt;The issue might be due to a race in ScalaScriptEngine#eval(): &lt;/p&gt;

&lt;p&gt;Thread A: acquires the write lock&lt;br/&gt;
Thread A: calls interpreter.compile&lt;br/&gt;
Thread A: leaves the write lock&lt;/p&gt;

&lt;p&gt;Thread B: acquires the write lock&lt;br/&gt;
Thread B: calls interpreter.compile&lt;br/&gt;
Thread B: leaves the write lock&lt;/p&gt;

&lt;p&gt;Thread A: acquires the read lock&lt;br/&gt;
Thread A: calls interpreter.execute&lt;/p&gt;

&lt;p&gt;At this point Thread A will call the classes generated by the script of Thread B &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; the classes might be different due to the bindings wrapper generated on the fly. See &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-1236&quot; title=&quot;Scala Scripting: Make all types of the script arguments visible on the Scala side&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-1236&quot;&gt;&lt;del&gt;SLING-1236&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13005175" author="alex.parvulescu" created="Thu, 10 Mar 2011 17:24:32 +0000"  >&lt;p&gt;see attached a small patch for the scala script engine.&lt;br/&gt;
it uses a DynamicVariable to synchronize access to the compilation.&lt;/p&gt;

&lt;p&gt;Now the multi-threaded test appears to pass, but I have not tested the sling apps&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12473294" name="SLING-2012-dyn_var_fix.patch" size="9011" author="stillalex" created="Thu, 10 Mar 2011 17:24:32 +0000"/>
                            <attachment id="12472430" name="SLING-2012-logs.zip" size="8054" author="stillalex" created="Wed, 2 Mar 2011 16:02:38 +0000"/>
                            <attachment id="12473257" name="ScriptEngineTest.scala.zip" size="1896" author="stillalex" created="Thu, 10 Mar 2011 11:51:08 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35979</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 34 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i031hb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>15673</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2009] Webconsole install fails with &quot;Unable to acquire global lock for resolve&quot;</title>
                <link>https://issues.apache.org/jira/browse/SLING-2009</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The testing/samples/integration-tests module failed in Hudson build 1127 &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;, due to the installation of the org.apache.sling.junit.core bundle failing with the below stack trace.&lt;/p&gt;

&lt;p&gt;The integration tests install those bundles as soon as the Sling server is up (checked by requesting a few URLs like / and /.explorer.html, see logs) - should that wait until the webconsole/OSGi framework is ready for new installs, and how to check this?&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://hudson.apache.org/hudson/view/S-Z/view/Sling/job/sling-trunk-1.5/1127/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://hudson.apache.org/hudson/view/S-Z/view/Sling/job/sling-trunk-1.5/1127/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Log excerpt (I&apos;ll attach the complete sling log):&lt;/p&gt;

&lt;p&gt;01.03.2011 11:49:06.747 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;FelixDispatchQueue&amp;#93;&lt;/span&gt; org.apache.sling.junit.core BundleEvent INSTALLED&lt;br/&gt;
01.03.2011 11:49:06.752 &lt;b&gt;ERROR&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Background Install /tmp/install63068254848590030.tmp&amp;#93;&lt;/span&gt; org.apache.felix.http.jetty %bundles.pluginTitle: Cannot install or update bundle from /tmp/install63068254848590030.tmp (org.osgi.framework.BundleException: Unresolved constraint in bundle org.apache.sling.junit.core &lt;span class=&quot;error&quot;&gt;&amp;#91;72&amp;#93;&lt;/span&gt;: Unable to acquire global lock for resolve.) org.osgi.framework.BundleException: Unresolved constraint in bundle org.apache.sling.junit.core &lt;span class=&quot;error&quot;&gt;&amp;#91;72&amp;#93;&lt;/span&gt;: Unable to acquire global lock for resolve.&lt;br/&gt;
        at org.apache.felix.framework.Felix.resolveBundle(Felix.java:3443)&lt;br/&gt;
        at org.apache.felix.framework.Felix.startBundle(Felix.java:1727)&lt;br/&gt;
        at org.apache.felix.framework.BundleImpl.start(BundleImpl.java:922)&lt;br/&gt;
        at org.apache.felix.framework.BundleImpl.start(BundleImpl.java:909)&lt;br/&gt;
        at org.apache.felix.webconsole.internal.core.InstallHelper.doRun(InstallHelper.java:67)&lt;br/&gt;
        at org.apache.felix.webconsole.internal.core.BaseUpdateInstallHelper.doRun(BaseUpdateInstallHelper.java:89)&lt;br/&gt;
        at org.apache.felix.webconsole.internal.core.BaseUpdateInstallHelper.run(BaseUpdateInstallHelper.java:121)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:595)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12500164">SLING-2009</key>
            <summary>Webconsole install fails with &quot;Unable to acquire global lock for resolve&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Wed, 2 Mar 2011 10:44:33 +0000</created>
                <updated>Fri, 11 May 2012 21:30:36 +0000</updated>
                            <resolved>Fri, 11 May 2012 21:30:36 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13001366" author="bdelacretaz" created="Wed, 2 Mar 2011 10:45:40 +0000"  >&lt;p&gt;Sling log&lt;/p&gt;</comment>
                            <comment id="13001403" author="bdelacretaz" created="Wed, 2 Mar 2011 12:46:41 +0000"  >&lt;p&gt;Similar issues have been reported in &lt;a href=&quot;http://markmail.org/thread/wi6utz26tmfktkkk&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://markmail.org/thread/wi6utz26tmfktkkk&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13001404" author="bdelacretaz" created="Wed, 2 Mar 2011 12:47:30 +0000"  >&lt;p&gt;And note that this happens rarely, never seen it on my development machine.&lt;/p&gt;</comment>
                            <comment id="13273633" author="cziegeler" created="Fri, 11 May 2012 21:23:39 +0000"  >&lt;p&gt;Is this still an issue?&lt;/p&gt;</comment>
                            <comment id="13273636" author="bdelacretaz" created="Fri, 11 May 2012 21:30:36 +0000"  >&lt;p&gt;Haven&apos;t seen that lately, marking &quot;cannot reproduce&quot; for now&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12472412" name="error.log" size="808657" author="bdelacretaz" created="Wed, 2 Mar 2011 10:45:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35980</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 25 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10iq7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>211168</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2001] Sample Integration tests fail due to unpredictable install order of additional bundles</title>
                <link>https://issues.apache.org/jira/browse/SLING-2001</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Running a trunk build aborts in the Sample Integration tests:&lt;/p&gt;

&lt;p&gt;Failed tests: &lt;br/&gt;
  initializationError(org.apache.sling.testing.samples.testtools.serverside.ServerSideSampleTest)&lt;br/&gt;
  testWithRetries(org.apache.sling.testing.samples.testtools.serverside.JSONResponseTest)&lt;br/&gt;
  testSomeConsolePaths(org.apache.sling.testing.samples.testtools.http.OsgiConsoleTest)&lt;br/&gt;
  initializationError(org.apache.sling.testing.samples.testtools.serverside.SingleServerSideMethodTest)&lt;br/&gt;
  testFailures(org.apache.sling.testing.samples.testtools.serverside.FailingTestsTest)&lt;/p&gt;

&lt;p&gt;Will attach the surefire data files&lt;/p&gt;</description>
                <environment>$ mvn -v&lt;br/&gt;
Apache Maven 3.0.2 (r1056850; 2011-01-09 01:58:10+0100)&lt;br/&gt;
Java version: 1.5.0_21, vendor: Sun Microsystems Inc.&lt;br/&gt;
Java home: /usr/java/jdk1.5.0_21/jre&lt;br/&gt;
Default locale: de_CH, platform encoding: UTF-8&lt;br/&gt;
OS name: &amp;quot;linux&amp;quot;, version: &amp;quot;2.6.35-25-generic&amp;quot;, arch: &amp;quot;amd64&amp;quot;, family: &amp;quot;unix&amp;quot;</environment>
        <key id="12499930">SLING-2001</key>
            <summary>Sample Integration tests fail due to unpredictable install order of additional bundles</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Mon, 28 Feb 2011 14:39:06 +0000</created>
                <updated>Thu, 13 Apr 2023 05:04:29 +0000</updated>
                            <resolved>Thu, 13 Apr 2023 05:04:29 +0000</resolved>
                                                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13000310" author="fmeschbe" created="Mon, 28 Feb 2011 14:40:34 +0000"  >&lt;p&gt;Sure Fire data files for failed tests&lt;/p&gt;</comment>
                            <comment id="13000334" author="bdelacretaz" created="Mon, 28 Feb 2011 15:27:22 +0000"  >&lt;p&gt;A full build of the testing subtree on revision 1075373 with &lt;/p&gt;

&lt;p&gt;Apache Maven 3.0.2 (r1056850; 2011-01-09 01:58:10+0100)&lt;br/&gt;
Java version: 1.5.0_19, vendor: Apple Inc.&lt;/p&gt;

&lt;p&gt;works for me, can you try again (it failed earlier this afternoon), can you try again with this revision?&lt;/p&gt;</comment>
                            <comment id="13000357" author="bdelacretaz" created="Mon, 28 Feb 2011 16:01:10 +0000"  >&lt;p&gt;Might be a timing problem: the test code installs and starts 5 additional bundles one after the other, without considering their dependencies. &lt;/p&gt;

&lt;p&gt;If the junit core bundle is installed last, for example, the others will not start.&lt;/p&gt;

&lt;p&gt;If that hypothesis is right, I&apos;ll need to either loop starting all newly installed bundles until they all start, or consider their dependencies when installing them.&lt;/p&gt;</comment>
                            <comment id="13000365" author="bdelacretaz" created="Mon, 28 Feb 2011 16:12:15 +0000"  >&lt;p&gt;It&apos;s a bundle ordering problem actually, added sorting of additional bundles to install in revision 1075401&lt;/p&gt;

&lt;p&gt;With the reverse sort the tests fail on my macos box, so I guess that&apos;s what happened on Felix&apos;s linux box.&lt;/p&gt;

&lt;p&gt;Revision 1075401 should work on your box as well but that&apos;s by chance, as ordering the bundles by name in our case causes junit.core to be installed first.&lt;/p&gt;

&lt;p&gt;I&apos;ll add some code to loop starting all bundles after they are all installed, to make sure this works whatever the inter-bundles dependencies are.&lt;/p&gt;</comment>
                            <comment id="13000386" author="bdelacretaz" created="Mon, 28 Feb 2011 16:43:43 +0000"  >&lt;p&gt;In revision 1075415 the additional bundles under test are installed in a defined order, set in the pom, where they are defined anyway.&lt;/p&gt;

&lt;p&gt;Assuming the webconsole starts a bundle synchronously when it&apos;s installed by a POST with bundlestart=true (Felix, can you confirm that?) this should now work in all environments.&lt;/p&gt;

&lt;p&gt;Please cross-check and close this issue if ok.&lt;/p&gt;</comment>
                            <comment id="13000450" author="fmeschbe" created="Mon, 28 Feb 2011 18:25:00 +0000"  >&lt;p&gt;I don&apos;t think ordering is the correct solution: How about first installing all bundles and in a second pass starting all bundles. Provided there are no unresolved dependencies amongst the set of bundles to be installed this should be more stable than have to devise an artificial order making everything more complicated.&lt;/p&gt;</comment>
                            <comment id="13000784" author="bdelacretaz" created="Tue, 1 Mar 2011 08:56:29 +0000"  >&lt;p&gt;I agree that installing all bundles first and starting them all next is best.&lt;/p&gt;

&lt;p&gt;Ideally the scenario with the webconsole would be:&lt;/p&gt;

&lt;p&gt;1. POST to webconsole to install bundle&lt;br/&gt;
2. webconsole returns path of bundle resource&lt;br/&gt;
3. repeat for all bundles&lt;br/&gt;
4. POST to bundle resources to start them&lt;/p&gt;

&lt;p&gt;But I think at 2. the webconsole only redirects to /system/console/bundles, so I don&apos;t get a path to the bundle resource.&lt;/p&gt;</comment>
                            <comment id="13001944" author="fmeschbe" created="Thu, 3 Mar 2011 10:06:26 +0000"  >&lt;p&gt;Acutally, if you know the symbolic names of the bundles you are installing, you can do with out an API change. And of course you know the symbolic name by just reading it from the manifest.&lt;/p&gt;

&lt;p&gt;You can POST to /system/console/bundles/symbolic-name where &quot;symbolic-name&quot; is the bundle&apos;s Bundle-SymbolicName to act upon that bundle. So you could do:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Install all bundles, disposing off the response (just validating the status)&lt;/li&gt;
	&lt;li&gt;for each bundle place POST to actually start that bundle.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15050529" author="bdelacretaz" created="Thu, 10 Dec 2015 10:22:14 +0000"  >&lt;p&gt;Unassigning tickets on which I&apos;m not currently working&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12520563">SLING-2197</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12472182" name="org.apache.sling.testing.samples.testtools.http.OsgiConsoleTest.txt" size="3066" author="fmeschbe" created="Mon, 28 Feb 2011 14:40:34 +0000"/>
                            <attachment id="12472183" name="org.apache.sling.testing.samples.testtools.serverside.FailingTestsTest.txt" size="3194" author="fmeschbe" created="Mon, 28 Feb 2011 14:40:34 +0000"/>
                            <attachment id="12472184" name="org.apache.sling.testing.samples.testtools.serverside.JSONResponseTest.txt" size="3197" author="fmeschbe" created="Mon, 28 Feb 2011 14:40:34 +0000"/>
                            <attachment id="12472185" name="org.apache.sling.testing.samples.testtools.serverside.ServerSideSampleTest.txt" size="3272" author="fmeschbe" created="Mon, 28 Feb 2011 14:40:34 +0000"/>
                            <attachment id="12472186" name="org.apache.sling.testing.samples.testtools.serverside.SingleServerSideMethodTest.txt" size="3294" author="fmeschbe" created="Mon, 28 Feb 2011 14:40:34 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35982</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 46 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i031hr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>15675</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2000] Bundle downgrade will uninstall newer version instead of actually &quot;update&quot; to the old version</title>
                <link>https://issues.apache.org/jira/browse/SLING-2000</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Placing a bundle &amp;#8211; say Sling Script JavaScript 2.0.10 &amp;#8211; in a JCR Install supervised folder will install this bundle&lt;br/&gt;
Placing a newer version into the same folder  &amp;#8211; say Sling Script JavaScript 2.0.12 &amp;#8211; while leaving the older version will upgrade the bundle to the new version.&lt;br/&gt;
Now removing the newer version from the folder again should actually downgrade the bundle to the previous version again.&lt;/p&gt;

&lt;p&gt;What instead happens is that the new version is uninstalled and the old version is freshly installed.&lt;/p&gt;

&lt;p&gt;The problem with this is that it might render Configuration Admin configuration unusable (since it may be bound to the old bundle&apos;s bundle location) and it will remove any bundle private data which might have been preserved in a simple bundle &quot;upgrade&quot;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12499924">SLING-2000</key>
            <summary>Bundle downgrade will uninstall newer version instead of actually &quot;update&quot; to the old version</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Mon, 28 Feb 2011 14:00:33 +0000</created>
                <updated>Wed, 20 Sep 2017 12:15:06 +0000</updated>
                            <resolved>Thu, 3 Mar 2011 09:03:25 +0000</resolved>
                                    <version>Installer Core 3.1.2</version>
                                    <fixVersion>Installer Core 3.2.0</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13000284" author="cziegeler" created="Mon, 28 Feb 2011 14:02:42 +0000"  >&lt;p&gt;Correcting &quot;component&quot; to installer core&lt;/p&gt;</comment>
                            <comment id="13001927" author="cziegeler" created="Thu, 3 Mar 2011 09:03:25 +0000"  >&lt;p&gt;Fixed in revision 1076562&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36789</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 36 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i106mv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>209209</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1988] Maven Launchpad Plugin 2.0.10 has wrong copyright year</title>
                <link>https://issues.apache.org/jira/browse/SLING-1988</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description></description>
                <environment></environment>
        <key id="12499183">SLING-1988</key>
            <summary>Maven Launchpad Plugin 2.0.10 has wrong copyright year</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="justinedelson">Justin Edelson</assignee>
                                    <reporter username="justinedelson">Justin Edelson</reporter>
                        <labels>
                    </labels>
                <created>Sun, 20 Feb 2011 21:48:03 +0000</created>
                <updated>Wed, 20 Sep 2017 12:16:01 +0000</updated>
                            <resolved>Wed, 15 Jun 2011 00:18:55 +0000</resolved>
                                    <version>Maven Launchpad Plugin 2.0.10</version>
                                    <fixVersion>Maven Launchpad Plugin 2.1.0</fixVersion>
                                    <component>Maven Plugins and Archetypes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13049541" author="justinedelson" created="Wed, 15 Jun 2011 00:18:56 +0000"  >&lt;p&gt;fixed in r1135866&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>71236</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 21 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i106jj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>209194</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1987] Commons Testing 2.0.8 has the wrong copyright information</title>
                <link>https://issues.apache.org/jira/browse/SLING-1987</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The NOTICE file still states -2009. This should be&lt;br/&gt;
updated ... Is this file manually maintained instead of being managed by&lt;br/&gt;
the remote resources plugin ?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12499176">SLING-1987</key>
            <summary>Commons Testing 2.0.8 has the wrong copyright information</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="justinedelson">Justin Edelson</reporter>
                        <labels>
                    </labels>
                <created>Sun, 20 Feb 2011 19:36:40 +0000</created>
                <updated>Tue, 7 Feb 2012 14:47:09 +0000</updated>
                            <resolved>Tue, 31 Jan 2012 12:39:06 +0000</resolved>
                                    <version>Commons Testing 2.0.8</version>
                                    <fixVersion>Commons Testing 2.0.10</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13196864" author="cziegeler" created="Tue, 31 Jan 2012 12:39:06 +0000"  >&lt;p&gt;Removed obsolete files in revision 1238449&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35986</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 40 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1eeef:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>292262</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1986] RequestLogger and RequestLoggerService have wrong metatype information</title>
                <link>https://issues.apache.org/jira/browse/SLING-1986</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Due to &lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-2835&quot; title=&quot;SCR plugin: Parsing of &amp;quot;options&amp;quot; for property tag broken for javadoc annotations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-2835&quot;&gt;&lt;del&gt;FELIX-2835&lt;/del&gt;&lt;/a&gt;, RequestLogger and RequestLoggerService have broken metatype information. The values for the options are wrong.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12499067">SLING-1986</key>
            <summary>RequestLogger and RequestLoggerService have wrong metatype information</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Fri, 18 Feb 2011 17:01:49 +0000</created>
                <updated>Tue, 1 Mar 2011 09:19:30 +0000</updated>
                            <resolved>Fri, 18 Feb 2011 17:22:10 +0000</resolved>
                                    <version>Engine 2.2.0</version>
                                    <fixVersion>Engine 2.2.2</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12996528" author="cziegeler" created="Fri, 18 Feb 2011 17:22:10 +0000"  >&lt;p&gt;Using annotations now&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176780</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 37 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10vvz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>213300</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1985] NullPointerException on ResourceResolver.getAttribute(String) for anonymous login</title>
                <link>https://issues.apache.org/jira/browse/SLING-1985</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When creating a ResourceResolver with ResolverResolverFactory.getResourceResolver(null) any call to ResourceResolver.getAttribute(String) may result in a NullPointerException because the orginalAuthInfo field is null and access is not guarded&lt;/p&gt;</description>
                <environment></environment>
        <key id="12499058">SLING-1985</key>
            <summary>NullPointerException on ResourceResolver.getAttribute(String) for anonymous login</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Fri, 18 Feb 2011 16:09:34 +0000</created>
                <updated>Thu, 23 Jun 2011 12:57:38 +0000</updated>
                            <resolved>Fri, 18 Feb 2011 16:12:00 +0000</resolved>
                                    <version>JCR Resource 2.0.8</version>
                                    <fixVersion>JCR Resource 2.0.10</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12996482" author="fmeschbe" created="Fri, 18 Feb 2011 16:12:00 +0000"  >&lt;p&gt;Fixed in Rev. 1072037.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>70181</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 37 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10vs7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>213283</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1982] Potential deadlock if job manager is restarted</title>
                <link>https://issues.apache.org/jira/browse/SLING-1982</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If the manager is restarted it restarts all jobs - if at the same time a cleanup is started this can lead to a deadlock as both tasks need a lock to the queueLock and the backgroundSession (in reverse order)&lt;/p&gt;

&lt;p&gt;The manager can either be restarted through the interface or due to a reconfiguration.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12498738">SLING-1982</key>
            <summary>Potential deadlock if job manager is restarted</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Wed, 16 Feb 2011 10:53:26 +0000</created>
                <updated>Wed, 20 Sep 2017 13:03:57 +0000</updated>
                            <resolved>Thu, 24 Feb 2011 10:54:55 +0000</resolved>
                                    <version>Event 3.0.0</version>
                    <version>Event 3.0.2</version>
                                    <fixVersion>Event 3.1.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12995252" author="cziegeler" created="Wed, 16 Feb 2011 11:16:03 +0000"  >&lt;p&gt;I moved the queue clean up out of the sync block which should solve the deadlock. Done in revision 1071207&lt;/p&gt;</comment>
                            <comment id="12998801" author="cziegeler" created="Thu, 24 Feb 2011 10:54:55 +0000"  >&lt;p&gt;Setting to resolved&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176779</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 36 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10707:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>209269</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1978] Standalone archetype in trunk broken</title>
                <link>https://issues.apache.org/jira/browse/SLING-1978</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The standalone archetype is broken in trunk because of a missing closing filesets tag in archetype-metadata.xml&lt;/p&gt;

&lt;p&gt;As I can&apos;t add a file, that&apos;s the patch:&lt;/p&gt;

&lt;p&gt;Index: src/main/resources/META-INF/maven/archetype-metadata.xml&lt;br/&gt;
===================================================================&lt;br/&gt;
&amp;#8212; src/main/resources/META-INF/maven/archetype-metadata.xml    (revision 1069830)&lt;br/&gt;
+++ src/main/resources/META-INF/maven/archetype-metadata.xml    (working copy)&lt;br/&gt;
@@ -26,4 +26,5 @@&lt;br/&gt;
         &amp;lt;include&amp;gt;*&lt;b&gt;/&lt;/b&gt;.properties&amp;lt;/include&amp;gt;&lt;br/&gt;
       &amp;lt;/includes&amp;gt;&lt;br/&gt;
     &amp;lt;/fileSet&amp;gt;&lt;br/&gt;
-&amp;lt;/archetype-descriptor&amp;gt;&lt;br/&gt;
\ No newline at end of file&lt;br/&gt;
+  &amp;lt;/fileSets&amp;gt;&lt;br/&gt;
+&amp;lt;/archetype-descriptor&amp;gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12498384">SLING-1978</key>
            <summary>Standalone archetype in trunk broken</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="justinedelson">Justin Edelson</assignee>
                                    <reporter username="jocsch">Markus Joschko</reporter>
                        <labels>
                    </labels>
                <created>Fri, 11 Feb 2011 15:30:47 +0000</created>
                <updated>Fri, 13 May 2011 16:00:57 +0000</updated>
                            <resolved>Sat, 12 Feb 2011 01:38:44 +0000</resolved>
                                                    <fixVersion>Launchpad Standalone Archetype 1.0.0</fixVersion>
                                    <component>Maven Plugins and Archetypes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12993790" author="justinedelson" created="Sat, 12 Feb 2011 01:38:53 +0000"  >&lt;p&gt;This is fixed in r1070003&lt;/p&gt;

&lt;p&gt;But, for the legal folks amongst us, the patch supplied was NOT applied. Patches must be provided by uploading them and checking the grant license checkbox.&lt;/p&gt;

&lt;p&gt;Markus - I&apos;m not sure why you couldn&apos;t attach a file.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176776</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 38 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1eeev:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>292264</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1977] vanity paths with redirects causes IE to lose anchor</title>
                <link>https://issues.apache.org/jira/browse/SLING-1977</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Having an URL with an anchor (i.e. &lt;a href=&quot;http://sample.com/context#someinfo&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sample.com/context#someinfo&lt;/a&gt;) pointing to vanity path will lose the anchor in IE after redirect. &lt;br/&gt;
Works if sling:redirect is false.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12498347">SLING-1977</key>
            <summary>vanity paths with redirects causes IE to lose anchor</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="roele">Roland Schaer</reporter>
                        <labels>
                    </labels>
                <created>Fri, 11 Feb 2011 10:13:18 +0000</created>
                <updated>Mon, 14 Feb 2011 08:10:08 +0000</updated>
                            <resolved>Fri, 11 Feb 2011 11:05:13 +0000</resolved>
                                                                    <component>General</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12993442" author="fmeschbe" created="Fri, 11 Feb 2011 11:05:01 +0000"  >&lt;p&gt;I am not sure, whether we can do something here. Because the client (the browser in this case) sends the plain URL without the fragment part to the server. The server then redirects to the configured target URL and is done.&lt;/p&gt;

&lt;p&gt;In other words:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;User selects URL &lt;a href=&quot;http://sample.com/context#someinfo&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sample.com/context#someinfo&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;Browser sends &lt;a href=&quot;http://sample.com/context&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sample.com/context&lt;/a&gt; to the server&lt;/li&gt;
	&lt;li&gt;Server resolves the /context to a redirect resource and sends back a 302 response with the new location&lt;/li&gt;
	&lt;li&gt;Browser should then (probably) interpret the result as &lt;a href=&quot;http://sample.com/new/location#someinfo&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sample.com/new/location#someinfo&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;If the client looses the fragment part in this redirect transition, the server cannot help because it is not involved...&lt;/p&gt;

&lt;p&gt;Sorry, to have to close this issue as won&apos;t fix.&lt;/p&gt;</comment>
                            <comment id="12993444" author="fmeschbe" created="Fri, 11 Feb 2011 11:05:13 +0000"  >&lt;p&gt;As indicated.&lt;/p&gt;</comment>
                            <comment id="12993991" author="justinedelson" created="Sat, 12 Feb 2011 20:50:43 +0000"  >&lt;p&gt;I&apos;ve never seen a browser append the hash fragment to a 301 or 302 redirect. It would be possible to do this if you did the redirect on the client side with JavaScript.&lt;/p&gt;</comment>
                            <comment id="12994225" author="fmeschbe" created="Mon, 14 Feb 2011 08:10:08 +0000"  >&lt;p&gt;Actually all browsers except IE 7 and up do that ...&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176775</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 38 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10h3z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>210906</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1974] Accept header issues in the Sling POST Servlet</title>
                <link>https://issues.apache.org/jira/browse/SLING-1974</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;As of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-1336&quot; title=&quot;Let SlingPostServlet return JSON&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-1336&quot;&gt;&lt;del&gt;SLING-1336&lt;/del&gt;&lt;/a&gt; the Sling POST Servlet can interpret the Accept request header to select what response content type to render.&lt;/p&gt;

&lt;p&gt;Unfortunately that handling seems broken as for an Accept header like (as generated by FireFox with the JSONovich plugin installed) :&lt;/p&gt;

&lt;p&gt;   Accept: text/html,application/xhtml+xml,application/xml;q=0.9,&lt;b&gt;/&lt;/b&gt;;q=0.8,application/json&lt;/p&gt;

&lt;p&gt;the JSON response might be selected but sometimes also text/html (we can observe both behaviours for different server platforms with our application).&lt;/p&gt;

&lt;p&gt;The Accept header should probably consider equivalent q values (as for text/html and application/json in the example) to solve the tie by selecting the first type list; thus text/html in this example.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12498134">SLING-1974</key>
            <summary>Accept header issues in the Sling POST Servlet</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Wed, 9 Feb 2011 16:05:52 +0000</created>
                <updated>Thu, 13 Apr 2023 05:04:08 +0000</updated>
                            <resolved>Thu, 13 Apr 2023 05:04:08 +0000</resolved>
                                    <version>Servlets Post 2.1.0</version>
                                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="12992554" author="jukkaz" created="Wed, 9 Feb 2011 16:25:50 +0000"  >&lt;p&gt;The HTTP spec doesn&apos;t specify any ordering for the values and some clients may use a non-deterministic ordering (e.g. hash set), so relying on the ordering might cause unexpected results in some cases. A better approach might be to use explicit server-side preferences (like text/html over application/json) or alphabetic ordering as a deterministic fallback.&lt;/p&gt;

&lt;p&gt;See also &lt;a href=&quot;http://www.neeraj.name/2010/11/23/mime-type-resolution-in-rails.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.neeraj.name/2010/11/23/mime-type-resolution-in-rails.html&lt;/a&gt; (and especially Erik&apos;s comment) for a good discussion of related issues.&lt;/p&gt;</comment>
                            <comment id="12992929" author="fmeschbe" created="Thu, 10 Feb 2011 08:18:55 +0000"  >&lt;p&gt;Thanks for the link.&lt;/p&gt;

&lt;p&gt;I crosschecked the implementation: It internally uses a TreeSet to manage the quality tagged types. Provided q values are equal for two entries in the Accept header, they are ordered by their MIME type causing application/json to be order before text/html.&lt;/p&gt;

&lt;p&gt;I think this is wrong and should be changed to order by their location in the header.&lt;/p&gt;

&lt;p&gt;While browser might not place specific preference on entries with the same q value (and the spec fails to clarify), I think it is more natural to use the declaration order in the header than it is to use string ordering.&lt;/p&gt;</comment>
                            <comment id="12992933" author="fmeschbe" created="Thu, 10 Feb 2011 08:27:06 +0000"  >&lt;p&gt;Proposed patch using declaration order instead of string comparison and fixing the &quot;consistency with equals&quot; situation of the MediaRange.compareTo method.&lt;/p&gt;</comment>
                            <comment id="12992941" author="bdelacretaz" created="Thu, 10 Feb 2011 08:53:58 +0000"  >&lt;p&gt;I much prefer Jukka&apos;s proposal to use server-side configured preferences. It&apos;s much more predictable than relying on the client ordering of the entries. &lt;/p&gt;

&lt;p&gt;We can simply add an ordered list of preferred content types to the post servlet configuration, and use those to resolve ties.&lt;/p&gt;
</comment>
                            <comment id="12992963" author="alexander.klimetschek" created="Thu, 10 Feb 2011 09:35:36 +0000"  >&lt;p&gt;&amp;gt; use server-side configured preferences&lt;/p&gt;

&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="12992967" author="cziegeler" created="Thu, 10 Feb 2011 09:45:06 +0000"  >&lt;p&gt;I&apos;m against using server-side configured prefs - assuming that we have well behaving clients (they specify the correct oder), they won&apos;t get what they are asking for. Assuming we have clients not well behaving (they don&apos;t care about the order), well then they get something and they have to cope with it.&lt;br/&gt;
But adding a server config does not add real value but just adds another config option where people don&apos;t know what to configure&lt;/p&gt;</comment>
                            <comment id="12992978" author="bdelacretaz" created="Thu, 10 Feb 2011 10:17:53 +0000"  >&lt;p&gt;Thinking again about this, I think the SlingPostServlet is currently doing it wrong: SlingHttpServletRequest.getResponseContentType() should be used to decide which content type to return, so if we want to take the Accept header into consideration that should be done there - probably using a new ResponseMimeTypeSelector service that implements the selection logic in a central place.&lt;/p&gt;

&lt;p&gt;And maybe add a new getResponseContentType(options) where options specifies if the caller wants to consider only the extension, or extension + Accept header using whatever ResponseMimeTypeSelector service is currently active.&lt;/p&gt;

&lt;p&gt;Using the Accept header as per the http spec is cool and useful, but in practice often unusable due to broken or badly configured clients - so I think we must give Sling users the choice of whether and how to use the Accept header.&lt;/p&gt;</comment>
                            <comment id="12992980" author="fmeschbe" created="Thu, 10 Feb 2011 10:21:52 +0000"  >&lt;p&gt;The problem is, that the more we add, the more complex it becomes ...&lt;/p&gt;

&lt;p&gt;Currently it behaves like this:&lt;/p&gt;

&lt;p&gt;   If there is a &quot;:http-equiv-accept&quot; request parameter use that as the list of media types accepted/requested&lt;br/&gt;
   Otherwise consider the Accept request header&lt;/p&gt;

&lt;p&gt;Then build an internal sorted set from this value. Sort order is defined by the q value and the concreteness of the main and sub types. That is text/html comes before text/*. In a tie the types are string-compared. My patch replaces the string-comparison by a declaration order thing. Which IMHO can be much better defined.&lt;/p&gt;

&lt;p&gt;So, basically, we do not need another mechanism to overwrite this ... the client can overwrite the default Accept header with an :http-equiv-accept request attribute and we are fine IMHO.&lt;/p&gt;</comment>
                            <comment id="12992981" author="alexander.klimetschek" created="Thu, 10 Feb 2011 10:25:27 +0000"  >&lt;p&gt;@Carsten: I (and Bertrand, IIUC) meant server-side prefs only for conflicts in the accept header (i.e. two mime-types with equal weight), where as per the HTTP spec there is no preference given by the client. So it&apos;s perfectly fine to use a server preference in this case. As noted in the link from Jukka, this will make the response stable (even if you consider the request to be &quot;broken&quot; in this case). Currently the handling is also decided by the server - by sorting alphabetically by the mime-type - hence it is stable, but not configurable.&lt;/p&gt;

&lt;p&gt;On the other hand, I guess this is a very specific case, and is in most cases better solved by fixing the client or supporting the simpler extension-based selection of response types.&lt;/p&gt;</comment>
                            <comment id="12992982" author="alexander.klimetschek" created="Thu, 10 Feb 2011 10:28:32 +0000"  >&lt;p&gt;&amp;gt; the client can overwrite the default Accept header with an :http-equiv-accept request -&lt;del&gt;attribute&lt;/del&gt;- parameter&lt;/p&gt;

&lt;p&gt;Are extensions supported? I think this would be more consistent with Sling&apos;s request processing where the extension takes a central role (and the accept header isn&apos;t used at all).&lt;/p&gt;</comment>
                            <comment id="12992989" author="fmeschbe" created="Thu, 10 Feb 2011 10:43:54 +0000"  >&lt;p&gt;&amp;gt; Are extensions supported?&lt;/p&gt;

&lt;p&gt;Not at the moment.&lt;/p&gt;

&lt;p&gt;&amp;gt;  SlingHttpServletRequest.getResponseContentType() &lt;/p&gt;

&lt;p&gt;We implement that method by looking at the request extension (getResponseContentTypes() returns an Enumeration just containing getResponseContentType()).&lt;/p&gt;

&lt;p&gt;I think this is a good approach:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;getResponseContentType() returns a primary requested type by the client:&lt;br/&gt;
      1. derived from the request extension (if any)&lt;br/&gt;
      2. derived from Accept header (as per today&apos;s MediaRangeList)&lt;/li&gt;
	&lt;li&gt;getResponseContentTypes() returns an enumeration containing&lt;br/&gt;
      1. type derived from the request extension (if any)&lt;br/&gt;
      2. types derived from Accept header (in q and declaration order)&lt;/li&gt;
	&lt;li&gt;getResponseContentType(String.. supported)&lt;br/&gt;
      returns the response content type amongst the supported types being returned first by the getResponseContentTypes() enumeration&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Finally the Sling POST Servlet might use the SlingHttpServletResponse.getResponseContentType(&quot;text/html&quot;, &quot;text/json&quot;) call to get the desired type&lt;/p&gt;

&lt;p&gt;Alternatively:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;keep the SlingHttpServletResponseImpl implementation as it is (and no API extension)&lt;/li&gt;
	&lt;li&gt;create a request filter overwriting the getResponseContentType and getResponseContentTypes() methods along the lines defined above&lt;/li&gt;
	&lt;li&gt;have the Sling POST Servlet check the getResponseContentTypes() enumeration and selecting the first supported content type from the enumeration&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Actually, I would prefer the filter solution because it does not require changes to the API or the engine bundle and is ultimatively flexible. In fact this is a similar solution as we chose for I18N support and the getLocale methods.&lt;/p&gt;

&lt;p&gt;WDYT ?&lt;/p&gt;</comment>
                            <comment id="12992999" author="alexander.klimetschek" created="Thu, 10 Feb 2011 11:07:45 +0000"  >&lt;p&gt;If we don&apos;t want to change the API at this point, we could just leave out adding getResponseContentType(String.. supported) and do this logic inside the SlingPostServlet. A utility method taking both the getResponseContentTypes() enumeration and an ordered list of supported types from the servlet is probably better than putting this into the request API.&lt;/p&gt;

&lt;p&gt;Then you only have to adapt the implementation for getResponseContentType()/getResponseContentTypes() to add 2. (accept header).&lt;/p&gt;

&lt;p&gt;I think we have too many filters already, makes the stack traces so long &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;BTW: Is getResponseContentType() / getResponseContentTypes() used for the servlet resolution? (mapping mime-types back to plain extensions)&lt;/p&gt;</comment>
                            <comment id="12993029" author="fmeschbe" created="Thu, 10 Feb 2011 12:51:08 +0000"  >&lt;p&gt;&amp;gt; I think we have too many filters already, makes the stack traces so long &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;/p&gt;

&lt;p&gt;I am sure, this is a joke &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;The reason for the filter is that we are more flexible and I don&apos;t want to grow the Engine too much.&lt;/p&gt;

&lt;p&gt;&amp;gt; BTW: Is getResponseContentType() / getResponseContentTypes() used for the servlet resolution?&lt;/p&gt;

&lt;p&gt;No, it is not used. For Mime Type mapping we either use the ServletContext.getMimeType method (which is backed by the MimeTypeService) or use the MimeTypeService directly.&lt;/p&gt;</comment>
                            <comment id="12993045" author="alexander.klimetschek" created="Thu, 10 Feb 2011 13:14:46 +0000"  >&lt;p&gt;&amp;gt; The reason for the filter is that we are more flexible and I don&apos;t want to grow the Engine too much. &lt;/p&gt;

&lt;p&gt;Sling&apos;s SlingHttpServletRequest API defines getResponseContentType(), so I wonder why this should be implemented in a filter and not in SlingHttpServletRequestImpl itself (making the current implementation of it useless). Servlet filters IMO only make sense if an application wants to generally wrap things for all servlets, if an applications wants to overwrite servlet-container default logic or have something that is active or not depending on the request.&lt;/p&gt;

&lt;p&gt;In this case however, I think we agree that this is core framework logic. Only if someone wants to change it, she could write a filter to provide a different logic for response content types.&lt;/p&gt;</comment>
                            <comment id="13197658" author="cziegeler" created="Wed, 1 Feb 2012 07:57:02 +0000"  >&lt;p&gt;I just reread this issue (in order to prepare the next release) and I fail to see how we should resolve this? Any ideas?&lt;/p&gt;</comment>
                            <comment id="13197708" author="fmeschbe" created="Wed, 1 Feb 2012 09:29:34 +0000"  >&lt;p&gt;Lets postpone to the next release...&lt;/p&gt;</comment>
                            <comment id="13197901" author="cziegeler" created="Wed, 1 Feb 2012 15:20:12 +0000"  >&lt;p&gt;Moved to next version&lt;/p&gt;</comment>
                            <comment id="13492246" author="fmeschbe" created="Wed, 7 Nov 2012 10:23:20 +0000"  >&lt;p&gt;Since the order of equally weighted content types is not defined and thus is not deterministic, Sling works correctly and we have nothing to do here IMHO.&lt;/p&gt;

&lt;p&gt;I would prefer to resolve this issue as won&apos;t fix.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12470759" name="SLING-1974.patch" size="3573" author="fmeschbe" created="Thu, 10 Feb 2011 08:27:06 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35989</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i031iv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>15680</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1972] JavaScript ScriptEngine is not thread safe</title>
                <link>https://issues.apache.org/jira/browse/SLING-1972</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The JavaScriptScriptEngine has a concurrency issue in that it keeps the top-level scope of the script executed as an instance field. Since the servlet resolver is caching SlingScript instances and the SlingScript has a reference to the ScriptEngine (JavaScriptScriptEngine in this case) executing the same script concurrently causes them all to use the same top-level scope and thus to share variables .....&lt;/p&gt;

&lt;p&gt;The fix is to remove the &quot;scope&quot; field because this is not really: The top level scope is maintained the by Rhino Context object which is used to execute the script and which manages the top level scope in a thread safe way.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12498105">SLING-1972</key>
            <summary>JavaScript ScriptEngine is not thread safe</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Wed, 9 Feb 2011 09:32:11 +0000</created>
                <updated>Tue, 1 Mar 2011 09:09:12 +0000</updated>
                            <resolved>Wed, 9 Feb 2011 16:24:46 +0000</resolved>
                                    <version>Scripting JavaScript 2.0.10</version>
                                    <fixVersion>Scripting JavaScript 2.0.12</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12992410" author="fmeschbe" created="Wed, 9 Feb 2011 09:35:41 +0000"  >&lt;p&gt;Committed a fix in Rev. 1068807 which leverages the Context&apos;s top scope field which is maintained by Rhino in a thread-safe way (each Context instance is only used in a single Thread).&lt;/p&gt;</comment>
                            <comment id="12992413" author="fmeschbe" created="Wed, 9 Feb 2011 09:41:37 +0000"  >&lt;p&gt;Apparently the scope field has been added for &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-1111&quot; title=&quot;RhinoJavaScriptEngine does not preserve scope between eval()s&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-1111&quot;&gt;&lt;del&gt;SLING-1111&lt;/del&gt;&lt;/a&gt; to preserve the scope in consecutive eval calls. It hink in retrospect the &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-1111&quot; title=&quot;RhinoJavaScriptEngine does not preserve scope between eval()s&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-1111&quot;&gt;&lt;del&gt;SLING-1111&lt;/del&gt;&lt;/a&gt; fix is actually wrong and we should implement this behaviour differently.&lt;/p&gt;

&lt;p&gt;Considering this a regression of my Rev. 1068807 fix and checking.&lt;/p&gt;</comment>
                            <comment id="12992553" author="fmeschbe" created="Wed, 9 Feb 2011 16:24:46 +0000"  >&lt;p&gt;In Rev. 1068874 (unit test in Rev. 1068876) I write back the top level scope properties to the Enging scope bindings which are reused as top level scope properties on future calls with the same bindings.&lt;/p&gt;

&lt;p&gt;So to support the &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-1111&quot; title=&quot;RhinoJavaScriptEngine does not preserve scope between eval()s&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-1111&quot;&gt;&lt;del&gt;SLING-1111&lt;/del&gt;&lt;/a&gt; use case, the script must be called with (at least) Engine scope bindings to transfer the properties from call to call.&lt;/p&gt;</comment>
                            <comment id="13000785" author="fmeschbe" created="Tue, 1 Mar 2011 09:09:12 +0000"  >&lt;p&gt;Close after release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176771</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 36 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10k07:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>211375</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1970] Potential deadlock during start of settings service</title>
                <link>https://issues.apache.org/jira/browse/SLING-1970</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The sling settings bundle waits for compatibility reasons for the engine bundle to start (if it is available). There is a potential deadlock - it could be that the settings bundle waits for ever.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12497853">SLING-1970</key>
            <summary>Potential deadlock during start of settings service</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Mon, 7 Feb 2011 14:53:40 +0000</created>
                <updated>Tue, 31 Jan 2012 11:00:02 +0000</updated>
                            <resolved>Mon, 7 Feb 2011 15:06:08 +0000</resolved>
                                    <version>Settings 1.0.2</version>
                                    <fixVersion>Settings 1.1.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12991406" author="cziegeler" created="Mon, 7 Feb 2011 15:06:08 +0000"  >&lt;p&gt;Committed potential fix in revision 1067955&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176769</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 39 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1eefb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>292266</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1968] Web console plugin is missing HTML header after submitting a value</title>
                <link>https://issues.apache.org/jira/browse/SLING-1968</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When trying the map or resolve function through the web console plugin, the html header is missing and only the pure html of the plugin is returned&lt;/p&gt;</description>
                <environment></environment>
        <key id="12497828">SLING-1968</key>
            <summary>Web console plugin is missing HTML header after submitting a value</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Mon, 7 Feb 2011 10:35:23 +0000</created>
                <updated>Tue, 1 Mar 2011 09:19:53 +0000</updated>
                            <resolved>Mon, 7 Feb 2011 10:54:38 +0000</resolved>
                                    <version>JCR Resource 2.0.8</version>
                                    <fixVersion>JCR Resource 2.0.10</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12991333" author="cziegeler" created="Mon, 7 Feb 2011 10:54:38 +0000"  >&lt;p&gt;Changed the direct call of doGet() to a redirect in revision: 1067909&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176768</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 39 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10vl3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>213251</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1965] RedirectServlet does not append current querystring to redirect target if desired target is not an absolute URL</title>
                <link>https://issues.apache.org/jira/browse/SLING-1965</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The RedirectServlet appends the current query string to the redirect target in the toRedirectPath method which is only called if the target path is an absolute URL.&lt;/p&gt;

&lt;p&gt;The correct location to append the request query string is in the doGet method before setting the Location: header.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12497430">SLING-1965</key>
            <summary>RedirectServlet does not append current querystring to redirect target if desired target is not an absolute URL</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Wed, 2 Feb 2011 08:06:45 +0000</created>
                <updated>Wed, 20 Sep 2017 12:05:51 +0000</updated>
                            <resolved>Wed, 2 Feb 2011 08:40:49 +0000</resolved>
                                    <version>Servlets Get 2.1.0</version>
                                    <fixVersion>Servlets Get 2.1.2</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12989550" author="fmeschbe" created="Wed, 2 Feb 2011 08:09:58 +0000"  >&lt;p&gt;Fixed in Rev. 1066361&lt;/p&gt;</comment>
                            <comment id="12989556" author="fmeschbe" created="Wed, 2 Feb 2011 08:25:19 +0000"  >&lt;p&gt;Reopen to reconsider solution: It looks like not only the query string but also any suffixes should be added for absolute URLs.&lt;/p&gt;</comment>
                            <comment id="12989559" author="fmeschbe" created="Wed, 2 Feb 2011 08:38:13 +0000"  >&lt;p&gt;Rev. 1066367: Enhance integration test to also include a test for absolute URL redirects and fix use cases involving request selectors, extension, and suffix besides query string.&lt;/p&gt;</comment>
                            <comment id="12989560" author="fmeschbe" created="Wed, 2 Feb 2011 08:40:49 +0000"  >&lt;p&gt;This should now really fix this issue.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12693268">SLING-3374</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176766</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 40 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i107uf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>209405</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1957] Potential deadlock when queue is suspended and resumed</title>
                <link>https://issues.apache.org/jira/browse/SLING-1957</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If a queue is suspended there is a potential that the queue stays in the suspended state when it gets resumed.&lt;/p&gt;

&lt;p&gt;This is because the notify waking up the thread is done before the state is set to resumed&lt;/p&gt;</description>
                <environment></environment>
        <key id="12496857">SLING-1957</key>
            <summary>Potential deadlock when queue is suspended and resumed</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Wed, 26 Jan 2011 18:49:52 +0000</created>
                <updated>Thu, 3 Feb 2011 12:41:43 +0000</updated>
                            <resolved>Wed, 26 Jan 2011 18:50:52 +0000</resolved>
                                    <version>Event 3.0.0</version>
                                    <fixVersion>Event 3.0.2</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12987160" author="cziegeler" created="Wed, 26 Jan 2011 18:50:52 +0000"  >&lt;p&gt;Added explicit syncs for the suspend state and changed the invocation order in the queue run method to avoid any processing when the queue is suspended.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176762</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 41 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1131j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>214459</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1956] ConfigNodeConverter throws NPE on config with empty multi-valued property</title>
                <link>https://issues.apache.org/jira/browse/SLING-1956</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;25.01.2011 22:24:33.270 &lt;b&gt;ERROR&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;JcrInstaller.1&amp;#93;&lt;/span&gt; org.apache.sling.extensions.threaddump.internal.Activator Uncaught exception in Thread Thread&lt;span class=&quot;error&quot;&gt;&amp;#91;JcrInstaller.1,5,main&amp;#93;&lt;/span&gt; java.lang.NullPointerException&lt;br/&gt;
	at java.util.Hashtable.put(Hashtable.java:394)&lt;br/&gt;
	at org.apache.sling.installer.provider.jcr.impl.ConfigNodeConverter.loadProperties(ConfigNodeConverter.java:103)&lt;br/&gt;
	at org.apache.sling.installer.provider.jcr.impl.ConfigNodeConverter.load(ConfigNodeConverter.java:76)&lt;br/&gt;
	at org.apache.sling.installer.provider.jcr.impl.ConfigNodeConverter.convertNode(ConfigNodeConverter.java:59)&lt;br/&gt;
	at org.apache.sling.installer.provider.jcr.impl.WatchedFolder.scan(WatchedFolder.java:149)&lt;br/&gt;
	at org.apache.sling.installer.provider.jcr.impl.JcrInstaller$StoppableThread.run(JcrInstaller.java:187)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12496773">SLING-1956</key>
            <summary>ConfigNodeConverter throws NPE on config with empty multi-valued property</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="mreutegg">Marcel Reutegger</reporter>
                        <labels>
                    </labels>
                <created>Wed, 26 Jan 2011 08:36:21 +0000</created>
                <updated>Thu, 3 Feb 2011 12:42:12 +0000</updated>
                            <resolved>Wed, 26 Jan 2011 09:16:37 +0000</resolved>
                                    <version>JCR Installer 3.0.2</version>
                                    <fixVersion>JCR Installer 3.0.4</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12986894" author="mreutegg" created="Wed, 26 Jan 2011 08:37:00 +0000"  >&lt;p&gt;Proposed patch.&lt;/p&gt;</comment>
                            <comment id="12986913" author="cziegeler" created="Wed, 26 Jan 2011 09:16:37 +0000"  >&lt;p&gt;I think we should put an empty value in the configuration - this allows to override a configuration which has a value with an empty one&lt;/p&gt;

&lt;p&gt;Changed in revision 1063645&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12469396" name="SLING-1956.patch" size="690" author="mreutegg" created="Wed, 26 Jan 2011 08:37:00 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176761</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 41 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10wt3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>213449</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1955] Event Support Unit Tests stall in full trunk build</title>
                <link>https://issues.apache.org/jira/browse/SLING-1955</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Running a full build with tests &amp;#8211; mvn clean install from trunk root &amp;#8211; causes the Event Support Unit Tests to stall after printing the message:&lt;/p&gt;

&lt;p&gt;57150 &lt;span class=&quot;error&quot;&gt;&amp;#91;Apache Sling Job Queue roundrobintest&amp;#93;&lt;/span&gt; INFO org.apache.sling.event.impl.jobs.queues.TopicRoundRobinJobQueue.roundrobintest - Starting job queue roundrobintest&lt;/p&gt;</description>
                <environment>$ mvn -v&lt;br/&gt;
Apache Maven 2.2.1 (r801777; 2009-08-06 21:16:01+0200)&lt;br/&gt;
Java version: 1.6.0_13&lt;br/&gt;
Java home: /usr/java/jdk1.6.0_13/jre&lt;br/&gt;
Default locale: de_CH, platform encoding: UTF-8&lt;br/&gt;
OS name: &amp;quot;linux&amp;quot; version: &amp;quot;2.6.35-24-generic&amp;quot; arch: &amp;quot;amd64&amp;quot; Family: &amp;quot;unix&amp;quot;</environment>
        <key id="12496666">SLING-1955</key>
            <summary>Event Support Unit Tests stall in full trunk build</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Tue, 25 Jan 2011 11:26:15 +0000</created>
                <updated>Thu, 3 Feb 2011 12:41:43 +0000</updated>
                            <resolved>Thu, 27 Jan 2011 07:43:00 +0000</resolved>
                                    <version>Event 3.0.0</version>
                                    <fixVersion>Event 3.0.2</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12986343" author="fmeschbe" created="Tue, 25 Jan 2011 11:28:47 +0000"  >&lt;p&gt;Stacktrace of the stalling Event Support Unit Tests.&lt;/p&gt;

&lt;p&gt;It looks like the &quot;Apache Sling Job Queue roundrobintest&quot; thread is waiting for an event which never comes (maybe already has come but has been missed ?)&lt;/p&gt;</comment>
                            <comment id="12987420" author="cziegeler" created="Thu, 27 Jan 2011 07:43:00 +0000"  >&lt;p&gt;This is actually caused by a potential deadlock, see &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-1957&quot; title=&quot;Potential deadlock when queue is suspended and resumed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-1957&quot;&gt;&lt;del&gt;SLING-1957&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;In addition some of the tests had a bad timing - which I now fixed as well&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12469276" name="SLING-1955-dump.txt" size="14328" author="fmeschbe" created="Tue, 25 Jan 2011 11:28:47 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176760</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 41 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1130n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>214455</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1952] Remove support for deployment packages</title>
                <link>https://issues.apache.org/jira/browse/SLING-1952</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The current support for deployment packages does not work as it has class loading issues - therefore we should remove it and use the new installation way (already used for configurations) instead.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12496527">SLING-1952</key>
            <summary>Remove support for deployment packages</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Mon, 24 Jan 2011 12:21:05 +0000</created>
                <updated>Mon, 24 Jan 2011 12:32:07 +0000</updated>
                            <resolved>Mon, 24 Jan 2011 12:32:07 +0000</resolved>
                                    <version> Launchpad Base 2.2.0</version>
                                    <fixVersion>Launchpad Base 2.3.0</fixVersion>
                                    <component>Launchpad</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12985653" author="cziegeler" created="Mon, 24 Jan 2011 12:32:07 +0000"  >&lt;p&gt;Removed in revision 1062752&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176757</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 41 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i109rz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>209718</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1951] Engine does not buffer by default</title>
                <link>https://issues.apache.org/jira/browse/SLING-1951</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The Sling Engine contains internal buffering logic to supercede (and enhance the buffering supported by the Servlet Container). But in contrast to the servlet container&apos;s buffering logic which is generally set to a sensible default buffer size, the Engine&apos;s buffer size defaults to zero.&lt;/p&gt;

&lt;p&gt;We should fix this to set the default buffersize to the servlet container&apos;s default buffer size&lt;/p&gt;</description>
                <environment></environment>
        <key id="12496494">SLING-1951</key>
            <summary>Engine does not buffer by default</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Mon, 24 Jan 2011 09:40:15 +0000</created>
                <updated>Fri, 28 Jan 2011 09:07:23 +0000</updated>
                            <resolved>Mon, 24 Jan 2011 10:08:33 +0000</resolved>
                                    <version>Engine 2.1.0</version>
                                    <fixVersion>Engine 2.2.0</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12985604" author="fmeschbe" created="Mon, 24 Jan 2011 10:08:32 +0000"  >&lt;p&gt;To default the internal Engine buffer size to the size of the servlet container&apos;s output buffer I extended the (internal) BufferProvider interface to have setter and getter of the buffer size and implementing the RequestData implementations to call into the servlet container&apos;s response object.&lt;/p&gt;

&lt;p&gt;Fixed in Rev. 1062713&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176756</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 41 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i112v3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>214430</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1950] Parameters are not removed from symbolic name</title>
                <link>https://issues.apache.org/jira/browse/SLING-1950</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If the symbolic name header contains parameters, these are not removed for further processing. Therefore searching the bundle with the symbolic name always results in a bundle not found.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12496376">SLING-1950</key>
            <summary>Parameters are not removed from symbolic name</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Sat, 22 Jan 2011 16:44:35 +0000</created>
                <updated>Thu, 3 Feb 2011 12:43:01 +0000</updated>
                            <resolved>Sat, 22 Jan 2011 16:52:00 +0000</resolved>
                                    <version>Installer Core 3.1.0</version>
                                    <fixVersion>Installer Core 3.1.2</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12985154" author="cziegeler" created="Sat, 22 Jan 2011 16:52:00 +0000"  >&lt;p&gt;Fixed in revision 1062193&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176755</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 41 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10wsn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>213447</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1949] Improve removal of bundles if the bundle is installed more than once</title>
                <link>https://issues.apache.org/jira/browse/SLING-1949</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If a bundle is removed through a provider but is installed more than once, currently the first one with the same symbolic name is compared with the bundle to be uninstalled.&lt;br/&gt;
If the version does not match, nothing happens.&lt;br/&gt;
If a bundle with a symbolic name is installed once, this is no problem - but as soon as a bundle with the same symbolic name is installed more than once, the wrong bundle can be used for the comparison.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12496375">SLING-1949</key>
            <summary>Improve removal of bundles if the bundle is installed more than once</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Sat, 22 Jan 2011 15:48:41 +0000</created>
                <updated>Thu, 3 Feb 2011 12:43:02 +0000</updated>
                            <resolved>Sat, 22 Jan 2011 16:01:48 +0000</resolved>
                                    <version>Installer Core 3.1.0</version>
                                    <fixVersion>Installer Core 3.1.2</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12985146" author="cziegeler" created="Sat, 22 Jan 2011 16:01:48 +0000"  >&lt;p&gt;Now searching an exact match (symbolic name and version) when uninstalling; for installing now the bundle with the same symbolic name and highest version is used.&lt;/p&gt;

&lt;p&gt;Revision 1062180&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176754</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 41 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1eeav:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>292246</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1945] Remove resource from untransformed resources if resource is removed by provider</title>
                <link>https://issues.apache.org/jira/browse/SLING-1945</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If a resource is removed by the provider but is still in the untransformed resources, it should be removed from that list as well.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12496244">SLING-1945</key>
            <summary>Remove resource from untransformed resources if resource is removed by provider</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Fri, 21 Jan 2011 09:22:54 +0000</created>
                <updated>Thu, 3 Feb 2011 12:43:02 +0000</updated>
                            <resolved>Fri, 21 Jan 2011 09:41:54 +0000</resolved>
                                    <version>Installer Core 3.1.0</version>
                                    <fixVersion>Installer Core 3.1.2</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12984646" author="cziegeler" created="Fri, 21 Jan 2011 09:41:54 +0000"  >&lt;p&gt;Fixed with revision 1061707&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176751</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 41 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1eeb3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>292247</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1943] Sort services (transformer and factories) by service ranking before invoking</title>
                <link>https://issues.apache.org/jira/browse/SLING-1943</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The services (transformers and factories) should be invoked in order of their service ranking (highest first) - currently they are invoked in random order&lt;/p&gt;</description>
                <environment></environment>
        <key id="12496238">SLING-1943</key>
            <summary>Sort services (transformer and factories) by service ranking before invoking</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Fri, 21 Jan 2011 08:40:22 +0000</created>
                <updated>Thu, 3 Feb 2011 12:43:01 +0000</updated>
                            <resolved>Fri, 21 Jan 2011 12:57:55 +0000</resolved>
                                    <version>Installer Core 3.1.0</version>
                                    <fixVersion>Installer Core 3.1.2</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12984726" author="cziegeler" created="Fri, 21 Jan 2011 12:57:55 +0000"  >&lt;p&gt;Added sorting in revision 1061795&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176749</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 41 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10skv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>212764</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1941] BindingsValuesProvider implementations can&apos;t overwrite non-core properties during inclusion</title>
                <link>https://issues.apache.org/jira/browse/SLING-1941</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;As discussed in this email thread: &lt;a href=&quot;http://sling.markmail.org/thread/m2bx2oabtylk2ykj&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sling.markmail.org/thread/m2bx2oabtylk2ykj&lt;/a&gt;, BindingsValuesProvider implementations get IllegalArgumentExceptions if they attempt to put a value into the bindings if the key is already used when one script includes another even if the key isn&apos;t a standard Sling bindings key.&lt;/p&gt;

&lt;p&gt;The bug is that the &quot;protection&quot; feature of BindingsValuesProvider support is too aggressive. It protects everything already in the bindings, but the original intent was to have only the standard Sling keys be protected.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12496208">SLING-1941</key>
            <summary>BindingsValuesProvider implementations can&apos;t overwrite non-core properties during inclusion</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="justinedelson">Justin Edelson</assignee>
                                    <reporter username="justinedelson">Justin Edelson</reporter>
                        <labels>
                    </labels>
                <created>Fri, 21 Jan 2011 01:04:25 +0000</created>
                <updated>Sat, 29 Jan 2011 14:01:44 +0000</updated>
                            <resolved>Fri, 21 Jan 2011 01:21:37 +0000</resolved>
                                                    <fixVersion>Scripting Core 2.0.16</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12984521" author="justinedelson" created="Fri, 21 Jan 2011 01:21:43 +0000"  >&lt;p&gt;fixed in r1061592 and r1061593. protected keys are now only: request, response, reader, sling, resource, out, and log&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176747</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 41 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10sk7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>212761</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1940] selector form submits to the wrong path when used in a non-root servlet context</title>
                <link>https://issues.apache.org/jira/browse/SLING-1940</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If you run Sling on a non-root servlet context go to the login page (e.g. &lt;a href=&quot;http://localhost:8080/org.apache.sling.launchpad.testing-war-6-SNAPSHOT/system/sling/login.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/org.apache.sling.launchpad.testing-war-6-SNAPSHOT/system/sling/login.html&lt;/a&gt;), the login servlet redirects to a login form with a query parameter called resource set to the servlet context path (e.g. &lt;a href=&quot;http://localhost:8080/org.apache.sling.launchpad.testing-war-6-SNAPSHOT/system/sling/selector/login?resource=%2Forg.apache.sling.launchpad.testing-war-6-SNAPSHOT&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/org.apache.sling.launchpad.testing-war-6-SNAPSHOT/system/sling/selector/login?resource=%2Forg.apache.sling.launchpad.testing-war-6-SNAPSHOT&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;When the form is created, the HTML form submission path (i.e. the form action) contains the servlet context path &lt;b&gt;twice&lt;/b&gt;, e.g.&lt;/p&gt;

&lt;p&gt;action=&quot;/org.apache.sling.launchpad.testing-war-6-SNAPSHOT/org.apache.sling.launchpad.testing-war-6-SNAPSHOT/j_security_check&quot;&lt;/p&gt;

&lt;p&gt;The reason for this is that org.apache.sling.auth.core.spi.AbstractAuthenticationFormServlet.getContextPath() concatenates the servlet context path and the resource query param:&lt;/p&gt;

&lt;p&gt;        StringBuilder b = new StringBuilder();&lt;br/&gt;
        b.append(request.getContextPath());&lt;br/&gt;
        String resource = getResource(request);&lt;br/&gt;
        int query = resource.indexOf(&apos;?&apos;);&lt;br/&gt;
        if (query &amp;gt; 0) &lt;/p&gt;
{
            b.append(resource.substring(0, query));
        }
&lt;p&gt; else &lt;/p&gt;
{
            b.append(resource);
        }

&lt;p&gt;Obviously, we should only add the servlet context path once, either in the resource query param OR AbstractAuthenticationFormServlet.getContextPath().&lt;/p&gt;

&lt;p&gt;My inclination is to do the former, i.e. the default value of the resource query param is &quot;/&quot;, not the servlet context path.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12496090">SLING-1940</key>
            <summary>selector form submits to the wrong path when used in a non-root servlet context</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="justinedelson">Justin Edelson</assignee>
                                    <reporter username="justinedelson">Justin Edelson</reporter>
                        <labels>
                    </labels>
                <created>Thu, 20 Jan 2011 03:18:51 +0000</created>
                <updated>Fri, 28 Jan 2011 08:58:18 +0000</updated>
                            <resolved>Sat, 22 Jan 2011 19:36:40 +0000</resolved>
                                                    <fixVersion>Auth Core 1.0.6</fixVersion>
                                    <component>Authentication</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12984209" author="cziegeler" created="Thu, 20 Jan 2011 14:33:23 +0000"  >&lt;p&gt;I think the resource path should already contain the context path and then used as is. This would allow to redirect to any path - not even within the same webapp.&lt;/p&gt;</comment>
                            <comment id="12985186" author="justinedelson" created="Sat, 22 Jan 2011 19:36:40 +0000"  >&lt;p&gt;after some consideration, I changed my mind and now agree with Carsten that we should treat the resource query param as an absolute path. Thus, in r1062243, changed AbstractAuthenticationFormServlet to not include the servlet context path in the requestContextPath substitution variable.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176746</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 41 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i112sv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>214420</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1939] wrong character encoding for compiled JSP scripts</title>
                <link>https://issues.apache.org/jira/browse/SLING-1939</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I have a JSP that contains some static text with special chars (e.g. umlauts). Though the JSP itself seems to be correctly encoded as UTF-8, the compiled .java class under /var/classes/... shows these characters wrongly encoded.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12496017">SLING-1939</key>
            <summary>wrong character encoding for compiled JSP scripts</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="vsaar">Victor Saar</reporter>
                        <labels>
                    </labels>
                <created>Wed, 19 Jan 2011 15:25:54 +0000</created>
                <updated>Mon, 21 Feb 2011 10:47:46 +0000</updated>
                            <resolved>Mon, 21 Feb 2011 10:29:18 +0000</resolved>
                                    <version>Scripting JSP 2.0.12</version>
                                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12995403" author="jsedding" created="Wed, 16 Feb 2011 17:29:36 +0000"  >&lt;p&gt;As a workaround you can include &amp;lt;%@page pageEncoding=&quot;utf-8&quot;  %&amp;gt; in every JSP file containing static strings with accented characters.&lt;/p&gt;</comment>
                            <comment id="12996447" author="fmeschbe" created="Fri, 18 Feb 2011 15:10:57 +0000"  >&lt;p&gt;Can you provide such a JSP as an attachement please ? Thanks.&lt;/p&gt;</comment>
                            <comment id="12997332" author="vsaar" created="Mon, 21 Feb 2011 10:09:12 +0000"  >&lt;p&gt;Here&apos;s a sample JSP and it couldn&apos;t be any simpler. Julian&apos;s suggestion workaround helps indeed.&lt;/p&gt;</comment>
                            <comment id="12997335" author="fmeschbe" created="Mon, 21 Feb 2011 10:28:44 +0000"  >&lt;p&gt;Well, I have to say, this is probably a works-as-designed case ....&lt;/p&gt;

&lt;p&gt;According to the JSP specification the default character encoding of JSP source files is assumed to be ISO-8859-1. If the JSP source is stored in UTF-8 but there is no other indication of the contrary the JSP compiler will read the file with ISO-8859-1 and thus output wrong characters.&lt;/p&gt;

&lt;p&gt;The only and correct solution to your problem is to explicitly state that the JSP contains UTF-8 characters.&lt;/p&gt;</comment>
                            <comment id="12997336" author="fmeschbe" created="Mon, 21 Feb 2011 10:29:18 +0000"  >&lt;p&gt;Resolving as not being a problem according to the spec.&lt;/p&gt;</comment>
                            <comment id="12997344" author="vsaar" created="Mon, 21 Feb 2011 10:47:46 +0000"  >&lt;p&gt;Okay, that makes totally sense and thanks for clarifying. Setting the page encoding explicitly is not a big deal anyways.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12471549" name="html.jsp" size="23" author="vsaar" created="Mon, 21 Feb 2011 10:09:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176745</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 37 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10j47:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>211231</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1938] Mapping might not consider current scheme</title>
                <link>https://issues.apache.org/jira/browse/SLING-1938</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If there is a mapping for difference schemes (like on for http and one for https), currently always the first one is picked up. It would make more sense to pick up the mapping with the same scheme as the current request.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12495998">SLING-1938</key>
            <summary>Mapping might not consider current scheme</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Wed, 19 Jan 2011 11:26:37 +0000</created>
                <updated>Fri, 28 Jan 2011 09:05:40 +0000</updated>
                            <resolved>Thu, 20 Jan 2011 14:32:04 +0000</resolved>
                                    <version>JCR Resource 2.0.6</version>
                                    <fixVersion>JCR Resource 2.0.8</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12984178" author="fmeschbe" created="Thu, 20 Jan 2011 13:33:11 +0000"  >&lt;p&gt;Further clarification: Consider a setup where a resource, say /content/sample, may be handled by an https or an http request. Wenn mapping such a resource path to an URL, the scheme matching the scheme of the request supplied to the map() method should be preferred.&lt;/p&gt;

&lt;p&gt;Example:&lt;/p&gt;

&lt;p&gt;     /content/sample ==&amp;gt; &lt;a href=&quot;http://some.host/content/sample&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://some.host/content/sample&lt;/a&gt;&lt;br/&gt;
     /content/sample ==&amp;gt; &lt;a href=&quot;https://some.host/content/sample&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://some.host/content/sample&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;When handling the request &quot;https://a.host/content/start.html&quot; the resource &quot;/content/sample.html&quot; should be mapped to &quot;https://some.host/content/sample.html&quot; while for a request &quot;http://insecure.host/content/start.html&quot; the resource &quot;/content/sample.html&quot; should be mapped to &quot;http://some.host/content/sample.html&quot;.&lt;/p&gt;</comment>
                            <comment id="12984208" author="fmeschbe" created="Thu, 20 Jan 2011 14:32:04 +0000"  >&lt;p&gt;Fixed in Rev. 1061315 by checking potential mappings for a mapping with the same scheme as the one used in the request provided.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176744</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 41 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i112qn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>214410</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1937] response locations aren&apos;t externalized when using import operation</title>
                <link>https://issues.apache.org/jira/browse/SLING-1937</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The location and parentLocation within an import&apos;s response object aren&apos;t correctly externalized.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12495964">SLING-1937</key>
            <summary>response locations aren&apos;t externalized when using import operation</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="justinedelson">Justin Edelson</assignee>
                                    <reporter username="justinedelson">Justin Edelson</reporter>
                        <labels>
                    </labels>
                <created>Wed, 19 Jan 2011 05:33:39 +0000</created>
                <updated>Wed, 20 Sep 2017 12:04:10 +0000</updated>
                            <resolved>Wed, 19 Jan 2011 05:47:40 +0000</resolved>
                                                    <fixVersion>Servlets Post 2.1.2</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12983541" author="justinedelson" created="Wed, 19 Jan 2011 05:47:41 +0000"  >&lt;p&gt;fixed in r1060685&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176743</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 42 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i109mn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>209694</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1934] Provider should provide all resources to the installer</title>
                <link>https://issues.apache.org/jira/browse/SLING-1934</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Currently, the jcr provider only forwards files with the extension jar|config|properties &lt;br/&gt;
With the new pluggable support of the installer core, this prevents other types to be installed - the check needs to be completly removed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12495874">SLING-1934</key>
            <summary>Provider should provide all resources to the installer</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Tue, 18 Jan 2011 08:36:43 +0000</created>
                <updated>Mon, 24 Jan 2011 12:00:55 +0000</updated>
                            <resolved>Tue, 18 Jan 2011 09:01:40 +0000</resolved>
                                    <version>JCR Installer 3.0.0</version>
                                    <fixVersion>JCR Installer 3.0.2</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12983084" author="cziegeler" created="Tue, 18 Jan 2011 09:01:40 +0000"  >&lt;p&gt;Removed the regexp completly in revision 1060244&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176740</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 42 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10sjr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>212759</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1933] selector form has incorrect paths to image, css, and signup form</title>
                <link>https://issues.apache.org/jira/browse/SLING-1933</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The selector form uses the substitution variable ${requestContextPath} to generate HTML references to the CSS, image, and the signup HTML page. This is wrong as of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-1855&quot; title=&quot;Form action for form of OpenID authenticationhandler is &amp;quot;j_security_check&amp;quot;. Posting form hits &amp;quot;POST&amp;quot; servlet instead of authenticationHandler&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-1855&quot;&gt;&lt;del&gt;SLING-1855&lt;/del&gt;&lt;/a&gt; because the requestContextPath now includes the resource path.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12495732">SLING-1933</key>
            <summary>selector form has incorrect paths to image, css, and signup form</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="justinedelson">Justin Edelson</assignee>
                                    <reporter username="justinedelson">Justin Edelson</reporter>
                        <labels>
                    </labels>
                <created>Mon, 17 Jan 2011 02:40:49 +0000</created>
                <updated>Fri, 28 Jan 2011 08:58:18 +0000</updated>
                            <resolved>Mon, 17 Jan 2011 02:43:41 +0000</resolved>
                                    <version>Auth Selector 1.0.2</version>
                    <version>Auth Core 1.0.4</version>
                                    <fixVersion>Auth Selector 1.0.4</fixVersion>
                    <fixVersion>Auth Core 1.0.6</fixVersion>
                                    <component>Authentication</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12982454" author="justinedelson" created="Mon, 17 Jan 2011 02:43:41 +0000"  >&lt;p&gt;fixed in r1059732 by introducing a new substitution variable called contextPath which contains just the contextPath&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12478462">SLING-1855</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176739</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 42 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10spr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>212786</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1932] when resource = /, auth.selector form submits to a bad URL</title>
                <link>https://issues.apache.org/jira/browse/SLING-1932</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;To see this, start up Sling Launchpad, go to &lt;a href=&quot;http://localhost:8080/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/&lt;/a&gt; and click on the Login link. This brings up the selector login form. Try submitting the form. It submits to //j_security_check which fails.&lt;/p&gt;

&lt;p&gt;This is because AbstractAuthenticationFormServlet sets requestContextPath to &quot;/&quot; when it should be &quot;&quot;.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12495730">SLING-1932</key>
            <summary>when resource = /, auth.selector form submits to a bad URL</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="justinedelson">Justin Edelson</assignee>
                                    <reporter username="justinedelson">Justin Edelson</reporter>
                        <labels>
                    </labels>
                <created>Mon, 17 Jan 2011 02:27:31 +0000</created>
                <updated>Fri, 28 Jan 2011 08:58:17 +0000</updated>
                            <resolved>Mon, 17 Jan 2011 02:45:00 +0000</resolved>
                                    <version>Auth Core 1.0.4</version>
                                    <fixVersion>Auth Core 1.0.6</fixVersion>
                                    <component>Authentication</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12982455" author="justinedelson" created="Mon, 17 Jan 2011 02:45:00 +0000"  >&lt;p&gt;resolved in r1059730 by setting the requestContextPath to &quot;&quot; when it would otherwise be &quot;/&quot;&lt;/p&gt;</comment>
                            <comment id="12983540" author="justinedelson" created="Wed, 19 Jan 2011 05:47:23 +0000"  >&lt;p&gt;better fix is in r1060684&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12478462">SLING-1855</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176738</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 42 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i112p3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>214403</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1931] Compiler message contain only class name but not resource path</title>
                <link>https://issues.apache.org/jira/browse/SLING-1931</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The compiler messages from the jcr compiler contain just the java class name, but not the resource path&lt;/p&gt;</description>
                <environment></environment>
        <key id="12495491">SLING-1931</key>
            <summary>Compiler message contain only class name but not resource path</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Thu, 13 Jan 2011 13:43:51 +0000</created>
                <updated>Mon, 24 Jan 2011 11:56:50 +0000</updated>
                            <resolved>Thu, 13 Jan 2011 13:44:27 +0000</resolved>
                                    <version>JCR Compiler 2.0.0</version>
                                    <fixVersion>JCR Compiler 2.0.2</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12981248" author="cziegeler" created="Thu, 13 Jan 2011 13:44:27 +0000"  >&lt;p&gt;Fixed in revision 1058553&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176737</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 42 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i112nr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>214397</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1930] Compilation message contains only class name without package information</title>
                <link>https://issues.apache.org/jira/browse/SLING-1930</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The compilation messages return just the class name (followed by &quot;.java&quot;) without the package&lt;/p&gt;</description>
                <environment></environment>
        <key id="12495489">SLING-1930</key>
            <summary>Compilation message contains only class name without package information</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Thu, 13 Jan 2011 13:41:52 +0000</created>
                <updated>Wed, 13 Jun 2012 08:43:39 +0000</updated>
                            <resolved>Thu, 13 Jan 2011 13:42:45 +0000</resolved>
                                    <version>Commons Compiler 2.0.0</version>
                                    <fixVersion>Commons Compiler 2.0.2</fixVersion>
                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12981247" author="cziegeler" created="Thu, 13 Jan 2011 13:42:44 +0000"  >&lt;p&gt;Fixed in revision 1058549&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="12560463">SLING-2509</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176736</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 42 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1eebb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>292248</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1929] javax.servlet.jsp.resources should be exported and imported</title>
                <link>https://issues.apache.org/jira/browse/SLING-1929</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The jsp scripting does not import and export javax.servlet.jsp.resources from the jsp api&lt;/p&gt;</description>
                <environment></environment>
        <key id="12495341">SLING-1929</key>
            <summary>javax.servlet.jsp.resources should be exported and imported</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Wed, 12 Jan 2011 07:49:35 +0000</created>
                <updated>Mon, 24 Jan 2011 11:59:40 +0000</updated>
                            <resolved>Wed, 12 Jan 2011 07:52:04 +0000</resolved>
                                    <version>Scripting JSP 2.0.12</version>
                                    <fixVersion>Scripting JSP 2.0.14</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12980610" author="cziegeler" created="Wed, 12 Jan 2011 07:51:57 +0000"  >&lt;p&gt;Fixed in revision 1058012&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176735</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 43 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i112yn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>214446</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1928] JSP API classes from the environment can&apos;t be used.</title>
                <link>https://issues.apache.org/jira/browse/SLING-1928</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The jsp scripting bundles includes the jsp api and taglib classes; however if the api classes from &quot;outside&quot; (like another bundle or the servlet engine) should be used instead, this leads to class cast exceptions as the jsp scripting bundle sets the JspFactory.setDefaultFactory() to its own factory. After this call, all web applications of the servlet engine will use the Sling JspFactory which leads to such exceptions&lt;/p&gt;</description>
                <environment></environment>
        <key id="12495236">SLING-1928</key>
            <summary>JSP API classes from the environment can&apos;t be used.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Tue, 11 Jan 2011 12:49:41 +0000</created>
                <updated>Mon, 24 Jan 2011 11:59:39 +0000</updated>
                            <resolved>Tue, 11 Jan 2011 14:10:58 +0000</resolved>
                                    <version>Scripting JSP 2.0.12</version>
                                    <fixVersion>Scripting JSP 2.0.14</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12980106" author="cziegeler" created="Tue, 11 Jan 2011 14:10:58 +0000"  >&lt;p&gt;Fixed in Revision 1057642.&lt;/p&gt;

&lt;p&gt;Instead of registering our own factory, we register a delegate which returns the already set factory in all cases, except when we are inside a jsp call in the jsp scripting.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176734</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 43 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10sm7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>212770</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1921] ScriptEngineManagerFactory does not skip comments when reading the META-INF/services/javax.script.ScriptEngineFactory file</title>
                <link>https://issues.apache.org/jira/browse/SLING-1921</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Comments are needed to be able to add a license header to the file. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12494842">SLING-1921</key>
            <summary>ScriptEngineManagerFactory does not skip comments when reading the META-INF/services/javax.script.ScriptEngineFactory file</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="justinedelson">Justin Edelson</assignee>
                                    <reporter username="sandro">Sandro Boehme</reporter>
                        <labels>
                    </labels>
                <created>Thu, 6 Jan 2011 13:20:27 +0000</created>
                <updated>Sat, 29 Jan 2011 14:02:00 +0000</updated>
                            <resolved>Thu, 6 Jan 2011 14:13:49 +0000</resolved>
                                                    <fixVersion>Scripting Core 2.0.16</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12978314" author="sandro" created="Thu, 6 Jan 2011 13:31:57 +0000"  >&lt;p&gt;The patch enhances the tests to reproduce the problem and a simple bugfix.&lt;/p&gt;</comment>
                            <comment id="12978328" author="justinedelson" created="Thu, 6 Jan 2011 14:13:49 +0000"  >&lt;p&gt;applied patch (thanks) in r1055887&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12467636" name="SLING-1921.txt" size="2574" author="sandro" created="Thu, 6 Jan 2011 13:31:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176727</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 43 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10ss7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>212797</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1919] Scala Scripting: class from Java class path not found</title>
                <link>https://issues.apache.org/jira/browse/SLING-1919</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The Scala compiler 2.8.1 does not use classes from the Java class path anymore. The usejavacp option needs to be set to true for the old (pre 2.8) behavior.  &lt;/p&gt;</description>
                <environment></environment>
        <key id="12494828">SLING-1919</key>
            <summary>Scala Scripting: class from Java class path not found</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mduerig">Michael D&#252;rig</assignee>
                                    <reporter username="mduerig">Michael D&#252;rig</reporter>
                        <labels>
                    </labels>
                <created>Thu, 6 Jan 2011 11:03:30 +0000</created>
                <updated>Thu, 6 Jan 2011 11:04:54 +0000</updated>
                            <resolved>Thu, 6 Jan 2011 11:04:54 +0000</resolved>
                                                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12978271" author="mduerig" created="Thu, 6 Jan 2011 11:04:54 +0000"  >&lt;p&gt;Fixed at revision 1055828&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176725</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 43 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i104lz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>208881</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1914] Only one config per factory configuration possible</title>
                <link>https://issues.apache.org/jira/browse/SLING-1914</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;It&apos;s not possible to have several configs for a factory configuration - always the first one added is overwritten with further configurations&lt;/p&gt;</description>
                <environment></environment>
        <key id="12494495">SLING-1914</key>
            <summary>Only one config per factory configuration possible</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Mon, 3 Jan 2011 15:01:35 +0000</created>
                <updated>Mon, 24 Jan 2011 12:00:28 +0000</updated>
                            <resolved>Mon, 3 Jan 2011 15:05:24 +0000</resolved>
                                    <version>Installer Core 3.0.0</version>
                                    <fixVersion>Installer Core 3.1.0</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12976769" author="cziegeler" created="Mon, 3 Jan 2011 15:05:24 +0000"  >&lt;p&gt;Corrected the filter instruction in revision 1054639&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176721</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 44 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10sfz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>212742</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1912] Commons/log bundle should import exported SLF4J and OSGi LogService API</title>
                <link>https://issues.apache.org/jira/browse/SLING-1912</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The commons/log bundle currently exports the SLF4J and OSGi LogService APIs for which implementations are provided (where the LogService implementation actually uses SLF4J loggers).&lt;/p&gt;

&lt;p&gt;The Commons Logging and Log4J APIs exported from the commons/log bundle do not need to be re-imported because we just provide SLF4J based implementations of this API and if there are other providers, we don&apos;t really care.&lt;/p&gt;

&lt;p&gt;Besides the core org.slf4j package, the org.slf4j.spi and org.slf4j.helpers package needs also be exported and re-imported because these packages depend on each others and should be imported (if at all) together.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12494407">SLING-1912</key>
            <summary>Commons/log bundle should import exported SLF4J and OSGi LogService API</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Sat, 1 Jan 2011 15:46:54 +0000</created>
                <updated>Mon, 24 Jan 2011 11:57:35 +0000</updated>
                            <resolved>Mon, 10 Jan 2011 18:47:06 +0000</resolved>
                                    <version>Commons Log 2.1.0</version>
                                    <fixVersion>Commons Log 2.1.2</fixVersion>
                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12979679" author="fmeschbe" created="Mon, 10 Jan 2011 18:47:06 +0000"  >&lt;p&gt;Fixed in Rev. 1057310.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176719</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 43 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10srj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>212794</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1911] If the same resource is at different locations they should be treated as the same resource</title>
                <link>https://issues.apache.org/jira/browse/SLING-1911</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If e.g. a bundle is in two different location (in the repository), these bundles represent the same resource.&lt;br/&gt;
Currently they end up as two different resources which might create unwanted results, e.g. if the bundle is removed from location A while added at location B In this case the bundle might be uninstalled after this operation, but of course it should still be installed&lt;/p&gt;</description>
                <environment></environment>
        <key id="12494381">SLING-1911</key>
            <summary>If the same resource is at different locations they should be treated as the same resource</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Fri, 31 Dec 2010 17:15:45 +0000</created>
                <updated>Mon, 24 Jan 2011 12:00:28 +0000</updated>
                            <resolved>Fri, 31 Dec 2010 18:47:23 +0000</resolved>
                                    <version>Installer Core 3.0.0</version>
                                    <fixVersion>Installer Core 3.1.0</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12976331" author="cziegeler" created="Fri, 31 Dec 2010 18:47:23 +0000"  >&lt;p&gt;Fixed in revision 1054158 by using an own comparator for the tree map: the tree map uses Comparable which is special implemented for our resources&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176718</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 44 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10sf3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>212738</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1910] Endless recursion if bundle can&apos;t be started</title>
                <link>https://issues.apache.org/jira/browse/SLING-1910</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If a bundle is installed but can&apos;t be started (due to resolving errors) this is retried endlessly&lt;/p&gt;</description>
                <environment></environment>
        <key id="12494379">SLING-1910</key>
            <summary>Endless recursion if bundle can&apos;t be started</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Fri, 31 Dec 2010 16:21:25 +0000</created>
                <updated>Mon, 24 Jan 2011 12:00:27 +0000</updated>
                            <resolved>Fri, 31 Dec 2010 18:46:37 +0000</resolved>
                                    <version>Installer Core 3.0.0</version>
                                    <fixVersion>Installer Core 3.1.0</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12976330" author="cziegeler" created="Fri, 31 Dec 2010 18:46:36 +0000"  >&lt;p&gt;Fixed in revision 1054158 by storing the retry count in temporary attributes of the resource.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176717</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 44 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i112vz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>214434</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1909] Don&apos;t uninstall bundles not installed by the installer</title>
                <link>https://issues.apache.org/jira/browse/SLING-1909</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If a bundle has been installed by someone else than the installer, but is also in the list of installed resources and then gets removed from this list of resources, it should not be uninstalled.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12494349">SLING-1909</key>
            <summary>Don&apos;t uninstall bundles not installed by the installer</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Fri, 31 Dec 2010 08:56:05 +0000</created>
                <updated>Mon, 24 Jan 2011 12:00:27 +0000</updated>
                            <resolved>Fri, 31 Dec 2010 08:58:50 +0000</resolved>
                                    <version>Installer Core 3.0.0</version>
                                    <fixVersion>Installer Core 3.1.0</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12976199" author="cziegeler" created="Fri, 31 Dec 2010 08:58:50 +0000"  >&lt;p&gt;Fixed in revision 1054067&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176716</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 44 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10sc7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>212725</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1908] Its not possible to attach the source code to the Scala debugger</title>
                <link>https://issues.apache.org/jira/browse/SLING-1908</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I created this issue out of the conversation in the mailing list &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;.&lt;br/&gt;
While I can understand that others would priorize it to minor and feel that one can work efficiently without a working debugger it feels major to me.&lt;br/&gt;
To reproduce the behavior the hello-world Scala sample could be used. It is described in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-1907&quot; title=&quot;The Scala hello-world example does not work&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-1907&quot;&gt;&lt;del&gt;SLING-1907&lt;/del&gt;&lt;/a&gt; how to get it running.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; - &lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/sling-users/201012.mbox/%3C4D17E796.1030600@gmx.de%3E&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://mail-archives.apache.org/mod_mbox/sling-users/201012.mbox/%3C4D17E796.1030600@gmx.de%3E&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12494325">SLING-1908</key>
            <summary>Its not possible to attach the source code to the Scala debugger</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sandro">Sandro Boehme</reporter>
                        <labels>
                    </labels>
                <created>Thu, 30 Dec 2010 20:50:16 +0000</created>
                <updated>Thu, 13 Apr 2023 05:03:54 +0000</updated>
                            <resolved>Thu, 13 Apr 2023 05:03:54 +0000</resolved>
                                    <version>Scripting Scala 1.0.0</version>
                                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35995</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 44 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i031k7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>15686</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1907] The Scala hello-world example does not work</title>
                <link>https://issues.apache.org/jira/browse/SLING-1907</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;To get the Scala samples to work I executed the following steps:&lt;br/&gt;
1. The 2.8.1 versions of the scala-compiler and scala-library jars are not available anymore with the group-id &quot;org.scala-lang-osgi&quot; but with the group-id &quot;com.weiglewilczek.scala-lang-osgi&quot; they are. &lt;br/&gt;
The problem is, that the checksum is not defined and thus the jar is not automatically downloaded.&lt;br/&gt;
As an alternative to always downloading manually I added the jars and an install-script to the &apos;contrib/scripting/scala/config&apos; project&lt;/p&gt;

&lt;p&gt;2. Removed the license header from /contrib/scripting/scala/script/src/main/resources/META-INF/services/javax.script.ScriptEngineFactory as it resulted in entries like the following one in the log file:&lt;br/&gt;
29.12.2010 00:59:35.166 &lt;b&gt;ERROR&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Background Update org.apache.sling.scripting.scala.script (74)&amp;#93;&lt;/span&gt; org.apache.sling.scripting.c&lt;br/&gt;
ore.impl.ScriptEngineManagerFactory Cannot register ScriptEngineFactory # limitations under the License. java.lang.ClassNotFo&lt;br/&gt;
undException: # limitations under the License. not found by org.apache.sling.scripting.scala.script &lt;span class=&quot;error&quot;&gt;&amp;#91;74&amp;#93;&lt;/span&gt;&lt;br/&gt;
        at org.apache.felix.framework.ModuleImpl.findClassOrResourceByDelegation(ModuleImpl.java:787)&lt;br/&gt;
        at org.apache.felix.framework.ModuleImpl.access$400(ModuleImpl.java:71)&lt;br/&gt;
        at org.apache.felix.framework.ModuleImpl$ModuleClassLoader.loadClass(ModuleImpl.java:1768)&lt;br/&gt;
        at java.lang.ClassLoader.loadClass(ClassLoader.java:268)&lt;br/&gt;
        at org.apache.felix.framework.ModuleImpl.getClassByDelegation(ModuleImpl.java:645)&lt;br/&gt;
        at org.apache.felix.framework.Felix.loadBundleClass(Felix.java:1599)&lt;br/&gt;
        at org.apache.felix.framework.BundleImpl.loadClass(BundleImpl.java:904)&lt;br/&gt;
        at org.apache.sling.scripting.core.impl.ScriptEngineManagerFactory.registerFactories(ScriptEngineManagerFactory.java:&lt;br/&gt;
146)&lt;br/&gt;
        at org.apache.sling.scripting.core.impl.ScriptEngineManagerFactory.refreshScriptEngineManager(ScriptEngineManagerFact&lt;br/&gt;
ory.java:102)&lt;br/&gt;
        at org.apache.sling.scripting.core.impl.ScriptEngineManagerFactory.unbindScriptEngineFactory(ScriptEngineManagerFacto&lt;br/&gt;
ry.java:266)&lt;br/&gt;
I consider this as a workaround as the parser should be adapted to ignore lines containing comments.&lt;/p&gt;

&lt;p&gt;3. Installed &apos;samples/path-based-rtp&apos; as it is needed by the hello-world example&lt;/p&gt;

&lt;p&gt;4. Installed &apos;contrib/scripting/scala/config&apos;, &apos;contrib/scripting/scala/script&apos; and &apos;contrib/scripting/scala/samples/hello-world&apos; using &apos;mvn -PautoInstallBundle clean install -Dsling.url=&lt;a href=&quot;http://localhost:8888/system/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8888/system/console&lt;/a&gt;&apos; as the default Jetty-Port is 8888 and the sling:install plugin is not configured in every pom&lt;/p&gt;

&lt;p&gt;Would&apos;nt it make sense to create a Maven multi module project that builds and installs the projects?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12494324">SLING-1907</key>
            <summary>The Scala hello-world example does not work</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mduerig">Michael D&#252;rig</assignee>
                                    <reporter username="sandro">Sandro Boehme</reporter>
                        <labels>
                    </labels>
                <created>Thu, 30 Dec 2010 20:32:15 +0000</created>
                <updated>Thu, 6 Jan 2011 14:33:19 +0000</updated>
                            <resolved>Tue, 4 Jan 2011 12:52:55 +0000</resolved>
                                    <version>Scripting Scala 1.0.0</version>
                                                    <component>Samples</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12976201" author="mduerig" created="Fri, 31 Dec 2010 09:04:39 +0000"  >&lt;p&gt;The simplest way to get the sample applications installed and working is using contrib/launchpad/testing:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;build Sling&lt;/li&gt;
	&lt;li&gt;cd contriib&lt;/li&gt;
	&lt;li&gt;mvn -Dmaven.test.skip=true clean install&lt;/li&gt;
	&lt;li&gt;cd contrib/launchpad/testing&lt;/li&gt;
	&lt;li&gt;mvn jetty:run&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Sling is now running on port 8888. The Scala scripting demo apps are accessible at &lt;a href=&quot;http://localhost:8888/content/forum.html?sling:authRequestLogin=true&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8888/content/forum.html?sling:authRequestLogin=true&lt;/a&gt; and &lt;a href=&quot;http://localhost:8888/content/helloworld.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8888/content/helloworld.html&lt;/a&gt;. For the forum app please not 	&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-1895&quot; title=&quot;sun.reflect.MethodAccessorImpl not correctly boot delegated&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-1895&quot;&gt;&lt;del&gt;SLING-1895&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

</comment>
                            <comment id="12976202" author="mduerig" created="Fri, 31 Dec 2010 09:11:12 +0000"  >&lt;p&gt;Re 1: these have gotten out of sync with contrib/launchpad/testing/src/main/bundles/list.xml. I&apos;ll fix this&lt;/p&gt;

&lt;p&gt;Re 2: Thanks for finding this. I&apos;ll apply your patch for the time being. I appropriate we might want to report this as a separate issue. &lt;/p&gt;

&lt;p&gt;Re 3: This is noted in the forum demo app readme file&lt;/p&gt;

&lt;p&gt;&amp;gt; Would&apos;nt it make sense to create a Maven multi module project that builds and installs the projects?&lt;br/&gt;
Not sure how to go about here. I have always used the launchpad/testing approach so far. &lt;/p&gt;
</comment>
                            <comment id="12977265" author="mduerig" created="Tue, 4 Jan 2011 12:52:55 +0000"  >&lt;p&gt;Fixed at revision 1054990&lt;/p&gt;</comment>
                            <comment id="12978317" author="sandro" created="Thu, 6 Jan 2011 13:47:47 +0000"  >&lt;p&gt;Hi Michael,&lt;/p&gt;

&lt;p&gt;thanks for your feedback.&lt;/p&gt;

&lt;p&gt;&amp;gt;&amp;gt; Would&apos;nt it make sense to create a Maven multi module project that builds and installs the projects? &lt;br/&gt;
&amp;gt;Not sure how to go about here. I have always used the launchpad/testing approach so far. &lt;br/&gt;
In case I didn&apos;t got the message across: The idea is to ease the step 4. &lt;br/&gt;
What do you mean with the launchpad testing approach?&lt;/p&gt;

&lt;p&gt;&amp;gt;Re 2: Thanks for finding this. I&apos;ll apply your patch for the time being. I appropriate we might want to report this as a separate issue. &lt;br/&gt;
I have a patch in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-1921&quot; title=&quot;ScriptEngineManagerFactory does not skip comments when reading the META-INF/services/javax.script.ScriptEngineFactory file&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-1921&quot;&gt;&lt;del&gt;SLING-1921&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Best,&lt;/p&gt;

&lt;p&gt;Sandro&lt;/p&gt;</comment>
                            <comment id="12978330" author="mduerig" created="Thu, 6 Jan 2011 14:18:06 +0000"  >&lt;p&gt;&amp;gt; What do you mean with the launchpad testing approach? &lt;br/&gt;
See my comment from 31/Dec/10 04:04 AM&lt;/p&gt;

&lt;p&gt;This will result in a running Sling instance with the Scala scripting engine and the sample applications installed. &lt;/p&gt;</comment>
                            <comment id="12978338" author="sandro" created="Thu, 6 Jan 2011 14:33:19 +0000"  >&lt;p&gt;Ah. Thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12467185" name="SLING-1907.txt" size="3009" author="sandro" created="Thu, 30 Dec 2010 20:37:26 +0000"/>
                            <attachment id="12467186" name="install-scala-bundles.sh" size="291" author="sandro" created="Thu, 30 Dec 2010 20:53:49 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176715</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 43 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10dqv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>210361</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1903] JobStateChangeServlet throws JobStorageException for DONE jobs</title>
                <link>https://issues.apache.org/jira/browse/SLING-1903</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Trying to change the state of a DONE job causes a JobStorageException, as the state cannot be changed anymore.&lt;/p&gt;

&lt;p&gt;This is not consistent with other state changes which return JSON information about the change - in this case that should be something like:&lt;/p&gt;

&lt;p&gt;{&lt;br/&gt;
  &quot;info&quot;:&quot;Requested state change&quot;,&lt;br/&gt;
  &quot;desiredState&quot;:&quot;RUNNING&quot;,&lt;br/&gt;
  &quot;path&quot;:&quot;/var/bg/jobs/2010/12/28/15/54/7&quot;,&lt;br/&gt;
  &quot;currentState&quot;:&quot;DONE&quot;,&lt;br/&gt;
  &quot;stateChanged&quot;:false&lt;br/&gt;
}&lt;/p&gt;</description>
                <environment></environment>
        <key id="12494176">SLING-1903</key>
            <summary>JobStateChangeServlet throws JobStorageException for DONE jobs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 Dec 2010 15:10:21 +0000</created>
                <updated>Tue, 28 Dec 2010 15:40:08 +0000</updated>
                            <resolved>Tue, 28 Dec 2010 15:40:08 +0000</resolved>
                                                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12975537" author="bdelacretaz" created="Tue, 28 Dec 2010 15:40:08 +0000"  >&lt;p&gt;Implemented in revision 1053371&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176712</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 45 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i104j3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>208868</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1900] launchpad/installer uses old OSGi installer dependency</title>
                <link>https://issues.apache.org/jira/browse/SLING-1900</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;org.apache.sling.osgi.installer is now org.apache.sling.installer.core&lt;/p&gt;</description>
                <environment></environment>
        <key id="12493982">SLING-1900</key>
            <summary>launchpad/installer uses old OSGi installer dependency</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Thu, 23 Dec 2010 15:56:34 +0000</created>
                <updated>Thu, 23 Dec 2010 16:13:49 +0000</updated>
                            <resolved>Thu, 23 Dec 2010 16:13:49 +0000</resolved>
                                                                    <component>Launchpad</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12974644" author="bdelacretaz" created="Thu, 23 Dec 2010 16:13:49 +0000"  >&lt;p&gt;Fixed in launchpad/installer and launchpad/builder&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12469330">SLING-1597</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176709</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 45 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i104gv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>208858</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1899] JcrResourceResolver map method is not reverse operation of resolve method with special chars in path</title>
                <link>https://issues.apache.org/jira/browse/SLING-1899</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;according to the javadocs of the ResourceResolver API interface, the map method is intended as the reverse operation of the resolve method.&lt;br/&gt;
this is not the case if the path contains special chars like spaces - they are url-encoded, although the javadocs of the API does not require this.&lt;br/&gt;
additionally the resolve method does not url-decode the path (which is correct in my opinion because the servlet engine already decodes the path).&lt;/p&gt;

&lt;p&gt;the map method should be fixed, so that not url-encoding takes place in it. the application is responsible for url-encoding a path if needed, not the sling api.&lt;/p&gt;

&lt;p&gt;i&apos;ve attached a patch which contains a simple unit tests that makes the current implementation fail when resolving a path generated with the map method: &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12466421/12466421_101216_mapresolve_specialchars_test.patch&quot; title=&quot;101216_mapresolve_specialchars_test.patch attached to SLING-1899&quot;&gt;101216_mapresolve_specialchars_test.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12493469">SLING-1899</key>
            <summary>JcrResourceResolver map method is not reverse operation of resolve method with special chars in path</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sseifert">Stefan Seifert</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 Dec 2010 23:12:30 +0000</created>
                <updated>Thu, 8 Nov 2018 20:14:33 +0000</updated>
                            <resolved>Sun, 17 Feb 2013 22:48:23 +0000</resolved>
                                    <version>JCR Resource 2.0.6</version>
                                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12972282" author="sseifert@pro-vision.de" created="Thu, 16 Dec 2010 23:17:39 +0000"  >&lt;p&gt;attached is a fix, that resolves the problem: &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12466423/12466423_101216_mapresolv_specialchars_fix.patch&quot; title=&quot;101216_mapresolv_specialchars_fix.patch attached to SLING-1899&quot;&gt;101216_mapresolv_specialchars_fix.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;if applied, the unit &quot;testMapURLEscaping&quot; fails. but in my opinition, this unit test is not correct either and should be removed/adapted to a non-escaped URI.&lt;/p&gt;</comment>
                            <comment id="12972481" author="alexander.klimetschek" created="Fri, 17 Dec 2010 13:29:15 +0000"  >&lt;p&gt;&amp;gt; the map method should be fixed, so that not url-encoding takes place in it. the application is responsible for url-encoding a path if needed, not the sling api. &lt;/p&gt;

&lt;p&gt;I disagree. Because then you need another utility method in your application to url-encode the resulting string. Such a &quot;basic&quot; thing should be done by the Sling API to be able to do things like this in a jsp, for example:&lt;/p&gt;

&lt;p&gt;&amp;lt;a href=&quot;&amp;lt;%= resourceResolver.map(repoPath) %&amp;gt;&quot;&amp;gt;link&amp;lt;/a&amp;gt;&lt;/p&gt;

&lt;p&gt;It is true that the resource resolution does not url-decode the URL since it has already been done by the servlet engine, however, on the way back, there is nothing that would do the url-encoding automatically, since a servlet directly writes to the response.&lt;/p&gt;

&lt;p&gt;I think the case were you want a not-url-encoded string back from the map() method is rarer.&lt;/p&gt;</comment>
                            <comment id="12972486" author="sseifert@pro-vision.de" created="Fri, 17 Dec 2010 14:01:27 +0000"  >&lt;p&gt;from my point of view the sling API should be a general purpose Java API - not a convenience layer for JSP scripting.&lt;/p&gt;

&lt;p&gt;if you use the API in other usecases - e.g. within a web framework like wicket, or to pass it over to javascript or JSON you have to manually url-decode the value returned by the map method, otherwise it may get double URL-encoded.&lt;/p&gt;

&lt;p&gt;if the implementation of the API method is not changed at least the javadocs of the map method in the ResourceResolver interface have to be updated to document that the paths returned are URL-encoded, and they cannot be used 1:1 as reverse operation for the resolve method.&lt;/p&gt;</comment>
                            <comment id="12972490" author="cziegeler" created="Fri, 17 Dec 2010 14:10:45 +0000"  >&lt;p&gt;I tend to agree with Stefan here - the resource resolver API is general purpose and it seems strange that a map method also does url encoding.&lt;/p&gt;

&lt;p&gt;Of course we need some convenience for jsps or other scripting layers.&lt;/p&gt;

&lt;p&gt;And changing the behaviour of the method now - after we have done several releases with url encoding - we shouldn&apos;t change it for compatilibty reasons.&lt;/p&gt;

&lt;p&gt;So I think we should:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;fix the javadocs of the map method&lt;/li&gt;
	&lt;li&gt;deprecate the map methods&lt;/li&gt;
	&lt;li&gt;introduce a new &quot;map&quot; method which does pure mapping&lt;/li&gt;
	&lt;li&gt;introduce some convenience stuff for scripting (invoking map and encoding)&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12972493" author="bdelacretaz" created="Fri, 17 Dec 2010 14:16:55 +0000"  >&lt;p&gt;I like Carsten&apos;s proposal - it&apos;s important to keep backwards compatibility, but the current map method does too much.&lt;/p&gt;

&lt;p&gt;I&apos;d like to add (and you see me coming &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; that we should make sure we have automated tests for the existing behavior before changing it.&lt;/p&gt;</comment>
                            <comment id="12972503" author="justinedelson" created="Fri, 17 Dec 2010 14:49:37 +0000"  >&lt;p&gt;&amp;gt; - introduce a new &quot;map&quot; method which does pure mapping &lt;/p&gt;

&lt;p&gt;Could we name the new method something else? Personally, I&apos;ve never found the name &quot;map&quot; to be particularly intuitive, although it is now drilled into my head (see also Effective Java #41, although that describes a different problem).&lt;/p&gt;

&lt;p&gt;That said, I don&apos;t have any great ideas for a new name. &quot;unresolve&quot; - no. &quot;reverseResolve&quot; - no. &quot;theMethodFormerlyKnownAsMap&quot; - too long&lt;/p&gt;</comment>
                            <comment id="12972511" author="alexander.klimetschek" created="Fri, 17 Dec 2010 15:08:52 +0000"  >&lt;p&gt;&amp;gt; not a convenience layer for JSP scripting&lt;/p&gt;

&lt;p&gt;This is not about &quot;scripting&quot;. map()&apos;s purpose was to generate full URLs to send back in HTTP responses and that&apos;s what it does, regardless from where you call it.&lt;/p&gt;

&lt;p&gt;&amp;gt; within a web framework like wicket&lt;/p&gt;

&lt;p&gt;Ok, yes, but that&apos;s a special case &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&amp;gt;  to pass it over to javascript or JSON you have to manually url-decode the value returned by the map method, otherwise it may get double URL-encoded&lt;/p&gt;

&lt;p&gt;Could you give an example of passing it over to javascript or JSON?&lt;/p&gt;

&lt;p&gt;The normal form of a URL is in its encoded form, including relative URL paths, such as &quot;/some/path%20foo.html&quot;. Any client-side javascript would be expected to properly parse it if it does more then simply placing it in a href for example.&lt;/p&gt;

&lt;p&gt;But I agree that a map() method that does not do url-encoding would make sense. I would simply add a new one, make the javadocs on the existing ones more explicit, but &lt;em&gt;not&lt;/em&gt; deprecate them, since they do have a purpose. It should not be moved to yet-another utility class.&lt;/p&gt;</comment>
                            <comment id="12972774" author="cziegeler" created="Sat, 18 Dec 2010 11:13:03 +0000"  >&lt;p&gt;&amp;gt; But I agree that a map() method that does not do url-encoding would make sense. I would simply add a new one, make the javadocs on the existing ones more &lt;br/&gt;
&amp;gt; explicit, but &lt;em&gt;not&lt;/em&gt; deprecate them, since they do have a purpose. It should not be moved to yet-another utility class. &lt;br/&gt;
Deprecating does not mean removing, for obvious reasons this method has to stay as is for a long term&lt;br/&gt;
And no, we&apos;re not talking about an utility class here either - I think we should add the methods to the resource resolver;&lt;br/&gt;
And I agree with Justin, that &quot;map&quot; might not be the best name for a new method.&lt;/p&gt;</comment>
                            <comment id="13578993" author="ianeboston" created="Fri, 15 Feb 2013 06:39:37 +0000"  >&lt;p&gt;I started trying to implement the new method here, and found there was a subtlety that might make changing the current behaviour wrong.&lt;br/&gt;
Its possible that ResourceResolverImpl.map has evolved since this issue was created.&lt;/p&gt;

&lt;p&gt;The current ResourceResolverImpl contains code to handle a query string. The parameters of the query string must be URL encoded, which means the path must also be url encoded. &lt;/p&gt;

&lt;p&gt;It could be made to return a non url encoded path, and a url encoded query string, but the caller would have to split the two apart before encoding&lt;/p&gt;

&lt;p&gt;eg a parameter called withequals is &quot;With=In a parameter&quot; becomes a query string of space=With%3DIn%20a%20parameter&lt;/p&gt;

&lt;p&gt;Leaving it un URL encoded is wrong &quot;space=With=In a parameter&quot;&lt;/p&gt;

&lt;p&gt;URL encoding just the query string is wrong&lt;br/&gt;
/test= ing/a?space=With%3DIn%20a%20parameter&lt;/p&gt;

&lt;p&gt;since the caller will have to split the query string off to encode and avoid double encoding the query string.&lt;br/&gt;
/test%3D%20ing/a?space%3DWith%253DIn%2520a%2520parameter&lt;/p&gt;

&lt;p&gt;So there are two options left:&lt;/p&gt;

&lt;p&gt;Create a method that strips the query string during the map operation making its behaviour different from map(...)&lt;br/&gt;
Or&lt;br/&gt;
Do nothing and avoid inconsistent duplicate behaviour.&lt;/p&gt;

&lt;p&gt;I think leave as is and close this wont-fix. WDYT?&lt;br/&gt;
(or did I miss something)&lt;/p&gt;

</comment>
                            <comment id="13580315" author="ianeboston" created="Sun, 17 Feb 2013 22:48:23 +0000"  >&lt;p&gt;CLosing as wont fix, see previous comment.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13197128">SLING-8084</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12466423" name="101216_mapresolv_specialchars_fix.patch" size="1233" author="sseifert" created="Thu, 16 Dec 2010 23:17:39 +0000"/>
                            <attachment id="12466421" name="101216_mapresolve_specialchars_test.patch" size="1611" author="sseifert" created="Thu, 16 Dec 2010 23:12:46 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35996</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 37 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i031kf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>15687</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1897] SlingHttpServletResponseImpl.flushBuffer() does not flush parent response</title>
                <link>https://issues.apache.org/jira/browse/SLING-1897</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;example:&lt;/p&gt;

&lt;p&gt;slingResponse.setBufferSize(0);&lt;br/&gt;
slingResponse.getOutputStream().write(123);&lt;br/&gt;
slingResponse.flushBuffer()&lt;/p&gt;

&lt;p&gt;does actually bypass the buffer in ContentData, but the flushBuffer is not passed to the wrapped response (neither is setBufferSize())&lt;/p&gt;</description>
                <environment></environment>
        <key id="12493064">SLING-1897</key>
            <summary>SlingHttpServletResponseImpl.flushBuffer() does not flush parent response</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="tripod">Tobias Bocanegra</reporter>
                        <labels>
                    </labels>
                <created>Mon, 13 Dec 2010 11:58:24 +0000</created>
                <updated>Fri, 28 Jan 2011 09:07:23 +0000</updated>
                            <resolved>Mon, 24 Jan 2011 09:46:27 +0000</resolved>
                                    <version>Engine 2.1.0</version>
                                    <fixVersion>Engine 2.2.0</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12970787" author="tripod" created="Mon, 13 Dec 2010 12:00:10 +0000"  >&lt;p&gt;simple patch that works for me:&lt;/p&gt;

&lt;p&gt;Index: src/main/java/org/apache/sling/engine/impl/SlingHttpServletResponseImpl.java&lt;br/&gt;
===================================================================&lt;br/&gt;
&amp;#8212; src/main/java/org/apache/sling/engine/impl/SlingHttpServletResponseImpl.java	(revision 1045074)&lt;br/&gt;
+++ src/main/java/org/apache/sling/engine/impl/SlingHttpServletResponseImpl.java	(working copy)&lt;br/&gt;
@@ -129,6 +129,7 @@&lt;br/&gt;
     @Override&lt;br/&gt;
     public void flushBuffer() throws IOException &lt;/p&gt;
{
         getRequestData().getContentData().flushBuffer();
+        getResponse().flushBuffer();
     }

&lt;p&gt;     @Override&lt;/p&gt;</comment>
                            <comment id="12983430" author="fmeschbe" created="Tue, 18 Jan 2011 23:14:48 +0000"  >&lt;p&gt;Setting this as a blocker for the next release ...&lt;/p&gt;</comment>
                            <comment id="12985589" author="fmeschbe" created="Mon, 24 Jan 2011 09:46:27 +0000"  >&lt;p&gt;Rev. 1062702: Better coordinate internal output buffer handling with servlet container buffering:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;internal commit check for resetBuffer and reset&lt;/li&gt;
	&lt;li&gt;setting the buffer size for the engine also sets the same buffer size for the servlet container&lt;/li&gt;
	&lt;li&gt;flushBuffer() also calls flushBuffer() on the servlet container&apos;s response&lt;br/&gt;
     (after flushing the internal buffer, if any)&lt;/li&gt;
	&lt;li&gt;reset() also resets any internal (engine) buffered data in addition&lt;br/&gt;
     to resetting the servlet container&apos;s response&lt;/li&gt;
	&lt;li&gt;resetBuffer() also resets servlet container&apos;s buffer in addition to&lt;br/&gt;
     the internal buffer&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176707</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 41 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10stz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>212805</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1895] sun.reflect.MethodAccessorImpl not correctly boot delegated</title>
                <link>https://issues.apache.org/jira/browse/SLING-1895</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When running the forum sample application (Scala) I&apos;m getting&lt;/p&gt;

&lt;p&gt;java.lang.NoClassDefFoundError: sun/reflect/MethodAccessorImpl&lt;br/&gt;
	at sun.misc.Unsafe.defineClass(Native Method)&lt;br/&gt;
	at sun.reflect.ClassDefiner.defineClass(ClassDefiner.java:45)&lt;br/&gt;
	at sun.reflect.MethodAccessorGenerator$1.run(MethodAccessorGenerator.java:381)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(Native Method)&lt;br/&gt;
	at sun.reflect.MethodAccessorGenerator.generate(MethodAccessorGenerator.java:377)&lt;br/&gt;
	at sun.reflect.MethodAccessorGenerator.generateMethod(MethodAccessorGenerator.java:59)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:28)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;/p&gt;

&lt;p&gt;By manually editing the sling.properties file in my sling folder:&lt;/p&gt;

&lt;p&gt;org.osgi.framework.bootdelegation=com.yourkit.&lt;b&gt;,sun.&lt;/b&gt;,sun.com.*&lt;/p&gt;

&lt;p&gt;the error goes away. &lt;/p&gt;

&lt;p&gt;Can we add the sun packages to boot delegation by default?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12492960">SLING-1895</key>
            <summary>sun.reflect.MethodAccessorImpl not correctly boot delegated</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mduerig">Michael D&#252;rig</assignee>
                                    <reporter username="mduerig">Michael D&#252;rig</reporter>
                        <labels>
                    </labels>
                <created>Fri, 10 Dec 2010 17:24:15 +0000</created>
                <updated>Tue, 11 Jan 2011 10:47:39 +0000</updated>
                            <resolved>Tue, 11 Jan 2011 10:47:39 +0000</resolved>
                                    <version> Launchpad Base 2.2.0</version>
                                                    <component>Launchpad</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12970465" author="fmeschbe" created="Sat, 11 Dec 2010 14:40:58 +0000"  >&lt;p&gt;I am not in favor of adding this. In fact, I am even contemplating removing the com.yourkit.* configuration ...&lt;/p&gt;

&lt;p&gt;But then, this is something we cannot control and it may be the best solution to try to go this route.&lt;/p&gt;

&lt;p&gt;Have you tried to only add sun.reflect to the bootdelegation:&lt;/p&gt;

&lt;p&gt;    org.osgi.framework.bootdelegation=com.yourkit.*,sun.reflect&lt;/p&gt;

&lt;p&gt;If we can limit the addition to this package, I would be ok.&lt;/p&gt;

&lt;p&gt;Am I right that this issue only occurrs after a few calls ? For example as discussed in &lt;a href=&quot;http://www.mail-archive.com/users@felix.apache.org/msg07724.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.mail-archive.com/users@felix.apache.org/msg07724.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12970466" author="fmeschbe" created="Sat, 11 Dec 2010 14:41:54 +0000"  >&lt;p&gt;This would be an issue for the launchpad base bundle&lt;/p&gt;</comment>
                            <comment id="12970611" author="mduerig" created="Sun, 12 Dec 2010 16:07:47 +0000"  >&lt;p&gt;I&apos;m seeing this right away every time. However whether this results to &apos;a few calls&apos; internally or not I cannot say at this stage. Furthermore the issue you mention should have been fixed with framework-3.0.2 (&lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-2421&quot; title=&quot;Implicit bootdelegation doesn&amp;#39;t ignore classloaders if they are inner classes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-2421&quot;&gt;&lt;del&gt;FELIX-2421&lt;/del&gt;&lt;/a&gt;). &lt;/p&gt;

&lt;p&gt;I&apos;ll check whether adding only sun.reflect is sufficient and let you know. &lt;/p&gt;

&lt;p&gt;I see 3 ways to handle this:&lt;/p&gt;

&lt;p&gt;1. add the required packages to boot delegation&lt;br/&gt;
2. close as wont fix and open an issue for the Scala scripting engine adding the boot delegation solution as a work around instructions&lt;br/&gt;
3. further investigate the source of the issue and fix it (probably in Felix)&lt;/p&gt;</comment>
                            <comment id="12971230" author="mduerig" created="Tue, 14 Dec 2010 11:04:00 +0000"  >&lt;p&gt;Just checked: adding sun.reflect.* alone is not enough. This still results in NoClassDefFoundError. Adding both sun.* and sun.reflect.* makes the error disappear. &lt;/p&gt;</comment>
                            <comment id="12980055" author="mduerig" created="Tue, 11 Jan 2011 10:47:39 +0000"  >&lt;p&gt;Fixed with &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-1925&quot; title=&quot;Add sun.reflect to the default org.osgi.framework.bootdelegation system property&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-1925&quot;&gt;&lt;del&gt;SLING-1925&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176705</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 43 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i104on:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>208893</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1892] Scala Scripting: Replace Class.forName uses by ClassLoader.loadClass</title>
                <link>https://issues.apache.org/jira/browse/SLING-1892</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;This is a follow up to &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-1891&quot; title=&quot;Replace Class.forName uses by ClassLoader.loadClass&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-1891&quot;&gt;&lt;del&gt;SLING-1891&lt;/del&gt;&lt;/a&gt;. Class.ForName() calls need also to be replaced with ClassLoader.loadClass() in the Scala scripting engine.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12492937">SLING-1892</key>
            <summary>Scala Scripting: Replace Class.forName uses by ClassLoader.loadClass</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mduerig">Michael D&#252;rig</reporter>
                        <labels>
                    </labels>
                <created>Fri, 10 Dec 2010 13:25:19 +0000</created>
                <updated>Fri, 10 Dec 2010 13:26:57 +0000</updated>
                            <resolved>Fri, 10 Dec 2010 13:26:57 +0000</resolved>
                                                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12970163" author="mduerig" created="Fri, 10 Dec 2010 13:26:57 +0000"  >&lt;p&gt;Fixed at revision 1044350&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176702</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 47 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i109qf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>209711</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1891] Replace Class.forName uses by ClassLoader.loadClass</title>
                <link>https://issues.apache.org/jira/browse/SLING-1891</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Class.forName has a nasty problem in that it caches returned classes in the class load first asked (the initiator) in addition to the class loader actually defining the class. The ClassLoader.loadClass methods do not have this problem and only caches the loaded class in the defining class loader.&lt;/p&gt;

&lt;p&gt;Looking for uses in the Sling code base (using find . -name &quot;*.java&quot; -exec fgrep -l Class.forName {} ;) I found the following nice occurrences:&lt;/p&gt;

&lt;p&gt;    launchpad/base/src/main/java/org/apache/sling/launchpad/base/impl/Sling.java&lt;br/&gt;
    bundles/extensions/event/src/main/java/org/apache/sling/event/impl/jobs/jcr/JCRHelper.java&lt;br/&gt;
    bundles/scripting/javascript/src/main/java/org/apache/sling/scripting/javascript/wrapper/ScriptableResource.java&lt;br/&gt;
    bundles/scripting/jsp/src/main/java/org/apache/sling/scripting/jsp/jasper/compiler/JspUtil.java&lt;br/&gt;
    bundles/scripting/jsp/src/main/java/org/apache/sling/scripting/jsp/jasper/compiler/TagPluginManager.java&lt;br/&gt;
    bundles/scripting/jsp/src/main/java/org/apache/sling/scripting/jsp/jasper/JspCompilationContext.java&lt;br/&gt;
    bundles/scripting/api/src/main/java/sun/misc/Service.java&lt;br/&gt;
    bundles/jcr/resource/src/main/java/org/apache/sling/jcr/resource/JcrPropertyMap.java&lt;br/&gt;
    contrib/explorers/gwt/src/main/java/org/apache/sling/explorer/client/widgets/tree/resource/ResourceTree.java&lt;/p&gt;

&lt;p&gt;For more information on this problem, I suggest reading the blog series by BJ Hargrave, probably starting with &lt;a href=&quot;http://blog.bjhargrave.com/2007/09/classforname-caches-defined-class-in.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://blog.bjhargrave.com/2007/09/classforname-caches-defined-class-in.html&lt;/a&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12492910">SLING-1891</key>
            <summary>Replace Class.forName uses by ClassLoader.loadClass</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Fri, 10 Dec 2010 07:15:19 +0000</created>
                <updated>Mon, 20 Dec 2010 14:56:39 +0000</updated>
                            <resolved>Fri, 10 Dec 2010 08:49:34 +0000</resolved>
                                    <version>Scripting JSP 2.0.10</version>
                    <version>Scripting JavaScript 2.0.8</version>
                    <version>Scripting API 2.1.0</version>
                    <version> Launchpad Base 2.2.0</version>
                    <version>JCR Resource 2.0.6</version>
                    <version>Event 2.4.2</version>
                                    <fixVersion>Scripting JSP 2.0.12</fixVersion>
                    <fixVersion>Scripting JavaScript 2.0.10</fixVersion>
                    <fixVersion>Scripting API 2.1.2</fixVersion>
                    <fixVersion>Launchpad Base 2.3.0</fixVersion>
                    <fixVersion>JCR Resource 2.0.8</fixVersion>
                    <fixVersion>Event 3.0.0</fixVersion>
                                    <component>Extensions</component>
                    <component>JCR</component>
                    <component>Launchpad</component>
                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12970106" author="cziegeler" created="Fri, 10 Dec 2010 08:49:34 +0000"  >&lt;p&gt;Changed in revision 1044241&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176701</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 47 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10ssn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>212799</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1884] Bgservlets extension: job says QUEUED even if running after creation</title>
                <link>https://issues.apache.org/jira/browse/SLING-1884</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;After starting a background servlet job, its status stays QUEUED even though it is actually running.&lt;/p&gt;

&lt;p&gt;After suspending and resuming, the state correctly says RUNNING.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12492156">SLING-1884</key>
            <summary>Bgservlets extension: job says QUEUED even if running after creation</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Mon, 6 Dec 2010 14:05:16 +0000</created>
                <updated>Mon, 6 Dec 2010 14:07:24 +0000</updated>
                            <resolved>Mon, 6 Dec 2010 14:07:24 +0000</resolved>
                                                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12967190" author="bdelacretaz" created="Mon, 6 Dec 2010 14:07:24 +0000"  >&lt;p&gt;Fixed in revision 1042649&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176696</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 48 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10dmv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>210343</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1883] commons.compiler 1.0 causes &quot;Illegal type in constant pool&quot; error when java source code contains Enum types  </title>
                <link>https://issues.apache.org/jira/browse/SLING-1883</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description></description>
                <environment></environment>
        <key id="12491972">SLING-1883</key>
            <summary>commons.compiler 1.0 causes &quot;Illegal type in constant pool&quot; error when java source code contains Enum types  </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="stefan@jira">Stefan Guggisberg</reporter>
                        <labels>
                    </labels>
                <created>Fri, 3 Dec 2010 09:23:40 +0000</created>
                <updated>Mon, 20 Dec 2010 14:52:09 +0000</updated>
                            <resolved>Thu, 16 Dec 2010 09:37:25 +0000</resolved>
                                    <version>Commons Compiler 1.0.0</version>
                                    <fixVersion>Commons Compiler 2.0.0</fixVersion>
                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12966458" author="stefan@jira" created="Fri, 3 Dec 2010 09:28:03 +0000"  >&lt;p&gt;this issue is identical to &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-1809&quot; title=&quot;Eclipse compiler used in commons.compiler causes &amp;quot;Illegal type in constant pool&amp;quot; with enums&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-1809&quot;&gt;&lt;del&gt;SLING-1809&lt;/del&gt;&lt;/a&gt; except that it affects version org.apache.sling.commons.compiler v1.0 and needs to be fixed in version 1.0.*.&lt;/p&gt;</comment>
                            <comment id="12970198" author="cziegeler" created="Fri, 10 Dec 2010 15:42:21 +0000"  >&lt;p&gt;Version 1.0 has already been released, therefore moving to 2.0&lt;/p&gt;</comment>
                            <comment id="12970200" author="stefan@jira" created="Fri, 10 Dec 2010 15:50:00 +0000"  >&lt;p&gt;&amp;gt; Version 1.0 has already been released, therefore moving to 2.0&lt;/p&gt;

&lt;p&gt;that&apos;s not gonna help. version 2.0 is not backwards compatible and &lt;br/&gt;
therefore breaks client code.&lt;/p&gt;</comment>
                            <comment id="12972019" author="cziegeler" created="Thu, 16 Dec 2010 09:37:25 +0000"  >&lt;p&gt;Setting this to fixed as the version fixes this problem&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12475191">SLING-1809</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176695</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 47 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i112q7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>214408</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1879] Wrong re-encoding of request parameter values</title>
                <link>https://issues.apache.org/jira/browse/SLING-1879</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When the request character encoding is different from the sling servlet default, i.e. ISO-8859-1, the request parameter values are wrongly re-encoded.&lt;br/&gt;
In fact, in case the request encoding is UTF-8 and one of the parameter values is &quot;Orl&#232;ans&quot;, when ContainerRequestParameter.setEncoding() is called, the value is first encoded into bytes using UTF-8 and then the same bytes are passed to the new string with the ISO-8859-1 encoding. Thus what is effectively done is: &lt;/p&gt;

&lt;p&gt;this.value = new String(&quot;Orl&#232;ans&quot;.getBytes(&quot;UTF-8&quot;), &quot;ISO-8859-1&quot;)&lt;/p&gt;

&lt;p&gt;The resulting value is obviously wrong: &quot;Orl&#195;&#168;ans&quot;.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12480592">SLING-1879</key>
            <summary>Wrong re-encoding of request parameter values</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="davide">Davide Giannella</reporter>
                        <labels>
                    </labels>
                <created>Mon, 22 Nov 2010 16:34:01 +0000</created>
                <updated>Mon, 22 Nov 2010 17:47:18 +0000</updated>
                            <resolved>Mon, 22 Nov 2010 17:47:18 +0000</resolved>
                                    <version>Engine 2.1.0</version>
                                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12934528" author="davide" created="Mon, 22 Nov 2010 17:47:18 +0000"  >&lt;p&gt;The encoding is set through the &lt;em&gt;charset&lt;/em&gt; parameter, anyway I would expect that the encoding set in the Content-Type header is used when &lt;em&gt;charset&lt;/em&gt; is missing, and not an arbitrary value chosen just because it is the common case.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176692</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 50 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10is7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>211177</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1878] Utiliy.filter alllows illegal JCR name characters</title>
                <link>https://issues.apache.org/jira/browse/SLING-1878</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The Utility.filter method is used to filter strings for a subset characters used for creating node names to persist events in the repository. Yet, the list of legal characters includes illegal characters like the brackets &quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;quot;, &amp;quot;&amp;#93;&lt;/span&gt;&quot; and the asterisk &quot;*&quot;.&lt;/p&gt;

&lt;p&gt;In addition the implementation is suboptimal in that it uses the String.indexOf method to check for legal characters. This can be improved by using a BitSet where the accepted characters are represented by bits turned on.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12480563">SLING-1878</key>
            <summary>Utiliy.filter alllows illegal JCR name characters</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Mon, 22 Nov 2010 08:59:53 +0000</created>
                <updated>Mon, 24 Jan 2011 11:58:31 +0000</updated>
                            <resolved>Mon, 22 Nov 2010 09:31:36 +0000</resolved>
                                    <version>Event 2.4.2</version>
                                    <fixVersion>Event 3.0.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12934425" author="fmeschbe" created="Mon, 22 Nov 2010 09:31:36 +0000"  >&lt;p&gt;Fixed in Rev. 1037644 (removed &lt;span class=&quot;error&quot;&gt;&amp;#91;, &amp;#93;&lt;/span&gt;, * and replaced String with BitSet) and added unit tests&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176691</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 50 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i112l3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>214385</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1877] Scala scripting: NPE when scripting engine is used standalone </title>
                <link>https://issues.apache.org/jira/browse/SLING-1877</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When the Scala scripting engine is used stand alone (i.e. independently from Sling), the eval method causes a NPE: &lt;/p&gt;

&lt;p&gt;javax.script.ScriptException: Error executing script&lt;br/&gt;
	at org.apache.sling.scripting.scala.ScalaScriptEngine.eval(ScalaScriptEngine.scala:152)&lt;br/&gt;
	at javax.script.AbstractScriptEngine.eval(AbstractScriptEngine.java:247)&lt;br/&gt;
	at org.apache.sling.scripting.scala.ScalaScriptEngineTest.testScriptEngine(ScalaScriptEngineTest.scala:20)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at junit.framework.TestCase.runTest(TestCase.java:168)&lt;br/&gt;
	at junit.framework.TestCase.runBare(TestCase.java:134)&lt;br/&gt;
	at junit.framework.TestResult$1.protect(TestResult.java:110)&lt;br/&gt;
	at junit.framework.TestResult.runProtected(TestResult.java:128)&lt;br/&gt;
	at junit.framework.TestResult.run(TestResult.java:113)&lt;br/&gt;
	at junit.framework.TestCase.run(TestCase.java:124)&lt;br/&gt;
	at junit.framework.TestSuite.runTest(TestSuite.java:232)&lt;br/&gt;
	at junit.framework.TestSuite.run(TestSuite.java:227)&lt;br/&gt;
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:83)&lt;br/&gt;
	at org.apache.maven.surefire.junit4.JUnit4TestSet.execute(JUnit4TestSet.java:62)&lt;br/&gt;
	at org.apache.maven.surefire.suite.AbstractDirectoryTestSuite.executeTestSet(AbstractDirectoryTestSuite.java:140)&lt;br/&gt;
	at org.apache.maven.surefire.suite.AbstractDirectoryTestSuite.execute(AbstractDirectoryTestSuite.java:127)&lt;br/&gt;
	at org.apache.maven.surefire.Surefire.run(Surefire.java:177)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at org.apache.maven.surefire.booter.SurefireBooter.runSuitesInProcess(SurefireBooter.java:345)&lt;br/&gt;
	at org.apache.maven.surefire.booter.SurefireBooter.main(SurefireBooter.java:1009)&lt;br/&gt;
Caused by: java.lang.NullPointerException&lt;br/&gt;
	at scala.collection.mutable.ArrayOps$ofRef.length(ArrayOps.scala:99)&lt;br/&gt;
	at scala.collection.SeqLike$class.size(SeqLike.scala:221)&lt;br/&gt;
	at scala.collection.mutable.ArrayOps.size(ArrayOps.scala:34)&lt;br/&gt;
	at scala.collection.mutable.Builder$class.sizeHint(Builder.scala:69)&lt;br/&gt;
	at scala.collection.mutable.ArrayBuilder.sizeHint(ArrayBuilder.scala:24)&lt;br/&gt;
	at scala.collection.TraversableLike$class.map(TraversableLike.scala:205)&lt;br/&gt;
	at scala.collection.mutable.ArrayOps.map(ArrayOps.scala:34)&lt;br/&gt;
	at org.apache.sling.scripting.scala.interpreter.ScalaCompiler.classPath(ScalaCompiler.scala:38)&lt;br/&gt;
	at org.apache.sling.scripting.scala.interpreter.ScalaCompiler.rootLoader(ScalaCompiler.scala:42)&lt;br/&gt;
	at scala.tools.nsc.symtab.Definitions$definitions$.RootClass(Definitions.scala:31)&lt;br/&gt;
	at scala.tools.nsc.symtab.Definitions$definitions$.EmptyPackage(Definitions.scala:33)&lt;br/&gt;
	at scala.tools.nsc.symtab.Definitions$definitions$.EmptyPackageClass(Definitions.scala:34)&lt;br/&gt;
	at scala.tools.nsc.symtab.Definitions$definitions$.init(Definitions.scala:780)&lt;br/&gt;
	at scala.tools.nsc.Global$Run.&amp;lt;init&amp;gt;(Global.scala:597)&lt;br/&gt;
	at org.apache.sling.scripting.scala.interpreter.ScalaInterpreter.compile(ScalaInterpreter.scala:126)&lt;br/&gt;
	at org.apache.sling.scripting.scala.interpreter.ScalaInterpreter.compile(ScalaInterpreter.scala:142)&lt;br/&gt;
	at org.apache.sling.scripting.scala.interpreter.ScalaInterpreter.compile(ScalaInterpreter.scala:152)&lt;br/&gt;
	at org.apache.sling.scripting.scala.ScalaScriptEngine$$anonfun$1.apply(ScalaScriptEngine.scala:113)&lt;br/&gt;
	at org.apache.sling.scripting.scala.ScalaScriptEngine$$anonfun$1.apply(ScalaScriptEngine.scala:113)&lt;br/&gt;
	at org.apache.sling.scripting.scala.ScalaScriptEngine.writeLocked(ScalaScriptEngine.scala:171)&lt;br/&gt;
	at org.apache.sling.scripting.scala.ScalaScriptEngine.eval(ScalaScriptEngine.scala:112)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12480270">SLING-1877</key>
            <summary>Scala scripting: NPE when scripting engine is used standalone </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mduerig">Michael D&#252;rig</reporter>
                        <labels>
                    </labels>
                <created>Wed, 17 Nov 2010 23:32:20 +0000</created>
                <updated>Tue, 30 Nov 2010 23:07:32 +0000</updated>
                            <resolved>Tue, 30 Nov 2010 23:07:32 +0000</resolved>
                                    <version>Scripting Scala 1.0.0</version>
                                    <fixVersion>Scripting Scala 1.0.0</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12933235" author="mduerig" created="Wed, 17 Nov 2010 23:33:07 +0000"  >&lt;p&gt;The NPE is caused by the extended class path defaulting to null instead of an empty array. &lt;/p&gt;</comment>
                            <comment id="12933237" author="mduerig" created="Wed, 17 Nov 2010 23:34:49 +0000"  >&lt;p&gt;Proposed patch&lt;/p&gt;</comment>
                            <comment id="12965479" author="mduerig" created="Tue, 30 Nov 2010 23:07:32 +0000"  >&lt;p&gt;Fixed at revision: 1040819&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12459846" name="SLING-1877.patch" size="872" author="mduerig" created="Wed, 17 Nov 2010 23:34:49 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176690</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 49 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i109vb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>209733</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1874] Dynamic ClassLoader not (always) correctly handling bundle updates</title>
                <link>https://issues.apache.org/jira/browse/SLING-1874</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The Dynamic ClassLoader reacts to updates to bundles which are used by the PackageAdmin based class loader by cycling the service and thus ensuring classes are loaded again from the correct location.&lt;/p&gt;

&lt;p&gt;To this avail these bundle events are handled&lt;/p&gt;

&lt;p&gt;   UNRESOLVED: If the unresolved bundle was used, cycle the service&lt;br/&gt;
   RESOLVED: If there was an unresolved package from the resolved bundle, cycle the service&lt;/p&gt;

&lt;p&gt;This setup fails to cycle the service if a used bundle was re-wired due to an update/re-wiring of a used bundle. The reason for this is, that such a dependent re-wiring causes the bundle to stopp (STOPPING, STOPPED events), resolve (RESOLVED event) and started (STARTING, STARTED events). There is no UNRESOLVED event in this case.&lt;/p&gt;

&lt;p&gt;This the RESOLVED event handling muss also cause service cycling in case the now resolved bundle was used.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12479782">SLING-1874</key>
            <summary>Dynamic ClassLoader not (always) correctly handling bundle updates</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Fri, 12 Nov 2010 09:36:58 +0000</created>
                <updated>Mon, 13 Dec 2010 09:03:42 +0000</updated>
                            <resolved>Fri, 12 Nov 2010 09:43:01 +0000</resolved>
                                    <version>Commons ClassLoader 1.2.0</version>
                                    <fixVersion>Commons ClassLoader 1.2.2</fixVersion>
                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12931355" author="fmeschbe" created="Fri, 12 Nov 2010 09:43:01 +0000"  >&lt;p&gt;Fixed in Rev. 1034310 by cycling the service if a used bundle sends the RESOLVED event.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176687</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 51 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10upb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>213108</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1872] Web Console Request Log display unusable under load</title>
                <link>https://issues.apache.org/jira/browse/SLING-1872</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The Web Console plugin to list the recent requests processed by Sling does not properly work.&lt;/p&gt;

&lt;p&gt;This plugin internally uses a rotating buffer of recent requests and displays information about these buffer entries. Access to a single entry then takes place with the numeric index into this buffer. This of course fails under load when the rotating buffer is constantly being overwritten.&lt;/p&gt;

&lt;p&gt;We should devise another mechanism to show information on requests. One option would be an LRU Cache, which is indexed by some unique key, which is never reused (may well be a steadily growing number, of course). Requests then happen by using the key.&lt;/p&gt;

&lt;p&gt;Under load the plugin can then either cope by allowing a bigger cache size (e.g. temporarily increasing the size) but at least handle the case of a request having fallen off the cache more gracefully.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12479594">SLING-1872</key>
            <summary>Web Console Request Log display unusable under load</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Wed, 10 Nov 2010 14:40:07 +0000</created>
                <updated>Fri, 28 Jan 2011 09:07:22 +0000</updated>
                            <resolved>Mon, 22 Nov 2010 14:44:36 +0000</resolved>
                                    <version>Engine 2.1.0</version>
                                    <fixVersion>Engine 2.2.0</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12934476" author="fmeschbe" created="Mon, 22 Nov 2010 14:44:36 +0000"  >&lt;p&gt;Rev. 1037739: Revamp the recent requests display:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Adapt to new JQuery UI styles&lt;/li&gt;
	&lt;li&gt;Use POST requests to clear recordings&lt;/li&gt;
	&lt;li&gt;Add configuration option to SlingMainServlet for max number of recorded requests&lt;/li&gt;
	&lt;li&gt;Replace rotated array by LinkedHashMap to keep requests&lt;/li&gt;
	&lt;li&gt;Copy displayed values instead of keep the SlingHttpServletRequest for display&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176686</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 50 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10rmn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>212610</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1870] Sling should url decode the request url before trying to resolve to a resource</title>
                <link>https://issues.apache.org/jira/browse/SLING-1870</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;e.g.:&lt;br/&gt;
JCR supports nodes with spaces (in its name), such as &quot;Nice World&quot;. &lt;br/&gt;
When accessing this node in Sling, the request url would  look something like&lt;br/&gt;
http://&amp;lt;sling host&amp;gt;/&amp;lt;path to node&amp;gt;/Nice%20World&lt;br/&gt;
unfortunately we then try to resolve /&amp;lt;path to node&amp;gt;/Nice%20World in the JcrResourceRersolver which, of course, does NOT match/resolve!&lt;/p&gt;

&lt;p&gt;Hence somewhere before resolving the resource we should URLDecoder.decode the request URL ( request.getPathInfo() )&lt;/p&gt;

&lt;p&gt;Possible solution:&lt;br/&gt;
SlingHttpServletRequest could provide&lt;br/&gt;
public String getResourceLookupPath()&lt;br/&gt;
{&lt;br/&gt;
   return URLDecoder.decode( request.getPathInfo(), &quot;UTF-8&quot; ) );&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;This method could be used in RequestData#initResource and possibly other places...&lt;br/&gt;
public Resource initResource(ResourceResolver resourceResolver) {&lt;br/&gt;
...&lt;br/&gt;
Resource resource = resourceResolver.resolve(request, request.getResourceLookupPath() );&lt;br/&gt;
...&lt;/p&gt;

&lt;p&gt;Or is it up to the JcrResourceResolver to decode the URL it gets?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12479583">SLING-1870</key>
            <summary>Sling should url decode the request url before trying to resolve to a resource</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="enorman">Eric Norman</assignee>
                                    <reporter username="clemensdev">Clemens Wyss</reporter>
                        <labels>
                    </labels>
                <created>Wed, 10 Nov 2010 11:17:10 +0000</created>
                <updated>Fri, 20 Sep 2019 11:34:43 +0000</updated>
                            <resolved>Thu, 21 Apr 2011 03:44:19 +0000</resolved>
                                                    <fixVersion>Launchpad Base 2.3.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12930587" author="fmeschbe" created="Wed, 10 Nov 2010 13:08:50 +0000"  >&lt;p&gt;Actually it is up to the servlet container to decode the String:&lt;/p&gt;

&lt;p&gt;    /**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Returns any extra path information associated with the URL the client&lt;/li&gt;
	&lt;li&gt;sent when it made this request. The extra path information follows the&lt;/li&gt;
	&lt;li&gt;servlet path but precedes the query string and will start with a &quot;/&quot;&lt;/li&gt;
	&lt;li&gt;character.&lt;br/&gt;
     *&lt;/li&gt;
	&lt;li&gt;&amp;lt;p&amp;gt;This method returns &amp;lt;code&amp;gt;null&amp;lt;/code&amp;gt; if there was no extra path&lt;/li&gt;
	&lt;li&gt;information.&lt;br/&gt;
     *&lt;/li&gt;
	&lt;li&gt;&amp;lt;p&amp;gt;Same as the value of the CGI variable PATH_INFO.&lt;br/&gt;
     *&lt;/li&gt;
	&lt;li&gt;@return a &amp;lt;code&amp;gt;String&amp;lt;/code&amp;gt;, decoded by the web container, specifying&lt;/li&gt;
	&lt;li&gt;extra path information that comes after the servlet path but before the&lt;/li&gt;
	&lt;li&gt;query string in the request URL; or &amp;lt;code&amp;gt;null&amp;lt;/code&amp;gt; if the URL does&lt;/li&gt;
	&lt;li&gt;not have any extra path information&lt;br/&gt;
     */&lt;br/&gt;
    public String getPathInfo();&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12930589" author="clemensdev" created="Wed, 10 Nov 2010 13:33:17 +0000"  >&lt;p&gt;1) So SlingHttpServletRequestImpl should return the decoded URL in its getPathInfo()-method? &lt;br/&gt;
Or &lt;br/&gt;
2) SlingHttpServletRequestImpl::ctor should save the decoded URL into its pathInfo-memeber which is ebing returned by getPathInfo()?&lt;/p&gt;

&lt;p&gt;As getPathInfo() is the only method which accesses pathInfo, 2) seems to make more sense...&lt;/p&gt;</comment>
                            <comment id="12930597" author="clemensdev" created="Wed, 10 Nov 2010 14:03:30 +0000"  >&lt;p&gt;OTH:&lt;br/&gt;
jetty does not seem do to its job...i.e. return a &quot;decoded String&quot;&lt;/p&gt;

&lt;p&gt;The spec &lt;a href=&quot;http://download.oracle.com/javaee/1.4/api/javax/servlet/http/HttpServletRequest.html#getPathInfo(&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://download.oracle.com/javaee/1.4/api/javax/servlet/http/HttpServletRequest.html#getPathInfo(&lt;/a&gt;) explicitly says &quot;decoded by the container&quot;&lt;/p&gt;</comment>
                            <comment id="12930599" author="fmeschbe" created="Wed, 10 Nov 2010 14:10:05 +0000"  >&lt;p&gt;That&apos;s what I wanted to say &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;The SlingHttpServletRequestImpl constructor in fact uses the getPathInfo() on the container provided request object.&lt;/p&gt;

&lt;p&gt;Now, we are not using plain Jetty but a Jetty wrapper ... question is, whether this wrapper is doing something wrong .... &lt;/p&gt;</comment>
                            <comment id="12930611" author="clemensdev" created="Wed, 10 Nov 2010 14:38:44 +0000"  >&lt;p&gt;SlingHttpServletRequestImpl is the wrong place as we could (e.g. within a Tomcat) end up with a double-decoded URL... IMHO best would be if our Jetty-wrapper returned (as a workaround) the decoded url&lt;/p&gt;</comment>
                            <comment id="12930991" author="fmeschbe" created="Thu, 11 Nov 2010 11:39:30 +0000"  >&lt;p&gt;Agreed, that would then be a bug for the Felix Http Jetty bundle, right ?&lt;/p&gt;</comment>
                            <comment id="12931358" author="clemensdev" created="Fri, 12 Nov 2010 10:12:23 +0000"  >&lt;p&gt;Felix:&lt;br/&gt;
what exactly ist our Jetty-Wrapper? Where can I find the sources? &lt;/p&gt;

&lt;p&gt;I looked at jetty/felix sources (eg..HttpURI and a Util class which call setPathInfo on jettys-Request). They seem to decode the uri&apos;s...&lt;/p&gt;</comment>
                            <comment id="12931360" author="fmeschbe" created="Fri, 12 Nov 2010 10:25:28 +0000"  >&lt;p&gt;In Sling we are using this one &lt;a href=&quot;https://svn.us.apache.org/repos/asf/felix/trunk/http/jetty&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.us.apache.org/repos/asf/felix/trunk/http/jetty&lt;/a&gt; by default. It is part of the HTTP Service support projects (&lt;a href=&quot;https://svn.us.apache.org/repos/asf/felix/trunk/http&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.us.apache.org/repos/asf/felix/trunk/http&lt;/a&gt;)&lt;/p&gt;</comment>
                            <comment id="13022602" author="enorman" created="Thu, 21 Apr 2011 03:44:19 +0000"  >&lt;p&gt;Looks like this was fixed by &lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-1979&quot; title=&quot;ServletHandlerRequest.getPathInfo() returns undecoded string&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-1979&quot;&gt;&lt;del&gt;FELIX-1979&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176684</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 29 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i100pz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>208251</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1864] Queue.resume() has no effect</title>
                <link>https://issues.apache.org/jira/browse/SLING-1864</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Queue.resume() has no effect although the eventing console show it is sleeping.&lt;/p&gt;

&lt;p&gt;bug in OrderedJobQueue:&lt;/p&gt;

&lt;p&gt;    @Override&lt;br/&gt;
    public void resume() {&lt;br/&gt;
        if ( this.isSleepingUntil == -1 ) {&lt;br/&gt;
            final Thread thread = this.sleepingThread;&lt;br/&gt;
            if ( thread != null ) &lt;/p&gt;
{
                thread.interrupt();
            }
&lt;p&gt;        }&lt;br/&gt;
        super.resume();&lt;br/&gt;
    }&lt;/p&gt;

&lt;p&gt;the first if should be:&lt;/p&gt;

&lt;p&gt;if ( this.isSleepingUntil != -1 ) {&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12479307">SLING-1864</key>
            <summary>Queue.resume() has no effect</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="tripod">Tobias Bocanegra</reporter>
                        <labels>
                    </labels>
                <created>Sat, 6 Nov 2010 21:50:00 +0000</created>
                <updated>Mon, 24 Jan 2011 11:58:31 +0000</updated>
                            <resolved>Mon, 29 Nov 2010 15:08:11 +0000</resolved>
                                                    <fixVersion>Event 3.0.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12964770" author="cziegeler" created="Mon, 29 Nov 2010 15:08:10 +0000"  >&lt;p&gt;Fixed in revision 1040137&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176681</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 49 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10umn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>213096</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1859] Multi-value string properties are not displayed correctly</title>
                <link>https://issues.apache.org/jira/browse/SLING-1859</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I have a node with a multi value string property, and the explorer displays the value as &quot;[Ljava.lang.Object;@1a6b7e&quot;, together with the hint &quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;not a property!&amp;#93;&lt;/span&gt; &lt;/p&gt;</description>
                <environment></environment>
        <key id="12479059">SLING-1859</key>
            <summary>Multi-value string properties are not displayed correctly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="clemensdev">Clemens Wyss</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Thu, 4 Nov 2010 02:32:29 +0000</created>
                <updated>Thu, 16 Mar 2017 07:49:14 +0000</updated>
                            <resolved>Thu, 16 Mar 2017 07:49:14 +0000</resolved>
                                    <version>Sling Explorer 1.0.0</version>
                                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12929330" author="mykee" created="Sun, 7 Nov 2010 11:36:11 +0000"  >&lt;p&gt;I can&apos;t reproduce this behaviour. Appears this with any multivalue String property or just one specific?&lt;/p&gt;</comment>
                            <comment id="12931146" author="clemensdev" created="Thu, 11 Nov 2010 19:12:11 +0000"  >&lt;p&gt;the mentioned (mis-)behavior arises when a multivalued property is empty. In that case (esp code follows):&lt;/p&gt;

&lt;p&gt;var properties = resource.adaptTo(Packages.org.apache.sling.api.resource.ValueMap);&lt;br/&gt;
...&lt;br/&gt;
var property = properties.get( id, Packages.javax.jcr.Property );&lt;br/&gt;
...&lt;/p&gt;

&lt;p&gt;property is null!, i.e. cannot be casted. Is this a bug, or am I doing something wrong?&lt;/p&gt;</comment>
                            <comment id="12931658" author="jsedding" created="Sat, 13 Nov 2010 12:09:47 +0000"  >&lt;p&gt;I don&apos;t know if this is a bug or not, but maybe you can work around your issue like this (I&apos;m writing java, but it should be possible to convert to esp):&lt;/p&gt;

&lt;p&gt;ValueMap properties = ResourceUtil,getValueMap(resource); // guards against NPE in this and in the next line&lt;br/&gt;
String[] property = properties.get(id, new String&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;); // not sure you want strings, I guess you could also ask for Long&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; etc.&lt;/p&gt;</comment>
                            <comment id="12931838" author="clemensdev" created="Sun, 14 Nov 2010 15:46:32 +0000"  >&lt;p&gt;If resource.adaptTo(ValueMap) fails (i.e returns null) I try your &quot;cast-approach&quot; through ResourceUtil#getValueMap, so this does not seem to be the problem.&lt;/p&gt;

&lt;p&gt;&amp;gt;not sure you want strings, I guess you could also ask for Long&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; etc. &lt;br/&gt;
the Property should not only tell me if the property is mutivalued (Property#isMultiple()), but also the type the multiple values (Property#getType()), no matter whether it&apos;s empty or not.&lt;/p&gt;

&lt;p&gt;I expect to always get a Property from the ValueMap-casted resource... Maybe a false implication?&lt;/p&gt;</comment>
                            <comment id="15927627" author="olli" created="Thu, 16 Mar 2017 07:49:14 +0000"  >&lt;p&gt;Explorer moved to attic.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36003</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 33 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i031lr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>15693</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1857] Wrong encoding of the resource to create the returnTo parameter</title>
                <link>https://issues.apache.org/jira/browse/SLING-1857</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When setting the returnTo request parameter for the OpenID request to the server, the request context path (or / if empty) is prefixed to the URL encoded resource path. This resulting path is the URL encoded again with the following problematic consequences:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;The returnTo path contains a double-slash, e.g. &lt;a href=&quot;http://host//path/to/url&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://host//path/to/url&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;The actual resource path ion the returnTo parameter is encoded twice&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Particularly the first problem is an issue because it prevents the correct authentication handler to be selected on return from the OpenID provider thus causing the authentication to fail. This is a real problem if the OpenID authentication handler is not registered to the root but somewhere below.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12478810">SLING-1857</key>
            <summary>Wrong encoding of the resource to create the returnTo parameter</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Mon, 1 Nov 2010 15:37:18 +0000</created>
                <updated>Mon, 20 Dec 2010 14:55:54 +0000</updated>
                            <resolved>Mon, 1 Nov 2010 19:38:55 +0000</resolved>
                                    <version>OpenID Authentication 1.0.0</version>
                                    <fixVersion>OpenID Authentication 1.0.2</fixVersion>
                                    <component>Authentication</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12927103" author="fmeschbe" created="Mon, 1 Nov 2010 19:38:55 +0000"  >&lt;p&gt;Fixed in Rev. 1029803: Do not encode the resource path when used as the returnTo path (this is done by the OpenID library). Likewise decoding is not needed either. But before redirecting to the final target after validating the OpenID response we have to include the request parameters to save them (from the first request)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176677</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 1 week, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10s13:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>212675</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1855] Form action for form of OpenID authenticationhandler is &quot;j_security_check&quot;. Posting form hits &quot;POST&quot; servlet instead of authenticationHandler</title>
                <link>https://issues.apache.org/jira/browse/SLING-1855</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Problem, just observed:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;activated OpenID authentication handler on content tree &quot;noanonymous&quot;&lt;br/&gt;
       =&amp;gt; when accessing a resource, sling correctly displays the OpenID login form&lt;br/&gt;
       however, the login form contains a form action:&lt;br/&gt;
&amp;lt;form id=&quot;loginform&quot; method=&quot;POST&quot; action=&quot;/j_security_check&quot;&lt;br/&gt;
        enctype=&quot;multipart/form-data&quot; accept-charset=&quot;UTF-8&quot;&amp;gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;When posting this form back, sling says:&lt;br/&gt;
 Error while processing /j_security_check&lt;br/&gt;
Status    500&lt;br/&gt;
Message    javax.jcr.AccessDeniedException: /j_security_check/openid_identifier.&lt;br/&gt;
------------------------------------------------------&lt;br/&gt;
Preliminary diagnosis by F. Meschberger:&lt;br/&gt;
=&amp;gt; bug in the login form generation. It should probably&lt;br/&gt;
really include the path of the authentication handler registration&lt;br/&gt;
which triggered the login form being rendered.&lt;/p&gt;

</description>
                <environment>all</environment>
        <key id="12478462">SLING-1855</key>
            <summary>Form action for form of OpenID authenticationhandler is &quot;j_security_check&quot;. Posting form hits &quot;POST&quot; servlet instead of authenticationHandler</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jos.snellings@upperware.biz">Jos Snellings</reporter>
                        <labels>
                    </labels>
                <created>Wed, 27 Oct 2010 15:24:29 +0000</created>
                <updated>Mon, 17 Jan 2011 02:45:23 +0000</updated>
                            <resolved>Mon, 1 Nov 2010 19:39:32 +0000</resolved>
                                    <version>Extensions OpenID Authentication 0.9.0</version>
                                    <fixVersion>Auth Core 1.0.4</fixVersion>
                                    <component>Authentication</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12926987" author="fmeschbe" created="Mon, 1 Nov 2010 14:06:26 +0000"  >&lt;p&gt;The problem lies in the form servlet which prepares the form but does not include the path to the authentication handler triggering the form request. Yet, this information is not readily available from the request itself and must probably be provided as part of the redirect ...&lt;/p&gt;

&lt;p&gt;Alternatively an option would be to just use the resource path instead of just the context path.&lt;/p&gt;</comment>
                            <comment id="12927104" author="fmeschbe" created="Mon, 1 Nov 2010 19:39:32 +0000"  >&lt;p&gt;Fixed in Rev. 1029799: Correctly set the form action path deduced not only from the request context path but also the actual resource the user wants to access to make sure the form response hits the correct authentication handler&lt;/p&gt;</comment>
                            <comment id="12927106" author="fmeschbe" created="Mon, 1 Nov 2010 19:40:44 +0000"  >&lt;p&gt;Event though this problem manifests itself in OpenID 0.9.0 the fix will come with the Auth Core 1.0.4 release.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12495732">SLING-1933</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12495730">SLING-1932</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176675</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 1 week, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i112pj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>214405</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1854] IgnoreQueueTest failure on Windows Vista</title>
                <link>https://issues.apache.org/jira/browse/SLING-1854</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Running a full Sling build, I get a test failure for the IgnoreQueueTest on Windows Vista :&lt;/p&gt;

&lt;p&gt;Failed tests:&lt;br/&gt;
  testDroppingQueue(org.apache.sling.event.impl.jobs.IgnoreQueueTest)&lt;/p&gt;

&lt;p&gt;The surefire output contains:&lt;/p&gt;

&lt;p&gt;-------------------------------------------------------------------------------&lt;br/&gt;
Test set: org.apache.sling.event.impl.jobs.IgnoreQueueTest&lt;br/&gt;
-------------------------------------------------------------------------------&lt;br/&gt;
Tests run: 2, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 14.648 sec &amp;lt;&amp;lt;&amp;lt; FAILURE!&lt;br/&gt;
testDroppingQueue(org.apache.sling.event.impl.jobs.IgnoreQueueTest)  Time elapsed: 4.524 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!&lt;br/&gt;
java.lang.AssertionError: expected:&amp;lt;10&amp;gt; but was:&amp;lt;7&amp;gt;&lt;br/&gt;
        at org.junit.Assert.fail(Assert.java:91)&lt;br/&gt;
        at org.junit.Assert.failNotEquals(Assert.java:645)&lt;br/&gt;
        at org.junit.Assert.assertEquals(Assert.java:126)&lt;br/&gt;
        at org.junit.Assert.assertEquals(Assert.java:470)&lt;br/&gt;
        at org.junit.Assert.assertEquals(Assert.java:454)&lt;br/&gt;
        at org.apache.sling.event.impl.jobs.IgnoreQueueTest.testDroppingQueue(IgnoreQueueTest.java:133)&lt;/p&gt;</description>
                <environment>$ mvn -v&lt;br/&gt;
Apache Maven 2.2.1 (r801777; 2009-08-06 21:16:01+0200)&lt;br/&gt;
Java version: 1.6.0_19&lt;br/&gt;
Java home: E:\Program Files\Java\jdk1.6.0_19\jre&lt;br/&gt;
Default locale: de_CH, platform encoding: Cp1252&lt;br/&gt;
OS name: &amp;quot;windows vista&amp;quot; version: &amp;quot;6.0&amp;quot; arch: &amp;quot;amd64&amp;quot; Family: &amp;quot;windows&amp;quot;</environment>
        <key id="12478424">SLING-1854</key>
            <summary>IgnoreQueueTest failure on Windows Vista</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Wed, 27 Oct 2010 06:22:05 +0000</created>
                <updated>Mon, 24 Jan 2011 11:58:30 +0000</updated>
                            <resolved>Wed, 27 Oct 2010 07:58:43 +0000</resolved>
                                                    <fixVersion>Event 3.0.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12925291" author="cziegeler" created="Wed, 27 Oct 2010 07:20:53 +0000"  >&lt;p&gt;Applied a potential fix in revision 1027843 - can you please retest? Thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176674</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 2 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i112y7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>214444</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1853] bgservlets extension fails with multipart form requests</title>
                <link>https://issues.apache.org/jira/browse/SLING-1853</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;curl -F title=foo2 -Fsling:bg=true &quot;http://admin:admin@localhost:8080/foo&quot;&lt;/p&gt;

&lt;p&gt;fails, but&lt;/p&gt;

&lt;p&gt;curl -X POST &quot;http://admin:admin@localhost:8080/foo?sling:bg=true&amp;amp;title=foo3&quot;&lt;/p&gt;

&lt;p&gt;succeeds&lt;/p&gt;</description>
                <environment></environment>
        <key id="12478331">SLING-1853</key>
            <summary>bgservlets extension fails with multipart form requests</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Tue, 26 Oct 2010 12:45:36 +0000</created>
                <updated>Thu, 13 Apr 2023 05:02:48 +0000</updated>
                            <resolved>Thu, 13 Apr 2023 05:02:48 +0000</resolved>
                                                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15050515" author="bdelacretaz" created="Thu, 10 Dec 2015 10:22:10 +0000"  >&lt;p&gt;Unassigning tickets on which I&apos;m not currently working&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36005</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 46 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i031m7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>15695</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1852] bgservlets extension should use Sling&apos;s ThreadPool</title>
                <link>https://issues.apache.org/jira/browse/SLING-1852</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The ExecutionEngineImpl in the contrib/extensions/bgservlets module uses a plain Executor, it should use Sling&apos;s ThreadPoolManager instead.&lt;/p&gt;

&lt;p&gt;That module&apos;s ModifiableThreadPoolConfig can be used to customize the pool, which is created via ThreadPoolManager.create(ThreadPoolConfig config, String label);&lt;/p&gt;</description>
                <environment></environment>
        <key id="12478330">SLING-1852</key>
            <summary>bgservlets extension should use Sling&apos;s ThreadPool</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Tue, 26 Oct 2010 12:44:04 +0000</created>
                <updated>Thu, 13 Apr 2023 05:02:59 +0000</updated>
                            <resolved>Thu, 13 Apr 2023 05:02:59 +0000</resolved>
                                                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15050533" author="bdelacretaz" created="Thu, 10 Dec 2015 10:22:15 +0000"  >&lt;p&gt;Unassigning tickets on which I&apos;m not currently working&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36006</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 46 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i031mf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>15696</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1850] Make sure error response is sent back even if the response cannot be reset</title>
                <link>https://issues.apache.org/jira/browse/SLING-1850</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Along the lines of fixing &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-1842&quot; title=&quot;IllegalStateException in DefaultErrorHandlerServlet when HttpServletResponse.getOutputStream() already called&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-1842&quot;&gt;&lt;del&gt;SLING-1842&lt;/del&gt;&lt;/a&gt; I also modified error handling to not send back any response data at all if the response has already been committed. Previously the error information was just written into the existing response regardless of whether the response has been committed or not.&lt;/p&gt;

&lt;p&gt;The problem is in the SlingRequestProcessorImpl.handleError methods which do nothing if the response has already been committed. This is probably fundamentally wrong and must be fixed.&lt;/p&gt;

&lt;p&gt;It is the task of the actual error handler to (a) check whether the response has already been committed and can be reset and (b) to decide whether to send back response data if the response is committed or not...&lt;/p&gt;</description>
                <environment></environment>
        <key id="12478072">SLING-1850</key>
            <summary>Make sure error response is sent back even if the response cannot be reset</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Oct 2010 14:42:21 +0000</created>
                <updated>Fri, 28 Jan 2011 09:07:22 +0000</updated>
                            <resolved>Fri, 22 Oct 2010 14:55:40 +0000</resolved>
                                                    <fixVersion>Engine 2.2.0</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12923877" author="fmeschbe" created="Fri, 22 Oct 2010 14:55:40 +0000"  >&lt;p&gt;Reverted the early-error-handling-abort change introduce in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-1842&quot; title=&quot;IllegalStateException in DefaultErrorHandlerServlet when HttpServletResponse.getOutputStream() already called&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-1842&quot;&gt;&lt;del&gt;SLING-1842&lt;/del&gt;&lt;/a&gt; in Rev. 1026351.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176673</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 2 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10rlb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>212604</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1849] DropQueueTest failure</title>
                <link>https://issues.apache.org/jira/browse/SLING-1849</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The bundles/extensions/event module has a unit test failure on my Ubuntu box:&lt;br/&gt;
    testDroppingQueue(org.apache.sling.event.impl.jobs.DropQueueTest)&lt;/p&gt;

&lt;p&gt;-------------------------------------------------------------------------------&lt;br/&gt;
Test set: org.apache.sling.event.impl.jobs.DropQueueTest&lt;br/&gt;
-------------------------------------------------------------------------------&lt;br/&gt;
Tests run: 2, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 5.976 sec &amp;lt;&amp;lt;&amp;lt; FAILURE!&lt;br/&gt;
testDroppingQueue(org.apache.sling.event.impl.jobs.DropQueueTest)  Time elapsed: 2.809 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!&lt;br/&gt;
java.lang.AssertionError: expected:&amp;lt;0&amp;gt; but was:&amp;lt;4&amp;gt;&lt;br/&gt;
	at org.junit.Assert.fail(Assert.java:91)&lt;br/&gt;
	at org.junit.Assert.failNotEquals(Assert.java:645)&lt;br/&gt;
	at org.junit.Assert.assertEquals(Assert.java:126)&lt;br/&gt;
	at org.junit.Assert.assertEquals(Assert.java:470)&lt;br/&gt;
	at org.junit.Assert.assertEquals(Assert.java:454)&lt;br/&gt;
	at org.apache.sling.event.impl.jobs.DropQueueTest.testDroppingQueue(DropQueueTest.java:141)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at org.junit.internal.runners.TestMethod.invoke(TestMethod.java:66)&lt;br/&gt;
	at org.jmock.integration.junit4.JMock$1.invoke(JMock.java:37)&lt;br/&gt;
	at org.junit.internal.runners.MethodRoadie.runTestMethod(MethodRoadie.java:105)&lt;br/&gt;
	at org.junit.internal.runners.MethodRoadie$2.run(MethodRoadie.java:86)&lt;br/&gt;
	at org.junit.internal.runners.MethodRoadie.runBeforesThenTestThenAfters(MethodRoadie.java:94)&lt;br/&gt;
	at org.junit.internal.runners.MethodRoadie.runTest(MethodRoadie.java:84)&lt;br/&gt;
	at org.junit.internal.runners.MethodRoadie.run(MethodRoadie.java:49)&lt;br/&gt;
	at org.junit.internal.runners.JUnit4ClassRunner.invokeTestMethod(JUnit4ClassRunner.java:98)&lt;br/&gt;
	at org.junit.internal.runners.JUnit4ClassRunner.runMethods(JUnit4ClassRunner.java:61)&lt;br/&gt;
	at org.junit.internal.runners.JUnit4ClassRunner$1.run(JUnit4ClassRunner.java:54)&lt;br/&gt;
	at org.junit.internal.runners.ClassRoadie.runUnprotected(ClassRoadie.java:34)&lt;br/&gt;
	at org.junit.internal.runners.ClassRoadie.runProtected(ClassRoadie.java:44)&lt;br/&gt;
	at org.junit.internal.runners.JUnit4ClassRunner.run(JUnit4ClassRunner.java:52)&lt;br/&gt;
	at org.apache.maven.surefire.junit4.JUnit4TestSet.execute(JUnit4TestSet.java:62)&lt;br/&gt;
	at org.apache.maven.surefire.suite.AbstractDirectoryTestSuite.executeTestSet(AbstractDirectoryTestSuite.java:140)&lt;br/&gt;
	at org.apache.maven.surefire.suite.AbstractDirectoryTestSuite.execute(AbstractDirectoryTestSuite.java:127)&lt;br/&gt;
	at org.apache.maven.surefire.Surefire.run(Surefire.java:177)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at org.apache.maven.surefire.booter.SurefireBooter.runSuitesInProcess(SurefireBooter.java:345)&lt;br/&gt;
	at org.apache.maven.surefire.booter.SurefireBooter.main(SurefireBooter.java:1009)&lt;/p&gt;</description>
                <environment>$ mvn -v&lt;br/&gt;
Apache Maven 2.2.1 (r801777; 2009-08-06 21:16:01+0200)&lt;br/&gt;
Java version: 1.6.0_13&lt;br/&gt;
Java home: /usr/java/jdk1.6.0_13/jre&lt;br/&gt;
Default locale: de_CH, platform encoding: UTF-8&lt;br/&gt;
OS name: &amp;quot;linux&amp;quot; version: &amp;quot;2.6.32-25-generic&amp;quot; arch: &amp;quot;amd64&amp;quot; Family: &amp;quot;unix&amp;quot;</environment>
        <key id="12478064">SLING-1849</key>
            <summary>DropQueueTest failure</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Oct 2010 13:37:47 +0000</created>
                <updated>Mon, 24 Jan 2011 11:58:30 +0000</updated>
                            <resolved>Mon, 25 Oct 2010 06:40:46 +0000</resolved>
                                                    <fixVersion>Event 3.0.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12924314" author="cziegeler" created="Sun, 24 Oct 2010 13:16:59 +0000"  >&lt;p&gt;Hi Felix, I did two changes to the eventing test: the job area in the repo is now always removed before each test and the drop test is now better synced.&lt;br/&gt;
Can you please retest?&lt;/p&gt;</comment>
                            <comment id="12924323" author="fmeschbe" created="Sun, 24 Oct 2010 15:00:54 +0000"  >&lt;p&gt;Thanks the tests now pass on my platform (again). Thanks.&lt;/p&gt;</comment>
                            <comment id="12924461" author="cziegeler" created="Mon, 25 Oct 2010 06:40:46 +0000"  >&lt;p&gt;Thanks, so I set this to resolved. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176672</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 2 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10unj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>213100</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1848] registration (or unregistration) of a ScriptEngineFactory doesn&apos;t cause the ScriptEngineManager service to be re-registered</title>
                <link>https://issues.apache.org/jira/browse/SLING-1848</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;ScriptEngineManagerFactory.refreshScriptEngineManager() handles the registration of an OSGi service of the ScriptEngineManager. This is used, amongst other places, by SlingScriptAdapterFactory.&lt;/p&gt;

&lt;p&gt;However, refreshScriptEngineManager() is &lt;b&gt;only&lt;/b&gt; called from activate() and getScriptEngineManager() (and in the latter case, only if the scriptEngineManager is null). Although bindScriptEngineManager() (and unbind) null out scriptEngineManager, they do not call refreshScriptEngineManager(). As a result, new ScriptEngineFactory services are not effective with this call sequence:&lt;/p&gt;

&lt;p&gt;1) activate()&lt;br/&gt;
2) bindScriptEngineManager()&lt;br/&gt;
3) try adapting a script to a javax.servlet.Servlet&lt;/p&gt;

&lt;p&gt;This can be worked around (albeit poorly IMHO) by going to the Configuration Status page in the web console because this causes getScriptEngineManager() to be called when scriptEngineManager is null, thus causing refreshScriptEngineManager() to be called.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12477906">SLING-1848</key>
            <summary>registration (or unregistration) of a ScriptEngineFactory doesn&apos;t cause the ScriptEngineManager service to be re-registered</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="justinedelson">Justin Edelson</assignee>
                                    <reporter username="justinedelson">Justin Edelson</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 Oct 2010 19:31:56 +0000</created>
                <updated>Sun, 7 Nov 2010 10:43:02 +0000</updated>
                            <resolved>Mon, 25 Oct 2010 07:11:42 +0000</resolved>
                                                    <fixVersion>Scripting Core 2.0.14</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12923121" author="justinedelson" created="Wed, 20 Oct 2010 19:33:59 +0000"  >&lt;p&gt;done in r1025692.&lt;/p&gt;</comment>
                            <comment id="12923126" author="fmeschbe" created="Wed, 20 Oct 2010 19:45:20 +0000"  >&lt;p&gt;I think this is fix is not along the intent of SLING- 1545 n but is probably ok for the short-term.&lt;/p&gt;

&lt;p&gt;The problem with the &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-1545&quot; title=&quot;ScripteEngineManagerFactory is not thread safe&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-1545&quot;&gt;&lt;del&gt;SLING-1545&lt;/del&gt;&lt;/a&gt; implementation is that the maneger is dropped but the registered service (which is dropped) is not unregistered....  &lt;/p&gt;

&lt;p&gt;I think it is about time to consider something completely different for the ScriptManager: We create our own implementation which allows us to unregister ScriptEngineFactory instances - something which is not foreseen in the standard ScriptManager. Thus we could setup the ScriptEngineManager once and for all and just add/remove ScriptEngineFactories as they come and go.&lt;/p&gt;

&lt;p&gt;Another option would be to register a Proxy object as the service which in the back end accesses the real ScriptEngineManager on-demand thus forcing the ScriptEngineManager to be recreated should it be removed.&lt;/p&gt;</comment>
                            <comment id="12923129" author="justinedelson" created="Wed, 20 Oct 2010 19:49:45 +0000"  >&lt;p&gt;in r1025700, added a similar change which impacts bundleChanged()&lt;/p&gt;</comment>
                            <comment id="12923139" author="justinedelson" created="Wed, 20 Oct 2010 20:05:54 +0000"  >&lt;p&gt;Felix - you&apos;re probably right about rewriting ScriptEngineManager. It is really unfortunate ScriptEngineManager is a concrete class, not an interface.&lt;/p&gt;

&lt;p&gt;I don&apos;t see how the changes I made in r1025692 and r1025700 create new thread-safety issues. Am I missing something?&lt;/p&gt;</comment>
                            <comment id="12924477" author="cziegeler" created="Mon, 25 Oct 2010 07:11:42 +0000"  >&lt;p&gt;This seems to be fixed now, patch looks good to me, therefore closing&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176671</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 2 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10jhb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>211290</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1847] Redirect after logout does not work with form authentication</title>
                <link>https://issues.apache.org/jira/browse/SLING-1847</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The redirectAfterLogout method of org.apache.sling.auth.core.impl.SlingAuthenticator is looking for a request attribute or parameter named &quot;resource&quot; to decide where to redirect after logout.&lt;/p&gt;

&lt;p&gt;But, if there is a request parameter named &quot;resource&quot; on the request, the request never makes it to the LogoutServlet because the authenticationSucceeded method of the FormAuthenticationHandler is also looking for a request parameter with the same name and immediately redirecting to the specified resource which terminates the rest of the request processing.  The user is never logged out before redirecting to the resource.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12477714">SLING-1847</key>
            <summary>Redirect after logout does not work with form authentication</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="enorman">Eric Norman</assignee>
                                    <reporter username="enorman">Eric Norman</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 Oct 2010 05:03:37 +0000</created>
                <updated>Fri, 20 Sep 2019 11:34:46 +0000</updated>
                            <resolved>Tue, 29 Mar 2011 06:37:25 +0000</resolved>
                                    <version>Form Based Authentication 1.0.0</version>
                    <version>Auth Core 1.0.2</version>
                                    <fixVersion>Form Based Authentication 1.0.4</fixVersion>
                                    <component>Authentication</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13012349" author="enorman" created="Tue, 29 Mar 2011 06:37:25 +0000"  >&lt;p&gt;Fixed in revision 1086496.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176670</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 32 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i101jb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>208383</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1846] URL decoding</title>
                <link>https://issues.apache.org/jira/browse/SLING-1846</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When we send an encoded url it is not decoded by Sling and it result by a 404 answer.&lt;/p&gt;

&lt;p&gt;Exemple&lt;/p&gt;

&lt;p&gt;&quot;/test/My%20story.doc&quot; should be decoded to &quot;/test/My%20story.doc&quot;&lt;/p&gt;

&lt;p&gt;&quot;%E9%9F%B3%E4%B9%90.mp3&quot; should be decoded to &quot;&#38899;&#20048;.mp3&quot;&lt;/p&gt;

&lt;p&gt;My workaround was to add this code to org.apache.sling.engine.impl.SlingHttpServletRequestImpl.SlingHttpServletRequestImpl(RequestData, HttpServletRequest) construtor&lt;/p&gt;

&lt;p&gt; // prepare the pathInfo property&lt;br/&gt;
        String pathInfo = servletRequest.getServletPath();&lt;br/&gt;
        if (servletRequest.getPathInfo() != null) {&lt;br/&gt;
            pathInfo = pathInfo.concat(servletRequest.getPathInfo());&lt;br/&gt;
            try &lt;/p&gt;
{
				pathInfo = URLDecoder.decode(pathInfo, &quot;UTF-8&quot;);
			}
&lt;p&gt; catch (UnsupportedEncodingException e) &lt;/p&gt;
{
				// TODO Auto-generated catch block
				e.printStackTrace();
			}
&lt;p&gt;        }&lt;br/&gt;
        this.pathInfo = pathInfo;&lt;/p&gt;

&lt;p&gt;By checking a bit the method javax.servlet.http.HttpServletRequest.getServletPath() should return a decoded url, witch it is not the case. I find out that implementation was the felix one, but I didn&apos;t go further.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12477498">SLING-1846</key>
            <summary>URL decoding</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="plrigaux">Pierre-Luc Rigaux</reporter>
                        <labels>
                    </labels>
                <created>Fri, 15 Oct 2010 19:41:21 +0000</created>
                <updated>Fri, 15 Feb 2013 06:43:29 +0000</updated>
                            <resolved>Fri, 15 Feb 2013 06:43:29 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12921704" author="justinedelson" created="Sat, 16 Oct 2010 14:59:46 +0000"  >&lt;p&gt;It sounds like you&apos;re saying this is a bug in the Felix HttpService implementation. If so, it should be fixed there.&lt;/p&gt;</comment>
                            <comment id="13578995" author="ianeboston" created="Fri, 15 Feb 2013 06:43:29 +0000"  >&lt;p&gt;Closing this since I am almost certain I have tested UTF-8 chars in paths many times with no problems since this issue was created. Please create a new issue if this problem persists. (last comment indicated it was a problem in the Felix http service and not in the sling code.)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36008</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 37 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i031mv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>15698</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1845] Parameters encoding wrong</title>
                <link>https://issues.apache.org/jira/browse/SLING-1845</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Hello,&lt;/p&gt;

&lt;p&gt;Here is my problem,&lt;/p&gt;

&lt;p&gt;I try to post some parameters in different languages and the output is wrong.&lt;/p&gt;

&lt;p&gt;Here my exemple.&lt;/p&gt;

&lt;p&gt;&amp;lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&amp;gt;&lt;br/&gt;
&amp;lt;html&amp;gt;&lt;br/&gt;
	&amp;lt;head&amp;gt;&lt;br/&gt;
		&amp;lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&amp;gt;&lt;br/&gt;
		&amp;lt;title&amp;gt;Test Parameters&amp;lt;/title&amp;gt;&lt;br/&gt;
	&amp;lt;/head&amp;gt;&lt;br/&gt;
	&amp;lt;body&amp;gt;&lt;br/&gt;
	Test Parm&lt;br/&gt;
		&amp;lt;form action=&quot;/test/encoding&quot; method=&quot;POST&quot; enctype=&quot;application/x-www-form-urlencoded&quot;&amp;gt;&lt;/p&gt;

&lt;p&gt;			&amp;lt;input type=&quot;hidden&quot; name=&quot;property/en&quot; value=&quot;School&quot;&amp;gt; &lt;br/&gt;
			&amp;lt;input type=&quot;hidden&quot; name=&quot;property/fr&quot; value=&quot;&#201;cole&quot;&amp;gt; &lt;br/&gt;
			&amp;lt;input type=&quot;hidden&quot; name=&quot;property/zh&quot; value=&quot;&#23398;&#26657;&quot;&amp;gt;&lt;/p&gt;

&lt;p&gt;			&amp;lt;input type=&quot;hidden&quot; name=&quot;school&quot; value=&quot;School&quot;&amp;gt; &lt;br/&gt;
			&amp;lt;input type=&quot;hidden&quot; name=&quot;&#233;cole&quot; value=&quot;&#201;cole&quot;&amp;gt; &lt;br/&gt;
			&amp;lt;input type=&quot;hidden&quot; name=&quot;&#23398;&#26657;&quot; value=&quot;&#23398;&#26657;&quot;&amp;gt;&lt;/p&gt;


&lt;p&gt;			&amp;lt;button type=&quot;submit&quot;&amp;gt;Submit&amp;lt;/button&amp;gt;&lt;br/&gt;
		&amp;lt;/form&amp;gt;&lt;br/&gt;
	&amp;lt;/body&amp;gt;&lt;br/&gt;
&amp;lt;/html&amp;gt;&lt;/p&gt;

&lt;p&gt;Here the HTTP headers&lt;/p&gt;

&lt;p&gt;Response Headers&lt;br/&gt;
Content-Type	text/html; charset=utf-8&lt;br/&gt;
Server	Jetty(6.1.x)&lt;br/&gt;
Transfer-Encoding	chunked&lt;br/&gt;
Proxy-Connection	Keep-alive&lt;/p&gt;

&lt;p&gt;Request Headers&lt;br/&gt;
Host	localhost:8888&lt;br/&gt;
User-Agent	Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.6; en-US; rv:1.9.2.10) Gecko/20100914 Firefox/3.6.10&lt;br/&gt;
Accept	text/html,application/xhtml+xml,application/xml;q=0.9,&lt;b&gt;/&lt;/b&gt;;q=0.8&lt;br/&gt;
Accept-Language	en-us,en;q=0.5&lt;br/&gt;
Accept-Encoding	gzip,deflate&lt;br/&gt;
Accept-Charset	ISO-8859-1,utf-8;q=0.7,*;q=0.7&lt;br/&gt;
Keep-Alive	115&lt;br/&gt;
Proxy-Connection	keep-alive&lt;br/&gt;
Referer	&lt;a href=&quot;http://localhost:8888/client/testParameters.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8888/client/testParameters.html&lt;/a&gt;&lt;br/&gt;
Cookie	sling.formauth=MTQyMTUxODdiYTI5YTI5ZTYzN2IwNmU4M2ZiYjQ2YThiMjZmOWIzYkA0MTI4NzE2MzQ5Nzg0NkBhZG1pbg&lt;/p&gt;

&lt;p&gt;Here the POST&lt;/p&gt;

&lt;p&gt;Parameters application/x-www-form-urlencoded&lt;br/&gt;
property/en	School&lt;br/&gt;
property/fr	&#201;cole&lt;br/&gt;
property/zh	&#23398;&#26657;&lt;br/&gt;
school	School&lt;br/&gt;
&#233;cole	&#201;cole&lt;br/&gt;
&#23398;&#26657;	&#23398;&#26657;&lt;/p&gt;

&lt;p&gt;Content-Type: application/x-www-form-urlencoded &lt;br/&gt;
Content-Length: 152 property%2Fen=School&amp;amp;property%2Ffr=%C3%89cole&amp;amp;property%2Fzh=%E5%AD%A6%E6%A0%A1&amp;amp;school=School&amp;amp;%C3%A9cole=%C3%89cole&amp;amp;%E5%AD%A6%E6%A0%A1=%E5%AD%A6%E6%A0%A1&lt;/p&gt;

&lt;p&gt;Here my analysis&lt;/p&gt;

&lt;p&gt;The problem is due to the method org.apache.sling.engine.impl.parameters.ParameterSupport.getRequestParameterMapInternal() that call the  Util.fixEncoding(parameters);&lt;/p&gt;

&lt;p&gt;Before calling that method all the values are OK but after they are encoded in ISO-8859-1. To fix the problem I send an other parameter &lt;em&gt;charset&lt;/em&gt;=utf-8. But I think that is the wrong way to do it.&lt;/p&gt;




</description>
                <environment>Mac OS</environment>
        <key id="12477495">SLING-1845</key>
            <summary>Parameters encoding wrong</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="plrigaux">Pierre-Luc Rigaux</reporter>
                        <labels>
                    </labels>
                <created>Fri, 15 Oct 2010 19:02:43 +0000</created>
                <updated>Fri, 15 Feb 2013 06:46:39 +0000</updated>
                            <resolved>Fri, 15 Feb 2013 06:46:39 +0000</resolved>
                                    <version>Commons Mime 2.1.2</version>
                                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12921501" author="plrigaux" created="Fri, 15 Oct 2010 19:07:19 +0000"  >&lt;p&gt;Test file to reproduce the problem.&lt;/p&gt;</comment>
                            <comment id="12921730" author="fmeschbe" created="Sat, 16 Oct 2010 18:31:31 +0000"  >&lt;p&gt;Actually, setting the &lt;em&gt;charset&lt;/em&gt; parameter to utf-8 is the right solution. The problem is, that browsers generally don&apos;t send the actual content encoding used for POST and &lt;em&gt;charset&lt;/em&gt; parameter is the workaround solution.&lt;/p&gt;

&lt;p&gt;So to properly submit multi-language forms you should ....&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;send the form to the client with response character encoding UTF-8 (you do that already)&lt;/li&gt;
	&lt;li&gt;set the &lt;em&gt;charset&lt;/em&gt; parameter for the form request to the same encoding, UTF-8 in this case.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Browsers will send back form data generally in the same encoding as the encoding in which the form was received from the server. But browsers do not set the character encoding for these requests. So we have to use the &lt;em&gt;charset&lt;/em&gt; parameter for Sling to know about this encoding on the form submission.&lt;/p&gt;

&lt;p&gt;See also &lt;a href=&quot;http://sling.apache.org/site/request-parameters.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sling.apache.org/site/request-parameters.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13578997" author="ianeboston" created="Fri, 15 Feb 2013 06:46:39 +0000"  >&lt;p&gt;resolving as the original report was due to incorrect use (or missing) &lt;em&gt;charset&lt;/em&gt;.&lt;br/&gt;
See previous comment.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12457284" name="testParameters.html" size="764" author="plrigaux" created="Fri, 15 Oct 2010 19:07:19 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36009</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 37 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i031n3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>15699</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1842] IllegalStateException in DefaultErrorHandlerServlet when HttpServletResponse.getOutputStream() already called</title>
                <link>https://issues.apache.org/jira/browse/SLING-1842</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When getOutputStream() has been called, DefaultErrorHandlerServlet is unable to write the error page and dumps an exception in the logs.  It&apos;d be nice if it failed a bit more gracefully.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12477404">SLING-1842</key>
            <summary>IllegalStateException in DefaultErrorHandlerServlet when HttpServletResponse.getOutputStream() already called</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="thecarlhall">Carl Franklin Hall</reporter>
                        <labels>
                    </labels>
                <created>Thu, 14 Oct 2010 21:29:42 +0000</created>
                <updated>Fri, 28 Jan 2011 09:07:22 +0000</updated>
                            <resolved>Tue, 19 Oct 2010 06:48:58 +0000</resolved>
                                    <version>Servlets Resolver 2.1.0</version>
                    <version>Engine 2.1.0</version>
                                    <fixVersion>Servlets Resolver 2.1.2</fixVersion>
                    <fixVersion>Engine 2.2.0</fixVersion>
                                    <component>Engine</component>
                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12921141" author="thecarlhall" created="Thu, 14 Oct 2010 21:30:48 +0000"  >&lt;p&gt;Attaching patch of proposed workaround for degrading when PrintWriter isn&apos;t immediately available.&lt;/p&gt;</comment>
                            <comment id="12921290" author="cziegeler" created="Fri, 15 Oct 2010 09:29:00 +0000"  >&lt;p&gt;Maybe we shouldn&apos;t throw at all if the writer can&apos;t be retrieved?&lt;/p&gt;</comment>
                            <comment id="12921392" author="thecarlhall" created="Fri, 15 Oct 2010 14:56:15 +0000"  >&lt;p&gt;Not throwing at all is fine with me.  I did consider this path but didn&apos;t want to submit a nasty looking patch before discussing the issue.  sendIntro could return null then the follow up logic make sure that pw != null before trying to write out HTML.  I can update the patch if this is an acceptable solution.&lt;/p&gt;</comment>
                            <comment id="12921724" author="fmeschbe" created="Sat, 16 Oct 2010 18:10:46 +0000"  >&lt;p&gt;I am not sure (and may be completely wrong), but the error handler does a reset (buffer) first before getting the writer. So I would assume the writer would be available.&lt;/p&gt;

&lt;p&gt;This may of course be wrong, in which case I am ok with a similar patch...&lt;/p&gt;

&lt;p&gt;(1) The DefaultErrorHandler.sendIntro is wrong any way: the response content type with character encoding must be set &lt;em&gt;before&lt;/em&gt; getting the writer (required by the Servlet API Spec)&lt;/p&gt;

&lt;p&gt;(2) We might want to build this special handling into the private SlingRequestProcessImpl.handleError method by providing a response wrapper which contains the special writer handling (and then using the response character set to properly setup the outputstream based writer)&lt;/p&gt;

&lt;p&gt;&amp;gt; Maybe we shouldn&apos;t throw at all if the writer can&apos;t be retrieved?&lt;/p&gt;

&lt;p&gt;This is mandated by the servlet API spec, which says getWriter must throw an IllegalStateException if the output stream has already been retrieved&lt;/p&gt;</comment>
                            <comment id="12921978" author="cziegeler" created="Mon, 18 Oct 2010 06:44:37 +0000"  >&lt;p&gt;&amp;gt; &amp;gt; Maybe we shouldn&apos;t throw at all if the writer can&apos;t be retrieved?&lt;br/&gt;
&amp;gt; This is mandated by the servlet API spec, which says getWriter must throw an IllegalStateException if the output stream has already been retrieved &lt;/p&gt;

&lt;p&gt;Sure, but handleError is called if an error occured, so someone else already threw an exception - if now - for whatever reason - getWriter in the error handling phase throws an exception, this might be a follow-up problem of the first exception - or not; doesn&apos;t really matter - the important error is still the first one which caused the error handler to be called. So throwing an exception on getWriter shadows the real exception&lt;/p&gt;

&lt;p&gt;But I&apos;m fine with any improvements in this error even if we rethrow on getWriter &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12922017" author="fmeschbe" created="Mon, 18 Oct 2010 08:54:02 +0000"  >&lt;p&gt;Committed a fix in Rev. 1023692:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;the RequestProcessorImpl.handleError methods now check whether the response is committed before even continuing&lt;/li&gt;
	&lt;li&gt;the response is now wrapped in the handleError methods to fall back to wrap the output stream with a print writer if needed&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Can you please validate, this works in your case ? thanks.&lt;/p&gt;</comment>
                            <comment id="12922022" author="fmeschbe" created="Mon, 18 Oct 2010 09:02:20 +0000"  >&lt;p&gt;And fixed DefaultErrorHandlerServlet of the Servlet Resolver to only get the response writer after setting the character encoding and also reset the response before sending back the error message in Rev. 1023693&lt;/p&gt;</comment>
                            <comment id="12922227" author="thecarlhall" created="Mon, 18 Oct 2010 19:38:40 +0000"  >&lt;p&gt;The changes look great to me.  Thanks for fixing this!&lt;/p&gt;</comment>
                            <comment id="12922461" author="fmeschbe" created="Tue, 19 Oct 2010 06:48:58 +0000"  >&lt;p&gt;Thanks for the feedback. Thus I think this can be resolved.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12457194" name="SLING-1842.diff" size="1973" author="thecarlhall" created="Thu, 14 Oct 2010 21:30:48 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>97648</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 3 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1125z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>214317</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1819] Unused custom thread pool is never removed</title>
                <link>https://issues.apache.org/jira/browse/SLING-1819</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When a custom thread pool is released and closed, it is not removed from the queues map&lt;/p&gt;</description>
                <environment></environment>
        <key id="12476667">SLING-1819</key>
            <summary>Unused custom thread pool is never removed</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Wed, 6 Oct 2010 13:16:44 +0000</created>
                <updated>Fri, 15 Oct 2010 12:52:58 +0000</updated>
                            <resolved>Wed, 6 Oct 2010 13:19:51 +0000</resolved>
                                    <version>Commons Threads 3.0.2</version>
                                    <fixVersion>Commons Threads 3.1.0</fixVersion>
                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12918505" author="cziegeler" created="Wed, 6 Oct 2010 13:19:51 +0000"  >&lt;p&gt;Fixed in revision 1005021&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176646</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 5 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i110xz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>214119</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1815] Improve error handling of &quot;broken pipe&quot; socket exceptions</title>
                <link>https://issues.apache.org/jira/browse/SLING-1815</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If the client (browser) kills the socket connection mid-request, one gets broken pipe exception stack traces, exactly three of them (see attachment). The problem is that the error handling doesn&apos;t work on them, as the response is already written, and you always get three stacktraces:&lt;/p&gt;

&lt;p&gt;1) original exception log&lt;br/&gt;
Uncaught Throwable java.net.SocketException: Broken pipe&lt;/p&gt;

&lt;p&gt;2) error handling fails due to response already transmitted&lt;br/&gt;
Calling the error handler resulted in an error java.lang.IllegalStateException: OutputStream already retrieved&lt;/p&gt;

&lt;p&gt;3) error handling logs original exception again&lt;br/&gt;
Original error class java.net.SocketException java.net.SocketException: Broken pipe&lt;/p&gt;

&lt;p&gt;A single warn &quot;broken pipe&quot; would probably be enough (it&apos;s not a server fault).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12475641">SLING-1815</key>
            <summary>Improve error handling of &quot;broken pipe&quot; socket exceptions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="alexander.klimetschek">Alexander Klimetschek</reporter>
                        <labels>
                    </labels>
                <created>Fri, 1 Oct 2010 17:05:08 +0000</created>
                <updated>Fri, 28 Jan 2011 09:07:21 +0000</updated>
                            <resolved>Fri, 1 Oct 2010 23:06:06 +0000</resolved>
                                    <version>Engine 2.0.2</version>
                    <version>Engine 2.0.4</version>
                    <version>Engine 2.0.6</version>
                    <version>Engine 2.1.0</version>
                                    <fixVersion>Engine 2.2.0</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12916952" author="alexander.klimetschek" created="Fri, 1 Oct 2010 17:06:50 +0000"  >&lt;p&gt;This happens when accessing media files on a sling server with an iPad or iPhone, because these seem to do &quot;test&quot; requests. See also &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-1814&quot; title=&quot;Add support for Range requests to the StreamRendererServlet&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-1814&quot;&gt;&lt;del&gt;SLING-1814&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12917052" author="fmeschbe" created="Fri, 1 Oct 2010 21:54:16 +0000"  >&lt;p&gt;Can also be reproduced on Linux using Firefox or Chrome: Accessing a movie causes the browser to request the file and abort the request once it decides to have a plugin handle the request, which places a new request.&lt;/p&gt;</comment>
                            <comment id="12917054" author="fmeschbe" created="Fri, 1 Oct 2010 21:58:20 +0000"  >&lt;p&gt;There is an exception catch overkill in the SlingRequestProcessorImpl.processRequest method: The method declares to throw IOException and the SlingMainServlet.service method in fact catches IOException and properly handles any SocketException.&lt;/p&gt;

&lt;p&gt;The problem is that the processRequestMethod catches any IOException thrown during request processing in a catch(Throwable) and logs this situation. Instead, the IOException should be caught and forward.&lt;/p&gt;</comment>
                            <comment id="12917087" author="fmeschbe" created="Fri, 1 Oct 2010 23:06:06 +0000"  >&lt;p&gt;Fixed in Rev. 1003700 by rethrowing IOException in the processRequest method to have it handled in the caller.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12456140" name="broken-pipe-stacktraces.txt" size="18285" author="alexander.klimetschek" created="Fri, 1 Oct 2010 17:19:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176642</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 5 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ee6n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>292227</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1813] Update json.org JSONObject to fix unicode character encoding issue</title>
                <link>https://issues.apache.org/jira/browse/SLING-1813</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Special unicode characters like the LS (\u2028) line separator in a string value make the generated json invalid. This seems to be fixed in the latest version of the json.org library, but sling&apos;s copied version of it does not handle it. Compare the quote() method (switch default case):&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.JSON.org/java/org/json/JSONObject.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.JSON.org/java/org/json/JSONObject.java&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/viewvc/sling/trunk/bundles/commons/json/src/main/java/org/apache/sling/commons/json/JSONObject.java?revision=785979&amp;amp;view=markup&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc/sling/trunk/bundles/commons/json/src/main/java/org/apache/sling/commons/json/JSONObject.java?revision=785979&amp;amp;view=markup&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12475604">SLING-1813</key>
            <summary>Update json.org JSONObject to fix unicode character encoding issue</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="justinedelson">Justin Edelson</assignee>
                                    <reporter username="alexander.klimetschek">Alexander Klimetschek</reporter>
                        <labels>
                    </labels>
                <created>Fri, 1 Oct 2010 12:22:36 +0000</created>
                <updated>Mon, 20 Dec 2010 14:52:51 +0000</updated>
                            <resolved>Fri, 19 Nov 2010 18:19:44 +0000</resolved>
                                    <version>Commons JSON 2.0.2</version>
                    <version>Commons JSON 2.0.4</version>
                                    <fixVersion>Commons JSON 2.0.6</fixVersion>
                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12933243" author="akhoury" created="Wed, 17 Nov 2010 23:54:45 +0000"  >&lt;p&gt;Attaching patch to fix this issue.&lt;/p&gt;</comment>
                            <comment id="12933901" author="justinedelson" created="Fri, 19 Nov 2010 18:19:45 +0000"  >&lt;p&gt;applied slightly different fix (closer to that in the current json.org version) in r1036966&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12459848" name="fix-SLING-1813.diff" size="707" author="akhoury" created="Wed, 17 Nov 2010 23:54:45 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176640</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 50 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10ruv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>212647</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1812] Sling Explorer - Delete Node does not work</title>
                <link>https://issues.apache.org/jira/browse/SLING-1812</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;dito&lt;/p&gt;</description>
                <environment></environment>
        <key id="12475602">SLING-1812</key>
            <summary>Sling Explorer - Delete Node does not work</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="clemensdev">Clemens Wyss</assignee>
                                    <reporter username="clemensdev">Clemens Wyss</reporter>
                        <labels>
                    </labels>
                <created>Fri, 1 Oct 2010 11:50:35 +0000</created>
                <updated>Mon, 1 Nov 2010 12:48:04 +0000</updated>
                            <resolved>Fri, 1 Oct 2010 11:57:21 +0000</resolved>
                                                    <fixVersion>Sling Explorer 1.0.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12916863" author="clemensdev" created="Fri, 1 Oct 2010 11:57:21 +0000"  >&lt;p&gt;was just a path/escaping problem&lt;/p&gt;</comment>
                            <comment id="12916889" author="clemensdev" created="Fri, 1 Oct 2010 13:56:42 +0000"  >&lt;p&gt;rev 1003540&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176639</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 5 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i112gn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>214365</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1809] Eclipse compiler used in commons.compiler causes &quot;Illegal type in constant pool&quot; with enums</title>
                <link>https://issues.apache.org/jira/browse/SLING-1809</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;According to &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; the eclipse compiler can&apos;t handle enums in certain environments.&lt;/p&gt;

&lt;p&gt;The trunk org.apache.sling.commons.compiler bundle embeds (eclipse-jdt) core-3.3.0-v_771.jar which exposes this issue. &lt;/p&gt;

&lt;p&gt;According to &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; the issue should be fixed in v3.5.2, but the central Maven repository does not provide a more recent version than the one we currently use.&lt;/p&gt;

&lt;p&gt;To reproduce the problem, install the compiler and java scripting bundle and create a scripted java servlet that uses enums (example below), at runtime this causes:&lt;/p&gt;

&lt;p&gt;java.lang.VerifyError: &lt;br/&gt;
(class: enumtest/EnumTest, method: valueOf signature: (Ljava/lang/String;)Lenumtest/EnumTest&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;br/&gt;
Illegal type in constant pool&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://bugs.eclipse.org/bugs/show_bug.cgi?id=291985&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://bugs.eclipse.org/bugs/show_bug.cgi?id=291985&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Here&apos;s the example servlet, store in /apps/JavaScriptingTest2/JavaScriptingTest2.java and use &quot;JavaScriptingTest2&quot; resource type:&lt;/p&gt;

&lt;p&gt;package apps.JavaScriptingTest2;&lt;/p&gt;

&lt;p&gt;import javax.servlet.http.*;&lt;br/&gt;
import java.io.IOException;&lt;/p&gt;

&lt;p&gt;public class JavaScriptingTest2 extends HttpServlet {&lt;/p&gt;

&lt;p&gt;    static enum EnumTest &lt;/p&gt;
{ FOO, BAR }
&lt;p&gt;;&lt;/p&gt;

&lt;p&gt;    public void doGet(HttpServletRequest req, HttpServletResponse resp) throws IOException &lt;/p&gt;
{
        resp.getWriter().write(&quot;FOO=&quot; + EnumTest.FOO);
    }
&lt;p&gt;}&lt;/p&gt;</description>
                <environment></environment>
        <key id="12475191">SLING-1809</key>
            <summary>Eclipse compiler used in commons.compiler causes &quot;Illegal type in constant pool&quot; with enums</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Mon, 27 Sep 2010 13:04:08 +0000</created>
                <updated>Mon, 20 Dec 2010 14:52:09 +0000</updated>
                            <resolved>Thu, 16 Dec 2010 09:40:25 +0000</resolved>
                                    <version>Commons Compiler 2.0.0</version>
                                    <fixVersion>Commons Compiler 2.0.0</fixVersion>
                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12915326" author="bdelacretaz" created="Mon, 27 Sep 2010 14:52:45 +0000"  >&lt;p&gt;The tycho project seems to provide a more recent version of the compiler:&lt;/p&gt;

&lt;p&gt;&amp;lt;dependency&amp;gt;&lt;br/&gt;
    &amp;lt;groupId&amp;gt;org.sonatype.tycho&amp;lt;/groupId&amp;gt;&lt;br/&gt;
    &amp;lt;artifactId&amp;gt;org.eclipse.jdt.core&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
    &amp;lt;version&amp;gt;3.6.0.v_A58&amp;lt;/version&amp;gt;&lt;br/&gt;
&amp;lt;/dependency&amp;gt;&lt;/p&gt;</comment>
                            <comment id="12965149" author="fmeschbe" created="Tue, 30 Nov 2010 08:38:22 +0000"  >&lt;p&gt;I don&apos;t think we have to upgrade the compiler for this single reason because the problem is only exhibited when compiling with target &quot;jsr14&quot;. Since Sling requires Java 5 there is no use compiling for the jsr14 target and thus this issues needs not be fixed IMHO.&lt;/p&gt;

&lt;p&gt;Note on the jsr14 target: This special (mostly undocumented) target has been introduced while the new Java 5 language features have been developped. This target accepts source level for Java 5 but generates Java 1.4 compatible class files. This is mainly useful for generics, which are not erased anyway. For Enums and Annotations this target is not really usefull because the Java 1.4 runtime library does not provide the required interfaces like java.lang.Enum.&lt;/p&gt;</comment>
                            <comment id="12965733" author="stefan@jira" created="Wed, 1 Dec 2010 16:15:51 +0000"  >&lt;p&gt;the target version is never explicitly set, i.e. it is not related to or specific to target &quot;jsr14&quot;. &lt;br/&gt;
according to bertrand the issue is easily reproducible.  &lt;/p&gt;</comment>
                            <comment id="12966450" author="fmeschbe" created="Fri, 3 Dec 2010 08:23:53 +0000"  >&lt;p&gt;Could it be that the target version is set implicitly when explicitly setting the source version ?&lt;br/&gt;
So how about setting the target explicitly, too, as we do in the JSP scripting budle ?&lt;/p&gt;</comment>
                            <comment id="12966452" author="cziegeler" created="Fri, 3 Dec 2010 08:30:42 +0000"  >&lt;p&gt;Yes, I think we should set both values - this way we know what is set&lt;/p&gt;</comment>
                            <comment id="12966535" author="stefan@jira" created="Fri, 3 Dec 2010 13:59:26 +0000"  >&lt;p&gt;i have verified that this issue is solved by &lt;br/&gt;
explicitly setting the target version, e.g.&lt;/p&gt;


&lt;p&gt;        String sourceVersion = ....&lt;br/&gt;
        if (sourceVersion != null) &lt;/p&gt;
{
            props.put(&quot;org.eclipse.jdt.core.compiler.source&quot;, sourceVersion);
            props.put(&quot;org.eclipse.jdt.core.compiler.compliance&quot;, sourceVersion);
            props.put(&quot;org.eclipse.jdt.core.compiler.codegen.targetPlatform&quot;, sourceVersion);
        }
&lt;p&gt;        CompilerOptions settings = new CompilerOptions(props);&lt;/p&gt;</comment>
                            <comment id="12972020" author="cziegeler" created="Thu, 16 Dec 2010 09:40:25 +0000"  >&lt;p&gt;Setting compliance property to source version&lt;/p&gt;

&lt;p&gt;Fixed in revision 1049850&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12491972">SLING-1883</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176636</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 46 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10sbb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>212721</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1805] Space character prevents correct Get[Effective]AclServlt registration</title>
                <link>https://issues.apache.org/jira/browse/SLING-1805</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The GetAclServlet and GetEffectiveAclServlet are intended to be registered with the request extension JSON using the sling.servlet.extensions service registration property. Unfortunately there is an excessive blank at the end of the property name:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;@scr.property name=&quot;sling.servlet.extensions &quot; value=&quot;json&quot;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;causing the per-extension registration to fail.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12475128">SLING-1805</key>
            <summary>Space character prevents correct Get[Effective]AclServlt registration</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Sun, 26 Sep 2010 10:20:36 +0000</created>
                <updated>Mon, 8 Nov 2010 22:33:29 +0000</updated>
                            <resolved>Sun, 26 Sep 2010 12:46:21 +0000</resolved>
                                    <version> JCR Jackrabbit Access Manager 2.0.4</version>
                                    <fixVersion>JCR Jackrabbit Access Manager 2.1.0</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12914965" author="fmeschbe" created="Sun, 26 Sep 2010 12:46:21 +0000"  >&lt;p&gt;Fixed in Rev. 1001405.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176632</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 6 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10uf3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>213062</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1802] ContentLoader does not update the content from a bundle when the bundle is updated.</title>
                <link>https://issues.apache.org/jira/browse/SLING-1802</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If you create an updated bundle containing content to be installed by the content loader, that updated content does not get installed.&lt;/p&gt;

&lt;p&gt;You can use overwrite:=true, however if you do that the entire tree is overwritten including any content from other bundles.&lt;/p&gt;

&lt;p&gt;A workarround is to only allow one bundle to update any one folder, although this may not be suitable for certain configurations.&lt;/p&gt;

&lt;p&gt;This was discussed at &lt;a href=&quot;http://markmail.org/thread/t4efmodaxofofjwr&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://markmail.org/thread/t4efmodaxofofjwr&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;One possible solution is to use the lastModified date of the bundle to determine if new content should be uploaded.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12475023">SLING-1802</key>
            <summary>ContentLoader does not update the content from a bundle when the bundle is updated.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ianeboston">Ian Boston</assignee>
                                    <reporter username="ianeboston">Ian Boston</reporter>
                        <labels>
                    </labels>
                <created>Fri, 24 Sep 2010 11:04:06 +0000</created>
                <updated>Mon, 20 Dec 2010 14:55:25 +0000</updated>
                            <resolved>Fri, 24 Sep 2010 12:29:06 +0000</resolved>
                                    <version>JCR ContentLoader 2.1.0</version>
                                    <fixVersion>JCR ContentLoader 2.1.2</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12914433" author="ianeboston" created="Fri, 24 Sep 2010 12:02:08 +0000"  >&lt;p&gt;Using last modified of the bundle and comparing it to the last modified of the resource in jcr appears to be a good way of determining if an update is required. Determining the last update of a bundle is less easy as bundle.getLastModified() gives the time when the bundle was ast modified in the OSGi container, not last built. The BND Tool adds a Manifest Bnd-LastModified header which is the build time of the bundle but this isnt present in absolutely every bundle.&lt;br/&gt;
So&lt;/p&gt;

&lt;p&gt;Math.min(Math.min(Long.parseLong((String)bundle.getProperties().get(&quot;Bnd-LastModified&quot;)),bundle.getLastModified()),entryUrlConnection.getLastModified());&lt;/p&gt;

&lt;p&gt;should give a reasonable approximation for each item and be good for future changes to Felix, should they happen.&lt;/p&gt;
</comment>
                            <comment id="12914436" author="ianeboston" created="Fri, 24 Sep 2010 12:29:06 +0000"  >&lt;p&gt;Fixed&lt;br/&gt;
Bundles will now update content when the bundle is rebuilt.&lt;br/&gt;
This only applies to file content and not to content loaded by other handlers (json, xml)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176631</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 6 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i112dz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>214353</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1797] Looking for versionable ancestor may cause failure</title>
                <link>https://issues.apache.org/jira/browse/SLING-1797</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The AbstractSlingPostOperation.findVersionableAncestor method tries to find a versionable ancestor to the node to be modified during the request by repeatedly calling Item.getParent() until the root or a versionable node is reached.&lt;/p&gt;

&lt;p&gt;If the current request does not have access to an ancestor thus visited an AccessDeniedException is thrown by the getParent() method thus failing the POST request early and probably unrelated to any actually requested operation.&lt;/p&gt;

&lt;p&gt;Fix is to catch the AccessDeniedException and assume no versionable ancestor. If the operation then fails, it will fail due to the actual operation failing possibly because an ancestor which should be checked out.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12474907">SLING-1797</key>
            <summary>Looking for versionable ancestor may cause failure</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Thu, 23 Sep 2010 07:27:26 +0000</created>
                <updated>Wed, 20 Sep 2017 12:03:13 +0000</updated>
                            <resolved>Thu, 23 Sep 2010 07:34:50 +0000</resolved>
                                                    <fixVersion>Servlets Post 2.1.0</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12913940" author="fmeschbe" created="Thu, 23 Sep 2010 07:34:49 +0000"  >&lt;p&gt;Fixed in Rev. 1000343 : Refactor findVersionableAncestor to not break if any ancestor is not accessible and to operate iteratively instead of recursively&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12467765">SLING-1573</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176628</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 7 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i105lr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>209042</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1794] ConfigInstallTest fails semi-randomly: Configuration is still present</title>
                <link>https://issues.apache.org/jira/browse/SLING-1794</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;-------------------------------------------------------------------------------&lt;br/&gt;
Test set: org.apache.sling.installer.it.ConfigInstallTest&lt;br/&gt;
-------------------------------------------------------------------------------&lt;br/&gt;
Tests run: 3, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 17.044 sec &amp;lt;&amp;lt;&amp;lt; FAILURE!&lt;br/&gt;
testDeferredConfigInstall &lt;span class=&quot;error&quot;&gt;&amp;#91;felix&amp;#93;&lt;/span&gt;(org.apache.sling.installer.it.ConfigInstallTest)  Time elapsed: 10.072 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!&lt;br/&gt;
java.lang.AssertionError: Config must be removed once ConfigurationAdmin restarts: Configuration is still present (ConfigInstallTest.deferred.1285097628299)&lt;br/&gt;
        at org.junit.Assert.fail(Assert.java:74)&lt;br/&gt;
        at org.apache.sling.installer.it.OsgiInstallerTestBase.waitForConfiguration(OsgiInstallerTestBase.java:246)&lt;br/&gt;
        at org.apache.sling.installer.it.ConfigInstallTest.testDeferredConfigInstall(ConfigInstallTest.java:149)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
        at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
        at org.ops4j.pax.exam.junit.extender.impl.internal.CallableTestMethodImpl.injectContextAndInvoke(CallableTestMethodImpl.java:143)&lt;br/&gt;
        at org.ops4j.pax.exam.junit.extender.impl.internal.CallableTestMethodImpl.call(CallableTestMethodImpl.java:105)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
        at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
        at org.ops4j.pax.exam.rbc.internal.RemoteBundleContextImpl.remoteCall(RemoteBundleContextImpl.java:80)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
        at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
        at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:305)&lt;br/&gt;
        at sun.rmi.transport.Transport$1.run(Transport.java:159)&lt;br/&gt;
        at java.security.AccessController.doPrivileged(Native Method)&lt;br/&gt;
        at sun.rmi.transport.Transport.serviceCall(Transport.java:155)&lt;br/&gt;
        at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:535)&lt;br/&gt;
        at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:790)&lt;br/&gt;
        at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:649)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:619)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12474750">SLING-1794</key>
            <summary>ConfigInstallTest fails semi-randomly: Configuration is still present</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="akuckartz">Andreas Kuckartz</reporter>
                        <labels>
                            <label>it,intermittent</label>
                            <label>sling-IT</label>
                    </labels>
                <created>Tue, 21 Sep 2010 20:02:40 +0000</created>
                <updated>Thu, 1 Oct 2015 22:57:15 +0000</updated>
                            <resolved>Wed, 22 Apr 2015 09:00:17 +0000</resolved>
                                                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="12913228" author="akuckartz" created="Tue, 21 Sep 2010 20:28:15 +0000"  >&lt;p&gt;I also found this in the logs:&lt;/p&gt;

&lt;p&gt;21.09.2010 21:34:55.889 &lt;b&gt;ERROR&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;FelixDispatchQueue&amp;#93;&lt;/span&gt; osgi-installer-needsB FrameworkEvent ERROR (org.osgi.framework.BundleException: Unresolved constraint in bundle osgi-installer-needsB &lt;span class=&quot;error&quot;&gt;&amp;#91;14&amp;#93;&lt;/span&gt;: package; (&amp;amp;(package=org.apache.sling.installer.it.a)(version&amp;gt;=1.0.0))) org.osgi.framework.BundleException: Unresolved constraint in bundle osgi-installer-needsB &lt;span class=&quot;error&quot;&gt;&amp;#91;14&amp;#93;&lt;/span&gt;: package; (&amp;amp;(package=org.apache.sling.installer.it.a)(version&amp;gt;=1.0.0))&lt;br/&gt;
	at org.apache.felix.framework.Felix.resolveBundle(Felix.java:3263)&lt;br/&gt;
	at org.apache.felix.framework.Felix.startBundle(Felix.java:1597)&lt;br/&gt;
	at org.apache.felix.framework.Felix$RefreshHelper.restart(Felix.java:4280)&lt;br/&gt;
	at org.apache.felix.framework.Felix.refreshPackages(Felix.java:3415)&lt;br/&gt;
	at org.apache.felix.framework.PackageAdminImpl.run(PackageAdminImpl.java:329)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:619)&lt;/p&gt;</comment>
                            <comment id="12913404" author="cziegeler" created="Wed, 22 Sep 2010 05:39:10 +0000"  >&lt;p&gt;The second error in the log is fine as it is expected - a bundle is installed during the tests which requires another bundle that&apos;s currently missing&lt;/p&gt;

&lt;p&gt;Can you add some more details about your environment please? And set the pax.exam.log.level property in the it pom.xml to DEBUG and then attach the log output? You can just run the failing test with &quot;mvn -Dtest=ConfigInstallTest install&lt;/p&gt;</comment>
                            <comment id="12913438" author="akuckartz" created="Wed, 22 Sep 2010 07:22:10 +0000"  >&lt;p&gt;Java(TM) SE Runtime Environment (build 1.6.0_21-b06)&lt;br/&gt;
Java HotSpot(TM) 64-Bit Server VM (build 17.0-b16, mixed mode)&lt;br/&gt;
64 bit Debian&lt;/p&gt;</comment>
                            <comment id="12913451" author="akuckartz" created="Wed, 22 Sep 2010 07:53:40 +0000"  >&lt;p&gt;Now I get lots of other failed tests (for &quot;mvn -s /dev/null clean install&quot;):&lt;/p&gt;

&lt;p&gt;  testIndex(org.apache.sling.launchpad.webapp.integrationtest.InitialContentTest)&lt;br/&gt;
  testRootRedirectProperty(org.apache.sling.launchpad.webapp.integrationtest.InitialContentTest)&lt;br/&gt;
  testInitialContentA(org.apache.sling.launchpad.webapp.integrationtest.InitialContentTest)&lt;br/&gt;
  testInitialContentB(org.apache.sling.launchpad.webapp.integrationtest.InitialContentTest)&lt;br/&gt;
  testWebServerRoot(org.apache.sling.launchpad.webapp.integrationtest.HttpPingTest)&lt;br/&gt;
  testCounters(org.apache.sling.launchpad.webapp.integrationtest.FiltersTest)&lt;br/&gt;
  testForcedLogin(org.apache.sling.launchpad.webapp.integrationtest.login.AuthRequestLoginTest)&lt;/p&gt;

&lt;p&gt;org.apache.sling.launchpad.testing.TestAll.txt begins with these lines (I did not find a specific log file for org.apache.sling.launchpad.webapp.integrationtest.InitialContentTest):&lt;/p&gt;

&lt;p&gt;-------------------------------------------------------------------------------&lt;br/&gt;
Test set: org.apache.sling.launchpad.testing.TestAll&lt;br/&gt;
-------------------------------------------------------------------------------&lt;br/&gt;
Tests run: 382, Failures: 7, Errors: 0, Skipped: 0, Time elapsed: 310.095 sec &amp;lt;&amp;lt;&amp;lt; FAILURE!&lt;br/&gt;
testIndex(org.apache.sling.launchpad.webapp.integrationtest.InitialContentTest)  Time elapsed: 0.051 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!&lt;br/&gt;
junit.framework.AssertionFailedError: Expected status 200 for &lt;a href=&quot;http://localhost:38786/index.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:38786/index.html&lt;/a&gt; (content=&amp;lt;!DOCTYPE HTML PUBLIC &quot;-//IETF//DTD HTML 2.0//EN&quot;&amp;gt;&lt;br/&gt;
&amp;lt;html&amp;gt;&lt;br/&gt;
&amp;lt;head&amp;gt;&lt;br/&gt;
&amp;lt;title&amp;gt;404 No resource found&amp;lt;/title&amp;gt;&lt;br/&gt;
&amp;lt;/head&amp;gt;&lt;br/&gt;
&amp;lt;body&amp;gt;&lt;br/&gt;
&amp;lt;h1&amp;gt;No resource found (404)&amp;lt;/h1&amp;gt;&lt;br/&gt;
&amp;lt;p&amp;gt;The requested URL /index.html resulted in an error in org.apache.sling.servlets.resolver.internal.defaults.DefaultErrorHandlerServlet.&amp;lt;/p&amp;gt;&lt;br/&gt;
&amp;lt;h3&amp;gt;Request Progress:&amp;lt;/h3&amp;gt;&lt;br/&gt;
&amp;lt;pre&amp;gt;&lt;br/&gt;
      0 (2010-09-22 09:41:03) TIMER_START&lt;/p&gt;
{Request Processing}
&lt;p&gt;      0 (2010-09-22 09:41:03) COMMENT timer_end format is &lt;/p&gt;
{&amp;lt;elapsed msec&amp;gt;,&amp;lt;timer name&amp;gt;}
&lt;p&gt; &amp;lt;optional message&amp;gt;&lt;br/&gt;
      0 (2010-09-22 09:41:03) LOG Method=GET, PathInfo=/index.html&lt;br/&gt;
      0 (2010-09-22 09:41:03) TIMER_START&lt;/p&gt;
{ResourceResolution}
&lt;p&gt;     21 (2010-09-22 09:41:03) TIMER_END&lt;/p&gt;
{21,ResourceResolution}
&lt;p&gt; URI=/index.html resolves to Resource=NonExistingResource, path=/index.html&lt;br/&gt;
     21 (2010-09-22 09:41:03) LOG Resource Path Info: SlingRequestPathInfo: path=&apos;/index.html&apos;, selectorString=&apos;null&apos;, extension=&apos;html&apos;, suffix=&apos;null&apos;&lt;br/&gt;
     21 (2010-09-22 09:41:03) TIMER_START&lt;/p&gt;
{ServletResolution}
&lt;p&gt;     21 (2010-09-22 09:41:03) TIMER_START&lt;/p&gt;
{resolveServlet(NonExistingResource, path=/index.html)}
&lt;p&gt;     23 (2010-09-22 09:41:03) TIMER_END&lt;/p&gt;
{2,resolveServlet(NonExistingResource, path=/index.html)}
&lt;p&gt; Using servlet org.apache.sling.servlets.get.DefaultGetServlet&lt;br/&gt;
     23 (2010-09-22 09:41:03) TIMER_END&lt;/p&gt;
{2,ServletResolution}
&lt;p&gt; URI=/index.html handled by Servlet=org.apache.sling.servlets.get.DefaultGetServlet&lt;br/&gt;
     23 (2010-09-22 09:41:03) LOG Applying Requestfilters&lt;br/&gt;
     23 (2010-09-22 09:41:03) LOG Calling filter: org.apache.sling.engine.impl.debug.RequestProgressTrackerLogFilter&lt;br/&gt;
     23 (2010-09-22 09:41:03) LOG Calling filter: org.apache.sling.launchpad.testservices.filters.NoPropertyFilter&lt;br/&gt;
     23 (2010-09-22 09:41:03) LOG Calling filter: org.apache.sling.launchpad.testservices.filters.SlingFilter&lt;br/&gt;
     23 (2010-09-22 09:41:03) TIMER_START&lt;/p&gt;
{org.apache.sling.servlets.get.DefaultGetServlet#0}
&lt;p&gt;     23 (2010-09-22 09:41:03) TIMER_END&lt;/p&gt;
{0,org.apache.sling.servlets.get.DefaultGetServlet#0}
&lt;p&gt;     23 (2010-09-22 09:41:03) TIMER_START&lt;/p&gt;
{handleError:status=404}
&lt;p&gt;     24 (2010-09-22 09:41:03) TIMER_END&lt;/p&gt;
{1,handleError:status=404}
&lt;p&gt; Using handler org.apache.sling.servlets.resolver.internal.defaults.DefaultErrorHandlerServlet&lt;br/&gt;
     24 (2010-09-22 09:41:03) TIMER_END&lt;/p&gt;
{24,Request Processing}
&lt;p&gt; Dumping SlingRequestProgressTracker Entries&lt;br/&gt;
&amp;lt;/pre&amp;gt;&lt;br/&gt;
&amp;lt;hr&amp;gt;&lt;br/&gt;
&amp;lt;address&amp;gt;ApacheSling/2.1 (Java HotSpot(TM) 64-Bit Server VM 1.6.0_21; Linux 2.6.32-trunk-amd64 amd64)&amp;lt;/address&amp;gt;&lt;br/&gt;
&amp;lt;/body&amp;gt;&lt;br/&gt;
&amp;lt;/html&amp;gt;&lt;br/&gt;
) expected:&amp;lt;200&amp;gt; but was:&amp;lt;404&amp;gt;&lt;br/&gt;
        at junit.framework.Assert.fail(Assert.java:47)&lt;br/&gt;
...&lt;/p&gt;

&lt;p&gt;&amp;#8212;&lt;/p&gt;

&lt;p&gt;BTW: The log produced by&lt;br/&gt;
$ mvn -Dtest=ConfigInstallTest install&lt;br/&gt;
did not seem to be very helpful:&lt;/p&gt;

&lt;p&gt;andreas@lenny:~/sling$ mvn -Dtest=ConfigInstallTest install&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Scanning for projects...&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Reactor build order: &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Apache Sling (Parent)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Apache Sling Maven Plugin to create Jackrabbit OCM descriptors&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Apache Sling API&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Apache Sling Scripting Implementation API&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Apache Sling Dynamic Class Loader Support&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Apache Sling Scripting JSP Support&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Apache Sling Maven Plugin for Compiling JSP Sources into Bundles&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Apache Sling Repository API Bundle&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Apache Sling Commons OSGi support&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Apache Sling Adapter Manager Implementation&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Apache Sling Testing Utilities&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Apache Sling JSON Library&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Apache Sling Maven Plugin for Supporting Bundle Development&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Apache Sling Launchpad Base&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Apache Sling Launchpad Maven Plugin&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Sling Launchpad Standalone Archetype&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Sling Launchpad Webapp Archetype&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Sling Resources Archetype&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Sling Servlet Archetype&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Apache Sling OSGi LogService Implementation&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Apache Sling MIME type mapping support&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Apache Sling Thread Support&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Apache Sling Scheduler Support&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Apache Sling Authentication Service&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Apache Sling JCR Base Bundle&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Apache Sling Jackrabbit Embedded Repository&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Apache Sling OpenID Authentication&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Apache Sling Form Based Authentication Handler&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Apache Sling Authentication Selector&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Apache Sling Settings&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Apache Sling Engine Implementation&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Apache Sling JCR ClassLoader&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Apache Sling Initial Content Loader&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Apache Sling JCR Resource Resolver&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Apache Sling Default POST Servlets&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Apache Sling Jackrabbit UserManager Support&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Apache Sling Jackrabbit JSR-283 Access Control Manager Support&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Apache Sling Object Content Mapping&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Apache Sling Simple WebDAV Access to repositories&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Apache Sling DavEx Access to repositories&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Apache Sling JCR WebConsole Bundle&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Apache Sling Servlet Resolver&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Apache Sling Default GET Servlets&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Apache Sling Scripting Core implementation&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Apache Sling Scripting JavaScript Support&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Apache Sling JSP Tag Library&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Apache Sling Bundle Resource Provider&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Apache Sling Event Support&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Apache Sling Filesystem Resource Provider&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Apache Sling Thread Dumper&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Apache Sling Web Console Branding&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Apache Sling Web Console Security Provider&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Apache Sling Groovy Extensions&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Apache Sling Explorer&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Apache Sling Installer&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Apache Sling File Installer&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Apache Sling JCR Installer&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Apache Sling Installer Integration Tests&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Apache Sling Launchpad Content&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Apache Sling Launchpad Application Builder&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Apache Sling Launchpad Testing Services&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Apache Sling Launchpad Testing Services WAR&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Apache Sling Integration Tests&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Apache Sling Launchpad Testing&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   Apache Sling (Builder)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Building Apache Sling (Parent)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;    task-segment: &lt;span class=&quot;error&quot;&gt;&amp;#91;install&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; [enforcer:enforce &lt;/p&gt;
{execution: enforce-java}
&lt;p&gt;]&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Setting property: classpath.resource.loader.class =&amp;gt; &apos;org.codehaus.plexus.velocity.ContextClassLoaderResourceLoader&apos;.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Setting property: velocimacro.messages.on =&amp;gt; &apos;false&apos;.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Setting property: resource.loader =&amp;gt; &apos;classpath&apos;.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Setting property: resource.manager.logwhenfound =&amp;gt; &apos;false&apos;.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; [remote-resources:process &lt;/p&gt;
{execution: default}
&lt;p&gt;]&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; [antrun:run &lt;/p&gt;
{execution: default}
&lt;p&gt;]&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Executing tasks&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;echo&amp;#93;&lt;/span&gt; **************** WARNING (&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-443&quot; title=&quot;OutOfMemory Error while building the jcr/jackrabbit-server bundle&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-443&quot;&gt;&lt;del&gt;SLING-443&lt;/del&gt;&lt;/a&gt;/&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-1782&quot; title=&quot;Build error: tests take a loooooooooong time&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-1782&quot;&gt;&lt;del&gt;SLING-1782&lt;/del&gt;&lt;/a&gt;) ******************************&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;echo&amp;#93;&lt;/span&gt; On most platforms, you&apos;ll get OutOfMemoryErrors when building unless you set&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;echo&amp;#93;&lt;/span&gt; on 32bit platforms: MAVEN_OPTS=&quot;-Xmx256M -XX:MaxPermSize=256M&quot;, see &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-443&quot; title=&quot;OutOfMemory Error while building the jcr/jackrabbit-server bundle&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-443&quot;&gt;&lt;del&gt;SLING-443&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;echo&amp;#93;&lt;/span&gt; on 64bit platforms: MAVEN_OPTS=&quot;-Xmx512M -XX:MaxPermSize=512M&quot;, see &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-1782&quot; title=&quot;Build error: tests take a loooooooooong time&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-1782&quot;&gt;&lt;del&gt;SLING-1782&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;echo&amp;#93;&lt;/span&gt; ******************************************************************************&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Executed tasks&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; [site:attach-descriptor &lt;/p&gt;
{execution: default-attach-descriptor}
&lt;p&gt;]&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Preparing source:jar&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;WARNING&amp;#93;&lt;/span&gt; Removing: jar from forked lifecycle, to prevent recursive invocation.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; [enforcer:enforce &lt;/p&gt;
{execution: enforce-java}
&lt;p&gt;]&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; [source:jar &lt;/p&gt;
{execution: attach-sources}
&lt;p&gt;]&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; [ianal:verify-legal-files &lt;/p&gt;
{execution: default}
&lt;p&gt;]&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; [install:install &lt;/p&gt;
{execution: default-install}
&lt;p&gt;]&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Installing /home/andreas/sling/parent/pom.xml to /home/andreas/.m2/repository/org/apache/sling/sling/10-SNAPSHOT/sling-10-SNAPSHOT.pom&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Building Apache Sling Maven Plugin to create Jackrabbit OCM descriptors&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;    task-segment: &lt;span class=&quot;error&quot;&gt;&amp;#91;install&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; [enforcer:enforce &lt;/p&gt;
{execution: enforce-java}
&lt;p&gt;]&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; [plugin:descriptor &lt;/p&gt;
{execution: default-descriptor}
&lt;p&gt;]&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Using &apos;UTF-8&apos; encoding to read mojo metadata.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Applying mojo extractor for language: java&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Mojo extractor for language: java found 1 mojo descriptors.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Applying mojo extractor for language: bsh&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Mojo extractor for language: bsh found 0 mojo descriptors.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; [remote-resources:process &lt;/p&gt;
{execution: default}
&lt;p&gt;]&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; [resources:resources &lt;/p&gt;
{execution: default-resources}
&lt;p&gt;]&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Using &apos;UTF-8&apos; encoding to copy filtered resources.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Copying 0 resource&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Copying 3 resources&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; [antrun:run &lt;/p&gt;
{execution: default}
&lt;p&gt;]&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Executing tasks&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;echo&amp;#93;&lt;/span&gt; ********************** WARNING (&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-443&quot; title=&quot;OutOfMemory Error while building the jcr/jackrabbit-server bundle&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-443&quot;&gt;&lt;del&gt;SLING-443&lt;/del&gt;&lt;/a&gt;) **********************************&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;echo&amp;#93;&lt;/span&gt; On most platforms, you&apos;ll get OutOfMemoryErrors when building unless you set&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;echo&amp;#93;&lt;/span&gt; MAVEN_OPTS=&quot;-Xmx256M -XX:MaxPermSize=128M&quot;, see &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-443&quot; title=&quot;OutOfMemory Error while building the jcr/jackrabbit-server bundle&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-443&quot;&gt;&lt;del&gt;SLING-443&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;echo&amp;#93;&lt;/span&gt; *****************************************************************************&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Executed tasks&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; [compiler:compile &lt;/p&gt;
{execution: default-compile}
&lt;p&gt;]&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Nothing to compile - all classes are up to date&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; [resources:testResources &lt;/p&gt;
{execution: default-testResources}
&lt;p&gt;]&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Using &apos;UTF-8&apos; encoding to copy filtered resources.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; skip non existing resourceDirectory /home/andreas/sling/maven/maven-jcrocm-plugin/src/test/resources&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Copying 3 resources&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; [compiler:testCompile &lt;/p&gt;
{execution: default-testCompile}
&lt;p&gt;]&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; No sources to compile&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; [surefire:test &lt;/p&gt;
{execution: default-test}
&lt;p&gt;]&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Surefire report directory: /home/andreas/sling/maven/maven-jcrocm-plugin/target/surefire-reports&lt;/p&gt;

&lt;p&gt;-------------------------------------------------------&lt;br/&gt;
 T E S T S&lt;br/&gt;
-------------------------------------------------------&lt;br/&gt;
There are no tests to run.&lt;/p&gt;

&lt;p&gt;Results :&lt;/p&gt;

&lt;p&gt;Tests run: 0, Failures: 0, Errors: 0, Skipped: 0&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; BUILD FAILURE&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; No tests were executed!  (Set -DfailIfNoTests=false to ignore this error.)&lt;/p&gt;</comment>
                            <comment id="12913770" author="akuckartz" created="Wed, 22 Sep 2010 20:40:07 +0000"  >&lt;p&gt;I just tried &quot;mvn -s /dev/null clean install&quot; again (without svn update before doing so) and it was successful.&lt;/p&gt;

&lt;p&gt;The tests and their results seem to be somewhat unpredictable...&lt;/p&gt;</comment>
                            <comment id="12913772" author="akuckartz" created="Wed, 22 Sep 2010 20:40:54 +0000"  >&lt;p&gt;I can not reproduce the error I have reported.&lt;/p&gt;</comment>
                            <comment id="12913774" author="justinedelson" created="Wed, 22 Sep 2010 20:42:47 +0000"  >&lt;p&gt;Be sure to set your PermGen to 512MB. This has basically stabilized the build for me.&lt;/p&gt;</comment>
                            <comment id="13709813" author="rombert" created="Tue, 16 Jul 2013 14:39:12 +0000"  >&lt;p&gt;This still happens in some Jenkins builds, for instance &lt;a href=&quot;https://builds.apache.org/job/sling-trunk-1.6/org.apache.sling$org.apache.sling.installer.it/1738/testReport/junit/org.apache.sling.installer.it/ConfigInstallTest/testDeferredConfigInstall/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/sling-trunk-1.6/org.apache.sling$org.apache.sling.installer.it/1738/testReport/junit/org.apache.sling.installer.it/ConfigInstallTest/testDeferredConfigInstall/&lt;/a&gt; . The logging output indicates that the configuration is removed, so this is probably a timing issue.&lt;/p&gt;</comment>
                            <comment id="13709842" author="rombert" created="Tue, 16 Jul 2013 15:10:57 +0000"  >&lt;ul&gt;
	&lt;li&gt;updated pax-exam setup to log timestamps in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1503745&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1503745&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;increased wait timeout from 5 seconds to 6 seconds in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1503746&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1503746&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13821502" author="bdelacretaz" created="Wed, 13 Nov 2013 16:39:47 +0000"  >&lt;p&gt;Just saw this again on a buildbot build: &lt;a href=&quot;http://ci.apache.org/builders/sling-trunk/builds/5/steps/compile/logs/stdio&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ci.apache.org/builders/sling-trunk/builds/5/steps/compile/logs/stdio&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I&apos;ll attach the logs, which indicate that the config is indeed deleted (15:46:34.982), but the test still times out after 5 seconds (15:46:39.995) thinking the config still exists. No idea why, and it looks like this happens quite rarely now.&lt;/p&gt;
</comment>
                            <comment id="13837823" author="bdelacretaz" created="Tue, 3 Dec 2013 15:53:28 +0000"  >&lt;p&gt;Improved synchronization by waiting for installer events in &lt;a href=&quot;http://svn.apache.org/r1547444&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1547444&lt;/a&gt;, looks better on my box but I still get rare failures. Haven&apos;t found the exact cause yet.&lt;/p&gt;</comment>
                            <comment id="13851621" author="bdelacretaz" created="Wed, 18 Dec 2013 11:46:06 +0000"  >&lt;p&gt;Still regular failures at &lt;a href=&quot;http://ci.apache.org/builders/sling-trunk&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ci.apache.org/builders/sling-trunk&lt;/a&gt;, my last fixes haven&apos;t helped.&lt;/p&gt;</comment>
                            <comment id="14270912" author="cziegeler" created="Fri, 9 Jan 2015 11:32:59 +0000"  >&lt;p&gt;Still happending:&lt;br/&gt;
java.lang.AssertionError: Config must be removed once ConfigurationAdmin restarts: config is still present (ConfigInstallTest.deferred.1_1420802555794)&lt;br/&gt;
	at org.junit.Assert.fail(Assert.java:88)&lt;br/&gt;
	at org.apache.sling.installer.it.OsgiInstallerTestBase.waitForConfiguration(OsgiInstallerTestBase.java:361)&lt;br/&gt;
	at org.apache.sling.installer.it.OsgiInstallerTestBase.waitForConfiguration(OsgiInstallerTestBase.java:311)&lt;br/&gt;
	at org.apache.sling.installer.it.ConfigInstallTest.testDeferredConfigRemove(ConfigInstallTest.java:473)&lt;/p&gt;</comment>
                            <comment id="14271002" author="cziegeler" created="Fri, 9 Jan 2015 13:31:51 +0000"  >&lt;p&gt;I see I very small time window in the installer where it could get into sleep and does not try a new arrived factory. I&apos;ve committed a fix for this in rev 1650522 together with a code cleanup in the configuration module and a simplification of the test. Let&apos;s see how this goes...&lt;/p&gt;</comment>
                            <comment id="14271265" author="cziegeler" created="Fri, 9 Jan 2015 15:46:56 +0000"  >&lt;p&gt;The problem seems still to exist. I&apos;ve enhanced the test in rev 1650572 to wait for the configuration installer factory to be unregistered and registered (this one depends on the availability of the config admin). Another try...&lt;/p&gt;</comment>
                            <comment id="14273495" author="cziegeler" created="Mon, 12 Jan 2015 11:20:45 +0000"  >&lt;p&gt;I&apos;ve updated the test with some more checks and also updated to the last config admin release&lt;/p&gt;</comment>
                            <comment id="14274864" author="cziegeler" created="Tue, 13 Jan 2015 08:03:37 +0000"  >&lt;p&gt;It seems this is fixed now&lt;/p&gt;</comment>
                            <comment id="14275043" author="cziegeler" created="Tue, 13 Jan 2015 10:40:09 +0000"  >&lt;p&gt;Actually I was wrong, it still occurs on Jenkins with Java7&lt;/p&gt;</comment>
                            <comment id="14506684" author="cziegeler" created="Wed, 22 Apr 2015 09:00:17 +0000"  >&lt;p&gt;Haven&apos;t seen it for a long time, maybe it&apos;s gone...&lt;/p&gt;</comment>
                            <comment id="14940571" author="bdelacretaz" created="Thu, 1 Oct 2015 22:56:22 +0000"  >&lt;p&gt;This has appeared again today at &lt;a href=&quot;https://builds.apache.org/view/S-Z/view/Sling/job/sling-trunk-1.7/org.apache.sling$org.apache.sling.installer.it/2388/testReport/junit/org.apache.sling.installer.it/ConfigInstallTest/testDeferredConfigRemove/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/view/S-Z/view/Sling/job/sling-trunk-1.7/org.apache.sling$org.apache.sling.installer.it/2388/testReport/junit/org.apache.sling.installer.it/ConfigInstallTest/testDeferredConfigRemove/&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java.lang.AssertionError: Config must be removed once ConfigurationAdmin restarts: config is still present (ConfigInstallTest.deferred.1_1443734921741)
	at org.junit.Assert.fail(Assert.java:88)
	at org.apache.sling.installer.it.OsgiInstallerTestBase.waitForConfiguration(OsgiInstallerTestBase.java:361)
	at org.apache.sling.installer.it.OsgiInstallerTestBase.waitForConfiguration(OsgiInstallerTestBase.java:311)
	at org.apache.sling.installer.it.ConfigInstallTest.testDeferredConfigRemove(ConfigInstallTest.java:529)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12678196">SLING-3234</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12613637" name="stdio.txt" size="3236419" author="bdelacretaz" created="Wed, 13 Nov 2013 16:48:46 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176625</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 4 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10iif:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>211133</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1790] Job handling does only use cluster for failover</title>
                <link>https://issues.apache.org/jira/browse/SLING-1790</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If jobs are added in a clustered environment, they are currently only added on the instance where the job has been created. Therefore jobs are never load balanced.&lt;br/&gt;
The exception is if a job fails on an instance; in this case this job is added to other cluster nodes.&lt;br/&gt;
This is a very inconsistent behaviour and should be changed to:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;jobs are always added to all cluster nodes (except if the run local flag is set)&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12474676">SLING-1790</key>
            <summary>Job handling does only use cluster for failover</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Tue, 21 Sep 2010 09:09:10 +0000</created>
                <updated>Fri, 15 Oct 2010 12:53:40 +0000</updated>
                            <resolved>Tue, 21 Sep 2010 15:16:04 +0000</resolved>
                                    <version>Event 2.4.0</version>
                                    <fixVersion>Event 2.4.2</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12913025" author="cziegeler" created="Tue, 21 Sep 2010 15:16:04 +0000"  >&lt;p&gt;Fixed in revision 999457 - also cleaned up the event listener registration and added some new tests&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176623</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 7 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i112av:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>214339</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1784] Discover Sling in 15 minutes: launchpad/webapp missing</title>
                <link>https://issues.apache.org/jira/browse/SLING-1784</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;This page&lt;/p&gt;

&lt;p&gt;Discover Sling in 15 minutes - the Sling Launchpad&lt;br/&gt;
&lt;a href=&quot;http://sling.apache.org/site/discover-sling-in-15-minutes.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sling.apache.org/site/discover-sling-in-15-minutes.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;states:&lt;/p&gt;

&lt;p&gt;If you built Sling yourself, change to the launchpad/webapp directory under the top-level sling directory, and run&lt;br/&gt;
mvn jetty:run&lt;br/&gt;
To start the launchpad.&lt;/p&gt;

&lt;p&gt;That is not possible because there is no such launchpad/webapp directory (the launchpad directory exists).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12474537">SLING-1784</key>
            <summary>Discover Sling in 15 minutes: launchpad/webapp missing</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="akuckartz">Andreas Kuckartz</reporter>
                        <labels>
                    </labels>
                <created>Sun, 19 Sep 2010 18:00:28 +0000</created>
                <updated>Mon, 20 Sep 2010 06:18:36 +0000</updated>
                            <resolved>Mon, 20 Sep 2010 06:18:36 +0000</resolved>
                                                                    <component>Documentation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12912368" author="fmeschbe" created="Mon, 20 Sep 2010 06:18:36 +0000"  >&lt;p&gt;Thanks for reporting. I have fixed this now (and changed all port references to port 8888 because this is currently the default for the &quot;mvn jetty:run&quot; setup.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176618</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 7 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i100u7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>208270</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1782] Build error: tests take a loooooooooong time</title>
                <link>https://issues.apache.org/jira/browse/SLING-1782</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Building revision 997835 takes a loooooooooong time. I stopped that after the integration tests had run longer than half an hour and there werde some problems as one can see in the log.&lt;/p&gt;

&lt;p&gt;I did not find any more information in sling/launchpad/testing/target/surefire-reports, but there were a small number of warnings &quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; HttpMethodBase.java:682           Going to buffer response body of large or unknown size. Using getResponseBodyAsStream instead is recommended.&quot;&lt;/p&gt;

&lt;p&gt;&amp;#8212;&lt;br/&gt;
Running org.apache.sling.launchpad.testing.TestAll&lt;br/&gt;
Running org.apache.sling.launchpad.webapp.integrationtest.issues.SLING457Test&lt;br/&gt;
Checking if the required Sling services are started (timeout 62 seconds)...&lt;br/&gt;
(base URLs=&lt;a href=&quot;http://localhost:43374&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:43374&lt;/a&gt; and &lt;a href=&quot;http://localhost:43374&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:43374&lt;/a&gt;)&lt;br/&gt;
Sling services seem to be started, continuing with integration tests.&lt;br/&gt;
JSP script engine configured using serverscripts/jsp-engine-setup.jsp&lt;br/&gt;
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0&lt;br/&gt;
Running org.apache.sling.launchpad.webapp.integrationtest.GetStarTest&lt;br/&gt;
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0&lt;br/&gt;
Running org.apache.sling.launchpad.webapp.integrationtest.JspForwardTest&lt;br/&gt;
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0&lt;br/&gt;
Running org.apache.sling.launchpad.webapp.integrationtest.servlets.resolution.PathsServletTest&lt;br/&gt;
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0&lt;br/&gt;
Running org.apache.sling.launchpad.webapp.integrationtest.servlets.post.SlingDefaultValuesTest&lt;br/&gt;
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0&lt;br/&gt;
Running org.apache.sling.launchpad.webapp.integrationtest.MkdirTest&lt;br/&gt;
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0&lt;br/&gt;
Running org.apache.sling.launchpad.webapp.integrationtest.servlets.resolution.PutMethodServletTest&lt;br/&gt;
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0&lt;br/&gt;
Running org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletAtCopyTest&lt;br/&gt;
Tests run: 8, Failures: 0, Errors: 0, Skipped: 0&lt;br/&gt;
Running org.apache.sling.launchpad.webapp.integrationtest.FiltersTest&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0&lt;br/&gt;
Running org.apache.sling.launchpad.webapp.integrationtest.JavascriptWrappersTest&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0&lt;br/&gt;
Running org.apache.sling.launchpad.webapp.integrationtest.GetWithSuffixTest&lt;br/&gt;
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0&lt;br/&gt;
Running org.apache.sling.launchpad.webapp.integrationtest.servlets.resolution.WarSelectorServletTest&lt;br/&gt;
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0&lt;br/&gt;
Running org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletUpdateTest&lt;br/&gt;
Tests run: 7, Failures: 0, Errors: 1, Skipped: 0&lt;br/&gt;
Running org.apache.sling.launchpad.webapp.integrationtest.RedirectTest&lt;br/&gt;
Tests run: 4, Failures: 1, Errors: 3, Skipped: 0&lt;br/&gt;
Running org.apache.sling.launchpad.webapp.integrationtest.GeneratedNodeNameTest&lt;br/&gt;
Tests run: 6, Failures: 0, Errors: 6, Skipped: 0&lt;br/&gt;
Running org.apache.sling.launchpad.webapp.integrationtest.StaticContentTest&lt;br/&gt;
Tests run: 2, Failures: 2, Errors: 0, Skipped: 0&lt;br/&gt;
Running org.apache.sling.launchpad.webapp.integrationtest.InitialContentTest&lt;br/&gt;
Tests run: 5, Failures: 5, Errors: 0, Skipped: 0&lt;br/&gt;
Running org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletOrderTest&lt;br/&gt;
Tests run: 9, Failures: 0, Errors: 9, Skipped: 0&lt;br/&gt;
Running org.apache.sling.launchpad.webapp.integrationtest.ScriptBuiltinObjectsTest&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 1, Skipped: 0&lt;br/&gt;
Running org.apache.sling.launchpad.webapp.integrationtest.accessManager.PrivilegesInfoTest&lt;br/&gt;
Tests run: 5, Failures: 0, Errors: 5, Skipped: 0&lt;br/&gt;
Running org.apache.sling.launchpad.webapp.integrationtest.PostRedirectTest&lt;br/&gt;
Tests run: 6, Failures: 0, Errors: 6, Skipped: 0&lt;br/&gt;
Running org.apache.sling.launchpad.webapp.integrationtest.NamespaceMappingTest&lt;br/&gt;
Tests run: 4, Failures: 4, Errors: 0, Skipped: 0&lt;br/&gt;
Running org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletCreateTest&lt;br/&gt;
Tests run: 12, Failures: 2, Errors: 10, Skipped: 0&lt;br/&gt;
Running org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletOutputContentTypeTest&lt;br/&gt;
Tests run: 6, Failures: 5, Errors: 1, Skipped: 0&lt;br/&gt;
Running org.apache.sling.launchpad.webapp.integrationtest.SyntheticResourceTest&lt;br/&gt;
Tests run: 1, Failures: 1, Errors: 0, Skipped: 0&lt;br/&gt;
Running org.apache.sling.launchpad.webapp.integrationtest.userManager.UpdateGroupTest&lt;br/&gt;
Tests run: 3, Failures: 3, Errors: 0, Skipped: 0&lt;br/&gt;
Running org.apache.sling.launchpad.webapp.integrationtest.servlets.resolution.ExtensionServletTest&lt;br/&gt;
Tests run: 3, Failures: 0, Errors: 3, Skipped: 0&lt;br/&gt;
Running org.apache.sling.launchpad.webapp.integrationtest.DavExIntegrationTest&lt;br/&gt;
Tests run: 2, Failures: 0, Errors: 2, Skipped: 0&lt;/p&gt;</description>
                <environment></environment>
        <key id="12474325">SLING-1782</key>
            <summary>Build error: tests take a loooooooooong time</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="akuckartz">Andreas Kuckartz</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 Sep 2010 21:24:10 +0000</created>
                <updated>Thu, 30 Mar 2017 13:05:24 +0000</updated>
                            <resolved>Fri, 17 Sep 2010 06:09:36 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12910326" author="fmeschbe" created="Thu, 16 Sep 2010 21:27:59 +0000"  >&lt;p&gt;What are your heap and PermGen sizes ? It might be that your GC is taken over the reign &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
Also you need more memory if your on a 64bit system&lt;/p&gt;</comment>
                            <comment id="12910442" author="akuckartz" created="Fri, 17 Sep 2010 04:36:53 +0000"  >&lt;p&gt;Yes, PermSize is a problem. Unfortunately the build did not abort and the info on that problem (&quot;java.lang.OutOfMemoryError: PermGen space&quot;) was hidden in org.apache.sling.launchpad.testing.TestAll.txt&lt;/p&gt;

&lt;p&gt;I now changed PermSize from 128M to 256M. The documentation should be modified as well (&lt;a href=&quot;http://sling.apache.org/site/getting-and-building-sling.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sling.apache.org/site/getting-and-building-sling.html&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;But it turns out that this did not solve the problem. Fortunately the problem now is logged normally:&lt;/p&gt;

&lt;p&gt;Running org.apache.sling.launchpad.webapp.integrationtest.accessManager.ModifyAceTest&lt;br/&gt;
ERROR: EventDispatcher: Error during dispatch. (java.lang.OutOfMemoryError: PermGen space)&lt;br/&gt;
java.lang.OutOfMemoryError: PermGen space&lt;br/&gt;
ERROR: EventDispatcher: Error during dispatch. (java.lang.OutOfMemoryError: PermGen space)&lt;br/&gt;
java.lang.OutOfMemoryError: PermGen space&lt;/p&gt;

&lt;p&gt;I will try again with PermSize 512M. But it is strange that the PermSize requirements multiplied within a few days ...&lt;/p&gt;</comment>
                            <comment id="12910451" author="akuckartz" created="Fri, 17 Sep 2010 05:08:59 +0000"  >&lt;p&gt;PermSize 512 solved this problem (so that I can now see a different problem).&lt;/p&gt;

&lt;p&gt;This issue can be closed when the PermSize requirement (PermSize 512M for 64 bit Linux) has been added to the Gettin and Building Sling page.&lt;/p&gt;
</comment>
                            <comment id="12910475" author="fmeschbe" created="Fri, 17 Sep 2010 06:09:36 +0000"  >&lt;p&gt;Ammended the MAVEN_OPTS recommendation output generated during the build in the parent POM in Rev. 997987. (This will show up, once we release the parent POM and refer to it from the projects).&lt;/p&gt;

&lt;p&gt;Also updated the recommendations on the Getting and Building Page.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12395886">SLING-443</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13060354">SLING-6756</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176616</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 7 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i103k7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>208711</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1781] bad String equality check in jcr.resource</title>
                <link>https://issues.apache.org/jira/browse/SLING-1781</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;in a few locations in jcr.resource == is used to test for String equality. This is bad.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12474316">SLING-1781</key>
            <summary>bad String equality check in jcr.resource</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="justinedelson">Justin Edelson</assignee>
                                    <reporter username="justinedelson">Justin Edelson</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 Sep 2010 20:06:00 +0000</created>
                <updated>Fri, 28 Jan 2011 09:05:38 +0000</updated>
                            <resolved>Thu, 16 Sep 2010 20:25:57 +0000</resolved>
                                                    <fixVersion>JCR Resource 2.0.8</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12910292" author="justinedelson" created="Thu, 16 Sep 2010 20:07:15 +0000"  >&lt;p&gt;fixed in r997904&lt;/p&gt;</comment>
                            <comment id="12910302" author="justinedelson" created="Thu, 16 Sep 2010 20:25:57 +0000"  >&lt;p&gt;reverted. this was done intentionally&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176615</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 7 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ee7j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>292231</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1780] check_staged_release.sh gives BAD md5/sha1 on macosx</title>
                <link>https://issues.apache.org/jira/browse/SLING-1780</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;With the 039 staged release on my fully updated macosx 10.6.4 system I get BAD md5/sha1 as openssl adds (stdin) to its output:&lt;/p&gt;

&lt;p&gt;$ cat org.apache.sling.install.fileinstall-1.0.0.jar.md5  ; echo&lt;br/&gt;
d903fcea9bf63e8f463b87d837bea540&lt;/p&gt;

&lt;p&gt;$ openssl md5 &amp;lt; org.apache.sling.install.fileinstall-1.0.0.jar&lt;br/&gt;
(stdin)= d903fcea9bf63e8f463b87d837bea540&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12474295">SLING-1780</key>
            <summary>check_staged_release.sh gives BAD md5/sha1 on macosx</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 Sep 2010 16:15:17 +0000</created>
                <updated>Thu, 16 Sep 2010 16:20:20 +0000</updated>
                            <resolved>Thu, 16 Sep 2010 16:20:20 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12910212" author="bdelacretaz" created="Thu, 16 Sep 2010 16:17:42 +0000"  >&lt;p&gt;Refactored the script in revision 997819, also displays the digests if they differ:&lt;/p&gt;

&lt;p&gt;gpg:  GOOD&lt;/p&gt;

&lt;p&gt;md5 : BAD!! : b4d1e4b7d4f80d990320e48f186ace79 not equal to (stdin)= b4d1e4b7d4f80d990320e48f186ace79&lt;/p&gt;

&lt;p&gt;sha1 : BAD!! : 236278d6ee804a04ec4df37beaed0aebc1d99077 not equal to (stdin)= 236278d6ee804a04ec4df37beaed0aebc1d99077&lt;/p&gt;

&lt;p&gt;Bugfix in next revision...&lt;/p&gt;</comment>
                            <comment id="12910214" author="bdelacretaz" created="Thu, 16 Sep 2010 16:20:20 +0000"  >&lt;p&gt;Added a sed filter to remove everything before = sign in openssl output, revision 997821&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176614</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 7 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10f5b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>210588</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1779] Content loader activator does not logout session</title>
                <link>https://issues.apache.org/jira/browse/SLING-1779</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The JCR Content Loader bundle activator acquires a session to load content of bundles installed before the content loader is started. Unfortunately this session is not logged out and may leak resources.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12474267">SLING-1779</key>
            <summary>Content loader activator does not logout session</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 Sep 2010 10:31:10 +0000</created>
                <updated>Mon, 20 Dec 2010 14:55:24 +0000</updated>
                            <resolved>Thu, 16 Sep 2010 10:32:48 +0000</resolved>
                                    <version>JCR ContentLoader 2.1.0</version>
                                    <fixVersion>JCR ContentLoader 2.1.2</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12910080" author="fmeschbe" created="Thu, 16 Sep 2010 10:32:48 +0000"  >&lt;p&gt;Fixed in Rev 997684.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176613</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 7 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10r4v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>212530</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1777] Build error: JobEventHandlerTest</title>
                <link>https://issues.apache.org/jira/browse/SLING-1777</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;From the build log for revision 997371:&lt;/p&gt;

&lt;p&gt;112735 &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; INFO org.apache.jackrabbit.core.TransientRepository - Session opened&lt;br/&gt;
112953 &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; INFO org.apache.jackrabbit.core.TransientRepository - Session closed&lt;br/&gt;
112956 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread-136&amp;#93;&lt;/span&gt; INFO org.apache.jackrabbit.core.TransientRepository - Session closed&lt;br/&gt;
112957 &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; INFO org.apache.jackrabbit.core.TransientRepository - Session closed&lt;br/&gt;
113286 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread-141&amp;#93;&lt;/span&gt; INFO org.apache.jackrabbit.core.TransientRepository - Session opened&lt;br/&gt;
113288 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread-142&amp;#93;&lt;/span&gt; INFO org.apache.jackrabbit.core.TransientRepository - Session opened&lt;br/&gt;
113288 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread-142&amp;#93;&lt;/span&gt; INFO org.apache.sling.event.impl.JobEventHandler - Apache Sling Job Event Handler started on instance 4711&lt;br/&gt;
115288 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread-141&amp;#93;&lt;/span&gt; INFO org.apache.jackrabbit.core.TransientRepository - Session closed&lt;br/&gt;
115290 &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; INFO org.apache.jackrabbit.core.TransientRepository - Session closed&lt;br/&gt;
115292 &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; INFO org.apache.jackrabbit.core.TransientRepository - Session closed&lt;br/&gt;
Tests run: 10, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 63.362 sec &amp;lt;&amp;lt;&amp;lt; FAILURE!&lt;br/&gt;
Running org.apache.sling.event.EventUtilTest&lt;br/&gt;
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.065 sec&lt;/p&gt;

&lt;p&gt;Results :&lt;/p&gt;

&lt;p&gt;Failed tests: &lt;br/&gt;
  testCancelJob(org.apache.sling.event.impl.JobEventHandlerTest)&lt;/p&gt;

&lt;p&gt;Tests run: 17, Failures: 1, Errors: 0, Skipped: 0&lt;/p&gt;</description>
                <environment>Debian Linux&lt;br/&gt;
&lt;br/&gt;
Java(TM) SE Runtime Environment (build 1.6.0_21-b06)&lt;br/&gt;
Java HotSpot(TM) 64-Bit Server VM (build 17.0-b16, mixed mode)&lt;br/&gt;
</environment>
        <key id="12474216">SLING-1777</key>
            <summary>Build error: JobEventHandlerTest</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="akuckartz">Andreas Kuckartz</reporter>
                        <labels>
                    </labels>
                <created>Wed, 15 Sep 2010 21:53:39 +0000</created>
                <updated>Sun, 19 Sep 2010 17:54:13 +0000</updated>
                            <resolved>Sun, 19 Sep 2010 17:54:13 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12909909" author="akuckartz" created="Wed, 15 Sep 2010 21:59:22 +0000"  >&lt;p&gt;See also &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-1737&quot; title=&quot;Add state management for resources&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-1737&quot;&gt;&lt;del&gt;SLING-1737&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12910082" author="porklip" created="Thu, 16 Sep 2010 10:36:03 +0000"  >&lt;p&gt;I&apos;m not sure this will help but I had lots of strange build problems when using Maven 3.0-beta 3 a while ago. Downgrading to Maven 2.2.1 seems to have solved those problems for me. I just built the current trunk with no failing tests using maven 2.2.1 on an Ubuntu 10.04 installation.&lt;/p&gt;</comment>
                            <comment id="12910160" author="cziegeler" created="Thu, 16 Sep 2010 14:05:34 +0000"  >&lt;p&gt;Andreas, can you please add the output of the surefire tests? &lt;br/&gt;
And what does your &quot;see also&quot; mean?&lt;/p&gt;</comment>
                            <comment id="12910177" author="justinedelson" created="Thu, 16 Sep 2010 15:00:55 +0000"  >&lt;p&gt;If we&apos;re seeing tests fail on Maven 3.0-beta-3 or 3.0-RC1, but not on Maven 2.2.1, I think we should get some guidance from the Maven team about what to look for.&lt;/p&gt;

&lt;p&gt;I&apos;ll send maven-dev an email.&lt;/p&gt;</comment>
                            <comment id="12910311" author="akuckartz" created="Thu, 16 Sep 2010 20:45:36 +0000"  >&lt;p&gt;I used and use Apache Maven 2.2.1 (rdebian-4).&lt;/p&gt;

&lt;p&gt;I am currently  trying to build revision 997835 (which takes a loooooooooong time) and will report the result when that ends.&lt;/p&gt;</comment>
                            <comment id="12910448" author="akuckartz" created="Fri, 17 Sep 2010 05:03:32 +0000"  >&lt;p&gt;sling/bundles/extensions/event/target/surefire-reports/org.apache.sling.event.impl.JobEventHandlerTest.txt says this:&lt;/p&gt;

&lt;p&gt;-------------------------------------------------------------------------------&lt;br/&gt;
Test set: org.apache.sling.event.impl.JobEventHandlerTest&lt;br/&gt;
-------------------------------------------------------------------------------&lt;br/&gt;
Tests run: 10, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 57.544 sec &amp;lt;&amp;lt;&amp;lt; FAILURE!&lt;br/&gt;
testCancelJob(org.apache.sling.event.impl.JobEventHandlerTest)  Time elapsed: 2.777 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!&lt;br/&gt;
java.lang.AssertionError:&lt;br/&gt;
        at org.junit.Assert.fail(Assert.java:91)&lt;br/&gt;
        at org.junit.Assert.assertTrue(Assert.java:43)&lt;br/&gt;
        at org.junit.Assert.assertFalse(Assert.java:68)&lt;br/&gt;
        at org.junit.Assert.assertFalse(Assert.java:79)&lt;br/&gt;
        at org.apache.sling.event.impl.JobEventHandlerTest.testCancelJob(JobEventHandlerTest.java:179)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
        at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
        at org.junit.internal.runners.TestMethod.invoke(TestMethod.java:66)&lt;br/&gt;
        at org.jmock.integration.junit4.JMock$1.invoke(JMock.java:37)&lt;br/&gt;
        at org.junit.internal.runners.MethodRoadie.runTestMethod(MethodRoadie.java:105)&lt;br/&gt;
        at org.junit.internal.runners.MethodRoadie$2.run(MethodRoadie.java:86)&lt;br/&gt;
        at org.junit.internal.runners.MethodRoadie.runBeforesThenTestThenAfters(MethodRoadie.java:94)&lt;br/&gt;
        at org.junit.internal.runners.MethodRoadie.runTest(MethodRoadie.java:84)&lt;br/&gt;
        at org.junit.internal.runners.MethodRoadie.run(MethodRoadie.java:49)&lt;br/&gt;
        at org.junit.internal.runners.JUnit4ClassRunner.invokeTestMethod(JUnit4ClassRunner.java:98)&lt;br/&gt;
        at org.junit.internal.runners.JUnit4ClassRunner.runMethods(JUnit4ClassRunner.java:61)&lt;br/&gt;
        at org.junit.internal.runners.JUnit4ClassRunner$1.run(JUnit4ClassRunner.java:54)&lt;br/&gt;
        at org.junit.internal.runners.ClassRoadie.runUnprotected(ClassRoadie.java:34)&lt;br/&gt;
        at org.junit.internal.runners.ClassRoadie.runProtected(ClassRoadie.java:44)&lt;br/&gt;
        at org.junit.internal.runners.JUnit4ClassRunner.run(JUnit4ClassRunner.java:52)&lt;br/&gt;
        at org.apache.maven.surefire.junit4.JUnit4TestSet.execute(JUnit4TestSet.java:62)&lt;br/&gt;
        at org.apache.maven.surefire.suite.AbstractDirectoryTestSuite.executeTestSet(AbstractDirectoryTestSuite.java:140)&lt;br/&gt;
        at org.apache.maven.surefire.suite.AbstractDirectoryTestSuite.execute(AbstractDirectoryTestSuite.java:127)&lt;br/&gt;
        at org.apache.maven.surefire.Surefire.run(Surefire.java:177)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
        at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
        at org.apache.maven.surefire.booter.SurefireBooter.runSuitesInProcess(SurefireBooter.java:345)&lt;br/&gt;
        at org.apache.maven.surefire.booter.SurefireBooter.main(SurefireBooter.java:1009)&lt;/p&gt;</comment>
                            <comment id="12912265" author="akuckartz" created="Sun, 19 Sep 2010 17:54:13 +0000"  >&lt;p&gt;I could not reproduce it for revision 998656.&lt;/p&gt;

&lt;p&gt;This seems to have been fixed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176612</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 7 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i100sf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>208262</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1776] Caching should be disabled for /system/sling/info.sessionInfo(.json)</title>
                <link>https://issues.apache.org/jira/browse/SLING-1776</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;IE seems to cache the /system/sling/info.sessionInfo.json page/result. &lt;br/&gt;
If you perform an authentication in the browser and then gather the current session info through Sling.getSessionInfo the outdated info is returned instead. &lt;/p&gt;

&lt;p&gt;Solution: &lt;br/&gt;
the following http header should be attached to the given url/resource:&lt;br/&gt;
Cache-Control : private, no-store, no-cache, max-age=0, must-revalidate&lt;/p&gt;

&lt;p&gt;Additionally the Sling#getSessionInfor method in sling.js could make the URI unique by adding a time tag and hence preventing any browser from caching the result.&lt;br/&gt;
...&lt;br/&gt;
var res=Sling.httpGet(Sling.baseurl+&quot;/system/sling/info.sessionInfo.&quot;&lt;ins&gt;new Date().getTime()&lt;/ins&gt;&quot;.json&quot;);&lt;/p&gt;

&lt;p&gt;...&lt;/p&gt;</description>
                <environment>InternetExplorer</environment>
        <key id="12474147">SLING-1776</key>
            <summary>Caching should be disabled for /system/sling/info.sessionInfo(.json)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="justinedelson">Justin Edelson</assignee>
                                    <reporter username="clemensdev">Clemens Wyss</reporter>
                        <labels>
                    </labels>
                <created>Wed, 15 Sep 2010 07:35:46 +0000</created>
                <updated>Fri, 8 Oct 2010 10:51:41 +0000</updated>
                            <resolved>Wed, 15 Sep 2010 15:46:35 +0000</resolved>
                                                    <fixVersion>Servlets Get 2.1.0</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12909778" author="justinedelson" created="Wed, 15 Sep 2010 15:46:35 +0000"  >&lt;p&gt;header added in r997371.&lt;/p&gt;

&lt;p&gt;feel free to reopen if anyone wants to add the timestamp in the explorer.&lt;/p&gt;</comment>
                            <comment id="12919240" author="fmeschbe" created="Fri, 8 Oct 2010 10:51:41 +0000"  >&lt;p&gt;Closes issue after bundle release.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176611</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 4 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1126f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>214319</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1774] OSGi Installer Integration Tests installs test bundles</title>
                <link>https://issues.apache.org/jira/browse/SLING-1774</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When running &quot;mvn clean install&quot; of the OSGi Installer Integration Tests (installer/osgi/it) project the test JAR files are all installed as artifacts attached to the project.&lt;/p&gt;

&lt;p&gt;This does not do any harm (probably, because I would assume this project is never deployed anyway), it is probably just overkill.&lt;/p&gt;

&lt;p&gt;We should try to prevent installing/deploying these test bundles.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12474048">SLING-1774</key>
            <summary>OSGi Installer Integration Tests installs test bundles</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Tue, 14 Sep 2010 09:37:16 +0000</created>
                <updated>Wed, 20 Sep 2017 12:12:58 +0000</updated>
                            <resolved>Tue, 14 Sep 2010 12:24:49 +0000</resolved>
                                    <version>Installer Core 3.0.0</version>
                                    <fixVersion>Installer Core 3.0.0</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12909213" author="cziegeler" created="Tue, 14 Sep 2010 12:24:49 +0000"  >&lt;p&gt;Instead of creating the bundles with the jar plugin, i&apos;ve switched to use an ant task for this; this avoids adding the artifact to the project artifacts&lt;br/&gt;
Changed in revision 996865&lt;/p&gt;</comment>
                            <comment id="12909258" author="cziegeler" created="Tue, 14 Sep 2010 14:11:27 +0000"  >&lt;p&gt;I&apos;ve done similar changes to the osgi installer project which also created a dummy test bundle. Revision 996905&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176609</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 8 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i109e7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>209656</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1772] [explorer] right pane doesn&apos;t expand fully in Chrome (at least on OS X)</title>
                <link>https://issues.apache.org/jira/browse/SLING-1772</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;see screenshot&lt;/p&gt;</description>
                <environment></environment>
        <key id="12474001">SLING-1772</key>
            <summary>[explorer] right pane doesn&apos;t expand fully in Chrome (at least on OS X)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="justinedelson">Justin Edelson</reporter>
                        <labels>
                    </labels>
                <created>Mon, 13 Sep 2010 20:39:57 +0000</created>
                <updated>Thu, 13 Apr 2023 05:01:37 +0000</updated>
                            <resolved>Thu, 13 Apr 2023 05:01:37 +0000</resolved>
                                                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                        <attachments>
                            <attachment id="12454485" name="ASF.LICENSE.NOT.GRANTED--screenshot0.png" size="81317" author="justinedelson" created="Mon, 13 Sep 2010 20:40:00 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36018</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 8 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i031p3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>15708</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1771] Build failure / BundleInstallStressTest</title>
                <link>https://issues.apache.org/jira/browse/SLING-1771</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Failed tests: &lt;br/&gt;
  testSemiRandomInstall &lt;span class=&quot;error&quot;&gt;&amp;#91;felix&amp;#93;&lt;/span&gt;(org.apache.sling.osgi.installer.it.BundleInstallStressTest)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12473994">SLING-1771</key>
            <summary>Build failure / BundleInstallStressTest</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="akuckartz">Andreas Kuckartz</reporter>
                        <labels>
                    </labels>
                <created>Mon, 13 Sep 2010 19:33:53 +0000</created>
                <updated>Mon, 13 Sep 2010 19:38:14 +0000</updated>
                            <resolved>Mon, 13 Sep 2010 19:37:18 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12908961" author="justinedelson" created="Mon, 13 Sep 2010 19:38:14 +0000"  >&lt;p&gt;being discussed in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-1737&quot; title=&quot;Add state management for resources&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-1737&quot;&gt;&lt;del&gt;SLING-1737&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12473601">SLING-1737</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176607</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 8 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10hpj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>211003</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1770] ResourceUtil.getParent(String) doesn&apos;t handle paths with workspace prefixes</title>
                <link>https://issues.apache.org/jira/browse/SLING-1770</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;ResourceUtil.getParent(&quot;otherwsp:/path&quot;) should return &quot;otherwsp:/&quot;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12473993">SLING-1770</key>
            <summary>ResourceUtil.getParent(String) doesn&apos;t handle paths with workspace prefixes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="justinedelson">Justin Edelson</assignee>
                                    <reporter username="justinedelson">Justin Edelson</reporter>
                        <labels>
                    </labels>
                <created>Mon, 13 Sep 2010 19:18:49 +0000</created>
                <updated>Mon, 13 Dec 2010 09:02:56 +0000</updated>
                            <resolved>Mon, 13 Sep 2010 19:35:11 +0000</resolved>
                                                    <fixVersion>API 2.2.0</fixVersion>
                                    <component>API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12908959" author="justinedelson" created="Mon, 13 Sep 2010 19:35:52 +0000"  >&lt;p&gt;fixed in r996657&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176606</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 8 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i111yn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>214284</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1769] [explorer] doesn&apos;t display non-default workspace nodes correctly</title>
                <link>https://issues.apache.org/jira/browse/SLING-1769</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;see screenshot&lt;/p&gt;</description>
                <environment></environment>
        <key id="12473989">SLING-1769</key>
            <summary>[explorer] doesn&apos;t display non-default workspace nodes correctly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="justinedelson">Justin Edelson</assignee>
                                    <reporter username="justinedelson">Justin Edelson</reporter>
                        <labels>
                    </labels>
                <created>Mon, 13 Sep 2010 18:41:02 +0000</created>
                <updated>Mon, 1 Nov 2010 12:48:10 +0000</updated>
                            <resolved>Mon, 13 Sep 2010 18:41:49 +0000</resolved>
                                                    <fixVersion>Sling Explorer 1.0.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12908913" author="justinedelson" created="Mon, 13 Sep 2010 18:42:30 +0000"  >&lt;p&gt;fixed in r996635&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12454465" name="ASF.LICENSE.NOT.GRANTED--screenshot0.png" size="35834" author="justinedelson" created="Mon, 13 Sep 2010 18:41:05 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176605</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 8 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i112g7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>214363</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1768] Download links are broken</title>
                <link>https://issues.apache.org/jira/browse/SLING-1768</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Most or all of the binary download links on this page are broken:&lt;br/&gt;
&lt;a href=&quot;http://sling.apache.org/site/downloads.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sling.apache.org/site/downloads.html&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12473978">SLING-1768</key>
            <summary>Download links are broken</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="akuckartz">Andreas Kuckartz</reporter>
                        <labels>
                    </labels>
                <created>Mon, 13 Sep 2010 14:46:18 +0000</created>
                <updated>Tue, 14 Sep 2010 08:27:15 +0000</updated>
                            <resolved>Tue, 14 Sep 2010 08:27:15 +0000</resolved>
                                                                    <component>Site</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12909132" author="cziegeler" created="Tue, 14 Sep 2010 07:21:22 +0000"  >&lt;p&gt;The correct download page is : &lt;a href=&quot;http://sling.apache.org/site/downloads.cgi&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sling.apache.org/site/downloads.cgi&lt;/a&gt;&lt;br/&gt;
but nevertheless you&apos;re right that the links are broken there as well&lt;/p&gt;</comment>
                            <comment id="12909136" author="fmeschbe" created="Tue, 14 Sep 2010 07:34:59 +0000"  >&lt;p&gt;Thanks for reporting.&lt;/p&gt;

&lt;p&gt;There has been a problem transcribing the links from Confluence to the official format supported by the mirros.cgi script (backing downloads.cgi). This is now fixed.&lt;/p&gt;</comment>
                            <comment id="12909147" author="fmeschbe" created="Tue, 14 Sep 2010 08:27:15 +0000"  >&lt;p&gt;Download links seem to be good again. Thus resolving this issue for now.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176604</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 8 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i100mv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>208237</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1767] Update JCR Resource Import-Package to require o.a.s.c.osgi version 2.0.6</title>
                <link>https://issues.apache.org/jira/browse/SLING-1767</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;For JCR Resource 2.0.8 the Import-Package statement in pom.xml needs to be updated to require o.a.s.c.osgi version 2.0.6.&lt;/p&gt;

&lt;p&gt;RootResourceProviderEntry makes use of OsgiUtil#getComparableForServiceRanking(), which only exists since 2.0.6&lt;/p&gt;</description>
                <environment></environment>
        <key id="12473977">SLING-1767</key>
            <summary>Update JCR Resource Import-Package to require o.a.s.c.osgi version 2.0.6</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="jsedding">Julian Sedding</reporter>
                        <labels>
                    </labels>
                <created>Mon, 13 Sep 2010 14:30:56 +0000</created>
                <updated>Fri, 28 Jan 2011 09:05:38 +0000</updated>
                            <resolved>Wed, 27 Oct 2010 08:45:19 +0000</resolved>
                                                    <fixVersion>JCR Resource 2.0.8</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12925301" author="cziegeler" created="Wed, 27 Oct 2010 08:45:19 +0000"  >&lt;p&gt;Fixed in revision 1027855&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176603</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 2 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i111y7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>214282</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1766] Calling the SlingMainServlet during startup may cause NullPointerException</title>
                <link>https://issues.apache.org/jira/browse/SLING-1766</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If during startup the Sling Main Servlet is called, a NullPointerException might be thrown as follows:&lt;/p&gt;


&lt;p&gt;10.09.2010 21:25:37.936 &lt;b&gt;ERROR&lt;/b&gt; [127.0.0.1 &lt;span class=&quot;error&quot;&gt;&amp;#91;1284146737935&amp;#93;&lt;/span&gt; GET /login.html HTTP/1.1] org.apache.sling.engine.impl.SlingMainServlet service: Uncaught Problem handling the request java.lang.NullPointerException&lt;br/&gt;
    at org.apache.sling.engine.impl.SlingHttpServletResponseImpl.flushBuffer(SlingHttpServletResponseImpl.java:131)&lt;br/&gt;
    at org.apache.sling.engine.impl.DefaultErrorHandler.sendError(DefaultErrorHandler.java:161)&lt;br/&gt;
    at org.apache.sling.engine.impl.DefaultErrorHandler.handleError(DefaultErrorHandler.java:79)&lt;br/&gt;
    at org.apache.sling.engine.impl.SlingRequestProcessorImpl.handleError(SlingRequestProcessorImpl.java:318)&lt;br/&gt;
    at org.apache.sling.engine.impl.SlingRequestProcessorImpl.processRequest(SlingRequestProcessorImpl.java:200)&lt;br/&gt;
    at org.apache.sling.engine.impl.SlingMainServlet.service(SlingMainServlet.java:174)&lt;br/&gt;
    ...&lt;/p&gt;

&lt;p&gt;The reason for this problem is, that the SlingRequestProcessorImpl.processRequest checks for the presence of services required for request processing. If these services are not available, an exception is thrown which is handled in the catch clause. This catch clause uses the Sling request and response object to send the response using the Sling error handling infrastructure. Unfortunately these objects have not been fully prepared at this time and thus a precondition for sending response data is missing in the Sling response.&lt;/p&gt;

&lt;p&gt;The fix is to use the servlet container error handling infrastructure instead.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12473967">SLING-1766</key>
            <summary>Calling the SlingMainServlet during startup may cause NullPointerException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Mon, 13 Sep 2010 10:50:25 +0000</created>
                <updated>Fri, 28 Jan 2011 09:07:21 +0000</updated>
                            <resolved>Mon, 13 Sep 2010 10:51:59 +0000</resolved>
                                    <version>Engine 2.1.0</version>
                                    <fixVersion>Engine 2.2.0</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12908712" author="fmeschbe" created="Mon, 13 Sep 2010 10:51:59 +0000"  >&lt;p&gt;Fixed in Rev. 996491.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176602</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 8 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10ubj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>213046</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1765] Problems with authentication if basic auth was used before opening Sling Explorer</title>
                <link>https://issues.apache.org/jira/browse/SLING-1765</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If you login to /system/console and then go back to /.explorer.html the explorer shows that you&apos;re logged in, which is not the case. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12473960">SLING-1765</key>
            <summary>Problems with authentication if basic auth was used before opening Sling Explorer</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="mykee">Mike M&#252;ller</reporter>
                        <labels>
                    </labels>
                <created>Mon, 13 Sep 2010 08:11:10 +0000</created>
                <updated>Mon, 1 Nov 2010 12:49:56 +0000</updated>
                            <resolved>Mon, 4 Oct 2010 17:57:01 +0000</resolved>
                                                    <fixVersion>Sling Explorer 1.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12908667" author="fmeschbe" created="Mon, 13 Sep 2010 08:26:21 +0000"  >&lt;p&gt;Well, it may actually really be the case: The browser sends the credentials preemptively to Sling which checks the request against all authentication handlers falling back to the HTTP Basic Authentication handler by default accepting preemptively sent HTTP Basic credentials.&lt;/p&gt;

&lt;p&gt;As a result the request is actually authenticated, when it should really be ...&lt;/p&gt;

&lt;p&gt;I cannot imagine a solution right now, but the workaround certainly is to switch HTTP Basic authentication off completely &amp;#8211; or use an other browser which does not preemptively send credentials, e.g. Chrome or Safari.&lt;/p&gt;

&lt;p&gt;As it stands, this looks like &quot;works as designed&quot; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; (Agreed, it is not 100% expected, though)&lt;/p&gt;

&lt;p&gt;How about &amp;#8211; by default &amp;#8211; switch off HTTP Basic authentication completely; thus not even support preemptive authentication out of the box ?&lt;/p&gt;</comment>
                            <comment id="12908775" author="mykee" created="Mon, 13 Sep 2010 13:14:20 +0000"  >&lt;p&gt;In this case switching off HTTP Basic auth should really considered as default.&lt;/p&gt;

&lt;p&gt;What confuses me a bit is that, even if I can&apos;t see credentials be existent in the HTTP header (after clicking logout), Sling Explorer still shows admin as logged in. But either before nor after logout the admin seems to be really logged in into JCR.&lt;/p&gt;</comment>
                            <comment id="12908776" author="justinedelson" created="Mon, 13 Sep 2010 13:28:30 +0000"  >&lt;p&gt;I&apos;m confused... how is this a bug? You authenticated and the explorer says you are logged in. That sounds like a good thing.&lt;/p&gt;</comment>
                            <comment id="12908780" author="mykee" created="Mon, 13 Sep 2010 13:38:24 +0000"  >&lt;p&gt;@Justin: not quite right: you login /system/console (basic auth) go back to .explorer, the Sling Explorer says you are logged in, but you have no rights to do anything than read... after logout it remains the same.&lt;/p&gt;</comment>
                            <comment id="12908788" author="fmeschbe" created="Mon, 13 Sep 2010 13:56:16 +0000"  >&lt;p&gt;I think we are hitting two issues;&lt;/p&gt;

&lt;p&gt; (1) It is not readily expected to be logged in to the &quot;Sling Application&quot; if you have been logged into the Web Console&lt;br/&gt;
 (2) The explorer declaring the user logged in but not granting rights&lt;/p&gt;

&lt;p&gt;I think we can &quot;solve&quot; the first issue by switching HTTP Basic Authentication completely off, instead of leaving it &quot;on just in case credentials are presented&quot;.&lt;/p&gt;

&lt;p&gt;I will have to see what&apos;s exactly going on for #2, though.&lt;/p&gt;

&lt;p&gt;Thus taking over thie issue for further inspection.&lt;/p&gt;</comment>
                            <comment id="12908795" author="justinedelson" created="Mon, 13 Sep 2010 14:09:04 +0000"  >&lt;p&gt;@Mike - thanks. I see the issue now.&lt;/p&gt;

&lt;p&gt;I guess removing http auth is the only way to deal with this, but I see (1) as a feature, not a bug &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12908799" author="clemensdev" created="Mon, 13 Sep 2010 14:20:16 +0000"  >&lt;p&gt;wouldn&apos;t the &quot;clean&quot; solution be for the explorer to not only check if authType is set, but that authType == &apos;Form&apos; ? &lt;/p&gt;</comment>
                            <comment id="12908800" author="fmeschbe" created="Mon, 13 Sep 2010 14:22:19 +0000"  >&lt;p&gt;@Clemens: no, the explorer should not be tied too much into the form authentication and just as well work together with HTTP Basic authentication (and OpenID or whatever). &lt;span class=&quot;error&quot;&gt;&amp;#91;Though I really like the login popup at the top of the screen, which IMHO is ok to tie into form auth handler&amp;#93;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="12914158" author="mykee" created="Thu, 23 Sep 2010 18:48:55 +0000"  >&lt;p&gt;What&apos;s the state of this issue, is HTTP Basic Authentication now switched completely off by default?&lt;/p&gt;</comment>
                            <comment id="12917682" author="mykee" created="Mon, 4 Oct 2010 17:56:08 +0000"  >&lt;p&gt;I mark this issue as resolved and created a new issue to switch HTTP Basic Authentication completely off --&amp;gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-1817&quot; title=&quot;switch HTTP Basic Authentication completely off by default&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-1817&quot;&gt;&lt;del&gt;SLING-1817&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12917683" author="mykee" created="Mon, 4 Oct 2010 17:57:01 +0000"  >&lt;p&gt;shutting off HTTP Basic Auth will solve the problem, see &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-1817&quot; title=&quot;switch HTTP Basic Authentication completely off by default&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-1817&quot;&gt;&lt;del&gt;SLING-1817&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176601</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 5 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ee7r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>292232</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1764] Sling Explorer login in IE shows an error</title>
                <link>https://issues.apache.org/jira/browse/SLING-1764</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description></description>
                <environment></environment>
        <key id="12473959">SLING-1764</key>
            <summary>Sling Explorer login in IE shows an error</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mykee">Mike M&#252;ller</assignee>
                                    <reporter username="mykee">Mike M&#252;ller</reporter>
                        <labels>
                    </labels>
                <created>Mon, 13 Sep 2010 08:08:34 +0000</created>
                <updated>Mon, 1 Nov 2010 12:50:14 +0000</updated>
                            <resolved>Thu, 23 Sep 2010 18:53:40 +0000</resolved>
                                                    <fixVersion>Sling Explorer 1.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12914161" author="mykee" created="Thu, 23 Sep 2010 18:53:40 +0000"  >&lt;p&gt;This issue was fixed in r998655&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176600</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 6 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ee7z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>292233</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1763] static resources on selector login page can&apos;t be loaded if anon access disabled</title>
                <link>https://issues.apache.org/jira/browse/SLING-1763</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If anonymous access is disabled in the SlingAuthenticator, the selector login page doesn&apos;t display correctly because the static resources of sling.css and sling-logo.png can&apos;t be loaded&lt;/p&gt;</description>
                <environment></environment>
        <key id="12473904">SLING-1763</key>
            <summary>static resources on selector login page can&apos;t be loaded if anon access disabled</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="justinedelson">Justin Edelson</reporter>
                        <labels>
                    </labels>
                <created>Sat, 11 Sep 2010 14:55:29 +0000</created>
                <updated>Mon, 20 Dec 2010 14:51:24 +0000</updated>
                            <resolved>Fri, 24 Sep 2010 19:27:28 +0000</resolved>
                                    <version>Auth Selector 1.0.0</version>
                                    <fixVersion>Auth Selector 1.0.2</fixVersion>
                                    <component>Authentication</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12914606" author="fmeschbe" created="Fri, 24 Sep 2010 19:27:28 +0000"  >&lt;p&gt;Declare the CSS, logo and signup page referred to by the default login page to not require authentication in Rev. 1001039.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12454374" name="ASF.LICENSE.NOT.GRANTED--screenshot0.png" size="14205" author="justinedelson" created="Sat, 11 Sep 2010 14:55:32 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176599</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 6 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10tsn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>212961</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1761] JcrPropertyResource sets incorrect content length for strings containing non-ascii character</title>
                <link>https://issues.apache.org/jira/browse/SLING-1761</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;JcrPropertyResource sets the content length of the property in its metadata. To do so, it uses javax.jcr.Property#getLength() to determine the content length.&lt;/p&gt;

&lt;p&gt;The documentation for javax.jcr.Property#getLength() states &quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;...&amp;#93;&lt;/span&gt; Returns the length in bytes if the value is a PropertyType.BINARY, otherwise it returns the number of characters needed to display the value in its string form.  &lt;span class=&quot;error&quot;&gt;&amp;#91;...&amp;#93;&lt;/span&gt;&quot;.&lt;/p&gt;

&lt;p&gt;The documentation in ResourceMetadata is not explicit, but from its usage in StreamRendererServlet I conclude that ResourceMetadata.getContentLength() is intended for use in the Content-Length HTTP header. If my assumptions are correct, the content length indicates the number of bytes in the string, while javax.jcr.Property#getLength() returns the number of characters.&lt;/p&gt;

&lt;p&gt;The effect of this can be observed by the following steps:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;create a string property &quot;/utf8string&quot; with value &quot;B&#228;r&quot;&lt;/li&gt;
	&lt;li&gt;access this property using a browser (e.g. &lt;a href=&quot;http://localhost:8888/utf8string&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8888/utf8string&lt;/a&gt;), so that the property gets rendered by the StreamRendererServlet&lt;br/&gt;
=&amp;gt; the string is rendered incorrectly (due to a missing Content-Type header)&lt;br/&gt;
=&amp;gt; the string is cut off (due to the incorrectly set Content-Length header)&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12473898">SLING-1761</key>
            <summary>JcrPropertyResource sets incorrect content length for strings containing non-ascii character</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="jsedding">Julian Sedding</reporter>
                        <labels>
                    </labels>
                <created>Sat, 11 Sep 2010 08:41:53 +0000</created>
                <updated>Fri, 28 Jan 2011 09:05:38 +0000</updated>
                            <resolved>Thu, 30 Dec 2010 12:51:05 +0000</resolved>
                                    <version>JCR Resource 2.0.6</version>
                                    <fixVersion>JCR Resource 2.0.8</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12908294" author="jsedding" created="Sat, 11 Sep 2010 08:47:00 +0000"  >&lt;p&gt;Some test cases and a minor fix to JcrItemResourceTestBase.&lt;/p&gt;</comment>
                            <comment id="12908295" author="jsedding" created="Sat, 11 Sep 2010 08:51:49 +0000"  >&lt;p&gt;A patch for the content-length issue, which also sets content type to &quot;text/plain&quot; and character encoding to &quot;UTF-8&quot; for non-binary properties.&lt;/p&gt;

&lt;p&gt;I am not 100% certain that it is correct to set all of these in the ResourceMetadata, as the issue I observed was with the StreamRendererServlet. So I would be grateful if you could carefully review the patch before applying.&lt;/p&gt;</comment>
                            <comment id="12908296" author="jsedding" created="Sat, 11 Sep 2010 08:56:44 +0000"  >&lt;p&gt;Irony has it that the encoding of the attached tests was incorrect. Trying again ...&lt;/p&gt;</comment>
                            <comment id="12908742" author="cziegeler" created="Mon, 13 Sep 2010 12:31:26 +0000"  >&lt;p&gt;Sounds to me like an easy fix, we might want to include into the 2.0.8 release&lt;/p&gt;</comment>
                            <comment id="12976030" author="cziegeler" created="Thu, 30 Dec 2010 12:51:05 +0000"  >&lt;p&gt;Hi Julian,&lt;/p&gt;

&lt;p&gt;thanks for your patch - I&apos;ve appied a slightly modified version in revision 1053879&lt;/p&gt;

&lt;p&gt;The actual setting of the content length was missing in your original patch, I&apos;ve added it to the setContentLength() method.&lt;/p&gt;

&lt;p&gt;Can you please cross check my version?&lt;/p&gt;</comment>
                            <comment id="12976535" author="jsedding" created="Sun, 2 Jan 2011 16:34:59 +0000"  >&lt;p&gt;Thanks for checking and applying the path, Carsten. I&apos;ve double-checked the changes you applied and confirm that my patch wasn&apos;t actually setting the content length, yours does.&lt;/p&gt;</comment>
                            <comment id="12977040" author="porklip" created="Tue, 4 Jan 2011 00:29:10 +0000"  >&lt;p&gt;Is this patch maybe the reason why&lt;/p&gt;

&lt;p&gt;testTextNoExt(org.apache.sling.launchpad.webapp.integrationtest.PropertyRenderingTest)&lt;br/&gt;
&amp;amp;&lt;br/&gt;
testResourceTypeNoExt(org.apache.sling.launchpad.webapp.integrationtest.PropertyRenderingTest)&lt;/p&gt;

&lt;p&gt;is failing?&lt;/p&gt;</comment>
                            <comment id="12977222" author="cziegeler" created="Tue, 4 Jan 2011 10:46:31 +0000"  >&lt;p&gt;Yes, thanks - I&apos;ve corrected the two tests.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12454369" name="SLING-1761-tests.patch" size="5692" author="jsedding" created="Sat, 11 Sep 2010 08:56:44 +0000"/>
                            <attachment id="12454368" name="SLING-1761.patch" size="6288" author="jsedding" created="Sat, 11 Sep 2010 08:51:49 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176597</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 44 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10ubz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>213048</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1760] Sling Explorer &quot;add property&quot; doesn&apos;t respect encoding</title>
                <link>https://issues.apache.org/jira/browse/SLING-1760</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Setting a string property with non-ascii characters garbles the value (e.g. str&#252;ng) due to missing UTF-8 encoding.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12473897">SLING-1760</key>
            <summary>Sling Explorer &quot;add property&quot; doesn&apos;t respect encoding</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mykee">Mike M&#252;ller</assignee>
                                    <reporter username="jsedding">Julian Sedding</reporter>
                        <labels>
                    </labels>
                <created>Sat, 11 Sep 2010 08:23:07 +0000</created>
                <updated>Mon, 1 Nov 2010 12:47:57 +0000</updated>
                            <resolved>Sun, 19 Sep 2010 13:26:58 +0000</resolved>
                                                    <fixVersion>Sling Explorer 1.0.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12908291" author="jsedding" created="Sat, 11 Sep 2010 08:24:42 +0000"  >&lt;p&gt;Attached patch fixes the issue.&lt;/p&gt;</comment>
                            <comment id="12912224" author="mykee" created="Sun, 19 Sep 2010 13:26:58 +0000"  >&lt;p&gt;committed in r998655&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12454364" name="explorer.js.patch" size="681" author="jsedding" created="Sat, 11 Sep 2010 08:24:42 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176596</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 7 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i11293:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>214331</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1758] [explorer] refer to &quot;child node&quot; instead of &quot;sub-node&quot;</title>
                <link>https://issues.apache.org/jira/browse/SLING-1758</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description></description>
                <environment></environment>
        <key id="12473857">SLING-1758</key>
            <summary>[explorer] refer to &quot;child node&quot; instead of &quot;sub-node&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mykee">Mike M&#252;ller</assignee>
                                    <reporter username="justinedelson">Justin Edelson</reporter>
                        <labels>
                    </labels>
                <created>Fri, 10 Sep 2010 20:38:43 +0000</created>
                <updated>Mon, 1 Nov 2010 12:48:33 +0000</updated>
                            <resolved>Sun, 19 Sep 2010 13:26:25 +0000</resolved>
                                                    <fixVersion>Sling Explorer 1.0.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12912222" author="mykee" created="Sun, 19 Sep 2010 13:26:25 +0000"  >&lt;p&gt;committed in r998655&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176594</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 7 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1128n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>214329</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1757] [explorer] can&apos;t select root node</title>
                <link>https://issues.apache.org/jira/browse/SLING-1757</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;this makes it impossible (AFAICT) to create a new child directly under the root node&lt;/p&gt;</description>
                <environment></environment>
        <key id="12473856">SLING-1757</key>
            <summary>[explorer] can&apos;t select root node</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mykee">Mike M&#252;ller</assignee>
                                    <reporter username="justinedelson">Justin Edelson</reporter>
                        <labels>
                    </labels>
                <created>Fri, 10 Sep 2010 20:37:48 +0000</created>
                <updated>Mon, 1 Nov 2010 12:47:25 +0000</updated>
                            <resolved>Sun, 19 Sep 2010 13:26:15 +0000</resolved>
                                                    <fixVersion>Sling Explorer 1.0.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12912221" author="mykee" created="Sun, 19 Sep 2010 13:26:15 +0000"  >&lt;p&gt;committed in r998655&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176593</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 7 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10jx3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>211361</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1755] [explorer] doesn&apos;t show correct jcr:primaryType value</title>
                <link>https://issues.apache.org/jira/browse/SLING-1755</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;always shows sling:Folder for me&lt;/p&gt;</description>
                <environment></environment>
        <key id="12473846">SLING-1755</key>
            <summary>[explorer] doesn&apos;t show correct jcr:primaryType value</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="justinedelson">Justin Edelson</assignee>
                                    <reporter username="justinedelson">Justin Edelson</reporter>
                        <labels>
                    </labels>
                <created>Fri, 10 Sep 2010 19:40:14 +0000</created>
                <updated>Mon, 1 Nov 2010 12:48:28 +0000</updated>
                            <resolved>Fri, 10 Sep 2010 20:47:35 +0000</resolved>
                                                    <fixVersion>Sling Explorer 1.0.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12908184" author="justinedelson" created="Fri, 10 Sep 2010 20:48:15 +0000"  >&lt;p&gt;fixed in r995979&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176591</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 8 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i111jb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>214215</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1753] sling.js seems very dependent upon being the last script tag on the page</title>
                <link>https://issues.apache.org/jira/browse/SLING-1753</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;need to look at this some more, but I&apos;m pretty sure that unless sling.js is the last script tag, baseurl won&apos;t be set correctly.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12473835">SLING-1753</key>
            <summary>sling.js seems very dependent upon being the last script tag on the page</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="justinedelson">Justin Edelson</assignee>
                                    <reporter username="justinedelson">Justin Edelson</reporter>
                        <labels>
                    </labels>
                <created>Fri, 10 Sep 2010 17:46:02 +0000</created>
                <updated>Wed, 20 Sep 2017 12:03:14 +0000</updated>
                            <resolved>Fri, 10 Sep 2010 20:29:58 +0000</resolved>
                                                    <fixVersion>Servlets Post 2.1.0</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12908178" author="justinedelson" created="Fri, 10 Sep 2010 20:30:37 +0000"  >&lt;p&gt;fixed in r995968&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176589</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 8 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1097r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>209627</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1752] post-login redirect doesn&apos;t include context path</title>
                <link>https://issues.apache.org/jira/browse/SLING-1752</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;to reproduce:&lt;/p&gt;

&lt;p&gt;in launchpad/builder run&lt;/p&gt;

&lt;p&gt;mvn -Djetty.sling.context=/sling clean jetty:run-war&lt;/p&gt;

&lt;p&gt;then go to &lt;a href=&quot;http://localhost:8888/sling/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8888/sling/&lt;/a&gt;, try to log in, and then see that you&apos;re redirected to &quot;/&quot;, not &quot;/sling/&quot;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12473834">SLING-1752</key>
            <summary>post-login redirect doesn&apos;t include context path</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="justinedelson">Justin Edelson</reporter>
                        <labels>
                    </labels>
                <created>Fri, 10 Sep 2010 17:42:27 +0000</created>
                <updated>Mon, 20 Dec 2010 14:50:51 +0000</updated>
                            <resolved>Mon, 13 Sep 2010 10:13:18 +0000</resolved>
                                    <version>OpenID Authentication 1.0.0</version>
                    <version>Form Based Authentication 1.0.0</version>
                    <version>Auth Selector 1.0.0</version>
                    <version>Auth Core 1.0.2</version>
                                    <fixVersion>OpenID Authentication 1.0.2</fixVersion>
                    <fixVersion>Form Based Authentication 1.0.2</fixVersion>
                    <fixVersion>Auth Selector 1.0.2</fixVersion>
                    <fixVersion>Auth Core 1.0.4</fixVersion>
                                    <component>Authentication</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12908319" author="fmeschbe" created="Sat, 11 Sep 2010 14:45:55 +0000"  >&lt;p&gt;Quickly checked the form authentication handler: This redirects to the contents of the &quot;resource&quot; request attribute or parameter, which defaults to &quot;/&quot; which should really default to the context root (request.getContextPath()) and only be &quot;/&quot; if the context path is empty.&lt;/p&gt;

&lt;p&gt;Going to fix this at least for the form authentication handler and verifying the OpenID authentication handler at the same time.&lt;/p&gt;</comment>
                            <comment id="12908323" author="justinedelson" created="Sat, 11 Sep 2010 14:56:16 +0000"  >&lt;p&gt;makes sense.&lt;/p&gt;</comment>
                            <comment id="12908691" author="fmeschbe" created="Mon, 13 Sep 2010 10:13:18 +0000"  >&lt;p&gt;Issue is tha tthe redirect based on the resource request parameter and/or attribute has been implemented slightly differently in all kinds of locations in the auth modules.&lt;/p&gt;

&lt;p&gt;Introducing a new AbstractAuthenticationHandler.setLoginResourceAttribute method which allows to set the &quot;resource&quot; request attribute as follows:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;if the attribute is already set as a non-empty string, do nothing&lt;/li&gt;
	&lt;li&gt;If the &quot;resource&quot; request parameter is set as a non-empty string, use that&lt;/li&gt;
	&lt;li&gt;If a non-empty, non-null default value is given, use that&lt;/li&gt;
	&lt;li&gt;Otherwise fall back to the servlet context root path (or &quot;/&quot; if context root path is the empty string for the root context)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Implemented in authentication Core, Form, OpenID, and Selector Form in Rev. 996477&lt;/p&gt;</comment>
                            <comment id="12908808" author="fmeschbe" created="Mon, 13 Sep 2010 14:41:08 +0000"  >&lt;p&gt;Also have to increase the export version of the spi package because I added a public static method to the AbstractAuthenticationHandler class.&lt;/p&gt;

&lt;p&gt;Done in Rev. 996558 exporting spi now as version 1.0.1&lt;/p&gt;

&lt;p&gt;(Incrementing minor version because it provides new API to use, so clients can base their imports. But implementations of the SPI are not broken with this change.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176588</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 8 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10s27:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>212680</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1751] explorer doesn&apos;t work when sling is used in a non-root context</title>
                <link>https://issues.apache.org/jira/browse/SLING-1751</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;see screenshot.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12473833">SLING-1751</key>
            <summary>explorer doesn&apos;t work when sling is used in a non-root context</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="justinedelson">Justin Edelson</assignee>
                                    <reporter username="justinedelson">Justin Edelson</reporter>
                        <labels>
                    </labels>
                <created>Fri, 10 Sep 2010 17:40:33 +0000</created>
                <updated>Mon, 7 Mar 2011 10:37:56 +0000</updated>
                            <resolved>Fri, 10 Sep 2010 20:28:40 +0000</resolved>
                                                    <fixVersion>Sling Explorer 1.0.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12908176" author="justinedelson" created="Fri, 10 Sep 2010 20:29:18 +0000"  >&lt;p&gt;fixed in r995969&lt;/p&gt;</comment>
                            <comment id="12908183" author="justinedelson" created="Fri, 10 Sep 2010 20:47:08 +0000"  >&lt;p&gt;missed one spot; fixed in rr995978&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12500611">SLING-2019</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12454315" name="ASF.LICENSE.NOT.GRANTED--screenshot0.png" size="267092" author="justinedelson" created="Fri, 10 Sep 2010 17:40:37 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176587</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 8 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i111jz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>214218</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1750] All links/hrefs on initial content&apos;s index.html should be relative</title>
                <link>https://issues.apache.org/jira/browse/SLING-1750</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;for example... if you deploy the sling war to a servlet container at a subcontext (i.e. /sling), the index.html page doesn&apos;t have the correct URL for sling.js&lt;/p&gt;</description>
                <environment></environment>
        <key id="12473828">SLING-1750</key>
            <summary>All links/hrefs on initial content&apos;s index.html should be relative</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="justinedelson">Justin Edelson</assignee>
                                    <reporter username="justinedelson">Justin Edelson</reporter>
                        <labels>
                    </labels>
                <created>Fri, 10 Sep 2010 17:17:37 +0000</created>
                <updated>Tue, 2 Sep 2014 14:11:23 +0000</updated>
                            <resolved>Fri, 10 Sep 2010 17:37:41 +0000</resolved>
                                                    <fixVersion>Launchpad Content 2.0.6</fixVersion>
                                    <component>Launchpad</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12908111" author="justinedelson" created="Fri, 10 Sep 2010 17:38:40 +0000"  >&lt;p&gt;fixed in r995888&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12473798">SLING-1749</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176586</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 8 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1091b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>209598</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1749] sling.js prevents baseurl being detected correctly when the webapp isn&apos;t on the / docroot</title>
                <link>https://issues.apache.org/jira/browse/SLING-1749</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Running the svn checkout from this morning the sling.js file located in &lt;br/&gt;
sling/bundles/servlets/post has a bug on line 416. &lt;/p&gt;

&lt;p&gt;The &quot;/&quot; being appended breaks the substring and the baseurl is always &quot;&quot;.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12473798">SLING-1749</key>
            <summary>sling.js prevents baseurl being detected correctly when the webapp isn&apos;t on the / docroot</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="justinedelson">Justin Edelson</assignee>
                                    <reporter username="bugg_tb">Tom Barber</reporter>
                        <labels>
                    </labels>
                <created>Fri, 10 Sep 2010 14:20:59 +0000</created>
                <updated>Wed, 20 Sep 2017 12:03:17 +0000</updated>
                            <resolved>Tue, 14 Sep 2010 21:43:17 +0000</resolved>
                                                    <fixVersion>Servlets Post 2.1.0</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12908042" author="bugg_tb" created="Fri, 10 Sep 2010 14:44:35 +0000"  >&lt;p&gt;Er yeah, forgot about the solution, well, &lt;/p&gt;

&lt;p&gt;Change the line to: Sling.baseurl = script.substring(0,script.length - ((&quot;system/&quot;+Sling.NAME_OF_THIS_FILE).length)); &lt;/p&gt;

&lt;p&gt;I think this may be left over from ml stuff I read where you moved its location, either way of course this is now hardcoded to the system folder, but it works for me &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;

&lt;p&gt;Tom&lt;/p&gt;</comment>
                            <comment id="12909466" author="justinedelson" created="Tue, 14 Sep 2010 21:43:17 +0000"  >&lt;p&gt;this was fixed in r995889&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12473828">SLING-1750</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176585</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 8 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i109fb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>209661</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1744] Form based authentication fails if the user id contains an &apos;@&apos; character</title>
                <link>https://issues.apache.org/jira/browse/SLING-1744</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If the id of a user contains an &apos;@&apos; character, which is used by the form based authentication handler to separate the fields in the cookie value, the handler does not work because the cookie value &amp;#8212; e.g. ccf4b91c4eebc3cbd23c24918cc050e28fdd7799@31284110502326@jdoe@geometrixx.com &amp;#8212; is now split into four parts instead of three.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12473774">SLING-1744</key>
            <summary>Form based authentication fails if the user id contains an &apos;@&apos; character</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Fri, 10 Sep 2010 07:24:24 +0000</created>
                <updated>Mon, 20 Dec 2010 14:54:06 +0000</updated>
                            <resolved>Fri, 10 Sep 2010 08:04:32 +0000</resolved>
                                    <version>Form Based Authentication 1.0.0</version>
                                    <fixVersion>Form Based Authentication 1.0.2</fixVersion>
                                    <component>Authentication</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12907929" author="fmeschbe" created="Fri, 10 Sep 2010 08:04:32 +0000"  >&lt;p&gt;Fixed in Rev. 995694: Split the authentication data into exactly three fields leaving any excess field separators in the user name field thus supporting user names with @ signs such as email addresses.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176580</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 8 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10s9z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>212715</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1743] ${basedir}/sling should be the default value for sling.home in launchpad:run and launchpad:start</title>
                <link>https://issues.apache.org/jira/browse/SLING-1743</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description></description>
                <environment></environment>
        <key id="12473710">SLING-1743</key>
            <summary>${basedir}/sling should be the default value for sling.home in launchpad:run and launchpad:start</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="justinedelson">Justin Edelson</assignee>
                                    <reporter username="justinedelson">Justin Edelson</reporter>
                        <labels>
                    </labels>
                <created>Thu, 9 Sep 2010 18:53:15 +0000</created>
                <updated>Mon, 20 Dec 2010 15:32:02 +0000</updated>
                            <resolved>Thu, 9 Sep 2010 18:57:00 +0000</resolved>
                                                    <fixVersion>Maven Launchpad Plugin 2.0.8</fixVersion>
                                    <component>Maven Plugins and Archetypes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12907730" author="justinedelson" created="Thu, 9 Sep 2010 18:57:39 +0000"  >&lt;p&gt;fixed in r995541&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12413528">SLING-845</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176579</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 8 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ee8n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>292236</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1742] Built-in HTTP Authentication Handler should use setStatus instead of sendError</title>
                <link>https://issues.apache.org/jira/browse/SLING-1742</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The requestCredentials method of the built-in HTTP may be called from within an error handler. As such it should not call the HttpServletResponse.sendError method because such a call will be ignored (to prevent error handler loops) and thus the 401 status response will not be sent back.&lt;/p&gt;

&lt;p&gt;Instead the requestCredentials method should just set the response status before flushing the response.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12473704">SLING-1742</key>
            <summary>Built-in HTTP Authentication Handler should use setStatus instead of sendError</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Thu, 9 Sep 2010 17:36:49 +0000</created>
                <updated>Mon, 20 Dec 2010 14:50:50 +0000</updated>
                            <resolved>Thu, 9 Sep 2010 17:46:55 +0000</resolved>
                                    <version>Auth Core 1.0.2</version>
                                    <fixVersion>Auth Core 1.0.4</fixVersion>
                                    <component>Authentication</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12907692" author="fmeschbe" created="Thu, 9 Sep 2010 17:46:55 +0000"  >&lt;p&gt;Fixed in Rev. 995511.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176578</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 8 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10s4f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>212690</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1741] An exception should be thrown when trying to add a subnode to an nt:file-node</title>
                <link>https://issues.apache.org/jira/browse/SLING-1741</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The nt:file nodetype (without any other mixin node types assigned to the node) only supports one single child&lt;br/&gt;
node whose name is &quot;jcr:content&quot;. Hence when you try to add a subnode to an nt:file node you should be getting an error/exception... &lt;br/&gt;
This is not the case though&lt;/p&gt;</description>
                <environment></environment>
        <key id="12473681">SLING-1741</key>
            <summary>An exception should be thrown when trying to add a subnode to an nt:file-node</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="justinedelson">Justin Edelson</assignee>
                                    <reporter username="clemensdev">Clemens Wyss</reporter>
                        <labels>
                    </labels>
                <created>Thu, 9 Sep 2010 13:28:55 +0000</created>
                <updated>Wed, 20 Sep 2017 12:04:11 +0000</updated>
                            <resolved>Wed, 15 Jun 2011 18:21:11 +0000</resolved>
                                                    <fixVersion>Servlets Post 2.1.2</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12907865" author="justinedelson" created="Fri, 10 Sep 2010 02:08:58 +0000"  >&lt;p&gt;proposed patch here: &lt;a href=&quot;http://codereview.appspot.com/2144046&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://codereview.appspot.com/2144046&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13049935" author="justinedelson" created="Wed, 15 Jun 2011 18:21:12 +0000"  >&lt;p&gt;fixed in r1136139&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>71167</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 21 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1028f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>208496</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1736] Potential Deadlock while registering/unregistering ResourceProvider</title>
                <link>https://issues.apache.org/jira/browse/SLING-1736</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Upon registration and unregistration of new resource providers EventAdmin events are posted to inform interested parties of added and removed resource providers. Unfortunately these events are posted inside a synchronized(this) block, which may lead to deadlock situations.&lt;/p&gt;

&lt;p&gt;The solution (and right thing to do) is to post the events with the EventAdmin service outside of a synchronized block.&lt;/p&gt;

&lt;p&gt;I consider this a critical issue which blocks the next release of this module.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12473562">SLING-1736</key>
            <summary>Potential Deadlock while registering/unregistering ResourceProvider</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Wed, 8 Sep 2010 12:21:54 +0000</created>
                <updated>Fri, 28 Jan 2011 09:05:37 +0000</updated>
                            <resolved>Wed, 8 Sep 2010 12:35:01 +0000</resolved>
                                    <version>JCR Resource 2.0.8</version>
                                    <fixVersion>JCR Resource 2.0.8</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12907190" author="cziegeler" created="Wed, 8 Sep 2010 12:35:01 +0000"  >&lt;p&gt;I changed the sync blocks in revision 995023 - only add and remove operations are now inside the sync, everything else is outside&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176573</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 9 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10jg7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>211285</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1735] Properly support service.ranking, service.id and filter.order for filter ordering</title>
                <link>https://issues.apache.org/jira/browse/SLING-1735</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;As of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-1213&quot; title=&quot;Filters to support servlet-API-level scope configuration&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-1213&quot;&gt;&lt;del&gt;SLING-1213&lt;/del&gt;&lt;/a&gt; the service.ranking registration property is primarily used for ordering services and filter.order is only used if present and service.ranking is not present. This change has not been fully and properly implemented, though:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;filter.order was defined such that a lower value gives higher precedence, whereas service.ranking is defined to give higher values higher precedence&lt;/li&gt;
	&lt;li&gt;The default value for filter.order was Integer.MAX_VALUE (lowest precedence) while the default value for service.ranking is zero (medium precedence)&lt;/li&gt;
	&lt;li&gt;The OSGi spec states to fall back to comparing the service.id property if the service.ranking property is equal for two services to order. This is not considered at all yet.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;To fix this, the filter ordering must be extended such that:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;the value of the filter.order property is negated (if stated and service.ranking is missing)&lt;/li&gt;
	&lt;li&gt;the service.id property is used as a fallback if the other ordering properties do not resolve ordering amongst services&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The fact that filter.order defaulted to Integer.MAX_VALUE is ignored.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12473527">SLING-1735</key>
            <summary>Properly support service.ranking, service.id and filter.order for filter ordering</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Wed, 8 Sep 2010 05:14:32 +0000</created>
                <updated>Fri, 28 Jan 2011 09:07:20 +0000</updated>
                            <resolved>Tue, 18 Jan 2011 12:08:53 +0000</resolved>
                                    <version>Engine 2.2.0</version>
                                    <fixVersion>Engine 2.2.0</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12983165" author="cziegeler" created="Tue, 18 Jan 2011 12:08:53 +0000"  >&lt;p&gt;Implemented in revision: 1060344&lt;/p&gt;

&lt;p&gt;I&apos;ve relaxed getting the value from the filter.order property - it does not need to have to be an integer - if set it is negated know&lt;br/&gt;
The comparison of the service ids was already in place&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176572</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 42 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10ucv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>213052</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1733] BundleResourceProvider fails to find resources when multiple bundles have the same Sling-Bundle-Resources path</title>
                <link>https://issues.apache.org/jira/browse/SLING-1733</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If multiple bundles are providing Sling-Bundle-Resources with the same path, the resources from the second bundle are not accessible. &lt;br/&gt;
.&lt;br/&gt;
For example:&lt;/p&gt;

&lt;p&gt;Bundle 1 contains these scripts:&lt;br/&gt;
/libs/sling/servlet/default/script1.html.esp&lt;br/&gt;
/libs/sling/servlet/default/script2.html.esp&lt;/p&gt;

&lt;p&gt;And the resource is provided as:&lt;br/&gt;
&amp;lt;Sling-Bundle-Resources&amp;gt;&lt;br/&gt;
    /libs/sling/servlet/default&lt;br/&gt;
&amp;lt;/Sling-Bundle-Resources&amp;gt;&lt;/p&gt;

&lt;p&gt;Bundle 2 contains these scripts:&lt;br/&gt;
/libs/sling/servlet/default/script2.html.esp&lt;br/&gt;
/libs/sling/servlet/default/script3.html.esp&lt;/p&gt;

&lt;p&gt;And the resource is provided as:&lt;br/&gt;
&amp;lt;Sling-Bundle-Resources&amp;gt;&lt;br/&gt;
    /libs/sling/servlet/default&lt;br/&gt;
&amp;lt;/Sling-Bundle-Resources&amp;gt;&lt;/p&gt;


&lt;p&gt;With both bundles installed, you either see the scripts from bundle1 or the scripts from bundle2 but not both. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12473405">SLING-1733</key>
            <summary>BundleResourceProvider fails to find resources when multiple bundles have the same Sling-Bundle-Resources path</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="enorman">Eric Norman</assignee>
                                    <reporter username="enorman">Eric Norman</reporter>
                        <labels>
                    </labels>
                <created>Mon, 6 Sep 2010 22:10:24 +0000</created>
                <updated>Fri, 20 Sep 2019 11:34:39 +0000</updated>
                            <resolved>Thu, 9 Sep 2010 05:34:54 +0000</resolved>
                                    <version>Bundle Resource Provider 2.0.4</version>
                                    <fixVersion>Bundle Resource Provider 2.0.6</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12906603" author="enorman" created="Mon, 6 Sep 2010 22:17:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-1733&quot; title=&quot;BundleResourceProvider fails to find resources when multiple bundles have the same Sling-Bundle-Resources path&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-1733&quot;&gt;&lt;del&gt;SLING-1733&lt;/del&gt;&lt;/a&gt;.patch is a proposed patch for review.&lt;/p&gt;</comment>
                            <comment id="12906608" author="enorman" created="Mon, 6 Sep 2010 22:23:38 +0000"  >&lt;p&gt;I spent some time debugging this and the problem was happening because the BundleResourceProvider.listChildren(parent) method was trying to get the list of children directly from the parent resource when the parent was a BundleResource.  However, in this case, the parent resource was loaded from a different bundle than the bundle the provider was operating on.&lt;/p&gt;

&lt;p&gt;I added a check to make sure the parent resource is in the same bundle as what the provider is working with before using the parentResource.listChildren() shortcut.&lt;/p&gt;

&lt;p&gt;The attached patch fixes it for me. &lt;/p&gt;</comment>
                            <comment id="12906708" author="fmeschbe" created="Tue, 7 Sep 2010 08:29:46 +0000"  >&lt;p&gt;Patch looks good for me with one comment for simplification: Instead of getting the bundleId to compare, you can simply compare the bundle cache objects to only use the parent bundle resource iff they are managed by the same BundleCache instance.&lt;/p&gt;

&lt;p&gt;      	if (((BundleResource)parent).getBundle() == this.bundle) &lt;/p&gt;
{
               return ((BundleResource) parent).listChildren();
       	}</comment>
                            <comment id="12906930" author="justinedelson" created="Tue, 7 Sep 2010 18:51:17 +0000"  >&lt;p&gt;this needs a test added to BundleContentTest. Should just be a matter of adding bundle resources to test-services-war&lt;/p&gt;</comment>
                            <comment id="12907091" author="enorman" created="Wed, 8 Sep 2010 05:11:46 +0000"  >&lt;p&gt;fixed in r993606.&lt;/p&gt;</comment>
                            <comment id="12907525" author="enorman" created="Thu, 9 Sep 2010 05:33:15 +0000"  >&lt;p&gt;re-opening to fix a ClassCastException&lt;/p&gt;</comment>
                            <comment id="12907526" author="enorman" created="Thu, 9 Sep 2010 05:34:54 +0000"  >&lt;p&gt;fixed in r995316&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12453971" name="SLING-1733.patch" size="1251" author="edn" created="Mon, 6 Sep 2010 22:17:18 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176570</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 9 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10uef:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>213059</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1732] Scripted java servlets contain incorrect debug information</title>
                <link>https://issues.apache.org/jira/browse/SLING-1732</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;it&apos;s currently impossible to debug scripted java servlets because of incompatible source file/java class names.&lt;/p&gt;

&lt;p&gt;an example: &lt;/p&gt;

&lt;p&gt;an in-content java source file &quot;/apps/foo/img.GET.java&quot; declares the java class &quot;apps.foo.img_GET&quot;.&lt;br/&gt;
the &apos;source file&apos; debug attribute of the generated .class file has the value &quot;img_GET.java&quot; instead &lt;br/&gt;
of &quot;img.GET.java&quot;.&lt;/p&gt;

&lt;p&gt;as a result, the source file is not found/displayed when a breakpoint is hit.  &lt;/p&gt;</description>
                <environment></environment>
        <key id="12473389">SLING-1732</key>
            <summary>Scripted java servlets contain incorrect debug information</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="justinedelson">Justin Edelson</assignee>
                                    <reporter username="stefan@jira">Stefan Guggisberg</reporter>
                        <labels>
                    </labels>
                <created>Mon, 6 Sep 2010 15:26:02 +0000</created>
                <updated>Fri, 30 Nov 2012 17:57:44 +0000</updated>
                            <resolved>Tue, 23 Oct 2012 10:02:18 +0000</resolved>
                                    <version>Scripting Java 1.0.0</version>
                                    <fixVersion>Scripting Java 2.0.10</fixVersion>
                    <fixVersion>Commons Compiler 2.1.0</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13482242" author="justinedelson" created="Tue, 23 Oct 2012 10:02:08 +0000"  >&lt;p&gt;fixed in r1401229&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36019</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 2 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i031pb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>15709</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1731] Sling Explorer: cannot edit nodes using Chrome</title>
                <link>https://issues.apache.org/jira/browse/SLING-1731</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Tried the explorer by adding the contrib/explorers/jquery bundle to a fresh launchpad/builder standalone Sling instance.&lt;/p&gt;

&lt;p&gt;On Firefox &lt;a href=&quot;http://localhost:8080/sling-test/sling.explorer.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/sling-test/sling.explorer.html&lt;/a&gt; correcly displays the &quot;add new sub-node&quot; and related editing fields, but using Chrome 5.0.375.127 on macosx those fields are not shown. Screenshot follows.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12473369">SLING-1731</key>
            <summary>Sling Explorer: cannot edit nodes using Chrome</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Mon, 6 Sep 2010 09:02:43 +0000</created>
                <updated>Mon, 6 Sep 2010 09:10:40 +0000</updated>
                            <resolved>Mon, 6 Sep 2010 09:09:47 +0000</resolved>
                                                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12906462" author="bdelacretaz" created="Mon, 6 Sep 2010 09:04:04 +0000"  >&lt;p&gt;Screenshot with Chrome&lt;/p&gt;</comment>
                            <comment id="12906463" author="bdelacretaz" created="Mon, 6 Sep 2010 09:06:55 +0000"  >&lt;p&gt;Safari 5.0.1 looks good as well&lt;/p&gt;</comment>
                            <comment id="12906464" author="bdelacretaz" created="Mon, 6 Sep 2010 09:09:47 +0000"  >&lt;p&gt;Forget it...after restarting Chrome the explorer works fine, I probably had some stale state in the browser.&lt;/p&gt;

&lt;p&gt;Cannot reproduce now.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12453930" name="SLING-1731-chrome.jpg" size="123067" author="bdelacretaz" created="Mon, 6 Sep 2010 09:04:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176569</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 9 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ee9b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>292239</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1728] ServiceCache is prone to deadlocks</title>
                <link>https://issues.apache.org/jira/browse/SLING-1728</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The ServiceCache introduce with &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-1478&quot; title=&quot;Improve SlingScriptHelper service handling&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-1478&quot;&gt;&lt;del&gt;SLING-1478&lt;/del&gt;&lt;/a&gt; is prone to deadlocks with the Framework.&lt;/p&gt;

&lt;p&gt;The serviceChanged method is called from the framework and tries to synchronize on the cache. The getService method on the other hand synchronizes on the cache and while holding the lock calls into the framework.&lt;/p&gt;

&lt;p&gt;The fix is to not hold a lock while calling into the framework.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12473256">SLING-1728</key>
            <summary>ServiceCache is prone to deadlocks</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Fri, 3 Sep 2010 17:05:43 +0000</created>
                <updated>Tue, 2 Nov 2010 13:21:48 +0000</updated>
                            <resolved>Mon, 6 Sep 2010 06:14:42 +0000</resolved>
                                    <version>Scripting Core 2.0.14</version>
                                    <fixVersion>Scripting Core 2.0.14</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12906078" author="fmeschbe" created="Fri, 3 Sep 2010 20:43:48 +0000"  >&lt;p&gt;Attaching two patch variants:&lt;/p&gt;

&lt;p&gt;v1 works along the initial idea to not get at the service registry if not absolutely required.&lt;br/&gt;
v2 changes this assumption and goes to the service registry eagerly. In the (probably rare) case of more than one thread fetching the same service at the same time, the extra services are returned again.&lt;/p&gt;

&lt;p&gt;I like the second patch more, because it is simpler and easier to understand while the first version goes a long way with synchronization and notification. Also the gain (reducing load on the service registry) is IMHO not worth the pain (more complex code).&lt;/p&gt;

&lt;p&gt;Opinions ?&lt;/p&gt;</comment>
                            <comment id="12906333" author="cziegeler" created="Sun, 5 Sep 2010 10:32:42 +0000"  >&lt;p&gt;Yes I think version 2 is the better option&lt;/p&gt;</comment>
                            <comment id="12906435" author="fmeschbe" created="Mon, 6 Sep 2010 06:14:42 +0000"  >&lt;p&gt;Applied the second version of the patch in Rev. 992946.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12453825" name="SLING-1728-v1.patch" size="4662" author="fmeschbe" created="Fri, 3 Sep 2010 20:43:47 +0000"/>
                            <attachment id="12453826" name="SLING-1728-v2.patch" size="3271" author="fmeschbe" created="Fri, 3 Sep 2010 20:43:48 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176566</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 9 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10k9z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>211419</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1727] Access Denied Exceptions fill up the logs with tracebacks that give no additional information</title>
                <link>https://issues.apache.org/jira/browse/SLING-1727</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;All errors in AbstractSlingPostOperation are logged with full tracebacks, however AccessDeniedExceptions all happen on the Save operation and so the traceback just fills the log up without providing any extra information &lt;/p&gt;

&lt;p&gt;The traceback should happen at debug level, with a one line message at info level.&lt;/p&gt;

&lt;p&gt;currently the traceback is&lt;/p&gt;

&lt;p&gt;03.09.2010 11:02:27.298 &lt;b&gt;ERROR&lt;/b&gt; [0:0:0:0:0:0:0:1%0 &lt;span class=&quot;error&quot;&gt;&amp;#91;1283508147295&amp;#93;&lt;/span&gt; POST /test/authztest/node1283508146/childnode.html HTTP/1.1] org.apache.sling.servlets.post.impl.operations.ModifyOperation Exception during response processing. javax.jcr.AccessDeniedException: /test/authztest/node1283508146/childnode/user2-1283508146: not allowed to add or modify item&lt;br/&gt;
	at org.apache.jackrabbit.core.ItemImpl.validateTransientItems(ItemImpl.java:411)&lt;br/&gt;
	at org.apache.jackrabbit.core.ItemImpl.save(ItemImpl.java:1097)&lt;br/&gt;
	at org.apache.jackrabbit.core.SessionImpl.save(SessionImpl.java:920)&lt;br/&gt;
	at sun.reflect.GeneratedMethodAccessor17.invoke(Unknown Source)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at org.apache.sling.jcr.base.SessionProxyHandler$SessionProxyInvocationHandler.invoke(SessionProxyHandler.java:109)&lt;br/&gt;
	at $Proxy11.save(Unknown Source)&lt;br/&gt;
	at org.apache.sling.servlets.post.AbstractSlingPostOperation.run(AbstractSlingPostOperation.java:125)&lt;br/&gt;
	at org.apache.sling.servlets.post.impl.SlingPostServlet.doPost(SlingPostServlet.java:242)&lt;br/&gt;
	at org.apache.sling.api.servlets.SlingAllMethodsServlet.mayService(SlingAllMethodsServlet.java:148)&lt;br/&gt;
	at org.apache.sling.api.servlets.SlingSafeMethodsServlet.service(SlingSafeMethodsServlet.java:344)&lt;br/&gt;
	at org.apache.sling.api.servlets.SlingSafeMethodsServlet.service(SlingSafeMethodsServlet.java:375)&lt;br/&gt;
	at org.apache.sling.engine.impl.request.RequestData.service(RequestData.java:523)&lt;br/&gt;
	at org.apache.sling.engine.impl.SlingMainServlet.processRequest(SlingMainServlet.java:427)&lt;br/&gt;
	at org.apache.sling.engine.impl.filter.RequestSlingFilterChain.render(RequestSlingFilterChain.java:48)&lt;br/&gt;
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:64)&lt;br/&gt;
	at org.apache.sling.engine.impl.debug.RequestProgressTrackerLogFilter.doFilter(RequestProgressTrackerLogFilter.java:59)&lt;br/&gt;
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:60)&lt;br/&gt;
	at org.sakaiproject.nakamura.batch.RequestEventsFilter.doFilter(RequestEventsFilter.java:96)&lt;br/&gt;
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:60)&lt;br/&gt;
	at org.sakaiproject.nakamura.files.pool.ContentPoolFilter.doFilter(ContentPoolFilter.java:78)&lt;br/&gt;
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:60)&lt;br/&gt;
	at org.sakaiproject.nakamura.privacy.RestPrivacyFilter.doFilter(RestPrivacyFilter.java:81)&lt;br/&gt;
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:60)&lt;br/&gt;
	at org.sakaiproject.nakamura.persistence.TransactionManagerFilter.doFilter(TransactionManagerFilter.java:95)&lt;br/&gt;
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:60)&lt;br/&gt;
	at org.sakaiproject.nakamura.cluster.ClusterTrackingFilter.doFilter(ClusterTrackingFilter.java:87)&lt;br/&gt;
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:60)&lt;br/&gt;
	at org.apache.sling.engine.impl.SlingMainServlet.service(SlingMainServlet.java:313)&lt;br/&gt;
	at org.apache.sling.engine.impl.SlingMainServlet.service(SlingMainServlet.java:207)&lt;br/&gt;
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:502)&lt;br/&gt;
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:389)&lt;br/&gt;
	at org.ops4j.pax.web.service.internal.HttpServiceServletHandler.handle(HttpServiceServletHandler.java:64)&lt;br/&gt;
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)&lt;br/&gt;
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)&lt;br/&gt;
	at org.ops4j.pax.web.service.internal.HttpServiceContext.handle(HttpServiceContext.java:111)&lt;br/&gt;
	at org.ops4j.pax.web.service.internal.JettyServerHandlerCollection.handle(JettyServerHandlerCollection.java:64)&lt;br/&gt;
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)&lt;br/&gt;
	at org.mortbay.jetty.Server.handle(Server.java:324)&lt;br/&gt;
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:535)&lt;br/&gt;
	at org.mortbay.jetty.HttpConnection$RequestHandler.content(HttpConnection.java:880)&lt;br/&gt;
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:747)&lt;br/&gt;
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:218)&lt;br/&gt;
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)&lt;br/&gt;
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)&lt;br/&gt;
	at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:520)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12473231">SLING-1727</key>
            <summary>Access Denied Exceptions fill up the logs with tracebacks that give no additional information</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ianeboston">Ian Boston</assignee>
                                    <reporter username="ianeboston">Ian Boston</reporter>
                        <labels>
                    </labels>
                <created>Fri, 3 Sep 2010 10:46:19 +0000</created>
                <updated>Wed, 20 Sep 2017 12:03:16 +0000</updated>
                            <resolved>Fri, 3 Sep 2010 10:54:07 +0000</resolved>
                                    <version>Servlets Post 2.0.4</version>
                                    <fixVersion>Servlets Post 2.1.0</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                    <workratio workratioPercent="100"/>
                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="600">10m</timeoriginalestimate>
                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="600">10m</timespent>
                                <comments>
                            <comment id="12905849" author="ianeboston" created="Fri, 3 Sep 2010 10:54:07 +0000"  >&lt;p&gt;Fixed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176565</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 9 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i103gv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>208696</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1726] Namespace mangling is broken for path segments with a leading underscore</title>
                <link>https://issues.apache.org/jira/browse/SLING-1726</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Consider a node at&lt;/p&gt;

&lt;p&gt;        /content/_test/jcr:content&lt;/p&gt;

&lt;p&gt;With namespace mangling, this node should be accessible with the URL path&lt;/p&gt;

&lt;p&gt;        /content/_test/_jcr_content&lt;/p&gt;

&lt;p&gt;where the &quot;&lt;em&gt;jcr&lt;/em&gt;&quot; prefix is converted to the correct namespace prefix &quot;jcr:&quot; but the prefixed underscore  &quot;_&quot; of the &quot;_test&quot; node must be left unmodified.&lt;/p&gt;

&lt;p&gt;The regular expression to find and replace the namespace prefixes &amp;#8211; &quot;/&lt;em&gt;(&lt;span class=&quot;error&quot;&gt;&amp;#91;^_&amp;#93;&lt;/span&gt;+)&lt;/em&gt;&quot; &amp;#8211; is setup to match anything enclosed with &quot;/&lt;em&gt;&quot; and &quot;&lt;/em&gt;&quot;. Thus the test path would match &quot;/&lt;em&gt;test/&lt;/em&gt;&quot; and fail to convert this (of course test/ is not a valid, registered namespace prefix). But subsequently the real prefix &amp;#8211; &quot;&lt;em&gt;jcr&lt;/em&gt;&quot; &amp;#8211; is actually missed.&lt;/p&gt;

&lt;p&gt;The regular expression must be modified to not match any slash characters, thus &quot;/&lt;em&gt;(&lt;span class=&quot;error&quot;&gt;&amp;#91;^_/&amp;#93;&lt;/span&gt;+)&lt;/em&gt;&quot;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12473210">SLING-1726</key>
            <summary>Namespace mangling is broken for path segments with a leading underscore</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Fri, 3 Sep 2010 06:29:14 +0000</created>
                <updated>Fri, 28 Jan 2011 09:05:37 +0000</updated>
                            <resolved>Fri, 3 Sep 2010 06:40:04 +0000</resolved>
                                                    <fixVersion>JCR Resource 2.0.8</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12905814" author="fmeschbe" created="Fri, 3 Sep 2010 06:40:04 +0000"  >&lt;p&gt;Fixed in Rev. 992220.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176564</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 9 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10u7b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>213027</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1722] ClassDefNotFoundError if form cookie has empty string value</title>
                <link>https://issues.apache.org/jira/browse/SLING-1722</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If the form authentication cookie value is an empty string a ClassDefNotFoundError is thrown because the StringUtils.split method in this case returns ArrayUtils.EMPTY_STRING_ARRAY. Since the StringUtils class is embeded in the bundle and the ArrayUtils package is not  and is not imported either, the ArrayUtils class cannot be found.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12473123">SLING-1722</key>
            <summary>ClassDefNotFoundError if form cookie has empty string value</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Thu, 2 Sep 2010 09:54:08 +0000</created>
                <updated>Mon, 20 Dec 2010 14:54:06 +0000</updated>
                            <resolved>Thu, 2 Sep 2010 09:55:16 +0000</resolved>
                                    <version>Form Based Authentication 1.0.0</version>
                                    <fixVersion>Form Based Authentication 1.0.2</fixVersion>
                                    <component>Authentication</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12905468" author="fmeschbe" created="Thu, 2 Sep 2010 09:55:16 +0000"  >&lt;p&gt;Since the commons-lang bundle is included with the Sling Launchpad we can as well import the Commons Lang package instead of embedding the StringUtils class. This has the side effect of reducing the Form Auth bundle size by 16KB (50KB instead of 66KB).&lt;/p&gt;

&lt;p&gt;Done in Rev. 991877.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176562</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 9 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1115z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>214155</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1721] Default Cookie Domain may be empty String and prevent cookies from working in Chrome and Opera</title>
                <link>https://issues.apache.org/jira/browse/SLING-1721</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If configuration exists for the form based authentication handler, the default cookie domain may be set to the empty string thus causing the cookies to be created with an empty string domain attribute. This does not seem to be a problem for Firefox but both Chrome and Opera don&apos;t accept these cookies thus failing subsequent authentication through the Form Authentication Handler.&lt;/p&gt;

&lt;p&gt;The fix probably is to (a) make sure an empty domain is &quot;converted&quot; to a null domain and (b) to not send the form.cookiedomain cookie if the domain is not set.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12473112">SLING-1721</key>
            <summary>Default Cookie Domain may be empty String and prevent cookies from working in Chrome and Opera</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Thu, 2 Sep 2010 07:04:05 +0000</created>
                <updated>Mon, 20 Dec 2010 14:54:05 +0000</updated>
                            <resolved>Thu, 2 Sep 2010 12:15:21 +0000</resolved>
                                    <version>Form Based Authentication 1.0.0</version>
                                    <fixVersion>Form Based Authentication 1.0.2</fixVersion>
                                    <component>Authentication</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12905485" author="fmeschbe" created="Thu, 2 Sep 2010 12:15:21 +0000"  >&lt;p&gt;Fixed in Rev. 991904 by ignoring empty cookie domains (configured or provided by the cookie domain cookie)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176561</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 9 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10u9b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>213036</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1720] Classloader cache is not synced</title>
                <link>https://issues.apache.org/jira/browse/SLING-1720</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The classloader cache is not synced which can cause java.util.ConcurrentModificationExceptions:&lt;br/&gt;
        at java.util.HashMap$HashIterator.nextEntry(HashMap.java:793)&lt;br/&gt;
        at java.util.HashMap$ValueIterator.next(HashMap.java:822)&lt;br/&gt;
        at org.apache.sling.jcr.classloader.internal.DynamicRepositoryClassLoader.cleanCache(DynamicRepositoryClassLoader.java:394)&lt;br/&gt;
        at org.apache.sling.jcr.classloader.internal.DynamicRepositoryClassLoader.onEvent(DynamicRepositoryClassLoader.java:681)&lt;br/&gt;
        at org.apache.sling.jcr.classloader.internal.DynamicRepositoryClassLoader$ProxyEventListener.onEvent(DynamicRepositoryClassLoader.java:797)&lt;br/&gt;
        at org.apache.jackrabbit.core.observation.EventConsumer.consumeEvents(EventConsumer.java:246)&lt;br/&gt;
        at org.apache.jackrabbit.core.observation.ObservationDispatcher.run(ObservationDispatcher.java:161)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:619)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12473111">SLING-1720</key>
            <summary>Classloader cache is not synced</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Thu, 2 Sep 2010 06:54:46 +0000</created>
                <updated>Mon, 13 Dec 2010 09:04:19 +0000</updated>
                            <resolved>Thu, 2 Sep 2010 08:08:00 +0000</resolved>
                                    <version>JCR Classloader 3.1.2</version>
                                    <fixVersion>JCR Classloader 3.1.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12905445" author="cziegeler" created="Thu, 2 Sep 2010 08:08:00 +0000"  >&lt;p&gt;Syncing both maps in the classloader now. Changed in revision 991844&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176560</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 10 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10u8n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>213033</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-1718] text/html property rendering of multi-valued properties doesn&apos;t work</title>
                <link>https://issues.apache.org/jira/browse/SLING-1718</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;$ curl -u admin:admin -F a=b -F &quot;a@TypeHint=String[]&quot; &lt;a href=&quot;http://localhost:8888/test/node1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8888/test/node1&lt;/a&gt;&lt;br/&gt;
$ curl &lt;a href=&quot;http://localhost:8888/test/node1.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8888/test/node1.html&lt;/a&gt;&lt;br/&gt;
&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&amp;gt;&lt;br/&gt;
&amp;lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.1//EN&quot;&lt;br/&gt;
    &quot;http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd&quot;&amp;gt;&lt;br/&gt;
&amp;lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xml:lang=&quot;en&quot;&amp;gt;&lt;br/&gt;
&amp;lt;head&amp;gt;&amp;lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=utf-8&quot; /&amp;gt;&amp;lt;/head&amp;gt;&lt;br/&gt;
&amp;lt;body&amp;gt;&lt;br/&gt;
&amp;lt;h1&amp;gt;Resource dumped by HtmlRendererServlet&amp;lt;/h1&amp;gt;&lt;br/&gt;
&amp;lt;p&amp;gt;Resource path: &amp;lt;b&amp;gt;/test/node1&amp;lt;/b&amp;gt;&amp;lt;/p&amp;gt;&lt;br/&gt;
&amp;lt;p&amp;gt;Resource metadata: &amp;lt;b&amp;gt;&lt;/p&gt;
{sling.resolutionPathInfo=.html, sling.resolutionPath=/test/node1}
&lt;p&gt;&amp;lt;/b&amp;gt;&amp;lt;/p&amp;gt;&lt;br/&gt;
&amp;lt;p&amp;gt;Resource type: &amp;lt;b&amp;gt;nt:unstructured&amp;lt;/b&amp;gt;&amp;lt;/p&amp;gt;&lt;br/&gt;
&amp;lt;p&amp;gt;Resource super type: &amp;lt;b&amp;gt;-&amp;lt;/b&amp;gt;&amp;lt;/p&amp;gt;&lt;br/&gt;
&amp;lt;h2&amp;gt;Resource properties&amp;lt;/h2&amp;gt;&lt;br/&gt;
&amp;lt;p&amp;gt;&lt;br/&gt;
a: &amp;lt;b&amp;gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;b&amp;#93;&lt;/span&gt;&amp;lt;/b&amp;gt;&amp;lt;br /&amp;gt;&lt;br/&gt;
jcr:primaryType: &amp;lt;b&amp;gt;nt:unstructured&amp;lt;/b&amp;gt;&amp;lt;br /&amp;gt;&lt;br/&gt;
&amp;lt;/p&amp;gt;&lt;br/&gt;
&amp;lt;/body&amp;gt;&amp;lt;/html&amp;gt;&lt;/p&gt;

&lt;p&gt;$ curl &lt;a href=&quot;http://localhost:8888/test/node1/a.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8888/test/node1/a.html&lt;/a&gt;&lt;br/&gt;
returns a 204 No Content message&lt;/p&gt;</description>
                <environment></environment>
        <key id="12473048">SLING-1718</key>
            <summary>text/html property rendering of multi-valued properties doesn&apos;t work</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="justinedelson">Justin Edelson</reporter>
                        <labels>
                    </labels>
                <created>Wed, 1 Sep 2010 15:04:02 +0000</created>
                <updated>Fri, 8 Oct 2010 10:51:40 +0000</updated>
                            <resolved>Wed, 1 Sep 2010 15:16:52 +0000</resolved>
                                                    <fixVersion>Servlets Get 2.1.0</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12905048" author="justinedelson" created="Wed, 1 Sep 2010 15:17:32 +0000"  >&lt;p&gt;done in r991565&lt;/p&gt;</comment>
                            <comment id="12919239" author="fmeschbe" created="Fri, 8 Oct 2010 10:51:40 +0000"  >&lt;p&gt;Closes issue after bundle release.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>176559</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 4 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10u5j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>213019</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>