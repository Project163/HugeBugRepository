diff --git a/src/native/nt/procrun/src/javajni.c b/src/native/nt/procrun/src/javajni.c
index 9a771fc..7498eb4 100644
--- a/src/native/nt/procrun/src/javajni.c
+++ b/src/native/nt/procrun/src/javajni.c
@@ -629,10 +629,10 @@ apxJavaLoadMainClass(APXHANDLE hJava, LPCSTR szClassName,
         return FALSE;
     }
     nArgs = apxMultiSzToArrayW(hJava->hPool, lpArguments, &lpArgs);
+    lpJava->clWorker.jArgs = JNICALL_3(NewObjectArray, nArgs,
+                                       lpJava->clString.jClazz, NULL);
     if (nArgs) {
         DWORD i;
-        lpJava->clWorker.jArgs = JNICALL_3(NewObjectArray, nArgs,
-                                           lpJava->clString.jClazz, NULL);
         for (i = 0; i < nArgs; i++) {
             jstring arg = JNICALL_2(NewString, lpArgs[i], lstrlenW(lpArgs[i]));
             JNICALL_3(SetObjectArrayElement, lpJava->clWorker.jArgs, i, arg);
