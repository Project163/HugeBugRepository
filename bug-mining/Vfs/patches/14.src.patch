diff --git a/core/src/main/java/org/apache/commons/vfs/provider/AbstractFileProvider.java b/core/src/main/java/org/apache/commons/vfs/provider/AbstractFileProvider.java
index 283e86d7..404bca5c 100644
--- a/core/src/main/java/org/apache/commons/vfs/provider/AbstractFileProvider.java
+++ b/core/src/main/java/org/apache/commons/vfs/provider/AbstractFileProvider.java
@@ -66,7 +66,7 @@ public abstract class AbstractFileProvider
      */
     public void close()
     {
-        synchronized (fileSystems)
+        synchronized (this)
         {
             fileSystems.clear();
         }
@@ -97,7 +97,7 @@ public abstract class AbstractFileProvider
         FileSystemKey treeKey = new FileSystemKey(key, fs.getFileSystemOptions());
         ((AbstractFileSystem) fs).setCacheKey(treeKey);
 
-        synchronized (fileSystems)
+        synchronized (this)
         {
             fileSystems.put(treeKey, fs);
         }
@@ -112,7 +112,7 @@ public abstract class AbstractFileProvider
     {
         FileSystemKey treeKey = new FileSystemKey(key, fileSystemProps);
 
-        synchronized (fileSystems)
+        synchronized (this)
         {
             return (FileSystem) fileSystems.get(treeKey);
         }
@@ -126,7 +126,7 @@ public abstract class AbstractFileProvider
     public void freeUnusedResources()
     {
         Object[] item;
-        synchronized (fileSystems)
+        synchronized (this)
         {
             item = fileSystems.values().toArray();
         }
@@ -144,7 +144,7 @@ public abstract class AbstractFileProvider
     {
         AbstractFileSystem fs = (AbstractFileSystem) filesystem;
 
-        synchronized (fileSystems)
+        synchronized (this)
         {
             if (fs.getCacheKey() != null)
             {
diff --git a/core/src/main/java/org/apache/commons/vfs/provider/AbstractOriginatingFileProvider.java b/core/src/main/java/org/apache/commons/vfs/provider/AbstractOriginatingFileProvider.java
index df4ee289..3675fea9 100644
--- a/core/src/main/java/org/apache/commons/vfs/provider/AbstractOriginatingFileProvider.java
+++ b/core/src/main/java/org/apache/commons/vfs/provider/AbstractOriginatingFileProvider.java
@@ -67,11 +67,12 @@ public abstract class AbstractOriginatingFileProvider
     protected FileObject findFile(final FileName name, final FileSystemOptions fileSystemOptions)
         throws FileSystemException
     {
+		// Check in the cache for the file system
+		final FileName rootName = getContext().getFileSystemManager().resolveName(name, FileName.ROOT_PATH);
+		
 		FileSystem fs;
 		synchronized (this)
 		{
-			// Check in the cache for the file system
-			final FileName rootName = getContext().getFileSystemManager().resolveName(name, FileName.ROOT_PATH);
 			fs = findFileSystem(rootName, fileSystemOptions);
 			if (fs == null)
 			{
