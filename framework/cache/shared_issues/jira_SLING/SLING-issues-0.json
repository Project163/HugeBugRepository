<!--
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Thu Oct 23 09:37:32 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+%22SLING%22+AND+issuetype+%3D+Bug+ORDER+BY+key+DESC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="200" total="4707"/>
                <build-info>
            <version>8.20.10</version>
            <build-number>820010</build-number>
            <build-date>22-06-2022</build-date>
        </build-info>

<item>
            <title>[SLING-12969] The OpenSans fonts are corrupted by the build process</title>
                <link>https://issues.apache.org/jira/browse/SLING-12969</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Gulp can corrupt WOFF files, particularly when using Gulp v5 or higher, due to changes in how Gulp handles file encoding by default.&#160;Specifically, Gulp v5 attempts to encode binary files like WOFF fonts as UTF-8, which can lead to corruption if the binary data contains sequences that are not valid UTF-8.&#160;These invalid sequences are then converted to the Unicode replacement character (U+FFFD), which corrupts the file.&lt;br/&gt;
&#160;&lt;br/&gt;
To prevent this corruption, the&#160;&lt;tt&gt;encoding: false&lt;/tt&gt;&#160;option must be explicitly set when using&#160;&lt;tt&gt;gulp.src()&lt;/tt&gt;&#160;for binary files.&#160;This ensures Gulp treats the files as raw buffers and avoids any unintended encoding.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13632015">SLING-12969</key>
            <summary>The OpenSans fonts are corrupted by the build process</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="enorman">Eric Norman</assignee>
                                    <reporter username="enorman">Eric Norman</reporter>
                        <labels>
                    </labels>
                <created>Mon, 20 Oct 2025 15:26:20 +0000</created>
                <updated>Mon, 20 Oct 2025 15:42:42 +0000</updated>
                            <resolved>Mon, 20 Oct 2025 15:42:42 +0000</resolved>
                                                    <fixVersion>Starter Content 2.0.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="18031195" author="enorman" created="Mon, 20 Oct 2025 15:42:42 +0000"  >&lt;p&gt;Merged PR at: &#160;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-starter-content/commit/19d119a27caabe83bf2afa81166a6301f5243ed7&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;&lt;tt&gt;19d119a&lt;/tt&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1y83s:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12965] NPE: Cannot invoke &quot;org.osgi.framework.ServiceRegistration.unregister()&quot; because &quot;this.debugOptionsListenerRegistration&quot; is null</title>
                <link>https://issues.apache.org/jira/browse/SLING-12965</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I see the following exception in the error.log of Eclipse&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
java.lang.NullPointerException: Cannot invoke &lt;span class=&quot;code-quote&quot;&gt;&quot;org.osgi.framework.ServiceRegistration.unregister()&quot;&lt;/span&gt; because &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.debugOptionsListenerRegistration&quot;&lt;/span&gt; is &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
	at org.apache.sling.ide.eclipse.core.debug.impl.Tracer.deactivate(Tracer.java:55)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.felix.scr.impl.inject.methods.BaseMethod.invokeMethod(BaseMethod.java:257)
	at org.apache.felix.scr.impl.inject.methods.BaseMethod.access$500(BaseMethod.java:41)
	at org.apache.felix.scr.impl.inject.methods.BaseMethod$Resolved.invoke(BaseMethod.java:701)
	at org.apache.felix.scr.impl.inject.methods.BaseMethod.invoke(BaseMethod.java:544)
	at org.apache.felix.scr.impl.inject.methods.ActivateMethod.invoke(ActivateMethod.java:317)
	at org.apache.felix.scr.impl.inject.methods.ActivateMethod.invoke(ActivateMethod.java:307)
	at org.apache.felix.scr.impl.manager.SingleComponentManager.disposeImplementationObject(SingleComponentManager.java:421)
	at org.apache.felix.scr.impl.manager.SingleComponentManager.deleteComponent(SingleComponentManager.java:165)
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.doDeactivate(AbstractComponentManager.java:853)
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.deactivateInternal(AbstractComponentManager.java:825)
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.dispose(AbstractComponentManager.java:589)
	at org.apache.felix.scr.impl.manager.ConfigurableComponentHolder.disposeComponents(ConfigurableComponentHolder.java:722)
	at org.apache.felix.scr.impl.BundleComponentActivator.dispose(BundleComponentActivator.java:505)
	at org.apache.felix.scr.impl.Activator.disposeComponents(Activator.java:672)
	at org.apache.felix.scr.impl.Activator.access$300(Activator.java:75)
	at org.apache.felix.scr.impl.Activator$ScrExtension.destroy(Activator.java:510)
	at org.apache.felix.scr.impl.AbstractExtender$1.run(AbstractExtender.java:216)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.felix.scr.impl.AbstractExtender.destroyExtension(AbstractExtender.java:238)
	at org.apache.felix.scr.impl.AbstractExtender.bundleChanged(AbstractExtender.java:132)
	at org.apache.felix.scr.impl.Activator.bundleChanged(Activator.java:256)
	at org.eclipse.osgi.internal.framework.BundleContextImpl.dispatchEvent(BundleContextImpl.java:975)
	at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:230)
	at org.eclipse.osgi.framework.eventmgr.ListenerQueue.dispatchEventSynchronous(ListenerQueue.java:151)
	at org.eclipse.osgi.internal.framework.EquinoxEventPublisher.publishBundleEventPrivileged(EquinoxEventPublisher.java:237)
	at org.eclipse.osgi.internal.framework.EquinoxEventPublisher.publishBundleEvent(EquinoxEventPublisher.java:136)
	at org.eclipse.osgi.internal.framework.EquinoxEventPublisher.publishBundleEvent(EquinoxEventPublisher.java:128)
	at org.eclipse.osgi.internal.framework.EquinoxContainerAdaptor.publishModuleEvent(EquinoxContainerAdaptor.java:232)
	at org.eclipse.osgi.container.Module.publishEvent(Module.java:534)
	at org.eclipse.osgi.container.Module.doStop(Module.java:697)
	at org.eclipse.osgi.container.Module.stop(Module.java:557)
	at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.decStartLevel(ModuleContainer.java:2153)
	at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.doContainerStartLevel(ModuleContainer.java:2022)
	at org.eclipse.osgi.container.SystemModule.stopWorker(SystemModule.java:281)
	at org.eclipse.osgi.internal.framework.EquinoxBundle$SystemBundle$EquinoxSystemModule.stopWorker(EquinoxBundle.java:225)
	at org.eclipse.osgi.container.Module.doStop(Module.java:699)
	at org.eclipse.osgi.container.Module.stop(Module.java:557)
	at org.eclipse.osgi.container.SystemModule.stop(SystemModule.java:212)
	at org.eclipse.osgi.internal.framework.EquinoxBundle$SystemBundle$EquinoxSystemModule$1.run(EquinoxBundle.java:244)
	at java.base/java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:1583)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Although there is probably no functional impact the according code should be more resilient against this NPE.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13631517">SLING-12965</key>
            <summary>NPE: Cannot invoke &quot;org.osgi.framework.ServiceRegistration.unregister()&quot; because &quot;this.debugOptionsListenerRegistration&quot; is null</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Tue, 14 Oct 2025 13:44:57 +0000</created>
                <updated>Tue, 14 Oct 2025 14:26:29 +0000</updated>
                            <resolved>Tue, 14 Oct 2025 14:26:29 +0000</resolved>
                                    <version>Sling Eclipse IDE 1.3.0</version>
                                    <fixVersion>Sling Eclipse IDE 1.3.2</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="18029788" author="kwin" created="Tue, 14 Oct 2025 13:48:12 +0000"  >&lt;p&gt;This is a regression of &lt;a href=&quot;https://github.com/apache/sling-ide-tooling/commit/880b74be2f226dfdb869f64b124ccaa901cb980d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-ide-tooling/commit/880b74be2f226dfdb869f64b124ccaa901cb980d&lt;/a&gt; which misses to initialize &lt;tt&gt;debugOptionsListenerRegistration&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="18029794" author="kwin" created="Tue, 14 Oct 2025 14:26:29 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-ide-tooling/commit/3fcaed70c72d61803eb1143339829d42dff3bc6f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-ide-tooling/commit/3fcaed70c72d61803eb1143339829d42dff3bc6f&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13554816">SLING-12108</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 week, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1y514:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12963] SlingLoginCookieManager singleton prevents using multiple IDPs</title>
                <link>https://issues.apache.org/jira/browse/SLING-12963</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;As discussed with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nscendoni&quot; class=&quot;user-hover&quot; rel=&quot;nscendoni&quot;&gt;nscendoni&lt;/a&gt; in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-12926&quot; title=&quot;SlingLoginCookieManager hardcodes the idp name to &amp;#39;oidc&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-12926&quot;&gt;&lt;del&gt;SLING-12926&lt;/del&gt;&lt;/a&gt;:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;it seems to me like the components are set up for multiple IDPs, but now we have a singleton SlingLoginCookieManager.&lt;/p&gt;

&lt;p&gt;If multiple IDPs are not a goal then it&apos;s all good, but otherwise we might to take another pass at the API&lt;/p&gt;

&lt;p&gt;Good point. The rest of the code supports multiple idp. I&apos;m afraid we need to modify once more the public API.&lt;/p&gt;&lt;/blockquote&gt;</description>
                <environment></environment>
        <key id="13631127">SLING-12963</key>
            <summary>SlingLoginCookieManager singleton prevents using multiple IDPs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 9 Oct 2025 11:56:26 +0000</created>
                <updated>Tue, 21 Oct 2025 15:27:30 +0000</updated>
                                                            <fixVersion>OAuth Client 0.1.6</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 week, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1y2mg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12959] &quot;Cannot paste while server is not started&quot; when using the project explorer&apos;s content sync node</title>
                <link>https://issues.apache.org/jira/browse/SLING-12959</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When using the project explorer it is not possible to paste files below the content sync root node. Eclipse just states &quot;Cannot paste while server is not started&quot;. Although you can paste using the node &quot;src&quot; and just traversing to the right folder, it would be nice to lift this limitation below the content root node.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13630325">SLING-12959</key>
            <summary>&quot;Cannot paste while server is not started&quot; when using the project explorer&apos;s content sync node</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Tue, 30 Sep 2025 10:00:10 +0000</created>
                <updated>Thu, 16 Oct 2025 13:48:12 +0000</updated>
                                            <version>Sling Eclipse IDE 1.3.0</version>
                                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="18030363" author="rombert" created="Thu, 16 Oct 2025 13:48:12 +0000"  >&lt;p&gt;This makes sense, we just need to test a bit and see if anything breaks. This was added with the initial changes for &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3691&quot; title=&quot;Add Cut / Copy / Paste nodes to content navigator&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3691&quot;&gt;&lt;del&gt;SLING-3691&lt;/del&gt;&lt;/a&gt; ( &lt;a href=&quot;https://github.com/apache/sling-ide-tooling/commit/49ece649a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-ide-tooling/commit/49ece649a&lt;/a&gt; ) and any reason for the limitation is not documented. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1xxo8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12958] sendError() should throw an exception if used during include</title>
                <link>https://issues.apache.org/jira/browse/SLING-12958</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;According to the &lt;a href=&quot;https://jakarta.ee/specifications/servlet/6.0/jakarta-servlet-spec-6.0#the-include-method&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;servlet api specification&lt;/a&gt;, the include servlet:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;cannot set headers or call any method that affects the headers of the response&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This means that methods like sendError() and sendRedirect() are not allowed to be used during an include. Those methods change the status and commit the response, which both are headers being changed. As well as resetting the response, which changes headers like content type back to null.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Instead, those methods must throw IOExceptions for non-404, and for 404&#160;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;RequestDispatch.include() and the requested resource does not exist, then the default servlet MUST throw&#160;FileNotFoundException&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This will also improve the content header change violation reporting for cases where the error handling 404.jsp is called and sets the header to text/html; with the current implementation, a violation will be triggered: &quot;404.jsp tried to change the content type header from null to text/html&quot;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13630315">SLING-12958</key>
            <summary>sendError() should throw an exception if used during include</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="rliechti">Remo Liechti</reporter>
                        <labels>
                    </labels>
                <created>Tue, 30 Sep 2025 09:09:19 +0000</created>
                <updated>Tue, 7 Oct 2025 09:35:08 +0000</updated>
                                            <version>Engine 3.0.0</version>
                    <version>Engine 2.16.6</version>
                                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1xxm0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12956] Models with same artifactIds (and different groupIds) lead to name clashes</title>
                <link>https://issues.apache.org/jira/browse/SLING-12956</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;cp2fm persists models with a filename which is prone to name clashes as it persists the JSON just considering the artifact id + classifier (but completely disregarding the group id): &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/blob/ffb2039dee744c9fe832cf045dff3664654ebbe6/src/main/java/org/apache/sling/feature/cpconverter/features/DefaultFeaturesManager.java#L472-L485&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/blob/ffb2039dee744c9fe832cf045dff3664654ebbe6/src/main/java/org/apache/sling/feature/cpconverter/features/DefaultFeaturesManager.java#L472-L485&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13630247">SLING-12956</key>
            <summary>Models with same artifactIds (and different groupIds) lead to name clashes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Mon, 29 Sep 2025 16:54:33 +0000</created>
                <updated>Wed, 8 Oct 2025 11:35:59 +0000</updated>
                            <resolved>Wed, 8 Oct 2025 11:35:47 +0000</resolved>
                                    <version>Content-Package to Feature Model Converter 1.3.10</version>
                                    <fixVersion>Content-Package to Feature Model Converter 1.3.12</fixVersion>
                                    <component>Feature Model</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="18023586" author="kwin" created="Mon, 29 Sep 2025 16:58:34 +0000"  >&lt;p&gt;Currently &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature/blob/master/src/main/java/org/apache/sling/feature/ArtifactId.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-feature/blob/master/src/main/java/org/apache/sling/feature/ArtifactId.java&lt;/a&gt; doesn&apos;t expose a getter to return a filesystem safe filename, but just URLs.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; Is that something we should add to the API instead of implementing it in cp2fm?&lt;/p&gt;</comment>
                            <comment id="18023598" author="cziegeler" created="Mon, 29 Sep 2025 17:56:58 +0000"  >&lt;p&gt;I don&apos;t think that is needed in the API, there is toMvnName(), toMvnPath() already. If all artifacts should be stored in a single directory, then this could be achieved by using the group id + toMvnName() as the file name.&lt;/p&gt;</comment>
                            <comment id="18023623" author="kwin" created="Mon, 29 Sep 2025 19:02:24 +0000"  >&lt;p&gt;Thanks for the input. A changed file name should also be fine with &lt;a href=&quot;https://github.com/adobe/aemanalyser-maven-plugin/blob/27a9b4c8803e84cd5a468e079fb648017d8642ba/aemanalyser-core/src/main/java/com/adobe/aem/analyser/AemAggregator.java#L361&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/adobe/aemanalyser-maven-plugin/blob/27a9b4c8803e84cd5a468e079fb648017d8642ba/aemanalyser-core/src/main/java/com/adobe/aem/analyser/AemAggregator.java#L361&lt;/a&gt; which just reads all files ending with &lt;tt&gt;.json&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;However the overall filename should be below 255 chars to be compatible with all common filesystems. In the worst case we probably have to use hashes over the group id.&lt;/p&gt;</comment>
                            <comment id="18028334" author="kwin" created="Wed, 8 Oct 2025 11:35:59 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/commit/e2dc780ec226b38748d71b68b9872e9fa221adcc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/commit/e2dc780ec226b38748d71b68b9872e9fa221adcc&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1xx6w:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12954] Starter IT failures can miss archiving artifacts in case of build failures</title>
                <link>https://issues.apache.org/jira/browse/SLING-12954</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I was looking at &lt;a href=&quot;https://ci-builds.apache.org/job/Sling/job/modules/job/sling-org-apache-sling-starter/job/PR-533/1/cloudbees-pipeline-explorer/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-builds.apache.org/job/Sling/job/modules/job/sling-org-apache-sling-starter/job/PR-533/1/cloudbees-pipeline-explorer/&lt;/a&gt; and I don&apos;t see any artifacts archived.&lt;/p&gt;


&lt;p&gt;The&#160;Starter does configure archival for logs - &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-starter/blob/0fe874aa1a10d5813471c34c903c02d61cf141df/.sling-module.json#L15-L17&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-starter/blob/0fe874aa1a10d5813471c34c903c02d61cf141df/.sling-module.json#L15-L17&lt;/a&gt; but this is done only for &apos;reference&apos; stages - &lt;a href=&quot;https://github.com/apache/sling-tooling-jenkins/blob/a9c7d5f999acb07c050e1ac0d824196ab3fcc1fc/vars/slingOsgiBundleBuild.groovy#L214-L216&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-tooling-jenkins/blob/a9c7d5f999acb07c050e1ac0d824196ab3fcc1fc/vars/slingOsgiBundleBuild.groovy#L214-L216&lt;/a&gt; .&lt;/p&gt;

&lt;p&gt;Since&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;a failure in any stage causes the others to abort&lt;/li&gt;
	&lt;li&gt;we run against 3 JDKs in the Starter&lt;/li&gt;
	&lt;li&gt;the reference JDK is the older one&lt;/li&gt;
	&lt;li&gt;only artifacts for the &apos;reference&apos; build are archived&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The changes for the artifacts to be archived is actually very small.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13630069">SLING-12954</key>
            <summary>Starter IT failures can miss archiving artifacts in case of build failures</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 26 Sep 2025 13:34:10 +0000</created>
                <updated>Fri, 26 Sep 2025 13:37:08 +0000</updated>
                                                                            <component>Build and Source Control</component>
                    <component>Starter</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="18023111" author="rombert" created="Fri, 26 Sep 2025 13:37:08 +0000"  >&lt;p&gt;I think the points mentioned in the issue description are good when taken individually but interact in unfortunate ways.&lt;/p&gt;

&lt;p&gt;A quick search in thee Sling repo checkout shows that only the starter uses these patterns. I think it would be useful to archive artifacts from non-reference stages.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ find -name .sling-module.json | xargs grep -A 3 &apos;archivePatterns&apos;
./org-apache-sling-starter/.sling-module.json:        &quot;archivePatterns&quot;: [
./org-apache-sling-starter/.sling-module.json-            &quot;**/logs/*.log&quot;
./org-apache-sling-starter/.sling-module.json-        ]
./org-apache-sling-starter/.sling-module.json-    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1xw3k:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12950] Prevent exposing the sling:resourceType from JCR Resource Resolver if just derived from jcr:primaryType</title>
                <link>https://issues.apache.org/jira/browse/SLING-12950</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;In the context of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-12781&quot; title=&quot;Expose resource type and resource super type always also via getValueMap()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-12781&quot;&gt;&lt;del&gt;SLING-12781&lt;/del&gt;&lt;/a&gt; the &quot;sling:resourceType&quot; was exposed as property even if derived from the underlying JCR property &quot;jcr:primaryType&quot;. This turned out to cause issues with consumers that rely on the fact that all exposed resource properties from the JCR resource provider are backed by real JCR properties.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13629828">SLING-12950</key>
            <summary>Prevent exposing the sling:resourceType from JCR Resource Resolver if just derived from jcr:primaryType</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Wed, 24 Sep 2025 13:49:27 +0000</created>
                <updated>Fri, 3 Oct 2025 11:10:03 +0000</updated>
                            <resolved>Thu, 25 Sep 2025 09:35:01 +0000</resolved>
                                                    <fixVersion>JCR Resource 3.3.6</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="18022718" author="kwin" created="Thu, 25 Sep 2025 09:35:01 +0000"  >&lt;p&gt;The feature from &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-12781&quot; title=&quot;Expose resource type and resource super type always also via getValueMap()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-12781&quot;&gt;&lt;del&gt;SLING-12781&lt;/del&gt;&lt;/a&gt; has been reverted with &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-jcr-resource/commit/18a2ed791068cff0c5d0d3e36042c771dea30f5f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-jcr-resource/commit/18a2ed791068cff0c5d0d3e36042c771dea30f5f&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13629576">SLING-12944</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13617862">SLING-12781</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1xum0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12946] Nightly update site keeps old artifacts around</title>
                <link>https://issues.apache.org/jira/browse/SLING-12946</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://nightlies.apache.org/sling/eclipse/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://nightlies.apache.org/sling/eclipse/&lt;/a&gt; keeps may old features/plugins around. Even though they are not referenced by any artifacts.xml/content.xml files they should be removed as they serve no purpose.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13629612">SLING-12946</key>
            <summary>Nightly update site keeps old artifacts around</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 22 Sep 2025 15:19:55 +0000</created>
                <updated>Mon, 22 Sep 2025 21:02:32 +0000</updated>
                            <resolved>Mon, 22 Sep 2025 21:02:32 +0000</resolved>
                                                    <fixVersion>Sling Eclipse IDE 1.3.2</fixVersion>
                                    <component>Build and Source Control</component>
                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1xta0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12945] Nightly update site references old artifacts</title>
                <link>https://issues.apache.org/jira/browse/SLING-12945</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;After the 1.3.0 release the &apos;nightly&apos; CI process still publishes 1.2.3 artifacts &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://ci-builds.apache.org/job/Sling/job/modules/job/sling-ide-tooling/job/master/328/cloudbees-pipeline-explorer/?filter=144&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-builds.apache.org/job/Sling/job/modules/job/sling-ide-tooling/job/master/328/cloudbees-pipeline-explorer/?filter=144&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;SSH: cd [features]
SSH: OK
SSH: put [org.apache.sling.ide.feature_1.2.3.202509220952.jar]
SSH: put [org.apache.sling.ide.m2e.feature_1.2.3.202509220952.jar]
SSH: put [org.apache.sling.ide.sightly.feature_1.2.3.202509220952.jar]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13629586">SLING-12945</key>
            <summary>Nightly update site references old artifacts</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 22 Sep 2025 12:04:57 +0000</created>
                <updated>Mon, 22 Sep 2025 15:15:24 +0000</updated>
                            <resolved>Mon, 22 Sep 2025 15:15:24 +0000</resolved>
                                                    <fixVersion>Sling Eclipse IDE 1.3.2</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1xt48:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12944] SlingPostServlet fails when resource contains property not backed by JCR property</title>
                <link>https://issues.apache.org/jira/browse/SLING-12944</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I am just testing the latest JCR Resource 3.3.4 with an recent development state of AEM, and the following POST fails with a status 422 (works fine with JCR Resource 3.3.2)&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
$ curl -svo /dev/&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; -u admin:admin -Fsling:resourceType=ab/cd localhost:4502/tmp/test1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;(that path did not exist yet)&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
22.09.2025 12:33:27.982 *WARN* [[0:0:0:0:0:0:0:1] [1758537207973] POST /tmp/test1 HTTP/1.1] org.apache.sling.servlets.post.impl.SlingPostServlet Exception &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; handling POST on path [/tmp/test1] with operation [org.apache.sling
.servlets.post.impl.operations.ModifyOperation]
org.apache.sling.servlets.post.exceptions.PreconditionViolatedPersistenceException: sling:resourceType not found on /tmp/test1
        at org.apache.sling.servlets.post.impl.helper.JCRSupportImpl.isPropertyMultiple(JCRSupportImpl.java:230) [org.apache.sling.servlets.post:2.6.0]
        at org.apache.sling.servlets.post.impl.helper.JCRSupport.isPropertyMultiple(JCRSupport.java:116) [org.apache.sling.servlets.post:2.6.0]
        at org.apache.sling.servlets.post.impl.helper.SlingPropertyValueHandler.isMultiValue(SlingPropertyValueHandler.java:368) [org.apache.sling.servlets.post:2.6.0]
        at org.apache.sling.servlets.post.impl.helper.SlingPropertyValueHandler.setPropertyAsIs(SlingPropertyValueHandler.java:236) [org.apache.sling.servlets.post:2.6.0]
        at org.apache.sling.servlets.post.impl.helper.SlingPropertyValueHandler.setProperty(SlingPropertyValueHandler.java:124) [org.apache.sling.servlets.post:2.6.0]
        at org.apache.sling.servlets.post.impl.operations.ModifyOperation.writeContent(ModifyOperation.java:372) [org.apache.sling.servlets.post:2.6.0]
        at org.apache.sling.servlets.post.impl.operations.ModifyOperation.doRun(ModifyOperation.java:93) [org.apache.sling.servlets.post:2.6.0]
        at org.apache.sling.servlets.post.impl.operations.AbstractPostOperation.run(AbstractPostOperation.java:103) [org.apache.sling.servlets.post:2.6.0]
        at org.apache.sling.servlets.post.impl.SlingPostServlet.doPost(SlingPostServlet.java:249) [org.apache.sling.servlets.post:2.6.0]
[...]
Caused by: javax.jcr.PathNotFoundException: sling:resourceType not found on /tmp/test1
        at org.apache.jackrabbit.oak.jcr.session.NodeImpl$11.perform(NodeImpl.java:660) [org.apache.jackrabbit.oak-jcr:1.84.0.T20250917093322-af8592b]
        at org.apache.jackrabbit.oak.jcr.session.NodeImpl$11.perform(NodeImpl.java:653) [org.apache.jackrabbit.oak-jcr:1.84.0.T20250917093322-af8592b]
        at org.apache.jackrabbit.oak.jcr.delegate.SessionDelegate.perform(SessionDelegate.java:236) [org.apache.jackrabbit.oak-jcr:1.84.0.T20250917093322-af8592b]
        at org.apache.jackrabbit.oak.jcr.session.ItemImpl.perform(ItemImpl.java:113) [org.apache.jackrabbit.oak-jcr:1.84.0.T20250917093322-af8592b]
        at org.apache.jackrabbit.oak.jcr.session.NodeImpl.getProperty(NodeImpl.java:653) [org.apache.jackrabbit.oak-jcr:1.84.0.T20250917093322-af8592b]
        at org.apache.sling.servlets.post.impl.helper.JCRSupportImpl.isPropertyMultiple(JCRSupportImpl.java:227) [org.apache.sling.servlets.post:2.6.0]
        ... 195 common frames omitted
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;the following call works:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
$ curl -u admin:admin -Ffoo=bar localhost:4502/tmp/test1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;/CC &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13629576">SLING-12944</key>
            <summary>SlingPostServlet fails when resource contains property not backed by JCR property</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="joerghoh">Joerg Hoh</reporter>
                        <labels>
                    </labels>
                <created>Mon, 22 Sep 2025 10:37:04 +0000</created>
                <updated>Wed, 8 Oct 2025 09:30:37 +0000</updated>
                            <resolved>Wed, 8 Oct 2025 09:30:37 +0000</resolved>
                                    <version>Servlets Post 3.0.0</version>
                                    <fixVersion>Servlets Post 3.0.2</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="18021843" author="rombert" created="Mon, 22 Sep 2025 12:45:09 +0000"  >&lt;p&gt;I think this is also caught in the Sling Starter tests - &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-starter/pull/527&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-starter/pull/527&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="18021900" author="kwin" created="Mon, 22 Sep 2025 16:48:52 +0000"  >&lt;p&gt;Seems this is related to the removal of the fallback logic to retrieve the primary type which used to be there in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-jcr-resource/commit/fe35d53a1b0f8ff1a7616909f16539b759bd0bdd#diff-672755be560bd60c7a9ef0bb887e3e30d3367cca73ff6ac19bcb1fa42219c7a9L135&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-jcr-resource/commit/fe35d53a1b0f8ff1a7616909f16539b759bd0bdd#diff-672755be560bd60c7a9ef0bb887e3e30d3367cca73ff6ac19bcb1fa42219c7a9L135&lt;/a&gt;. I was under the assumption that since &lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-2441&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/OAK-2441&lt;/a&gt; is fixed this is no longer necessary but it seems that in fact Node.getPrimaryType() seems to evaluate permissions differently than retrieving it via Node.getProperty(&quot;jcr:primaryType&quot;)...&lt;/p&gt;</comment>
                            <comment id="18021921" author="joerghoh" created="Mon, 22 Sep 2025 18:28:58 +0000"  >&lt;p&gt;I assume that the problem here is a bit different ...&lt;/p&gt;

&lt;p&gt;Excerpt from the stacktrace&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
        at org.apache.sling.servlets.post.impl.helper.JCRSupport.isPropertyMultiple(JCRSupport.java:116) [org.apache.sling.servlets.post:2.6.0]
        at org.apache.sling.servlets.post.impl.helper.SlingPropertyValueHandler.isMultiValue(SlingPropertyValueHandler.java:368) [org.apache.sling.servlets.post:2.6.0]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-servlets-post/blob/fddcb337eb69ed33c9c5a7afc68713d193c96e9b/src/main/java/org/apache/sling/servlets/post/impl/helper/SlingPropertyValueHandler.java#L359-L368&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;SlingValuePropertyHandler, line 364ff&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
        &lt;span class=&quot;code-comment&quot;&gt;// nothing in the request, so check the current JCR property definition
&lt;/span&gt;        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; value = parent.valueMap.get(prop.getName());
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; ( parent.node != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; ) {
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; ( value != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; ) {
                &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; jcrSupport.isPropertyMultiple(parent.node, prop.getName());
            }
        } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; ( value != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; &amp;amp;&amp;amp; value.getClass().isArray() ) {
                &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
            }
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;With the latest change we can resolve &lt;tt&gt;value&lt;/tt&gt; and get a non-null value, and for that reason the code now goes onto the JCR layer to find out if&apos;s a multi-value property.&lt;br/&gt;
Previously it skipped it failed at the null-check and then skipped the entire code and returned false.&lt;/p&gt;

&lt;p&gt;In that case I assume that we have a clash in the assumptions of the SlingPostServlet, as it assumes that every element in a ValueMap is backed by a JCR property. Which could be the case, but it is not always true anymore.&lt;/p&gt;
</comment>
                            <comment id="18022080" author="joerghoh" created="Tue, 23 Sep 2025 07:46:46 +0000"  >&lt;p&gt;The SlingPostServlet assumes that the following holds true:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Resource r = ...
Node n = r.adaptTo(Node.class);
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (n != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
  &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; propertyName = r.getValueMap().entrySet()) {
    assertTrue(n.hasProperty(propertyName);
  }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;in other words: Every element in a ValueMap adapted from a JcrNodeResource is backed by a JCR property. And this assumption got violated in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-12781&quot; title=&quot;Expose resource type and resource super type always also via getValueMap()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-12781&quot;&gt;&lt;del&gt;SLING-12781&lt;/del&gt;&lt;/a&gt;. And I don&apos;t think that that this assumption is harcoded only in the SlingPostServlet. In fact I have seen a lot of code, which consists of a mixed use of Sling Resource API and JCR API, and at some point this assumption is likely made as well.&lt;/p&gt;

&lt;p&gt;For that my recommendation is to revert &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-12781&quot; title=&quot;Expose resource type and resource super type always also via getValueMap()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-12781&quot;&gt;&lt;del&gt;SLING-12781&lt;/del&gt;&lt;/a&gt;, as it breaks backwards compatibility and can result in a lot of different symptoms which are hard to track back to this change.&lt;/p&gt;


&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="18022103" author="kwin" created="Tue, 23 Sep 2025 08:51:21 +0000"  >&lt;blockquote&gt;&lt;p&gt;Every element in a ValueMap adapted from a JcrNodeResource is backed by a JCR property. And this assumption got violated in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-12781&quot; title=&quot;Expose resource type and resource super type always also via getValueMap()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-12781&quot;&gt;&lt;del&gt;SLING-12781&lt;/del&gt;&lt;/a&gt;. &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;This assumption was not true before either due to e.g. &lt;a href=&quot;https://sling.apache.org/documentation/the-sling-engine/wrap-or-decorate-resources.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Resource Decorators&lt;/a&gt; which may add artificial properties. I would opt for fixing the Sling POST servlet in this regard.&lt;/p&gt;</comment>
                            <comment id="18022106" author="joerghoh" created="Tue, 23 Sep 2025 09:05:20 +0000"  >&lt;p&gt;Well, it might not have been always true, but there is a lot of code out which operates on this assumption.&lt;/p&gt;

&lt;p&gt;And if we want to go forward with &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-12781&quot; title=&quot;Expose resource type and resource super type always also via getValueMap()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-12781&quot;&gt;&lt;del&gt;SLING-12781&lt;/del&gt;&lt;/a&gt; and rather fix all code operating on that assumption, we need a flag to turn off this new behavior of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-12781&quot; title=&quot;Expose resource type and resource super type always also via getValueMap()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-12781&quot;&gt;&lt;del&gt;SLING-12781&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;
</comment>
                            <comment id="18022433" author="kwin" created="Wed, 24 Sep 2025 13:51:39 +0000"  >&lt;p&gt;I tracked reverting &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-12781&quot; title=&quot;Expose resource type and resource super type always also via getValueMap()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-12781&quot;&gt;&lt;del&gt;SLING-12781&lt;/del&gt;&lt;/a&gt; now in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-12950&quot; title=&quot;Prevent exposing the sling:resourceType from JCR Resource Resolver if just derived from jcr:primaryType&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-12950&quot;&gt;&lt;del&gt;SLING-12950&lt;/del&gt;&lt;/a&gt;. However I would still like to make the Sling POST servlet more resilient for cases where resource properties are not backed by JCR properties. Let&apos;s use this ticket to track that.&lt;/p&gt;</comment>
                            <comment id="18022663" author="joerghoh" created="Thu, 25 Sep 2025 07:18:08 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; agree on the improvement of the SlingPostServlet.&lt;/p&gt;</comment>
                            <comment id="18028318" author="kwin" created="Wed, 8 Oct 2025 09:30:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-servlets-post/commit/106a5f672690814e7f9d88706a7017d0e15b0f6b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-servlets-post/commit/106a5f672690814e7f9d88706a7017d0e15b0f6b&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                            <outwardlinks description="causes">
                                        <issuelink>
            <issuekey id="13629828">SLING-12950</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13617862">SLING-12781</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1xt20:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12939] New Sling Bundle Project fails due to changes in internal m2e API</title>
                <link>https://issues.apache.org/jira/browse/SLING-12939</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When attempting to create a new bundle using the wizard this fails with&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.lang.NoSuchMethodError: &apos;java.util.Collection org.eclipse.m2e.core.ui.internal.archetype.ArchetypeGenerator.createArchetypeProjects(org.eclipse.core.runtime.IPath, org.eclipse.m2e.core.project.IArchetype, java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.util.Properties, boolean, org.eclipse.core.runtime.IProgressMonitor)&apos;
	at org.apache.sling.ide.eclipse.ui.wizards.np.AbstractNewMavenBasedSlingApplicationWizard.createProjects(AbstractNewMavenBasedSlingApplicationWizard.java:130)
	at org.apache.sling.ide.eclipse.ui.wizards.AbstractNewSlingApplicationWizard$1.execute(AbstractNewSlingApplicationWizard.java:115)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt; &lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13078368/13078368_image-2025-09-12-17-51-43-864.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt; &lt;/p&gt;

&lt;p&gt;We are still using internal APIs unfortunately and there was an API change in m2e.&lt;/p&gt;

&lt;p&gt;In m2e 2.0.0 the ArchetypeGenerator.createArchetypeProjects has the following signature (from &lt;a href=&quot;https://github.com/eclipse-m2e/m2e-core/blob/db0d6d9043d569111515c7f1cb19c4427c9667e6/org.eclipse.m2e.core.ui/src/org/eclipse/m2e/core/ui/internal/archetype/ArchetypeGenerator.java#L80-L81&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/eclipse-m2e/m2e-core/blob/db0d6d9043d569111515c7f1cb19c4427c9667e6/org.eclipse.m2e.core.ui/src/org/eclipse/m2e/core/ui/internal/archetype/ArchetypeGenerator.java#L80-L81&lt;/a&gt; )&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Collection&amp;lt;MavenProjectInfo&amp;gt; createArchetypeProjects(IPath location, IArchetype archetype, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; groupId,
      &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; artifactId, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; version, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; javaPackage, Properties properties, &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; interactive,
      IProgressMonitor monitor) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; CoreException {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;whereas 2.9.1 ( &lt;a href=&quot;https://github.com/eclipse-m2e/m2e-core/blob/62e278dcca3372b39f98a832287192272c9f7536/org.eclipse.m2e.core.ui/src/org/eclipse/m2e/core/ui/internal/archetype/ArchetypeGenerator.java#L119-L121&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/eclipse-m2e/m2e-core/blob/62e278dcca3372b39f98a832287192272c9f7536/org.eclipse.m2e.core.ui/src/org/eclipse/m2e/core/ui/internal/archetype/ArchetypeGenerator.java#L119-L121&lt;/a&gt; ) has&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Collection&amp;lt;MavenProjectInfo&amp;gt; createArchetypeProjects(IPath location, IArchetype archetype, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; groupId,
      &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; artifactId, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; version, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; javaPackage, Map&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt; properties, &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; interactive,
      IProgressMonitor monitor) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; CoreException {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;so the &apos;properties&apos; argument type changed from Properties to Map.&lt;/p&gt;

&lt;p&gt;I would try and set up a minimal m2e version for the one with the &lt;tt&gt;Map&lt;/tt&gt; argument. If the change is very recent and unnecessarily restricts the compatible m2e versions, we would need to resolve to reflection.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13628776">SLING-12939</key>
            <summary>New Sling Bundle Project fails due to changes in internal m2e API</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 12 Sep 2025 15:54:05 +0000</created>
                <updated>Thu, 25 Sep 2025 10:24:33 +0000</updated>
                            <resolved>Mon, 15 Sep 2025 10:11:14 +0000</resolved>
                                                    <fixVersion>Sling Eclipse IDE 1.3.0</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="18019884" author="rombert" created="Fri, 12 Sep 2025 15:55:37 +0000"  >&lt;p&gt;Looks like the change is &lt;a href=&quot;https://github.com/eclipse-m2e/m2e-core/commit/fae15a82dfc7ac21519a37420dc230f86993211c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/eclipse-m2e/m2e-core/commit/fae15a82dfc7ac21519a37420dc230f86993211c&lt;/a&gt; ( 2.1.0 ) so this should be fine as a baseline&lt;/p&gt;</comment>
                            <comment id="18020294" author="kwin" created="Mon, 15 Sep 2025 10:00:11 +0000"  >&lt;p&gt;Unfortunately &lt;a href=&quot;https://github.com/eclipse-m2e/m2e-core/pull/922&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/eclipse-m2e/m2e-core/pull/922&lt;/a&gt; was never done. Therefore we still have to rely on internal API for Archetype functionality which may change with every minor version...&lt;/p&gt;</comment>
                            <comment id="18020897" author="rombert" created="Wed, 17 Sep 2025 11:05:07 +0000"  >&lt;p&gt;Right, for now it is fine to rely on m2e 2.1.0 or newer, which is shipped with Eclipse 2022-12. If m2e changes the API again we&apos;ll probably have to resort to reflection.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13078368" name="image-2025-09-12-17-51-43-864.png" size="54732" author="rombert" created="Fri, 12 Sep 2025 15:51:44 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1xo48:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12926] SlingLoginCookieManager hardcodes the idp name to &apos;oidc&apos;</title>
                <link>https://issues.apache.org/jira/browse/SLING-12926</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;While trying to configure the Sling OAuth Sample for OIDC login ( &lt;a href=&quot;https://github.com/apache/sling-samples/pull/18&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-samples/pull/18&lt;/a&gt; ) &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nscendoni&quot; class=&quot;user-hover&quot; rel=&quot;nscendoni&quot;&gt;nscendoni&lt;/a&gt; figured out there is a problem in the SlingLoginCookieManager - the idp name is not as configured, but always &apos;oidc&apos;: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-auth-oauth-client/blob/2587f5dab5ee0dd168ddaa9a2072dace42e445f5/src/main/java/org/apache/sling/auth/oauth_client/impl/SlingLoginCookieManager.java#L143&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-auth-oauth-client/blob/2587f5dab5ee0dd168ddaa9a2072dace42e445f5/src/main/java/org/apache/sling/auth/oauth_client/impl/SlingLoginCookieManager.java#L143&lt;/a&gt;&lt;/p&gt;
</description>
                <environment></environment>
        <key id="13627961">SLING-12926</key>
            <summary>SlingLoginCookieManager hardcodes the idp name to &apos;oidc&apos;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nscendoni">Nicola Scendoni</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 3 Sep 2025 08:35:03 +0000</created>
                <updated>Fri, 5 Sep 2025 16:12:45 +0000</updated>
                            <resolved>Fri, 5 Sep 2025 13:55:59 +0000</resolved>
                                                    <fixVersion>OAuth Client 0.1.4</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="18018368" author="nscendoni" created="Fri, 5 Sep 2025 12:27:06 +0000"  >&lt;p&gt;PR: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-auth-oauth-client/pull/30&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-auth-oauth-client/pull/30&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="18018396" author="rombert" created="Fri, 5 Sep 2025 13:55:59 +0000"  >&lt;p&gt;Thanks for the PR &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nscendoni&quot; class=&quot;user-hover&quot; rel=&quot;nscendoni&quot;&gt;nscendoni&lt;/a&gt;, I applied it.&lt;/p&gt;

&lt;p&gt;A follow-up question: it seems to me like the components are set up for multiple IDPs, but now we have a singleton SlingLoginCookieManager.&lt;/p&gt;

&lt;p&gt;If multiple IDPs are not a goal then it&apos;s all good, but otherwise we might to take another pass at the API&lt;/p&gt;</comment>
                            <comment id="18018413" author="nscendoni" created="Fri, 5 Sep 2025 14:25:38 +0000"  >&lt;p&gt;Good point. The rest of the code supports multiple idp. I&apos;m afraid we need to modify once more the public API.&lt;/p&gt;</comment>
                            <comment id="18018437" author="rombert" created="Fri, 5 Sep 2025 16:12:45 +0000"  >&lt;p&gt;It&apos;s all good, we&apos;re still at 0.x &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1xj34:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12893] NPE in DefaultQueryExecutor</title>
                <link>https://issues.apache.org/jira/browse/SLING-12893</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.lang.NullPointerException: null
	at org.apache.sling.graphql.core.engine.DefaultQueryExecutor.buildSchema(DefaultQueryExecutor.java:445) [org.apache.sling.graphql.core:0.0.34]
	at org.apache.sling.graphql.core.engine.DefaultQueryExecutor.access$300(DefaultQueryExecutor.java:94) [org.apache.sling.graphql.core:0.0.34]
	at org.apache.sling.graphql.core.engine.DefaultQueryExecutor$ExecutionContext.&amp;lt;init&amp;gt;(DefaultQueryExecutor.java:185) [org.apache.sling.graphql.core:0.0.34]
	at org.apache.sling.graphql.core.engine.DefaultQueryExecutor.execute(DefaultQueryExecutor.java:249) [org.apache.sling.graphql.core:0.0.34]
	at org.apache.sling.graphql.core.servlet.GraphQLServlet.execute(GraphQLServlet.java:323) [org.apache.sling.graphql.core:0.0.34]
	at org.apache.sling.graphql.core.servlet.GraphQLServlet.doPost(GraphQLServlet.java:280) [org.apache.sling.graphql.core:0.0.34]
	at org.apache.sling.api.servlets.SlingAllMethodsServlet.mayService(SlingAllMethodsServlet.java:146) [org.apache.sling.api:2.27.6] &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</description>
                <environment></environment>
        <key id="13626739">SLING-12893</key>
            <summary>NPE in DefaultQueryExecutor</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="schulm">Martin Schulze</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 Aug 2025 11:09:22 +0000</created>
                <updated>Mon, 25 Aug 2025 09:41:34 +0000</updated>
                            <resolved>Wed, 20 Aug 2025 12:33:15 +0000</resolved>
                                                    <fixVersion>GraphQL Core 0.0.36</fixVersion>
                                    <component>GraphQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="18014863" author="JIRAUSER282297" created="Tue, 19 Aug 2025 11:14:13 +0000"  >&lt;p&gt;PR:&#160;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-graphql-core/pull/44&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-graphql-core/pull/44&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="18015145" author="radu.cotescu" created="Wed, 20 Aug 2025 12:07:01 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=schulm&quot; class=&quot;user-hover&quot; rel=&quot;schulm&quot;&gt;schulm&lt;/a&gt;, I fail to see where the NPE can occur in the area you had to change in the PR. Please add a stack trace to the description of this issue.&lt;/p&gt;</comment>
                            <comment id="18015149" author="radu.cotescu" created="Wed, 20 Aug 2025 12:13:43 +0000"  >&lt;p&gt;Thanks for updating the description! I still don&apos;t see a connection between your changes on the PR and a potential NPE at &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-graphql-core/blob/org.apache.sling.graphql.core-0.0.30/src/main/java/org/apache/sling/graphql/core/engine/DefaultQueryExecutor.java#L433&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-graphql-core/blob/org.apache.sling.graphql.core-0.0.30/src/main/java/org/apache/sling/graphql/core/engine/DefaultQueryExecutor.java#L433&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="18015151" author="radu.cotescu" created="Wed, 20 Aug 2025 12:21:58 +0000"  >&lt;p&gt;Oh, I see it now: &lt;tt&gt;getTypeDefinitionRegistry&lt;/tt&gt; could have returned a &lt;tt&gt;null&lt;/tt&gt; for identical SDLs, where the same &lt;tt&gt;sdl&lt;/tt&gt; should have been cached for a new resource.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1xbjk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12878] Converter potentially removes still relevant filter entries of converted packages</title>
                <link>https://issues.apache.org/jira/browse/SLING-12878</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The logic in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/blob/d75256c7ed76281f411f4275ea2afe79bf395cbc/src/main/java/org/apache/sling/feature/cpconverter/vltpkg/WorkspaceFilterBuilder.java#L77-L84&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/blob/d75256c7ed76281f411f4275ea2afe79bf395cbc/src/main/java/org/apache/sling/feature/cpconverter/vltpkg/WorkspaceFilterBuilder.java#L77-L84&lt;/a&gt; removes filter entries from the original package filter too agressively for the edge case where some subnodes below a common ancestor have been removed (like OSGi configuration) but other subnodes are still relevant to be kept in the package.&lt;/p&gt;

&lt;p&gt;In that case the method &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/blob/d75256c7ed76281f411f4275ea2afe79bf395cbc/src/main/java/org/apache/sling/feature/cpconverter/vltpkg/WorkspaceFilterBuilder.java#L106&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;&lt;tt&gt;coversFilteredPath&lt;/tt&gt;&lt;/a&gt; returns &lt;tt&gt;true&lt;/tt&gt; which leads to the whole filter entry not being part of the converted package.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13625744">SLING-12878</key>
            <summary>Converter potentially removes still relevant filter entries of converted packages</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Thu, 7 Aug 2025 07:21:07 +0000</created>
                <updated>Thu, 7 Aug 2025 07:21:07 +0000</updated>
                                            <version>Content-Package to Feature Model Converter 1.3.10</version>
                                                    <component>Content-Package to Feature Model Converter</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1x5c0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12864] Remove JSR305 dependency</title>
                <link>https://issues.apache.org/jira/browse/SLING-12864</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Only Jetbrains null annotations should be used (compare with &lt;a href=&quot;https://sling.apache.org/documentation/development/null-analysis.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/documentation/development/null-analysis.html&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-7798&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SLING-7798&lt;/a&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13623842">SLING-12864</key>
            <summary>Remove JSR305 dependency</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="cschneider">Christian Schneider</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Fri, 18 Jul 2025 11:00:48 +0000</created>
                <updated>Mon, 21 Jul 2025 09:41:05 +0000</updated>
                                            <version>Content Distribution API 0.7.2</version>
                                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="18008033" author="kwin" created="Fri, 18 Jul 2025 11:07:11 +0000"  >&lt;p&gt;This was converted before but regressed with &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-9448&quot; title=&quot;Update to current sling parent&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-9448&quot;&gt;&lt;del&gt;SLING-9448&lt;/del&gt;&lt;/a&gt; (&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-api/commit/4c4bf621224cfdd008b715fb83c9ba418e99f19e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-api/commit/4c4bf621224cfdd008b715fb83c9ba418e99f19e&lt;/a&gt;). &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cschneider&quot; class=&quot;user-hover&quot; rel=&quot;cschneider&quot;&gt;cschneider&lt;/a&gt; Can you have a look?&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13304682">SLING-9448</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13176358">SLING-7798</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1wu0g:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12862] Possible NPE in DistributionEvent.fromEvent(Event)</title>
                <link>https://issues.apache.org/jira/browse/SLING-12862</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The event being generated in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/04fa537b02bf2579f29fca43100dfdaa641ac938/src/main/java/org/apache/sling/distribution/event/impl/DefaultDistributionEventFactory.java#L50&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/04fa537b02bf2579f29fca43100dfdaa641ac938/src/main/java/org/apache/sling/distribution/event/impl/DefaultDistributionEventFactory.java#L50&lt;/a&gt; does not set properties&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;DistributionEventProperties.PACKAGE_ID&lt;/li&gt;
	&lt;li&gt;DistributionEventProperties.DISTRIBUTION_TYPE&lt;/li&gt;
	&lt;li&gt;DistributionEventProperties.DISTRIBUTION_PATHS&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;at all or in some cases  leading to NPEs when dereferencing those in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-api/blob/90c4de72ce5b1ba2f95bb17aab748389d1748a7b/src/main/java/org/apache/sling/distribution/event/DistributionEvent.java#L92&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-api/blob/90c4de72ce5b1ba2f95bb17aab748389d1748a7b/src/main/java/org/apache/sling/distribution/event/DistributionEvent.java#L92&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13623494">SLING-12862</key>
            <summary>Possible NPE in DistributionEvent.fromEvent(Event)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Tue, 15 Jul 2025 16:49:09 +0000</created>
                <updated>Tue, 15 Jul 2025 16:49:44 +0000</updated>
                                                                            <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                    <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13623476">SLING-12860</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1wrv4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12860] Inconsistent type of &quot;distribution.type&quot; property in distribution event</title>
                <link>https://issues.apache.org/jira/browse/SLING-12860</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;According to &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-api/blob/90c4de72ce5b1ba2f95bb17aab748389d1748a7b/src/main/java/org/apache/sling/distribution/event/DistributionEvent.java#L70&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-api/blob/90c4de72ce5b1ba2f95bb17aab748389d1748a7b/src/main/java/org/apache/sling/distribution/event/DistributionEvent.java#L70&lt;/a&gt; the property &lt;tt&gt;distribution.type&lt;/tt&gt; seems to be a &lt;tt&gt;String&lt;/tt&gt;, however in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/04fa537b02bf2579f29fca43100dfdaa641ac938/src/main/java/org/apache/sling/distribution/event/impl/DefaultDistributionEventFactory.java#L57&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-core/blob/04fa537b02bf2579f29fca43100dfdaa641ac938/src/main/java/org/apache/sling/distribution/event/impl/DefaultDistributionEventFactory.java#L57&lt;/a&gt; this is set to a value of type &lt;tt&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-api/blob/90c4de72ce5b1ba2f95bb17aab748389d1748a7b/src/main/java/org/apache/sling/distribution/DistributionRequestType.java#L40&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-api/blob/90c4de72ce5b1ba2f95bb17aab748389d1748a7b/src/main/java/org/apache/sling/distribution/DistributionRequestType.java#L40&lt;/a&gt;&lt;/tt&gt;. This already lead to ClassCastExceptions in consumers like &lt;a href=&quot;https://github.com/Adobe-Consulting-Services/acs-aem-commons/blob/8c395acdd0dc14e00fa16fd101f1d4e0315c20ed/bundle-cloud/src/main/java/com/adobe/acs/commons/replication/dispatcher/impl/CloudDispatcherFlushRulesExecutor.java#L63&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/Adobe-Consulting-Services/acs-aem-commons/blob/8c395acdd0dc14e00fa16fd101f1d4e0315c20ed/bundle-cloud/src/main/java/com/adobe/acs/commons/replication/dispatcher/impl/CloudDispatcherFlushRulesExecutor.java#L63&lt;/a&gt; (&lt;a href=&quot;https://github.com/Adobe-Consulting-Services/acs-aem-commons/issues/3604&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/Adobe-Consulting-Services/acs-aem-commons/issues/3604&lt;/a&gt;)&lt;/p&gt;</description>
                <environment></environment>
        <key id="13623476">SLING-12860</key>
            <summary>Inconsistent type of &quot;distribution.type&quot; property in distribution event</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Tue, 15 Jul 2025 14:40:00 +0000</created>
                <updated>Tue, 15 Jul 2025 16:49:20 +0000</updated>
                                                                            <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="18007253" author="kwin" created="Tue, 15 Jul 2025 14:41:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=marett&quot; class=&quot;user-hover&quot; rel=&quot;marett&quot;&gt;marett&lt;/a&gt; Can you clarify? Do consumers need to be able to deal with both types or is &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-api/blob/90c4de72ce5b1ba2f95bb17aab748389d1748a7b/src/main/java/org/apache/sling/distribution/event/DistributionEvent.java#L70&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-api/blob/90c4de72ce5b1ba2f95bb17aab748389d1748a7b/src/main/java/org/apache/sling/distribution/event/DistributionEvent.java#L70&lt;/a&gt; by mistake not using the enum?&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13623494">SLING-12862</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1wrr4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12856] Sling IDE: Do not enable WTP natures/facets for content-packages by default</title>
                <link>https://issues.apache.org/jira/browse/SLING-12856</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Currently when configuring a Maven project of type &quot;content-package&quot; there is WTP natures/facets set up automatically. Unfortunately a content-package is pretty far away from being a standard JEE/web application. For example Eclipse automatically creates a MANIFEST.MF below the website root (which is set to the jcr_root folder). This is just plain wrong, so I would rather tend to not set that option by default and put a disclaimer into the dialog to enable that.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13623147">SLING-12856</key>
            <summary>Sling IDE: Do not enable WTP natures/facets for content-packages by default</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Fri, 11 Jul 2025 10:34:40 +0000</created>
                <updated>Thu, 25 Sep 2025 10:24:34 +0000</updated>
                            <resolved>Tue, 15 Jul 2025 07:59:41 +0000</resolved>
                                    <version>Sling Eclipse IDE 1.2.2</version>
                                    <fixVersion>Sling Eclipse IDE 1.3.0</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="18004679" author="rombert" created="Fri, 11 Jul 2025 12:44:37 +0000"  >&lt;p&gt;FWIW, I agree. The main thing we would &apos;lose&apos; is code completion and navigation in JSPs. &lt;/p&gt;</comment>
                            <comment id="18005528" author="kwin" created="Tue, 15 Jul 2025 07:59:41 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-ide-tooling/commit/3293f4b850de429629fb8114399748c2d21631d1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-ide-tooling/commit/3293f4b850de429629fb8114399748c2d21631d1&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="12670231">SLING-3100</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1wpq0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12849] &quot;Sling Configured Feature&quot; exposed via two different factory PIDs</title>
                <link>https://issues.apache.org/jira/browse/SLING-12849</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The Felix Web Console (system/console/configMgr) exposes the configuration for &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-featureflags/blob/master/src/main/java/org/apache/sling/featureflags/impl/ConfiguredFeature.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-featureflags/blob/master/src/main/java/org/apache/sling/featureflags/impl/ConfiguredFeature.java&lt;/a&gt; via two different factory PIDs:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;org.apache.sling.featureflags.Feature&lt;/li&gt;
	&lt;li&gt;org.apache.sling.featureflags.impl.ConfiguredFeature&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;Only the former seems to be desired according to &lt;a href=&quot;https://sling.apache.org/documentation/the-sling-engine/featureflags.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/documentation/the-sling-engine/featureflags.html&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The reason is that the metatype resource in &lt;tt&gt;OSGI-INF/metatype/org.apache.sling.featureflags.impl.ConfiguredFeature$Config.xml&lt;/tt&gt; has two separate designate elements:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;lt;Designate factoryPid=&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.sling.featureflags.Feature&quot;&lt;/span&gt;&amp;gt;
    &amp;lt;&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; ocdref=&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.sling.featureflags.impl.ConfiguredFeature$Config&quot;&lt;/span&gt;/&amp;gt;
  &amp;lt;/Designate&amp;gt;
  &amp;lt;Designate factoryPid=&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.sling.featureflags.impl.ConfiguredFeature&quot;&lt;/span&gt;&amp;gt;
    &amp;lt;&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; ocdref=&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.sling.featureflags.impl.ConfiguredFeature$Config&quot;&lt;/span&gt;/&amp;gt;
  &amp;lt;/Designate&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13622442">SLING-12849</key>
            <summary>&quot;Sling Configured Feature&quot; exposed via two different factory PIDs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 Jul 2025 10:25:30 +0000</created>
                <updated>Sun, 6 Jul 2025 12:15:37 +0000</updated>
                                            <version>Feature Flags 1.2.2</version>
                                                    <component>Feature Flags</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17993035" author="kwin" created="Thu, 3 Jul 2025 10:25:50 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; Is this deliberate?&lt;/p&gt;</comment>
                            <comment id="18000677" author="cziegeler" created="Sun, 6 Jul 2025 12:15:37 +0000"  >&lt;p&gt;Looks like a bug to me, not sure whether that is a tooling bug.&lt;br/&gt;
I assume both factory PIDs actually work?&lt;br/&gt;
If so, reducing it to one is a breaking change - as there might be users using it.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1wlds:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12847] Launchpad configuration changes are not being applied during UPDATE Startup mode</title>
                <link>https://issues.apache.org/jira/browse/SLING-12847</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Configuration changes are not being applied during UPDATE Startup mode in the following scenario:&lt;br/&gt;
1. A launchpad configuration is available. (priority 50)&lt;br/&gt;
2. It is then updated and superceded by jcrinstaller config, let&apos;s say via libs. (priority 100)&lt;br/&gt;
3. Now, when a new launchpad configuration is provided via launchpad and Startup mode is UPDATE, this configuration should be given highest priority. But rather the already existing jcrInstaller config is given highest priority.&lt;/p&gt;

&lt;p&gt;Reference: &lt;a href=&quot;https://sling.apache.org/documentation/bundles/osgi-installer.html#priorities&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/documentation/bundles/osgi-installer.html#priorities&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13622116">SLING-12847</key>
            <summary>Launchpad configuration changes are not being applied during UPDATE Startup mode</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ankursingla">Ankur Singla</reporter>
                        <labels>
                    </labels>
                <created>Mon, 30 Jun 2025 09:15:11 +0000</created>
                <updated>Mon, 30 Jun 2025 09:15:11 +0000</updated>
                                            <version>Launchpad Installer 1.2.2</version>
                    <version>Installer Core 3.14.0</version>
                                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1wjdc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12845] ProtectHeadersOnInclude functionality ignores changes to the response buffer size</title>
                <link>https://issues.apache.org/jira/browse/SLING-12845</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Buffersize is not a header and therefore must not be protected: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-engine/blob/engine-2.x/src/main/java/org/apache/sling/engine/impl/SlingHttpServletResponseImpl.java#L263&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-engine/blob/engine-2.x/src/main/java/org/apache/sling/engine/impl/SlingHttpServletResponseImpl.java#L263&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13621897">SLING-12845</key>
            <summary>ProtectHeadersOnInclude functionality ignores changes to the response buffer size</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rliechti">Remo Liechti</assignee>
                                    <reporter username="rliechti">Remo Liechti</reporter>
                        <labels>
                    </labels>
                <created>Thu, 26 Jun 2025 14:40:04 +0000</created>
                <updated>Tue, 1 Jul 2025 08:17:58 +0000</updated>
                            <resolved>Tue, 1 Jul 2025 08:17:58 +0000</resolved>
                                    <version>Engine 3.0.0</version>
                    <version>Engine 2.16.4</version>
                                    <fixVersion>Engine 3.0.2</fixVersion>
                    <fixVersion>Engine 2.16.6</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1wi0o:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12844] Potential origins of violations to the RequestDispatcher include API skips too many on committed responses</title>
                <link>https://issues.apache.org/jira/browse/SLING-12844</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;See related issue &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-12697&quot; title=&quot;Potential origins of violations to the RequestDispatcher include API provides creates false positives on a committed response&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-12697&quot;&gt;&lt;del&gt;SLING-12697&lt;/del&gt;&lt;/a&gt; that has weakened the checks for committed responses to not flag cases for &lt;tt&gt;sendRedirect&lt;/tt&gt;&#160;and&#160;&lt;tt&gt;sendError.&lt;/tt&gt;&lt;br/&gt;
However, this check is not sufficient enough. In cases where the response is committed for other reasons than sendRedirect or sendError, violations still need to be flagged.&lt;/p&gt;

&lt;p&gt;The check needs to distinguish the cases of sendRedirect and sendError, to not flag a violation, but also detect committed responses for other cases, such as:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;manually committed responses that are done through code, like writing directly to the response writer or outputstream&lt;/li&gt;
	&lt;li&gt;responses that get committed because the buffer if full and needs to be flushed&lt;/li&gt;
	&lt;li&gt;any others...&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="13621877">SLING-12844</key>
            <summary>Potential origins of violations to the RequestDispatcher include API skips too many on committed responses</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rliechti">Remo Liechti</assignee>
                                    <reporter username="rliechti">Remo Liechti</reporter>
                        <labels>
                    </labels>
                <created>Thu, 26 Jun 2025 12:28:00 +0000</created>
                <updated>Tue, 1 Jul 2025 08:19:01 +0000</updated>
                            <resolved>Tue, 1 Jul 2025 08:19:00 +0000</resolved>
                                    <version>Engine 3.0.0</version>
                    <version>Engine 2.16.4</version>
                                    <fixVersion>Engine 3.0.2</fixVersion>
                    <fixVersion>Engine 2.16.6</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17987139" author="cziegeler" created="Tue, 1 Jul 2025 08:19:01 +0000"  >&lt;p&gt;Main: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-engine/commit/944154836c79b39ce3669c7ae457046a40d425e2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-engine/commit/944154836c79b39ce3669c7ae457046a40d425e2&lt;/a&gt;&lt;br/&gt;
2.x: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-engine/commit/39f84a7b7a157174b6c1d6eddad0b2eb1d2def35&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-engine/commit/39f84a7b7a157174b6c1d6eddad0b2eb1d2def35&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13610876">SLING-12697</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1whw8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12843] Sling Installer ignores startlevel change of bundles</title>
                <link>https://issues.apache.org/jira/browse/SLING-12843</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Sling Installer Core ignores the bundles start level changes during installation - if the bundle is already installed and its version hasn&apos;t changed &#8212; even when the start level has been modified. This causes the start level update to be skipped unintentionally.&lt;/p&gt;

&lt;p&gt;Sling Installer Core should recognize changes in bundle start levels &#8212; even when the version remains the same &#8212; and treat them as updates.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13621846">SLING-12843</key>
            <summary>Sling Installer ignores startlevel change of bundles</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sagarmiglani">Sagar Miglani</assignee>
                                    <reporter username="ankursingla">Ankur Singla</reporter>
                        <labels>
                    </labels>
                <created>Thu, 26 Jun 2025 08:29:12 +0000</created>
                <updated>Tue, 15 Jul 2025 12:17:03 +0000</updated>
                            <resolved>Tue, 1 Jul 2025 05:16:14 +0000</resolved>
                                                    <fixVersion>Installer Core 3.14.4</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17986412" author="JIRAUSER301543" created="Thu, 26 Jun 2025 15:51:22 +0000"  >&lt;p&gt;Raised a PR: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-installer-core/pull/15&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-installer-core/pull/15&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Please review.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1whpc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12842] Missing documentation for ACLOptions=ignoreMissingPrincipal (SLING-12115)</title>
                <link>https://issues.apache.org/jira/browse/SLING-12842</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jsedding&quot; class=&quot;user-hover&quot; rel=&quot;jsedding&quot;&gt;jsedding&lt;/a&gt;, i was looking for the repoinit feature that allows to create ac-setup for non existing principals which i recalled was added to the implementation.&lt;/p&gt;

&lt;p&gt;as far as i can see this has indeed been added with &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-12115&quot; title=&quot;Repoinit should leave enforcement of importBehaviour for ACL creation to JCR&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-12115&quot;&gt;&lt;del&gt;SLING-12115&lt;/del&gt;&lt;/a&gt; but i don&apos;t see it reflected in the documentation, which makes it a bit cumbersome to recommend it despite the fact that this is a very useful.&lt;/p&gt;

&lt;p&gt;wdyt?&lt;/p&gt;</description>
                <environment></environment>
        <key id="13621783">SLING-12842</key>
            <summary>Missing documentation for ACLOptions=ignoreMissingPrincipal (SLING-12115)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="jsedding">Julian Sedding</assignee>
                                    <reporter username="angela">Angela Schreiber</reporter>
                        <labels>
                    </labels>
                <created>Wed, 25 Jun 2025 12:36:41 +0000</created>
                <updated>Thu, 26 Jun 2025 10:02:10 +0000</updated>
                                                                            <component>Documentation</component>
                    <component>Repoinit</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17986319" author="anchela" created="Thu, 26 Jun 2025 10:02:10 +0000"  >&lt;p&gt;copying from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jsedding&quot; class=&quot;user-hover&quot; rel=&quot;jsedding&quot;&gt;jsedding&lt;/a&gt;&apos;s comment on &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-12115&quot; title=&quot;Repoinit should leave enforcement of importBehaviour for ACL creation to JCR&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-12115&quot;&gt;&lt;del&gt;SLING-12115&lt;/del&gt;&lt;/a&gt; fro anybody that is looking for the syntax while we are working on getting the repoinit documentation updated:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
set ACL on / (ACLOptions=ignoreMissingPrincipal)
...
end

set ACL &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; nonExistingPrincipal (ACLOptions=ignoreMissingPrincipal)
...
end
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Background Information:&lt;br/&gt;
Jackrabbit Oak comes with an configuration option for the authorization setup that relaxes the JCR contract that principals must be know to the repository in order to use them for access control setup. originally just intended for XML import (e.g. upon replication) the configuration option is also respected during regular API calls.&lt;br/&gt;
see &lt;a href=&quot;https://jackrabbit.apache.org/oak/docs/security/accesscontrol/default.html#configuration&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://jackrabbit.apache.org/oak/docs/security/accesscontrol/default.html#configuration&lt;/a&gt;&lt;br/&gt;
With option &quot;BESTEFFORT&quot; the repository will allow to set ac content for non-existing principals or principals with administrative access (i.e. the ac content has no effect at all -&amp;gt; false sense of security) and just log the &apos;violation&apos;.&lt;/p&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="13554942">SLING-12115</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1whbc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12841] Scripting Core build fails because of bundle resolution failures in HtmlScriptingIT</title>
                <link>https://issues.apache.org/jira/browse/SLING-12841</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;This IT consistently fails for me&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[INFO] Running org.apache.sling.scripting.core.it.HtmlScriptingIT
[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 6.461 s &amp;lt;&amp;lt;&amp;lt; FAILURE! -- in org.apache.sling.scripting.core.it.HtmlScriptingIT
[ERROR] org.apache.sling.scripting.core.it.HtmlScriptingIT -- Time elapsed: 5.094 s &amp;lt;&amp;lt;&amp;lt; ERROR!
org.ops4j.pax.exam.TestContainerException: There are unresolved bundles. See previous ERROR log messages for details.
	at org.ops4j.pax.exam.forked.ForkedTestContainer.verifyThatBundlesAreResolved(ForkedTestContainer.java:345)
	at org.ops4j.pax.exam.forked.ForkedTestContainer.installAndStartBundles(ForkedTestContainer.java:309)
	at org.ops4j.pax.exam.forked.ForkedTestContainer.start(ForkedTestContainer.java:165)
	at org.ops4j.pax.exam.spi.reactors.EagerSingleStagedReactor.setUp(EagerSingleStagedReactor.java:87)
	at org.ops4j.pax.exam.spi.reactors.EagerSingleStagedReactor.beforeClass(EagerSingleStagedReactor.java:137)
	at org.ops4j.pax.exam.spi.reactors.ReactorManager.beforeClass(ReactorManager.java:457)
	at org.ops4j.pax.exam.junit.impl.ProbeRunner.run(ProbeRunner.java:97)
	at org.ops4j.pax.exam.junit.PaxExam.run(PaxExam.java:93)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:316)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:240)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:214)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In the failsafe test output I see multiple bundle resolution failures:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;ERROR: Bundle org.apache.sling.scripting.sightly [218] Error starting file:/home/robert/sources/apache/sling/org-apache-sling-scripting-core/target/paxexam/HtmlScriptingIT/dabb6ba6-9e05-4a57-acee-40549bb9be0c/pax-exam-downloads/org.apache.sling.scripting.sightly_1.4.26.140.jar (org.osgi.framework.BundleException: Unable to resolve org.apache.sling.scripting.sightly [218](R 218.0): missing requirement [org.apache.sling.scripting.sightly [218](R 218.0)] osgi.wiring.package; (&amp;amp;(osgi.wiring.package=org.apache.sling.xss)(version&amp;gt;=2.0.0)(!(version&amp;gt;=3.0.0))) [caused by: Unable to resolve org.apache.sling.xss [71](R 71.0): missing requirement [org.apache.sling.xss [71](R 71.0)] osgi.wiring.package; (&amp;amp;(osgi.wiring.package=org.apache.commons.collections4.iterators)(version&amp;gt;=4.5.0)(!(version&amp;gt;=5.0.0)))] Unresolved requirements: [[org.apache.sling.scripting.sightly [218](R 218.0)] osgi.wiring.package; (&amp;amp;(osgi.wiring.package=org.apache.sling.xss)(version&amp;gt;=2.0.0)(!(version&amp;gt;=3.0.0)))])
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;ERROR: Bundle org.apache.sling.scripting.sightly.js.provider [222] Error starting file:/home/robert/sources/apache/sling/org-apache-sling-scripting-core/target/paxexam/HtmlScriptingIT/dabb6ba6-9e05-4a57-acee-40549bb9be0c/pax-exam-downloads/org.apache.sling.scripting.sightly.js.provider_1.2.12.jar (org.osgi.framework.BundleException: Unable to resolve org.apache.sling.scripting.sightly.js.provider [222](R 222.0): missing requirement [org.apache.sling.scripting.sightly.js.provider [222](R 222.0)] io.sightly; (&amp;amp;(version&amp;gt;=1.0)(!(version&amp;gt;=2.0))) [caused by: Unable to resolve org.apache.sling.scripting.sightly [218](R 218.0): missing requirement [org.apache.sling.scripting.sightly [218](R 218.0)] osgi.wiring.package; (&amp;amp;(osgi.wiring.package=org.apache.sling.xss)(version&amp;gt;=2.0.0)(!(version&amp;gt;=3.0.0))) [caused by: Unable to resolve org.apache.sling.xss [71](R 71.0): missing requirement [org.apache.sling.xss [71](R 71.0)] osgi.wiring.package; (&amp;amp;(osgi.wiring.package=org.apache.commons.collections4.iterators)(version&amp;gt;=4.5.0)(!(version&amp;gt;=5.0.0)))]] Unresolved requirements: [[org.apache.sling.scripting.sightly.js.provider [222](R 222.0)] io.sightly; (&amp;amp;(version&amp;gt;=1.0)(!(version&amp;gt;=2.0)))])
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;See full output in  &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13077214/13077214_org.apache.sling.scripting.core.it.HtmlScriptingIT-output.txt&quot; title=&quot;org.apache.sling.scripting.core.it.HtmlScriptingIT-output.txt attached to SLING-12841&quot;&gt;org.apache.sling.scripting.core.it.HtmlScriptingIT-output.txt&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; &lt;/p&gt;</description>
                <environment></environment>
        <key id="13621754">SLING-12841</key>
            <summary>Scripting Core build fails because of bundle resolution failures in HtmlScriptingIT</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 25 Jun 2025 10:08:10 +0000</created>
                <updated>Wed, 25 Jun 2025 11:14:19 +0000</updated>
                            <resolved>Wed, 25 Jun 2025 11:14:19 +0000</resolved>
                                                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17986104" author="cziegeler" created="Wed, 25 Jun 2025 11:00:38 +0000"  >&lt;p&gt;It works perfectly for me and if I look at the Sling XSS 2.4.6 bundle, it has this import:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  org.apache.commons.collections4.iterators {version=[4.4,5)}

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;while that failing test claims it requires version 4.5&lt;/p&gt;</comment>
                            <comment id="17986110" author="rombert" created="Wed, 25 Jun 2025 11:14:09 +0000"  >&lt;p&gt;I wonder how that came to be. For me the file downloaded by pax-exam, and also the one I have locally in $HOME/.m2/repository requires&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;  org.apache.commons.collections4.iterators {version=[4.5,5)}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;But the one downloaded from Maven Central ( &lt;a href=&quot;https://repo1.maven.org/maven2/org/apache/sling/org.apache.sling.xss/2.4.6/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repo1.maven.org/maven2/org/apache/sling/org.apache.sling.xss/2.4.6/&lt;/a&gt; ) matches what you see.&lt;/p&gt;

&lt;p&gt;Once I&apos;ve removed the offending directory the IT passes. &lt;/p&gt;

&lt;p&gt;I am not sure how this could happen but it&apos;s definitely not a bug to fix. Thanks and sorry for the noise.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13077214" name="org.apache.sling.scripting.core.it.HtmlScriptingIT-output.txt" size="1435196" author="rombert" created="Wed, 25 Jun 2025 10:08:45 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1wh4w:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12838] Support for non-OIDC connections broken</title>
                <link>https://issues.apache.org/jira/browse/SLING-12838</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;In &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-auth-oauth-client/commit/3b0ebb96857a13c068c896e1ca9a033aaa9c01f1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-auth-oauth-client/commit/3b0ebb96857a13c068c896e1ca9a033aaa9c01f1&lt;/a&gt; the ResolvedOAuthConnection was changed in a way that causes it to fail if an org.apache.sling.auth.oauth_client.impl.OAuthConnectionImpl instance is passed to resolve.&lt;/p&gt;

&lt;p&gt;The error manifests itself when trying to initiate the OAuth connection&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;23.06.2025 22:56:51.083 *ERROR* [127.0.0.1 [1750712211081] GET /system/sling/oauth/entry-point HTTP/1.1] org.apache.sling.engine.impl.SlingR
equestProcessorImpl service: Uncaught Throwable
org.apache.sling.auth.oauth_client.impl.OAuthEntryPointException: Internal error
        at org.apache.sling.auth.oauth_client.impl.OAuthEntryPointServlet.doGet(OAuthEntryPointServlet.java:103) [org.apache.sling.auth.oaut
h-client:0.1.2]
        at org.apache.sling.api.servlets.SlingSafeMethodsServlet.mayService(SlingSafeMethodsServlet.java:266) [org.apache.sling.api:2.27.6]
        at org.apache.sling.api.servlets.SlingAllMethodsServlet.mayService(SlingAllMethodsServlet.java:137) [org.apache.sling.api:2.27.6]
        at org.apache.sling.api.servlets.SlingSafeMethodsServlet.service(SlingSafeMethodsServlet.java:342) [org.apache.sling.api:2.27.6]
        at org.apache.sling.api.servlets.SlingSafeMethodsServlet.service(SlingSafeMethodsServlet.java:374) [org.apache.sling.api:2.27.6]
        at org.apache.sling.engine.impl.request.RequestData.service(RequestData.java:544) [org.apache.sling.engine:2.16.0]
        at org.apache.sling.engine.impl.filter.SlingComponentFilterChain.render(SlingComponentFilterChain.java:44) [org.apache.sling.engine:
2.16.0]
        at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:88) [org.apache.sling.engine:
2.16.0]
        at org.apache.sling.engine.impl.SlingRequestProcessorImpl.processComponent(SlingRequestProcessorImpl.java:374) [org.apache.sling.eng
ine:2.16.0]
        at org.apache.sling.engine.impl.filter.RequestSlingFilterChain.render(RequestSlingFilterChain.java:48) [org.apache.sling.engine:2.16
.0]
        at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:88) [org.apache.sling.engine:
2.16.0]
        at org.apache.sling.engine.impl.debug.RequestProgressTrackerLogFilter.doFilter(RequestProgressTrackerLogFilter.java:113) [org.apache
.sling.engine:2.16.0]
        at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:78) [org.apache.sling.engine:
2.16.0]
        at org.apache.sling.i18n.impl.I18NFilter.doFilter(I18NFilter.java:129) [org.apache.sling.i18n:2.6.6]
        at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:78) [org.apache.sling.engine:
2.16.0]
        at com.composum.sling.nodes.mount.remote.RemoteRequestFilter.doFilter(RemoteRequestFilter.java:76) [com.composum.nodes.console:4.3.4
]
        at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:78) [org.apache.sling.engine:
2.16.0]
        at org.apache.sling.engine.impl.SlingRequestProcessorImpl.doProcessRequest(SlingRequestProcessorImpl.java:249) [org.apache.sling.eng
ine:2.16.0]
        at org.apache.sling.engine.impl.SlingMainServlet.service(SlingMainServlet.java:129) [org.apache.sling.engine:2.16.0]
        at org.apache.felix.http.jakartawrappers.ServletWrapper.service(ServletWrapper.java:74) [org.apache.felix.http.jetty:5.1.26]
        at org.apache.felix.http.base.internal.handler.ServletHandler.handle(ServletHandler.java:128) [org.apache.felix.http.jetty:5.1.26]
        at org.apache.felix.http.base.internal.dispatch.InvocationChain.doFilter(InvocationChain.java:86) [org.apache.felix.http.jetty:5.1.2
6]
        at org.apache.felix.http.javaxwrappers.FilterChainWrapper.doFilter(FilterChainWrapper.java:45) [org.apache.felix.http.jetty:5.1.26]
        at org.apache.sling.i18n.impl.I18NFilter.doFilter(I18NFilter.java:129) [org.apache.sling.i18n:2.6.6]
        at org.apache.felix.http.jakartawrappers.FilterWrapper.doFilter(FilterWrapper.java:58) [org.apache.felix.http.jetty:5.1.26]
        at org.apache.felix.http.base.internal.handler.FilterHandler.handle(FilterHandler.java:145) [org.apache.felix.http.jetty:5.1.26]
        at org.apache.felix.http.base.internal.dispatch.InvocationChain.doFilter(InvocationChain.java:81) [org.apache.felix.http.jetty:5.1.2
6]
        at org.apache.felix.http.javaxwrappers.FilterChainWrapper.doFilter(FilterChainWrapper.java:45) [org.apache.felix.http.jetty:5.1.26]
        at org.apache.sling.engine.impl.log.RequestLoggerFilter.doFilter(RequestLoggerFilter.java:72) [org.apache.sling.engine:2.16.0]
        at org.apache.felix.http.jakartawrappers.FilterWrapper.doFilter(FilterWrapper.java:58) [org.apache.felix.http.jetty:5.1.26]
        at org.apache.felix.http.base.internal.handler.FilterHandler.handle(FilterHandler.java:145) [org.apache.felix.http.jetty:5.1.26]
        at org.apache.felix.http.base.internal.dispatch.InvocationChain.doFilter(InvocationChain.java:81) [org.apache.felix.http.jetty:5.1.2
6]
        at org.apache.felix.http.javaxwrappers.FilterChainWrapper.doFilter(FilterChainWrapper.java:45) [org.apache.felix.http.jetty:5.1.26]
        at org.apache.sling.engine.impl.parameters.RequestParameterSupportConfigurer.doFilter(RequestParameterSupportConfigurer.java:66) [or
g.apache.sling.engine:2.16.0]
        at org.apache.felix.http.jakartawrappers.FilterWrapper.doFilter(FilterWrapper.java:58) [org.apache.felix.http.jetty:5.1.26]
        at org.apache.felix.http.base.internal.handler.FilterHandler.handle(FilterHandler.java:145) [org.apache.felix.http.jetty:5.1.26]
        at org.apache.felix.http.base.internal.dispatch.InvocationChain.doFilter(InvocationChain.java:81) [org.apache.felix.http.jetty:5.1.2
6]
        at org.apache.felix.http.base.internal.dispatch.Dispatcher$1.doFilter(Dispatcher.java:153) [org.apache.felix.http.jetty:5.1.26]
        at org.apache.felix.http.base.internal.whiteboard.WhiteboardManager$1.doFilter(WhiteboardManager.java:958) [org.apache.felix.http.je
tty:5.1.26]
        at org.apache.felix.http.sslfilter.internal.SslFilter.doFilter(SslFilter.java:122) [org.apache.felix.http.sslfilter:2.0.2]
        at org.apache.felix.http.base.internal.handler.PreprocessorHandler.handle(PreprocessorHandler.java:132) [org.apache.felix.http.jetty
:5.1.26]
        at org.apache.felix.http.base.internal.whiteboard.WhiteboardManager$1.doFilter(WhiteboardManager.java:964) [org.apache.felix.http.je
tty:5.1.26]
        at org.apache.felix.http.javaxwrappers.FilterChainWrapper.doFilter(FilterChainWrapper.java:45) [org.apache.felix.http.jetty:5.1.26]
        at org.apache.sling.engine.impl.log.RequestLoggerPreprocessor.doFilter(RequestLoggerPreprocessor.java:47) [org.apache.sling.engine:2.16.0]
        at org.apache.felix.http.jakartawrappers.FilterWrapper.doFilter(FilterWrapper.java:58) [org.apache.felix.http.jetty:5.1.26]
        at org.apache.felix.http.base.internal.handler.PreprocessorHandler.handle(PreprocessorHandler.java:132) [org.apache.felix.http.jetty:5.1.26]
        at org.apache.felix.http.base.internal.whiteboard.WhiteboardManager$1.doFilter(WhiteboardManager.java:964) [org.apache.felix.http.jetty:5.1.26]
        at org.apache.felix.http.base.internal.whiteboard.WhiteboardManager.invokePreprocessors(WhiteboardManager.java:968) [org.apache.felix.http.jetty:5.1.26]
        at org.apache.felix.http.base.internal.dispatch.Dispatcher.dispatch(Dispatcher.java:95) [org.apache.felix.http.jetty:5.1.26]
        at org.apache.felix.http.base.internal.dispatch.DispatcherServlet.service(DispatcherServlet.java:49) [org.apache.felix.http.jetty:5.1.26]

        at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:614) [org.apache.felix.http.servlet-api:3.0.0]
        at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:764) [org.apache.felix.http.jetty:5.1.26]
        at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:529) [org.apache.felix.http.jetty:5.1.26]
        at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:221) [org.apache.felix.http.jetty:5.1.26]
        at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1580) [org.apache.felix.http.jetty:5.1.26]
        at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:221) [org.apache.felix.http.jetty:5.1.26]
        at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1381) [org.apache.felix.http.jetty:5.1.26]
        at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:176) [org.apache.felix.http.jetty:5.1.26]
        at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:484) [org.apache.felix.http.jetty:5.1.26]
        at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1553) [org.apache.felix.http.jetty:5.1.26]
        at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:174) [org.apache.felix.http.jetty:5.1.26]
        at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1303) [org.apache.felix.http.jetty:5.1.26]
        at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:129) [org.apache.felix.http.jetty:5.1.26]
        at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:149) [org.apache.felix.http.jetty:5.1.26]
        at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:122) [org.apache.felix.http.jetty:5.1.26]
        at org.eclipse.jetty.server.Server.handle(Server.java:563) [org.apache.felix.http.jetty:5.1.26]
        at org.eclipse.jetty.server.HttpChannel$RequestDispatchable.dispatch(HttpChannel.java:1598) [org.apache.felix.http.jetty:5.1.26]
        at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:753) [org.apache.felix.http.jetty:5.1.26]
        at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:501) [org.apache.felix.http.jetty:5.1.26]
        at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:287) [org.apache.felix.http.jetty:5.1.26]
        at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:314) [org.apache.felix.http.jetty:5.1.26]
        at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:100) [org.apache.felix.http.jetty:5.1.26]
        at org.eclipse.jetty.io.SelectableChannelEndPoint$1.run(SelectableChannelEndPoint.java:53) [org.apache.felix.http.jetty:5.1.26]
        at org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.runTask(AdaptiveExecutionStrategy.java:421) [org.apache.felix.http.jetty:5.1.26]
        at org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.consumeTask(AdaptiveExecutionStrategy.java:390) [org.apache.felix.http.jetty:5.1.26]
        at org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.tryProduce(AdaptiveExecutionStrategy.java:277) [org.apache.felix.http.jetty:5.1.26]
        at org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.run(AdaptiveExecutionStrategy.java:199) [org.apache.felix.http.jetty:5.1.26]
        at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:411) [org.apache.felix.http.jetty:5.1.26]
        at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:969) [org.apache.felix.http.jetty:5.1.26]
        at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.doRunJob(QueuedThreadPool.java:1194) [org.apache.felix.http.jetty:5.1.26]
        at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1149) [org.apache.felix.http.jetty:5.1.26]
        at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.lang.IllegalArgumentException: Unable to resolve ClientConnection (name=github) of type org.apache.sling.auth.oauth_client.impl.OAuthConnectionImpl
        at org.apache.sling.auth.oauth_client.impl.ResolvedOAuthConnection.resolve(ResolvedOAuthConnection.java:64) [org.apache.sling.auth.oauth-client:0.1.2]
        at org.apache.sling.auth.oauth_client.impl.OAuthEntryPointServlet.getAuthenticationRequestUri(OAuthEntryPointServlet.java:109) [org.apache.sling.auth.oauth-client:0.1.2]
        at org.apache.sling.auth.oauth_client.impl.OAuthEntryPointServlet.doGet(OAuthEntryPointServlet.java:97) [org.apache.sling.auth.oauth-client:0.1.2]
        ... 81 common frames omitted
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13621597">SLING-12838</key>
            <summary>Support for non-OIDC connections broken</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nscendoni">Nicola Scendoni</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 23 Jun 2025 21:03:22 +0000</created>
                <updated>Wed, 25 Jun 2025 09:55:05 +0000</updated>
                            <resolved>Wed, 25 Jun 2025 08:41:40 +0000</resolved>
                                    <version>OAuth Client 0.1.2</version>
                                    <fixVersion>OAuth Client 0.1.4</fixVersion>
                                    <component>Authentication</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17985720" author="rombert" created="Mon, 23 Jun 2025 21:04:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nscendoni&quot; class=&quot;user-hover&quot; rel=&quot;nscendoni&quot;&gt;nscendoni&lt;/a&gt; - would you have time to take  a look? I could reproduce by running the Sling OAuth sample with the following patch applied on top of the current master&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;diff --git a/oauth/core/pom.xml b/oauth/core/pom.xml
index 36867d3..67bba42 100644
--- a/oauth/core/pom.xml
+++ b/oauth/core/pom.xml
@@ -157,7 +157,7 @@
         &amp;lt;dependency&amp;gt;
             &amp;lt;groupId&amp;gt;org.apache.sling&amp;lt;/groupId&amp;gt;
             &amp;lt;artifactId&amp;gt;org.apache.sling.auth.oauth-client&amp;lt;/artifactId&amp;gt;
-            &amp;lt;version&amp;gt;0.1.1-SNAPSHOT&amp;lt;/version&amp;gt;
+            &amp;lt;version&amp;gt;0.1.2&amp;lt;/version&amp;gt;
             &amp;lt;scope&amp;gt;provided&amp;lt;/scope&amp;gt;
         &amp;lt;/dependency&amp;gt;
         
diff --git a/oauth/launcher/pom.xml b/oauth/launcher/pom.xml
index 6083ea2..d0fd832 100644
--- a/oauth/launcher/pom.xml
+++ b/oauth/launcher/pom.xml
@@ -57,11 +57,18 @@
                         &amp;lt;aggregate&amp;gt;
                             &amp;lt;classifier&amp;gt;app&amp;lt;/classifier&amp;gt;
                             &amp;lt;filesInclude&amp;gt;*.json&amp;lt;/filesInclude&amp;gt;
+                            &amp;lt;includeArtifact&amp;gt;
+                                &amp;lt;groupId&amp;gt;org.apache.sling&amp;lt;/groupId&amp;gt;
+                                &amp;lt;artifactId&amp;gt;org.apache.sling.starter&amp;lt;/artifactId&amp;gt;
+                                &amp;lt;classifier&amp;gt;oak_tar&amp;lt;/classifier&amp;gt;
+                                &amp;lt;version&amp;gt;13&amp;lt;/version&amp;gt;
+                                &amp;lt;type&amp;gt;slingosgifeature&amp;lt;/type&amp;gt;
+                            &amp;lt;/includeArtifact&amp;gt;
                             &amp;lt;includeArtifact&amp;gt;
                                 &amp;lt;groupId&amp;gt;org.apache.sling&amp;lt;/groupId&amp;gt;
                                 &amp;lt;artifactId&amp;gt;org.apache.sling.auth.oauth-client&amp;lt;/artifactId&amp;gt;
-                                &amp;lt;classifier&amp;gt;app&amp;lt;/classifier&amp;gt;
-                                &amp;lt;version&amp;gt;0.1.1-SNAPSHOT&amp;lt;/version&amp;gt;
+                                &amp;lt;classifier&amp;gt;main&amp;lt;/classifier&amp;gt;
+                                &amp;lt;version&amp;gt;0.1.2&amp;lt;/version&amp;gt;
                                 &amp;lt;type&amp;gt;slingosgifeature&amp;lt;/type&amp;gt;
                             &amp;lt;/includeArtifact&amp;gt;
                        &amp;lt;/aggregate&amp;gt;
diff --git a/oauth/launcher/src/main/features/launcher.json b/oauth/launcher/src/main/features/launcher.json
index 3668111..ff5c5cb 100644
--- a/oauth/launcher/src/main/features/launcher.json
+++ b/oauth/launcher/src/main/features/launcher.json
@@ -3,10 +3,6 @@
     {
         &quot;id&quot;: &quot;org.apache.sling.samples/org.apache.sling.samples.oauth.core/1.0-SNAPSHOT&quot;,
         &quot;start-order&quot;: 25
-    },
-    {
-        &quot;id&quot;: &quot;org.apache.sling/org.apache.sling.auth.oauth-client/0.1.1-SNAPSHOT&quot;,
-        &quot;start-order&quot;: 24
     }
   ],
   &quot;content-packages:ARTIFACTS|required&quot;: [
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Then you need to configure and test the &apos;GitHub&apos; flow since that one uses plain OAuth 2.0 .&lt;/p&gt;</comment>
                            <comment id="17985903" author="nscendoni" created="Tue, 24 Jun 2025 15:26:31 +0000"  >&lt;p&gt;I created the PR: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-auth-oauth-client/pull/24/files&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-auth-oauth-client/pull/24/files&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I had to add the openid scope that is required with the new version of nimbus. Here the patch:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Index: oauth/launcher/src/main/features/launcher.json
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
&amp;lt;+&amp;gt;UTF-8
===================================================================
diff --git a/oauth/launcher/src/main/features/launcher.json b/oauth/launcher/src/main/features/launcher.json
--- a/oauth/launcher/src/main/features/launcher.json &#160; &#160;(revision 617f417a17aa80ff879f3ce7fa5f6cab173830d6)
+++ b/oauth/launcher/src/main/features/launcher.json &#160; &#160;(date 1750769153537)
@@ -3,10 +3,6 @@
&#160; &#160; &#160;{
&#160; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-quote&quot;&gt;&quot;id&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.sling.samples/org.apache.sling.samples.oauth.core/1.0-SNAPSHOT&quot;&lt;/span&gt;,
&#160; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-quote&quot;&gt;&quot;start-order&quot;&lt;/span&gt;: 25
- &#160; &#160;},
- &#160; &#160;{
- &#160; &#160; &#160; &#160;&lt;span class=&quot;code-quote&quot;&gt;&quot;id&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.sling/org.apache.sling.auth.oauth-client/0.1.1-SNAPSHOT&quot;&lt;/span&gt;,
- &#160; &#160; &#160; &#160;&lt;span class=&quot;code-quote&quot;&gt;&quot;start-order&quot;&lt;/span&gt;: 24
&#160; &#160; &#160;}
&#160; &#160;],
&#160; &#160;&lt;span class=&quot;code-quote&quot;&gt;&quot;content-packages:ARTIFACTS|required&quot;&lt;/span&gt;: [
@@ -29,7 +25,7 @@
&#160; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-quote&quot;&gt;&quot;tokenEndpoint&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;https:&lt;span class=&quot;code-comment&quot;&gt;//github.com/login/oauth/access_token&quot;&lt;/span&gt;,
&lt;/span&gt;&#160; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-quote&quot;&gt;&quot;clientId&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;$[secret:github/clientId]&quot;&lt;/span&gt;,
&#160; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-quote&quot;&gt;&quot;clientSecret&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;$[secret:github/clientSecret]&quot;&lt;/span&gt;,
- &#160; &#160; &#160; &#160;&lt;span class=&quot;code-quote&quot;&gt;&quot;scopes&quot;&lt;/span&gt;: [&lt;span class=&quot;code-quote&quot;&gt;&quot;user:email&quot;&lt;/span&gt;],
+ &#160; &#160; &#160; &#160;&lt;span class=&quot;code-quote&quot;&gt;&quot;scopes&quot;&lt;/span&gt;: [&lt;span class=&quot;code-quote&quot;&gt;&quot;openid&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;user:email&quot;&lt;/span&gt;],
&#160; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-quote&quot;&gt;&quot;additionalAuthorizationParameters&quot;&lt;/span&gt;: [&lt;span class=&quot;code-quote&quot;&gt;&quot;prompt=select_account&quot;&lt;/span&gt;]
&#160; &#160; &#160;},
&#160; &#160; &#160;&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.sling.auth.oauth_client.impl.JcrUserHomeOAuthTokenStore&quot;&lt;/span&gt; : {
 &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17986036" author="rombert" created="Wed, 25 Jun 2025 08:41:35 +0000"  >&lt;p&gt;Thanks for the fix &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nscendoni&quot; class=&quot;user-hover&quot; rel=&quot;nscendoni&quot;&gt;nscendoni&lt;/a&gt;! I applied your PR and will try it out on the samples repository later&lt;/p&gt;</comment>
                            <comment id="17986079" author="rombert" created="Wed, 25 Jun 2025 09:55:05 +0000"  >&lt;p&gt;The sample now works again for me, thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nscendoni&quot; class=&quot;user-hover&quot; rel=&quot;nscendoni&quot;&gt;nscendoni&lt;/a&gt;. Do you have a documentation reference to &quot;the openid scope that is required with the new version of nimbus&quot; ? It looks a bit suspicious to require an &apos;openid&apos; scope; maybe some OIDC specifics &apos;escaped&apos; into our OAuth implementation?&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13613081">SLING-12714</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1wg60:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12837] JCR installer incorrectly renames existing config files</title>
                <link>https://issues.apache.org/jira/browse/SLING-12837</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;JCR installer incorrectly renames existing config files in some cases.&lt;/p&gt;

&lt;p&gt;The specific case that is failing is as follows:&lt;br/&gt;
If we pass the let&apos;s say &quot;jcrinstall:/path/to/config.config&quot; in the URL of &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-installer-provider-jcr/blob/master/src/main/java/org/apache/sling/installer/provider/jcr/impl/JcrInstaller.java#L626&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;handleUpdate&lt;/a&gt; method, in this case tha path after update will be &quot;/path/to/config.config.cfg.json&quot;, whereas it should be &quot;/path/to/config.cfg.json&quot;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13621539">SLING-12837</key>
            <summary>JCR installer incorrectly renames existing config files</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ankursingla">Ankur Singla</reporter>
                        <labels>
                    </labels>
                <created>Mon, 23 Jun 2025 09:14:06 +0000</created>
                <updated>Fri, 11 Jul 2025 06:31:56 +0000</updated>
                                            <version>JCR Installer 3.2.2</version>
                                    <fixVersion>JCR Installer 3.3.2</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17985277" author="JIRAUSER301543" created="Mon, 23 Jun 2025 10:19:43 +0000"  >&lt;p&gt;I have raised a PR: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-installer-provider-jcr/pull/10&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-installer-provider-jcr/pull/10&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Please review.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="13621644">SLING-12839</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1wft4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12831] ResourceMatchers.resourceType(String) does not properly check resource type</title>
                <link>https://issues.apache.org/jira/browse/SLING-12831</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The implementation at &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-testing-hamcrest/blob/4970c4c44c978a710d682109973659f4bd481ed2/src/main/java/org/apache/sling/hamcrest/ResourceMatchers.java#L121&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-testing-hamcrest/blob/4970c4c44c978a710d682109973659f4bd481ed2/src/main/java/org/apache/sling/hamcrest/ResourceMatchers.java#L121&lt;/a&gt; just checks for a property with name &lt;tt&gt;sling:resourceType&lt;/tt&gt; which is not the same as checking if a resource has a certain type. I would suggest to rather build a dedicated matcher based on &lt;a href=&quot;https://sling.apache.org/apidocs/sling13/org/apache/sling/api/resource/ResourceResolver.html#isResourceType(org.apache.sling.api.resource.Resource,java.lang.String&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/apidocs/sling13/org/apache/sling/api/resource/ResourceResolver.html#isResourceType(org.apache.sling.api.resource.Resource,java.lang.String&lt;/a&gt;) (allowing inheritance) or &lt;a href=&quot;https://sling.apache.org/apidocs/sling13/org/apache/sling/api/resource/Resource.html#getResourceType(&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/apidocs/sling13/org/apache/sling/api/resource/Resource.html#getResourceType(&lt;/a&gt;) (only direct match).&lt;/p&gt;

&lt;p&gt;Compare with &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-12781&quot; title=&quot;Expose resource type and resource super type always also via getValueMap()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-12781&quot;&gt;&lt;del&gt;SLING-12781&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13621102">SLING-12831</key>
            <summary>ResourceMatchers.resourceType(String) does not properly check resource type</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Jun 2025 11:30:06 +0000</created>
                <updated>Wed, 25 Jun 2025 18:13:22 +0000</updated>
                            <resolved>Tue, 17 Jun 2025 12:55:49 +0000</resolved>
                                    <version>Testing Hamcrest 1.0.2</version>
                                    <fixVersion>Testing Hamcrest 1.1.0</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17979930" author="kwin" created="Tue, 17 Jun 2025 12:55:49 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-testing-hamcrest/commit/707201b6049cb2a7a3edaa403d15e6672f3bcf05&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-testing-hamcrest/commit/707201b6049cb2a7a3edaa403d15e6672f3bcf05&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13617862">SLING-12781</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1wd40:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12829] Sling launchpad ignores startlevel change of startup directory bundles</title>
                <link>https://issues.apache.org/jira/browse/SLING-12829</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Sling Launchpad Base ignores the startup directory bundles during installation - if the bundle is already installed and its version hasn&apos;t changed &#8212; even when the start level has been modified. This causes the start level update to be skipped unintentionally.&lt;/p&gt;

&lt;p&gt;Launchpad Base should recognize changes in bundle start levels &#8212; even when the version remains the same &#8212; and treat them as updates.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13621070">SLING-12829</key>
            <summary>Sling launchpad ignores startlevel change of startup directory bundles</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sagarmiglani">Sagar Miglani</assignee>
                                    <reporter username="sagarmiglani">Sagar Miglani</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Jun 2025 08:01:40 +0000</created>
                <updated>Tue, 15 Jul 2025 12:11:47 +0000</updated>
                            <resolved>Fri, 27 Jun 2025 06:19:42 +0000</resolved>
                                                    <fixVersion>Launchpad Base 2.8.2</fixVersion>
                                    <component>Launchpad</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17979871" author="sagarmiglani" created="Tue, 17 Jun 2025 08:32:56 +0000"  >&lt;p&gt;PR: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-launchpad-base/pull/16&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-launchpad-base/pull/16&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1wcww:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12827] Sample in Adaption.java is wrong/outdated</title>
                <link>https://issues.apache.org/jira/browse/SLING-12827</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-adapter/blob/master/src/main/java/org/apache/sling/adapter/Adaption.java#L32&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-adapter/blob/master/src/main/java/org/apache/sling/adapter/Adaption.java#L32&lt;/a&gt;&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;em&gt;adapters&lt;/em&gt; and &lt;em&gt;adaptables&lt;/em&gt; should be reversed&lt;/li&gt;
	&lt;li&gt;strategy parameter could be removed?&lt;/li&gt;
	&lt;li&gt;org.apache.sling.api.Resource -&amp;gt; org.apache.sling.api.resource.Resource&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="13620858">SLING-12827</key>
            <summary>Sample in Adaption.java is wrong/outdated</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="schulm">Martin Schulze</assignee>
                                    <reporter username="schulm">Martin Schulze</reporter>
                        <labels>
                    </labels>
                <created>Fri, 13 Jun 2025 13:46:02 +0000</created>
                <updated>Sat, 14 Jun 2025 19:46:09 +0000</updated>
                            <resolved>Sat, 14 Jun 2025 19:46:09 +0000</resolved>
                                                    <fixVersion>Adapter 2.3.2</fixVersion>
                                    <component>Samples</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17973506" author="JIRAUSER282297" created="Fri, 13 Jun 2025 14:02:53 +0000"  >&lt;p&gt;PR: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-adapter/pull/6&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-adapter/pull/6&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17976487" author="rombert" created="Sat, 14 Jun 2025 19:46:09 +0000"  >&lt;p&gt;PR applied, thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=schulm&quot; class=&quot;user-hover&quot; rel=&quot;schulm&quot;&gt;schulm&lt;/a&gt;!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1wbm0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12825] BookKeeperFactory should bind Processors greedy</title>
                <link>https://issues.apache.org/jira/browse/SLING-12825</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-journal/blob/master/src/main/java/org/apache/sling/distribution/journal/bookkeeper/BookKeeperFactory.java#L53-L55&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;BookKeeperFactory&lt;/a&gt; currently bind the importPre- importPost and invalidationProcessor non-greedy. The bundle also provides a NoOp implementation for each of the 3. This makes it unpredictable if a consumer implementation could be bound. We should bind the 3 references greedy.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13620195">SLING-12825</key>
            <summary>BookKeeperFactory should bind Processors greedy</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="diru">Dirk Rudolph</reporter>
                        <labels>
                    </labels>
                <created>Thu, 5 Jun 2025 18:10:52 +0000</created>
                <updated>Wed, 13 Aug 2025 14:58:32 +0000</updated>
                                                            <fixVersion>Content Distribution Journal Core 0.5.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            19 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1w7io:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12818] GraphQL variables has to be casted to the correct type</title>
                <link>https://issues.apache.org/jira/browse/SLING-12818</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;With the update of the graphql-java library form 20.9 to 24.0, variables (Float, Int, Boolean) have to be handed over in the correct casted type, not as a string anymore. To have the same behaviour we have to introduce LegacyCoercingInputInterceptor &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/graphql-java/graphql-java-page/blob/master/documentation/upgrade-notes.md#how-to-use-the-inputinterceptor-to-use-the-legacy-parsevalue-behaviour-prior-to-v220&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/graphql-java/graphql-java-page/blob/master/documentation/upgrade-notes.md#how-to-use-the-inputinterceptor-to-use-the-legacy-parsevalue-behaviour-prior-to-v220&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13619946">SLING-12818</key>
            <summary>GraphQL variables has to be casted to the correct type</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="schulm">Martin Schulze</assignee>
                                    <reporter username="schulm">Martin Schulze</reporter>
                        <labels>
                    </labels>
                <created>Tue, 3 Jun 2025 14:34:50 +0000</created>
                <updated>Mon, 7 Jul 2025 11:25:05 +0000</updated>
                            <resolved>Mon, 7 Jul 2025 11:25:05 +0000</resolved>
                                    <version>GraphQL Core 0.0.32</version>
                                    <fixVersion>GraphQL Core 0.0.34</fixVersion>
                                    <component>GraphQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17955916" author="JIRAUSER282297" created="Tue, 3 Jun 2025 14:36:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-graphql-core/pull/43&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-graphql-core/pull/43&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="18003474" author="bdelacretaz" created="Mon, 7 Jul 2025 11:25:05 +0000"  >&lt;p&gt;Fixed by commit 23aab81937d34abded59739437167ad67ce1d711&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1w5zc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12808] HTL display context &quot;text&quot; doesn&apos;t encode spaces</title>
                <link>https://issues.apache.org/jira/browse/SLING-12808</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;According to &lt;a href=&quot;https://github.com/adobe/htl-spec/blob/1.4/SPECIFICATION.md#121-display-context&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/adobe/htl-spec/blob/1.4/SPECIFICATION.md#121-display-context&lt;/a&gt; the context &lt;tt&gt;text&lt;/tt&gt; should be used ...&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;for simple HTML content - Encodes all HTML&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;However this doesn&apos;t escape regular spaces. Particularly not consecutive spaces which are otherwise rendered as a single space as mandated by the HTML spec. I think this context needs to replace at least all leading/tailing spaces with &lt;tt&gt;&amp;nbsp;&lt;/tt&gt; and also multiple consecutive spaces appearing anywhere else. Otherwise the given text will not be displayed as is (unmodified) to the end user.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13619416">SLING-12808</key>
            <summary>HTL display context &quot;text&quot; doesn&apos;t encode spaces</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Wed, 28 May 2025 11:00:49 +0000</created>
                <updated>Wed, 28 May 2025 17:05:29 +0000</updated>
                            <resolved>Wed, 28 May 2025 17:04:55 +0000</resolved>
                                                                    <component>HTL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17954552" author="kwin" created="Wed, 28 May 2025 11:06:10 +0000"  >&lt;p&gt;The implementation currently uses &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-scripting-sightly/blob/830368475ba100e3bde18be49a73f79b1b927c14/src/main/java/org/apache/sling/scripting/sightly/impl/engine/extension/XSSRuntimeExtension.java#L96&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-scripting-sightly/blob/830368475ba100e3bde18be49a73f79b1b927c14/src/main/java/org/apache/sling/scripting/sightly/impl/engine/extension/XSSRuntimeExtension.java#L96&lt;/a&gt;. The javadoc of &lt;a href=&quot;https://sling.apache.org/apidocs/sling13/org/apache/sling/xss/XSSAPI.html#encodeForHTML(java.lang.String&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/apidocs/sling13/org/apache/sling/xss/XSSAPI.html#encodeForHTML(java.lang.String&lt;/a&gt;) is not very clear though. I tend to say this is rather a bug inside the XSSApi.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=radu&quot; class=&quot;user-hover&quot; rel=&quot;radu&quot;&gt;radu&lt;/a&gt; Has this been discussed before. Do you consider this a bug?&lt;/p&gt;</comment>
                            <comment id="17954642" author="kwin" created="Wed, 28 May 2025 17:04:45 +0000"  >&lt;p&gt;I was not aware that the whitespace behaviour of HTML elements could be modified with CSS (&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/CSS/white-space&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://developer.mozilla.org/en-US/docs/Web/CSS/white-space&lt;/a&gt;) on client-side. Given that there is no need to do escaping of spaces on the server-side.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1w2ps:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12801] Error handler does not reset the response during include</title>
                <link>https://issues.apache.org/jira/browse/SLING-12801</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;SlingHttpServletResponseImpl.reset checks if the validation for include is enabled and resets the response only for non-enabled cases.&lt;br/&gt;
For error handling, this is wrong. The ErrorFilterChain calls the reset during the doFilter method to meet the &quot;resetting policy&quot; documented on:&lt;br/&gt;
&lt;a href=&quot;https://sling.apache.org/documentation/the-sling-engine/errorhandling.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/documentation/the-sling-engine/errorhandling.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13619216">SLING-12801</key>
            <summary>Error handler does not reset the response during include</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="rliechti">Remo Liechti</reporter>
                        <labels>
                    </labels>
                <created>Mon, 26 May 2025 13:40:10 +0000</created>
                <updated>Tue, 30 Sep 2025 09:24:29 +0000</updated>
                            <resolved>Tue, 3 Jun 2025 07:59:28 +0000</resolved>
                                    <version>Engine 3.0.0</version>
                    <version>Engine 2.16.2</version>
                                    <fixVersion>Engine 3.0.0</fixVersion>
                    <fixVersion>Engine 2.16.4</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1w1hc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12800] SNAPSHOT artifacts not reinstalled after building locally</title>
                <link>https://issues.apache.org/jira/browse/SLING-12800</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When Eclipse uses a bundle pool ( &lt;a href=&quot;https://wiki.eclipse.org/Equinox/p2/Getting_Started#Bundle_pooling&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://wiki.eclipse.org/Equinox/p2/Getting_Started#Bundle_pooling&lt;/a&gt; ) as is usually done by the installer bundles are cached.&lt;/p&gt;

&lt;p&gt;When updating from a locally build p2 site the &apos;shared&apos; bundles are not refreshed because they have the same name/version and are therefore pulled from the p2 pool, not from the update site.&lt;/p&gt;

&lt;p&gt;Workaround:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;uninstall Sling IDE tooling&lt;/li&gt;
	&lt;li&gt;Go to Preferences &#8594; Ooomph &#8594; Bundle pools and run the Cleanup Agent&lt;/li&gt;
	&lt;li&gt;install Sling IDE Tooling&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="13619022">SLING-12800</key>
            <summary>SNAPSHOT artifacts not reinstalled after building locally</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 23 May 2025 13:48:24 +0000</created>
                <updated>Wed, 28 May 2025 13:10:26 +0000</updated>
                                                            <fixVersion>Sling Eclipse IDE 1.3.2</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17953710" author="rombert" created="Fri, 23 May 2025 14:13:48 +0000"  >&lt;p&gt;This might be caused by my incorrect usage of the p2update repository ... If I run this outside the reactor I notice it&apos;s downloading some artifacts from the apache.snapshots repository.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ mvn -f eclipse/p2update clean install
(...)
[INFO] Resolving MavenDependencyRoots = [GroupId = org.apache.sling.ide, ArtifactId = org.apache.sling.ide.eclipse-core, Version = 1.2.3-SNAPSHOT, ArtifactType = jar, IncludeDependencyScope = , GroupId = org.apache.sling.ide, ArtifactId = org.apache.sling.ide.eclipse-ui, Version = 1.2.3-SNAPSHOT, ArtifactType = jar, IncludeDependencyScope = , GroupId = org.apache.sling.ide, ArtifactId = org.apache.sling.ide.eclipse-m2e-core, Version = 1.2.3-SNAPSHOT, ArtifactType = jar, IncludeDependencyScope = , GroupId = org.apache.sling.ide, ArtifactId = org.apache.sling.ide.eclipse-m2e-ui, Version = 1.2.3-SNAPSHOT, ArtifactType = jar, IncludeDependencyScope = , GroupId = org.apache.sling.ide, ArtifactId = org.apache.sling.ide.eclipse-sightly-core, Version = 1.2.3-SNAPSHOT, ArtifactType = jar, IncludeDependencyScope = , GroupId = org.apache.sling.ide, ArtifactId = org.apache.sling.ide.eclipse-sightly-ui, Version = 1.2.3-SNAPSHOT, ArtifactType = jar, IncludeDependencyScope = ], IncludeDependencyScope = [compile], MissingManifestStrategy = ERROR, IncludeSource = false
Downloading from apache.snapshots: https://repository.apache.org/snapshots/org/apache/sling/ide/org.apache.sling.ide.eclipse-core/1.2.3-SNAPSHOT/maven-metadata.xml
Downloaded from apache.snapshots: https://repository.apache.org/snapshots/org/apache/sling/ide/org.apache.sling.ide.eclipse-core/1.2.3-SNAPSHOT/maven-metadata.xml (1.5 kB at 2.2 kB/s)
Downloading from apache.snapshots: https://repository.apache.org/snapshots/org/apache/sling/ide/org.apache.sling.ide.eclipse-core/1.2.3-SNAPSHOT/org.apache.sling.ide.eclipse-core-1.2.3-20250523.140221-135.jar
Downloaded from apache.snapshots: https://repository.apache.org/snapshots/org/apache/sling/ide/org.apache.sling.ide.eclipse-core/1.2.3-SNAPSHOT/org.apache.sling.ide.eclipse-core-1.2.3-20250523.140221-135.jar (122 kB at 674 kB/s)
Downloading from apache.snapshots: https://repository.apache.org/snapshots/org/apache/sling/ide/org.apache.sling.ide.eclipse-ui/1.2.3-SNAPSHOT/maven-metadata.xml
Downloaded from apache.snapshots: https://repository.apache.org/snapshots/org/apache/sling/ide/org.apache.sling.ide.eclipse-ui/1.2.3-SNAPSHOT/maven-metadata.xml (1.5 kB at 3.5 kB/s)
Downloading from apache.snapshots: https://repository.apache.org/snapshots/org/apache/sling/ide/org.apache.sling.ide.eclipse-ui/1.2.3-SNAPSHOT/org.apache.sling.ide.eclipse-ui-1.2.3-20250523.140221-135.jar
Downloaded from apache.snapshots: https://repository.apache.org/snapshots/org/apache/sling/ide/org.apache.sling.ide.eclipse-ui/1.2.3-SNAPSHOT/org.apache.sling.ide.eclipse-ui-1.2.3-20250523.140221-135.jar (461 kB at 2.6 MB/s)
Downloading from apache.snapshots: https://repository.apache.org/snapshots/org/apache/sling/ide/org.apache.sling.ide.eclipse-m2e-core/1.2.3-SNAPSHOT/maven-metadata.xml
Downloaded from apache.snapshots: https://repository.apache.org/snapshots/org/apache/sling/ide/org.apache.sling.ide.eclipse-m2e-core/1.2.3-SNAPSHOT/maven-metadata.xml (1.5 kB at 1.7 kB/s)
Downloading from apache.snapshots: https://repository.apache.org/snapshots/org/apache/sling/ide/org.apache.sling.ide.eclipse-m2e-ui/1.2.3-SNAPSHOT/maven-metadata.xml
Downloaded from apache.snapshots: https://repository.apache.org/snapshots/org/apache/sling/ide/org.apache.sling.ide.eclipse-m2e-ui/1.2.3-SNAPSHOT/maven-metadata.xml (1.5 kB at 2.2 kB/s)
Downloading from apache.snapshots: https://repository.apache.org/snapshots/org/apache/sling/ide/org.apache.sling.ide.eclipse-sightly-core/1.2.3-SNAPSHOT/maven-metadata.xml
Downloaded from apache.snapshots: https://repository.apache.org/snapshots/org/apache/sling/ide/org.apache.sling.ide.eclipse-sightly-core/1.2.3-SNAPSHOT/maven-metadata.xml (1.5 kB at 1.8 kB/s)
Downloading from apache.snapshots: https://repository.apache.org/snapshots/org/apache/sling/ide/org.apache.sling.ide.eclipse-sightly-ui/1.2.3-SNAPSHOT/maven-metadata.xml
Downloaded from apache.snapshots: https://repository.apache.org/snapshots/org/apache/sling/ide/org.apache.sling.ide.eclipse-sightly-ui/1.2.3-SNAPSHOT/maven-metadata.xml (1.5 kB at 1.4 kB/s)
(...)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17953722" author="rombert" created="Fri, 23 May 2025 15:07:39 +0000"  >&lt;p&gt;On further note, it seems that the SNAPSHOT artifacts refresh is not seen by the p2 installer. If I run the following:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;tt&gt;mvn -f shared clean install&lt;/tt&gt;&lt;/li&gt;
	&lt;li&gt;&lt;tt&gt;mvn -f eclipser/p2update clean install&lt;/tt&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The &apos;shared&apos; artifacts from the p2 site are refreshed, based on the checksum, but the p2 installer from eclipse does not detect any updates, even after refreshing the local update site.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1w0a8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12798] 2.json Fails to Retrieve Child Pages for Page Nodes</title>
                <link>https://issues.apache.org/jira/browse/SLING-12798</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Recently, I had some free time and tested the latest SlingCMS system. I was trying to get the JSON of a page&apos;s child pages but found that I couldn&apos;t retrieve it correctly.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Steps to Reproduce:&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160;1.When a page (let&apos;s call it xxx) has child pages, information about these child pages cannot be retrieved from xxx.2.json.&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160;2.If the child pages are placed under the page&apos;s jcr:content node, they can then be retrieved. However, this is not the correct content structure.&lt;/p&gt;

&lt;p&gt;&#160; &#160; &#160; &#160;3.If xxx is a folder or a sling:Site, xxx.2.json correctly retrieves the child pages. The issue only occurs when xxx is a page.&lt;/p&gt;

&lt;p&gt;I tested this on an AEM system, and this problem does not occur;&#160;xxx.2.json&#160;correctly retrieves child pages when&#160;xxx&#160;is a page.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13619000">SLING-12798</key>
            <summary>2.json Fails to Retrieve Child Pages for Page Nodes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="James.R">James Raynor</reporter>
                        <labels>
                    </labels>
                <created>Fri, 23 May 2025 09:36:17 +0000</created>
                <updated>Fri, 23 May 2025 09:40:32 +0000</updated>
                                            <version>App CMS 1.1.8</version>
                                                    <component>App CMS</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                            <attachment id="13076659" name="1.Node Browser.png" size="59923" author="James.R" created="Fri, 23 May 2025 09:35:39 +0000"/>
                            <attachment id="13076658" name="2.JSON.png" size="137745" author="James.R" created="Fri, 23 May 2025 09:35:45 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1w05c:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12789] StringInterpolationProviderImpl Not Refreshing MapEntries After Configuration Changes</title>
                <link>https://issues.apache.org/jira/browse/SLING-12789</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The changes in the StringInterpolationProviderImpl configuration are not dynamically applied and MapEntries are not being refreshed. We need a mechanism where MapEntries take the latest values of StringInterpolationProvider configuration&lt;/p&gt;</description>
                <environment></environment>
        <key id="13618590">SLING-12789</key>
            <summary>StringInterpolationProviderImpl Not Refreshing MapEntries After Configuration Changes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ankursingla">Ankur Singla</reporter>
                        <labels>
                    </labels>
                <created>Tue, 20 May 2025 04:40:01 +0000</created>
                <updated>Tue, 20 May 2025 04:40:01 +0000</updated>
                                                                            <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            22 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1vxm0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12786] Feature Launcher Maven Plugin build fails on Java 21: Unsupported class file major version 65  </title>
                <link>https://issues.apache.org/jira/browse/SLING-12786</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description></description>
                <environment></environment>
        <key id="13618540">SLING-12786</key>
            <summary>Feature Launcher Maven Plugin build fails on Java 21: Unsupported class file major version 65  </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 19 May 2025 15:10:27 +0000</created>
                <updated>Fri, 23 May 2025 12:30:02 +0000</updated>
                            <resolved>Mon, 19 May 2025 15:18:01 +0000</resolved>
                                                    <fixVersion>Feature Launcher Maven Plugin 0.1.8</fixVersion>
                                    <component>Maven Plugins and Archetypes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            22 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1vxaw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12781] Expose resource type and resource super type always also via getValueMap()</title>
                <link>https://issues.apache.org/jira/browse/SLING-12781</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;As discussed in &lt;a href=&quot;https://lists.apache.org/thread/qfj6m7tkvkyz1zvx0fc93385yp1ho04j&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://lists.apache.org/thread/qfj6m7tkvkyz1zvx0fc93385yp1ho04j&lt;/a&gt; the resource type and the optional super type should always be exposed as regular properties &lt;tt&gt;sling:resourceType&lt;/tt&gt; and &lt;tt&gt;sling:resourceSuperType&lt;/tt&gt; via the resource&apos;s valuemap.&lt;br/&gt;
Also setting those properties via &lt;a href=&quot;https://sling.apache.org/apidocs/sling13/org/apache/sling/api/resource/ModifiableValueMap.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ModifiableResourceType&lt;/a&gt; should modify the return value of &lt;tt&gt;Resource.getResourceType()&lt;/tt&gt; an &lt;tt&gt;Resource.getResourceSuperType()&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;This allows to also set the type/super type in the &lt;tt&gt;ResourceResolver.create(...)&lt;/tt&gt; method via the properties arguments (no matter which resource provider is serving the new resource)&lt;/p&gt;</description>
                <environment></environment>
        <key id="13617862">SLING-12781</key>
            <summary>Expose resource type and resource super type always also via getValueMap()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Mon, 12 May 2025 14:45:58 +0000</created>
                <updated>Fri, 17 Oct 2025 15:11:26 +0000</updated>
                            <resolved>Tue, 17 Jun 2025 12:07:49 +0000</resolved>
                                                    <fixVersion>JCR Resource 3.3.4</fixVersion>
                    <fixVersion>API 3.0.0</fixVersion>
                                    <component>API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17950996" author="kwin" created="Mon, 12 May 2025 15:19:29 +0000"  >&lt;p&gt;Problem is that the &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-api/blob/master/src/main/java/org/apache/sling/api/resource/AbstractResource.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;AbstractResource&lt;/a&gt; implements the &lt;tt&gt;getValueMap&lt;/tt&gt; but currently does neither implement &lt;tt&gt;getResourceType&lt;/tt&gt; nor &lt;tt&gt;getResourceSuperType&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;If management of types should be built into &lt;tt&gt;AbstractResource&lt;/tt&gt; it must either &lt;br/&gt;
1. Manage all properties (probably cannot be achieved in a non-backwards compatible way) or&lt;br/&gt;
2. Separates somehow the primary properties (type and super type) from the other ones, however the &lt;tt&gt;MergingValueMap&lt;/tt&gt; is currently always immutable. Should there be another implementation of ValueMap which separates those primary types from the others? How to make sure this composite valuemap is returned not only for &lt;tt&gt;getValueMap&lt;/tt&gt; but also for &lt;tt&gt;adaptTo(ValueMap)&lt;/tt&gt; and &lt;tt&gt;adaptTo(ModifiableValueMap)&lt;/tt&gt;...&lt;/p&gt;

&lt;p&gt;WDYT &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="17951120" author="cziegeler" created="Tue, 13 May 2025 07:59:10 +0000"  >&lt;p&gt;I would leave AbstractResource untouched rather implement it in every resource provider in the real resources (which I think we did). Changing AbstractResource might be too dangerous as the blast radius might be very large&lt;/p&gt;</comment>
                            <comment id="17979919" author="kwin" created="Tue, 17 Jun 2025 12:07:49 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-api/commit/0fc8622cf1fdb0236039586e11da5fc6a044563b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-api/commit/0fc8622cf1fdb0236039586e11da5fc6a044563b&lt;/a&gt; (Sling API) and &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-jcr-resource/commit/fe35d53a1b0f8ff1a7616909f16539b759bd0bdd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-jcr-resource/commit/fe35d53a1b0f8ff1a7616909f16539b759bd0bdd&lt;/a&gt; (JCR Resource)&lt;/p&gt;</comment>
                            <comment id="18022432" author="kwin" created="Wed, 24 Sep 2025 13:50:17 +0000"  >&lt;p&gt;Partially reverted (for JCR Resource) in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-12950&quot; title=&quot;Prevent exposing the sling:resourceType from JCR Resource Resolver if just derived from jcr:primaryType&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-12950&quot;&gt;&lt;del&gt;SLING-12950&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                            <outwardlinks description="causes">
                                        <issuelink>
            <issuekey id="13629576">SLING-12944</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13629828">SLING-12950</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13621102">SLING-12831</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1vt48:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12779] sling-mock: content loader should not ignore jcr:mixinTypes properties for any resource resolver mock</title>
                <link>https://issues.apache.org/jira/browse/SLING-12779</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The property with name &lt;tt&gt;jcr:mixinTypes&lt;/tt&gt; is ignored for any resource resolver mock type except &lt;tt&gt;JCR_OAK&lt;/tt&gt;: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-testing-sling-mock/blob/6ea32b6d333777ec2057b0b072c22c4421d02a69/core/src/main/java/org/apache/sling/testing/mock/sling/loader/ContentLoader.java#L83&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-testing-sling-mock/blob/6ea32b6d333777ec2057b0b072c22c4421d02a69/core/src/main/java/org/apache/sling/testing/mock/sling/loader/ContentLoader.java#L83&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;However this property is often crucial for tests which at run time leverage this property (as they assume a JCR resource resolver) however for performance reason just use a another resource resolver type than JCR_OAK.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13617592">SLING-12779</key>
            <summary>sling-mock: content loader should not ignore jcr:mixinTypes properties for any resource resolver mock</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Thu, 8 May 2025 16:55:40 +0000</created>
                <updated>Fri, 5 Sep 2025 21:27:53 +0000</updated>
                            <resolved>Tue, 13 May 2025 09:40:00 +0000</resolved>
                                    <version>Testing Sling Mock 3.5.4</version>
                                    <fixVersion>Testing Sling Mock 4.0.0</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17950345" author="kwin" created="Thu, 8 May 2025 17:05:27 +0000"  >&lt;p&gt;The ignore for &lt;tt&gt;jcr:mixinTypes&lt;/tt&gt; was probably always be there but the reason is unclear to me. Initially also &lt;tt&gt;jcr:primaryType&lt;/tt&gt; was ignored but this is no longer skipped since &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6595&quot; title=&quot;sling-mock: Use File System Content Parser for parsing JSON files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6595&quot;&gt;&lt;del&gt;SLING-6595&lt;/del&gt;&lt;/a&gt; (&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-testing-sling-mock/commit/3cbf64d10c9c063ce85b3bbe52fc9a4737e25258&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-testing-sling-mock/commit/3cbf64d10c9c063ce85b3bbe52fc9a4737e25258&lt;/a&gt;). &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseifert&quot; class=&quot;user-hover&quot; rel=&quot;sseifert&quot;&gt;sseifert&lt;/a&gt; Any insights here?&lt;/p&gt;</comment>
                            <comment id="17950998" author="sseifert@pro-vision.de" created="Mon, 12 May 2025 15:32:05 +0000"  >&lt;p&gt;i think it was ignored in the past, because jcr-mock did not support mixins. but that changed with &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-11779&quot; title=&quot;Implement mixin support for JCR Mock&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-11779&quot;&gt;&lt;del&gt;SLING-11779&lt;/del&gt;&lt;/a&gt;, so it should be fine to support it now in the loader as well.&lt;/p&gt;</comment>
                            <comment id="17951147" author="kwin" created="Tue, 13 May 2025 09:39:14 +0000"  >&lt;p&gt;This is not about low level JCR API support but just about being able to import the Sling resource properties and expose them via &lt;tt&gt;getValueMap()&lt;/tt&gt;. Similar as for &lt;tt&gt;jcr:primaryType&lt;/tt&gt; this should work irrespective if a JCR is used under the hood or some other resource provider (although the property has a special meaning in JCR).&lt;/p&gt;</comment>
                            <comment id="17951148" author="kwin" created="Tue, 13 May 2025 09:40:00 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-testing-sling-mock/commit/05f5bf49ec8fdf00d3415244cd3b3e570b4c546f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-testing-sling-mock/commit/05f5bf49ec8fdf00d3415244cd3b3e570b4c546f&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            23 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1vrg8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12772] No longer compatible with m2e 2.1.0+ in AbstractNewMavenBasedSlingApplicationWizard</title>
                <link>https://issues.apache.org/jira/browse/SLING-12772</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The following exception is thrown:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
java.lang.Error: Unresolved compilation problem: 
	The method createArchetypeProjects(IPath, IArchetype, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, Map&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;,&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt;, &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt;, IProgressMonitor) in the type ArchetypeGenerator is not applicable &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; the arguments (IPath, IArchetype, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, Properties, &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt;, NullProgressMonitor)
	at org.apache.sling.ide.eclipse.ui.wizards.np.AbstractNewMavenBasedSlingApplicationWizard.createProjects(AbstractNewMavenBasedSlingApplicationWizard.java:130)
	at org.apache.sling.ide.eclipse.ui.wizards.AbstractNewSlingApplicationWizard$1.execute(AbstractNewSlingApplicationWizard.java:115)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13616845">SLING-12772</key>
            <summary>No longer compatible with m2e 2.1.0+ in AbstractNewMavenBasedSlingApplicationWizard</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="3" iconUrl="https://issues.apache.org/jira/images/icons/statuses/inprogress.png" description="This issue is being actively worked on at the moment by the assignee.">In Progress</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Wed, 30 Apr 2025 18:55:50 +0000</created>
                <updated>Wed, 30 Apr 2025 18:56:40 +0000</updated>
                                            <version>Sling Eclipse IDE 1.3.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17948572" author="kwin" created="Wed, 30 Apr 2025 18:56:29 +0000"  >&lt;p&gt;This is due to leveraging m2e internal API which has changed with &lt;a href=&quot;https://github.com/eclipse-m2e/m2e-core/commit/fae15a82dfc7ac21519a37420dc230f86993211c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/eclipse-m2e/m2e-core/commit/fae15a82dfc7ac21519a37420dc230f86993211c&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            25 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1vmu8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12760] Sling engine POST parameter parser is disrupted by osgi whiteboard filters using parameters.</title>
                <link>https://issues.apache.org/jira/browse/SLING-12760</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;An OSGI early servlet filter (org.osgi.service.http.whiteboard.Preprocessor service) can&apos;t use getParameter* family of request methods in POST requests. Otherwise the sling&apos;s own x-www-form-urlencoded parser fails and sling request methods report 0 parameters regardless of contents of the request.&lt;/p&gt;

&lt;p&gt;The most likely cause is the fact that request input stream is consumed by parameter parser of underlying servlet engine (tested with jetty on AEM 6.5) when called from the filter.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;here&apos;s a piece of code to demonstrate the problem:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
@Component(service = Preprocessor.class,
&#160; &#160; immediate = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;,
&#160; &#160; property = {
&#160; &#160; &#160; &#160; HttpWhiteboardConstants.HTTP_WHITEBOARD_FILTER_PATTERN + &lt;span class=&quot;code-quote&quot;&gt;&quot;=/&quot;&lt;/span&gt;,
&#160; &#160; &#160; &#160; HttpWhiteboardConstants.HTTP_WHITEBOARD_CONTEXT_SELECT + &lt;span class=&quot;code-quote&quot;&gt;&quot;=(osgi.http.whiteboard.context.name=*)&quot;&lt;/span&gt;
&#160; &#160; })
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;FaultyFilter &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; Preprocessor {&#160; &#160;
 @Override
&#160; &#160; &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)
&#160; &#160; &#160; &#160; &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException, ServletException {
        &lt;span class=&quot;code-comment&quot;&gt;//calling &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; method in processor triggers the problem.
&lt;/span&gt;&#160; &#160; &#160; &#160; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; resource = request.getParameter(&lt;span class=&quot;code-quote&quot;&gt;&quot;someParameter&quot;&lt;/span&gt;);
&#160; &#160; &#160; &#160; filterChain.doFilter(servletRequest, servletResponse);
&#160; &#160; }
}
 &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13616157">SLING-12760</key>
            <summary>Sling engine POST parameter parser is disrupted by osgi whiteboard filters using parameters.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="dominik.smogor@richemont.com">Dominik Smog&#243;r</reporter>
                        <labels>
                    </labels>
                <created>Wed, 23 Apr 2025 16:27:00 +0000</created>
                <updated>Wed, 23 Apr 2025 16:33:22 +0000</updated>
                                            <version>Engine 2.7.10</version>
                                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17946757" author="cziegeler" created="Wed, 23 Apr 2025 16:33:22 +0000"  >&lt;p&gt;yes, this is a known restriction. Hopefully, it will be fixed with &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-12497&quot; title=&quot;Replace Commons FileUpload with Servlet API &quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-12497&quot;&gt;SLING-12497&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            26 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1vilc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12755] Break cyclic dependencies between the SightlyScriptEngineFactory and the BundledUnitManagerImpl service</title>
                <link>https://issues.apache.org/jira/browse/SLING-12755</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-9320&quot; title=&quot;Allow bundled render units to access objects from the same bundle through the Use API&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-9320&quot;&gt;&lt;del&gt;SLING-9320&lt;/del&gt;&lt;/a&gt; introduced a cyclic dependency between the &lt;tt&gt;SightlyScriptEngineFactory&lt;/tt&gt; and the &lt;tt&gt;BundledUnitManagerImpl&lt;/tt&gt; service, where the former directly references the latter, while the latter requires the former via the &lt;tt&gt;ScriptEngineManager&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;This cycle should be completely removed by refactoring the two services.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13616016">SLING-12755</key>
            <summary>Break cyclic dependencies between the SightlyScriptEngineFactory and the BundledUnitManagerImpl service</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 22 Apr 2025 11:47:29 +0000</created>
                <updated>Thu, 8 May 2025 08:04:13 +0000</updated>
                            <resolved>Mon, 28 Apr 2025 12:03:53 +0000</resolved>
                                    <version>Scripting HTL Engine 1.4.0-1.4.0</version>
                                    <fixVersion>Scripting HTL Engine 1.4.28-1.4.0</fixVersion>
                    <fixVersion>Scripting HTL JS Use Provider 1.2.14</fixVersion>
                    <fixVersion>Scripting HTL Testing 1.0.40-1.4.0</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                    <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13561163">SLING-12194</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            26 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1vhq0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12749] SlingConfigurationPrinterTest relies on system locale</title>
                <link>https://issues.apache.org/jira/browse/SLING-12749</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;SlingConfigurationPrinterTest assumes &quot;HumanReadableByteCount&quot; to use English (or equivalent) formatting of floats.&lt;/p&gt;

&lt;p&gt;We either should fix the test assumption, or the actual code that produces the result.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13615377">SLING-12749</key>
            <summary>SlingConfigurationPrinterTest relies on system locale</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="reschke">Julian Reschke</reporter>
                        <labels>
                    </labels>
                <created>Tue, 15 Apr 2025 14:44:46 +0000</created>
                <updated>Fri, 9 May 2025 12:54:59 +0000</updated>
                            <resolved>Tue, 15 Apr 2025 15:30:33 +0000</resolved>
                                                    <fixVersion>Commons Log 6.0.0</fixVersion>
                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17944748" author="reschke" created="Tue, 15 Apr 2025 14:47:31 +0000"  >&lt;p&gt;Like that:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
diff --git a/src/main/java/org/apache/sling/commons/log/logback/internal/SlingConfigurationPrinter.java b/src/main/java/org/apache/sling/commons/log/logback/internal/SlingConfigurationPrinter.java
index b26df61..187afdc 100644
--- a/src/main/java/org/apache/sling/commons/log/logback/internal/SlingConfigurationPrinter.java
+++ b/src/main/java/org/apache/sling/commons/log/logback/internal/SlingConfigurationPrinter.java
@@ -30,6 +30,7 @@ &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.util.Collection;
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.util.Collections;
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.util.Comparator;
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.util.List;
+&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.util.Locale;

 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; ch.qos.logback.classic.LoggerContext;
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; ch.qos.logback.classic.spi.ILoggingEvent;
@@ -286,7 +287,7 @@ &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;SlingConfigurationPrinter {
         }
         &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; exp = (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;) (&lt;span class=&quot;code-object&quot;&gt;Math&lt;/span&gt;.log(bytes) / &lt;span class=&quot;code-object&quot;&gt;Math&lt;/span&gt;.log(unit));
         &lt;span class=&quot;code-object&quot;&gt;char&lt;/span&gt; pre = &lt;span class=&quot;code-quote&quot;&gt;&quot;kMGTPE&quot;&lt;/span&gt;.charAt(exp - 1);
-        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.format(&lt;span class=&quot;code-quote&quot;&gt;&quot;%.1f %sB&quot;&lt;/span&gt;, bytes / &lt;span class=&quot;code-object&quot;&gt;Math&lt;/span&gt;.pow(unit, exp), pre);
+        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.format(Locale.ENGLISH, &lt;span class=&quot;code-quote&quot;&gt;&quot;%.1f %sB&quot;&lt;/span&gt;, bytes / &lt;span class=&quot;code-object&quot;&gt;Math&lt;/span&gt;.pow(unit, exp), pre);
     }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17944768" author="cziegeler" created="Tue, 15 Apr 2025 15:30:33 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=reschke&quot; class=&quot;user-hover&quot; rel=&quot;reschke&quot;&gt;reschke&lt;/a&gt;. I fixed it as you suggested &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-commons-log/commit/f873fa2013dc400f878bc5722626e56a62fbf2a9&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-commons-log/commit/f873fa2013dc400f878bc5722626e56a62fbf2a9&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            27 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1vds0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12744] Sling XSS is stripping away international telephone prefix ( +tel )</title>
                <link>https://issues.apache.org/jira/browse/SLING-12744</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Sling XSS is stripping away international telephone prefix ( +tel )&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;br/&gt;
Defined a regular expression here&lt;br/&gt;
&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;lt;regexp name=&lt;span class=&quot;code-quote&quot;&gt;&quot;telURL&quot;&lt;/span&gt; value=&lt;span class=&quot;code-quote&quot;&gt;&quot;tel:[\+0-9]+&quot;&lt;/span&gt;/&amp;gt; &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;br/&gt;
Added the regex:&lt;br/&gt;
&#160;&lt;br/&gt;
&#160;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&amp;lt;attribute name=&quot;href&quot;&amp;gt; &amp;lt;regexp-list&amp;gt; &amp;lt;regexp name=&quot;onsiteURL&quot;/&amp;gt; &amp;lt;regexp name=&quot;offsiteURL&quot;/&amp;gt; &amp;lt;regexp name=&quot;expressionURL&quot;/&amp;gt; &amp;lt;regexp name=&quot;telURL&quot;/&amp;gt; &amp;lt;/regexp-list&amp;gt; &amp;lt;/attribute&amp;gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;We can reproduce by having a text component and following these steps&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Add the number&lt;/li&gt;
	&lt;li&gt;Do Save
	&lt;ul&gt;
		&lt;li&gt;Check the POST Call&lt;/li&gt;
		&lt;li&gt;Check JCR&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;Reopen the RTE
	&lt;ul&gt;
		&lt;li&gt;Refresh the page, validate what is loaded&lt;/li&gt;
		&lt;li&gt;Open the Dialog, check what is present in the JSON&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;Save again the RTE
	&lt;ul&gt;
		&lt;li&gt;Check the POST call&lt;/li&gt;
		&lt;li&gt;Check JCR&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The POST call strips away the telephone link&lt;br/&gt;
&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13614680">SLING-12744</key>
            <summary>Sling XSS is stripping away international telephone prefix ( +tel )</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="abangroo">Ankush Bangroo</reporter>
                        <labels>
                    </labels>
                <created>Wed, 9 Apr 2025 11:12:49 +0000</created>
                <updated>Thu, 10 Apr 2025 07:01:43 +0000</updated>
                                            <version>XSS Protection API 2.4.6</version>
                                                    <component>XSS Protection API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17942378" author="rombert" created="Thu, 10 Apr 2025 07:01:43 +0000"  >&lt;p&gt;Thanks for the report &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=abangroo&quot; class=&quot;user-hover&quot; rel=&quot;abangroo&quot;&gt;abangroo&lt;/a&gt;. Can you please explain steps to reproduce in a way that works with Sling? You have instructions for getting started at &lt;a href=&quot;https://sling.apache.org/documentation/getting-started.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/documentation/getting-started.html&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            28 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1v9i0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12741] NPE resource resolver during resource provider unregisteration</title>
                <link>https://issues.apache.org/jira/browse/SLING-12741</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Following NPE can be observed during unregistration of resource proivder:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;
[FelixLogListener] Events.Framework.org.apache.sling.resourceresolver FrameworkEvent ERROR (java.lang.NullPointerException: Cannot invoke &lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.sling.resourceresolver.impl.providers.ResourceProviderHandler.isUsed()&quot;&lt;/span&gt; because &lt;span class=&quot;code-quote&quot;&gt;&quot;deactivateHandler&quot;&lt;/span&gt; is null)
java.lang.NullPointerException: Cannot invoke &lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.sling.resourceresolver.impl.providers.ResourceProviderHandler.isUsed()&quot;&lt;/span&gt; because &lt;span class=&quot;code-quote&quot;&gt;&quot;deactivateHandler&quot;&lt;/span&gt; is null
	at org.apache.sling.resourceresolver.impl.providers.ResourceProviderTracker.remove(ResourceProviderTracker.java:301) 
	at org.apache.sling.resourceresolver.impl.providers.ResourceProviderTracker.unregister(ResourceProviderTracker.java:202) 
	at org.apache.sling.resourceresolver.impl.providers.ResourceProviderTracker$1.removedService(ResourceProviderTracker.java:111) 
	at org.apache.sling.resourceresolver.impl.providers.ResourceProviderTracker$1.removedService(ResourceProviderTracker.java:107) 
	at org.osgi.util.tracker.ServiceTracker$Tracked.customizerRemoved(ServiceTracker.java:970)
	at org.osgi.util.tracker.ServiceTracker$Tracked.customizerRemoved(ServiceTracker.java:872)
	at org.osgi.util.tracker.AbstractTracked.untrack(AbstractTracked.java:341)
	at org.osgi.util.tracker.ServiceTracker$Tracked.serviceChanged(ServiceTracker.java:912)
	at org.apache.felix.framework.EventDispatcher.invokeServiceListenerCallback(EventDispatcher.java:990)
	at org.apache.felix.framework.EventDispatcher.fireEventImmediately(EventDispatcher.java:838)
	at org.apache.felix.framework.EventDispatcher.fireServiceEvent(EventDispatcher.java:545)
	at org.apache.felix.framework.Felix.fireServiceEvent(Felix.java:4863)
	at org.apache.felix.framework.Felix.access$000(Felix.java:111)
	at org.apache.felix.framework.Felix$1.serviceChanged(Felix.java:440)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13614508">SLING-12741</key>
            <summary>NPE resource resolver during resource provider unregisteration</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sagarmiglani">Sagar Miglani</assignee>
                                    <reporter username="sagarmiglani">Sagar Miglani</reporter>
                        <labels>
                    </labels>
                <created>Tue, 8 Apr 2025 05:27:13 +0000</created>
                <updated>Tue, 8 Apr 2025 07:59:05 +0000</updated>
                            <resolved>Tue, 8 Apr 2025 07:57:18 +0000</resolved>
                                    <version>Resource Resolver 1.12.0</version>
                                    <fixVersion>Resource Resolver 2.0.0</fixVersion>
                    <fixVersion>Resource Resolver 1.12.8</fixVersion>
                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            28 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1v8g0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12738] ResourceResolver is not closed by AliasHandler</title>
                <link>https://issues.apache.org/jira/browse/SLING-12738</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;There is an error in the logs that the resource resolver created in the AliasHandler is not closed:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-resourceresolver/blob/master/src/main/java/org/apache/sling/resourceresolver/impl/mapping/AliasHandler.java#L170&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-resourceresolver/blob/master/src/main/java/org/apache/sling/resourceresolver/impl/mapping/AliasHandler.java#L170&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13614175">SLING-12738</key>
            <summary>ResourceResolver is not closed by AliasHandler</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="reschke">Julian Reschke</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Apr 2025 08:55:33 +0000</created>
                <updated>Sat, 28 Jun 2025 12:21:05 +0000</updated>
                            <resolved>Sun, 6 Apr 2025 20:20:00 +0000</resolved>
                                                    <fixVersion>Resource Resolver 2.0.0</fixVersion>
                    <fixVersion>Resource Resolver 1.12.8</fixVersion>
                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17941195" author="reschke" created="Sat, 5 Apr 2025 04:21:10 +0000"  >&lt;p&gt;I will check. That said, there are test cases that explicit &lt;b&gt;test&lt;/b&gt; what happens, so this might be by design.&lt;/p&gt;</comment>
                            <comment id="17941252" author="cziegeler" created="Sat, 5 Apr 2025 15:04:32 +0000"  >&lt;p&gt;Ok, just to make sure, not closing a resource resolver and having an error in the log is not something we want by design&lt;/p&gt;</comment>
                            <comment id="17941336" author="reschke" created="Sun, 6 Apr 2025 08:49:32 +0000"  >&lt;p&gt;OK, thanks for spotting this.&lt;/p&gt;

&lt;p&gt;This is indeed new as of refactoring. (One code path now needs it&apos;s own Resource Resolver).&lt;/p&gt;</comment>
                            <comment id="17941344" author="reschke" created="Sun, 6 Apr 2025 10:06:57 +0000"  >&lt;p&gt;See&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-resourceresolver/pull/167&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-resourceresolver/pull/167&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Fortunately, the equivalent code path in VanityPathHandler was correct.&lt;/p&gt;

&lt;p&gt;(With that change, I still do see occasional errors in the log; we&apos;ll have to find the other place causing this)&lt;/p&gt;</comment>
                            <comment id="17941383" author="cziegeler" created="Sun, 6 Apr 2025 13:49:40 +0000"  >&lt;p&gt;Thanks, lgtm.&lt;br/&gt;
Usually, the error log entry has the stack trace of the unclosed resource resolver where it was opened, making it easier to find the place&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13610839">SLING-12695</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            28 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1v6ds:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12737] The method findJobs in JobManagerImpl does not accept a template containing an operation</title>
                <link>https://issues.apache.org/jira/browse/SLING-12737</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I am using the method findJobs in JobManager to iterate through all Sling jobs.&lt;/p&gt;

&lt;p&gt;I would like to find all history jobs with a finished date before a certain date specified by a user.&lt;/p&gt;

&lt;p&gt;First of all, there are no tests that test templates with operations, so I had to reverse engineer how should I build the template.&lt;/p&gt;

&lt;p&gt;In the end, I created a template like this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Map&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;&amp;gt; templateBefore = Map.of(&lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;lt;&quot;&lt;/span&gt; + JobImpl.PROPERTY_FINISHED_DATE,&lt;span class=&quot;code-quote&quot;&gt;&quot;2026-04-03T11:38:25.360+03:00&quot;&lt;/span&gt;);  &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The template is not working though because the key is encoded before extracting the first character and the first character is no longer &apos;&amp;lt;&apos;.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; key = ISO9075.encode(current.getKey());
&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;char&lt;/span&gt; firstChar = key.length() &amp;gt; 0 ? key.charAt(0) : 0;
&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; propName;
&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Operation op;
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; ( firstChar == &lt;span class=&quot;code-quote&quot;&gt;&apos;=&apos;&lt;/span&gt; ) {
    propName = key.substring(1);
    op  = Operation.EQUALS;
} &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; ( firstChar == &lt;span class=&quot;code-quote&quot;&gt;&apos;&amp;lt;&apos;&lt;/span&gt; ) {
    &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;char&lt;/span&gt; secondChar = key.length() &amp;gt; 1 ? key.charAt(1) : 0;
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; ( secondChar == &lt;span class=&quot;code-quote&quot;&gt;&apos;=&apos;&lt;/span&gt; ) {
        op = Operation.LESS_OR_EQUALS;
        propName = key.substring(2);
    } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
        op = Operation.LESS;
        propName = key.substring(1);
    }
}  &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Could you confirm the bug and if it is not a bug, share a template that can work in the scenario I described?&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;</description>
                <environment></environment>
        <key id="13614174">SLING-12737</key>
            <summary>The method findJobs in JobManagerImpl does not accept a template containing an operation</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stefanegli">Stefan Egli</assignee>
                                    <reporter username="mirceas">Mircea Stan</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Apr 2025 08:55:18 +0000</created>
                <updated>Tue, 22 Apr 2025 15:13:57 +0000</updated>
                            <resolved>Tue, 22 Apr 2025 15:13:29 +0000</resolved>
                                    <version>Event 4.3.14</version>
                                    <fixVersion>Event 4.3.16</fixVersion>
                                    <component>Event</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17946450" author="egli" created="Tue, 22 Apr 2025 15:12:38 +0000"  >&lt;p&gt;Thx for the &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-event/pull/40&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;pull request&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mirceas&quot; class=&quot;user-hover&quot; rel=&quot;mirceas&quot;&gt;mirceas&lt;/a&gt;! I&apos;ve now merged it.&lt;/p&gt;

&lt;p&gt;I also noticed this is a duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-9393&quot; title=&quot;JobManager findJobs doesn&amp;#39;t return hits when Templates are used&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-9393&quot;&gt;&lt;del&gt;SLING-9393&lt;/del&gt;&lt;/a&gt; where the same was already suggested (but as we now had reviewed this PR here I&apos;ve merged this one). I&apos;ll add tests from &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-9393&quot; title=&quot;JobManager findJobs doesn&amp;#39;t return hits when Templates are used&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-9393&quot;&gt;&lt;del&gt;SLING-9393&lt;/del&gt;&lt;/a&gt; next.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="13300554">SLING-9393</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            26 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1v6dk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12729] Servlet Resolver: Integration tests fail with Java 21</title>
                <link>https://issues.apache.org/jira/browse/SLING-12729</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;the ITs are currently failing with Java 21, so they are disabled on the main branch.&lt;br/&gt;
the PR from this ticket enables them.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13613471">SLING-12729</key>
            <summary>Servlet Resolver: Integration tests fail with Java 21</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="sseifert">Stefan Seifert</reporter>
                        <labels>
                    </labels>
                <created>Fri, 28 Mar 2025 14:32:18 +0000</created>
                <updated>Sat, 28 Jun 2025 12:18:21 +0000</updated>
                            <resolved>Fri, 28 Mar 2025 15:56:47 +0000</resolved>
                                                    <fixVersion>Servlets Resolver 3.0.0</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            29 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1v21c:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12717] feature-converter-maven-plugin Windows buid fails</title>
                <link>https://issues.apache.org/jira/browse/SLING-12717</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &amp;#8212; invoker:3.2.1:integration-test (integration-test) @ sling-feature-converter-maven-plugin &amp;#8212;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Running 1 setup job:&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Building: setup-tests\pom.xml&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;           setup-tests\pom.xml .............................. SUCCESS (11.3 s)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Setup done.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Building: package-with-single-bundle-no-parameters\pom.xml&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; run post-build script verify.bsh&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   The post-build script returned false.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;           package-with-single-bundle-no-parameters\pom.xml . FAILED (90.5 s)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Building: package-with-single-bundle-target-mode\pom.xml&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; run post-build script verify.bsh&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   The post-build script returned false.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;           package-with-single-bundle-target-mode\pom.xml ... FAILED (19.2 s)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Building: package-with-single-bundle-with-parameters\pom.xml&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; run post-build script verify.bsh&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;   The post-build script returned false.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;           package-with-single-bundle-with-parameters\pom.xml FAILED (15.0 s)&lt;/p&gt;</description>
                <environment></environment>
        <key id="13613281">SLING-12717</key>
            <summary>feature-converter-maven-plugin Windows buid fails</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 27 Mar 2025 09:50:43 +0000</created>
                <updated>Thu, 7 Aug 2025 09:12:19 +0000</updated>
                                                            <fixVersion>Feature Model Converter Plugin 1.0.14</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                    <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13613197">SLING-12715</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            29 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1v0vk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12715] feature-converter-maven-plugin Jenkins buid fails</title>
                <link>https://issues.apache.org/jira/browse/SLING-12715</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.codehaus.mojo:ianal-maven-plugin:1.0-alpha-1:verify-legal-files (verify-legal-files) on project sling-feature-converter-maven-plugin: Execution verify-legal-files of goal org.codehaus.mojo:ianal-maven-plugin:1.0-alpha-1:verify-legal-files failed: Unable to make private java.io.File(java.lang.String,java.io.File) accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @12139db0
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13613197">SLING-12715</key>
            <summary>feature-converter-maven-plugin Jenkins buid fails</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 26 Mar 2025 16:46:35 +0000</created>
                <updated>Thu, 27 Mar 2025 09:51:38 +0000</updated>
                            <resolved>Thu, 27 Mar 2025 09:51:38 +0000</resolved>
                                                    <fixVersion>Feature Model Converter Plugin 1.0.14</fixVersion>
                                    <component>Maven Plugins and Archetypes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17938861" author="rombert" created="Thu, 27 Mar 2025 09:51:38 +0000"  >&lt;p&gt;Fixed Linux builds only, someone else is welcome to take a look at the Windows issue - &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-12717&quot; title=&quot;feature-converter-maven-plugin Windows buid fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-12717&quot;&gt;SLING-12717&lt;/a&gt; .&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13613281">SLING-12717</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            29 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1v0cw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12711] ITPackagingData fails on Windows</title>
                <link>https://issues.apache.org/jira/browse/SLING-12711</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;See for instance &lt;a href=&quot;https://ci-builds.apache.org/job/Sling/job/modules/job/sling-org-apache-sling-commons-log/job/master/273/cloudbees-pipeline-explorer/?filter=142&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-builds.apache.org/job/Sling/job/modules/job/sling-org-apache-sling-commons-log/job/master/273/cloudbees-pipeline-explorer/?filter=142&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; org.apache.sling.commons.log.logback.integration.ITPackagingData.packageDataWorking  Time elapsed: 9.014 s  &amp;lt;&amp;lt;&amp;lt; ERROR!&lt;br/&gt;
java.io.IOException: Access is denied&lt;br/&gt;
	at org.apache.sling.commons.log.logback.integration.ITPackagingData.packageDataWorking(ITPackagingData.java:148)&lt;/p&gt;
</description>
                <environment></environment>
        <key id="13612636">SLING-12711</key>
            <summary>ITPackagingData fails on Windows</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 21 Mar 2025 09:52:37 +0000</created>
                <updated>Fri, 9 May 2025 12:54:59 +0000</updated>
                            <resolved>Fri, 21 Mar 2025 12:36:00 +0000</resolved>
                                                    <fixVersion>Commons Log 6.0.0</fixVersion>
                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17937397" author="rombert" created="Fri, 21 Mar 2025 12:13:40 +0000"  >&lt;p&gt;For some reason I could not detect when running on the ASF Jenkins instance - the env vars seem to be sanitised and nothing that contains JENKINS or BUILD is present.&lt;/p&gt;

&lt;p&gt;I ended up disabling one specific test on Windows completely.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            30 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1uww8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12708] caconfig impl: Fix bnd Import-Package statement</title>
                <link>https://issues.apache.org/jira/browse/SLING-12708</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;with &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-12694&quot; title=&quot;Update to Parent 62&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-12694&quot;&gt;&lt;del&gt;SLING-12694&lt;/del&gt;&lt;/a&gt;, the bnd &lt;tt&gt;Import-Package&lt;/tt&gt; statement got corrupted, which lead to lot of ClassNotFound errors when deploying the bundle.&lt;/p&gt;

&lt;p&gt;root cause was an XML comment inside the configuration/bnd parameter - which is completely legal, but was reformatted by spotless in a way to break it.&lt;/p&gt;

&lt;p&gt;we&apos;ll switch to a bnd.bnd file instead.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13611568">SLING-12708</key>
            <summary>caconfig impl: Fix bnd Import-Package statement</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="sseifert">Stefan Seifert</reporter>
                        <labels>
                    </labels>
                <created>Wed, 12 Mar 2025 11:45:23 +0000</created>
                <updated>Mon, 17 Mar 2025 09:09:39 +0000</updated>
                            <resolved>Wed, 12 Mar 2025 11:55:33 +0000</resolved>
                                                    <fixVersion>Context-Aware Configuration Impl 1.7.2</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                    <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="13610761">SLING-12694</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            32 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1uqaw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12703] ResourceResolver: initializeAliases after MapEntries.dispose causes NPE</title>
                <link>https://issues.apache.org/jira/browse/SLING-12703</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description></description>
                <environment></environment>
        <key id="13611002">SLING-12703</key>
            <summary>ResourceResolver: initializeAliases after MapEntries.dispose causes NPE</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="reschke">Julian Reschke</assignee>
                                    <reporter username="reschke">Julian Reschke</reporter>
                        <labels>
                    </labels>
                <created>Fri, 7 Mar 2025 10:15:23 +0000</created>
                <updated>Fri, 7 Mar 2025 11:28:56 +0000</updated>
                            <resolved>Fri, 7 Mar 2025 11:28:56 +0000</resolved>
                                                    <fixVersion>Resource Resolver 1.12.6</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            32 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1umt4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12702] Improve error message &quot;Scheduling service [java.lang.Runnable] failed&quot;</title>
                <link>https://issues.apache.org/jira/browse/SLING-12702</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The error message emitted from &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-commons-scheduler/blob/7fa8f8061448e32bab1373e65ec5dd36183bd1cb/src/main/java/org/apache/sling/commons/scheduler/impl/WhiteboardHandler.java#L274&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-commons-scheduler/blob/7fa8f8061448e32bab1373e65ec5dd36183bd1cb/src/main/java/org/apache/sling/commons/scheduler/impl/WhiteboardHandler.java#L274&lt;/a&gt; does not really help with debugging/fixing as it always looks like this:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
*ERROR* [FelixStartLevel] org.apache.sling.commons.scheduler.impl.WhiteboardHandler Scheduling service [java.lang.&lt;span class=&quot;code-object&quot;&gt;Runnable&lt;/span&gt;] failed.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This is a poor error message as&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;it does not contain the reason&lt;/li&gt;
	&lt;li&gt;it does not say which object exactly failed, as all scheduler services implement &lt;tt&gt;Runnable&lt;/tt&gt; by contract&lt;/li&gt;
&lt;/ol&gt;
</description>
                <environment></environment>
        <key id="13610996">SLING-12702</key>
            <summary>Improve error message &quot;Scheduling service [java.lang.Runnable] failed&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Fri, 7 Mar 2025 08:59:36 +0000</created>
                <updated>Tue, 18 Mar 2025 12:35:18 +0000</updated>
                            <resolved>Tue, 18 Mar 2025 12:35:18 +0000</resolved>
                                    <version>Commons Scheduler 2.7.14</version>
                                    <fixVersion>Commons Scheduler 2.7.16</fixVersion>
                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17933239" author="kwin" created="Fri, 7 Mar 2025 09:03:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; Do you remember why we swallow every exception in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-commons-scheduler/blob/7fa8f8061448e32bab1373e65ec5dd36183bd1cb/src/main/java/org/apache/sling/commons/scheduler/impl/QuartzScheduler.java#L524-L534?&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-commons-scheduler/blob/7fa8f8061448e32bab1373e65ec5dd36183bd1cb/src/main/java/org/apache/sling/commons/scheduler/impl/QuartzScheduler.java#L524-L534?&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17933611" author="cziegeler" created="Sun, 9 Mar 2025 09:10:32 +0000"  >&lt;p&gt;Afair, we swallow the exception as there is no real use case in letting them bubble up. The boolean return value should be enough.&lt;br/&gt;
I guess we should however improve the logging for these cases.&lt;/p&gt;</comment>
                            <comment id="17936473" author="kwin" created="Tue, 18 Mar 2025 12:35:05 +0000"  >&lt;p&gt;I improved logging in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-commons-scheduler/commit/f43755d9a3acb331472f61ba8c2f512bb8f700cd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-commons-scheduler/commit/f43755d9a3acb331472f61ba8c2f512bb8f700cd&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12659982">SLING-2981</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            31 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1umrs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12685] FSResource: Fix or work around flaky FileMonitor unit tests on windows</title>
                <link>https://issues.apache.org/jira/browse/SLING-12685</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;on jenkins, the unit tests running with windows fail most times (not always):&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[INFO] Running org.apache.sling.fsprovider.internal.FileMonitorTest
[ERROR] Tests run: 8, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 4.437 s &amp;lt;&amp;lt;&amp;lt; FAILURE! -- in org.apache.sling.fsprovider.internal.FileMonitorTest
[ERROR] org.apache.sling.fsprovider.internal.FileMonitorTest.testUpdateContent -- Time elapsed: 0.442 s &amp;lt;&amp;lt;&amp;lt; FAILURE!
java.lang.AssertionError: Change with path=/fs-test/folder2/content, changeType=REMOVED expected
	at org.junit.Assert.fail(Assert.java:89)
	at org.junit.Assert.assertTrue(Assert.java:42)
	at org.apache.sling.fsprovider.internal.TestUtils.assertChange(TestUtils.java:117)
	at org.apache.sling.fsprovider.internal.FileMonitorTest.testUpdateContent(FileMonitorTest.java:189)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;i cannot reproduce the problem on a local windows machine.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13610139">SLING-12685</key>
            <summary>FSResource: Fix or work around flaky FileMonitor unit tests on windows</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="sseifert">Stefan Seifert</reporter>
                        <labels>
                    </labels>
                <created>Fri, 28 Feb 2025 10:07:15 +0000</created>
                <updated>Mon, 10 Mar 2025 10:42:54 +0000</updated>
                            <resolved>Fri, 28 Feb 2025 10:39:51 +0000</resolved>
                                                    <fixVersion>File System Resource Provider 2.3.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17931433" author="sseifert@pro-vision.de" created="Fri, 28 Feb 2025 10:39:51 +0000"  >&lt;p&gt;i increased the wait time limit to check for the filemonitor results&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13598944">SLING-12490</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            33 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1uhwg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12676] Exception in initializing ResourceAccessSecurity with multiple ResourceAccessGate refs</title>
                <link>https://issues.apache.org/jira/browse/SLING-12676</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When there are multiple reference of ResourceAccessSecurity, initializing&#160;&lt;br/&gt;
ResourceAccessSecurityImpl throws following exception:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;
Caused by: java.lang.ClassCastException: class org.apache.sling.resourceaccesssecurity.impl.ResourceAccessGateHandler cannot be cast to class java.lang.Comparable (org.apache.sling.resourceaccesssecurity.impl.ResourceAccessGateHandler is in unnamed module of loader org.apache.felix.framework.BundleWiringImpl$BundleClassLoader @45037a0c; java.lang.Comparable is in module java.base of loader &lt;span class=&quot;code-quote&quot;&gt;&apos;bootstrap&apos;&lt;/span&gt;)
        at java.base/java.util.Collections$ReverseComparator.compare(Collections.java:5554)
        at java.base/java.util.TimSort.countRunAndMakeAscending(TimSort.java:355)
        at java.base/java.util.TimSort.sort(TimSort.java:220)
        at java.base/java.util.Arrays.sort(Arrays.java:1308)
        at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:353)
        at java.base/java.util.stream.Sink$ChainedReference.end(Sink.java:261)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13609814">SLING-12676</key>
            <summary>Exception in initializing ResourceAccessSecurity with multiple ResourceAccessGate refs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sagarmiglani">Sagar Miglani</assignee>
                                    <reporter username="sagarmiglani">Sagar Miglani</reporter>
                        <labels>
                    </labels>
                <created>Wed, 26 Feb 2025 04:36:16 +0000</created>
                <updated>Tue, 10 Jun 2025 13:52:35 +0000</updated>
                            <resolved>Fri, 28 Feb 2025 10:37:56 +0000</resolved>
                                    <version>Resource Access Security 1.1.0</version>
                                    <fixVersion>Resource Access Security 1.1.2</fixVersion>
                                    <component>Resource Access Security</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            34 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1ufw8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12669] Repoinit: Fix unit test failure on Windows</title>
                <link>https://issues.apache.org/jira/browse/SLING-12669</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;fix failing unit tests on CI/windows.&lt;/p&gt;

&lt;p&gt;it seems to be related to line ending problems.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13609606">SLING-12669</key>
            <summary>Repoinit: Fix unit test failure on Windows</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="sseifert">Stefan Seifert</reporter>
                        <labels>
                    </labels>
                <created>Mon, 24 Feb 2025 18:53:30 +0000</created>
                <updated>Fri, 28 Feb 2025 09:56:34 +0000</updated>
                            <resolved>Mon, 24 Feb 2025 19:00:59 +0000</resolved>
                                    <version>Repoinit Parser 1.9.0</version>
                                    <fixVersion>Repoinit Parser 1.9.2</fixVersion>
                                    <component>Repoinit</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17929894" author="sseifert@pro-vision.de" created="Mon, 24 Feb 2025 19:00:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-repoinit-parser/commit/ea16da7eb0c41fb9bb15e23beee74c103252d0a1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-repoinit-parser/commit/ea16da7eb0c41fb9bb15e23beee74c103252d0a1&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            34 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1uem0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12668] Repoinit JCR: Forced multivalue property with single value is not stored as multiple property</title>
                <link>https://issues.apache.org/jira/browse/SLING-12668</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;repoinit script:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;ensure nodes (nt:unstructured) /forcedMultiValue with properties
  set multiValue{String[]} to &quot;item1&quot;,&quot;item2&quot;
&#160; set singleMultiValue{String[]} to &quot;single&quot;
&#160; set emptyMultiValue{String[]} to
end &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;expected behavior: all three properties are created as multiple properties.&lt;/p&gt;

&lt;p&gt;actual behavior: only properties &lt;tt&gt;multiValue&lt;/tt&gt; and &lt;tt&gt;emptyMultiValue&lt;/tt&gt; are actually stored as multiple property, whereas &lt;tt&gt;singleMultiValue&lt;/tt&gt; as stored as single property.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13609560">SLING-12668</key>
            <summary>Repoinit JCR: Forced multivalue property with single value is not stored as multiple property</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="sseifert">Stefan Seifert</reporter>
                        <labels>
                    </labels>
                <created>Mon, 24 Feb 2025 12:44:09 +0000</created>
                <updated>Fri, 28 Feb 2025 09:56:34 +0000</updated>
                            <resolved>Mon, 24 Feb 2025 19:13:46 +0000</resolved>
                                    <version>Repoinit Parser 1.9.0</version>
                    <version>Repoinit JCR 1.1.52</version>
                                    <fixVersion>Repoinit JCR 1.1.54</fixVersion>
                    <fixVersion>Repoinit Parser 1.9.2</fixVersion>
                                    <component>Repoinit</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17929773" author="sseifert@pro-vision.de" created="Mon, 24 Feb 2025 14:00:18 +0000"  >&lt;p&gt;i&apos;ve created two PRs to fix the issue:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;parser: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-repoinit-parser/pull/30&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-repoinit-parser/pull/30&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;jcr impl: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-jcr-repoinit/pull/61&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-jcr-repoinit/pull/61&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            34 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1uebs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12657] JcrBase: ProxyRepository implements JackrabbitRepository</title>
                <link>https://issues.apache.org/jira/browse/SLING-12657</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;...but that interface is of type &quot;provider&quot;.&lt;/p&gt;

&lt;p&gt;See &lt;a href=&quot;https://cqdump.joerghoh.de/tag/providertype/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://cqdump.joerghoh.de/tag/providertype/&lt;/a&gt; and &lt;a href=&quot;https://github.com/apache/jackrabbit-oak/blob/1939b6c15a1db13222c52e677ea48fdd7424bfb3/oak-jackrabbit-api/src/main/java/org/apache/jackrabbit/api/JackrabbitRepository.java#L28.&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jackrabbit-oak/blob/1939b6c15a1db13222c52e677ea48fdd7424bfb3/oak-jackrabbit-api/src/main/java/org/apache/jackrabbit/api/JackrabbitRepository.java#L28.&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Any update to JackrabbitRepository (IMHO) will cause strange runtime behaviour.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13608408">SLING-12657</key>
            <summary>JcrBase: ProxyRepository implements JackrabbitRepository</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="reschke">Julian Reschke</reporter>
                        <labels>
                    </labels>
                <created>Thu, 13 Feb 2025 12:16:23 +0000</created>
                <updated>Sat, 15 Feb 2025 10:13:07 +0000</updated>
                                                                            <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="17926759" author="reschke" created="Thu, 13 Feb 2025 12:18:36 +0000"  >&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jhoh&quot; class=&quot;user-hover&quot; rel=&quot;jhoh&quot;&gt;jhoh&lt;/a&gt; , &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=baedke&quot; class=&quot;user-hover&quot; rel=&quot;baedke&quot;&gt;baedke&lt;/a&gt; , &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; , &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17926764" author="rombert" created="Thu, 13 Feb 2025 12:37:39 +0000"  >&lt;p&gt;This was added by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kpauls&quot; class=&quot;user-hover&quot; rel=&quot;kpauls&quot;&gt;kpauls&lt;/a&gt; for &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-8411&quot; title=&quot;Provide a way to bifurcate a repository path to a provider mount&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-8411&quot;&gt;&lt;del&gt;SLING-8411&lt;/del&gt;&lt;/a&gt; ( &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-jcr-base/commits/master/src/main/java/org/apache/sling/jcr/base/internal/mount/ProxyRepository.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-jcr-base/commits/master/src/main/java/org/apache/sling/jcr/base/internal/mount/ProxyRepository.java&lt;/a&gt; ) so he&apos;s the best suited to comment.&lt;/p&gt;</comment>
                            <comment id="17926779" author="cziegeler" created="Thu, 13 Feb 2025 13:55:58 +0000"  >&lt;p&gt;Why &quot;Strange Runtime Behaviour&quot;? I would assume the bundle does not resolve&lt;/p&gt;</comment>
                            <comment id="17926788" author="reschke" created="Thu, 13 Feb 2025 14:43:31 +0000"  >&lt;p&gt;Looking at the import range, it would. I think.&lt;/p&gt;

&lt;p&gt;Is that because the referenced version of (oak-)jackrabbit-api does not have the ProviderType annotation?&lt;/p&gt;</comment>
                            <comment id="17926796" author="cziegeler" created="Thu, 13 Feb 2025 15:00:29 +0000"  >&lt;p&gt;Yes, correct - it is not marked so it is a consumer type - so there is nothing that can be done here if the metadata is wrong&lt;/p&gt;</comment>
                            <comment id="17926829" author="reschke" created="Thu, 13 Feb 2025 16:08:23 +0000"  >&lt;p&gt;Well, the annotation has be added in newer releases; it&apos;s just that this project does not reference those.&lt;/p&gt;</comment>
                            <comment id="17926830" author="kwin" created="Thu, 13 Feb 2025 16:12:04 +0000"  >&lt;p&gt;The annotations just make it less likely that the Sling bundle does not resolve for some updates. But in general this works as well without annotations.&lt;/p&gt;</comment>
                            <comment id="17926834" author="reschke" created="Thu, 13 Feb 2025 16:15:25 +0000"  >&lt;p&gt;Yes, but would flag the problem earlier, no?&lt;/p&gt;</comment>
                            <comment id="17926836" author="kwin" created="Thu, 13 Feb 2025 16:17:46 +0000"  >&lt;p&gt;No, just less false positives!&lt;/p&gt;</comment>
                            <comment id="17926932" author="reschke" created="Thu, 13 Feb 2025 20:56:55 +0000"  >&lt;p&gt;Unless I&apos;m mistaken, the annotations can help programmers to make the right decisions about whether to &lt;b&gt;implement&lt;/b&gt; an interface or not, no? Isn&apos;t implenenting JackrabbitRepository (as it happened here) exactly what we want to avoid/prevent?&lt;/p&gt;</comment>
                            <comment id="17927047" author="cziegeler" created="Fri, 14 Feb 2025 06:13:30 +0000"  >&lt;p&gt;No, the annotations do not tell anything whether someone should implement it or not. They tell about whether it is allowed to break the implementation with a minor version update of the package. Implementations of consumer packages must never be affected, it is fine to affect implementations of producer packages.&lt;br/&gt;
Whether a project (like Jackrabbit) wants someone else to implement an interface is a completely different story and not covered by these annotations at all.&lt;/p&gt;</comment>
                            <comment id="17927063" author="reschke" created="Fri, 14 Feb 2025 08:28:30 +0000"  >&lt;p&gt;Ok - so what &lt;b&gt;is&lt;/b&gt; the way to do it?? Javadoc?&lt;/p&gt;</comment>
                            <comment id="17927070" author="kwin" created="Fri, 14 Feb 2025 08:47:20 +0000"  >&lt;p&gt;To me it is not clear what issue we are trying to solve on Sling side with this JIRA? Is this about getting rid of the ProxyRepository? There is no need for additional annotations/javadoc to tackle that but probably we need to understand why it has been implemented in the first place. I cannot answer and therefore also cannot judge if we can get rid of that impl.&lt;/p&gt;</comment>
                            <comment id="17927085" author="reschke" created="Fri, 14 Feb 2025 09:37:21 +0000"  >&lt;p&gt;My understanding is that once we extend JackrabbitRepository, strange things can happen. Am I mistaken?&lt;/p&gt;</comment>
                            <comment id="17927086" author="kwin" created="Fri, 14 Feb 2025 09:39:22 +0000"  >&lt;blockquote&gt;&lt;p&gt;strange things can happen. Am I mistaken?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yes, the only thing which may happen is that the bundle does not resolve!&lt;/p&gt;

&lt;p&gt;Update: Well strange things may happen at any time, but in this context not more than usual &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17927090" author="rombert" created="Fri, 14 Feb 2025 09:55:07 +0000"  >&lt;p&gt;The way I understand it, if we import a package and implement a ProviderType interface then we&apos;ll get a narrow import range.&lt;/p&gt;

&lt;p&gt;Today the import range is &lt;tt&gt;org.apache.jackrabbit.api;version=&quot;[2.4,3)&lt;/tt&gt;. Once we compile against an updated jackrabbit-api we&apos;ll get a narrow import range of &lt;tt&gt;org.apache.jackrabbit.api;version=&quot;[2.4,2.5)&lt;/tt&gt;, which means that minor version bumps of the exported version will make the bundle stop resolving.&lt;/p&gt;</comment>
                            <comment id="17927099" author="reschke" created="Fri, 14 Feb 2025 11:11:53 +0000"  >&lt;p&gt;Yes. And that actually was the cause why we had to back out a change in Oak before the 1.76.0 release, as there wasn&apos;t sufficient time to fix components having this problem.&lt;/p&gt;</comment>
                            <comment id="17927369" author="reschke" created="Sat, 15 Feb 2025 10:12:45 +0000"  >&lt;blockquote&gt;&lt;p&gt;Today the import range is org.apache.jackrabbit.api;version=&quot;[2.4,3). Once we compile against an updated jackrabbit-api we&apos;ll get a narrow import range of org.apache.jackrabbit.api;version=&quot;[2.4,2.5), which means that minor version bumps of the exported version will make the bundle stop resolving.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Well, it would be the choice between bundle not resolving or NoSuchMethodExceptions should somebody try the new methods. I&apos;m now on the fence what is better.&lt;/p&gt;

&lt;p&gt;Regarding the import range: that of course &lt;b&gt;could&lt;/b&gt; be overridden.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13232480">SLING-8411</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13536896">OAK-10252</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            35 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1u78w:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12655] JcrBase: deprecated classes use Jackrabbit-RMI which has been removed in Jackrabbit</title>
                <link>https://issues.apache.org/jira/browse/SLING-12655</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;RepositoryAccessor uses classes from jackrabbit-rmi, but RMO has been removed from Jackrabbit some time ago (see &lt;a href=&quot;https://issues.apache.org/jira/browse/JCR-4972&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/JCR-4972&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;FWIW; removing these dependencies will require a major version bump of org.apache.sling.jcr.base.util&lt;/p&gt;</description>
                <environment></environment>
        <key id="13608405">SLING-12655</key>
            <summary>JcrBase: deprecated classes use Jackrabbit-RMI which has been removed in Jackrabbit</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="reschke">Julian Reschke</reporter>
                        <labels>
                    </labels>
                <created>Thu, 13 Feb 2025 12:00:22 +0000</created>
                <updated>Thu, 13 Feb 2025 12:00:50 +0000</updated>
                                                                            <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                    <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13551050">JCR-4972</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            35 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1u788:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12650] Newly applied ASF-wide CSP policies break the Sling website</title>
                <link>https://issues.apache.org/jira/browse/SLING-12650</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The CSP added via &lt;a href=&quot;https://github.com/apache/infrastructure-p6/pull/2025/files&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/infrastructure-p6/pull/2025/files&lt;/a&gt; only allow resources served by the ASF servers to be loaded by the browser. This breaks the Sling website:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Refused to load the stylesheet &apos;https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.5/css/bulma.min.css&apos; because it violates the following Content Security Policy directive: &quot;style-src &apos;self&apos; &apos;unsafe-inline&apos;&quot;. Note that &apos;style-src-elem&apos; was not explicitly set, so &apos;style-src&apos; is used as a fallback.

apache-sling-eventing-and-job-handling.html:1 Refused to load the script &apos;https://www.apachecon.com/event-images/snippet.js&apos; because it violates the following Content Security Policy directive: &quot;script-src &apos;self&apos; &apos;unsafe-inline&apos; &apos;unsafe-eval&apos; https://analytics.apache.org/&quot;. Note that &apos;script-src-elem&apos; was not explicitly set, so &apos;script-src&apos; is used as a fallback.

apache-sling-eventing-and-job-handling.html:8 Refused to load the stylesheet &apos;https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css&apos; because it violates the following Content Security Policy directive: &quot;style-src &apos;self&apos; &apos;unsafe-inline&apos;&quot;. Note that &apos;style-src-elem&apos; was not explicitly set, so &apos;style-src&apos; is used as a fallback.

apache-sling-eventing-and-job-handling.html:1 Refused to load the script &apos;https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js&apos; because it violates the following Content Security Policy directive: &quot;script-src &apos;self&apos; &apos;unsafe-inline&apos; &apos;unsafe-eval&apos; https://analytics.apache.org/&quot;. Note that &apos;script-src-elem&apos; was not explicitly set, so &apos;script-src&apos; is used as a fallback.

apache-sling-eventing-and-job-handling.html:10 Uncaught ReferenceError: hljs is not defined
    at apache-sling-eventing-and-job-handling.html:10:13
apache-sling-eventing-and-job-handling.html:26 Refused to load the script &apos;https://matomo.privacy.apache.org/matomo.js&apos; because it violates the following Content Security Policy directive: &quot;script-src &apos;self&apos; &apos;unsafe-inline&apos; &apos;unsafe-eval&apos; https://analytics.apache.org/&quot;. Note that &apos;script-src-elem&apos; was not explicitly set, so &apos;script-src&apos; is used as a fallback.

(anonymous) @ apache-sling-eventing-and-job-handling.html:26
apache-sling-eventing-and-job-handling.html:1 Refused to load the image &apos;data:image/svg+xml,%3Csvg width=&apos;18&apos; height=&apos;18&apos; viewBox=&apos;0 0 18 18&apos; fill=&apos;none&apos; xmlns=&apos;http://www.w3.org/2000/svg&apos;%3E%3Cpath d=&apos;M12.7549 11.255H11.9649L11.6849 10.985C12.6649 9.845 13.2549 8.365 13.2549 6.755C13.2549 3.165 10.3449 0.255005 6.75488 0.255005C3.16488 0.255005 0.254883 3.165 0.254883 6.755C0.254883 10.345 3.16488 13.255 6.75488 13.255C8.36488 13.255 9.84488 12.665 10.9849 11.685L11.2549 11.965V12.755L16.2549 17.745L17.7449 16.255L12.7549 11.255ZM6.75488 11.255C4.26488 11.255 2.25488 9.245 2.25488 6.755C2.25488 4.26501 4.26488 2.255 6.75488 2.255C9.24488 2.255 11.2549 4.26501 11.2549 6.755C11.2549 9.245 9.24488 11.255 6.75488 11.255Z&apos; fill=&apos;%23000000&apos;/%3E%3C/svg%3E%0A&apos; because it violates the following Content Security Policy directive: &quot;img-src &apos;self&apos; https://www.apache.org/&quot;.

apache-sling-eventing-and-job-handling.html:1 Refused to load the stylesheet &apos;https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.5/css/bulma.min.css&apos; because it violates the following Content Security Policy directive: &quot;style-src &apos;self&apos; &apos;unsafe-inline&apos;&quot;. Note that &apos;style-src-elem&apos; was not explicitly set, so &apos;style-src&apos; is used as a fallback.

apache-sling-eventing-and-job-handling.html:1 Refused to load the stylesheet &apos;https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css&apos; because it violates the following Content Security Policy directive: &quot;style-src &apos;self&apos; &apos;unsafe-inline&apos;&quot;. Note that &apos;style-src-elem&apos; was not explicitly set, so &apos;style-src&apos; is used as a fallback.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13607431">SLING-12650</key>
            <summary>Newly applied ASF-wide CSP policies break the Sling website</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 5 Feb 2025 12:51:21 +0000</created>
                <updated>Wed, 5 Feb 2025 15:05:37 +0000</updated>
                                                                            <component>Site</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            37 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1u18o:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12644] Feature Model Content Extension should handle empty package files</title>
                <link>https://issues.apache.org/jira/browse/SLING-12644</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;In some scenarios, when content-packages are pre-installed, the Feature Model Content Extension should accept content-packages of size &quot;0&quot;. This was previously possible, but does not work with the latest version due to a regression introduced in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-10417&quot; title=&quot;Create execution plans with &amp;quot;strict&amp;quot; import option&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-10417&quot;&gt;&lt;del&gt;SLING-10417&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13607127">SLING-12644</key>
            <summary>Feature Model Content Extension should handle empty package files</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jsedding">Julian Sedding</assignee>
                                    <reporter username="jsedding">Julian Sedding</reporter>
                        <labels>
                    </labels>
                <created>Mon, 3 Feb 2025 15:49:32 +0000</created>
                <updated>Tue, 29 Apr 2025 12:15:39 +0000</updated>
                            <resolved>Fri, 25 Apr 2025 15:06:54 +0000</resolved>
                                    <version>Feature Model Content Extension 1.0.14</version>
                                    <fixVersion>Feature Model Content Extension 1.0.16</fixVersion>
                                    <component>Feature Model</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            37 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1tzd4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12640] Setting Sling filter service property sling.filter.scope to an invalid value does not disable the filter.</title>
                <link>https://issues.apache.org/jira/browse/SLING-12640</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I have created a filter service and provided the value of &lt;b&gt;sling.filter.scope&lt;/b&gt;&#160;as some arbitrary string(&lt;b&gt;MyDisabledFilter&lt;/b&gt;)&lt;/p&gt;

&lt;p&gt;I followed the disabling mechanism mentioned here - &lt;a href=&quot;https://sling.apache.org/documentation/the-sling-engine/filters.html#disabling-filters-1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/documentation/the-sling-engine/filters.html#disabling-filters-1&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;But the filter is still registered by Sling as a request filter.&lt;/p&gt;

&lt;p&gt;I was looking at the&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
org.apache.sling.engine.impl.filter.ServletFilterManager&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;code and found that if an invalid value is specified for &lt;b&gt;sling.filter.scope&lt;/b&gt; property, then the filter is still registered as a REQUEST scoped filter as some fallback.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] scopes =
                Converters.standardConverter().convert(scopeValue).to(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[].class);
        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; FilterPredicate predicate = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FilterPredicate(reference);

        &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; used = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
        &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; scope : scopes) {
            scope = scope.toUpperCase();
            &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
                FilterChainType type = FilterChainType.valueOf(scope.toString());
                getFilterChain(type).addFilter(filter, predicate, serviceId, order, orderSource, mbean);

                &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (type == FilterChainType.COMPONENT) {
                    getFilterChain(FilterChainType.INCLUDE)
                            .addFilter(filter, predicate, serviceId, order, orderSource, mbean);
                    getFilterChain(FilterChainType.FORWARD)
                            .addFilter(filter, predicate, serviceId, order, orderSource, mbean);
                }

                used = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
            } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; IllegalArgumentException iae) {
                log.warn(&lt;span class=&quot;code-quote&quot;&gt;&quot;Filter service {} has invalid value {} &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; scope. Value is ignored&quot;&lt;/span&gt;, reference, scope);
            }
        }
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!used) {
            log.warn(
                    &lt;span class=&quot;code-quote&quot;&gt;&quot;Filter service {} has been registered without a valid {} property. Using &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; value.&quot;&lt;/span&gt;,
                    serviceId,
                    EngineConstants.SLING_FILTER_SCOPE);
            getFilterChain(FilterChainType.REQUEST).addFilter(filter, predicate, serviceId, order, orderSource, mbean);
        } &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;This seems to be contradictory to the official documentation.&lt;/p&gt;

&lt;p&gt;Please let me know if I am missing something.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; can you please look at this?&lt;/p&gt;

&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Rakesh&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13606759">SLING-12640</key>
            <summary>Setting Sling filter service property sling.filter.scope to an invalid value does not disable the filter.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="rakeshk15">Rakesh Kumar</reporter>
                        <labels>
                    </labels>
                <created>Thu, 30 Jan 2025 10:21:17 +0000</created>
                <updated>Sat, 28 Jun 2025 12:22:23 +0000</updated>
                            <resolved>Thu, 30 Jan 2025 16:04:26 +0000</resolved>
                                    <version>Engine 2.15.16</version>
                                    <fixVersion>Engine 3.0.0</fixVersion>
                    <fixVersion>Engine 2.16.2</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17922390" author="cziegeler" created="Thu, 30 Jan 2025 14:25:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rakeshk15&quot; class=&quot;user-hover&quot; rel=&quot;rakeshk15&quot;&gt;rakeshk15&lt;/a&gt; The docs say &quot;Any unknown values of this property are also ignored causing the service to be completely ignored if none of the values provided by the property are valid.&quot; I think the code reflects this - if all values are invalid, it is ignored - if there is a single valid value, it will be used. The section you mention could be made a little bit clearer. Do you want to provide a patch to the docs?&lt;/p&gt;</comment>
                            <comment id="17922392" author="rakeshk15" created="Thu, 30 Jan 2025 14:41:53 +0000"  >&lt;p&gt;thanks for the explnation &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;but this statement is still fuzzy to me &quot;&lt;b&gt;causing the &lt;font color=&quot;#ff0000&quot;&gt;service to be completely ignored&lt;/font&gt; if none of the values provided by the property are valid&lt;/b&gt;.&quot;&lt;/p&gt;

&lt;p&gt;let&apos;s say I just provide a single value which is invalid&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
{
  &lt;span class=&quot;code-quote&quot;&gt;&quot;sling.filter.scope&quot;&lt;/span&gt;: [&lt;span class=&quot;code-quote&quot;&gt;&quot;DISABLED&quot;&lt;/span&gt;],
 &#160;&lt;span class=&quot;code-quote&quot;&gt;&quot;sling.filter.pattern&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;/content/.*&quot;&lt;/span&gt;
}&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;as per the doc the filter service should have been ignored, right?&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;and if the provided value is invalid then why the filter is being registered via this code block.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!used) {
            log.warn(
                    &lt;span class=&quot;code-quote&quot;&gt;&quot;Filter service {} has been registered without a valid {} property. Using &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; value.&quot;&lt;/span&gt;,
                    serviceId,
                    EngineConstants.SLING_FILTER_SCOPE);
            getFilterChain(FilterChainType.REQUEST).addFilter(filter, predicate, serviceId, order, orderSource, mbean);
        }  &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17922396" author="cziegeler" created="Thu, 30 Jan 2025 14:59:27 +0000"  >&lt;p&gt;Good point, it seems our documentation did never match the implementation. Before &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;  the filter was registered as REQUEST if no value was provided - that is clearly wrong. After &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; we still do this but also register it if all provided values are invalid. The &quot;used=true&quot; statement needs to be executed regardless of whether the value is valid or not - then we should have the old behaviour back - which is still not what is documented&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-engine/commit/31eafb67fc0514cf39aea8208c16b87916bc8882#diff-c7d29794f5f0df0ba8bd0758b2b9853d84c5a9a87bd1b164e14448854292601c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-engine/commit/31eafb67fc0514cf39aea8208c16b87916bc8882#diff-c7d29794f5f0df0ba8bd0758b2b9853d84c5a9a87bd1b164e14448854292601c&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17922405" author="rakeshk15" created="Thu, 30 Jan 2025 15:16:28 +0000"  >&lt;p&gt;so, what should be the correct behaviour here?&lt;/p&gt;

&lt;p&gt;IMHO, the filter should have been completely ignored in cases like this.&lt;/p&gt;

&lt;p&gt;Consider a situation where I want to make the filter registration basis the value of &lt;b&gt;sling.filter.scope&lt;/b&gt; property from env var&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
{
 &#160;&lt;span class=&quot;code-quote&quot;&gt;&quot;sling.filter.scope&quot;&lt;/span&gt;: [&lt;span class=&quot;code-quote&quot;&gt;&quot;$[env:MY_CUSTOM_FILTER_SCOPE;&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;=DISABLED]&quot;&lt;/span&gt;],
 &#160;&lt;span class=&quot;code-quote&quot;&gt;&quot;sling.filter.pattern&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;/content/.*&quot;&lt;/span&gt;
}&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This becomes handy in situations where we need to make the filter operational whenever needed, we just need to create/update the env var with one of the valid values of &lt;b&gt;sling.filter.scope&lt;/b&gt; property.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17922408" author="cziegeler" created="Thu, 30 Jan 2025 15:35:15 +0000"  >&lt;p&gt;I added unit tests to show the current behaviour and TODOs in the test indicating the behaviour that I think we should have&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-engine/commit/416550907318d2f7c2f31509f72bf99c9ed3cc9f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-engine/commit/416550907318d2f7c2f31509f72bf99c9ed3cc9f&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17922417" author="cziegeler" created="Thu, 30 Jan 2025 16:02:31 +0000"  >&lt;p&gt;Actually, it is not as bad as thought. Filters without the property are indeed ignored. The unit test is misleading. So we only need to fix that single regression.&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-engine/blob/master/src/main/java/org/apache/sling/engine/impl/filter/ServletFilterManager.java#L133&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-engine/blob/master/src/main/java/org/apache/sling/engine/impl/filter/ServletFilterManager.java#L133&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17922418" author="cziegeler" created="Thu, 30 Jan 2025 16:04:20 +0000"  >&lt;p&gt;Solved in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-engine/commit/f4ef9ee2d5c55bdcc68a76341adf5d5d2a62fdef&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-engine/commit/f4ef9ee2d5c55bdcc68a76341adf5d5d2a62fdef&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17922421" author="rakeshk15" created="Thu, 30 Jan 2025 16:15:57 +0000"  >&lt;p&gt;thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; but when will the &lt;b&gt;if(&lt;/b&gt;&lt;b&gt;!used&lt;/b&gt; &lt;b&gt;)&lt;/b&gt; block be executed.&lt;/p&gt;

&lt;p&gt;seems the &lt;b&gt;used&lt;/b&gt; variable will always be &lt;b&gt;true&lt;/b&gt;.&lt;/p&gt;</comment>
                            <comment id="17922428" author="cziegeler" created="Thu, 30 Jan 2025 16:26:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rakeshk15&quot; class=&quot;user-hover&quot; rel=&quot;rakeshk15&quot;&gt;rakeshk15&lt;/a&gt; Thanks, I actually committed the wrong version. Should be fixed with:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-engine/commit/ddf681ab746fa4ca08920b95f2e5e6dd801be4ca&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-engine/commit/ddf681ab746fa4ca08920b95f2e5e6dd801be4ca&lt;/a&gt; &lt;/p&gt;</comment>
                            <comment id="17922434" author="rakeshk15" created="Thu, 30 Jan 2025 16:37:20 +0000"  >&lt;p&gt;maybe we need to improve the warn log also.&lt;/p&gt;

&lt;p&gt;currently it states&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Filter service {} has been registered without a valid {} property. Using &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; value. &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I think the message can be something like this.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Filter service {} has been registered without a valid {} property. Not putting it in the filter chain, please provide valid value(s) &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; the sling.filter.scope property so that filter service can be placed in the filter chain.&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Please see if this looks ok or more info can be added so that user gets a meaningful message for rejection of service.&lt;/p&gt;</comment>
                            <comment id="17922441" author="cziegeler" created="Thu, 30 Jan 2025 16:46:30 +0000"  >&lt;p&gt;Right, I adjusted the message&lt;/p&gt;</comment>
                            <comment id="17949522" author="joerghoh" created="Mon, 5 May 2025 17:45:50 +0000"  >&lt;p&gt;released with 2.16.2, release 3.0.0 pending&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            24 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1tx3c:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12635] JS Use Scripts should only be read on-demand</title>
                <link>https://issues.apache.org/jira/browse/SLING-12635</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-9320&quot; title=&quot;Allow bundled render units to access objects from the same bundle through the Use API&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-9320&quot;&gt;&lt;del&gt;SLING-9320&lt;/del&gt;&lt;/a&gt; was implemented &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;, the &lt;tt&gt;DependencyResolver&lt;/tt&gt; was extended to provide a &lt;tt&gt;ScriptNameAwareReader&lt;/tt&gt;. This functionality was moved over from the &lt;tt&gt;JsEnvironment&lt;/tt&gt; but slightly rewritten to use a &lt;tt&gt;StringReader&lt;/tt&gt; instead of an &lt;tt&gt;InputStreamReader&lt;/tt&gt;. This introduced a performance penalty, since JS scripts are now completely read all the time, instead of being read only when they need to be compiled/evaluated. The same change was applied to the &lt;tt&gt;SlyBindingsValuesProvider&lt;/tt&gt;, for the initialization of the factories that support the JavaScript Use API.&lt;/p&gt;

&lt;p&gt;The code should be switched back to use an &lt;tt&gt;InputStreamReader&lt;/tt&gt;, so that the scripts are read on-demand when they must be compiled/evaluated.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; - &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-scripting-sightly-js-provider/commit/6ebafff6d81367a3b7fb2ab942795f7a73972668#diff-cd9e9b522cd2455e47baa78c2bb6c701894b2064bf9882ecd81cd3af285396d9&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-scripting-sightly-js-provider/commit/6ebafff6d81367a3b7fb2ab942795f7a73972668#diff-cd9e9b522cd2455e47baa78c2bb6c701894b2064bf9882ecd81cd3af285396d9&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13606042">SLING-12635</key>
            <summary>JS Use Scripts should only be read on-demand</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 23 Jan 2025 13:03:24 +0000</created>
                <updated>Fri, 31 Jan 2025 10:35:58 +0000</updated>
                            <resolved>Mon, 27 Jan 2025 14:53:46 +0000</resolved>
                                                    <fixVersion>Scripting HTL JS Use Provider 1.2.12</fixVersion>
                    <fixVersion>Scripting HTL Testing 1.0.38-1.4.0</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                    <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13295516">SLING-9320</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            38 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1tsog:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12634] Resource Resolver: isMaxCachedVanityPathEntriesStartup check does not handle unlimited cache size</title>
                <link>https://issues.apache.org/jira/browse/SLING-12634</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Improve coverage in VanityPathMapEntriesTest and fix the bug.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13606039">SLING-12634</key>
            <summary>Resource Resolver: isMaxCachedVanityPathEntriesStartup check does not handle unlimited cache size</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="reschke">Julian Reschke</assignee>
                                    <reporter username="reschke">Julian Reschke</reporter>
                        <labels>
                    </labels>
                <created>Thu, 23 Jan 2025 12:41:36 +0000</created>
                <updated>Thu, 30 Jan 2025 14:59:07 +0000</updated>
                            <resolved>Thu, 23 Jan 2025 14:12:26 +0000</resolved>
                                                    <fixVersion>Resource Resolver 1.12.4</fixVersion>
                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            38 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1tsns:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12620] Resource Resolver: needs to handle getParent()==null for vanity path resources gracefully</title>
                <link>https://issues.apache.org/jira/browse/SLING-12620</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description></description>
                <environment></environment>
        <key id="13605151">SLING-12620</key>
            <summary>Resource Resolver: needs to handle getParent()==null for vanity path resources gracefully</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="reschke">Julian Reschke</assignee>
                                    <reporter username="reschke">Julian Reschke</reporter>
                        <labels>
                    </labels>
                <created>Wed, 15 Jan 2025 22:32:41 +0000</created>
                <updated>Thu, 30 Jan 2025 14:59:07 +0000</updated>
                            <resolved>Thu, 16 Jan 2025 14:23:11 +0000</resolved>
                                                    <fixVersion>Resource Resolver 1.12.4</fixVersion>
                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            40 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1tn6w:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12617] Internal error when running the connection timeout agent with Java 17 or 21</title>
                <link>https://issues.apache.org/jira/browse/SLING-12617</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ /usr/lib64/jvm/java-17/bin/java -javaagent:target/org.apache.sling.connection-timeout-agent-1.0.3-SNAPSHOT-jar-with-dependencies.jar=1000,1000 -cp target/test-classes:target/it-dependencies/* org.apache.sling.cta.impl.HttpClientLauncher https://sling.apache.org JavaNet
Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:569)
	at java.instrument/sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:491)
	at java.instrument/sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:503)
Caused by: java.lang.ClassCircularityError: java/lang/WeakPairMap$Pair$Weak
(snip)
*** java.lang.instrument ASSERTION FAILED ***: &quot;!errorOutstanding&quot; with message Outstanding error when calling method in invokeJavaAgentMainMethod at src/java.instrument/share/native/libinstrument/JPLISAgent.c line: 619
*** java.lang.instrument ASSERTION FAILED ***: &quot;success&quot; with message invokeJavaAgentMainMethod failed at src/java.instrument/share/native/libinstrument/JPLISAgent.c line: 459
*** java.lang.instrument ASSERTION FAILED ***: &quot;result&quot; with message agent load/premain call failed at src/java.instrument/share/native/libinstrument/JPLISAgent.c line: 422
FATAL ERROR in native method: processing of -javaagent failed, processJavaStart failed
Native frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)
V  [libjvm.so+0x8de5f2]  jni_FatalError+0xb2
V  [libjvm.so+0xa6b1c5]  JvmtiExport::post_vm_initialized()+0x265
V  [libjvm.so+0xed4e84]  Threads::create_vm(JavaVMInitArgs*, bool*)+0x924
V  [libjvm.so+0x8ed212]  JNI_CreateJavaVM+0x52
C  [libjli.so+0x4b9f]
C  [libjli.so+0x9049]


Aborted (core dumped)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13604890">SLING-12617</key>
            <summary>Internal error when running the connection timeout agent with Java 17 or 21</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 14 Jan 2025 15:27:21 +0000</created>
                <updated>Mon, 27 Jan 2025 16:17:59 +0000</updated>
                            <resolved>Wed, 22 Jan 2025 14:10:44 +0000</resolved>
                                                    <fixVersion>Connection Timeout Agent 1.0.4</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17916047" author="rombert" created="Wed, 22 Jan 2025 12:48:49 +0000"  >&lt;p&gt;As a first step I fixed the CI - it works on Java 11 and the ASF Jenkins instance. I had to disable some ITs on Windows as I was not able to simulate a connection timeout.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-connection-timeout-agent/pull/10&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-connection-timeout-agent/pull/10&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            39 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1tlkw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12611] Resource Resolver: refactor MapEntries - extract PagedQueryIterator</title>
                <link>https://issues.apache.org/jira/browse/SLING-12611</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description></description>
                <environment></environment>
        <key id="13604704">SLING-12611</key>
            <summary>Resource Resolver: refactor MapEntries - extract PagedQueryIterator</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="reschke">Julian Reschke</assignee>
                                    <reporter username="reschke">Julian Reschke</reporter>
                        <labels>
                    </labels>
                <created>Mon, 13 Jan 2025 11:55:05 +0000</created>
                <updated>Thu, 30 Jan 2025 14:59:07 +0000</updated>
                            <resolved>Tue, 14 Jan 2025 08:38:49 +0000</resolved>
                                                    <fixVersion>Resource Resolver 1.12.4</fixVersion>
                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            40 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1tkfs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12602] Code Scanning Bugs: CQRules:CQBP-84</title>
                <link>https://issues.apache.org/jira/browse/SLING-12602</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;We are using a dependency to Sling Servlet Helpers&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;lt;dependency&amp;gt;
&#160; &#160; &#160; &#160; &amp;lt;groupId&amp;gt;org.apache.sling&amp;lt;/groupId&amp;gt;
&#160; &#160; &#160; &#160; &amp;lt;artifactId&amp;gt;org.apache.sling.servlet-helpers&amp;lt;/artifactId&amp;gt;
&#160; &#160; &#160; &#160; &amp;lt;version&amp;gt;1.4.6&amp;lt;/version&amp;gt;
&#160; &#160; &#160; &#160; &amp;lt;scope&amp;gt;provided&amp;lt;/scope&amp;gt;
&amp;lt;/dependency&amp;gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;and embedding this into our /apps/website/install folder.&lt;/p&gt;

&lt;p&gt;Having build this with CloudManager results in Bugs during Adobe&apos;s Code Scanning within the pipelines.&lt;br/&gt;
It reports &quot;Critical&quot; Bugs with Rule CQRules:CQBP-84.&lt;/p&gt;

&lt;p&gt;Maybe adding @SuppressWarnings(&quot;CQRules:CQBP-84&quot;) could solve this?&lt;/p&gt;

&lt;p&gt;Overall it reports 7 occurances:&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;The product interface org.apache.sling.api.request.RequestParameter annotated with @ProviderType should not be implemented by custom code. Detected in org.apache.sling.servlethelpers.MockRequestParameter contained in /apps/website/install/org.apache.sling.servlet-helpers-1.4.6.jar.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;The product interface org.apache.sling.api.request.RequestParameterMap annotated with @ProviderType should not be implemented by custom code. Detected in org.apache.sling.servlethelpers.MockRequestParameterMap contained in /apps/website/install/org.apache.sling.servlet-helpers-1.4.6.jar.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;The product interface org.apache.sling.api.request.RequestPathInfo annotated with @ProviderType should not be implemented by custom code. Detected in org.apache.sling.servlethelpers.MockRequestPathInfo contained in /apps/website/install/org.apache.sling.servlet-helpers-1.4.6.jar.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;The product interface org.apache.sling.api.request.RequestProgressTracker annotated with @ProviderType should not be implemented by custom code. Detected in org.apache.sling.servlethelpers.MockRequestProgressTracker contained in /apps/website/install/org.apache.sling.servlet-helpers-1.4.6.jar.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;The product interface org.apache.sling.api.SlingHttpServletRequest annotated with @ProviderType should not be implemented by custom code. Detected in org.apache.sling.servlethelpers.MockSlingHttpServletRequest contained in /apps/website/install/org.apache.sling.servlet-helpers-1.4.6.jar.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;The product interface org.apache.sling.api.SlingHttpServletResponse annotated with @ProviderType should not be implemented by custom code. Detected in org.apache.sling.servlethelpers.MockSlingHttpServletResponse contained in /apps/website/install/org.apache.sling.servlet-helpers-1.4.6.jar.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;The product interface org.apache.sling.api.resource.Resource annotated with @ProviderType should not be implemented by custom code. Detected in org.apache.sling.servlethelpers.internalrequests.ServletResolutionResource contained in /apps/website/install/org.apache.sling.servlet-helpers-1.4.6.jar.&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13604358">SLING-12602</key>
            <summary>Code Scanning Bugs: CQRules:CQBP-84</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="muenkti">Timo M&#252;nkenwarf</reporter>
                        <labels>
                    </labels>
                <created>Thu, 9 Jan 2025 12:21:09 +0000</created>
                <updated>Mon, 10 Feb 2025 09:32:24 +0000</updated>
                            <resolved>Mon, 10 Feb 2025 09:32:24 +0000</resolved>
                                    <version>Servlet Helpers 1.4.6</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17911468" author="rombert" created="Thu, 9 Jan 2025 12:36:37 +0000"  >&lt;p&gt;I am not sure that this is something that should be solved in Sling. But I am not sure why you are using it in a productive deployment, this is mostly about mock implementations, right?&lt;/p&gt;</comment>
                            <comment id="17911549" author="muenkti" created="Thu, 9 Jan 2025 15:02:33 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt; ,&lt;br/&gt;
I have checked the code of our osgi bundle and it contains an internal AEM request, which simulates an user action in the Author Translation Jobs from within a workflow.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; InternalRequest request = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; SlingInternalRequest(resourceResolver, &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.slingRequestProcessor, path).withResourceType(&lt;span class=&quot;code-quote&quot;&gt;&quot;cq/gui/components/projects/admin/pod/translationjobpod&quot;&lt;/span&gt;).withRequestMethod(&lt;span class=&quot;code-quote&quot;&gt;&quot;POST&quot;&lt;/span&gt;).withParameters(params).execute().checkStatus(200); &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This code is used to automate Translation Jobs within /projects/details.html/content/projects/translations , as the classes do not support every action via Java. So these user interactions are simulated using SlingInternalRequest.&lt;/p&gt;

&lt;p&gt;Therefore the bundle is deployed and checked by the CM Pipeline.&lt;/p&gt;</comment>
                            <comment id="17911559" author="rombert" created="Thu, 9 Jan 2025 15:29:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=muenkti&quot; class=&quot;user-hover&quot; rel=&quot;muenkti&quot;&gt;muenkti&lt;/a&gt; - ah, I see. We can&apos;t solve this by splitting the &apos;internalrequests&apos; package off into its own bundle because it still has an implementation of &lt;tt&gt;Resource&lt;/tt&gt;, which is a &lt;tt&gt;ProviderType&lt;/tt&gt; interface. I don&apos;t think we should work around AEM requirements here by suppressing warnings and it would not survive a different kind of check anyway.&lt;/p&gt;

&lt;p&gt;If you can figure out a way to make the &lt;tt&gt;internalrequests&lt;/tt&gt; package not implement any ProviderType interfaces we can move that package to a separate bundle which you should be able to deploy.&lt;/p&gt;</comment>
                            <comment id="17911575" author="rombert" created="Thu, 9 Jan 2025 16:19:03 +0000"  >&lt;p&gt;I wonder if you could use &lt;a href=&quot;https://sling.apache.org/apidocs/sling12/org/apache/sling/api/request/builder/Builders.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/apidocs/sling12/org/apache/sling/api/request/builder/Builders.html&lt;/a&gt; instead.&lt;/p&gt;</comment>
                            <comment id="17925499" author="muenkti" created="Mon, 10 Feb 2025 07:56:40 +0000"  >&lt;p&gt;Hey Robert,&lt;/p&gt;

&lt;p&gt;currently we will continue using the bundle as now and accept the error messages in CloudManager.&lt;/p&gt;

&lt;p&gt;As you said, you wouldn&apos;t change something by adding SuppressWarnings, I suggest to close this ticket.&lt;/p&gt;

&lt;p&gt;Kind regards,&lt;/p&gt;

&lt;p&gt;Timo&lt;/p&gt;</comment>
                            <comment id="17925519" author="rombert" created="Mon, 10 Feb 2025 09:32:24 +0000"  >&lt;p&gt;Thanks for confirming &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=muenkti&quot; class=&quot;user-hover&quot; rel=&quot;muenkti&quot;&gt;muenkti&lt;/a&gt;, resolving as won&apos;t fix.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13073885" name="CQRules-CQBP-75-bugs.xlsx" size="19220" author="muenkti" created="Thu, 9 Jan 2025 12:18:19 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            36 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1tib4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12600] Starter builds are flaky on Windows nodes: org.apache.sling.launchpad.webapp.integrationtest.NodetypeRenderingTest</title>
                <link>https://issues.apache.org/jira/browse/SLING-12600</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;since &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-starter/commit/bf8d1246a552b9390dab60afdf4a64b28908dc6b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-starter/commit/bf8d1246a552b9390dab60afdf4a64b28908dc6b&lt;/a&gt; (in context of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-11905&quot; title=&quot;Starter builds fail on Windows nodes:  Error getting the credentials for docker.io from the configured credential helper&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-11905&quot;&gt;&lt;del&gt;SLING-11905&lt;/del&gt;&lt;/a&gt;) which enabled the starter IT builds again for windows, the starter ITs are flaky on the windows builds.&lt;/p&gt;

&lt;p&gt;sometimes only the Java 17 windows build fails, sometimes only the Java 21 windows build, sometimes they pass. seems to be random flakyness.&lt;/p&gt;

&lt;p&gt;example:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://ci-builds.apache.org/job/Sling/job/modules/job/sling-org-apache-sling-starter/job/PR-424/6/cloudbees-pipeline-explorer/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-builds.apache.org/job/Sling/job/modules/job/sling-org-apache-sling-starter/job/PR-424/6/cloudbees-pipeline-explorer/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://ci-builds.apache.org/job/Sling/job/modules/job/sling-org-apache-sling-starter/job/master/1692/cloudbees-pipeline-explorer/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-builds.apache.org/job/Sling/job/modules/job/sling-org-apache-sling-starter/job/master/1692/cloudbees-pipeline-explorer/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;the builds fails with some URLs called by the ITs return something unexpected. in those two examples it was related to &lt;tt&gt;org.apache.sling.launchpad.webapp.integrationtest.NodetypeRenderingTest&lt;/tt&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13603935">SLING-12600</key>
            <summary>Starter builds are flaky on Windows nodes: org.apache.sling.launchpad.webapp.integrationtest.NodetypeRenderingTest</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sseifert">Stefan Seifert</reporter>
                        <labels>
                    </labels>
                <created>Mon, 6 Jan 2025 14:40:49 +0000</created>
                <updated>Mon, 13 Jan 2025 12:57:52 +0000</updated>
                                                            <fixVersion>Starter 14</fixVersion>
                                    <component>Starter</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17910558" author="sseifert@pro-vision.de" created="Tue, 7 Jan 2025 09:49:06 +0000"  >&lt;p&gt;i&apos;m not able to reproduce the problem locally. detailed log excerpt:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[ERROR] Failures: 
[ERROR]   NodetypeRenderingTest.testEspHtml:90-&amp;gt;RenderingTestBase.assertContains:38 Content does not contain &apos;ESP template&apos; (content=/*
 * Licensed to the Apache Software Foundation (ASF) under one
 * or more contributor license agreements.  See the NOTICE file
 * distributed with this work for additional information
 * regarding copyright ownership.  The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the
 * &quot;License&quot;); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied.  See the License for the
 * specific language governing permissions and limitations
 * under the License.
 */
 
 
RENDERED BY nodetype-and-path.esp
TYPE nt:unstructured
PATH /NodetypeRenderingTest/1736172683139/this_is_a_test_17361)
[ERROR]   NodetypeRenderingTest.testMiniScriptHtml:69 expected:&amp;lt;[There&apos;s no code in this script, just this constant string]&amp;gt; but was:&amp;lt;[/*
 * Licensed to the Apache Software Foundation (ASF) under one
 * or more contributor license agreements.  See the NOTICE file
 * distributed with this work for additional information
 * regarding copyright ownership.  The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the
 * &quot;License&quot;); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied.  See the License for the
 * specific language governing permissions and limitations
 * under the License.
 */
 
 
RENDERED BY nodetype-and-path.esp
TYPE nt:unstructured
PATH /NodetypeRenderingTest/1736172683883/this_is_a_test_17361]&amp;gt;
[ERROR]   NodetypeRenderingTest.testPrint:80-&amp;gt;RenderingTestBase.assertContains:38 Content does not contain &apos;print.esp ends&apos; (content=/*
 * Licensed to the Apache Software Foundation (ASF) under one
 * or more contributor license agreements.  See the NOTICE file
 * distributed with this work for additional information
 * regarding copyright ownership.  The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the
 * &quot;License&quot;); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied.  See the License for the
 * specific language governing permissions and limitations
 * under the License.
 */
 
 
RENDERED BY nodetype-and-path.esp
TYPE nt:unstructured
PATH /NodetypeRenderingTest/1736172683531/this_is_a_test_17361)
[INFO] 
[ERROR] Tests run: 572, Failures: 3, Errors: 0, Skipped: 1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;basically, there are a lot of integration tests which upload different ESP rendering files to the same location and file name (html.esp), and then run an integration test against it. this should happen in a serial manner, so each test should be completed before the file is overwritten with a different script for the next test.&lt;br/&gt;
it seems that on windows it sometimes happens that a script from a previous test is executed, and not the script of the current test.&lt;br/&gt;
in the example above &lt;tt&gt;NodetypeRenderingTest.testEspHtml&lt;/tt&gt; is executed but a script from &lt;tt&gt;NodeTypeBasedRenderingTest&lt;/tt&gt; is actually executed in sling.&lt;/p&gt;

&lt;p&gt;the question is:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;why is this happening at all? if tests would be executed in parallel by accident, much more errors should happen and also under Linux&lt;/li&gt;
	&lt;li&gt;why does it happen only with windows? some file system specifics involved?&lt;/li&gt;
	&lt;li&gt;why i&apos;m not able to reproduce the problem locally? it looks like a racing condition, and maybe the windows boxes used by jenkins are much slower and more loaded than my powerful local dev machine&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17910559" author="sseifert@pro-vision.de" created="Tue, 7 Jan 2025 09:53:25 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt; do you have an idea what might be the root cause on the windows jenkins boxes?&lt;br/&gt;
i think it&apos;s not a blocker for the sling 13 release, WDYT?&lt;/p&gt;</comment>
                            <comment id="17910562" author="rombert" created="Tue, 7 Jan 2025 10:03:30 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseifert&quot; class=&quot;user-hover&quot; rel=&quot;sseifert&quot;&gt;sseifert&lt;/a&gt; - no idea about the root cause and I don&apos;t see it as a blocker. You could disable the Windows builds again (or just the flaky test) if it generates too much noise now.&lt;/p&gt;</comment>
                            <comment id="17910688" author="rombert" created="Tue, 7 Jan 2025 16:39:25 +0000"  >&lt;p&gt;Added a PR to disable that particular test on Windows/Jenkins: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-starter/pull/427&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-starter/pull/427&lt;/a&gt; . Another failure popped up: &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt; GetWithSuffixTest.testWithExactUrl:56 Content contains formatted test text&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;The that test follows the same pattern of uploading ESP scripts via WebDav, but I am not sure if that is the root cause. Not sure if we should start disabling multiple tests on Windows/Jenkins or wait for a proper fix.&lt;/p&gt;</comment>
                            <comment id="17912496" author="sseifert@pro-vision.de" created="Mon, 13 Jan 2025 12:51:26 +0000"  >&lt;p&gt;i think the PR #427 is not going into the right direction - we have at least 11 test classes with multiple tests that can get into conflict with each other with this strange issue.&lt;/p&gt;

&lt;p&gt;with &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-starter/pull/428&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-starter/pull/428&lt;/a&gt; i&apos;ve disabled the windows build for jenkins again completely.&lt;/p&gt;

&lt;p&gt;we have to revisit this for the next sling starter release.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13539408">SLING-11905</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            40 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1tfpk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12597] Remove duplication when declaring feature output directory</title>
                <link>https://issues.apache.org/jira/browse/SLING-12597</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The slingfeature-tmp directory is declared in two places: ProjectHelper (&lt;a href=&quot;https://github.com/apache/sling-slingfeature-maven-plugin/blob/17cc9eff4d906829ddeda81e437c84a215c420bf/src/main/java/org/apache/sling/feature/maven/ProjectHelper.java#L289&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-slingfeature-maven-plugin/blob/17cc9eff4d906829ddeda81e437c84a215c420bf/src/main/java/org/apache/sling/feature/maven/ProjectHelper.java#L289&lt;/a&gt;) and AbstractFeatureMojo ( &lt;a href=&quot;https://github.com/apache/sling-slingfeature-maven-plugin/blob/17cc9eff4d906829ddeda81e437c84a215c420bf/src/main/java/org/apache/sling/feature/maven/mojos/AbstractFeatureMojo.java#L223&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-slingfeature-maven-plugin/blob/17cc9eff4d906829ddeda81e437c84a215c420bf/src/main/java/org/apache/sling/feature/maven/mojos/AbstractFeatureMojo.java#L223&lt;/a&gt; ).&lt;/p&gt;

&lt;p&gt;We should remove the duplication.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13603046">SLING-12597</key>
            <summary>Remove duplication when declaring feature output directory</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 23 Dec 2024 13:38:47 +0000</created>
                <updated>Mon, 19 May 2025 08:57:25 +0000</updated>
                            <resolved>Mon, 23 Dec 2024 14:46:20 +0000</resolved>
                                                    <fixVersion>OSGi Feature Maven Plugin 1.9.2</fixVersion>
                                    <component>Feature Model</component>
                    <component>Maven Plugins and Archetypes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            43 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1ta80:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12596] JarDecompressorTest.testWithEmbeddedJar fails on Jenkins/Windows after upgrading to Parent 62</title>
                <link>https://issues.apache.org/jira/browse/SLING-12596</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;It seems the fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-11935&quot; title=&quot;JarDecompressorTest.testWithEmbeddedJar fails on Jenkins/Windows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-11935&quot;&gt;&lt;del&gt;SLING-11935&lt;/del&gt;&lt;/a&gt; has been broken between &lt;a href=&quot;https://github.com/apache/sling-slingfeature-maven-plugin/commit/4499fd6283a8cc7a18138b4e4c8d98761235e11d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-slingfeature-maven-plugin/commit/4499fd6283a8cc7a18138b4e4c8d98761235e11d&lt;/a&gt; and &lt;a href=&quot;https://github.com/apache/sling-slingfeature-maven-plugin/commit/776208774de12d10c0771622580246d5545509fb&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-slingfeature-maven-plugin/commit/776208774de12d10c0771622580246d5545509fb&lt;/a&gt; . The build works locally for me on Java 21.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[ERROR] org.apache.sling.feature.maven.mojos.JarDecompressorTest.testJarWithEmbeddedJar  Time elapsed: 0.071 s  &amp;lt;&amp;lt;&amp;lt; FAILURE!
java.lang.AssertionError: expected:&amp;lt;2108&amp;gt; but was:&amp;lt;1984&amp;gt;
	at org.junit.Assert.fail(Assert.java:89)
	at org.junit.Assert.failNotEquals(Assert.java:835)
	at org.junit.Assert.assertEquals(Assert.java:647)
	at org.junit.Assert.assertEquals(Assert.java:633)
	at org.apache.sling.feature.maven.mojos.JarDecompressorTest.testJarWithEmbeddedJar(JarDecompressorTest.java:81)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:364)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:272)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:237)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:158)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:428)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:562)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:548)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13603043">SLING-12596</key>
            <summary>JarDecompressorTest.testWithEmbeddedJar fails on Jenkins/Windows after upgrading to Parent 62</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 23 Dec 2024 13:32:33 +0000</created>
                <updated>Mon, 12 May 2025 17:17:00 +0000</updated>
                                                            <fixVersion>OSGi Feature Maven Plugin 1.9.4</fixVersion>
                                    <component>Feature Model</component>
                    <component>Maven Plugins and Archetypes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17907876" author="rombert" created="Mon, 23 Dec 2024 14:02:58 +0000"  >&lt;p&gt;I have disabled the test on Windows (again) to get the Jenkins build passing. Leaving the issue open to get a proper fix in.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                            <outwardlinks description="is a clone of">
                                        <issuelink>
            <issuekey id="13542696">SLING-11935</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            43 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1ta7c:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12592] Do not install/deploy feature models used for testing</title>
                <link>https://issues.apache.org/jira/browse/SLING-12592</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When building the project I need to attach the &apos;app&apos; feature is attached because otherwise it can&apos;t be resolved by the feature-launcher-maven-plugin. This has the unfortunate side effect of&lt;br/&gt;
installing/deploying the feature, which IMO does not make sense.&lt;/p&gt;

&lt;p&gt;See also &lt;a href=&quot;https://lists.apache.org/thread/v16rz3hwj95bs9d8shqkhxv94fb0olb1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://lists.apache.org/thread/v16rz3hwj95bs9d8shqkhxv94fb0olb1&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13602871">SLING-12592</key>
            <summary>Do not install/deploy feature models used for testing</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 20 Dec 2024 16:42:10 +0000</created>
                <updated>Mon, 23 Jun 2025 09:40:00 +0000</updated>
                            <resolved>Fri, 23 May 2025 15:56:59 +0000</resolved>
                                                    <fixVersion>OAuth Client 0.1.2</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                    <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13603047">SLING-12598</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13618637">SLING-12790</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            43 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1t954:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12581] MainIT fails on Java 21: The Security Manager is deprecated and will be removed in a future release</title>
                <link>https://issues.apache.org/jira/browse/SLING-12581</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[INFO] Running org.apache.sling.feature.launcher.impl.MainIT
[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.035 s &amp;lt;&amp;lt;&amp;lt; FAILURE! -- in org.apache.sling.feature.launcher.impl.MainIT
[ERROR] org.apache.sling.feature.launcher.impl.MainIT -- Time elapsed: 0.033 s &amp;lt;&amp;lt;&amp;lt; ERROR!
java.lang.UnsupportedOperationException: The Security Manager is deprecated and will be removed in a future release
	at java.base/java.lang.System.setSecurityManager(System.java:430)
	at org.apache.sling.feature.launcher.impl.MainIT.setUp(MainIT.java:85)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.RunBefores.invokeMethod(RunBefores.java:33)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:316)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:240)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:214)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13602465">SLING-12581</key>
            <summary>MainIT fails on Java 21: The Security Manager is deprecated and will be removed in a future release</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Dec 2024 16:37:24 +0000</created>
                <updated>Mon, 16 Jun 2025 09:17:28 +0000</updated>
                                                            <fixVersion>Feature Model Launcher 1.3.6</fixVersion>
                                    <component>Feature Model</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            44 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1t6mw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12578] Sling Models Impl: Fix Injector and Implementation Picker service ranking order again</title>
                <link>https://issues.apache.org/jira/browse/SLING-12578</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-12472&quot; title=&quot;Sling Models Impl: Injector and Implementation Picker service ranking must be reversed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-12472&quot;&gt;&lt;del&gt;SLING-12472&lt;/del&gt;&lt;/a&gt; i fixed an service ranking order problem for handling Injector and Implementation Picker rankings introduced by &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-12374&quot; title=&quot;Improve injector handling in ModelAdapterFactory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-12374&quot;&gt;&lt;del&gt;SLING-12374&lt;/del&gt;&lt;/a&gt;. but this was based on a false assumption, and the fix actually introduced the bug and did not fix it.&lt;/p&gt;

&lt;p&gt;background:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;for historical reasons, Sling Models interprets the service ranking for Injector and ImplementaitonPickers &quot;the wrong way&quot;, ranking lower service ranking as higher priority when looking for the best matching service implementation. we can never change this behavior without breaking lots existing code.&lt;/li&gt;
	&lt;li&gt;in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-12374&quot; title=&quot;Improve injector handling in ModelAdapterFactory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-12374&quot;&gt;&lt;del&gt;SLING-12374&lt;/del&gt;&lt;/a&gt; with models impl 1.7.2 the code was modernized getting rid of the custom &quot;RankedServices&quot; implementation in favor of DS-based collection injection&lt;/li&gt;
	&lt;li&gt;i realized that unit tests that depending on the correct ordering of implementation pickers started to fail once updating to models impl 1.7.2, identified the code changes from &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-12374&quot; title=&quot;Improve injector handling in ModelAdapterFactory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-12374&quot;&gt;&lt;del&gt;SLING-12374&lt;/del&gt;&lt;/a&gt; as the root cause, and implemented the bug fix in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-12472&quot; title=&quot;Sling Models Impl: Injector and Implementation Picker service ranking must be reversed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-12472&quot;&gt;&lt;del&gt;SLING-12472&lt;/del&gt;&lt;/a&gt; and released it as models impl 1.7.4 - unit tests are all green again.&lt;/li&gt;
	&lt;li&gt;however, the impression that &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-12374&quot; title=&quot;Improve injector handling in ModelAdapterFactory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-12374&quot;&gt;&lt;del&gt;SLING-12374&lt;/del&gt;&lt;/a&gt; broke the logic was wrong, and i was fooled by a bug in osgi-mock, which did not preserve the DS-based injection list order correctly if new services are registered after the service holding the list of references. this bug in osgi-mock was fixed in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-12413&quot; title=&quot;OSGi mocks ranked service collections are not ordered consistently&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-12413&quot;&gt;&lt;del&gt;SLING-12413&lt;/del&gt;&lt;/a&gt;, and released as osgi-mock 3.5.2.&lt;/li&gt;
	&lt;li&gt;once updating the affected to osgi-mock the unit tests depending on implementation picker order started to fail again!&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;so, this ticket actually reverts all implementation changes from the wrong bugfix &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-12472&quot; title=&quot;Sling Models Impl: Injector and Implementation Picker service ranking must be reversed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-12472&quot;&gt;&lt;del&gt;SLING-12472&lt;/del&gt;&lt;/a&gt;, but keeps the added more fine-grained unit tests from it which check the correct order handling of Injector and ImplementationPickers in detail. additionally, we update to latest osgi-mock version to test the correct service list order.&lt;/p&gt;

&lt;p&gt;(sorry for the confusion with &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-12472&quot; title=&quot;Sling Models Impl: Injector and Implementation Picker service ranking must be reversed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-12472&quot;&gt;&lt;del&gt;SLING-12472&lt;/del&gt;&lt;/a&gt;)&lt;/p&gt;</description>
                <environment></environment>
        <key id="13602412">SLING-12578</key>
            <summary>Sling Models Impl: Fix Injector and Implementation Picker service ranking order again</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="sseifert">Stefan Seifert</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Dec 2024 10:24:39 +0000</created>
                <updated>Fri, 20 Dec 2024 13:58:53 +0000</updated>
                            <resolved>Tue, 17 Dec 2024 10:42:48 +0000</resolved>
                                    <version>Models Implementation 1.7.4</version>
                    <version>Models Implementation 1.7.6</version>
                                    <fixVersion>Models Implementation 1.7.8</fixVersion>
                                    <component>Sling Models</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                    <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13589705">SLING-12413</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13585138">SLING-12374</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="13597900">SLING-12472</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            44 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1t6b4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12568] Content extension advertises services for shaded and relocated packages</title>
                <link>https://issues.apache.org/jira/browse/SLING-12568</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The content extension shades packages from multiple dependencies and relocates them to prevent classloading conflicts ( &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-8068&quot; title=&quot;Relocate shaded classes in feature content extension to prevent classloading conflicts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-8068&quot;&gt;&lt;del&gt;SLING-8068&lt;/del&gt;&lt;/a&gt; ).&lt;/p&gt;

&lt;p&gt;However, it keeps the META-INF/services files around and those are picked up by the ServiceLoader mechanism. This is incorrect - since the files are not provided by the jar file so they are pointing to non-existing jar files.&lt;/p&gt;

&lt;p&gt;I have observed an instance where the ServiceLoader running in an OSGi bundle read the META-INF/services file, presumably from the launcher extension, but failed to load the class. Once I have removed the additional META-INF/services file from the launcher extension all was solved.&lt;/p&gt;

&lt;p&gt;The problem was visible in the XSS bundle, but I assume this would pop up in any place using the ServiceLoader mechanism.&lt;/p&gt;

&lt;p&gt;To make matters confusing, logging on to the Composum browser fixed the problem, but loading a simple JSP did not help.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Caused by: org.apache.felix.log.LogException: java.lang.RuntimeException: Provider for class javax.xml.stream.XMLInputFactory cannot be created
	at java.xml/javax.xml.stream.FactoryFinder.findServiceProvider(FactoryFinder.java:319)
	... 140 common frames omitted
Caused by: java.util.ServiceConfigurationError: javax.xml.stream.XMLInputFactory: Provider com.ctc.wstx.stax.WstxInputFactory not found
	at java.base/java.util.ServiceLoader.fail(ServiceLoader.java:593)
	at java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.nextProviderClass(ServiceLoader.java:1219)
	at java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.hasNextService(ServiceLoader.java:1228)
	at java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.hasNext(ServiceLoader.java:1273)
	at java.base/java.util.ServiceLoader$2.hasNext(ServiceLoader.java:1309)
	at java.base/java.util.ServiceLoader$3.hasNext(ServiceLoader.java:1393)
	at java.xml/javax.xml.stream.FactoryFinder$1.run(FactoryFinder.java:304)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:319)
	at java.xml/javax.xml.stream.FactoryFinder.findServiceProvider(FactoryFinder.java:293)
	... 140 common frames omitted&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13602052">SLING-12568</key>
            <summary>Content extension advertises services for shaded and relocated packages</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 13 Dec 2024 14:52:05 +0000</created>
                <updated>Fri, 13 Dec 2024 15:43:34 +0000</updated>
                            <resolved>Fri, 13 Dec 2024 15:43:34 +0000</resolved>
                                    <version>Feature Model Content Extension 1.0.0</version>
                                    <fixVersion>Feature Model Content Extension 1.0.14</fixVersion>
                                    <component>Feature Model</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            44 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1t434:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12566] Feature Model: ArtifactManagerConfig assumes maven repo at ~/.m2/repository</title>
                <link>https://issues.apache.org/jira/browse/SLING-12566</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;the default configuration in ArtifactManagerConfig assumes the local maven repository located at &lt;tt&gt;~/.m2/repository&lt;/tt&gt;:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature/blob/b30900086e45ecb7a6c4bba2985da035952417c2/src/main/java/org/apache/sling/feature/io/artifacts/ArtifactManagerConfig.java#L60-L68&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-feature/blob/b30900086e45ecb7a6c4bba2985da035952417c2/src/main/java/org/apache/sling/feature/io/artifacts/ArtifactManagerConfig.java#L60-L68&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;this may be the case in most cases, but it may be that the &lt;tt&gt;settings.xml&lt;/tt&gt; in that directory points to a different &lt;tt&gt;localRepository&lt;/tt&gt; path.&lt;/p&gt;

&lt;p&gt;i stumbled across this when using the sling project archetype&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/sling-project-archetype&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-project-archetype&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;this creates a launcher project based on starting sling using the feature launcher without any additional arguments except the feature file - and this fails if the maven repository is not at the expected default location.&lt;/p&gt;

&lt;p&gt;im my pov the code should look for a file &lt;tt&gt;&lt;sub&gt;/.m2/settings.xml&lt;/tt&gt; and take the path from there - and only if it not exists default to &lt;tt&gt;&lt;/sub&gt;/.m2/repository&lt;/tt&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13602049">SLING-12566</key>
            <summary>Feature Model: ArtifactManagerConfig assumes maven repo at ~/.m2/repository</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="sseifert">Stefan Seifert</reporter>
                        <labels>
                    </labels>
                <created>Fri, 13 Dec 2024 14:37:51 +0000</created>
                <updated>Sat, 21 Dec 2024 11:16:50 +0000</updated>
                            <resolved>Tue, 17 Dec 2024 09:06:42 +0000</resolved>
                                                    <fixVersion>Feature Model 2.0.4</fixVersion>
                                    <component>Feature Model</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                    <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13602244">SLING-12575</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            44 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1t42g:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12543] JcrUserHomeOAuthTokenStore allows users to access their own tokens</title>
                <link>https://issues.apache.org/jira/browse/SLING-12543</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Tokens stored by the JcrUserHomeOAuthTokenStore allow the owning user to access them. But the ownership of those tokens belongs to the application.&lt;/p&gt;

&lt;p&gt;Making them accessible to the user directly means that:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;the user can retrieve them and perform actions that are attributed to the OAuth client application&lt;/li&gt;
	&lt;li&gt;they can be extracted by an attacker in using XSS vulnerabilities&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;We should make sure these two scenarios are not possible&lt;/p&gt;</description>
                <environment></environment>
        <key id="13601808">SLING-12543</key>
            <summary>JcrUserHomeOAuthTokenStore allows users to access their own tokens</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 12 Dec 2024 09:53:22 +0000</created>
                <updated>Mon, 23 Dec 2024 15:05:59 +0000</updated>
                            <resolved>Mon, 16 Dec 2024 21:51:42 +0000</resolved>
                                                    <fixVersion>OAuth Client 0.1.0</fixVersion>
                                    <component>Authentication</component>
                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            44 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1t2l4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12529] OSGI Mock: DocumentBuilderFactory and XPathFactory are not thread-safe</title>
                <link>https://issues.apache.org/jira/browse/SLING-12529</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;tt&gt;javax.xml.parsers.DocumentBuilderFactory&lt;/tt&gt; and &lt;tt&gt;javax.xml.xpath.XPathFactory&lt;/tt&gt; are not thread-safe accoring the javadocs (although for &lt;tt&gt;javax.xml.parsers.DocumentBuilderFactory&lt;/tt&gt; that is no longer that explicit marked as it was in previous java version - but i assume it&apos;s still not thread-safe).&lt;/p&gt;

&lt;p&gt;so don&apos;t cache those factory instances statically.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13601410">SLING-12529</key>
            <summary>OSGI Mock: DocumentBuilderFactory and XPathFactory are not thread-safe</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="sseifert">Stefan Seifert</reporter>
                        <labels>
                    </labels>
                <created>Mon, 9 Dec 2024 16:27:47 +0000</created>
                <updated>Thu, 12 Dec 2024 20:56:36 +0000</updated>
                            <resolved>Mon, 9 Dec 2024 16:55:22 +0000</resolved>
                                                    <fixVersion>Testing OSGi Mock 3.5.2</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            45 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1t05c:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12508] CheckRequirementsCapabilities should support cardinality multiple</title>
                <link>https://issues.apache.org/jira/browse/SLING-12508</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;This issue was first reported for the &lt;a href=&quot;https://github.com/adobe/aemanalyser-maven-plugin/issues/306&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;aemanalyser-maven-plugin&lt;/a&gt;. However, the root cause is in the &lt;tt&gt;CheckRequirementsCapabilities&lt;/tt&gt; implementation, which warns when more than one matching capability is found, regardless of the requirement&apos;s cardinality.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13600084">SLING-12508</key>
            <summary>CheckRequirementsCapabilities should support cardinality multiple</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jsedding">Julian Sedding</assignee>
                                    <reporter username="jsedding">Julian Sedding</reporter>
                        <labels>
                    </labels>
                <created>Tue, 26 Nov 2024 19:15:56 +0000</created>
                <updated>Mon, 2 Dec 2024 10:07:36 +0000</updated>
                            <resolved>Thu, 28 Nov 2024 15:02:19 +0000</resolved>
                                    <version>Feature Model Analyser 2.0.10</version>
                                    <fixVersion>Feature Model Analyser 2.0.12</fixVersion>
                                    <component>Feature Model Analyser</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            47 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1ss5k:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12496] Onboard org-apache-sling-scripting-javascript to SonarCloud</title>
                <link>https://issues.apache.org/jira/browse/SLING-12496</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bellingard&quot; class=&quot;user-hover&quot; rel=&quot;bellingard&quot;&gt;bellingard&lt;/a&gt;. It looks like this module was not onboarded to SonarCloud, can you please add it?&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-scripting-javascript&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-scripting-javascript&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13599449">SLING-12496</key>
            <summary>Onboard org-apache-sling-scripting-javascript to SonarCloud</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bellingard">Fabrice Bellingard</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 Nov 2024 22:29:11 +0000</created>
                <updated>Fri, 22 Nov 2024 09:45:06 +0000</updated>
                            <resolved>Fri, 22 Nov 2024 09:45:06 +0000</resolved>
                                                                    <component>Build and Source Control</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17900275" author="bellingard" created="Fri, 22 Nov 2024 07:58:38 +0000"  >&lt;p&gt;Hey &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt;! Done =&amp;gt; &lt;a href=&quot;https://sonarcloud.io/project/overview?id=apache_sling-org-apache-sling-scripting-javascript&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sonarcloud.io/project/overview?id=apache_sling-org-apache-sling-scripting-javascript&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17900300" author="rombert" created="Fri, 22 Nov 2024 09:45:06 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bellingard&quot; class=&quot;user-hover&quot; rel=&quot;bellingard&quot;&gt;bellingard&lt;/a&gt;!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            47 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1so8o:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12495] ConfigurationSerializerWebConsolePlugin: Rework &quot;Remove properties&quot; logic</title>
                <link>https://issues.apache.org/jira/browse/SLING-12495</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The logic/UI for hiding certain default/inherited properties introduced with &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-11864&quot; title=&quot;Configuration merge/default values not considered in OSGi Installer Configuration Printer Web Console&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-11864&quot;&gt;&lt;del&gt;SLING-11864&lt;/del&gt;&lt;/a&gt; has several flaws:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;It allows to hide properties coming from different sources individually not considering the order. That potentially leads to wrong configuration because the sources have a strict priority and it may be the case that a custom configuration reverts a value to its default value (which has been overwritten through inherited properties)&lt;/li&gt;
	&lt;li&gt;the wording of the individual checkboxes is hard to understand:
	&lt;ol&gt;
		&lt;li&gt;Remove Properties -&amp;gt; Hide Properties&lt;/li&gt;
		&lt;li&gt;Merged Properties -&amp;gt; Inherited Properties with a link to &lt;a href=&quot;https://sling.apache.org/documentation/bundles/configuration-installer-factory.html#merging-of-configuration&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/documentation/bundles/configuration-installer-factory.html#merging-of-configuration&lt;/a&gt; (hide it in case this feature is not enabled)&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
	&lt;li&gt;Reevaluate whether hiding properties having the metatype default value makes sense&lt;/li&gt;
&lt;/ol&gt;
</description>
                <environment></environment>
        <key id="13599372">SLING-12495</key>
            <summary>ConfigurationSerializerWebConsolePlugin: Rework &quot;Remove properties&quot; logic</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 Nov 2024 11:39:44 +0000</created>
                <updated>Sun, 1 Dec 2024 15:45:29 +0000</updated>
                            <resolved>Sun, 1 Dec 2024 15:45:29 +0000</resolved>
                                    <version>Installer Configuration Factory 1.4.4</version>
                                    <fixVersion>Installer Configuration Factory 1.4.10</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17899732" author="kwin" created="Wed, 20 Nov 2024 11:43:00 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; Are you sure that metatype default values are evaluated when installing OSGi configurations (&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-11864?focusedCommentId=17722092&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-17722092)?&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SLING-11864?focusedCommentId=17722092&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-17722092)?&lt;/a&gt; I thought this is only relevant for the Felix Web UI. I haven&apos;t found any references to Metatype API in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-installer-factory-configuration&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-installer-factory-configuration&lt;/a&gt; or &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-installer-core/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-installer-core/&lt;/a&gt;. Is the configuration admin somehow considering metatype default values?&lt;/p&gt;</comment>
                            <comment id="17899735" author="cziegeler" created="Wed, 20 Nov 2024 12:15:03 +0000"  >&lt;p&gt;Configuration Admin has no logic, it stores what you give it and it returns what it has (plugins can modify that).&lt;br/&gt;
I have no idea how all of this works, maybe it only works if configurations are changed via the webconsole through &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-installer-factory-configuration/blob/master/src/main/java/org/apache/sling/installer/factories/configuration/impl/WebconsoleConfigurationHandler.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-installer-factory-configuration/blob/master/src/main/java/org/apache/sling/installer/factories/configuration/impl/WebconsoleConfigurationHandler.java&lt;/a&gt; ?&lt;/p&gt;</comment>
                            <comment id="17899796" author="kwin" created="Wed, 20 Nov 2024 15:03:45 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; Thanks for the pointer, will do some more testing how exactly metatype defaults are considered.&lt;/p&gt;</comment>
                            <comment id="17902105" author="kwin" created="Sun, 1 Dec 2024 15:45:29 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-installer-factory-configuration/commit/0320dfbec65622aa907112c12414ba2345379c2a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-installer-factory-configuration/commit/0320dfbec65622aa907112c12414ba2345379c2a&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13535374">SLING-11864</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            46 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1snrk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12494] Index definition extraction fails in case nested files with unknown content types are found</title>
                <link>https://issues.apache.org/jira/browse/SLING-12494</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Consider an oak lucene index definition that contains custom filters&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://jackrabbit.apache.org/oak/docs/query/lucene.html#examples&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://jackrabbit.apache.org/oak/docs/query/lucene.html#examples&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;and points to files that don&apos;t have a defined content type, such as&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;          + HunspellStem
            - dictionary = &quot;en_gb.dic&quot;
            - affix = &quot;en_gb.aff&quot;
            + en_gb.aff (nt:file)
            + en_gb.dic (nt:file)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Then index definition extraction fails because it always expects a content-type to be discovered.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.lang.NullPointerException: value must not be null
	at org.apache.johnzon.core.JsonStringImpl.&amp;lt;init&amp;gt;(JsonStringImpl.java:32)
	at org.apache.johnzon.core.JsonProviderImpl.createValue(JsonProviderImpl.java:159)
	at jakarta.json.Json.createValue(Json.java:434)
	at org.apache.sling.feature.cpconverter.index.IndexDefinitionsJsonWriter.write(IndexDefinitionsJsonWriter.java:181)
	at org.apache.sling.feature.cpconverter.index.IndexDefinitionsJsonWriter.write(IndexDefinitionsJsonWriter.java:158)
	at org.apache.sling.feature.cpconverter.index.IndexDefinitionsJsonWriter.write(IndexDefinitionsJsonWriter.java:172)
	at org.apache.sling.feature.cpconverter.index.IndexDefinitionsJsonWriter.write(IndexDefinitionsJsonWriter.java:172)
	at org.apache.sling.feature.cpconverter.index.IndexDefinitionsJsonWriter.write(IndexDefinitionsJsonWriter.java:172)
	at org.apache.sling.feature.cpconverter.index.IndexDefinitionsJsonWriter.write(IndexDefinitionsJsonWriter.java:172)
	at org.apache.sling.feature.cpconverter.index.IndexDefinitionsJsonWriter.write(IndexDefinitionsJsonWriter.java:172)
	at org.apache.sling.feature.cpconverter.index.IndexDefinitionsJsonWriter.writeAsJson(IndexDefinitionsJsonWriter.java:94)
	at org.apache.sling.feature.cpconverter.index.DefaultIndexManager.addRepoinitExtension(DefaultIndexManager.java:38)
	at org.apache.sling.feature.cpconverter.ContentPackage2FeatureModelConverter.secondPass(ContentPackage2FeatureModelConverter.java:361)
	at org.apache.sling.feature.cpconverter.ContentPackage2FeatureModelConverter.convert(ContentPackage2FeatureModelConverter.java:296)
	at
	... 12 more
	Suppressed: jakarta.json.stream.JsonGenerationException: Invalid json, state=IN_OBJECT
		at org.apache.johnzon.core.JsonGeneratorImpl.close(JsonGeneratorImpl.java:447)
		at org.apache.sling.feature.cpconverter.index.IndexDefinitionsJsonWriter.writeAsJson(IndexDefinitionsJsonWriter.java:90)
		... 16 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13599274">SLING-12494</key>
            <summary>Index definition extraction fails in case nested files with unknown content types are found</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 Nov 2024 15:42:56 +0000</created>
                <updated>Mon, 12 May 2025 17:20:32 +0000</updated>
                                                            <fixVersion>Content-Package to Feature Model Converter 1.3.12</fixVersion>
                                    <component>Content-Package to Feature Model Converter</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            48 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1sn6g:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12479] osgi-installer-config-printer throws NPE when not called with request parameter pid</title>
                <link>https://issues.apache.org/jira/browse/SLING-12479</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Due to the logic added with &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-11864&quot; title=&quot;Configuration merge/default values not considered in OSGi Installer Configuration Printer Web Console&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-11864&quot;&gt;&lt;del&gt;SLING-11864&lt;/del&gt;&lt;/a&gt; the following NPE is thrown when the web console plugin is called without the request parameter &lt;tt&gt;pid&lt;/tt&gt;.&lt;br/&gt;
The following stacktrace is emitted:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
ava.lang.NullPointerException
	at java.base/java.lang.&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.concat(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.java:1937)
	at org.apache.sling.installer.factories.configuration.impl.ConfigTaskCreator.getDefaultProperties(ConfigTaskCreator.java:186)
	at org.apache.sling.installer.factories.configuration.impl.ConfigurationSerializerWebConsolePlugin.service(ConfigurationSerializerWebConsolePlugin.java:123)
	at org.apache.felix.webconsole.internal.legacy.WebConsolePluginAdapter.renderContent(WebConsolePluginAdapter.java:128)
	at org.apache.felix.webconsole.AbstractWebConsolePlugin.doGet(AbstractWebConsolePlugin.java:182)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13598502">SLING-12479</key>
            <summary>osgi-installer-config-printer throws NPE when not called with request parameter pid</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Tue, 12 Nov 2024 15:17:09 +0000</created>
                <updated>Thu, 21 Nov 2024 13:57:29 +0000</updated>
                            <resolved>Tue, 12 Nov 2024 16:30:08 +0000</resolved>
                                    <version>Installer Configuration Factory 1.4.4</version>
                                    <fixVersion>Installer Configuration Factory 1.4.8</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17897605" author="kwin" created="Tue, 12 Nov 2024 15:18:54 +0000"  >&lt;p&gt;Workaround: Call the Web Console plugin via &lt;tt&gt;/system/console/osgi-installer-config-printer?pid=test&lt;/tt&gt;. Although this PID is invalid it prevents the NPE.&lt;/p&gt;</comment>
                            <comment id="17897640" author="kwin" created="Tue, 12 Nov 2024 16:30:08 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-installer-factory-configuration/commit/941f16de81d61a1dd1aa7031b929d84290b683a5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-installer-factory-configuration/commit/941f16de81d61a1dd1aa7031b929d84290b683a5&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13535374">SLING-11864</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            49 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1sigg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12474] Incorrect repoinit statements generated for bundles embedded more than once at different paths</title>
                <link>https://issues.apache.org/jira/browse/SLING-12474</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When processing bundle with Sling initial content, the conversion process generates:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;a content package with regular files&lt;/li&gt;
	&lt;li&gt;repoinit statements ensuring the ancestors are created with the correct JCR primary type&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The primary type for the repoinit statements is looked up in the content packages.&lt;/p&gt;

&lt;p&gt;When a bundle is embedded twice ( in my case two content packages, but it remains to be seen if this is a requirement ) the generated content package is processed only once. This happens because the tracking is done by repository path, not by package id.&lt;/p&gt;

&lt;p&gt;This means that any repoinit statements generated for one of the packages will not make use of the repository path information, leading to incorrect repoinit statements.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13598078">SLING-12474</key>
            <summary>Incorrect repoinit statements generated for bundles embedded more than once at different paths</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 7 Nov 2024 16:08:52 +0000</created>
                <updated>Thu, 9 Oct 2025 05:53:56 +0000</updated>
                                                            <fixVersion>Content-Package to Feature Model Converter 1.3.12</fixVersion>
                                    <component>Content-Package to Feature Model Converter</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            49 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1sfu8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12472] Sling Models Impl: Injector and Implementation Picker service ranking must be reversed</title>
                <link>https://issues.apache.org/jira/browse/SLING-12472</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-12374&quot; title=&quot;Improve injector handling in ModelAdapterFactory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-12374&quot;&gt;&lt;del&gt;SLING-12374&lt;/del&gt;&lt;/a&gt; switched the handling of registering multiple implementation pickers from &quot;manual&quot; via &quot;RankedServices&quot; to a more elegant pure DS solution. but this change introduced a severe bug:&lt;/p&gt;

&lt;p&gt;for historic/backward compatibility reasons, service ranking is interpreted &quot;the wrong way&quot; when registering implementation pickers, with highest ranking value = lowest ranking. lot of projects depend on this current behavior of sling models impl 1.7.0 and below.&lt;/p&gt;

&lt;p&gt;with 1.7.2 and the change from &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-12374&quot; title=&quot;Improve injector handling in ModelAdapterFactory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-12374&quot;&gt;&lt;del&gt;SLING-12374&lt;/del&gt;&lt;/a&gt; this is reversed. this needs to be fixed to restore the previous behavior.&lt;/p&gt;

&lt;p&gt;Update: the ordering Injector implementation is affected in the same way&lt;/p&gt;</description>
                <environment></environment>
        <key id="13597900">SLING-12472</key>
            <summary>Sling Models Impl: Injector and Implementation Picker service ranking must be reversed</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="sseifert">Stefan Seifert</reporter>
                        <labels>
                    </labels>
                <created>Wed, 6 Nov 2024 12:34:35 +0000</created>
                <updated>Tue, 17 Dec 2024 10:25:42 +0000</updated>
                            <resolved>Tue, 12 Nov 2024 11:18:03 +0000</resolved>
                                                    <fixVersion>Models Implementation 1.7.4</fixVersion>
                                    <component>Sling Models</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17895976" author="kwin" created="Wed, 6 Nov 2024 14:08:35 +0000"  >&lt;p&gt;This has been clarified at least in the OSGi javadoc and spec meanwhile: &lt;a href=&quot;https://github.com/osgi/osgi/issues/400&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/osgi/osgi/issues/400&lt;/a&gt;...&lt;/p&gt;</comment>
                            <comment id="17895978" author="sseifert@pro-vision.de" created="Wed, 6 Nov 2024 14:09:42 +0000"  >&lt;p&gt;yes, DS implementation is correct and as expected.&lt;/p&gt;

&lt;p&gt;but the sling models implementation treated injectors and implementation pickers always in the wrong way, and we have to keep i that way.&lt;/p&gt;</comment>
                            <comment id="17895997" author="kwin" created="Wed, 6 Nov 2024 14:44:27 +0000"  >&lt;p&gt;I agree that we logically have to invert the order, but let&apos;s do that in code while keeping OOTB DS injection. This should be easy to achieve by just iterating over the collection in the opposite order or invert the logic within the loop.&lt;/p&gt;</comment>
                            <comment id="17896023" author="sseifert@pro-vision.de" created="Wed, 6 Nov 2024 16:26:12 +0000"  >&lt;p&gt;yes, that&apos;s part of &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-models-impl/pull/60&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-models-impl/pull/60&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17897468" author="sseifert@pro-vision.de" created="Tue, 12 Nov 2024 11:18:03 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-models-impl/commit/6cbc8a4425930ae62586e84ff442bcec79d6e552&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-models-impl/commit/6cbc8a4425930ae62586e84ff442bcec79d6e552&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="13602412">SLING-12578</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="13585138">SLING-12374</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            49 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1seqw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12469] Index definitions are not extracted when individual definitions are defined in the filter.xml as roots</title>
                <link>https://issues.apache.org/jira/browse/SLING-12469</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Assuming that we have a content package with index definitions stored as single files&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;.
&#9500;&#9472;&#9472; jcr_root
&#9474;&#160;&#160; &#9492;&#9472;&#9472; _oak_index
&#9474;&#160;&#160;     &#9500;&#9472;&#9472; .content.xml
&#9474;&#160;&#160;     &#9492;&#9472;&#9472; foo.xml
&#9492;&#9472;&#9472; META-INF
    &#9492;&#9472;&#9472; vault
        &#9492;&#9472;&#9472; filter.xml
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;WIth the filter listing the individual index definitions&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&amp;gt;
&amp;lt;workspaceFilter version=&quot;1.0&quot;&amp;gt;
    &amp;lt;filter root=&quot;/oak:index/foo&quot; /&amp;gt;
&amp;lt;/workspaceFilter&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Then the index definitions will not be extracted properly. The root cause is that the repository path for the filter is inferred as &lt;tt&gt;/oak:index/foo.xml&lt;/tt&gt;  - file extension included. This will cause it to not match the filters.&lt;/p&gt;

&lt;p&gt;Looks like we need to better set the repository paths by following the aggregation logic better. IIUC, according to &lt;a href=&quot;https://jackrabbit.apache.org/filevault/config.html#aggregates&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://jackrabbit.apache.org/filevault/config.html#aggregates&lt;/a&gt; , foo.xml is handled by a FullCoverageAggregator and should have the extension removed.&lt;/p&gt;

&lt;p&gt;Care must be taken to not apply the same logic to the entries handled by FileAggregator, whose extension must be kept. This is the case for Tika configurations, for instance.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13597649">SLING-12469</key>
            <summary>Index definitions are not extracted when individual definitions are defined in the filter.xml as roots</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 4 Nov 2024 16:50:07 +0000</created>
                <updated>Tue, 19 Nov 2024 15:03:23 +0000</updated>
                            <resolved>Wed, 6 Nov 2024 10:05:34 +0000</resolved>
                                                    <fixVersion>Content-Package to Feature Model Converter 1.3.8</fixVersion>
                                    <component>Content-Package to Feature Model Converter</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17895431" author="kwin" created="Mon, 4 Nov 2024 21:18:02 +0000"  >&lt;p&gt;There are some helper methods in &lt;a href=&quot;https://github.com/apache/jackrabbit-filevault/blob/master/vault-core/src/main/java/org/apache/jackrabbit/vault/util/PlatformNameFormat.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jackrabbit-filevault/blob/master/vault-core/src/main/java/org/apache/jackrabbit/vault/util/PlatformNameFormat.java&lt;/a&gt; to transform from one format to the other. However it doesn&apos;t consider differences of the used aggregator.&lt;/p&gt;</comment>
                            <comment id="17895548" author="rombert" created="Tue, 5 Nov 2024 09:24:43 +0000"  >&lt;p&gt;Right, thanks for the hint &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt;. I tried to figure out whether I can identify the aggregator programatically but the API requires a `javax.jcr.Node` and that&apos;s not going to be easy to provide&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/apache/jackrabbit-filevault/blob/72adfdd907a1056381aa29695f57505293b39f46/vault-core/src/main/java/org/apache/jackrabbit/vault/fs/api/Aggregator.java#L80&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jackrabbit-filevault/blob/72adfdd907a1056381aa29695f57505293b39f46/vault-core/src/main/java/org/apache/jackrabbit/vault/fs/api/Aggregator.java#L80&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/apache/jackrabbit-filevault/blob/72adfdd907a1056381aa29695f57505293b39f46/vault-core/src/main/java/org/apache/jackrabbit/vault/fs/api/Aggregator.java#L53&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jackrabbit-filevault/blob/72adfdd907a1056381aa29695f57505293b39f46/vault-core/src/main/java/org/apache/jackrabbit/vault/fs/api/Aggregator.java#L53&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I still need to understand this better, I suspect that this happens because the index definitions are filter roots, not because of aggregator configurations. &lt;/p&gt;</comment>
                            <comment id="17895551" author="kwin" created="Tue, 5 Nov 2024 09:28:10 +0000"  >&lt;p&gt;The filter xml always uses JCR node paths, not FS serialization paths. Not only for the root attribute but also for includes/excludes (compare with &lt;a href=&quot;https://jackrabbit.apache.org/filevault/filter.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://jackrabbit.apache.org/filevault/filter.html&lt;/a&gt;)&lt;/p&gt;</comment>
                            <comment id="17895576" author="rombert" created="Tue, 5 Nov 2024 12:04:49 +0000"  >&lt;p&gt;Right, we already make the distinction between FS and repository paths, see &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/blob/a0914fb9050a9c3aecd5e69f0adb648b91796ce8/src/main/java/org/apache/sling/feature/cpconverter/handlers/IndexDefinitionsEntryHandler.java#L110-L113&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/blob/a0914fb9050a9c3aecd5e69f0adb648b91796ce8/src/main/java/org/apache/sling/feature/cpconverter/handlers/IndexDefinitionsEntryHandler.java#L110-L113&lt;/a&gt; .&lt;/p&gt;

&lt;p&gt;What still puzzles me is the format of the index definitions - I stumbled upon this &quot;in the wild&quot; but I don&apos;t think this is generated by FileVault, but rather crafted by the user. My test was the following:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;start the Sling Starter&lt;/li&gt;
	&lt;li&gt;create a filter.xml that includes two index definitionss&lt;/li&gt;
&lt;/ul&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;workspaceFilter vesion=&lt;span class=&quot;code-quote&quot;&gt;&quot;1.0&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;filter root=&lt;span class=&quot;code-quote&quot;&gt;&quot;/oak:index/jcrLanguage&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;filter root=&lt;span class=&quot;code-quote&quot;&gt;&quot;/oak:index/counter&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/workspaceFilter&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and ran &lt;tt&gt;vlt --credentials admin:admin co &lt;a href=&quot;http://localhost:8080/server/default/jcr:root/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/server/default/jcr:root/&lt;/a&gt;&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;I ended up with a generic aggregate for oak:index ( &lt;a href=&quot;https://jackrabbit.apache.org/filevault/vaultfs.html#generic-aggregates&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://jackrabbit.apache.org/filevault/vaultfs.html#generic-aggregates&lt;/a&gt; )&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ tree -a jcr_root/
jcr_root/
&#9500;&#9472;&#9472; .content.xml
&#9500;&#9472;&#9472; _oak_index
&#9474;&#160;&#160; &#9500;&#9472;&#9472; .content.xml
&#9474;&#160;&#160; &#9492;&#9472;&#9472; .vlt
&#9492;&#9472;&#9472; .vlt
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and not with individual full aggregates for each index definition. My current thinking is the files were hand-crafted and accepted by FileVault for import, but not representative of the canonical format used when exported.&lt;/p&gt;</comment>
                            <comment id="17895599" author="rombert" created="Tue, 5 Nov 2024 13:14:17 +0000"  >&lt;p&gt;Added a package to demonstrate that this actually works - &lt;a href=&quot;https://github.com/rombert/SLING12469&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/rombert/SLING12469&lt;/a&gt; . The index definition from &lt;a href=&quot;https://github.com/rombert/SLING12469/blob/master/src/main/content/jcr_root/_oak_index/jcrCreated.xml&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/rombert/SLING12469/blob/master/src/main/content/jcr_root/_oak_index/jcrCreated.xml&lt;/a&gt; creates an index definition when the package is installed.&lt;/p&gt;

&lt;p&gt;I think digging down in the Package Manager/FileVault code to figure out why this works in order to reuse the code is not tenable. I&apos;d rather make a minimal adaption to the code and add a regression test to ensure this works and does not break anything.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            50 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1sd74:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12450] Commons Crypto sample and documentation reference incorrect Factory PID</title>
                <link>https://issues.apache.org/jira/browse/SLING-12450</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://sling.apache.org/documentation/bundles/commons-crypto.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/documentation/bundles/commons-crypto.html&lt;/a&gt; as well as &lt;a href=&quot;https://github.com/apache/sling-samples/blob/master/sling-commons-crypto-configuration/src/main/resources/initial-content/apps/samples/commons-crypto/config/org.apache.sling.commons.crypto.jasypt.internal.JasyptStandardPBEStringCryptoService~sample.json&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-samples/blob/master/sling-commons-crypto-configuration/src/main/resources/initial-content/apps/samples/commons-crypto/config/org.apache.sling.commons.crypto.jasypt.internal.JasyptStandardPBEStringCryptoService~sample.json&lt;/a&gt; use and incorrect config name that translate into an incorrect factory PID&lt;/p&gt;

&lt;p&gt;The &quot;PBE&quot; part is actually &quot;Pbe&quot; in the OSGi component definitions, see &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-commons-crypto/blob/607fed7f5db7fce08ffd24b9cd39bec3c1966d39/src/main/java/org/apache/sling/commons/crypto/jasypt/internal/JasyptStandardPbeStringCryptoService.java#L60&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-commons-crypto/blob/607fed7f5db7fce08ffd24b9cd39bec3c1966d39/src/main/java/org/apache/sling/commons/crypto/jasypt/internal/JasyptStandardPbeStringCryptoService.java#L60&lt;/a&gt; .&lt;/p&gt;

&lt;p&gt;I noticed this while defining the config in the feature model, but I suspect the OSGi installer will have the same issues.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13595078">SLING-12450</key>
            <summary>Commons Crypto sample and documentation reference incorrect Factory PID</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 11 Oct 2024 12:15:52 +0000</created>
                <updated>Fri, 11 Oct 2024 20:27:22 +0000</updated>
                            <resolved>Fri, 11 Oct 2024 20:27:17 +0000</resolved>
                                                                    <component>Commons</component>
                    <component>Documentation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17888730" author="olli" created="Fri, 11 Oct 2024 17:54:22 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt;, The class names were changed from to &lt;tt&gt;&lt;b&gt;PBE&lt;/b&gt;&lt;/tt&gt; to &lt;tt&gt;&lt;b&gt;Pbe&lt;/b&gt;&lt;/tt&gt; between 1.0.0 and 1.1.0 with commit&#160;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-commons-crypto/commit/e7cad7181edd3bacd85ed240d03a3700f75df6d1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;e7cad7181edd3bacd85ed240d03a3700f75df6d1&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="17888763" author="rombert" created="Fri, 11 Oct 2024 20:26:26 +0000"  >&lt;p&gt;Ah, that explains it, thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olli&quot; class=&quot;user-hover&quot; rel=&quot;olli&quot;&gt;olli&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 1 week, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1rxeg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12445] SubscriberReady: acceptableAgeDiffMs should be made configurable</title>
                <link>https://issues.apache.org/jira/browse/SLING-12445</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;acceptableAgeDiffMs is currently hardcoded to 2 minutes. Importing a 500-path package takes between 1.5 and 3 minutes, so that might be too low and it would be handy to be able to change this via configuration.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13594172">SLING-12445</key>
            <summary>SubscriberReady: acceptableAgeDiffMs should be made configurable</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cschneider">Christian Schneider</assignee>
                                    <reporter username="ahanikel">Axel Hanikel</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 Oct 2024 13:19:49 +0000</created>
                <updated>Tue, 11 Mar 2025 12:54:37 +0000</updated>
                            <resolved>Tue, 11 Mar 2025 12:54:37 +0000</resolved>
                                    <version>Content Distribution Journal Core 0.3.0</version>
                                    <fixVersion>Content Distribution Journal Core 0.5.2</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17886680" author="ahanikel" created="Thu, 3 Oct 2024 13:25:50 +0000"  >&lt;p&gt;PR is at &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-journal/pull/155&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-journal/pull/155&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cschneider&quot; class=&quot;user-hover&quot; rel=&quot;cschneider&quot;&gt;cschneider&lt;/a&gt; could you have a look?&lt;/p&gt;</comment>
                            <comment id="17934203" author="chris@die-schneider.net" created="Tue, 11 Mar 2025 12:54:32 +0000"  >&lt;p&gt;Sorry for the late reply.&#160;&lt;br/&gt;
I merged now.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            32 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1rrtc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12444] SubscriberIdleCheck should be registered with hc.tags</title>
                <link>https://issues.apache.org/jira/browse/SLING-12444</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The &lt;tt&gt;SubscriberIdleCheck&lt;/tt&gt; should be registered with configurable &lt;tt&gt;hc.tags&lt;/tt&gt;, otherwise it will be ignored in health checks.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13593994">SLING-12444</key>
            <summary>SubscriberIdleCheck should be registered with hc.tags</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cschneider">Christian Schneider</assignee>
                                    <reporter username="ahanikel">Axel Hanikel</reporter>
                        <labels>
                    </labels>
                <created>Wed, 2 Oct 2024 10:53:05 +0000</created>
                <updated>Mon, 7 Oct 2024 13:18:30 +0000</updated>
                            <resolved>Mon, 7 Oct 2024 13:18:30 +0000</resolved>
                                    <version>Content Distribution Journal Core 0.4.0</version>
                                    <fixVersion>Content Distribution Journal Core 0.5.0</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17886347" author="ahanikel" created="Wed, 2 Oct 2024 11:16:51 +0000"  >&lt;p&gt;PR is at &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-journal/pull/154&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-journal/pull/154&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cschneider&quot; class=&quot;user-hover&quot; rel=&quot;cschneider&quot;&gt;cschneider&lt;/a&gt; Could you have a look?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 3 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1rqps:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12442] Regression due to SLING-11299</title>
                <link>https://issues.apache.org/jira/browse/SLING-12442</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-11299&quot; title=&quot;JSP source/linenumber is not always shown when an exception occurs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-11299&quot;&gt;&lt;del&gt;SLING-11299&lt;/del&gt;&lt;/a&gt; introduced a regression. With that change, a JSP script is re-compiled whenever an exception occurs during the execution of the script.&lt;/p&gt;

&lt;p&gt;To fix the immediate issue, in this ticket, the &quot;improved&quot; error logging will be reverted to what it was before &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-11299&quot; title=&quot;JSP source/linenumber is not always shown when an exception occurs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-11299&quot;&gt;&lt;del&gt;SLING-11299&lt;/del&gt;&lt;/a&gt;. Restoring this improvement will be covered in a separate ticket.&lt;/p&gt;

&lt;p&gt;Re-compilation performs the following (non-atomic/non-synchronized) steps&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;delete old java file&lt;/li&gt;
	&lt;li&gt;delete old class file&lt;/li&gt;
	&lt;li&gt;generate new java file&lt;/li&gt;
	&lt;li&gt;compile new java file to class file&lt;/li&gt;
	&lt;li&gt;add smap data (java source maps for languages that are converted to java source)
	&lt;ul&gt;
		&lt;li&gt;write tmp class file with added smap data (non-randomized file name)&lt;/li&gt;
		&lt;li&gt;delete class file&lt;/li&gt;
		&lt;li&gt;move tmp class file to class file path&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Any request threads that want to render the same JSP script, and that observe that the class file is missing, will also start recompilation with all steps from above.&lt;/p&gt;

&lt;p&gt;This can lead to multiple threads throwing exceptions due to an unexpected state on the file system. Especially under load, it can be difficult for the system to recover from such a situation.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13593500">SLING-12442</key>
            <summary>Regression due to SLING-11299</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jsedding">Julian Sedding</assignee>
                                    <reporter username="jsedding">Julian Sedding</reporter>
                        <labels>
                    </labels>
                <created>Fri, 27 Sep 2024 10:24:27 +0000</created>
                <updated>Wed, 2 Oct 2024 13:58:11 +0000</updated>
                            <resolved>Wed, 2 Oct 2024 13:58:11 +0000</resolved>
                                    <version>Scripting JSP 2.6.0</version>
                    <version>Scripting JSP 2.6.2</version>
                                    <fixVersion>Scripting JSP 2.6.4</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 3 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1rnog:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12440] Extension incorrectly annotated with @ProviderType</title>
                <link>https://issues.apache.org/jira/browse/SLING-12440</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;org.apache.sling.sitemap.builder.Extension is annotated with @ProviderType, but the implementation requires the consumer to extend this interface. This should be changed to @ConsumerType.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-sitemap/blob/master/src/main/java/org/apache/sling/sitemap/builder/Extension.java#L29&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-sitemap/blob/master/src/main/java/org/apache/sling/sitemap/builder/Extension.java#L29&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13593017">SLING-12440</key>
            <summary>Extension incorrectly annotated with @ProviderType</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ptos">Peter Tos</reporter>
                        <labels>
                            <label>sitemaps</label>
                    </labels>
                <created>Mon, 23 Sep 2024 23:31:57 +0000</created>
                <updated>Wed, 6 Aug 2025 14:36:56 +0000</updated>
                                                                            <component>Extensions</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17912815" author="joerghoh" created="Tue, 14 Jan 2025 09:56:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ptos&quot; class=&quot;user-hover&quot; rel=&quot;ptos&quot;&gt;ptos&lt;/a&gt; org.apache.sling.sitemap.builder.Extension is a marker interface, and for that reason I don&apos;t understand why &quot;the implementation&quot; (an implementation of that interface?) would not need to to extend this interface.&lt;br/&gt;
In my opinion custom code just needs to implement this interface, there is no need to extend it.&lt;/p&gt;

&lt;p&gt;(But yes, converting it to a @ConsumerType is necessary.)&lt;/p&gt;</comment>
                            <comment id="17913841" author="JIRAUSER308371" created="Thu, 16 Jan 2025 19:23:31 +0000"  >&lt;p&gt;Thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=joerghoh&quot; class=&quot;user-hover&quot; rel=&quot;joerghoh&quot;&gt;joerghoh&lt;/a&gt;. The way it works now it requires&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; to extend the &quot;org.apache.sling.sitemap.builder.Extension&quot; interface, so for now at least i am opening a new PR to convert to @ConsumerType&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;. &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-sitemap/blob/5ca300fc538b69a624ff492e4dca9d452be56e35/src/main/java/org/apache/sling/sitemap/builder/Url.java#L74&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-sitemap/blob/5ca300fc538b69a624ff492e4dca9d452be56e35/src/main/java/org/apache/sling/sitemap/builder/Url.java#L74&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13074096/13074096_image-2025-01-16-16-19-35-924.png&quot; height=&quot;382&quot; width=&quot;484&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="17913864" author="JIRAUSER307048" created="Thu, 16 Jan 2025 21:53:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=joerghoh&quot; class=&quot;user-hover&quot; rel=&quot;joerghoh&quot;&gt;joerghoh&lt;/a&gt; I think the documentation may need some clarification rather than this being an implementation issue. As &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=estebusta&quot; class=&quot;user-hover&quot; rel=&quot;estebusta&quot;&gt;estebusta&lt;/a&gt; showed, the documentation states that we should extend the marker interface. This is correct if we are creating a Sitemap Extension within the Sling Sitemap codebase.&#160;&lt;/p&gt;

&lt;p&gt;If we are creating a custom Sitemap Extension within a delivery codebase (e.g. within AEM), then we should implement `&lt;br/&gt;
org.apache.sling.sitemap.spi.builder.SitemapExtensionProvider` instead.&lt;/p&gt;</comment>
                            <comment id="17914151" author="JIRAUSER308371" created="Fri, 17 Jan 2025 15:35:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ptos&quot; class=&quot;user-hover&quot; rel=&quot;ptos&quot;&gt;ptos&lt;/a&gt; can you describe at a high level how to add custom extensions by implementing &lt;tt&gt;org.apache.sling.sitemap.spi.builder.SitemapExtensionProvider&lt;/tt&gt;? I&#8217;m puzzled by the fact that the &lt;tt&gt;URL&lt;/tt&gt; interface, in order to &quot;register&quot; a custom extension, requires a class that extends the &lt;tt&gt;Extension&lt;/tt&gt; interface. You can see this reference here: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-sitemap/blob/5ca300fc538b69a624ff492e4dca9d452be56e35/src/main/java/org/apache/sling/sitemap/builder/Url.java#L74&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-sitemap/blob/5ca300fc538b69a624ff492e4dca9d452be56e35/src/main/java/org/apache/sling/sitemap/builder/Url.java#L74&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17921610" author="diru" created="Tue, 28 Jan 2025 05:58:07 +0000"  >&lt;p&gt;Isn&apos;t it enough to extend the AbstractExtension class? You can register the SitemapExtensionProvider with the full qualified class name or define an interface, and using either to call `Url#addExtension()`.&lt;/p&gt;

&lt;p&gt;Extending the marker interface directly should not be necessary. But I agree the README is misleading. &lt;/p&gt;</comment>
                            <comment id="17922250" author="JIRAUSER308371" created="Thu, 30 Jan 2025 02:06:14 +0000"  >&lt;p&gt;Oh i see what you mean, thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=diru&quot; class=&quot;user-hover&quot; rel=&quot;diru&quot;&gt;diru&lt;/a&gt; . It worked as expected. So, should we go ahead and close the ticket and just update the README.md instead?&#160;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13074096" name="image-2025-01-16-16-19-35-924.png" size="185362" author="estebusta" created="Thu, 16 Jan 2025 19:19:37 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            38 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1rkp4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12439] repoinit allows invalid namespace names (URIs)</title>
                <link>https://issues.apache.org/jira/browse/SLING-12439</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;In JCR, a namespace name is defined to be an absolute URI (see &amp;lt;&lt;a href=&quot;https://developer.adobe.com/experience-manager/reference-materials/spec/jcr/2.0/3_Repository_Model.html#3.2%20Names&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://developer.adobe.com/experience-manager/reference-materials/spec/jcr/2.0/3_Repository_Model.html#3.2%20Names&lt;/a&gt;&amp;gt;)&lt;/p&gt;

&lt;p&gt;Repoinit, however, seems to allow &quot;simple&quot; names such as &quot;foo&quot;.&lt;/p&gt;

&lt;p&gt;These names break in the JCR API, because it will assume that &quot;{foo}bar&quot; will parse as &quot;local&quot; name, not an expanded name (in the namespace &quot;foo&quot;).&lt;/p&gt;

&lt;p&gt;Optimally, these would be rejected, but I assume that&apos;ll break compatibilty.&lt;/p&gt;

&lt;p&gt;Maybe the documentation could be improved and/or a warning be generated?&lt;/p&gt;</description>
                <environment></environment>
        <key id="13592864">SLING-12439</key>
            <summary>repoinit allows invalid namespace names (URIs)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="reschke">Julian Reschke</assignee>
                                    <reporter username="reschke">Julian Reschke</reporter>
                        <labels>
                    </labels>
                <created>Sun, 22 Sep 2024 15:30:28 +0000</created>
                <updated>Fri, 5 Sep 2025 21:42:19 +0000</updated>
                            <resolved>Fri, 5 Sep 2025 21:42:19 +0000</resolved>
                                                    <fixVersion>Repoinit JCR 1.1.56</fixVersion>
                                    <component>Repoinit</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                    <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13615595">OAK-11659</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13615591">JCR-5140</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13540042">OAK-10304</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 4 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1rjr4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12437] Groovy macro library does not work properly in OSGi</title>
                <link>https://issues.apache.org/jira/browse/SLING-12437</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;In the sling-starter project, all groovy dependencies are listed. One of them is groovy-macro, which does not properly work in an OSGi environment (or at least not in the current setup of the Sling 13 SNAPSHOT). It deletes all DefaultGroovyMethod methods from any POJO / POGO and adds the MacroGroovyMethod instead.&lt;/p&gt;

&lt;p&gt;My proposal is to delete the groovy-macro as library from the starter, I expect that &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dklco&quot; class=&quot;user-hover&quot; rel=&quot;dklco&quot;&gt;dklco&lt;/a&gt;&#160; just added all libraries that he saw were available at the time of adding the groovy feature file. If no one objects, I will do the change&lt;/p&gt;</description>
                <environment></environment>
        <key id="13592528">SLING-12437</key>
            <summary>Groovy macro library does not work properly in OSGi</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="royteeuwen">Roy Teeuwen</assignee>
                                    <reporter username="royteeuwen">Roy Teeuwen</reporter>
                        <labels>
                    </labels>
                <created>Wed, 18 Sep 2024 21:44:48 +0000</created>
                <updated>Sat, 22 Mar 2025 12:18:19 +0000</updated>
                            <resolved>Thu, 19 Sep 2024 16:35:19 +0000</resolved>
                                                    <fixVersion>Starter 13</fixVersion>
                                    <component>Starter</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17882987" author="dklco" created="Thu, 19 Sep 2024 11:55:52 +0000"  >&lt;p&gt;Yep, that&apos;s indeed the case. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=royteeuwen&quot; class=&quot;user-hover&quot; rel=&quot;royteeuwen&quot;&gt;royteeuwen&lt;/a&gt; !&lt;/p&gt;</comment>
                            <comment id="17932323" author="paulk" created="Tue, 4 Mar 2025 13:35:32 +0000"  >&lt;p&gt;The proposed fix from last year is probably fine. Very few folks use macros in normal Groovy let alone in an OSGi context. But I am intrigued by what you saw. Any pointers how I could replicate the problems you were facing?&lt;/p&gt;</comment>
                            <comment id="17932413" author="royteeuwen" created="Tue, 4 Mar 2025 19:25:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=paulk&quot; class=&quot;user-hover&quot; rel=&quot;paulk&quot;&gt;paulk&lt;/a&gt; I prepared a demo for you, lets see if you can manage without having any background into Sling / Features &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/biggrin.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;.&#160; The demo spins up an OSGi application in the integration tests (sling 13 with aem-groovy-console / groovy included):&#160;&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Check out following project / branch&#160; &lt;a href=&quot;https://github.com/orbinson/aem-groovy-console/tree/SLING-12437-demo-paul&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/orbinson/aem-groovy-console/tree/SLING-12437-demo-paul&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;mvn clean install&lt;/li&gt;
	&lt;li&gt;mvn clean install -P it -pl it.tests&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;If you then want to see the result on what adding groovy-macro would do:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;uncomment the following block and run the integration tests again: &lt;a href=&quot;https://github.com/orbinson/aem-groovy-console/blob/SLING-12437-demo-paul/it.tests/src/main/features/groovy.json#L8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/orbinson/aem-groovy-console/blob/SLING-12437-demo-paul/it.tests/src/main/features/groovy.json#L8&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;mvn clean install -P it -pl it.tests&lt;/li&gt;
	&lt;li&gt;Check the logs in it.tests/target/launchers/model/logs/error.log&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;If you&apos;d like to attach a debugger in the process:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;uncomment following block &lt;a href=&quot;https://github.com/orbinson/aem-groovy-console/blob/SLING-12437-demo-paul/it.tests/pom.xml#L120&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/orbinson/aem-groovy-console/blob/SLING-12437-demo-paul/it.tests/pom.xml#L120&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;mvn clean install -P it -pl it.tests -Ddebug.osgi (this will keep the application running and show you the url of the osgi system console if you&apos;d know about this)&lt;/li&gt;
	&lt;li&gt;attach debugger on port 5000&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Poke me if any questions &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17932516" author="paulk" created="Wed, 5 Mar 2025 05:57:41 +0000"  >&lt;p&gt;I&apos;ll take a look. I did very briefly look at Sling quite a few years ago:&lt;br/&gt;
&lt;a href=&quot;https://www.slideshare.net/slideshow/industrial-strength-groovy-paul-king-may2009-1461116/1461116#68&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.slideshare.net/slideshow/industrial-strength-groovy-paul-king-may2009-1461116/1461116#68&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17933244" author="paulk" created="Fri, 7 Mar 2025 09:31:33 +0000"  >&lt;p&gt;I had some interesting observations. For Groovy 4.0.26, we changed Groovy modules to fragments since this is what some folks using Eclipse PDE seemed to think they needed (and it&apos;s what we did in Groovy 3). It means that you can now include groovy-macro:4.0.26 with sling and the tests now pass. But being a fragment, it is only resolved not started, so other modules which seem to need to be started for sling no longer work. We have some more thinking to do.&lt;/p&gt;</comment>
                            <comment id="17933354" author="royteeuwen" created="Fri, 7 Mar 2025 15:11:09 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=paulk&quot; class=&quot;user-hover&quot; rel=&quot;paulk&quot;&gt;paulk&lt;/a&gt; fragments are indeed never really started, they aren&apos;t a bundle on their own. Wondering if they are then correctly registered if they contain ServiceLoader definitions, would have to test&lt;/p&gt;</comment>
                            <comment id="17933451" author="paulk" created="Fri, 7 Mar 2025 21:16:12 +0000"  >&lt;p&gt;I haven&apos;t checked what Sling uses yet but Apache Aries Spifly supported services in fragments until 1.2.4. From 1.3.0, they turned them off:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/aries/commit/76f39f2#diff-aed8297fc5209027131b1f54544e00eb7614070832051a29561931ed6b933ab7&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/aries/commit/76f39f2#diff-aed8297fc5209027131b1f54544e00eb7614070832051a29561931ed6b933ab7&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17937594" author="royteeuwen" created="Sat, 22 Mar 2025 12:18:19 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=paulk&quot; class=&quot;user-hover&quot; rel=&quot;paulk&quot;&gt;paulk&lt;/a&gt;&#160; sling itself doesn&apos;t impose that you use spifly, it&apos;s a modular framework where you can decide which dependencies you want. If you use the sling starter, a reference application, then it contains following dependencies to make groovy work, but they can be updated at any moment, there is no dependency on a specific spifly version:&#160;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-starter/blob/master/src/main/features/groovy.json&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-starter/blob/master/src/main/features/groovy.json&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            30 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1rhoo:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12434] [BundledScriptTracker] Invalid BundleContext</title>
                <link>https://issues.apache.org/jira/browse/SLING-12434</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[FelixLogListener] org.apache.sling.servlets.resolver.internal.bundle.BundledScriptTracker bundle org.apache.sling.servlets.resolver:2.11.2 (360)[org.apache.sling.servlets.resolver.internal.bundle.BundledScriptTracker(1293)] : The activate method has thrown an exception (java.lang.IllegalStateException: Invalid BundleContext.)
java.lang.IllegalStateException: Invalid BundleContext.
	at org.apache.felix.framework.BundleContextImpl.checkValidity(BundleContextImpl.java:491)
	at org.apache.felix.framework.BundleContextImpl.getBundle(BundleContextImpl.java:94)
	at org.apache.sling.servlets.resolver.internal.bundle.BundledScriptTracker$1.invoke(BundledScriptTracker.java:354) [org.apache.sling.servlets.resolver:2.11.2]
	at com.sun.proxy.$Proxy327.getBundle(Unknown Source)
	at org.apache.sling.servlets.resolver.internal.resource.ServletMounter.createServlet(ServletMounter.java:230) [org.apache.sling.servlets.resolver:2.11.2]
	at org.apache.sling.servlets.resolver.internal.resource.ServletMounter.bindServlet(ServletMounter.java:175) [org.apache.sling.servlets.resolver:2.11.2]
	at org.apache.sling.servlets.resolver.internal.bundle.BundledScriptTracker.register(BundledScriptTracker.java:425) [org.apache.sling.servlets.resolver:2.11.2]
	at org.apache.sling.servlets.resolver.internal.bundle.BundledScriptTracker.lambda$addingBundle$9(BundledScriptTracker.java:314) [org.apache.sling.servlets.resolver:2.11.2]
	at java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:271)
	at java.base/java.util.HashMap$KeySpliterator.forEachRemaining(HashMap.java:1620)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578)
	at org.apache.sling.servlets.resolver.internal.bundle.BundledScriptTracker.addingBundle(BundledScriptTracker.java:321) [org.apache.sling.servlets.resolver:2.11.2]
	at org.apache.sling.servlets.resolver.internal.bundle.BundledScriptTracker.addingBundle(BundledScriptTracker.java:93) [org.apache.sling.servlets.resolver:2.11.2]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13592094">SLING-12434</key>
            <summary>[BundledScriptTracker] Invalid BundleContext</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="joerghoh">Joerg Hoh</reporter>
                        <labels>
                    </labels>
                <created>Fri, 13 Sep 2024 15:47:31 +0000</created>
                <updated>Fri, 13 Sep 2024 15:47:42 +0000</updated>
                                            <version>Servlets Resolver 2.11.2</version>
                                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 5 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1rf0g:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12433] [BundledScriptTracker] Fix ConcurrentModificationException</title>
                <link>https://issues.apache.org/jira/browse/SLING-12433</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[FelixLogListener] org.apache.sling.servlets.resolver.internal.bundle.BundledScriptTracker bundle org.apache.sling.servlets.resolver:2.11.2 (360)[org.apache.sling.servlets.resolver.internal.bundle.BundledScriptTracker(1294)] : The activate method has thrown an exception (java.util.ConcurrentModificationException)
java.util.ConcurrentModificationException: null
	at java.base/java.util.HashMap$HashIterator.nextNode(HashMap.java:1510)
	at java.base/java.util.HashMap$KeyIterator.next(HashMap.java:1533)
	at org.apache.sling.servlets.resolver.internal.resource.ServletMounter.createServlet(ServletMounter.java:241) [org.apache.sling.servlets.resolver:2.11.2]
	at org.apache.sling.servlets.resolver.internal.resource.ServletMounter.bindServlet(ServletMounter.java:175) [org.apache.sling.servlets.resolver:2.11.2]
	at org.apache.sling.servlets.resolver.internal.bundle.BundledScriptTracker.register(BundledScriptTracker.java:425) [org.apache.sling.servlets.resolver:2.11.2]
	at org.apache.sling.servlets.resolver.internal.bundle.BundledScriptTracker.lambda$addingBundle$9(BundledScriptTracker.java:314) [org.apache.sling.servlets.resolver:2.11.2]
	at java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:271)
	at java.base/java.util.HashMap$KeySpliterator.forEachRemaining(HashMap.java:1620)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578)
	at org.apache.sling.servlets.resolver.internal.bundle.BundledScriptTracker.addingBundle(BundledScriptTracker.java:321) [org.apache.sling.servlets.resolver:2.11.2]
	at org.apache.sling.servlets.resolver.internal.bundle.BundledScriptTracker.addingBundle(BundledScriptTracker.java:93) [org.apache.sling.servlets.resolver:2.11.2]
[...]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This can happen when both the BundledScriptTracker and the &quot;normal&quot; Servlet registration try to register path-based servlets concurrently.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13592092">SLING-12433</key>
            <summary>[BundledScriptTracker] Fix ConcurrentModificationException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="joerghoh">Joerg Hoh</assignee>
                                    <reporter username="joerghoh">Joerg Hoh</reporter>
                        <labels>
                    </labels>
                <created>Fri, 13 Sep 2024 15:40:22 +0000</created>
                <updated>Sat, 28 Jun 2025 12:18:04 +0000</updated>
                            <resolved>Mon, 12 May 2025 15:04:40 +0000</resolved>
                                    <version>Servlets Resolver 2.11.2</version>
                                    <fixVersion>Servlets Resolver 3.0.0</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 5 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1rf00:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12432] [BundledScriptTracker] NPE when stopping bundle</title>
                <link>https://issues.apache.org/jira/browse/SLING-12432</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&#160;&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[FelixLogListener] Events.Framework.org.apache.sling.servlets.resolver FrameworkEvent ERROR (java.lang.NullPointerException)
java.lang.NullPointerException: null
	at org.apache.sling.servlets.resolver.internal.bundle.BundledScriptTracker.refreshDispatcher(BundledScriptTracker.java:515) [org.apache.sling.servlets.resolver:2.11.2]
	at org.apache.sling.servlets.resolver.internal.bundle.BundledScriptTracker.removedBundle(BundledScriptTracker.java:548) [org.apache.sling.servlets.resolver:2.11.2]
	at org.apache.sling.servlets.resolver.internal.bundle.BundledScriptTracker.removedBundle(BundledScriptTracker.java:93) [org.apache.sling.servlets.resolver:2.11.2]
	at org.osgi.util.tracker.BundleTracker$Tracked.customizerRemoved(BundleTracker.java:501)
	at org.osgi.util.tracker.BundleTracker$Tracked.customizerRemoved(BundleTracker.java:420)
	at org.osgi.util.tracker.AbstractTracked.untrack(AbstractTracked.java:341)
	at org.osgi.util.tracker.BundleTracker$Tracked.bundleChanged(BundleTracker.java:456)
	at org.apache.felix.framework.EventDispatcher.invokeBundleListenerCallback(EventDispatcher.java:915)
	at org.apache.felix.framework.EventDispatcher.fireEventImmediately(EventDispatcher.java:834)
	at org.apache.felix.framework.EventDispatcher.fireBundleEvent(EventDispatcher.java:516)
	at org.apache.felix.framework.Felix.fireBundleEvent(Felix.java:4847)
	at org.apache.felix.framework.Felix.stopBundle(Felix.java:2812)
	at org.apache.felix.framework.Felix.setActiveStartLevel(Felix.java:1584)
	at org.apache.felix.framework.FrameworkStartLevelImpl.run(FrameworkStartLevelImpl.java:297)
	at java.base/java.lang.Thread.run(Thread.java:834)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13592091">SLING-12432</key>
            <summary>[BundledScriptTracker] NPE when stopping bundle</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="joerghoh">Joerg Hoh</reporter>
                        <labels>
                    </labels>
                <created>Fri, 13 Sep 2024 15:38:39 +0000</created>
                <updated>Fri, 13 Sep 2024 15:38:39 +0000</updated>
                                            <version>Servlets Resolver 2.11.2</version>
                                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 5 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1rezs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12431] [BundledScriptTracker] StackOverflow / endless recursion</title>
                <link>https://issues.apache.org/jira/browse/SLING-12431</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[FelixLogListener] Events.Framework.org.apache.sling.servlets.resolver FrameworkEvent ERROR (java.lang.StackOverflowError)
java.lang.StackOverflowError: null
	at java.base/java.util.HashSet.iterator(HashSet.java:173)
	at java.base/java.util.AbstractSet.hashCode(AbstractSet.java:120)
	at java.base/java.util.Arrays.hashCode(Arrays.java:4685)
	at java.base/java.util.Objects.hash(Objects.java:146)
	at org.apache.sling.servlets.resolver.internal.bundle.BundledRenderUnitCapabilityImpl.hashCode(BundledRenderUnitCapabilityImpl.java:115) [org.apache.sling.servlets.resolver:2.11.2]
	at java.base/java.util.Arrays.hashCode(Arrays.java:4685)
	at java.base/java.util.Objects.hash(Objects.java:146)
	at org.apache.sling.servlets.resolver.internal.bundle.TypeProviderImpl.hashCode(TypeProviderImpl.java:53) [org.apache.sling.servlets.resolver:2.11.2]
	at java.base/java.util.HashMap.hash(HashMap.java:340)
	at java.base/java.util.HashMap.put(HashMap.java:608)
	at java.base/java.util.HashSet.add(HashSet.java:220)
	at org.apache.sling.servlets.resolver.internal.bundle.BundledScriptTracker.collectInheritanceChain(BundledScriptTracker.java:678) [org.apache.sling.servlets.resolver:2.11.2]
	at org.apache.sling.servlets.resolver.internal.bundle.BundledScriptTracker.collectInheritanceChain(BundledScriptTracker.java:681) [org.apache.sling.servlets.resolver:2.11.2]
	at org.apache.sling.servlets.resolver.internal.bundle.BundledScriptTracker.collectInheritanceChain(BundledScriptTracker.java:681) [org.apache.sling.servlets.resolver:2.11.2]
	at org.apache.sling.servlets.resolver.internal.bundle.BundledScriptTracker.collectInheritanceChain(BundledScriptTracker.java:681) [org.apache.sling.servlets.resolver:2.11.2]
    [...]
	at org.apache.sling.servlets.resolver.internal.bundle.BundledScriptTracker.collectInheritanceChain(BundledScriptTracker.java:681) [org.apache.sling.servlets.resolver:2.11.2]
	at org.apache.sling.servlets.resolver.internal.bundle.BundledScriptTracker.collectInheritanceChain(BundledScriptTracker.java:681) [org.apache.sling.servlets.resolver:2.11.2]
	at org.apache.sling.servlets.resolver.internal.bundle.BundledScriptTracker.collectInheritanceChain(BundledScriptTracker.java:681) [org.apache.sling.servlets.resolver:2.11.2]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Unfortunately I don&apos;t have the entire call trace here, but we should have a way to prevent that StackOverflow.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13592090">SLING-12431</key>
            <summary>[BundledScriptTracker] StackOverflow / endless recursion</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="joerghoh">Joerg Hoh</reporter>
                        <labels>
                    </labels>
                <created>Fri, 13 Sep 2024 15:32:09 +0000</created>
                <updated>Mon, 16 Sep 2024 08:50:45 +0000</updated>
                                            <version>Servlets Resolver 2.11.2</version>
                                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 5 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1rezk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12421] Race between serving request and destroying JspServletWrapper</title>
                <link>https://issues.apache.org/jira/browse/SLING-12421</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When a &lt;tt&gt;JspServletWrapper&lt;/tt&gt; is destroyed, it is possible that a request is still being served concurrently. This can lead to a &lt;tt&gt;NullPointerException&lt;/tt&gt; if the internal field &lt;tt&gt;theServlet&lt;/tt&gt; is already set to &lt;tt&gt;null&lt;/tt&gt; by the time it&apos;s &lt;tt&gt;service()&lt;/tt&gt; method is called.&lt;/p&gt;

&lt;p&gt;To fix this, &lt;tt&gt;theServlet&lt;/tt&gt; should be copied to a local field at the beginning of the &lt;tt&gt;JspServletWrapper#service()&lt;/tt&gt; method.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13591173">SLING-12421</key>
            <summary>Race between serving request and destroying JspServletWrapper</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jsedding">Julian Sedding</assignee>
                                    <reporter username="jsedding">Julian Sedding</reporter>
                        <labels>
                    </labels>
                <created>Thu, 5 Sep 2024 13:44:23 +0000</created>
                <updated>Wed, 18 Sep 2024 12:25:24 +0000</updated>
                            <resolved>Wed, 18 Sep 2024 12:25:24 +0000</resolved>
                                    <version>Scripting JSP 2.6.2</version>
                                    <fixVersion>Scripting JSP 2.6.4</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17882024" author="jsedding" created="Mon, 16 Sep 2024 12:50:02 +0000"  >&lt;p&gt;After looking into how this could be improved, I concluded that the lowest risk change is to not set &lt;tt&gt;theServlet&lt;/tt&gt; to &lt;tt&gt;null&lt;/tt&gt; when it is being destroyed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 5 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1r9co:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12419] Snapshot dependencies in discovery.impl</title>
                <link>https://issues.apache.org/jira/browse/SLING-12419</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;There are snapshot dependencies in discovery.impl which should be replaced with released versions.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13591115">SLING-12419</key>
            <summary>Snapshot dependencies in discovery.impl</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mreutegg">Marcel Reutegger</assignee>
                                    <reporter username="mreutegg">Marcel Reutegger</reporter>
                        <labels>
                    </labels>
                <created>Thu, 5 Sep 2024 07:13:49 +0000</created>
                <updated>Mon, 9 Sep 2024 15:51:30 +0000</updated>
                            <resolved>Mon, 9 Sep 2024 15:51:30 +0000</resolved>
                                                    <fixVersion>Discovery Impl 1.2.14</fixVersion>
                                    <component>Discovery</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17879496" author="mreutegg" created="Thu, 5 Sep 2024 09:25:12 +0000"  >&lt;p&gt;Turns out the build does work. My maven settings used a remote repository that did not proxy snapshot builds. Though, I still consider snapshot dependencies problematic, because they make the build non-reproducible.&lt;/p&gt;

&lt;p&gt;After updating discovery.base to 2.0.14 and discovery.commons to 1.0.28, there is a test failure and I also had to update commons.scheduler to 2.5.2. The updated discovery.base seems to require the newer commons.scheduler.&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;NoSuchMethodError: org.apache.sling.commons.scheduler.Scheduler.NOW()Lorg/apache/sling/commons/scheduler/ScheduleOptions;
java.lang.NoSuchMethodError: org.apache.sling.commons.scheduler.Scheduler.NOW()Lorg/apache/sling/commons/scheduler/ScheduleOptions;
	at org.apache.sling.discovery.base.commons.BaseViewChecker.triggerAsyncConnectorPing(BaseViewChecker.java:184)
	at org.apache.sling.discovery.impl.DiscoveryServiceImpl$2.handleTopologyEvent(DiscoveryServiceImpl.java:177)
	at org.apache.sling.discovery.commons.providers.base.AsyncTopologyEvent.trigger(AsyncTopologyEvent.java:53)
	at org.apache.sling.discovery.commons.providers.base.AsyncEventSender.run(AsyncEventSender.java:118)
	at java.lang.Thread.run(Thread.java:750)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Failing test:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;testVotingLoop(org.apache.sling.discovery.impl.common.heartbeat.HeartbeatTest)  Time elapsed: 2.094 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!
java.lang.AssertionError: Exception: java.lang.ClassCastException: java.lang.Boolean cannot be cast to javax.jcr.Property
	at org.junit.Assert.fail(Assert.java:88)
	at org.apache.sling.discovery.impl.common.heartbeat.HeartbeatTest.testVotingLoop(HeartbeatTest.java:697)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17879499" author="mreutegg" created="Thu, 5 Sep 2024 09:43:33 +0000"  >&lt;p&gt;Proposed changes in PR &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-discovery-impl/pull/3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-discovery-impl/pull/3&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17879501" author="mreutegg" created="Thu, 5 Sep 2024 09:51:00 +0000"  >&lt;p&gt;The build failed for the PR because the worker is using Java 11. Building with Java 8 works for me, but when using Java 11 I can reproduce the issue.&lt;/p&gt;

&lt;p&gt;What is the minimum Java version for this and other Sling modules?&lt;/p&gt;</comment>
                            <comment id="17879513" author="rombert" created="Thu, 5 Sep 2024 10:47:35 +0000"  >&lt;p&gt;(Not a quick answer, sorry).&lt;/p&gt;

&lt;p&gt;The Java version is inherited from the parent pom unless explicitly defined via &lt;tt&gt;sling.java.version&lt;/tt&gt;. In this case, it&apos;s the (very old) 26 version which defaults to Java 6 &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://svn.apache.org/repos/asf/sling/tags/sling-26/pom.xml&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/repos/asf/sling/tags/sling-26/pom.xml&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;There are two ways around this:&lt;/p&gt;

&lt;p&gt;1. The easy way is to configure Jenkins to only build with Java 8 by setting &lt;tt&gt;jenkins.jdks&lt;/tt&gt; to 8 in the sling module descriptor &lt;a href=&quot;https://cwiki.apache.org/confluence/display/SLING/Sling+module+descriptor&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://cwiki.apache.org/confluence/display/SLING/Sling+module+descriptor&lt;/a&gt;&lt;br/&gt;
2. The more impactful way is to upgrade to a more recent parent pom that has support for Java 11 and older. Parent version 52 is the easier upgrade but it does come with a switch from the maven-bundle-plugin to the bnd-maven-plugin. Parent version 60 is more involved because we introduced a code formatting plugin and the code has to be reformatted.&lt;/p&gt;</comment>
                            <comment id="17879531" author="mreutegg" created="Thu, 5 Sep 2024 11:54:00 +0000"  >&lt;p&gt;Thanks for describing available options.&lt;/p&gt;

&lt;p&gt;Option 1 looks easy, but still does not make it possible for a contributor to build with Java 11+.&lt;/p&gt;

&lt;p&gt;Option 2 also requires migration from Apache Felix SCR to official OSGi annotations.&lt;/p&gt;

&lt;p&gt;I added a commit to the PR that allows building with Java 11. E.g. updates for some Jackrabbit bundles were also necessary because of &lt;a href=&quot;https://issues.apache.org/jira/browse/JCR-4179&quot; title=&quot;Test failures with Java 9 when using javax.imageio.spi.ServiceRegistry&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JCR-4179&quot;&gt;&lt;del&gt;JCR-4179&lt;/del&gt;&lt;/a&gt;. For the antrun issue I simply disabled the relevant execution and manually set the properties. It&apos;s not ideal, but building with Java 11 now works for me without migrating service annotations.&lt;/p&gt;

&lt;p&gt;Let me know what you think.&lt;/p&gt;</comment>
                            <comment id="17879823" author="rombert" created="Fri, 6 Sep 2024 09:27:38 +0000"  >&lt;p&gt;Commented on the PR, overall looks good. I only had a question about SonarQube but we can continue the discussion on the PR, it&apos;s a detail.&lt;/p&gt;</comment>
                            <comment id="17880378" author="rombert" created="Mon, 9 Sep 2024 15:51:30 +0000"  >&lt;p&gt;Thanks for the PR &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mreutegg&quot; class=&quot;user-hover&quot; rel=&quot;mreutegg&quot;&gt;mreutegg&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 6 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1r8zs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12415] Intermittent build failures on Sling Test envs - ResourceResolverFactoryActivator 250 ms</title>
                <link>https://issues.apache.org/jira/browse/SLING-12415</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-12090&quot; title=&quot;sling-mock: Make compatible with ResourceResolver 1.11.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-12090&quot;&gt;&lt;del&gt;SLING-12090&lt;/del&gt;&lt;/a&gt; introduced some cases where unit tests failed intermittently:&lt;/p&gt;

&lt;p&gt;We see:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
09:01:47,710 [ThreadedStreamConsumer] [ERROR] Tests run: 2, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 2.016 s &amp;lt;&amp;lt;&amp;lt; FAILURE! - in com.x.y.z.MoreLandingPagesServletTest 09:01:47,710 [ThreadedStreamConsumer] [ERROR] testDoGetLandingPagesServlet &#160;Time elapsed: 0.012 s &#160;&amp;lt;&amp;lt;&amp;lt; ERROR! java.lang.RuntimeException: Unable to initialize JCR_MOCK resource resolver factory: ResourceResolverFactoryActivator did not register a ResourceResolverFactory after 250ms. Caused by: java.lang.IllegalStateException: ResourceResolverFactoryActivator did not register a ResourceResolverFactory after 250ms.&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Perhaps we could increase the timeout?&lt;/p&gt;</description>
                <environment></environment>
        <key id="13590173">SLING-12415</key>
            <summary>Intermittent build failures on Sling Test envs - ResourceResolverFactoryActivator 250 ms</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="Sc0rpic0m">Niek Raaijmakers</reporter>
                        <labels>
                    </labels>
                <created>Tue, 27 Aug 2024 14:52:13 +0000</created>
                <updated>Thu, 20 Mar 2025 18:05:15 +0000</updated>
                            <resolved>Mon, 17 Mar 2025 15:54:53 +0000</resolved>
                                                    <fixVersion>Testing Sling Mock 3.5.4</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17877058" author="sc0rpic0m" created="Tue, 27 Aug 2024 14:53:21 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseifert&quot; class=&quot;user-hover&quot; rel=&quot;sseifert&quot;&gt;sseifert&lt;/a&gt; can you look at this?&lt;/p&gt;</comment>
                            <comment id="17877601" author="sseifert@pro-vision.de" created="Thu, 29 Aug 2024 06:48:32 +0000"  >&lt;p&gt;do you have a unit test case or test project to reproduce the failure? do you get this error permanently and reproducible, or only sometimes from time to time?&lt;br/&gt;
do you get any other errors in the log file that might be related?&lt;br/&gt;
it would also be intersting to see the actual versions of all other libraries in the (test)classpath, esp. the sling module ones.&lt;/p&gt;

&lt;p&gt;not sure if it really helps to increase the timeout. it&apos;s not unlikely that there is a problem that is not cured by this. you could verify this on your side by testing it with a patched version of sling-mock with a higher timeout.&lt;/p&gt;</comment>
                            <comment id="17882346" author="sseifert@pro-vision.de" created="Tue, 17 Sep 2024 10:30:10 +0000"  >&lt;p&gt;here is a way to experiment with different timeout values using the new configuration option introduced with &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-12435&quot; title=&quot;sling-mock: Make timeout to wait for ResourceResolverFactoryActivator configurable via system property&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-12435&quot;&gt;&lt;del&gt;SLING-12435&lt;/del&gt;&lt;/a&gt;:&lt;/p&gt;

&lt;p&gt;to increase the timeout, set the system property &lt;tt&gt;sling.mock.resourceresolverfactoryactivator.timeout.ms&lt;/tt&gt; to a value higher than 250 (the default value of 250ms).&lt;/p&gt;

&lt;p&gt;to apply it to any build regardless of the CI in your project, create a file &lt;tt&gt;.mvn/maven.config&lt;/tt&gt; in the toplevel directory of your project with the content:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;-Dsling.mock.resourceresolverfactoryactivator.timeout.ms=100
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;then include in the dependencyManagement section of the project temporarily:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.apache.sling&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;org.apache.sling.testing.sling-mock.core&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;3.5.3-SNAPSHOT&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and to make sure this snapshot can be loaded include temporarily:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;repositories&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;repository&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;id&amp;gt;&lt;/span&gt;apache-snapshots&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/id&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;url&amp;gt;&lt;/span&gt;https://repository.apache.org/snapshots&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/url&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;layout&amp;gt;&lt;/span&gt;default&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/layout&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;releases&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;enabled&amp;gt;&lt;/span&gt;false&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/enabled&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/releases&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;snapshots&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;enabled&amp;gt;&lt;/span&gt;true&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/enabled&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;updatePolicy&amp;gt;&lt;/span&gt;always&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/updatePolicy&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/snapshots&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/repository&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/repositories&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17901126" author="cnagel" created="Tue, 26 Nov 2024 08:49:26 +0000"  >&lt;p&gt;I challenged the same problem when switching to parallel unit test execution.&lt;br/&gt;
Mostly tests with the JCR_OAK ResourceResolverType failed with this error.&lt;/p&gt;

&lt;p&gt;I switched the dependency to the SNAPSHOT version and added the configuration to the maven config.&lt;br/&gt;
Locally this works fine - all tests are running.&lt;br/&gt;
On our CI SNAPSHOT repositories are blocked. I will have to wait for a release.&lt;/p&gt;</comment>
                            <comment id="17912443" author="sseifert@pro-vision.de" created="Mon, 13 Jan 2025 10:59:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cnagel&quot; class=&quot;user-hover&quot; rel=&quot;cnagel&quot;&gt;cnagel&lt;/a&gt; with which actual increased timeout values did you have an success in your environment?&lt;br/&gt;
we do not want to set it too high to very large value to not have unit tests wait too long if there is really a persistent error with the resource resolver.&lt;/p&gt;</comment>
                            <comment id="17912538" author="cnagel" created="Mon, 13 Jan 2025 13:59:38 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseifert&quot; class=&quot;user-hover&quot; rel=&quot;sseifert&quot;&gt;sseifert&lt;/a&gt; ,&lt;/p&gt;

&lt;p&gt;for me it worked to go with 500ms (on my local system).&lt;br/&gt;
But will you not stay at your default of 250ms?&lt;/p&gt;</comment>
                            <comment id="17912544" author="sseifert@pro-vision.de" created="Mon, 13 Jan 2025 14:07:20 +0000"  >&lt;p&gt;just gathering data to investigate if it makes sense to probably increase the default value of the timeout.&lt;br/&gt;
would be nice if other can share their experience as well, e.g. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Sc0rpic0m&quot; class=&quot;user-hover&quot; rel=&quot;Sc0rpic0m&quot;&gt;Sc0rpic0m&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="17936225" author="sseifert@pro-vision.de" created="Mon, 17 Mar 2025 15:43:32 +0000"  >&lt;p&gt;i&apos;ve decided to change the default timeout for waiting for the resource resolver activator from 250ms to 500ms. it&apos;s still configurable via &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-12435&quot; title=&quot;sling-mock: Make timeout to wait for ResourceResolverFactoryActivator configurable via system property&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-12435&quot;&gt;&lt;del&gt;SLING-12435&lt;/del&gt;&lt;/a&gt; if required.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13592335">SLING-12435</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            31 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1r36o:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12413] OSGi mocks ranked service collections are not ordered consistently</title>
                <link>https://issues.apache.org/jira/browse/SLING-12413</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The OSGi mocks rank services by service.ranking to simulate Felix workings, see &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-testing-osgi-mock/blob/2caaa14f5c38a54a0239f0f5550cd8a432307304/core/src/main/java/org/apache/sling/testing/mock/osgi/OsgiServiceUtil.java#L710&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;here&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;This works fine when you register the components before the calling/using component (=the one that holds the reference to the collection of other components) is registered itself.&lt;/p&gt;

&lt;p&gt;The OSGiServiceUtil finds all matching services, sorts the collection of references and then proceeds to inject the actual impl&apos;s in that order.&lt;/p&gt;

&lt;p&gt;However, if you register your calling component first - or you add more components after the calling component was already registered - they will just be added as-is to the collection. This is done &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-testing-osgi-mock/blob/2caaa14f5c38a54a0239f0f5550cd8a432307304/core/src/main/java/org/apache/sling/testing/mock/osgi/OsgiServiceUtil.java#L863&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;here&lt;/a&gt;. In Felix this works correctly and the collection is always sorted correctly, even after late add&apos;s or remove&apos;s of references.&lt;/p&gt;

&lt;p&gt;This causes inconsistent behaviour while testing.&#160; See &lt;a href=&quot;https://github.com/senn/aemcontext-no-serviceranking-ordering/blob/incorrect-ordering-depending-on-injection-time/src/test/java/com/github/senn/services/InjectionTimeOrderingTest.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;this&lt;/a&gt; test example I prepared.&#160; It has 3 tests:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;1 one where the references are registered first - OK&lt;/li&gt;
	&lt;li&gt;1 one where the calling service is registered first - &lt;font color=&quot;#FF0000&quot;&gt;NOK&lt;/font&gt;&lt;/li&gt;
	&lt;li&gt;1 combination test - &lt;font color=&quot;#FF0000&quot;&gt;NOK&lt;/font&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I know the OSGi spec does not really define the ordering but if you do it &apos;the Felix way&apos; in once place, it should at least be consistent.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13589705">SLING-12413</key>
            <summary>OSGi mocks ranked service collections are not ordered consistently</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="Henry Kuijpers">Henry Kuijpers</assignee>
                                    <reporter username="bartthierens">Bart Thierens</reporter>
                        <labels>
                    </labels>
                <created>Thu, 22 Aug 2024 07:41:02 +0000</created>
                <updated>Tue, 17 Dec 2024 10:25:07 +0000</updated>
                            <resolved>Fri, 23 Aug 2024 13:28:36 +0000</resolved>
                                    <version>Testing OSGi Mock 3.5.0</version>
                                    <fixVersion>Testing OSGi Mock 3.5.2</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17875766" author="JIRAUSER287307" created="Thu, 22 Aug 2024 08:12:21 +0000"  >&lt;p&gt;Might have a look at it myself later...&lt;/p&gt;</comment>
                            <comment id="17875887" author="JIRAUSER287307" created="Thu, 22 Aug 2024 15:18:50 +0000"  >&lt;p&gt;I provided a PR: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-testing-osgi-mock/pull/41&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-testing-osgi-mock/pull/41&lt;/a&gt;&lt;br/&gt;
Please check it out, but as I said there, it needs a good thinking through.&lt;/p&gt;</comment>
                            <comment id="17876269" author="henry kuijpers" created="Fri, 23 Aug 2024 13:28:17 +0000"  >&lt;p&gt;Thank you for the PR &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bartthierens&quot; class=&quot;user-hover&quot; rel=&quot;bartthierens&quot;&gt;bartthierens&lt;/a&gt; , I&apos;ve just merged it, also very nice that you provided some tests with it as well&lt;/p&gt;</comment>
                            <comment id="17878008" author="sseifert@pro-vision.de" created="Fri, 30 Aug 2024 08:03:48 +0000"  >&lt;p&gt;the PR got merged a bit too quick, see my comments here:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-testing-osgi-mock/pull/41#issuecomment-2307162435&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-testing-osgi-mock/pull/41#issuecomment-2307162435&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;please cleanup the code, we cannot heal the commit messages easily but at least we can put the ticket number in the cleanup commit/PR.&lt;/p&gt;</comment>
                            <comment id="17878221" author="JIRAUSER287307" created="Fri, 30 Aug 2024 18:31:36 +0000"  >&lt;p&gt;Hi Stefan, valid point. I&#8217;ll try to find the time to clean it up a bit and create a PR.&lt;/p&gt;</comment>
                            <comment id="17878514" author="JIRAUSER287307" created="Mon, 2 Sep 2024 08:22:45 +0000"  >&lt;p&gt;new PR for the cleanup: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-testing-osgi-mock/pull/42&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-testing-osgi-mock/pull/42&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17878576" author="sseifert@pro-vision.de" created="Mon, 2 Sep 2024 12:42:25 +0000"  >&lt;p&gt;thanks, merged&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13602412">SLING-12578</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 7 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1r0ao:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12405] Rewriter Filter not called when request is forwarded</title>
                <link>https://issues.apache.org/jira/browse/SLING-12405</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;See also&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-1140&quot; title=&quot;Rewriter Filter not called when error is handled&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-1140&quot;&gt;&lt;del&gt;SLING-1140&lt;/del&gt;&lt;/a&gt;, where actually in the description is written that &quot;RequestDispatcher#forward&quot; results in the rewriter not being called. The fix there was to add &quot;error&quot; to the filter as well. But it seems that, by using &quot;forward&quot;, to a resource that does exist, in fact does not trigger the rewriting pipeline (and thus the same issue occurs).&lt;/p&gt;

&lt;p&gt;Some use cases:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;AEM&apos;s link checker / externalizer is not being called, so the resulting page will have long links (including /content), instead of short links&lt;/li&gt;
	&lt;li&gt;ACS AEM Commons versioned clientlibs transformer will not be called, so the MD5 hashes will not be appended to the URL&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="13588380">SLING-12405</key>
            <summary>Rewriter Filter not called when request is forwarded</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="Henry Kuijpers">Henry Kuijpers</reporter>
                        <labels>
                    </labels>
                <created>Fri, 9 Aug 2024 09:33:39 +0000</created>
                <updated>Mon, 10 Mar 2025 17:13:14 +0000</updated>
                                            <version>Rewriter 1.4.4</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17872284" author="cziegeler" created="Fri, 9 Aug 2024 10:02:20 +0000"  >&lt;p&gt;Is this a general problem - or happens only if the forward target does not exist?&lt;/p&gt;</comment>
                            <comment id="17872297" author="henry kuijpers" created="Fri, 9 Aug 2024 10:27:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; this happens when the forward target does exist. The Rewriter filter only runs on request or error. Not on forward.&#160;&lt;/p&gt;</comment>
                            <comment id="17872306" author="cziegeler" created="Fri, 9 Aug 2024 10:51:24 +0000"  >&lt;p&gt;Interesting, really wondering why it then works with a forward where the target exists.&lt;/p&gt;</comment>
                            <comment id="17872310" author="henry kuijpers" created="Fri, 9 Aug 2024 11:07:51 +0000"  >&lt;p&gt;I do not see it working with a forward and existing target.&lt;/p&gt;

&lt;p&gt;Which makes sense:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Request filters execute&lt;/li&gt;
	&lt;li&gt;RequestDispatcher#forward is called (and not FilterChain#doFilter)&lt;/li&gt;
	&lt;li&gt;Forward filters are called&lt;/li&gt;
	&lt;li&gt;Rewriter filter is not called (as it is not a forward filter)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Vs&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Request filters execute&lt;/li&gt;
	&lt;li&gt;Sub-requests occur (includes etc)
	&lt;ul&gt;
		&lt;li&gt;RequestDispatcher#forward is called (in a sub-request)&lt;/li&gt;
		&lt;li&gt;Forward filters are called&lt;/li&gt;
		&lt;li&gt;Rewriter filter is not called (as it is not a forward filter)&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;Rewriter filter is called (as it is a request filter)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;So the moment this issue occurs, is when the request filter chain is not proceeded (i.e. by redirecting / forwarding and thus not calling FilterChain#doFilter).&lt;/p&gt;</comment>
                            <comment id="17872329" author="cziegeler" created="Fri, 9 Aug 2024 12:02:41 +0000"  >&lt;p&gt;I see, makes sense - is adding &quot;forward&quot; to the config of the rewriter filter fixing it?&lt;/p&gt;</comment>
                            <comment id="17874161" author="henry kuijpers" created="Fri, 16 Aug 2024 09:00:04 +0000"  >&lt;p&gt;Created a PR &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; , builds are failing for Java 17 &amp;amp; 21 though. Looks like we need to update the parent pom etc.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-rewriter/pull/15&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-rewriter/pull/15&lt;/a&gt;&#160;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12437582">SLING-1140</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 9 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1qs54:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12397] If multiple scans are configured for an Analysis, only the result of the last scan is reported</title>
                <link>https://issues.apache.org/jira/browse/SLING-12397</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If a single analysis task is configured with multiple scans, only the result of the last scan is reported - which can lead to errors/warnings being ignored&lt;/p&gt;</description>
                <environment></environment>
        <key id="13587657">SLING-12397</key>
            <summary>If multiple scans are configured for an Analysis, only the result of the last scan is reported</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Fri, 2 Aug 2024 04:58:17 +0000</created>
                <updated>Thu, 19 Sep 2024 05:41:35 +0000</updated>
                            <resolved>Fri, 2 Aug 2024 05:10:46 +0000</resolved>
                                    <version>OSGi Feature Maven Plugin 1.8.4</version>
                                    <fixVersion>OSGi Feature Maven Plugin 1.9.0</fixVersion>
                                    <component>Feature Model</component>
                    <component>Maven Plugins and Archetypes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17870368" author="cziegeler" created="Fri, 2 Aug 2024 05:20:11 +0000"  >&lt;p&gt;Applied PR from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bisswanger&quot; class=&quot;user-hover&quot; rel=&quot;bisswanger&quot;&gt;bisswanger&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 11 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1qnog:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12396] ACL restrictions with no values are mistakenly considered equivalent regardless of their name</title>
                <link>https://issues.apache.org/jira/browse/SLING-12396</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Try to set two rules on the same node, like:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
deny jcr:read on /path restriction(rep:ntNames)
deny jcr:read on /path restriction(rep:itemNames)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The second rule will be ignored since it is considered equivalent to the first one, even though that is not the case.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13587222">SLING-12396</key>
            <summary>ACL restrictions with no values are mistakenly considered equivalent regardless of their name</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sdumitriu">Sergiu Dumitriu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 29 Jul 2024 16:00:04 +0000</created>
                <updated>Fri, 21 Feb 2025 22:18:57 +0000</updated>
                                                                            <component>Repoinit</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 12 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1qkzs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12392] Sitemap is not supporting other Sitemaps like Coveo</title>
                <link>https://issues.apache.org/jira/browse/SLING-12392</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;A sitemap for Coveo is not fully supported by the Apache Sitemap due to:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Nested XML entries cannot have sub elements without a prefix&lt;/li&gt;
	&lt;li&gt;Coveo Sitemaps and Google Sitemaps are mixed together in the Sitemap Index&lt;/li&gt;
	&lt;li&gt;Coveo Sitemaps must not be broken into smaller files as there is no sitemap-index file&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I would also suggest to add the following additions:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Abstract Base Class for Query based Generators&lt;/li&gt;
	&lt;li&gt;Support for Output Stream Filters in Sitemap Servlet&lt;/li&gt;
	&lt;li&gt;Making Sitemap Storage available for custom output&lt;/li&gt;
	&lt;li&gt;Allow file size configuration on a Generator basis&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13586841">SLING-12392</key>
            <summary>Sitemap is not supporting other Sitemaps like Coveo</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="andysch">Andreas Schaefer</reporter>
                        <labels>
                    </labels>
                <created>Wed, 24 Jul 2024 18:49:31 +0000</created>
                <updated>Thu, 1 Aug 2024 18:25:36 +0000</updated>
                                            <version>Sitemap 1.0.6</version>
                                    <fixVersion>Sitemap 1.0.8</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17868464" author="schaefa" created="Wed, 24 Jul 2024 19:18:29 +0000"  >&lt;p&gt;Right now there is only one type of Sitemaps, the one for Google, supported. So I am wondering if we should separate Sitemaps into Groups like Google and Coveo etc. This way the Sitemap Servlet will only obtain the Sitemap Index for Google.&lt;br/&gt;
I am not an expert in Sitemaps but I think we could use the Name from the Generator to create the group folders like:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;/var/sitemaps/default&lt;/li&gt;
	&lt;li&gt;/var/sitemaps/coveoHtml&lt;/li&gt;
	&lt;li&gt;/var/stiemaps/coveoPdf&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 13 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1qin4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12391] Resource Merger with negation hides local resources as well</title>
                <link>https://issues.apache.org/jira/browse/SLING-12391</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;For example&lt;/p&gt;

&lt;p&gt;Parent:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&quot;basic&quot; (with properties and children)&lt;/li&gt;
	&lt;li&gt;&quot;expert&quot; (with properties and children)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Current: (Inheriting from parent)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(sling:hideChildren=&quot;!basic,*&quot;)&lt;/li&gt;
	&lt;li&gt;&quot;basic&quot; -&amp;gt; Parent &quot;basic&quot; + new subnode and adjustments to properties&lt;/li&gt;
	&lt;li&gt;&quot;expert&quot; -&amp;gt; Entirely new &quot;expert&quot;-node without any inheriting from the parent&apos;s &quot;expert&quot;-node&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Should result in:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&quot;basic&quot; being inherited, and in the current node we could do any modifications / overrides still&lt;/li&gt;
	&lt;li&gt;&quot;expert&quot; not being inherited at all, but we would be free to define a new &quot;expert&quot;-node with other properties/subnodes/... Which has no relationship at all with the parent &quot;expert&quot;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Currently the behavior is that the &quot;expert&quot;-node, defined in parent, is not available in current, at all. Even though there is a completely new definition of properties and subnodes defined as well.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Why else would we define these properties and subnodes?&lt;/p&gt;</description>
                <environment></environment>
        <key id="13586674">SLING-12391</key>
            <summary>Resource Merger with negation hides local resources as well</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="Henry Kuijpers">Henry Kuijpers</reporter>
                        <labels>
                    </labels>
                <created>Tue, 23 Jul 2024 13:45:24 +0000</created>
                <updated>Thu, 25 Jul 2024 12:54:48 +0000</updated>
                                            <version>Resource Merger 1.4.4</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17868594" author="henry kuijpers" created="Thu, 25 Jul 2024 08:09:25 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-resourcemerger/commit/1d7e2ed0d41b69b06741a6c12384fc3a0928ca48&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-resourcemerger/commit/1d7e2ed0d41b69b06741a6c12384fc3a0928ca48&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;Test demonstrating the regression.&lt;/p&gt;</comment>
                            <comment id="17868599" author="kwin" created="Thu, 25 Jul 2024 08:26:28 +0000"  >&lt;p&gt;Historically &lt;tt&gt;hide:children&lt;/tt&gt; always affected both local and inherited properties. That was changed for wildcards in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-5468&quot; title=&quot;Resource Merger: Provide a way to completely replace the underlying resources&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-5468&quot;&gt;&lt;del&gt;SLING-5468&lt;/del&gt;&lt;/a&gt; to only affect inherited ones. Not sure about non-wildcard behaviour, currently both negated and non-negated names act on both (compare also with &lt;a href=&quot;https://sling.apache.org/documentation/bundles/resource-merger.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/documentation/bundles/resource-merger.html&lt;/a&gt;).&lt;br/&gt;
Although maybe a bit counterintuitive I have the feeling that changing this now might break some consumers which for whatever reason relied on that fact.&lt;/p&gt;</comment>
                            <comment id="17868609" author="henry kuijpers" created="Thu, 25 Jul 2024 09:12:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt;&#160; It looks like we have recently upgraded from Resource Merger 1.3.2 (which seems to be a version from 2016-ish), to the newest version (through AEM&apos;s Service Pack 21, bumping the version to the newest). This causes regression in AEM&apos;s TouchUI dialogs: Almost all fields are gone, where &quot;sling:hideChildren&quot; was configured.&#160;&lt;/p&gt;

&lt;p&gt;It looks like, with the current code from 1.4.4 in place, we need to update all &quot;sling:hideChildren&quot; to also include all the local resources as well.&#160;&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;Honestly, I don&apos;t think this makes sense. I see you have also addressed all my reasons for saying this is a bug: Why would you define a resource, right next to the &quot;sling:hideChildren&quot;-instruction, that you would want to hide?&#160;&lt;/p&gt;

&lt;p&gt;When &quot;sling:hideChildren&quot; is in place, adding a new resource is now always a 2-step-process: Add the resource + update the &quot;sling:hideChildren&quot;-instruction.&lt;/p&gt;

&lt;p&gt;This feels very counter-intuitive.&lt;/p&gt;</comment>
                            <comment id="17868610" author="kwin" created="Thu, 25 Jul 2024 09:17:05 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Henry+Kuijpers&quot; class=&quot;user-hover&quot; rel=&quot;Henry Kuijpers&quot;&gt;Henry Kuijpers&lt;/a&gt; Would be great if you can bisect to see which commit caused the regression.&lt;/p&gt;

&lt;p&gt;Update: Maybe &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-resourcemerger/commit/84c00de4306f340f2d9c5594c645cb12ba21d1bd?&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-resourcemerger/commit/84c00de4306f340f2d9c5594c645cb12ba21d1bd?&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17868619" author="henry kuijpers" created="Thu, 25 Jul 2024 09:40:05 +0000"  >&lt;p&gt;Well, that was spot on! 84c00de4306f340f2d9c5594c645cb12ba21d1bd indeed makes the unit test start to fail. The commit previous to that still makes the unit test pass.&lt;/p&gt;</comment>
                            <comment id="17868683" author="henry kuijpers" created="Thu, 25 Jul 2024 12:54:48 +0000"  >&lt;p&gt;It looks like HideItemPredicate#testItem in the case of isLocal=true, checks if the name is in the allowList (or blacklist) - This should not be the case, as it is a local resource and therefore should be allowed by default.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13359536">SLING-10150</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12935096">SLING-5468</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 12 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1qhm0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12390] Mention IllegalStateException for order operation</title>
                <link>https://issues.apache.org/jira/browse/SLING-12390</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The javadoc of the orderBefore operation is missing to mention that an IllegalStateException is thrown if the resolver is already closed&lt;/p&gt;</description>
                <environment></environment>
        <key id="13586625">SLING-12390</key>
            <summary>Mention IllegalStateException for order operation</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Tue, 23 Jul 2024 07:49:35 +0000</created>
                <updated>Sun, 2 Feb 2025 09:43:27 +0000</updated>
                            <resolved>Tue, 23 Jul 2024 07:51:00 +0000</resolved>
                                    <version>API 2.27.2</version>
                                    <fixVersion>API 3.0.0</fixVersion>
                                    <component>API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17867974" author="cziegeler" created="Tue, 23 Jul 2024 07:51:00 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-api/commit/2f95145f469ae175adb3d82e4e3e361236f0f2a4&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-api/commit/2f95145f469ae175adb3d82e4e3e361236f0f2a4&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 13 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1qhb4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12389] All resource resolver operations should check for a closed</title>
                <link>https://issues.apache.org/jira/browse/SLING-12389</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Although the API javadoc mentions for all operations that the resource resolver throws an exception if a method is called and it is already closed, not all operations actually perform this check.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13586621">SLING-12389</key>
            <summary>All resource resolver operations should check for a closed</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Tue, 23 Jul 2024 07:31:55 +0000</created>
                <updated>Mon, 12 Aug 2024 13:55:20 +0000</updated>
                            <resolved>Tue, 23 Jul 2024 07:43:28 +0000</resolved>
                                    <version>Resource Resolver 1.11.6</version>
                                    <fixVersion>Resource Resolver 1.12.0</fixVersion>
                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17867970" author="cziegeler" created="Tue, 23 Jul 2024 07:43:28 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-resourceresolver/commit/d47a6b0eeea58a0868ba24d2b8383447b02af224&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-resourceresolver/commit/d47a6b0eeea58a0868ba24d2b8383447b02af224&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 13 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1qha8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12385] OSGi mock context seems to not take service ranking into account</title>
                <link>https://issues.apache.org/jira/browse/SLING-12385</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Logging this issue here as I can&apos;t log it in github.&#160; I assume this is the correct approach.&lt;/p&gt;

&lt;p&gt;I am unable to make my registered services in a test case mimick the same ordering behaviour than in an actual OSGi environment.&#160; The AemContext/AemContextImpl/SlingContextImpl/OsgiContextImpl does not respect the `@ServiceRanking` annotation, nor the component property &quot;service.ranking&quot;.&lt;/p&gt;

&lt;p&gt;It seems vital to be able to test that a certain part of application logic executes certain services in order, and that seems impossible now - unless the developer registers the services exactly in the order he expects them, which beats the purpose of the test.&lt;/p&gt;

&lt;p&gt;If this is documented behaviour, I can&apos;t find it anywhere... (And it&apos;s still not correct imho)&lt;/p&gt;

&lt;p&gt;Personal use case: A certain component that has &quot;processors&quot; (which are components implementing a single service) that are ordered by service ranking (low = first, high = later). When a service is disabled/unregistered, registered or even re-registered, the order must stay consistent (low =&amp;gt; high).&#160; This actually works perfectly, but not in test-cases.&lt;/p&gt;

&lt;p&gt;I created a demo (AEM) project that showcases this problem: &lt;a href=&quot;https://github.com/senn/aemcontext-no-serviceranking-ordering&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/senn/aemcontext-no-serviceranking-ordering&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;It contains tests for the various context implementations and also a separate branch that has the same issue without `@ServiceRanking` and with the &quot;service.ranking&quot; properties.&lt;/p&gt;

&lt;p&gt;I don&apos;t have a fix ready, but might look into it in a few weeks when I have time.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13586140">SLING-12385</key>
            <summary>OSGi mock context seems to not take service ranking into account</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bartthierens">Bart Thierens</reporter>
                        <labels>
                    </labels>
                <created>Wed, 17 Jul 2024 13:06:45 +0000</created>
                <updated>Fri, 16 Aug 2024 14:11:12 +0000</updated>
                            <resolved>Thu, 8 Aug 2024 07:17:49 +0000</resolved>
                                    <version>Testing OSGi Mock 3.4.2</version>
                                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17868884" author="henry kuijpers" created="Fri, 26 Jul 2024 08:19:04 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bartthierens&quot; class=&quot;user-hover&quot; rel=&quot;bartthierens&quot;&gt;bartthierens&lt;/a&gt; I provided a fix PR for your develop branch &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; :&#160; &lt;a href=&quot;https://github.com/senn/aemcontext-no-serviceranking-ordering/pull/1/files&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/senn/aemcontext-no-serviceranking-ordering/pull/1/files&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;Basically, when calling &quot;registerService&quot;, you don&apos;t take into consideration the SCR metadata that is available for the services. This makes, indeed, your &quot;service.ranking&quot;-property get ignored.&lt;/p&gt;

&lt;p&gt;In the very last example, you tried to register a service with properties called &quot;service.ranking:Integer&quot; - However, the &quot;:Integer&quot;-suffix is just syntax for the configuration files, to make them not become a string. Not for OsgiContext. In OsgiContext, you need to provide a &quot;service.ranking&quot;-property with a value of type integer. When creating configurations, &quot;.cfg.json&quot; is nice to use, as you can then provide the value without quotes, as a number, which then automatically becomes an integer.&lt;/p&gt;</comment>
                            <comment id="17868889" author="henry kuijpers" created="Fri, 26 Jul 2024 08:34:05 +0000"  >&lt;p&gt;Your other case, where you &quot;manually&quot; specified &quot;service.ranking:Integer=123&quot; was also working perfectly fine, but &quot;registerInjectActivateService&quot; had to be used.&lt;/p&gt;</comment>
                            <comment id="17871886" author="JIRAUSER287307" created="Thu, 8 Aug 2024 07:17:19 +0000"  >&lt;p&gt;Ok, thanks for the clarification. I guess this can be closed.&#160;&lt;/p&gt;</comment>
                            <comment id="17874200" author="jsedding" created="Fri, 16 Aug 2024 11:23:50 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bartthierens&quot; class=&quot;user-hover&quot; rel=&quot;bartthierens&quot;&gt;bartthierens&lt;/a&gt; further to Henry&apos;s comments, your assumption that a lower service ranking is ordered before a higher one is wrong.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;The &lt;em&gt;ranking order&lt;/em&gt; is defined as follows:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Sorted on descending ranking number (highest first)&lt;/li&gt;
	&lt;li&gt;If the ranking numbers are equal, sorted on ascending &lt;tt&gt;service.id&lt;/tt&gt; property (oldest first).&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;

&lt;p&gt;Source: &lt;a href=&quot;https://docs.osgi.org/specification/osgi.core/8.0.0/framework.service.html#framework.service.servicerankingorder&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://docs.osgi.org/specification/osgi.core/8.0.0/framework.service.html#framework.service.servicerankingorder&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17874265" author="henry kuijpers" created="Fri, 16 Aug 2024 14:11:12 +0000"  >&lt;p&gt;Another thing worth mentioning is that the service.ranking must be of type integer to be properly compared to other service.ranking.&#160;&lt;/p&gt;

&lt;p&gt;If the service.ranking is not an int, it will be considered as service.ranking=0. See: &lt;a href=&quot;https://github.com/apache/felix-dev/blob/bcf435d69ab0ab8e6a9f303fc3092e7731b9a1ea/configadmin/src/main/java/org/apache/felix/cm/impl/RankingComparator.java#L126&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/felix-dev/blob/bcf435d69ab0ab8e6a9f303fc3092e7731b9a1ea/configadmin/src/main/java/org/apache/felix/cm/impl/RankingComparator.java#L126&lt;/a&gt;&#160;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12311020" key="com.atlassian.jira.plugin.system.customfieldtypes:url">
                        <customfieldname>External issue URL</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[https://github.com/senn/aemcontext-no-serviceranking-ordering]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12314421" key="com.atlassian.jira.plugin.system.customfieldtypes:labels">
                        <customfieldname>Language</customfieldname>
                        <customfieldvalues>
                                        <label>Java</label>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 9 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1qebc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12384] ResourceResolver: paged query for sling:alias will miss entries</title>
                <link>https://issues.apache.org/jira/browse/SLING-12384</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Initially I thought that the issue just applies to empty alias values, because the paged query will always skip them, due to the first query being &quot;&lt;tt&gt;first(sling:alias) &amp;gt; &apos;&apos;&lt;/tt&gt;&quot;.&lt;/p&gt;

&lt;p&gt;Closer inspection showed that the pageing logic was flawed:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;read values until pageSize is exceeded &lt;b&gt;and&lt;/b&gt; a new key value &lt;em&gt;x&lt;/em&gt; is reached&lt;/li&gt;
	&lt;li&gt;start a new query with condition &lt;tt&gt;&amp;gt; x&lt;/tt&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;This worked mostly ok with vanity paths, where the search key &quot;first(sling:vanityPath)&quot; almost always changes (having the same value for many resources will only lead to one working vanity path, because the same path cannot map to multiple resources).&lt;/p&gt;

&lt;p&gt;For aliases the situations is different, because their value is locally scoped to the collection the aliased resource appears in. So we could have 10000 resources with the &lt;em&gt;same&lt;/em&gt; set of aliases (think translations or shortcuts), and in cases like these, the page size (right now 2000) would be exceeded.&lt;/p&gt;

&lt;p&gt;The proposed change is:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;always use &quot;&amp;gt;=&quot; so the initial page contains the empty-valued properties as well&lt;/li&gt;
	&lt;li&gt;when page size is exceeded and a new key &lt;em&gt;y&lt;/em&gt; is found, do not include the last result, but execute a new query right away (with the proper condition so that all resources with &quot;&lt;tt&gt;first(sling:alias) &amp;gt;= y&lt;/tt&gt;&quot; are returned)&lt;/li&gt;
	&lt;li&gt;also add more diagnostics, which may help to diagnose pacge size / query limit issues early&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13586127">SLING-12384</key>
            <summary>ResourceResolver: paged query for sling:alias will miss entries</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="reschke">Julian Reschke</assignee>
                                    <reporter username="reschke">Julian Reschke</reporter>
                        <labels>
                    </labels>
                <created>Wed, 17 Jul 2024 11:33:40 +0000</created>
                <updated>Thu, 15 Aug 2024 16:43:35 +0000</updated>
                            <resolved>Wed, 24 Jul 2024 04:52:20 +0000</resolved>
                                    <version>Resource Resolver 1.11.6</version>
                                    <fixVersion>Resource Resolver 1.12.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                    <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="13586287">SLING-12387</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13527656">SLING-11799</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 14 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1qe8g:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12383] ResourceResolver: potential NPE while processing aliases</title>
                <link>https://issues.apache.org/jira/browse/SLING-12383</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Seen in production:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;ERROR [ResourceResolverFactory registration]
 org.apache.sling.resourceresolver.impl.mapping.MapEntries Unexpected 
problem during initialization of optimize alias resolution. Therefore 
disabling optimize alias resolution. Please fix the problem.

java.lang.NullPointerException: null

	at org.apache.sling.resourceresolver.impl.mapping.MapEntries.loadAlias(MapEntries.java:1226) [org.apache.sling.resourceresolver:1.11.6]

	at org.apache.sling.resourceresolver.impl.mapping.MapEntries.loadAliases(MapEntries.java:1173) [org.apache.sling.resourceresolver:1.11.6]

	at org.apache.sling.resourceresolver.impl.mapping.MapEntries.doInit(MapEntries.java:241) [org.apache.sling.resourceresolver:1.11.6] &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13586013">SLING-12383</key>
            <summary>ResourceResolver: potential NPE while processing aliases</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="reschke">Julian Reschke</assignee>
                                    <reporter username="reschke">Julian Reschke</reporter>
                        <labels>
                    </labels>
                <created>Tue, 16 Jul 2024 14:49:02 +0000</created>
                <updated>Thu, 5 Sep 2024 12:41:49 +0000</updated>
                            <resolved>Wed, 17 Jul 2024 13:47:31 +0000</resolved>
                                    <version>Resource Resolver 1.11.6</version>
                                    <fixVersion>Resource Resolver 1.12.0</fixVersion>
                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17866763" author="reschke" created="Wed, 17 Jul 2024 13:47:31 +0000"  >&lt;p&gt;see &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-resourceresolver/commit/1e8850451be2dce0a9614ce06e42a002b17814d7&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-resourceresolver/commit/1e8850451be2dce0a9614ce06e42a002b17814d7&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="13588104">SLING-12400</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 14 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1qdj4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12382] Potential concurrency issues with resource provider registration/unregistration</title>
                <link>https://issues.apache.org/jira/browse/SLING-12382</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;With &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-6943&quot; title=&quot;Don&amp;#39;t call into service registry from within a synchronized block&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-6943&quot;&gt;&lt;del&gt;SLING-6943&lt;/del&gt;&lt;/a&gt; (and follow up issues) we removed larger synchronized blocks in favour if smaller ones to not call to the service registry from within a synchronized blocks.&lt;br/&gt;
However, this split up synchronization might lead to concurrency issues - the code that got split up into smaller sync blocks still expects that no one interferes while all the blocks are executed.&lt;br/&gt;
As that might happen, this results in the code making wrong expectations.&lt;/p&gt;

&lt;p&gt;We probably need to get back to large sync&apos;ed blocks and call the service registry from within.&lt;/p&gt;

&lt;p&gt;Update: the code is actually written with the exceptional case in mind (two providers for the same path) - only for that case the lazy getting of services makes sense. As the normal use case requires the service anyway, we can avoid calling to the service registry from within the sync blocks - punishing the exceptional case with potentially unnecessary fetched providers&lt;/p&gt;</description>
                <environment></environment>
        <key id="13585574">SLING-12382</key>
            <summary>Potential concurrency issues with resource provider registration/unregistration</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Fri, 12 Jul 2024 08:36:14 +0000</created>
                <updated>Mon, 12 Aug 2024 13:55:20 +0000</updated>
                            <resolved>Sat, 13 Jul 2024 12:48:20 +0000</resolved>
                                    <version>Resource Resolver 1.11.6</version>
                                    <fixVersion>Resource Resolver 1.12.0</fixVersion>
                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17865373" author="cziegeler" created="Fri, 12 Jul 2024 09:12:12 +0000"  >&lt;p&gt;I re-introduced the larger synchronized blocks to make sure that adding/removing a resource provider is handled correctly&lt;/p&gt;

&lt;p&gt;In addition, the change listener (rr factory) is only updated once for each operation - which is actually a plus and can reduce churn in the system.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-resourceresolver/commit/23d16d1d047250ca834b1960cb908d293f3bcbe7&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-resourceresolver/commit/23d16d1d047250ca834b1960cb908d293f3bcbe7&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-resourceresolver/commit/3b890d275786079b8086027f31b1cb5a0362c2a8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-resourceresolver/commit/3b890d275786079b8086027f31b1cb5a0362c2a8&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-resourceresolver/commit/7bf75d45d7da49b51c985fbd6dfc933d5a1b55f6&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-resourceresolver/commit/7bf75d45d7da49b51c985fbd6dfc933d5a1b55f6&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17865681" author="cziegeler" created="Sat, 13 Jul 2024 12:48:20 +0000"  >&lt;p&gt;Rewrote the resource provider handling in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-resourceresolver/commit/a3eb20f55bef0620aa22d7afbbe1c980376e6a10&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-resourceresolver/commit/a3eb20f55bef0620aa22d7afbbe1c980376e6a10&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The resource provider service is fetched from the registry directly on registration within the tracker and only released once the tracker is informed about the unregister event. This way all calls to the service registry are outside of a sync block. Under normal operations there is no real difference in how services are get/unget.&lt;/p&gt;

&lt;p&gt;Cleaned up the code based on this new handling&lt;/p&gt;</comment>
                            <comment id="17865863" author="cziegeler" created="Mon, 15 Jul 2024 04:37:19 +0000"  >&lt;p&gt;Fixed the handling of modifed events &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-resourceresolver/commit/d33a37c0c25fa7944692dc08515d6d0d5790cba1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-resourceresolver/commit/d33a37c0c25fa7944692dc08515d6d0d5790cba1&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 14 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1qats:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12381] Always clear provider context on deactivate</title>
                <link>https://issues.apache.org/jira/browse/SLING-12381</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The provider context is only cleared in deactivate if a provider has been set before. However, we should always clear this.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13585551">SLING-12381</key>
            <summary>Always clear provider context on deactivate</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Fri, 12 Jul 2024 07:37:04 +0000</created>
                <updated>Mon, 12 Aug 2024 13:55:20 +0000</updated>
                            <resolved>Fri, 12 Jul 2024 07:40:32 +0000</resolved>
                                    <version>Resource Resolver 1.11.6</version>
                                    <fixVersion>Resource Resolver 1.12.0</fixVersion>
                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17865348" author="cziegeler" created="Fri, 12 Jul 2024 07:40:32 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-resourceresolver/commit/d039940cc56e4360c4d2ba1592203b98254e4e67&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-resourceresolver/commit/d039940cc56e4360c4d2ba1592203b98254e4e67&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 14 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1qaoo:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12377] Repository-based JS Use objects cannot be located when using relative paths</title>
                <link>https://issues.apache.org/jira/browse/SLING-12377</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;JS Use Objects stored in the JCR repository that are supposed to be loaded using relative paths will not be correctly located when the caller directly loads them (no override/overlay involved).&lt;/p&gt;</description>
                <environment></environment>
        <key id="13585319">SLING-12377</key>
            <summary>Repository-based JS Use objects cannot be located when using relative paths</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="radu">Radu Cotescu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 10 Jul 2024 13:21:55 +0000</created>
                <updated>Wed, 14 Aug 2024 09:54:30 +0000</updated>
                            <resolved>Wed, 10 Jul 2024 15:46:14 +0000</resolved>
                                    <version>Scripting HTL JS Use Provider 1.2.4</version>
                                    <fixVersion>Scripting HTL JS Use Provider 1.2.10</fixVersion>
                    <fixVersion>Scripting HTL Testing Content 1.0.34-1.4.0</fixVersion>
                    <fixVersion>Scripting HTL Testing 1.0.36-1.4.0</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17864725" author="radu.cotescu" created="Wed, 10 Jul 2024 15:46:08 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-scripting-sightly-js-provider/commit/7563f58&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;commit 7563f58&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13318521">SLING-9599</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 15 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1q994:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12372] ModelAdapterFactory is not cleaning up the requests correctly</title>
                <link>https://issues.apache.org/jira/browse/SLING-12372</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;With the recent changes in Apache Felix Http Jetty 5.x of making Felix compatible with both javax and jakarta, new ServletRequestWrappers were introduced: This bug is &lt;b&gt;only&lt;/b&gt; affecting installations where Http Jetty 5.x or Http Jetty12 is used. Installations where Http Jetty 4.x is used are not affected&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/felix-dev/blob/master/http/wrappers/src/main/java/org/apache/felix/http/javaxwrappers/ServletRequestWrapper.java#L79&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/felix-dev/blob/master/http/wrappers/src/main/java/org/apache/felix/http/javaxwrappers/ServletRequestWrapper.java#L79&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This causes issues for the cleanup / disposing of requests after a requestDestroyed event is caught in the ModelAdapterFactory, namely there is a check if the request is of type javax.http.ServletRequestWrapper, which no longer matches with org.apache.felix.http.javaxwrappers.ServletRequestWrapper:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-models-impl/blob/master/src/main/java/org/apache/sling/models/impl/ModelAdapterFactory.java#L796&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-models-impl/blob/master/src/main/java/org/apache/sling/models/impl/ModelAdapterFactory.java#L796&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This causes the callbacks to never be cleaned up, because the original ServletRequest is not matched seeing as it is a new wrapper object compared to the one that was put.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13585043">SLING-12372</key>
            <summary>ModelAdapterFactory is not cleaning up the requests correctly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="royteeuwen">Roy Teeuwen</reporter>
                        <labels>
                    </labels>
                <created>Mon, 8 Jul 2024 16:14:44 +0000</created>
                <updated>Tue, 29 Oct 2024 09:58:33 +0000</updated>
                            <resolved>Tue, 9 Jul 2024 13:09:36 +0000</resolved>
                                                    <fixVersion>Models Implementation 1.7.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17864011" author="cziegeler" created="Tue, 9 Jul 2024 04:54:24 +0000"  >&lt;p&gt;I don&apos;t know the details of the model adapter factory, but why is it not storing things in request attributes instead of using a cache where a request object is the key?&lt;/p&gt;

&lt;p&gt;Other options are to bind the cache to the resource resolver, which doesn&apos;t require a listener at all or a Sling request listener&lt;/p&gt;</comment>
                            <comment id="17864200" author="cziegeler" created="Tue, 9 Jul 2024 13:09:36 +0000"  >&lt;p&gt;Changed the logic to simply rely on a request attribute instead of a map where a request object is the key.&lt;br/&gt;
The list is set as a request attribute when the requests starts and then destroyed when the request finishes.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310051">
                    <name>Supercedes</name>
                                            <outwardlinks description="supercedes">
                                        <issuelink>
            <issuekey id="13584658">SLING-12369</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 15 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1q7js:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12367] MBean platform server not registered for Sling Starter</title>
                <link>https://issues.apache.org/jira/browse/SLING-12367</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The Sling Starter no longer registers the PlatformMBean server as an OSGi service and therefore does not expose a lot of information via JMX. This was done with &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-launchpad-startupmanager/blob/76cb5e2380a6619db685e769175a98a98c94a8f7/src/main/java/org/apache/sling/launchpad/startupmanager/Activator.java#L47&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-launchpad-startupmanager/blob/76cb5e2380a6619db685e769175a98a98c94a8f7/src/main/java/org/apache/sling/launchpad/startupmanager/Activator.java#L47&lt;/a&gt; but this not included in the Starter. I also think we should not include it because it references the (deprecated? unused?) Launchpad API.&lt;/p&gt;

&lt;p&gt;I&apos;ve kept the detailed original description below.&lt;/p&gt;

&lt;p&gt;---------&lt;/p&gt;


&lt;p&gt;&lt;b&gt;1. Summary&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;   By default, Apache Sling uses `OakSlingRepository` for repository construction. `OakSlingRepository` is, in turn, backed by `Oak`, which delivers some important MBeans (e.g., query statistics). However, due to the current specifics of the `OakSlingRepository` implementation, those MBeans aren&#8217;t registered in the MBean service registry (MBean Server). Therefore, those MBeans aren&#8217;t recognized by Apache Sling as MBeans, and their MBean features remain unavailable to the user. The proposed fix is to introduce the missing MBeans registration.&lt;/p&gt;

&lt;p&gt;The problem is related to Apache Sling JCR Oak Repository Server (`org.apache.sling.jcr.oak.server`).&lt;/p&gt;

&lt;p&gt;&lt;b&gt;2. Default Apache Sling Repository Construction&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;   Apache Sling uses Java Content Repository (JCR) for persistence. Connections to that persistence layer are performed via `javax.jcr.Repository` implementations.&lt;/p&gt;

&lt;p&gt;   There are several ways `javax.jcr.Repository` can be implemented and constructed. By default, in Apache Sling 12, an instance of `javax.jcr.Repository` is implemented and constructed in &lt;a href=&quot;#acquireRepository()` method&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;`org.apache.sling.jcr.oak.server.internal.OakSlingRepositoryManager#acquireRepository()` method&lt;/a&gt;(&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-jcr-oak-server/blob/0dcb90452e0cc27db3501a21a99d7de1f72c2425/src/main/java/org/apache/sling/jcr/oak/server/internal/OakSlingRepositoryManager.java#L131-L168&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-jcr-oak-server/blob/0dcb90452e0cc27db3501a21a99d7de1f72c2425/src/main/java/org/apache/sling/jcr/oak/server/internal/OakSlingRepositoryManager.java#L131-L168&lt;/a&gt;) from the `org.apache.sling.jcr.oak.server` bundle. To construct the `javax.jcr.Repository`, the mentioned method utilizes `org.apache.jackrabbit.oak.Oak` from `org.apache.jackrabbit:oak-core`.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;3. Whiteboard in Oak Repository&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;   During `javax.jcr.Repository` construction, `org.apache.jackrabbit.oak.Oak#with(Whiteboard)` &lt;span class=&quot;error&quot;&gt;&amp;#91;can be provided with a `org.apache.jackrabbit.oak.spi.whiteboard.Whiteboard`&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://github.com/apache/jackrabbit-oak/blob/541815b62fd955d76f7069e87b9412bd7eba4daf/oak-core/src/main/java/org/apache/jackrabbit/oak/Oak.java#L566-L591&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jackrabbit-oak/blob/541815b62fd955d76f7069e87b9412bd7eba4daf/oak-core/src/main/java/org/apache/jackrabbit/oak/Oak.java#L566-L591&lt;/a&gt;) from `org.apache.jackrabbit:oak-core-spi`.&lt;/p&gt;

&lt;p&gt;   The `org.apache.jackrabbit.oak.spi.whiteboard.Whiteboard` provided to the `org.apache.jackrabbit.oak.Oak` during `javax.jcr.Repository` construction is later used inside the `org.apache.jackrabbit.oak.Oak`, among others, to perform registration of services relevant for the repository (repository-specific services). Importantly, `org.apache.jackrabbit.oak.spi.whiteboard.Whiteboard` is just an interface and doesn&#8217;t enforce any platform-specific logic for service registration. For instance, the `org.apache.jackrabbit.oak.spi.whiteboard.DefaultWhiteboard` implementation just keeps services in the application memory, while the implementation provided via `org.apache.jackrabbit.oak.osgi.OsgiWhiteboard` performs registration of repository-specific services inside the OSGi service registry.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;4. MBeans in Oak Repository&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;   Some repository-specific services registered inside the `org.apache.jackrabbit.oak.Oak` via the `org.apache.jackrabbit.oak.spi.whiteboard.Whiteboard` provided during `javax.jcr.Repository` construction are MBeans. In general, those MBeans provide crucial monitoring information on the state of the repository. Specifically, at least the following MBeans are supposed to be registered:&lt;/p&gt;

&lt;p&gt;       org.apache.jackrabbit.oak:name=Oak Query Statistics (Extended),type=QueryStats&lt;br/&gt;
       org.apache.jackrabbit.oak:name=Oak Query Statistics,type=QueryStat&lt;br/&gt;
       org.apache.jackrabbit.oak:name=Oak Repository Statistics,type=RepositoryStats&lt;br/&gt;
       org.apache.jackrabbit.oak:name=async,type=IndexStats&lt;br/&gt;
       org.apache.jackrabbit.oak:name=async,type=PropertyIndexAsyncReindex&lt;br/&gt;
       org.apache.jackrabbit.oak:name=nodeCounter,type=NodeCounter&lt;br/&gt;
       org.apache.jackrabbit.oak:name=repository manager,type=RepositoryManagement&lt;br/&gt;
       org.apache.jackrabbit.oak:name=settings,type=QueryEngineSettings&lt;/p&gt;

&lt;p&gt;   In order to be recognized by the application as MBeans, repository-specific services that are MBeans &lt;span class=&quot;error&quot;&gt;&amp;#91;must be registered in the MBean service registry (MBean Server)&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://www.oracle.com/technical-resources/articles/javase/jmx.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.oracle.com/technical-resources/articles/javase/jmx.html&lt;/a&gt;). Otherwise, they will not expose their MBean features and will remain idle in this regard. Importantly, there are no limitations that forbid the registration of the same repository-specific service in separate and isolated service registries simultaneously. On the contrary, if a given repository-specific service is polymorphic and is supposed to be registered in separate and isolated service registries simultaneously, such registration might even be strongly advised. For instance, a given repository-specific service might be constructed as both an MBean service and an OSGi service, which aren&#8217;t the same and which provide different functionalities; hence it must be registered in both the MBean service registry (MBean Server) and the OSGi service registry. `org.apache.jackrabbit.oak.Oak` recognizes this polymorphic nature of some repository-specific services and by default uses a custom `org.apache.jackrabbit.oak.spi.whiteboard.Whiteboard` implementation that &lt;span class=&quot;error&quot;&gt;&amp;#91;registers repository-specific services both in the in-memory service registry (`org.apache.jackrabbit.oak.spi.whiteboard.DefaultWhiteboard`) and additionally - in the case of services that are also MBeans - in the MBean service registry (MBean Server)&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://github.com/apache/jackrabbit-oak/blob/541815b62fd955d76f7069e87b9412bd7eba4daf/oak-core/src/main/java/org/apache/jackrabbit/oak/Oak.java#L281-L359&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jackrabbit-oak/blob/541815b62fd955d76f7069e87b9412bd7eba4daf/oak-core/src/main/java/org/apache/jackrabbit/oak/Oak.java#L281-L359&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;&lt;b&gt;5. Whiteboard in Default Apache Sling Repository Construction&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;   During `javax.jcr.Repository` construction performed by `org.apache.sling.jcr.oak.server.internal.OakSlingRepositoryManager#acquireRepository()`, the `org.apache.jackrabbit.oak.Oak` &lt;span class=&quot;error&quot;&gt;&amp;#91;is constructed with an instance of `org.apache.jackrabbit.oak.osgi.OsgiWhiteboard`&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-jcr-oak-server/blob/0dcb90452e0cc27db3501a21a99d7de1f72c2425/src/main/java/org/apache/sling/jcr/oak/server/internal/OakSlingRepositoryManager.java#L133&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-jcr-oak-server/blob/0dcb90452e0cc27db3501a21a99d7de1f72c2425/src/main/java/org/apache/sling/jcr/oak/server/internal/OakSlingRepositoryManager.java#L133&lt;/a&gt;). That instance is an implementation of `org.apache.jackrabbit.oak.spi.whiteboard.Whiteboard` that registers repository-specific services exclusively in the OSGi service registry. It means that repository-specific services registered inside `org.apache.jackrabbit.oak.Oak` that are both OSGi services and MBeans are registered exclusively in the OSGi service registry and are not registered in the MBean service registry (MBean Server). Therefore, those services do not expose their MBean features and remain idle in this regard. Because of this, the Apache Sling user does not receive crucial monitoring information on the state of the repository delivered by those MBean features. For instance, they do not have access to Oak Query Statistics, which complicates query improvements.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;6. Difference in Proprietary Apache Sling Variations&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;   The problem of lacking MBean features delivered by repository-specific services isn&#8217;t present in at least some proprietary variations of Apache Sling. The reason for this is that those proprietary variations don&#8217;t rely on `org.apache.sling.jcr.oak.server.internal.OakSlingRepositoryManager` used by vanilla Apache Sling for `javax.jcr.Repository` construction but use custom implementations. At least some of those implementations are performed correctly so that repository-specific services that are both MBeans and OSGi services are registered in both the MBean service registry (MBean Server) and the OSGi service registry respectively. Thanks to this, users of such Apache Sling variations do not lack MBean features of repository-specific services.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;7. Proposed Fix&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;   It is proposed to fix the problem of lacking MBean features delivered by repository-specific services by registering the services that are MBeans not only in the OSGi service registry, as is already implemented, but additionally in the MBean service registry (MBean Server). To achieve this, the fix wraps `org.apache.jackrabbit.oak.osgi.OsgiWhiteboard` currently used in the `org.apache.sling.jcr.oak.server.internal.OakSlingRepositoryManager#acquireRepository()` in the decorating class `org.apache.sling.jcr.oak.server.internal.WithMBeanRegistration`. The decorator passes all method calls to the wrapped object and additionally, when registration and unregistration methods are called, registers and unregisters respectively repository-specific services that are MBeans in the MBean service registry (MBean Server). The logic of the implementation is a remake of the logic &lt;span class=&quot;error&quot;&gt;&amp;#91;provided by `org.apache.jackrabbit.oak.Oak`&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://github.com/apache/jackrabbit-oak/blob/541815b62fd955d76f7069e87b9412bd7eba4daf/oak-core/src/main/java/org/apache/jackrabbit/oak/Oak.java#L281-L359&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jackrabbit-oak/blob/541815b62fd955d76f7069e87b9412bd7eba4daf/oak-core/src/main/java/org/apache/jackrabbit/oak/Oak.java#L281-L359&lt;/a&gt;) and discussed above.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;8. Verification of the Fix&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;   The proposed fix is verified in the integration and unit tests provided along with the fix. Additionally, it was verified on a vanilla Apache Sling 12 instance. However, note that by default, vanilla Apache Sling 12 doesn&#8217;t provide a user interface to directly interact with or see the state of the MBean service registry nor to see the statistics provided by the MBean features from repository-specific services. For such interaction, additional tooling should be installed, like &lt;span class=&quot;error&quot;&gt;&amp;#91;Adobe Granite JMX Support&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://mvnrepository.com/artifact/com.adobe.granite/com.adobe.granite.jmx&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://mvnrepository.com/artifact/com.adobe.granite/com.adobe.granite.jmx&lt;/a&gt;) (`com.adobe.granite:com.adobe.granite.jmx`, &lt;a href=&quot;http://localhost:8080/system/console/jmx&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/system/console/jmx&lt;/a&gt;) or &lt;span class=&quot;error&quot;&gt;&amp;#91;Jolokia&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://mvnrepository.com/artifact/org.jolokia/jolokia-osgi&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://mvnrepository.com/artifact/org.jolokia/jolokia-osgi&lt;/a&gt;) (`org.jolokia:jolokia-osgi`, &lt;a href=&quot;http://localhost:8080/jolokia/list&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/jolokia/list&lt;/a&gt;).&lt;/p&gt;</description>
                <environment></environment>
        <key id="13584406">SLING-12367</key>
            <summary>MBean platform server not registered for Sling Starter</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="ciechanowiec">Herman Ciechanowiec</reporter>
                        <labels>
                            <label>Sling-14-ReleaseNotes</label>
                    </labels>
                <created>Mon, 1 Jul 2024 19:02:09 +0000</created>
                <updated>Tue, 21 Jan 2025 16:13:40 +0000</updated>
                            <resolved>Tue, 21 Jan 2025 16:10:30 +0000</resolved>
                                    <version>Starter 12</version>
                                    <fixVersion>Starter 14</fixVersion>
                                    <component>Starter</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17861254" author="JIRAUSER291187" created="Mon, 1 Jul 2024 19:30:58 +0000"  >&lt;p&gt;The proposed fix is here: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-jcr-oak-server/pull/11&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-jcr-oak-server/pull/11&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17898833" author="JIRAUSER291187" created="Sat, 16 Nov 2024 06:09:48 +0000"  >&lt;p&gt;See discussion in the pull request.&lt;/p&gt;</comment>
                            <comment id="17915749" author="rombert" created="Tue, 21 Jan 2025 16:10:30 +0000"  >&lt;p&gt;JMX bundle that registers a MBean server and regression tests added.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            39 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1q3mg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12363] ServerErrorRetryStrategy throws ClassCastException for BasicHttpRequest (not assignable to HttpRequestWrapper)</title>
                <link>https://issues.apache.org/jira/browse/SLING-12363</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Relates to &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-11748&quot; title=&quot;Improve logging output of HTTP retries in testing clients&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-11748&quot;&gt;&lt;del&gt;SLING-11748&lt;/del&gt;&lt;/a&gt; .&#160;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-testing-clients/pull/42&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-testing-clients/pull/42&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;During a network outage, some executions of integration tests using SlingClient started failing with the following stack trace:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 327.4 s &amp;lt;&amp;lt;&amp;lt; FAILURE! -- in com.adobe.cq.cloud.testing.it.smoke.PublishEndToEndIT
[ERROR] com.adobe.cq.cloud.testing.it.smoke.PublishEndToEndIT.testActivateAndDeactivate -- Time elapsed: 327.2 s &amp;lt;&amp;lt;&amp;lt; ERROR!
java.lang.ClassCastException: Cannot &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt; org.apache.http.message.BasicHttpRequest to org.apache.http.client.methods.HttpRequestWrapper
	at java.base/java.lang.&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.&lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt;(&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.java:3889)
	at org.apache.http.protocol.HttpCoreContext.getAttribute(HttpCoreContext.java:119)
	at org.apache.sling.testing.clients.util.ServerErrorRetryStrategy.getRequestDetails(ServerErrorRetryStrategy.java:96)
	at org.apache.sling.testing.clients.util.ServerErrorRetryStrategy.retryRequest(ServerErrorRetryStrategy.java:58)
	at org.apache.http.impl.execchain.ServiceUnavailableRetryExec.execute(ServiceUnavailableRetryExec.java:88)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:72)
	at org.apache.sling.testing.clients.interceptors.FormBasedAuthInterceptor.doLogin(FormBasedAuthInterceptor.java:141)
	at org.apache.sling.testing.clients.interceptors.FormBasedAuthInterceptor.process(FormBasedAuthInterceptor.java:80)
	at org.apache.http.protocol.ImmutableHttpProcessor.process(ImmutableHttpProcessor.java:133)
	at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:184)
	at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)
	at org.apache.http.impl.execchain.ServiceUnavailableRetryExec.execute(ServiceUnavailableRetryExec.java:85)
	at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)
	at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)
	at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)
	at org.apache.sling.testing.clients.AbstractSlingClient.execute(AbstractSlingClient.java:698)
	at org.apache.sling.testing.clients.AbstractSlingClient.doStreamRequest(AbstractSlingClient.java:326)
	at org.apache.sling.testing.clients.AbstractSlingClient.doStreamGet(AbstractSlingClient.java:440)
	at org.apache.sling.testing.clients.AbstractSlingClient.doGet(AbstractSlingClient.java:503)
	at org.apache.sling.testing.clients.AbstractSlingClient.doGet(AbstractSlingClient.java:539)
	at org.apache.sling.testing.clients.SlingClient.exists(SlingClient.java:202)
	at com.adobe.cq.testing.junit.rules.Page.prepare(Page.java:151)
	at com.adobe.cq.testing.junit.rules.Page.before(Page.java:82) &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The type expected by &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-testing-clients/blob/da878173581fd2a8f667b365de0fd05318b12443/src/main/java/org/apache/sling/testing/clients/util/ServerErrorRetryStrategy.java#L96&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;getRequestDetails()&lt;/a&gt; should probably be changed from HttpRequestWrapper to &lt;tt&gt;org.apache.http.HttpRequest&lt;/tt&gt;, which is a common interface for both BasicHttpRequest and HttpRequestWrapper, and which happens to define the getRequestLine() method .&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13583979">SLING-12363</key>
            <summary>ServerErrorRetryStrategy throws ClassCastException for BasicHttpRequest (not assignable to HttpRequestWrapper)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="pfaffm@adobe.com">Marc Pfaff</assignee>
                                    <reporter username="madamcin">Mark Adamcin</reporter>
                        <labels>
                    </labels>
                <created>Wed, 26 Jun 2024 23:46:15 +0000</created>
                <updated>Fri, 20 Dec 2024 14:33:24 +0000</updated>
                            <resolved>Fri, 28 Jun 2024 15:09:47 +0000</resolved>
                                    <version>Apache Sling Testing Clients 3.0.20</version>
                    <version>Apache Sling Testing Clients 3.0.22</version>
                    <version>Apache Sling Testing Clients 3.0.24</version>
                                    <fixVersion>Testing Clients 3.1.0</fixVersion>
                                    <component>Apache Sling Testing Clients</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17860839" author="madamcin" created="Fri, 28 Jun 2024 15:09:47 +0000"  >&lt;p&gt;Merged by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=andrei.dulvac&quot; class=&quot;user-hover&quot; rel=&quot;andrei.dulvac&quot;&gt;andrei.dulvac&lt;/a&gt; .&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 16 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1q0zs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12352] ContentLoader XML / JSON initialisation should be done in a lazy way (when needed)</title>
                <link>https://issues.apache.org/jira/browse/SLING-12352</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When calling context.load(), a content loader is created in a lazy way (when it&apos;s not there, it is instantiated and otherwise a cached instance is returned).&lt;/p&gt;

&lt;p&gt;However, when instantiating this content loader, everything needed for XML &amp;amp; JSON is set up, regardless of calls to json() or xml() being made or not. This should also be done in a lazy way.&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;A specific issue that can be tackled this way is running parallel tests in combination with XML parsers and their ugly statics, interfering with each other.&lt;/p&gt;

&lt;p&gt;This would tackle the &quot;No page manager.&quot; / &quot;No asset manager.&quot; errors that can be seen when using AemContext.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13582369">SLING-12352</key>
            <summary>ContentLoader XML / JSON initialisation should be done in a lazy way (when needed)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="Henry Kuijpers">Henry Kuijpers</assignee>
                                    <reporter username="Henry Kuijpers">Henry Kuijpers</reporter>
                        <labels>
                    </labels>
                <created>Wed, 12 Jun 2024 08:25:44 +0000</created>
                <updated>Mon, 26 Aug 2024 08:11:05 +0000</updated>
                            <resolved>Fri, 21 Jun 2024 13:45:31 +0000</resolved>
                                    <version>Testing Sling Mock 3.5.0</version>
                                    <fixVersion>Testing Sling Mock 3.5.2</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17855832" author="sseifert@pro-vision.de" created="Tue, 18 Jun 2024 08:11:10 +0000"  >&lt;p&gt;looks good to me&lt;/p&gt;</comment>
                            <comment id="17856766" author="sseifert@pro-vision.de" created="Fri, 21 Jun 2024 13:14:08 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Henry+Kuijpers&quot; class=&quot;user-hover&quot; rel=&quot;Henry Kuijpers&quot;&gt;Henry Kuijpers&lt;/a&gt; as the PR is merged, please set this ticket to resolved as well, and assign it to yourself.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13577575">SLING-12306</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 17 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1pr34:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12349] Unable to set a maximum amount of Sling Jobs in parallel </title>
                <link>https://issues.apache.org/jira/browse/SLING-12349</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;It is possible to set a maximum parallel of sling jobs on a queue configuration, but in systems where the platform itself already makes 20 queue&apos;s and the customer&apos;s code also add&apos;s their own queue&apos;s, this configuration makes no sense because it is set per queue and not overall. The sum of the parallel could be way more than the amount of cores available, making the system unworkable if the separate queue&apos;s all have jobs at the same time&lt;/p&gt;

&lt;p&gt;It would be logical that you can also set a maximum parallel overall for all queue&apos;s combined. Is there a reason that this is not already the case? Would there be anything against building this in?&lt;/p&gt;</description>
                <environment></environment>
        <key id="13581772">SLING-12349</key>
            <summary>Unable to set a maximum amount of Sling Jobs in parallel </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="royteeuwen">Roy Teeuwen</reporter>
                        <labels>
                    </labels>
                <created>Thu, 6 Jun 2024 09:09:21 +0000</created>
                <updated>Fri, 7 Jun 2024 07:21:02 +0000</updated>
                                                                            <component>Event</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17852695" author="royteeuwen" created="Thu, 6 Jun 2024 09:17:33 +0000"  >&lt;p&gt;OK, I think there is an undocumented feature that you can set the maximum amount of threads in the org.apache.sling.event.impl.EventingThreadPool configuration. If I read it correctly it is not possible to set a percentage based on cores.&lt;/p&gt;

&lt;p&gt;Will verify this and add documentation if it is the feature I was looking for&lt;/p&gt;</comment>
                            <comment id="17853054" author="cziegeler" created="Fri, 7 Jun 2024 07:21:02 +0000"  >&lt;p&gt;as far as I remember, that configuration was intended to do what you want&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 19 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1pneg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12344] Lock contention in ScriptDependencyResolver</title>
                <link>https://issues.apache.org/jira/browse/SLING-12344</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I see threaddumps which show lock contention in the ScriptDependencyResolver like this:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;        at jdk.internal.misc.Unsafe.park(java.base@11.0.20/Native Method)
        - parking to wait for  &amp;lt;0x0000000496e16af0&amp;gt; (a java.util.concurrent.locks.ReentrantReadWriteLock$NonfairSync)
        at java.util.concurrent.locks.LockSupport.park(java.base@11.0.20/LockSupport.java:194)
        at java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(java.base@11.0.20/AbstractQueuedSynchronizer.java:885)
        at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(java.base@11.0.20/AbstractQueuedSynchronizer.java:917)
        at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(java.base@11.0.20/AbstractQueuedSynchronizer.java:1240)
        at java.util.concurrent.locks.ReentrantReadWriteLock$WriteLock.lock(java.base@11.0.20/ReentrantReadWriteLock.java:959)
        at org.apache.sling.scripting.sightly.impl.utils.ScriptDependencyResolver.resolveScript(ScriptDependencyResolver.java:100)
        at org.apache.sling.scripting.sightly.impl.engine.extension.use.RenderUnitProvider.provide(RenderUnitProvider.java:95)
        at org.apache.sling.scripting.sightly.impl.engine.extension.use.UseRuntimeExtension.call(UseRuntimeExtension.java:71)
        at org.apache.sling.scripting.sightly.impl.engine.runtime.RenderContextImpl.call(RenderContextImpl.java:72)
        at apps.components.x.y.y__002e__html.render(y__002e__html.java:39)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;but also:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;        at jdk.internal.misc.Unsafe.park(java.base@11.0.20/Native Method)
        - parking to wait for  &amp;lt;0x0000000496e16af0&amp;gt; (a java.util.concurrent.locks.ReentrantReadWriteLock$NonfairSync)
        at java.util.concurrent.locks.LockSupport.park(java.base@11.0.20/LockSupport.java:194)
        at java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(java.base@11.0.20/AbstractQueuedSynchronizer.java:885)
        at java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireShared(java.base@11.0.20/AbstractQueuedSynchronizer.java:1009)
        at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireShared(java.base@11.0.20/AbstractQueuedSynchronizer.java:1324)
        at java.util.concurrent.locks.ReentrantReadWriteLock$ReadLock.lock(java.base@11.0.20/ReentrantReadWriteLock.java:738)
        at org.apache.sling.scripting.sightly.impl.utils.ScriptDependencyResolver.resolveScript(ScriptDependencyResolver.java:93)
        at org.apache.sling.scripting.sightly.impl.engine.extension.use.RenderUnitProvider.provide(RenderUnitProvider.java:95)
        at org.apache.sling.scripting.sightly.impl.engine.extension.use.UseRuntimeExtension.call(UseRuntimeExtension.java:71)
        at org.apache.sling.scripting.sightly.impl.engine.runtime.RenderContextImpl.call(RenderContextImpl.java:72)
        at apps.components.a.b.b__002e__html$3.render(b__002e__html.java:218)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I see that the ScriptDependencyResolver holds cache, which just saves positive results where the result has been found; if the result is null, it&apos;s not cached, and it will be attempted over and over again.&lt;/p&gt;

&lt;p&gt;Of course this situation mostly happens if a lot of these requests with invalid scriptIdentifiers are done, which points to problems in the content. But it would be great if the code behaves a bit better here, because I have a situation here where requests holding the write lock block all other requests which would have a cache hit.&lt;/p&gt;

&lt;p&gt;(Thinking further, I don&apos;t really understand why a ReadWrite lock is used here at all. As far as I can see a ConcurrentHashMap as a cache should be sufficient.)&lt;/p&gt;</description>
                <environment></environment>
        <key id="13581359">SLING-12344</key>
            <summary>Lock contention in ScriptDependencyResolver</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="joerghoh">Joerg Hoh</reporter>
                        <labels>
                    </labels>
                <created>Mon, 3 Jun 2024 09:31:17 +0000</created>
                <updated>Wed, 10 Jul 2024 14:49:45 +0000</updated>
                            <resolved>Fri, 5 Jul 2024 12:20:23 +0000</resolved>
                                    <version>Scripting HTL Engine 1.4.22-1.4.0</version>
                                    <fixVersion>Scripting HTL Testing Content 1.0.32-1.4.0</fixVersion>
                    <fixVersion>Scripting HTL Engine 1.4.24-1.4.0</fixVersion>
                    <fixVersion>Scripting HTL Testing 1.0.34-1.4.0</fixVersion>
                                    <component>HTL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17862747" author="radu.cotescu" created="Wed, 3 Jul 2024 11:44:04 +0000"  >&lt;p&gt;The reason for using a `ReadWriteLock` is because the cache is a LRU implementation, which cannot be handled with a ConcurrentHashMap. I could however wrap the map into a &lt;tt&gt;Collections.synchronizedMap(new LinkedHashMap(...));&lt;/tt&gt; call and cache the negative results as well, since any change in the resource tree will anyways clear the whole cache.&lt;/p&gt;</comment>
                            <comment id="17862750" author="cziegeler" created="Wed, 3 Jul 2024 12:01:33 +0000"  >&lt;p&gt;I think this code violates one of the core principles of Sling&apos;s request processing - normal request processing should avoid blocks where all requests need to be synchronized. Granted, this is an unwritten principle - but we tried hard to avoid such scenarios.&lt;br/&gt;
Here, it seems if the cache is too small or turned off (size of 0) all requests go through the write lock&lt;/p&gt;</comment>
                            <comment id="17863039" author="radu.cotescu" created="Thu, 4 Jul 2024 13:26:31 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;, that code was not really supposed to hit the &lt;tt&gt;master&lt;/tt&gt; branch - IIRC &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=joerghoh&quot; class=&quot;user-hover&quot; rel=&quot;joerghoh&quot;&gt;joerghoh&lt;/a&gt; and I wanted to test a hypothesis. Nevertheless, I see the useless locking when the cache is disabled and I can short-circuit it.&lt;/p&gt;

&lt;p&gt;Regarding locking in general, the &lt;tt&gt;ScriptCache&lt;/tt&gt; implementation from &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-913&quot; title=&quot;Add a cache for pre-compiled scripts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-913&quot;&gt;&lt;del&gt;SLING-913&lt;/del&gt;&lt;/a&gt; uses the same pattern. I don&apos;t see an issue with a reader-writer pattern in this case.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13484282">SLING-11608</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 15 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1pkuo:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12327] Use async to send package distributed event</title>
                <link>https://issues.apache.org/jira/browse/SLING-12327</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;We had an issue where a customer implemented an event handler for org/apache/sling/distribution/agent/package/distributed&lt;/p&gt;

&lt;p&gt;The event handler did not return in some cases and caused the whole update on queues to stop working.&lt;/p&gt;

&lt;p&gt;We should use postEvent to make sure we do not get blocked by customer event handlers.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13580575">SLING-12327</key>
            <summary>Use async to send package distributed event</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cschneider">Christian Schneider</assignee>
                                    <reporter username="cschneider">Christian Schneider</reporter>
                        <labels>
                    </labels>
                <created>Mon, 27 May 2024 14:13:42 +0000</created>
                <updated>Mon, 24 Jun 2024 06:09:59 +0000</updated>
                            <resolved>Mon, 24 Jun 2024 06:09:59 +0000</resolved>
                                                    <fixVersion>Content Distribution Journal Core 0.4.0</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 21 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1pg0w:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12325] The HTL parser can get confused when HTML markup is present in string literals</title>
                <link>https://issues.apache.org/jira/browse/SLING-12325</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;In some cases, HTL that&apos;s perfectly valid based on the spec will cause a compilation error. For example, this will be rejected when used outside of an attribute:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
${&lt;span class=&quot;code-quote&quot;&gt;&apos;&amp;lt;a href=&lt;span class=&quot;code-quote&quot;&gt;&quot;{0}&quot;&lt;/span&gt;&amp;gt;Click here&amp;lt;/a&amp;gt;.&apos;&lt;/span&gt; @ format=&lt;span class=&quot;code-quote&quot;&gt;&apos;/&apos;&lt;/span&gt;, context=&lt;span class=&quot;code-quote&quot;&gt;&apos;html&apos;&lt;/span&gt;} &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The HTML parsing phase will consider the first closing brace to be the end of the expression, and the &amp;lt;/a&amp;gt; part as a tag outside of an expression. The next phase will see this expression:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
${&apos;&amp;lt;a href=&lt;span class=&quot;code-quote&quot;&gt;&quot;{0}&quot;&lt;/span&gt;&amp;gt;Click here &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;and reject it as syntactically invalid.&lt;/p&gt;

&lt;p&gt;The HTML parsing phase needs to be more careful about expression syntax. I think it will need to look out for quotes and backslashes to safely tell whether a closing brace is an expression terminator or just a regular character inside a string literal.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13580334">SLING-12325</key>
            <summary>The HTL parser can get confused when HTML markup is present in string literals</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="Csaba Varga">Csaba Varga</reporter>
                        <labels>
                    </labels>
                <created>Fri, 24 May 2024 06:35:19 +0000</created>
                <updated>Wed, 6 Aug 2025 16:08:26 +0000</updated>
                                                                            <component>HTL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 21 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1pejc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12323] [RepoInit] Avoid java.nio.file.Path for parsing repository paths</title>
                <link>https://issues.apache.org/jira/browse/SLING-12323</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;RepoInit uses &lt;tt&gt;java.nio.file.Path&lt;/tt&gt; to determine the &quot;parent path&quot; and &quot;name&quot; of a relative repository path. This fails on Windows when the relative repository path contains a colon &quot;:&quot;.&lt;/p&gt;

&lt;p&gt;The implementation should not be platform dependent.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13580229">SLING-12323</key>
            <summary>[RepoInit] Avoid java.nio.file.Path for parsing repository paths</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jsedding">Julian Sedding</assignee>
                                    <reporter username="jsedding">Julian Sedding</reporter>
                        <labels>
                    </labels>
                <created>Thu, 23 May 2024 08:39:11 +0000</created>
                <updated>Tue, 4 Jun 2024 12:03:13 +0000</updated>
                            <resolved>Sat, 25 May 2024 09:45:01 +0000</resolved>
                                    <version>Repoinit JCR 1.1.46</version>
                                    <fixVersion>Repoinit JCR 1.1.48</fixVersion>
                                    <component>Repoinit</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 22 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1pdw0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12322] Stream Reader should Return SC_OK if content length is less than specified range</title>
                <link>https://issues.apache.org/jira/browse/SLING-12322</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;if the Request contains following header :&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Range: bytes=0-8388607 &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;and file length is less than this, then we should return SC_OK(200) instead of&#160;&lt;br/&gt;
SC_PARTIAL_CONTENT(206).&lt;/p&gt;</description>
                <environment></environment>
        <key id="13580198">SLING-12322</key>
            <summary>Stream Reader should Return SC_OK if content length is less than specified range</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="abhigarg">Abhishek Garg</reporter>
                        <labels>
                    </labels>
                <created>Thu, 23 May 2024 04:34:35 +0000</created>
                <updated>Thu, 23 May 2024 05:44:46 +0000</updated>
                            <resolved>Thu, 23 May 2024 05:44:36 +0000</resolved>
                                    <version>Servlets Get 2.2.0</version>
                                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17848813" author="abhigarg" created="Thu, 23 May 2024 04:49:35 +0000"  >&lt;p&gt;create a draft PR &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-servlets-get/pull/14&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-servlets-get/pull/14&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17848818" author="kwin" created="Thu, 23 May 2024 05:33:17 +0000"  >&lt;p&gt;I don&#8217;t think this is compliant with &lt;a href=&quot;https://datatracker.ietf.org/doc/html/rfc7233#section-4.1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://datatracker.ietf.org/doc/html/rfc7233#section-4.1&lt;/a&gt;. What actual issue are you trying to solve?&lt;/p&gt;</comment>
                            <comment id="17848822" author="abhigarg" created="Thu, 23 May 2024 05:44:19 +0000"  >&lt;p&gt;This PR was handling the case when the request with the RANGE header and response size was less than the RANGE HEADER.&lt;/p&gt;

&lt;p&gt;Apparently, this is against HTTP RFC &lt;a href=&quot;https://greenbytes.de/tech/webdav/rfc9110.html#field.range&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://greenbytes.de/tech/webdav/rfc9110.html#field.range&lt;/a&gt;&lt;br/&gt;
marking this as closed.&lt;/p&gt;

&lt;p&gt;thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt;&#160;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 22 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1pdp4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12315] A race condition leads to failing resource-bundle registration during deactivation</title>
                <link>https://issues.apache.org/jira/browse/SLING-12315</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The following exception was observed:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[sling-&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-5-ResourceBundleProvider: reload all resource bundles] org.apache.sling.commons.scheduler.impl.QuartzScheduler Exception during job execution of job &lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.sling.i18n.impl.JcrResourceBundleProvider$1@688bc8e&apos;&lt;/span&gt; with name &lt;span class=&quot;code-quote&quot;&gt;&apos;ResourceBundleProvider: reload all resource bundles&apos;&lt;/span&gt; : Cannot invoke &lt;span class=&quot;code-quote&quot;&gt;&quot;org.osgi.framework.BundleContext.registerService(java.lang.&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;, java.util.Dictionary)&quot;&lt;/span&gt; because &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.bundleContext&quot;&lt;/span&gt; is nulljava.lang.NullPointerException: Cannot invoke &lt;span class=&quot;code-quote&quot;&gt;&quot;org.osgi.framework.BundleContext.registerService(java.lang.&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;, java.util.Dictionary)&quot;&lt;/span&gt; because &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.bundleContext&quot;&lt;/span&gt; is &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; at&#160; org.apache.sling.i18n.impl.JcrResourceBundleProvider.registerResourceBundle(JcrResourceBundleProvider.java:532) [org.apache.sling.i18n:2.6.2]&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;During the deactivation of JcrResourceBundleProvider, ReloadBundle jobs that are still running can try to register new resourceBundles. This fails, if deactivate already set bundleContext to null.&#160;&lt;/p&gt;

&lt;p&gt;Proposed solution:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Simplify and improve the thread-safety model by encapsulating bundle service registration/deregistration and bookkeeping in the new class ResourceBundleRegistry.&lt;/li&gt;
	&lt;li&gt;The thread-safety concerns related to registration, deregistration, bookkeeping of the resource bundles and of their associated service registrations are encapsulated in the new class.&#160;&lt;/li&gt;
	&lt;li&gt;The object is created in the activate method and closed in the deactivated method.&lt;/li&gt;
	&lt;li&gt;The new class receives bundleContext in the constructor, removing the need for a field in JcrResourceBundleProvider.&lt;/li&gt;
	&lt;li&gt;The isClosed state of the new class is used as a cancel flag during deactivation to prevent new registrations, processing of new onChange events and scheduling new bundle reloading jobs during deactivation.&lt;/li&gt;
	&lt;li&gt;Add unit tests for interleaved registration, clearing, deactivation.&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="13578628">SLING-12315</key>
            <summary>A race condition leads to failing resource-bundle registration during deactivation</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ecolombo">Elia Colombo</assignee>
                                    <reporter username="ecolombo">Elia Colombo</reporter>
                        <labels>
                    </labels>
                <created>Wed, 8 May 2024 15:32:52 +0000</created>
                <updated>Tue, 27 Aug 2024 09:41:11 +0000</updated>
                            <resolved>Thu, 22 Aug 2024 08:49:56 +0000</resolved>
                                    <version>i18n 2.6.2</version>
                                    <fixVersion>I18N Support 2.6.4</fixVersion>
                                    <component>i18n</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 24 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1p41s:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12308] Potential ArrayIndexOutOfBoundsException with global transformers</title>
                <link>https://issues.apache.org/jira/browse/SLING-12308</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When several global transformers are configured but one of them does not match the current request, an ArrayIndexOutOfBoundsException might be thrown as the code assumes all transformers match.&lt;br/&gt;
This only happens if there is a matching transformer &lt;b&gt;after&lt;/b&gt; one that does not match. If it is the other way round, the code works.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13577666">SLING-12308</key>
            <summary>Potential ArrayIndexOutOfBoundsException with global transformers</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Tue, 30 Apr 2024 04:33:45 +0000</created>
                <updated>Fri, 3 May 2024 12:37:48 +0000</updated>
                            <resolved>Tue, 30 Apr 2024 09:01:52 +0000</resolved>
                                    <version>Rewriter 1.4.2</version>
                                    <fixVersion>Rewriter 1.4.4</fixVersion>
                                    <component>General</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17842306" author="cziegeler" created="Tue, 30 Apr 2024 09:01:52 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-rewriter/commit/26976e1b370ef2734428dc80ba3ae2fec3f0351b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-rewriter/commit/26976e1b370ef2734428dc80ba3ae2fec3f0351b&lt;/a&gt;&lt;br/&gt;
Added test case&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 25 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1oy4o:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12306] Sling mock: JUnit 5 parallel execution results in unregistered adapter factories</title>
                <link>https://issues.apache.org/jira/browse/SLING-12306</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;We have junit-jupiter.properties:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
junit.jupiter.execution.parallel.enabled = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
junit.jupiter.execution.parallel.mode.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; = same_thread
junit.jupiter.execution.parallel.mode.classes.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; = concurrent &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;And this results, randomly everytime, in lots of tests failing because of missing adapter factories.&lt;br/&gt;
&#160;&lt;br/&gt;
We sometimes see that `boundAdapterFactories` is an empty list. Sometimes we see that `factoryCache` is a filled map, with all value lists empty.&lt;br/&gt;
&#160;&lt;br/&gt;
We usually see the expected `descriptors` having variable content. One time it has 4 entries for o.a.s.a.r.Resource, the other run it has 5 entries.&lt;br/&gt;
&#160;&lt;br/&gt;
I believe this is a concurrency issue somehow. I can reproduce it on older versions as well (previously we couldn&apos;t). So there could also be something with dependencies involved.&#160;&lt;br/&gt;
&#160;&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;More specifically, we seem to get a lot of these stack traces like this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
java.lang.RuntimeException: No page manager.
&#160; &#160; at io.wcm.testing.mock.aem.context.AemContextImpl.pageManager(AemContextImpl.java:169)
&#160; &#160; at io.wcm.testing.mock.aem.context.AemContextImpl.currentPage(AemContextImpl.java:229) &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;(also posting this for findability on search engines)&lt;/p&gt;

&lt;p&gt;And also a lot of cases where a Resource cannot be adapted to a ValueMap for example.&lt;/p&gt;

&lt;p&gt;Which boils down to the adapter factory that can adapt a ResourceResolver to a PageManager, missing or actually not registered yet.&lt;/p&gt;

&lt;p&gt;We do have the proper @ExtendWith etc setup.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13577575">SLING-12306</key>
            <summary>Sling mock: JUnit 5 parallel execution results in unregistered adapter factories</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="Henry Kuijpers">Henry Kuijpers</reporter>
                        <labels>
                    </labels>
                <created>Mon, 29 Apr 2024 13:06:04 +0000</created>
                <updated>Mon, 19 Aug 2024 08:50:52 +0000</updated>
                                                                            <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17874820" author="sseifert@pro-vision.de" created="Mon, 19 Aug 2024 08:50:52 +0000"  >&lt;p&gt;i&apos;ve seen this problem from time to time, but rather rarely, pop up in the unit test of wcm.io modules as well, but could not pin down the root cause.&lt;/p&gt;

&lt;p&gt;in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-12352&quot; title=&quot;ContentLoader XML / JSON initialisation should be done in a lazy way (when needed)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-12352&quot;&gt;&lt;del&gt;SLING-12352&lt;/del&gt;&lt;/a&gt; you wrote that you see a direct relation to this issue. do you think this is solved, or that the problem might be directly related to the code that is now loaded lazily with &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-12352&quot; title=&quot;ContentLoader XML / JSON initialisation should be done in a lazy way (when needed)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-12352&quot;&gt;&lt;del&gt;SLING-12352&lt;/del&gt;&lt;/a&gt;?&lt;/p&gt;

&lt;p&gt;i&apos;m wondering if there is a way to write a unit test to reproduce this problem, or somehow force it occurence by certain conditions.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13582369">SLING-12352</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 9 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1oxkg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12305] Build fails on Java 21 due to invoker plug-in: Unsupported class file major version 65</title>
                <link>https://issues.apache.org/jira/browse/SLING-12305</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The invoker plugin-ins runs groovy scripts in the &lt;tt&gt;verify&lt;/tt&gt; goal, and this fails on Java 21 with&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[INFO] --- invoker:3.5.1:integration-test (integration-test) @ slingfeature-maven-plugin ---
[INFO] Building: analyzer-apiregions-errors-detected/pom.xml
[INFO] run post-build script verify.groovy
[INFO]   BUG! exception in phase &apos;semantic analysis&apos; in source unit &apos;Script1.groovy&apos; Unsupported class file major version 65
[INFO]           analyzer-apiregions-errors-detected/pom.xml ...... FAILED (3.0 s)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The stack trace seems to indicate that Groovy tries to parse Java 21 bytecode and fails.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Caused by: java.lang.IllegalArgumentException: Unsupported class file major version 65
	at groovyjarjarasm.asm.ClassReader.&amp;lt;init&amp;gt;(ClassReader.java:199)
	at groovyjarjarasm.asm.ClassReader.&amp;lt;init&amp;gt;(ClassReader.java:180)
	at groovyjarjarasm.asm.ClassReader.&amp;lt;init&amp;gt;(ClassReader.java:166)
	at groovyjarjarasm.asm.ClassReader.&amp;lt;init&amp;gt;(ClassReader.java:287)
	at org.codehaus.groovy.ast.decompiled.AsmDecompiler.parseClass(AsmDecompiler.java:83)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13577169">SLING-12305</key>
            <summary>Build fails on Java 21 due to invoker plug-in: Unsupported class file major version 65</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 25 Apr 2024 07:57:26 +0000</created>
                <updated>Wed, 26 Jun 2024 09:05:29 +0000</updated>
                            <resolved>Thu, 25 Apr 2024 08:41:47 +0000</resolved>
                                    <version>OSGi Feature Maven Plugin 1.8.0</version>
                                    <fixVersion>OSGi Feature Maven Plugin 1.8.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 26 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1ov3s:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12304] Broken backwards compatibility: out of order json object</title>
                <link>https://issues.apache.org/jira/browse/SLING-12304</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The fix of CVE-2022-47937 introduced an invalid backwards compatibility for the order in jsonobject.&lt;/p&gt;

&lt;p&gt;New behaviour: has the keys unordered, as JsonObject uses a HashMap.&lt;/p&gt;

&lt;p&gt;Old behaviour: Kept insertion order of keys as JsonObject used LinkedHashMap.&lt;/p&gt;

&lt;p&gt;To no break existing users of the library, reestablish the old behaviour.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13577153">SLING-12304</key>
            <summary>Broken backwards compatibility: out of order json object</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rliechti">Remo Liechti</assignee>
                                    <reporter username="rliechti">Remo Liechti</reporter>
                        <labels>
                    </labels>
                <created>Thu, 25 Apr 2024 06:12:43 +0000</created>
                <updated>Mon, 29 Apr 2024 08:55:31 +0000</updated>
                            <resolved>Thu, 25 Apr 2024 11:16:31 +0000</resolved>
                                    <version>Commons JSON 2.0.26</version>
                                    <fixVersion>Commons JSON 2.0.28</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17840760" author="rombert" created="Thu, 25 Apr 2024 11:16:31 +0000"  >&lt;p&gt;PR applied, thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rliechti&quot; class=&quot;user-hover&quot; rel=&quot;rliechti&quot;&gt;rliechti&lt;/a&gt;!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 25 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1ov08:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12303] Global transformers are not sorted by service ranking</title>
                <link>https://issues.apache.org/jira/browse/SLING-12303</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The service ranking of a transformer (factory) is used to determine its position in the rewriter pipeline. However, the transformers are not ordered according to their ranking which makes the order unpredictable.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13577060">SLING-12303</key>
            <summary>Global transformers are not sorted by service ranking</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Wed, 24 Apr 2024 12:06:47 +0000</created>
                <updated>Mon, 29 Apr 2024 05:02:16 +0000</updated>
                            <resolved>Wed, 24 Apr 2024 12:12:21 +0000</resolved>
                                    <version>Rewriter 1.4.0</version>
                                    <fixVersion>Rewriter 1.4.2</fixVersion>
                                    <component>General</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17840410" author="cziegeler" created="Wed, 24 Apr 2024 12:12:21 +0000"  >&lt;p&gt;Added sorting and improved logging in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-rewriter/commit/c98017bc16ee3355dcd00fe080b9c93e387f18dd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-rewriter/commit/c98017bc16ee3355dcd00fe080b9c93e387f18dd&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 26 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1oufk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12302] CA Config access syntax is inconsistent in HTL</title>
                <link>https://issues.apache.org/jira/browse/SLING-12302</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I have a problem understanding how nested configs can be accessed in HTL or if there is a bug in the implementation.&lt;/p&gt;

&lt;p&gt;The &lt;a href=&quot;https://sling.apache.org/documentation/bundles/context-aware-configuration/context-aware-configuration.html#accessing-configuration-from-htlsightly-templates&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;documentation&lt;/a&gt; gives an example:&lt;br/&gt;
&lt;tt&gt;${caconfig&lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;#39;x.y.z.ConfigSample&amp;#39;&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;#39;nestedConfig/stringParam&amp;#39;&amp;#93;&lt;/span&gt;&lt;/tt&gt;}&lt;/p&gt;

&lt;p&gt;However, it doesn&apos;t work when a configuration annotation class is defined.&lt;/p&gt;

&lt;p&gt;Steps to reproduce:&lt;br/&gt;
1. Create a config node:&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;/conf/we-retail/sling:configs/us/en/sling:configs/com.mysite.core.config.TestConfig&lt;/tt&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;?xml version=&lt;span class=&quot;code-quote&quot;&gt;&quot;1.0&quot;&lt;/span&gt; encoding=&lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt;?&amp;gt;&lt;/span&gt;
&amp;lt;jcr:root &lt;span class=&quot;code-keyword&quot;&gt;xmlns:sling&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://sling.apache.org/jcr/sling/1.0&quot;&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;xmlns:jcr&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;http://www.jcp.org/jcr/1.0&quot;&lt;/span&gt;
          jcr:primaryType=&lt;span class=&quot;code-quote&quot;&gt;&quot;sling:OsgiConfig&quot;&lt;/span&gt;
          email=&lt;span class=&quot;code-quote&quot;&gt;&quot;test@example.com&quot;&lt;/span&gt;
          enabled=&lt;span class=&quot;code-quote&quot;&gt;&quot;{Boolean}true&quot;&lt;/span&gt;
          number=&lt;span class=&quot;code-quote&quot;&gt;&quot;{Long}123&quot;&lt;/span&gt;&amp;gt;
    &amp;lt;nested
            jcr:primaryType=&lt;span class=&quot;code-quote&quot;&gt;&quot;sling:OsgiConfig&quot;&lt;/span&gt;
            greeting=&lt;span class=&quot;code-quote&quot;&gt;&quot;hello&quot;&lt;/span&gt;/&amp;gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/jcr:root&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;and reference it from some path.&lt;/p&gt;

&lt;p&gt;2. Access in HTL without configuration annotation class:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Email: ${caconfig[&lt;span class=&quot;code-quote&quot;&gt;&apos;com.mysite.core.config.TestConfig&apos;&lt;/span&gt;].email}
&lt;span class=&quot;code-object&quot;&gt;Number&lt;/span&gt;: ${caconfig[&lt;span class=&quot;code-quote&quot;&gt;&apos;com.mysite.core.config.TestConfig&apos;&lt;/span&gt;].number}
Enabled: ${caconfig[&lt;span class=&quot;code-quote&quot;&gt;&apos;com.mysite.core.config.TestConfig&apos;&lt;/span&gt;].enabled}

Greeting (config path): ${caconfig[&lt;span class=&quot;code-quote&quot;&gt;&apos;com.mysite.core.config.TestConfig/nested&apos;&lt;/span&gt;].greeting}
Greeting (property path): ${caconfig[&lt;span class=&quot;code-quote&quot;&gt;&apos;com.mysite.core.config.TestConfig&apos;&lt;/span&gt;][&lt;span class=&quot;code-quote&quot;&gt;&apos;nested/greeting&apos;&lt;/span&gt;]} &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This gives the output:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Email: test@example.com
&lt;span class=&quot;code-object&quot;&gt;Number&lt;/span&gt;: 123
Enabled: &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;

Greeting (config path): hello
Greeting (property path): hello &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;It works as expected.&lt;/p&gt;

&lt;p&gt;3. Create annotation classes:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; com.mysite.core.config;

&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.sling.caconfig.annotation.Configuration;

@Configuration
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; @&lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; TestConfig {
    &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; email();
    &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; number() &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; 5;
    &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; enabled();
    NestedConfig nested();
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;and&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; com.mysite.core.config;

&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; @&lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; NestedConfig {
    &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; greeting();
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The previous HTL will print:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Email: test@example.com
&lt;span class=&quot;code-object&quot;&gt;Number&lt;/span&gt;: 123
Enabled: &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;

Greeting (config path): hello
Greeting (property path): &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Accessing nested config value with property name path doesn&apos;t work. Is it expected?&lt;/p&gt;

&lt;p&gt;I&apos;m working on support for CA Configs in AEM IDE, so I don&apos;t want to make it work in my AEM application but provide the correct syntax support.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13577014">SLING-12302</key>
            <summary>CA Config access syntax is inconsistent in HTL</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="4" iconUrl="https://issues.apache.org/jira/images/icons/statuses/reopened.png" description="This issue was once resolved, but the resolution was deemed incorrect. From here issues are either marked assigned or resolved.">Reopened</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="karol.lewandowski">Karol Lewandowski</reporter>
                        <labels>
                    </labels>
                <created>Wed, 24 Apr 2024 06:18:32 +0000</created>
                <updated>Mon, 13 May 2024 14:59:39 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17840363" author="sseifert@pro-vision.de" created="Wed, 24 Apr 2024 09:50:47 +0000"  >&lt;p&gt;the first syntax&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;${caconfig[&apos;com.mysite.core.config.TestConfig/nested&apos;].greeting} &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;should be used.&lt;/p&gt;

&lt;p&gt;that the second syntax with&#160;&lt;tt&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;#39;nested/greeting&amp;#39;&amp;#93;&lt;/span&gt;&lt;/tt&gt; is working is probably only by chance, as a normal value map is used if not annotation class is used, and that supports by default accessing deeper resource hierarchy levels via property access. this is not the case if annotation class is used, because there the value map is constructed by other means, e.g. to support the default values that may be defined in the annotation class.&lt;/p&gt;

&lt;p&gt;sidenote: you should not use &lt;tt&gt;jcr:primaryType=&quot;sling:OsgiConfig&quot;&lt;/tt&gt; in context of caconfig - it&apos;s only use is for defining osgi configurations in the JCR repository, so using it here could have unwanted side-effect. just use nt:unstructured (unless you are using a different persistence strategy e.g. &lt;a href=&quot;https://wcm.io/caconfig/extensions/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://wcm.io/caconfig/extensions/&lt;/a&gt; for storing in cq:Page objects).&lt;/p&gt;</comment>
                            <comment id="17840487" author="karol.lewandowski" created="Wed, 24 Apr 2024 15:31:41 +0000"  >&lt;p&gt;Thanks for the answer and the side note (I copied it from some unofficial example and wasn&apos;t aware it was incorrect).&lt;/p&gt;

&lt;p&gt;I provided the PR with the fix in the documentation:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/sling-site/pull/160&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-site/pull/160&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17840838" author="sseifert@pro-vision.de" created="Thu, 25 Apr 2024 14:55:29 +0000"  >&lt;p&gt;thanks, i&apos;ve merged the PR&lt;/p&gt;</comment>
                            <comment id="17843164" author="karol.lewandowski" created="Fri, 3 May 2024 09:23:51 +0000"  >&lt;p&gt;Hi, I have additional questions, if you don&apos;t mind. If there is a better channel for this, please let me know.&lt;/p&gt;

&lt;p&gt;1. I noticed that accessing nested configuration takes metadata from the parent config resources.&lt;br/&gt;
Examples:&lt;br/&gt;
1. &lt;tt&gt;${caconfig&lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;#39;com.example.Config/nested&amp;#39;&amp;#93;&lt;/span&gt;&lt;/tt&gt;} - this will take default values from &lt;tt&gt;com.example.Config&lt;/tt&gt; annotation.&lt;br/&gt;
2. &lt;tt&gt;${caconfig&lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;#39;com.example.Config/nested/subnested&amp;#39;&amp;#93;&lt;/span&gt;&lt;/tt&gt;} - this will also take default values from &lt;tt&gt;com.example.Config&lt;/tt&gt; annotation.&lt;/p&gt;

&lt;p&gt;This is the code responsible for this behavior:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-caconfig-impl/blob/master/src/main/java/org/apache/sling/caconfig/impl/ConfigurationBuilderImpl.java#L259-L269&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-caconfig-impl/blob/master/src/main/java/org/apache/sling/caconfig/impl/ConfigurationBuilderImpl.java#L259-L269&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Correct me if I&apos;m wrong, but I think that it is quite uncommon for nested configuration resource properties to match the keys of parent properties.&lt;br/&gt;
There is a comment: &quot;probably a configuration list - remove item name from end&quot;, but it is unclear.&lt;/p&gt;

&lt;p&gt;Why a nested configuration is considered a potential list and how is it related to default values of the parent?&lt;/p&gt;

&lt;p&gt;2. Is it expected that it is not possible to iterate nested configurations in HTL?&lt;br/&gt;
I mean something like this:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;/conf/we-retail/sling:configs/us/en/sling:configs
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;com.example.Config
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;nestedList
			&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
				&lt;li&gt;item1&lt;/li&gt;
				&lt;li&gt;item2&lt;/li&gt;
				&lt;li&gt;item3&lt;/li&gt;
			&lt;/ul&gt;
			&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Annotations:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; com.example;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.sling.caconfig.annotation.Configuration;

@Configuration
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; @&lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; Config {
  NestedConfig[] nestedList();
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; com.example;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; @&lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; NestedConfig {
  &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; message();
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Access in HTL:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;lt;ul data-sly-list=&lt;span class=&quot;code-quote&quot;&gt;&quot;$\{caconfig[&lt;span class=&quot;code-quote&quot;&gt;&apos;com.example.Config/nestedList&apos;&lt;/span&gt;]}&quot;&lt;/span&gt;&amp;gt;
  ${item.message}
&amp;lt;/ul&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Unfortunately, it doesn&apos;t work. The iteration is performed on the &lt;tt&gt;com.example.Config/nestedList&lt;/tt&gt; resource instead of items, which is an iteration over its value map keys.&lt;/p&gt;

&lt;p&gt;Is it expected? Is creating a Sling Model the only way to iterate over a nested list?&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Also, a general question: are there any general rules that shape the CA Config support in HTL?&lt;/p&gt;</comment>
                            <comment id="17845977" author="sseifert@pro-vision.de" created="Mon, 13 May 2024 14:59:39 +0000"  >&lt;p&gt;for 1.: this looks like a bug, i assume that it probably not only affects HTL context, but in general. i think it would be worth creating a dedicated issue for it, probably with a unit test case, if possible.&lt;/p&gt;

&lt;p&gt;for 2: i&apos;m not sure how much this syntax to fetch complex caconfigs directly from HTL is used in practice - probably not so much, esp. considering the fact you are the first asking that detailed questions after all that years it&apos;s available... i think there is no easy way to iterate over nested child lists, and currently we do not plan to add support for that, unless there is a high need. i think in most cases caconfigs are consumed in sling models, and consumed in HTL from there. a benefit of that approach is to use strong typing and compile-time check.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 23 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1ou5c:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12298] Repoinit Script Not Respecting the Order of ACLs in set ACL</title>
                <link>https://issues.apache.org/jira/browse/SLING-12298</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;In short, the Repoinit parser doesn&apos;t appear to respect the order of deny-allow in the set ACL commands.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I had a script like so:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-comment&quot;&gt;// code placeholder
&lt;/span&gt;{
    &lt;span class=&quot;code-quote&quot;&gt;&quot;scripts&quot;&lt;/span&gt;: [
        &lt;span class=&quot;code-quote&quot;&gt;&quot;create group test-fragments-editors with path /home/groups/forms&quot;&lt;/span&gt;,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;set ACL on /content/dam/formsanddocuments/&amp;lt;project&amp;gt;\n   remove * &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; forms-users\n  deny jcr:all &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; forms-users restriction(rep:glob,/&amp;lt;fragments_root&amp;gt;)\n    allow jcr:read,crx:replicate &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; forms-users restriction(rep:glob,/&amp;lt;fragments_root&amp;gt;)\n    allow jcr:all &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; test-fragments-editors restriction(rep:glob,/&amp;lt;fragments_root&amp;gt;)\nend&quot;&lt;/span&gt;,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;set ACL on /content/forms/af/&amp;lt;project&amp;gt;\n   remove * &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; forms-users\n  deny jcr:all &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; forms-users restriction(rep:glob,/&amp;lt;fragments_root&amp;gt;)\n    allow jcr:read,crx:replicate &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; forms-users restriction(rep:glob,/&amp;lt;fragments_root&amp;gt;)\n    allow jcr:all restriction(rep:glob,/&amp;lt;fragments_root&amp;gt;)&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; test-fragments-editors\nend&quot;&lt;/span&gt;&quot;
    ]
} &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I would expect the resulting nodes would match the order defined in the script, like so:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-comment&quot;&gt;// expected node output under /content/dam|forms/formsanddocuments|af/&amp;lt;project&amp;gt;
&lt;/span&gt;-rep:policy
- deny (forms-useers)
- allow1 (forms-users)
- allow2 (test-fragments-editors) &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;But instead it was:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-comment&quot;&gt;// example node output under /content/dam|forms/formsanddocuments|af/&amp;lt;project&amp;gt;
&lt;/span&gt;-rep:policy
    - allow (test-fragments-editors)
    - deny1 (forms-users)
    - allow2 (forms-users)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Which resulted in a user who is a member of both groups being assigned the more restrictive permissions. For it to work, I had to put each deny-allow in a separate set ACL line like so:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-comment&quot;&gt;// code placeholder
&lt;/span&gt;{
    &lt;span class=&quot;code-quote&quot;&gt;&quot;scripts&quot;&lt;/span&gt;: [
        &lt;span class=&quot;code-quote&quot;&gt;&quot;create group test-fragments-editors with path /home/groups/forms&quot;&lt;/span&gt;,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;set ACL on /content/dam/formsanddocuments/&amp;lt;project&amp;gt;\n   remove * &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; forms-users\nend&quot;&lt;/span&gt;,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;set ACL on /content/dam/formsanddocuments/&amp;lt;project&amp;gt;\n   deny jcr:all &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; forms-users restriction(rep:glob,/&amp;lt;fragments_root&amp;gt;)\nend&quot;&lt;/span&gt;,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;set ACL on /content/dam/formsanddocuments/&amp;lt;project&amp;gt;\n    allow jcr:read,crx:replicate &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; forms-users restriction(rep:glob,/&amp;lt;fragments_root&amp;gt;)\nend&quot;&lt;/span&gt;,
        &lt;span class=&quot;code-quote&quot;&gt;&quot;set ACL on /content/dam/formsanddocuments/&amp;lt;project&amp;gt;\n   allow jcr:all &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; test-fragments-editors restriction(rep:glob,/&amp;lt;fragments_root&amp;gt;)\nend&quot;&lt;/span&gt;,
        ...
    ]
} &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13576258">SLING-12298</key>
            <summary>Repoinit Script Not Respecting the Order of ACLs in set ACL</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="scurtis">Sean Curtis</reporter>
                        <labels>
                    </labels>
                <created>Wed, 17 Apr 2024 18:58:42 +0000</created>
                <updated>Wed, 17 Apr 2024 18:58:42 +0000</updated>
                                            <version>Repoinit Parser 1.6.14</version>
                    <version>Repoinit JCR 1.1.38</version>
                                                    <component>Repoinit</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 27 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1ophs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12291] Broken backwards compatibility for duplicated keys</title>
                <link>https://issues.apache.org/jira/browse/SLING-12291</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The fix of CVE-2022-47937 introduced an invalid backwards compatibility for duplicated keys in a json.&lt;/p&gt;

&lt;p&gt;New behaviour: throws an exception on duplicated keys&lt;/p&gt;

&lt;p&gt;Old behaviour: ignores the fact and is able to process json with duplicated keys.&lt;/p&gt;

&lt;p&gt;To no break existing users of the library, reestablish the old behaviour.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13575504">SLING-12291</key>
            <summary>Broken backwards compatibility for duplicated keys</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rliechti">Remo Liechti</assignee>
                                    <reporter username="rliechti">Remo Liechti</reporter>
                        <labels>
                    </labels>
                <created>Thu, 11 Apr 2024 15:03:01 +0000</created>
                <updated>Wed, 17 Apr 2024 15:49:32 +0000</updated>
                            <resolved>Fri, 12 Apr 2024 07:41:16 +0000</resolved>
                                    <version>Commons JSON 2.0.24</version>
                                    <fixVersion>Commons JSON 2.0.26</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17836448" author="rombert" created="Fri, 12 Apr 2024 07:41:16 +0000"  >&lt;p&gt;PR applied, thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rliechti&quot; class=&quot;user-hover&quot; rel=&quot;rliechti&quot;&gt;rliechti&lt;/a&gt;!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 27 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1okug:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12286] Tenant build fails with Java 17 or newer</title>
                <link>https://issues.apache.org/jira/browse/SLING-12286</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.038 s &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.sling.tenant.internal.TenantProviderImplTest&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; org.apache.sling.tenant.internal.TenantProviderImplTest.testListTenantsWithoutTenantRoot  Time elapsed: 0.036 s  &amp;lt;&amp;lt;&amp;lt; ERROR!&lt;br/&gt;
java.lang.ExceptionInInitializerError&lt;br/&gt;
	at org.mockito.cglib.core.KeyFactory$Generator.generateClass(KeyFactory.java:167)&lt;/p&gt;</description>
                <environment></environment>
        <key id="13575446">SLING-12286</key>
            <summary>Tenant build fails with Java 17 or newer</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 11 Apr 2024 08:49:57 +0000</created>
                <updated>Fri, 19 Apr 2024 13:44:27 +0000</updated>
                            <resolved>Thu, 11 Apr 2024 09:05:45 +0000</resolved>
                                                    <fixVersion>Tenant 1.1.8</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 28 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1okiw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12285] adding bind &amp; unbind methods mapping in reference annotation</title>
                <link>https://issues.apache.org/jira/browse/SLING-12285</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;adding bind &amp;amp; unbind methods mapping in reference annotation for tenantproviderimpl&lt;/p&gt;</description>
                <environment></environment>
        <key id="13575337">SLING-12285</key>
            <summary>adding bind &amp; unbind methods mapping in reference annotation</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="malpani@adobe.com">Gagan Malpani</assignee>
                                    <reporter username="malpani@adobe.com">Gagan Malpani</reporter>
                        <labels>
                    </labels>
                <created>Wed, 10 Apr 2024 11:19:31 +0000</created>
                <updated>Fri, 19 Apr 2024 13:44:28 +0000</updated>
                            <resolved>Thu, 11 Apr 2024 09:09:10 +0000</resolved>
                                                    <fixVersion>Tenant 1.1.8</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17835704" author="rombert" created="Wed, 10 Apr 2024 11:45:19 +0000"  >&lt;p&gt;Thanks for the report &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=malpani%40adobe.com&quot; class=&quot;user-hover&quot; rel=&quot;malpani@adobe.com&quot;&gt;malpani@adobe.com&lt;/a&gt;. Is this an actual bug? How does this manifest (log entries, etc)?&lt;/p&gt;</comment>
                            <comment id="17835741" author="JIRAUSER295641" created="Wed, 10 Apr 2024 13:48:08 +0000"  >&lt;p&gt;Hello &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt;&#160; ,&lt;/p&gt;

&lt;p&gt;Currently i am working on one of the upgrade program of product based on AEM 6.4 which has sling-org-apache-sling-tenant version 1.0.0 &amp;amp; we are updating it to AEM Version which has sling-org-apache-sling-tenant version 1.1.4.&lt;br/&gt;
We have faced issue during tenant creation.&lt;br/&gt;
&#160;On investigation , we found &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-tenant/blob/org.apache.sling.tenant-1.1.4/src/main/java/org/apache/sling/tenant/internal/TenantProviderImpl.java#L150&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;bindTenantSetup&lt;/a&gt;&#160;is not getting called but it is working in 1.0.0 .&lt;br/&gt;
Major difference between 2 releases WRT tenantproviderimpl is we have migrated from SCR annotations to OSGI annotations.&lt;br/&gt;
AFAIK bind &amp;amp; unbind should be explicitly mention in OSGI R6 annotation. Please correct me if wrong.&lt;br/&gt;
After applying fix of PR , binding is happening.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 28 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1ojuo:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12283] Configuration in Cluster mode are not in sync</title>
                <link>https://issues.apache.org/jira/browse/SLING-12283</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;font color=&quot;#172b4d&quot;&gt;Configuration in Cluster mode is not in sync. When instances are in shared mode, and a new configuration is created under 1st instance, it is not reflected correctly in 2nd instance. &lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;#172b4d&quot;&gt;The factory PID and hence properties are altered in the 2nd instance.&lt;/font&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13575195">SLING-12283</key>
            <summary>Configuration in Cluster mode are not in sync</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jsedding">Julian Sedding</assignee>
                                    <reporter username="daim">Rishabh Daim</reporter>
                        <labels>
                    </labels>
                <created>Tue, 9 Apr 2024 14:55:21 +0000</created>
                <updated>Mon, 1 Jul 2024 05:06:51 +0000</updated>
                            <resolved>Mon, 1 Jul 2024 05:06:32 +0000</resolved>
                                                    <fixVersion>Installer Configuration Factory 1.4.6</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17861063" author="jsedding" created="Mon, 1 Jul 2024 05:06:18 +0000"  >&lt;p&gt;Further analysis showed that this issue occurs when a factory configuration is manually created using the Felix webconsole. The webconsole uses the API &lt;tt&gt;ConfigurationAdmin#createFactoryConfiguration(...)&lt;/tt&gt; to create such a configuration. In contrast to the &lt;tt&gt;ConfigurationAdmin#getFactoryConfiguration(...)&lt;/tt&gt; methods, which create a &lt;tt&gt;service.pid&lt;/tt&gt; by concatenating the &lt;tt&gt;factoryPid&lt;/tt&gt;, a tilde character (&apos;~&apos;) and the &quot;name&quot; part (an arbitrary string passed by the caller), the &lt;tt&gt;ConfigurationAdmin#createFactoryConfiguration(...)&lt;/tt&gt; methods, as implemented by Felix&apos; implementation of the Configuration Admin specification, create a &lt;tt&gt;service.pid&lt;/tt&gt; by concatenating the &lt;tt&gt;factoryPid&lt;/tt&gt;, a dot character (&apos;.&apos;) and a randomly generated UUID. The UUID part cannot be controlled by the caller of the message, and thus it is impossible to re-create a factory configuration with the exact same &lt;tt&gt;service.pid&lt;/tt&gt; on a second cluster node.&lt;/p&gt;

&lt;p&gt;The strategy implemented in PR #15 works as follows:&lt;br/&gt;
(1) The &lt;tt&gt;ConfigTaskCreator&lt;/tt&gt; class, which implements the &lt;tt&gt;ResourceTransformer&lt;/tt&gt; interface, already extracts the &lt;tt&gt;service.pid&lt;/tt&gt;, and in the case of a factory configuration the &lt;tt&gt;factoryPid&lt;/tt&gt;, from the filename of a &lt;tt&gt;RegisteredResource&lt;/tt&gt; representing a configuration. In this extraction logic, the &lt;tt&gt;service.pid&lt;/tt&gt; extracted from the filename is first matched against the format of configurations created using Felix&apos; &lt;tt&gt;ConfigurationAdmin#createFactoryConfiguration(...)&lt;/tt&gt; implementation, and the &lt;tt&gt;factoryPid&lt;/tt&gt; and &lt;tt&gt;name&lt;/tt&gt; are extracted. If it doesn&apos;t match, the previous logic, looking for a &apos;~&apos; separator etc is used.&lt;br/&gt;
(2) In the &lt;tt&gt;ConfigUtil#getConfiguration(...)&lt;/tt&gt; method, which is used to check if a given configuration already exists, a check for a configuration using a &quot;legacy naming convention&quot; is used if no configuration was found with a name following the expected &apos;~&apos; separated format.&lt;/p&gt;

&lt;p&gt;With these two changes the behaviour is as follows:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;a factory configuration is created on cluster node A using the webconsole&lt;/li&gt;
	&lt;li&gt;via &lt;tt&gt;org.apache.sling.installer.provider.jcr&lt;/tt&gt;, the configuration is persisted in the JCR repository using the format &lt;tt&gt;&amp;lt;factoryPid&amp;gt;.&amp;lt;random uuid&amp;gt;&lt;/tt&gt;&lt;/li&gt;
	&lt;li&gt;cluster node A sees the new RegisteredResource for the configuration, but finds a &quot;live&quot; configuration via the legacy support from point (2) above&lt;/li&gt;
	&lt;li&gt;cluster node B sees the new RegisteredResource for the configuration, doesn&apos;t find a matching &quot;live&quot; configuration, and adds the configuration in the format &lt;tt&gt;&amp;lt;factoryPid&amp;gt;~&amp;lt;name&amp;gt;&lt;/tt&gt;, where &lt;tt&gt;&amp;lt;name&amp;gt;&lt;/tt&gt; is the same uuid used on cluster node A&lt;/li&gt;
&lt;/ol&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 16 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1oiz4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12270] Fix null paths in PackageMessage</title>
                <link>https://issues.apache.org/jira/browse/SLING-12270</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The custom builder caused an issue where a packagemessage created with defaults would have null in the paths property. This can cause NPE in other code.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13572712">SLING-12270</key>
            <summary>Fix null paths in PackageMessage</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cschneider">Christian Schneider</assignee>
                                    <reporter username="cschneider">Christian Schneider</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 Mar 2024 15:25:07 +0000</created>
                <updated>Thu, 21 Mar 2024 11:12:14 +0000</updated>
                            <resolved>Thu, 21 Mar 2024 11:12:14 +0000</resolved>
                                    <version>Content Distribution Journal Messages 0.5.6</version>
                                    <fixVersion>Content Distribution Journal Messages 0.5.10</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 31 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1o41k:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12269] Restore previous behaviour of JSONObject and JSONArray getString methods</title>
                <link>https://issues.apache.org/jira/browse/SLING-12269</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;With the new internal release 2.0.22, there seems to be a different behaviour when it comes to get values from JSONObject.&lt;/p&gt;

&lt;p&gt;The new version checks for types and throws an exception, as of the old version simply called toString() on any object found.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Old:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; getString(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; key) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; JSONException {
&#160; &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; get(key).toString();
}&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;b&gt;New:&lt;/b&gt;&lt;br/&gt;
{{}}&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; getString(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; key) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; JSONException {
&#160; Objectobject=&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.get(key);
&#160; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (objectinstanceofString) {
&#160; &#160; &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;) object;
&#160; &#160; &#160;}
&#160; throwwrongValueFormatException(key, &lt;span class=&quot;code-quote&quot;&gt;&quot;string&quot;&lt;/span&gt;, object, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;);
}&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;br/&gt;
Same is true for all other types, such as getInt, getLong etc.&lt;/p&gt;

&lt;p&gt;There might be more such small differences in behaviour.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13572435">SLING-12269</key>
            <summary>Restore previous behaviour of JSONObject and JSONArray getString methods</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rliechti">Remo Liechti</assignee>
                                    <reporter username="rliechti">Remo Liechti</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 Mar 2024 15:26:49 +0000</created>
                <updated>Mon, 26 May 2025 13:11:10 +0000</updated>
                            <resolved>Wed, 20 Mar 2024 12:08:59 +0000</resolved>
                                                    <fixVersion>Commons JSON 2.0.24</fixVersion>
                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17828419" author="rombert" created="Tue, 19 Mar 2024 15:39:26 +0000"  >&lt;p&gt;Thanks for the report &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rliechti&quot; class=&quot;user-hover&quot; rel=&quot;rliechti&quot;&gt;rliechti&lt;/a&gt;. I would like to understand what methods are affected, so here&apos;s a comparison table:&lt;/p&gt;

&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Method&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt;Version 2.0.20&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Version 2.0.22&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; Change? &lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;JSONObject.getString&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-commons-json/blob/43d3030dbb967232d129ed19f79d0b89b82f4965/src/main/java/org/apache/sling/commons/json/JSONObject.java#L487-L489&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-commons-json/blob/43d3030dbb967232d129ed19f79d0b89b82f4965/src/main/java/org/apache/sling/commons/json/JSONObject.java#L487-L489&lt;/a&gt;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;  &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-commons-json/blob/7a15fe774b6892c770af4d7ad12aa1d1bd7f976c/src/main/java/org/apache/sling/commons/json/JSONObject.java#L913-L919&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-commons-json/blob/7a15fe774b6892c770af4d7ad12aa1d1bd7f976c/src/main/java/org/apache/sling/commons/json/JSONObject.java#L913-L919&lt;/a&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/warning.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Yes, 2.0.22 fails if value is not string &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; JSONObject.getBoolean &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-commons-json/blob/43d3030dbb967232d129ed19f79d0b89b82f4965/src/main/java/org/apache/sling/commons/json/JSONObject.java#L375-L388&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-commons-json/blob/43d3030dbb967232d129ed19f79d0b89b82f4965/src/main/java/org/apache/sling/commons/json/JSONObject.java#L375-L388&lt;/a&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-commons-json/blob/7a15fe774b6892c770af4d7ad12aa1d1bd7f976c/src/main/java/org/apache/sling/commons/json/JSONObject.java#L663-L675&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-commons-json/blob/7a15fe774b6892c770af4d7ad12aa1d1bd7f976c/src/main/java/org/apache/sling/commons/json/JSONObject.java#L663-L675&lt;/a&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; No, both versions need either &quot;true&quot; or &quot;false&quot;, case insensitive &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; JSonObject.getDouble &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-commons-json/blob/43d3030dbb967232d129ed19f79d0b89b82f4965/src/main/java/org/apache/sling/commons/json/JSONObject.java#L398-L408&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-commons-json/blob/43d3030dbb967232d129ed19f79d0b89b82f4965/src/main/java/org/apache/sling/commons/json/JSONObject.java#L398-L408&lt;/a&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-commons-json/blob/43d3030dbb967232d129ed19f79d0b89b82f4965/src/main/java/org/apache/sling/commons/json/JSONObject.java#L398-L408&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-commons-json/blob/43d3030dbb967232d129ed19f79d0b89b82f4965/src/main/java/org/apache/sling/commons/json/JSONObject.java#L398-L408&lt;/a&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; No, both versions check for &lt;tt&gt;Number&lt;/tt&gt; and try to parse if needed &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; JSonObject.getInt &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-commons-json/blob/43d3030dbb967232d129ed19f79d0b89b82f4965/src/main/java/org/apache/sling/commons/json/JSONObject.java#L420-L424&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-commons-json/blob/43d3030dbb967232d129ed19f79d0b89b82f4965/src/main/java/org/apache/sling/commons/json/JSONObject.java#L420-L424&lt;/a&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-commons-json/blob/7a15fe774b6892c770af4d7ad12aa1d1bd7f976c/src/main/java/org/apache/sling/commons/json/JSONObject.java#L795-L805&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-commons-json/blob/7a15fe774b6892c770af4d7ad12aa1d1bd7f976c/src/main/java/org/apache/sling/commons/json/JSONObject.java#L795-L805&lt;/a&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; No, both versions check for &lt;tt&gt;Number&lt;/tt&gt; and try to parse if needed &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; JSONObject.getJSONArray &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-commons-json/blob/43d3030dbb967232d129ed19f79d0b89b82f4965/src/main/java/org/apache/sling/commons/json/JSONObject.java#L435-L442&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-commons-json/blob/43d3030dbb967232d129ed19f79d0b89b82f4965/src/main/java/org/apache/sling/commons/json/JSONObject.java#L435-L442&lt;/a&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-commons-json/blob/7a15fe774b6892c770af4d7ad12aa1d1bd7f976c/src/main/java/org/apache/sling/commons/json/JSONObject.java#L817-L823&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-commons-json/blob/7a15fe774b6892c770af4d7ad12aa1d1bd7f976c/src/main/java/org/apache/sling/commons/json/JSONObject.java#L817-L823&lt;/a&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; No, both versions throw exceptions if the instanceof check fails &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; JSONObject.getJSONObject &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-commons-json/blob/43d3030dbb967232d129ed19f79d0b89b82f4965/src/main/java/org/apache/sling/commons/json/JSONObject.java#L453-L460&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-commons-json/blob/43d3030dbb967232d129ed19f79d0b89b82f4965/src/main/java/org/apache/sling/commons/json/JSONObject.java#L453-L460&lt;/a&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-commons-json/blob/7a15fe774b6892c770af4d7ad12aa1d1bd7f976c/src/main/java/org/apache/sling/commons/json/JSONObject.java#L835-L841&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-commons-json/blob/7a15fe774b6892c770af4d7ad12aa1d1bd7f976c/src/main/java/org/apache/sling/commons/json/JSONObject.java#L835-L841&lt;/a&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; No, both versions throw exceptions if the instanceof check fails &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; JSONObject.getLong &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-commons-json/blob/43d3030dbb967232d129ed19f79d0b89b82f4965/src/main/java/org/apache/sling/commons/json/JSONObject.java#L472-L477&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-commons-json/blob/43d3030dbb967232d129ed19f79d0b89b82f4965/src/main/java/org/apache/sling/commons/json/JSONObject.java#L472-L477&lt;/a&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-commons-json/blob/7a15fe774b6892c770af4d7ad12aa1d1bd7f976c/src/main/java/org/apache/sling/commons/json/JSONObject.java#L854-L864&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-commons-json/blob/7a15fe774b6892c770af4d7ad12aa1d1bd7f976c/src/main/java/org/apache/sling/commons/json/JSONObject.java#L854-L864&lt;/a&gt; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; No, both versions check for &lt;tt&gt;Number&lt;/tt&gt; and try to parse if needed &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;It looks to me like &lt;tt&gt;getString&lt;/tt&gt; is the only problematic change. Do you see anything else?&lt;/p&gt;</comment>
                            <comment id="17828427" author="JIRAUSER304615" created="Tue, 19 Mar 2024 15:55:06 +0000"  >&lt;p&gt;I think the behaviour is changed for all methods.&lt;/p&gt;

&lt;p&gt;I.e. for getLong:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Old:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; getLong(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; key) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; JSONException{
&#160; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; o = get(key);
&#160; &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; o &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Number&lt;/span&gt; ?&#160;
&#160; &#160; ((&lt;span class=&quot;code-object&quot;&gt;Number&lt;/span&gt;)o).longValue() : &lt;span class=&quot;code-object&quot;&gt;Long&lt;/span&gt;.valueOf((&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;)o).longValue();
}&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;ins&gt;Cases&lt;/ins&gt;&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Object o is Number:&#160; returns long&lt;/li&gt;
	&lt;li&gt;Object o is String of format Long:&#160; returns long&lt;/li&gt;
	&lt;li&gt;Object o is String with invalid format: throws a NumberFormatException&lt;/li&gt;
	&lt;li&gt;Object o is no String: throws ClassCastException&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;b&gt;New:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; getLong(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; key) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; JSONException {
  &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; object = &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.get(key);
  &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (object &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Number&lt;/span&gt;){
&#160; &#160; &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; ((&lt;span class=&quot;code-object&quot;&gt;Number&lt;/span&gt;) object).longValue();
  }
  &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt;{
&#160; &#160; &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Long&lt;/span&gt;.parseLong(object.toString());
  }&lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (Exception e){
&#160; &#160; &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; wrongValueFormatException(key, &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt;&quot;&lt;/span&gt;, object, e);
  }
}&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;ins&gt;Cases&lt;/ins&gt;&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Object o is Number:&#160; returns long&lt;/li&gt;
	&lt;li&gt;Object o is any type, does toString() with valid format: returns long&lt;/li&gt;
	&lt;li&gt;Object o is any type, does toString() with invalid format: throws a JsonException&lt;/li&gt;
	&lt;li&gt;throws no more ClassCastException nor NumberFormatException&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="17828428" author="JIRAUSER304615" created="Tue, 19 Mar 2024 15:56:57 +0000"  >&lt;p&gt;Similar Story for JSONArray and maybe more classes, to be checked.&lt;/p&gt;</comment>
                            <comment id="17828429" author="rombert" created="Tue, 19 Mar 2024 16:01:46 +0000"  >&lt;p&gt;Right, in this case the new version is more lenient and uses &lt;tt&gt;toString()&lt;/tt&gt; instead of conditionally downcasting. That is a behaviour change indeed, but I am personally not very concerned about that as it will not break consumers relying on the old behaviour.&lt;/p&gt;</comment>
                            <comment id="17828433" author="JIRAUSER304615" created="Tue, 19 Mar 2024 16:07:44 +0000"  >&lt;p&gt;not so sure, if somebody was actually having an inputfield on a UI where the user could enter some numbers, and was checking for NumberFormatException in order to present a proper error message to the user, this could be broken.&lt;/p&gt;</comment>
                            <comment id="17828626" author="JIRAUSER304615" created="Wed, 20 Mar 2024 07:12:55 +0000"  >&lt;p&gt;to restore the happy path functionality, it is enough to patch getString of JSONObject and JSONArray. However, the edge cases now throw different exceptions (before: ClassCast, NumberFormat. Now: JsonException)&lt;/p&gt;

&lt;p&gt;Please see attached patch that would give us the same old behavior, with slightly adapted unit tests. Marked the two lines changed in JSONObject and JSONArray as well as added a note to the manual steps in the readme.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13067546/13067546_SLING-12269.patch&quot; title=&quot;SLING-12269.patch attached to SLING-12269&quot;&gt;SLING-12269.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="17828934" author="rombert" created="Wed, 20 Mar 2024 12:08:59 +0000"  >&lt;p&gt;Thanks for the PR &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rliechti&quot; class=&quot;user-hover&quot; rel=&quot;rliechti&quot;&gt;rliechti&lt;/a&gt;, I have merged it.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13067546" name="SLING-12269.patch" size="5481" author="rliechti" created="Wed, 20 Mar 2024 07:12:48 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 31 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1o2c0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12268] Fix CVE-2022-47937</title>
                <link>https://issues.apache.org/jira/browse/SLING-12268</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Current version of apache commons json is affected by &lt;a href=&quot;https://nvd.nist.gov/vuln/detail/CVE-2022-47937&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://nvd.nist.gov/vuln/detail/CVE-2022-47937&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Due to the relicenced base library (&lt;a href=&quot;https://github.com/stleary/JSON-java)&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/stleary/JSON-java)&lt;/a&gt;, that now uses the &apos;public domain&apos;, the fix of that CVE is as simple as migrating to the latest codebase of said library.&lt;/p&gt;

&lt;p&gt;Along this, it would be beneficial to perform some side activities, such as the upgrade to the latest parent pom and junit5.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13572418">SLING-12268</key>
            <summary>Fix CVE-2022-47937</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rliechti">Remo Liechti</assignee>
                                    <reporter username="rliechti">Remo Liechti</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 Mar 2024 12:46:25 +0000</created>
                <updated>Mon, 26 May 2025 13:11:16 +0000</updated>
                            <resolved>Tue, 19 Mar 2024 12:56:20 +0000</resolved>
                                                    <fixVersion>Commons JSON 2.0.24</fixVersion>
                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17828315" author="JIRAUSER304615" created="Tue, 19 Mar 2024 12:47:06 +0000"  >&lt;p&gt;the PR is &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-commons-json/pull/2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-commons-json/pull/2&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17828318" author="rombert" created="Tue, 19 Mar 2024 12:56:20 +0000"  >&lt;p&gt;Thanks for the contribution &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rliechti&quot; class=&quot;user-hover&quot; rel=&quot;rliechti&quot;&gt;rliechti&lt;/a&gt;!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13567756">LEGAL-666</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 31 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1o288:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12260] Sling Events does not build on Java 21</title>
                <link>https://issues.apache.org/jira/browse/SLING-12260</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Attempting to build Sling Events with Java 21 fails with:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[ERROR] org.apache.sling.event.impl.discovery.InitDelayingTopologyEventListenerTest.testChanging0  Time elapsed: 0.002 s  &amp;lt;&amp;lt;&amp;lt; ERROR!
java.lang.IllegalStateException: Could not initialize plugin: &lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; org.mockito.plugins.MockMaker (alternate: &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
	at org.mockito.internal.configuration.plugins.PluginLoader$1.invoke(PluginLoader.java:84)
	at jdk.proxy2/jdk.proxy2.$Proxy21.isTypeMockable(Unknown Source)
	at org.mockito.internal.util.MockUtil.typeMockabilityOf(MockUtil.java:33)
	at org.mockito.internal.util.MockCreationValidator.validateType(MockCreationValidator.java:22)
	at org.mockito.internal.creation.MockSettingsImpl.validatedSettings(MockSettingsImpl.java:250)
	at org.mockito.internal.creation.MockSettingsImpl.build(MockSettingsImpl.java:232)
	at org.mockito.internal.MockitoCore.mock(MockitoCore.java:83)
	at org.mockito.Mockito.mock(Mockito.java:1954)
	at org.mockito.Mockito.mock(Mockito.java:1865)
	at org.apache.sling.event.impl.discovery.InitDelayingTopologyEventListenerTest.createView(InitDelayingTopologyEventListenerTest.java:158)
	at org.apache.sling.event.impl.discovery.InitDelayingTopologyEventListenerTest.createEvent(InitDelayingTopologyEventListenerTest.java:176)
	at org.apache.sling.event.impl.discovery.InitDelayingTopologyEventListenerTest.testChanging0(InitDelayingTopologyEventListenerTest.java:258)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:364)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:272)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:237)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:158)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:428)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:562)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:548)
Caused by: java.lang.IllegalStateException: Internal problem occurred, please report it. Mockito is unable to load the &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; implementation of &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;that is a part of Mockito distribution. Failed to load &lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; org.mockito.plugins.MockMaker
	at org.mockito.internal.configuration.plugins.DefaultMockitoPlugins.create(DefaultMockitoPlugins.java:91)
	at org.mockito.internal.configuration.plugins.DefaultMockitoPlugins.getDefaultPlugin(DefaultMockitoPlugins.java:64)
	at org.mockito.internal.configuration.plugins.PluginLoader.loadPlugin(PluginLoader.java:75)
	at org.mockito.internal.configuration.plugins.PluginLoader.loadPlugin(PluginLoader.java:50)
	at org.mockito.internal.configuration.plugins.PluginRegistry.&amp;lt;init&amp;gt;(PluginRegistry.java:26)
	at org.mockito.internal.configuration.plugins.Plugins.&amp;lt;clinit&amp;gt;(Plugins.java:20)
	at org.mockito.junit.MockitoJUnit.rule(MockitoJUnit.java:35)
	at org.apache.sling.event.impl.jobs.tasks.CleanUpTest.&amp;lt;init&amp;gt;(CleanUpTest.java:136)
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:62)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:502)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:486)
	at org.junit.runners.BlockJUnit4ClassRunner.createTest(BlockJUnit4ClassRunner.java:250)
	at org.junit.runners.BlockJUnit4ClassRunner.createTest(BlockJUnit4ClassRunner.java:260)
	at org.junit.runners.BlockJUnit4ClassRunner$2.runReflectiveCall(BlockJUnit4ClassRunner.java:309)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.BlockJUnit4ClassRunner.methodBlock(BlockJUnit4ClassRunner.java:306)
	at org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.mockito.internal.runners.DefaultInternalRunner$1.run(DefaultInternalRunner.java:100)
	at org.mockito.internal.runners.DefaultInternalRunner.run(DefaultInternalRunner.java:107)
	at org.mockito.internal.runners.StrictRunner.run(StrictRunner.java:41)
	at org.mockito.junit.MockitoJUnitRunner.run(MockitoJUnitRunner.java:163)
	... 8 more
Caused by: java.lang.reflect.InvocationTargetException
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:74)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:502)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:486)
	at org.mockito.internal.configuration.plugins.DefaultMockitoPlugins.create(DefaultMockitoPlugins.java:89)
	... 38 more
Caused by: java.lang.IllegalStateException: Failed to resolve the &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;file version of the current VM: Unknown Java version: 0
	at net.bytebuddy.ClassFileVersion$VersionLocator$Unresolved.resolve(ClassFileVersion.java:558)
	at net.bytebuddy.ClassFileVersion.ofThisVm(ClassFileVersion.java:276)
	at net.bytebuddy.dynamic.loading.ClassInjector$UsingLookup.isAvailable(ClassInjector.java:1562)
	at org.mockito.internal.creation.bytebuddy.SubclassInjectionLoader.&amp;lt;init&amp;gt;(SubclassInjectionLoader.java:33)
	at org.mockito.internal.creation.bytebuddy.SubclassByteBuddyMockMaker.&amp;lt;init&amp;gt;(SubclassByteBuddyMockMaker.java:33)
	at org.mockito.internal.creation.bytebuddy.ByteBuddyMockMaker.&amp;lt;init&amp;gt;(ByteBuddyMockMaker.java:30)
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:62)
	... 41 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Seems Mockito needs an update.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13570500">SLING-12260</key>
            <summary>Sling Events does not build on Java 21</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="3" iconUrl="https://issues.apache.org/jira/images/icons/statuses/inprogress.png" description="This issue is being actively worked on at the moment by the assignee.">In Progress</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Fri, 1 Mar 2024 15:27:50 +0000</created>
                <updated>Fri, 1 Mar 2024 15:57:15 +0000</updated>
                                            <version>Event 4.3.14</version>
                                                    <component>Event</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                    <issuelinks>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                            <outwardlinks description="is a clone of">
                                        <issuelink>
            <issuekey id="13542141">SLING-11923</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 33 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1nqdk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12259] ModelFactory adatpercache does not cleanup entries</title>
                <link>https://issues.apache.org/jira/browse/SLING-12259</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When the model cache is enabled, then the adapter cache map keeps on growing which causes high memory consumption&#160;&lt;/p&gt;

&lt;p&gt;For example, In an application when adapting to a resource of type dam:Asset then in this &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-models-impl/blob/master/src/main/java/org/apache/sling/models/impl/ModelAdapterFactory.java#L351&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;line of code&lt;/a&gt; the Map keeps on growing.&lt;/p&gt;

&lt;p&gt;One way to solve this problem would be to implement LRU based cache. Please let me know what do you think, I can create PR accordingly.&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13570349">SLING-12259</key>
            <summary>ModelFactory adatpercache does not cleanup entries</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="pakira">Sumanta Pakira</reporter>
                        <labels>
                    </labels>
                <created>Thu, 29 Feb 2024 17:28:39 +0000</created>
                <updated>Sat, 30 Mar 2024 21:26:07 +0000</updated>
                                                                            <component>Sling Models</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                    <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13573985">SLING-12279</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 33 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1npg0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12258] Create separate vanity configuration, to prevent JcrResourceResolverFactoryImpl from restarting when configured</title>
                <link>https://issues.apache.org/jira/browse/SLING-12258</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;We would like to change a setting in the vanity path configuration (the &quot;resource.resolver.vanity.precedence&quot;-setting). &lt;/p&gt;

&lt;p&gt;Currently, we would have to reconfigure org.apache.sling.jcr.resource.internal.JcrResourceResolverFactoryImpl, which already has a lot of default (good) settings applied to it.&lt;br/&gt;
Next to that, reconfiguring it, causes a lot of service restarts etc. &lt;/p&gt;


&lt;p&gt;It would be beneficial if only the vanity configuration could be modified separately. Whenever that configuration changes, it would be fine to just use the new settings as-is, without restarting the whole JcrResourceResolverFactoryImpl (and thus restarting almost all Apache Sling / AEM in our case).&lt;/p&gt;

&lt;p&gt;I propose to create a dedicated vanity URL configuration, and remove all the vanity settings from the factory configuration.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13569839">SLING-12258</key>
            <summary>Create separate vanity configuration, to prevent JcrResourceResolverFactoryImpl from restarting when configured</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="Henry Kuijpers">Henry Kuijpers</reporter>
                        <labels>
                    </labels>
                <created>Mon, 26 Feb 2024 12:43:25 +0000</created>
                <updated>Mon, 26 Feb 2024 12:43:25 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 34 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1nmao:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12254] jcr:data node missing for file resources generated in binaries index defintions</title>
                <link>https://issues.apache.org/jira/browse/SLING-12254</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The index definition files generated by the cpcconvertor are missing mandatory jcr:data nodes.&lt;/p&gt;

&lt;p&gt;How the resource should look:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 &#160; &#160;&lt;span class=&quot;code-quote&quot;&gt;&quot;tika&quot;&lt;/span&gt;: {
&#160; &#160; &#160; &#160; &#160; &#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;jcr:primaryType&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;nam:nt:unstructured&quot;&lt;/span&gt;,
&#160; &#160; &#160; &#160; &#160; &#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;config.xml&quot;&lt;/span&gt;: {
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;jcr:primaryType&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;nam:nt:file&quot;&lt;/span&gt;,
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;jcr:content&quot;&lt;/span&gt;: {
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;jcr:primaryType&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;nam:nt:unstructured&quot;&lt;/span&gt;,
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;jcr:mimeType&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;text/xml&quot;&lt;/span&gt;
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; }
&#160; &#160; &#160; &#160; &#160; &#160; }
&#160; &#160; &#160; &#160; } 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;How it looks like now:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 &#160; &#160; &#160;&lt;span class=&quot;code-quote&quot;&gt;&quot;tika&quot;&lt;/span&gt;: {
&#160; &#160; &#160; &#160; &#160; &#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;jcr:primaryType&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;nam:nt:unstructured&quot;&lt;/span&gt;,
&#160; &#160; &#160; &#160; &#160; &#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;config.xml&quot;&lt;/span&gt;: {
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;jcr:primaryType&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;nam:nt:file&quot;&lt;/span&gt;,
        
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;jcr:content&quot;&lt;/span&gt;: {
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;jcr:primaryType&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;nam:nt:unstructured&quot;&lt;/span&gt;,
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &lt;span class=&quot;code-quote&quot;&gt;&quot;jcr:mimeType&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;text/xml&quot;&lt;/span&gt;,
 &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-quote&quot;&gt;&quot;jcr:data&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;lt;base6_data&amp;gt;&quot;&lt;/span&gt;

&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; }
&#160; &#160; &#160; &#160; &#160; &#160; }
&#160; &#160; &#160; &#160; } &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;There is no `jcr:data` node present&lt;/p&gt;

&lt;p&gt;This happens when node structure is like:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  &#160; &#160; &amp;lt;tika jcr:primaryType=&lt;span class=&quot;code-quote&quot;&gt;&quot;nt:unstructured&quot;&lt;/span&gt;&amp;gt;
&#160; &#160; &#160; &#160; &#160; &#160; &amp;lt;config.xml jcr:primaryType=&lt;span class=&quot;code-quote&quot;&gt;&quot;nt:file&quot;&lt;/span&gt; &amp;gt;
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &amp;lt;jcr:content
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; jcr:primaryType=&lt;span class=&quot;code-quote&quot;&gt;&quot;nt:unstructured&quot;&lt;/span&gt;
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; jcr:mimeType=&lt;span class=&quot;code-quote&quot;&gt;&quot;text/xml&quot;&lt;/span&gt;/&amp;gt;
&#160; &#160; &#160; &#160; &#160; &#160; &amp;lt;/config.xml&amp;gt;
&#160; &#160; &#160; &#160; &amp;lt;/tika&amp;gt;  &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13569133">SLING-12254</key>
            <summary>jcr:data node missing for file resources generated in binaries index defintions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="abhigarg">Abhishek Garg</assignee>
                                    <reporter username="abhigarg">Abhishek Garg</reporter>
                        <labels>
                    </labels>
                <created>Tue, 20 Feb 2024 05:14:28 +0000</created>
                <updated>Mon, 4 Mar 2024 13:47:49 +0000</updated>
                            <resolved>Fri, 23 Feb 2024 13:03:48 +0000</resolved>
                                    <version>Content-Package to Feature Model Converter 1.3.4</version>
                                    <fixVersion>Content-Package to Feature Model Converter 1.3.6</fixVersion>
                                    <component>Content-Package to Feature Model Converter</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17818659" author="abhigarg" created="Tue, 20 Feb 2024 06:09:07 +0000"  >&lt;p&gt;PR:&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/pull/175&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/pull/175&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17820049" author="rombert" created="Fri, 23 Feb 2024 13:03:56 +0000"  >&lt;p&gt;Thanks for the contribution &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=abhigarg&quot; class=&quot;user-hover&quot; rel=&quot;abhigarg&quot;&gt;abhigarg&lt;/a&gt;!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 34 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1nhxs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12251] Null Props Cause Incorrect Query Estimation </title>
                <link>https://issues.apache.org/jira/browse/SLING-12251</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Using null props in a query can cause the query engine to incorrectly estimate the cost of query plan which can lead to a traversal and slow queries to execute.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;If you look at the query plan below the number of null props documents is quiet high yet the cost for the query is only 19. When we execute the UNION query the cost is 38 which is why it is not selected when in reality the original cost should be much higher.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;After removing the null check the cost estimation is drastically different and correctly reflects the number of documents in the index.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13568322">SLING-12251</key>
            <summary>Null Props Cause Incorrect Query Estimation </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="patlego">Patrique Legault</reporter>
                        <labels>
                    </labels>
                <created>Tue, 13 Feb 2024 15:20:11 +0000</created>
                <updated>Tue, 13 Feb 2024 15:23:59 +0000</updated>
                            <resolved>Tue, 13 Feb 2024 15:23:59 +0000</resolved>
                                                                    <component>Oak</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                            <attachment id="13066693" name="Non Union Query Plan.json" size="7891" author="patlego" created="Tue, 13 Feb 2024 15:16:38 +0000"/>
                            <attachment id="13066690" name="Non Union With Null Check.json" size="7772" author="patlego" created="Tue, 13 Feb 2024 15:19:36 +0000"/>
                            <attachment id="13066691" name="Screenshot 2024-02-13 at 10.17.31&#8239;AM.png" size="95104" author="patlego" created="Tue, 13 Feb 2024 15:17:35 +0000"/>
                            <attachment id="13066692" name="Union Query Plan.json" size="4816" author="patlego" created="Tue, 13 Feb 2024 15:16:38 +0000"/>
                            <attachment id="13066694" name="cqTagLucene.json" size="2475" author="patlego" created="Tue, 13 Feb 2024 15:16:38 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 36 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1ndfc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12250] Adding Resource with sling:vanityPath set causes mismatch when resolving vanity URL (timing issue)</title>
                <link>https://issues.apache.org/jira/browse/SLING-12250</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;It could happen that a Resource containing sling:vanityPath is added and then resolved, but the Resource did not end up yet in the vanity logic.&lt;/p&gt;

&lt;p&gt;Observed with JCR_OAK mock context.&lt;/p&gt;

&lt;p&gt;Adding Thread.sleep(1000) fixes the issue, but it&apos;s of course not a very good solution.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13568320">SLING-12250</key>
            <summary>Adding Resource with sling:vanityPath set causes mismatch when resolving vanity URL (timing issue)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="Henry Kuijpers">Henry Kuijpers</reporter>
                        <labels>
                    </labels>
                <created>Tue, 13 Feb 2024 15:00:16 +0000</created>
                <updated>Wed, 24 Jul 2024 11:21:03 +0000</updated>
                            <resolved>Wed, 24 Jul 2024 11:21:03 +0000</resolved>
                                    <version>Testing Sling Mock 3.4.18</version>
                                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17817033" author="sseifert@pro-vision.de" created="Tue, 13 Feb 2024 15:06:44 +0000"  >&lt;p&gt;the initializing that part of sling resource resolver which also interprets the vanity paths changed a couple of times of the last years for performance and stability improvements, and is done mostly async in the latest release. as using vanity paths in unit test is more an edge case, it makes no sense to automatically wait for it&apos;s completion for all tests.&lt;/p&gt;

&lt;p&gt;if you have a test that really needs vanity paths, probably use libraries like &lt;a href=&quot;https://github.com/awaitility/awaitility&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/awaitility/awaitility&lt;/a&gt; to wait until it&apos;s available and then proceed with the tests.&lt;/p&gt;</comment>
                            <comment id="17817036" author="henry kuijpers" created="Tue, 13 Feb 2024 15:14:30 +0000"  >&lt;p&gt;That is indeed an option, it&apos;s indeed done asynchronous I think. &lt;/p&gt;

&lt;p&gt;I believe I saw that a resource change listener was used, though not triggered (yet). &lt;/p&gt;</comment>
                            <comment id="17817039" author="reschke" created="Tue, 13 Feb 2024 15:17:22 +0000"  >&lt;p&gt;While the vanity path cache is populated, the resource resolver will query the repo for the path (and cache that result).&lt;/p&gt;

&lt;p&gt;Once the cache is ready, timing will depend on event delivery.&lt;/p&gt;</comment>
                            <comment id="17820728" author="henry kuijpers" created="Mon, 26 Feb 2024 14:49:16 +0000"  >&lt;p&gt;I used:&lt;/p&gt;

&lt;p&gt;```&lt;br/&gt;
        await()&lt;br/&gt;
            .until(() -&amp;gt; context.resourceResolver().resolve(&quot;/my-vanity&quot;), path(&quot;/content/something/my-page-with-vanity&quot;));&lt;br/&gt;
```&lt;/p&gt;

&lt;p&gt;Error:&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt;   MyTest.apiThrowsException &#187; RejectedExecution Task org.apache.jackrabbit.oak.commons.concurrent.NotifyingFutureTask@7e538a1&lt;span class=&quot;error&quot;&gt;&amp;#91;Not completed, task = org.apache.jackrabbit.oak.spi.commit.BackgroundObserver$1$1@21d876a6&amp;#93;&lt;/span&gt; rejected from java.util.concurrent.ThreadPoolExecutor@359f9c02&lt;span class=&quot;error&quot;&gt;&amp;#91;Shutting down, pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 8&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;It looks like it is not able to resolve the vanity path in time (by default 10 seconds) - We&apos;re running our build with parallel test execution (JUnit). Maybe I can raise this limit, but I feel there should be a better solution.&lt;/p&gt;</comment>
                            <comment id="17820732" author="reschke" created="Mon, 26 Feb 2024 14:54:07 +0000"  >&lt;p&gt;AFAIU, the path should &lt;b&gt;always&lt;/b&gt; resolve. If it does not, it might be because we have a bug, or because the test is doing something silly &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;.&lt;/p&gt;</comment>
                            <comment id="17820740" author="henry kuijpers" created="Mon, 26 Feb 2024 15:16:52 +0000"  >&lt;p&gt;It actually &lt;b&gt;is&lt;/b&gt; resolving. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; just not to the node that the path was configured on. That&apos;s what I&apos;m waiting for with awaitility.&lt;/p&gt;

&lt;p&gt;It takes quite a long time for it to finally resolve. For now this works, but I expect a failure again anytime soon.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;The second parameter to until specifies the desired condition (using ResourceMatchers.path()).&lt;/p&gt;</comment>
                            <comment id="17820743" author="reschke" created="Mon, 26 Feb 2024 15:20:46 +0000"  >&lt;p&gt;Well, it should resolve to what is persisted in the repo. If the test &lt;b&gt;changes&lt;/b&gt; the repo and the resolves it, it might make time until bg init has finished and events are processed.&lt;/p&gt;

&lt;p&gt;You may want to inspect DEBUG logs...&lt;/p&gt;</comment>
                            <comment id="17868334" author="henry kuijpers" created="Wed, 24 Jul 2024 11:20:26 +0000"  >&lt;p&gt;A fix for this was to ignore the exception.&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;```&lt;br/&gt;
await()&lt;br/&gt;
.ignoreException(RejectedExecutionException.class)&lt;br/&gt;
.atMost(10, TimeUnit.MINUTES)&lt;br/&gt;
.ignoreException(RejectedExecutionException.class)&lt;br/&gt;
.until(() -&amp;gt; context.resourceResolver().resolve(&quot;/test&quot;), path(&quot;/content/mypath&quot;));&lt;br/&gt;
```&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 13 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1ndew:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12248] Sling IDE Tools 1.2.2 looking for non-existent class, org.eclipse.m2e.core.internal.index.IndexListener</title>
                <link>https://issues.apache.org/jira/browse/SLING-12248</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;AEM (Adobe Experience Manager) Developer Tool latest version with latest Sling IDE tool depends on a non-existent Java class of M2E, org.eclipse.m2e.core.internal.index.IndexListener.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
java.lang.NoClassDefFoundError: org/eclipse/m2e/core/internal/index/IndexListener
&#160; &#160; at java.base/java.lang.&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.defineClass1(Native Method)
&#160; &#160; at java.base/java.lang.&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.defineClass(&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.java:1027)
&#160; &#160; at org.eclipse.osgi.internal.loader.ModuleClassLoader.defineClass(ModuleClassLoader.java:283)
&#160; &#160; at org.eclipse.osgi.internal.loader.classpath.ClasspathManager.defineClass(ClasspathManager.java:716)
&#160; &#160; at org.eclipse.osgi.internal.loader.classpath.ClasspathManager.findClassImpl(ClasspathManager.java:639)
&#160; &#160; at org.eclipse.osgi.internal.loader.classpath.ClasspathManager.findLocalClassImpl(ClasspathManager.java:607)
&#160; &#160; at org.eclipse.osgi.internal.loader.classpath.ClasspathManager.findLocalClassImpl(ClasspathManager.java:587)
&#160; &#160; at org.eclipse.osgi.internal.loader.classpath.ClasspathManager.findLocalClass(ClasspathManager.java:566)
&#160; &#160; at org.eclipse.osgi.internal.loader.ModuleClassLoader.findLocalClass(ModuleClassLoader.java:335)
&#160; &#160; at org.eclipse.osgi.internal.loader.BundleLoader.findLocalClass(BundleLoader.java:397)
&#160; &#160; at org.eclipse.osgi.internal.loader.BundleLoader.findClass0(BundleLoader.java:500)
&#160; &#160; at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:416)
&#160; &#160; at org.eclipse.osgi.internal.loader.ModuleClassLoader.loadClass(ModuleClassLoader.java:168)
&#160; &#160; at java.base/java.lang.&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.loadClass(&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.java:526)
&#160; &#160; at org.apache.sling.ide.eclipse.ui.wizards.np.AbstractNewMavenBasedSlingApplicationWizard.addPages(AbstractNewMavenBasedSlingApplicationWizard.java:72)
&#160; &#160; at org.eclipse.jface.wizard.WizardSelectionPage.getNextPage(WizardSelectionPage.java:119)
&#160; &#160; at org.eclipse.ui.internal.dialogs.WorkbenchWizardSelectionPage.getNextPage(WorkbenchWizardSelectionPage.java:98)
&#160; &#160; at org.eclipse.ui.internal.dialogs.NewWizardSelectionPage.advanceToNextPageOrFinish(NewWizardSelectionPage.java:73)
&#160; &#160; at org.eclipse.ui.internal.dialogs.NewWizardNewPage.lambda$0(NewWizardNewPage.java:342)
&#160; &#160; at org.eclipse.jface.viewers.StructuredViewer$1.run(StructuredViewer.java:780)
&#160; &#160; at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:47)
&#160; &#160; at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:174)
&#160; &#160; at org.eclipse.jface.viewers.StructuredViewer.fireDoubleClick(StructuredViewer.java:777)
&#160; &#160; at org.eclipse.jface.viewers.AbstractTreeViewer.handleDoubleSelect(AbstractTreeViewer.java:1559)
&#160; &#160; at org.eclipse.jface.viewers.StructuredViewer$4.widgetDefaultSelected(StructuredViewer.java:1210)
&#160; &#160; at org.eclipse.jface.util.OpenStrategy.fireDefaultSelectionEvent(OpenStrategy.java:272)
&#160; &#160; at org.eclipse.jface.util.OpenStrategy$1.handleEvent(OpenStrategy.java:329)
&#160; &#160; at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)
&#160; &#160; at org.eclipse.swt.widgets.Display.sendEvent(Display.java:4273)
&#160; &#160; at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1066)
&#160; &#160; at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4071)
&#160; &#160; at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3659)
&#160; &#160; at org.eclipse.jface.window.Window.runEventLoop(Window.java:823)
&#160; &#160; at org.eclipse.jface.window.Window.open(Window.java:799)
&#160; &#160; at org.eclipse.ui.actions.NewProjectAction.run(NewProjectAction.java:119)
&#160; &#160; at org.eclipse.jface.action.Action.runWithEvent(Action.java:474)
&#160; &#160; at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:580)
&#160; &#160; at org.eclipse.jface.action.ActionContributionItem.lambda$4(ActionContributionItem.java:414)
&#160; &#160; at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)
&#160; &#160; at org.eclipse.swt.widgets.Display.sendEvent(Display.java:4273)
&#160; &#160; at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1066)
&#160; &#160; at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4071)
&#160; &#160; at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3659)
&#160; &#160; at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$5.run(PartRenderingEngine.java:1155)
&#160; &#160; at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:342)
&#160; &#160; at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1046)
&#160; &#160; at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:155)
&#160; &#160; at org.eclipse.ui.internal.Workbench.lambda$3(Workbench.java:648)
&#160; &#160; at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:342)
&#160; &#160; at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:555)
&#160; &#160; at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:173)
&#160; &#160; at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:152)
&#160; &#160; at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:208)
&#160; &#160; at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:136)
&#160; &#160; at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)
&#160; &#160; at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:402)
&#160; &#160; at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)
&#160; &#160; at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
&#160; &#160; at java.base/java.lang.reflect.Method.invoke(Method.java:580)
&#160; &#160; at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:651)
&#160; &#160; at org.eclipse.equinox.launcher.Main.basicRun(Main.java:588)
&#160; &#160; at org.eclipse.equinox.launcher.Main.run(Main.java:1459)
Caused by: java.lang.ClassNotFoundException: org.eclipse.m2e.core.internal.index.IndexListener cannot be found by org.apache.sling.ide.eclipse-m2e-ui_1.2.2
&#160; &#160; at org.eclipse.osgi.internal.loader.BundleLoader.generateException(BundleLoader.java:541)
&#160; &#160; at org.eclipse.osgi.internal.loader.BundleLoader.findClass0(BundleLoader.java:536)
&#160; &#160; at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:416)
&#160; &#160; at org.eclipse.osgi.internal.loader.ModuleClassLoader.loadClass(ModuleClassLoader.java:168)
&#160; &#160; at java.base/java.lang.&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.loadClass(&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.java:526)
&#160; &#160; ... 62 more &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>Eclipse 2023-12, Maven 3.8.1, Java 11, AEM 1.3.0, Sling IDE Tools 1.2.2</environment>
        <key id="13567712">SLING-12248</key>
            <summary>Sling IDE Tools 1.2.2 looking for non-existent class, org.eclipse.m2e.core.internal.index.IndexListener</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="dathuynh">Dat Huynh</reporter>
                        <labels>
                    </labels>
                <created>Wed, 7 Feb 2024 09:22:06 +0000</created>
                <updated>Wed, 22 Oct 2025 21:18:50 +0000</updated>
                                            <version>Sling Eclipse IDE 1.2.2</version>
                                    <fixVersion>Sling Eclipse IDE 1.3.2</fixVersion>
                                    <component>Tooling</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17815589" author="kwin" created="Thu, 8 Feb 2024 09:35:46 +0000"  >&lt;p&gt;I think this was fixed in the context of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-11590&quot; title=&quot;AbstractBundleProjectConfigurator no longer compatible with m2e 2.x&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-11590&quot;&gt;&lt;del&gt;SLING-11590&lt;/del&gt;&lt;/a&gt;. Please try the latest nightly (&lt;a href=&quot;https://sling.apache.org/documentation/development/ide-tooling.html#update-site-installation&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/documentation/development/ide-tooling.html#update-site-installation&lt;/a&gt;).&lt;/p&gt;</comment>
                            <comment id="17816439" author="JIRAUSER304099" created="Sun, 11 Feb 2024 16:05:30 +0000"  >&lt;p&gt;The update version from nightly build is not compatible with AEM 1.3.0 and get force downgraded by Eclipse back to Sling 1.2.2.&lt;br/&gt;
Any suggestion? Thanks in advance&lt;/p&gt;</comment>
                            <comment id="18032262" author="rombert" created="Wed, 22 Oct 2025 21:18:50 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dathuynh&quot; class=&quot;user-hover&quot; rel=&quot;dathuynh&quot;&gt;dathuynh&lt;/a&gt; - can you please retry with the latest released version? If you&apos;re using the AEM Dev Tools plug-ins you can install version 1.4.0 which includes the latest fixes.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 hours ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1n9ns:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12243] Standalone execution of Repoinit statements is not clearly documented</title>
                <link>https://issues.apache.org/jira/browse/SLING-12243</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The repoinit documentation at &lt;a href=&quot;https://sling.apache.org/documentation/bundles/repository-initialization.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/documentation/bundles/repository-initialization.html&lt;/a&gt; does not clearly indicate how to execute repoinit statements outside of the repository initialization cycle. The information is present but not obvious.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13567396">SLING-12243</key>
            <summary>Standalone execution of Repoinit statements is not clearly documented</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Mon, 5 Feb 2024 09:53:26 +0000</created>
                <updated>Tue, 4 Jun 2024 12:03:13 +0000</updated>
                            <resolved>Tue, 6 Feb 2024 13:43:19 +0000</resolved>
                                    <version>Repoinit JCR 1.1.46</version>
                                    <fixVersion>Repoinit JCR 1.1.48</fixVersion>
                                    <component>Repoinit</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17814301" author="bdelacretaz" created="Mon, 5 Feb 2024 09:55:38 +0000"  >&lt;p&gt;Commit &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-jcr-repoinit/commit/ae1167a3b789e953234650e6344dbce93103061b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-jcr-repoinit/commit/ae1167a3b789e953234650e6344dbce93103061b&lt;/a&gt; adds a test that demonstrates standalone execution of repoinit statements&lt;/p&gt;</comment>
                            <comment id="17814816" author="bdelacretaz" created="Tue, 6 Feb 2024 13:43:19 +0000"  >&lt;p&gt;I have added a &quot;Executing repoinit statements outside of the startup sequence&quot; paragraph to &lt;a href=&quot;https://sling.apache.org/documentation/bundles/repository-initialization.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/documentation/bundles/repository-initialization.html&lt;/a&gt; that points to the above test.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 37 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1n7ps:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12241] Anonymous sling testing client throws NPE</title>
                <link>https://issues.apache.org/jira/browse/SLING-12241</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When &lt;em&gt;null&lt;/em&gt; is passed as a user name to sling testing client, to mimic the anonymous user, an NPE is thrown in FormBasedAuthInterceptor.&lt;/p&gt;

&lt;p&gt;to reproduce:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
FormBasedAuthInterceptor interceptor = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FormBasedAuthInterceptor(LOGIN_COOKIE_NAME); 
SlingClient anonymousClient = SlingClient.Builder.create(httpServer.getURI(), &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;pass&quot;&lt;/span&gt;)
        .addInterceptorLast(interceptor).build();

annonnymousClient.doGet(LOGIN_OK_PATH, 200); &lt;span class=&quot;code-comment&quot;&gt;// NPE&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13567165">SLING-12241</key>
            <summary>Anonymous sling testing client throws NPE</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="andrei.dulvac">Andrei Dulvac</assignee>
                                    <reporter username="etugarev">Evgeny Tugarev</reporter>
                        <labels>
                    </labels>
                <created>Fri, 2 Feb 2024 09:57:56 +0000</created>
                <updated>Mon, 5 Feb 2024 09:06:32 +0000</updated>
                            <resolved>Mon, 5 Feb 2024 09:06:32 +0000</resolved>
                                    <version>Apache Sling Testing Clients 3.0.22</version>
                                    <fixVersion>Apache Sling Testing Clients 3.0.24</fixVersion>
                                    <component>Apache Sling Testing Clients</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17813601" author="rombert" created="Fri, 2 Feb 2024 10:01:37 +0000"  >&lt;p&gt;Thanks for the report &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=etugarev&quot; class=&quot;user-hover&quot; rel=&quot;etugarev&quot;&gt;etugarev&lt;/a&gt;. As it stands, this issue is not actionable to Sling, we don&apos;t have access to &quot;CQClient.class&quot; or to &quot;AEMCS&quot;. Can you please rephrase this in a way that is applicable to Sling?&lt;/p&gt;</comment>
                            <comment id="17813749" author="etugarev" created="Fri, 2 Feb 2024 16:23:32 +0000"  >&lt;p&gt;Good catch, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt;, fixed the title/description.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 37 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1n6ag:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12234] Commons Log builds fail on Windows</title>
                <link>https://issues.apache.org/jira/browse/SLING-12234</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://ci-builds.apache.org/blue/organizations/jenkins/Sling%2Fmodules%2Fsling-org-apache-sling-commons-log/detail/master/205/pipeline:&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-builds.apache.org/blue/organizations/jenkins/Sling%2Fmodules%2Fsling-org-apache-sling-commons-log/detail/master/205/pipeline:&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[ERROR] Tests run: 3, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 19.585 s &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.sling.commons.log.logback.integration.ITPackagingData
[ERROR] org.apache.sling.commons.log.logback.integration.ITPackagingData.packageDataWorking  Time elapsed: 6.929 s  &amp;lt;&amp;lt;&amp;lt; ERROR!
java.io.IOException: Access is denied
	at java.base/java.io.WinNTFileSystem.createFileExclusively(Native Method)
	at java.base/java.io.File.createTempFile(File.java:2129)
	at java.base/java.io.File.createTempFile(File.java:2175)
	at org.ops4j.store.StoreFactory.anonymousStore(StoreFactory.java:100)
	at org.ops4j.pax.tinybundles.core.TinyBundles.getDefaultStore(TinyBundles.java:104)
	at org.ops4j.pax.tinybundles.core.TinyBundles.bundle(TinyBundles.java:50)
	at org.apache.sling.commons.log.logback.integration.PackagingDataTestUtil.createTestBundle(PackagingDataTestUtil.java:44)
	at org.apache.sling.commons.log.logback.integration.ITPackagingData.packageDataWorking(ITPackagingData.java:148)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.ops4j.pax.exam.invoker.junit.internal.ContainerTestRunner.runLeafWithRetry(ContainerTestRunner.java:97)
	at org.ops4j.pax.exam.invoker.junit.internal.ContainerTestRunner.runChildWithRetry(ContainerTestRunner.java:84)
	at org.ops4j.pax.exam.invoker.junit.internal.ContainerTestRunner.runChild(ContainerTestRunner.java:75)
	at org.ops4j.pax.exam.invoker.junit.internal.ContainerTestRunner.runChild(ContainerTestRunner.java:43)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at org.ops4j.pax.exam.invoker.junit.internal.JUnitProbeInvoker.invokeViaJUnit(JUnitProbeInvoker.java:124)
	at org.ops4j.pax.exam.invoker.junit.internal.JUnitProbeInvoker.findAndInvoke(JUnitProbeInvoker.java:97)
	at org.ops4j.pax.exam.invoker.junit.internal.JUnitProbeInvoker.call(JUnitProbeInvoker.java:73)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.ops4j.pax.swissbox.framework.RemoteFrameworkImpl.invokeMethodOnService(RemoteFrameworkImpl.java:435)
	at org.ops4j.pax.swissbox.framework.RemoteFrameworkImpl.invokeMethodOnService(RemoteFrameworkImpl.java:408)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:359)
	at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:200)
	at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:197)
	at java.base/java.security.AccessController.doPrivileged(Native Method)
	at java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:196)
	at java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:562)
	at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:796)
	at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:677)
	at java.base/java.security.AccessController.doPrivileged(Native Method)
	at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:676)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)

[INFO] 
[INFO] Results:
[INFO] 
[ERROR] Errors: 
[ERROR]   ITPackagingData.packageDataWorking:148 &#187; IO Access is denied

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13565431">SLING-12234</key>
            <summary>Commons Log builds fail on Windows</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 19 Jan 2024 12:18:33 +0000</created>
                <updated>Fri, 9 May 2025 12:54:59 +0000</updated>
                            <resolved>Tue, 15 Apr 2025 15:38:58 +0000</resolved>
                                                    <fixVersion>Commons Log 6.0.0</fixVersion>
                                    <component>CI</component>
                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="17808628" author="rombert" created="Fri, 19 Jan 2024 12:32:55 +0000"  >&lt;p&gt;I&apos;ve tried a couple of things:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;use a different store - &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-commons-log/pull/15&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-commons-log/pull/15&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;upgrade to tinybundles 4.0.0 - ITs fail with &quot;Caused by: java.lang.ClassNotFoundException: org.ops4j.pax.tinybundles.core.TinyBundles&quot;; probably pax-exam requires version 3.x&lt;/li&gt;
	&lt;li&gt;upgrade to pax-exam 4.3.15 - as noted in the POM, ITs fail with &quot;java.lang.ClassNotFoundException: org.slf4j.LoggerFactory&quot;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I am out of ideas as this point.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olli&quot; class=&quot;user-hover&quot; rel=&quot;olli&quot;&gt;olli&lt;/a&gt; - does any of the above ring any bells to you?&lt;/p&gt;</comment>
                            <comment id="17808634" author="rombert" created="Fri, 19 Jan 2024 12:41:05 +0000"  >&lt;p&gt;For now, I have restricted the CI builds to Linux only ( &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-commons-log/pull/16&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-commons-log/pull/16&lt;/a&gt; ) in order to have passing builds.&lt;/p&gt;</comment>
                            <comment id="17808636" author="joerghoh" created="Fri, 19 Jan 2024 12:44:43 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt; I don&apos;t think that this is a problem of TinyBundles themselves, but rather the Windows host does not allow to create a file in &quot;java.io.tmpdir&quot;. Should be quite common for unittests to do that.&lt;/p&gt;

&lt;p&gt;Are other bundles doing ITs with tinybundles affected by such problems as well?&lt;/p&gt;</comment>
                            <comment id="17808643" author="rombert" created="Fri, 19 Jan 2024 12:49:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=joerghoh&quot; class=&quot;user-hover&quot; rel=&quot;joerghoh&quot;&gt;joerghoh&lt;/a&gt; - I haven&apos;t seen this so far, no. It may be indeed a problem with the temp dir, which means that perhaps we need to talk to the infra team about it. I haven&apos;t seen a simple way to configure TinyBundles to use a different directory.&lt;/p&gt;</comment>
                            <comment id="17827687" author="olli" created="Sat, 16 Mar 2024 10:40:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt;, TinyBundles is using &lt;a href=&quot;https://github.com/ops4j/org.ops4j.base/blob/master/ops4j-base-store/src/main/java/org/ops4j/store/StoreFactory.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Store&lt;/a&gt; (from OPS4J Base) which allows you to override the temp directory. Have you tried that?&lt;br/&gt;
Or have you tried to set the system property &lt;tt&gt;java.io.tmpdir&lt;/tt&gt; to a directory inside Maven&apos;s build directory (e.g. &lt;tt&gt;target/temp&lt;/tt&gt;) ?&lt;/p&gt;

&lt;p&gt;TinyBundles 4.0 contains major changes and you would have to adjust some imports at least. Next Pax Exam and Sling Testing PaxExam releases will use TinyBundles 4.0. The &lt;a href=&quot;https://github.com/ops4j/org.ops4j.pax.tinybundles/actions/workflows/maven.yml&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;TinyBundles CI builds are running fine on Linux and Windows on GitHub&lt;/a&gt;. And don&apos;t use Pax Exam greater 4.13.3 as they contain regressions only fixed in the upcoming 4.14 release.&lt;/p&gt;</comment>
                            <comment id="17827713" author="olli" created="Sat, 16 Mar 2024 15:43:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=joerghoh&quot; class=&quot;user-hover&quot; rel=&quot;joerghoh&quot;&gt;joerghoh&lt;/a&gt;, I&apos;ve changed the temp directory for the store and switched back to default Jenkins configuration on &lt;tt&gt;master&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;The integration test &lt;a href=&quot;https://ci-builds.apache.org/job/Sling/job/modules/job/sling-org-apache-sling-commons-log/job/master/218/execution/node/70/ws/jdk_17_latest/target/failsafe-reports/org.apache.sling.commons.log.logback.integration.ITPackagingData.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;&lt;tt&gt;ITPackagingData&lt;/tt&gt; gets executed successfully&lt;/a&gt;:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;-------------------------------------------------------------------------------
Test set: org.apache.sling.commons.log.logback.integration.ITPackagingData
-------------------------------------------------------------------------------
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 10.392 s - in org.apache.sling.commons.log.logback.integration.ITPackagingData
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Looks more like an issue with Jenkins and/or Windows because Jenkins tells something different:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[ERROR] Tests run: 3, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 17.673 s &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.sling.commons.log.logback.integration.ITPackagingData
[ERROR] org.apache.sling.commons.log.logback.integration.ITPackagingData.packageDataWorking  Time elapsed: 5.963 s  &amp;lt;&amp;lt;&amp;lt; ERROR!
java.io.IOException: Access is denied
	at org.apache.sling.commons.log.logback.integration.ITPackagingData.packageDataWorking(ITPackagingData.java:148)

[INFO] 
[INFO] Results:
[INFO] 
[ERROR] Errors: 
[ERROR]   ITPackagingData.packageDataWorking:148 &#187; IO Access is denied
[INFO] 
[ERROR] Tests run: 25, Failures: 0, Errors: 1, Skipped: 0
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseifert&quot; class=&quot;user-hover&quot; rel=&quot;sseifert&quot;&gt;sseifert&lt;/a&gt;, Can you run the build successful on your local Windows?&lt;/p&gt;

&lt;p&gt;Can you all please double check the log outputs and the build configuration? The value for &lt;tt&gt;time&#160;elapsed&lt;/tt&gt; is different which is really strange. Are there maybe multiple builds running in parallel in the same workspace?&lt;/p&gt;</comment>
                            <comment id="17827778" author="olli" created="Sun, 17 Mar 2024 10:44:02 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt;, The build issue is caused by Jenkins. The builds ran successfully on &lt;a href=&quot;https://github.com/oliverlietz/sling-org-apache-sling-commons-log/actions/runs/8314820685&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;GitHub&lt;/a&gt; (both Linux and Windows).&lt;/p&gt;</comment>
                            <comment id="17827913" author="sseifert@pro-vision.de" created="Mon, 18 Mar 2024 10:41:37 +0000"  >&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseifert&quot; class=&quot;user-hover&quot; rel=&quot;sseifert&quot;&gt;sseifert&lt;/a&gt;, Can you run the build successful on your local Windows?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;i can reproduce the problem on my windows machine. i started a bit debugging, but did not found the root case with the temp file creation fails in ITPackaingData:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.io.IOException: Zugriff verweigert
&#160; &#160; at java.base/java.io.WinNTFileSystem.createFileExclusively(Native Method)
&#160; &#160; at java.base/java.io.File.createTempFile(File.java:2129)
&#160; &#160; at java.base/java.io.File.createTempFile(File.java:2175)
&#160; &#160; at org.ops4j.pax.tinybundles.core.intern.BndBuilder.sink(BndBuilder.java:127)
&#160; &#160; at org.ops4j.pax.tinybundles.core.intern.BndBuilder.createBundle(BndBuilder.java:100)
&#160; &#160; at org.ops4j.pax.tinybundles.core.intern.BndBuilder.wrapWithBnd(BndBuilder.java:76)
&#160; &#160; at org.ops4j.pax.tinybundles.core.intern.BndBuilder.build(BndBuilder.java:68)
&#160; &#160; at org.ops4j.pax.tinybundles.core.intern.TinyBundleImpl.build(TinyBundleImpl.java:206)
&#160; &#160; at org.apache.sling.commons.log.logback.integration.PackagingDataTestUtil.createTestBundle(PackagingDataTestUtil.java:59)
&#160; &#160; at org.apache.sling.commons.log.logback.integration.ITPackagingData.packageDataWorking(ITPackagingData.java:148)
&#160; &#160; at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
&#160; &#160; at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
&#160; &#160; at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
&#160; &#160; at java.base/java.lang.reflect.Method.invoke(Method.java:566)
&#160; &#160; at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
&#160; &#160; at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
&#160; &#160; at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
&#160; &#160; at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
&#160; &#160; at org.ops4j.pax.exam.invoker.junit.internal.ContainerTestRunner.runLeafWithRetry(ContainerTestRunner.java:97)
&#160; &#160; at org.ops4j.pax.exam.invoker.junit.internal.ContainerTestRunner.runChildWithRetry(ContainerTestRunner.java:84)
&#160; &#160; at org.ops4j.pax.exam.invoker.junit.internal.ContainerTestRunner.runChild(ContainerTestRunner.java:75)
&#160; &#160; at org.ops4j.pax.exam.invoker.junit.internal.ContainerTestRunner.runChild(ContainerTestRunner.java:43)
&#160; &#160; at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
&#160; &#160; at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
&#160; &#160; at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
&#160; &#160; at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
&#160; &#160; at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
&#160; &#160; at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
&#160; &#160; at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
&#160; &#160; at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
&#160; &#160; at org.ops4j.pax.exam.invoker.junit.internal.JUnitProbeInvoker.invokeViaJUnit(JUnitProbeInvoker.java:124)
&#160; &#160; at org.ops4j.pax.exam.invoker.junit.internal.JUnitProbeInvoker.findAndInvoke(JUnitProbeInvoker.java:97)
&#160; &#160; at org.ops4j.pax.exam.invoker.junit.internal.JUnitProbeInvoker.call(JUnitProbeInvoker.java:73)
&#160; &#160; at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
&#160; &#160; at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
&#160; &#160; at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
&#160; &#160; at java.base/java.lang.reflect.Method.invoke(Method.java:566)
&#160; &#160; at org.ops4j.pax.swissbox.framework.RemoteFrameworkImpl.invokeMethodOnService(RemoteFrameworkImpl.java:435)
&#160; &#160; at org.ops4j.pax.swissbox.framework.RemoteFrameworkImpl.invokeMethodOnService(RemoteFrameworkImpl.java:408)
&#160; &#160; at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
&#160; &#160; at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
&#160; &#160; at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
&#160; &#160; at java.base/java.lang.reflect.Method.invoke(Method.java:566)
&#160; &#160; at java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:359)
&#160; &#160; at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:200)
&#160; &#160; at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:197)
&#160; &#160; at java.base/java.security.AccessController.doPrivileged(Native Method)
&#160; &#160; at java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:196)
&#160; &#160; at java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:562)
&#160; &#160; at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:796)
&#160; &#160; at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:677)
&#160; &#160; at java.base/java.security.AccessController.doPrivileged(Native Method)
&#160; &#160; at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:676)
&#160; &#160; at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
&#160; &#160; at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
&#160; &#160; at java.base/java.lang.Thread.run(Thread.java:834)
&#160; &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;i&apos;ve set a breakpoint in File.createTempFile, it works for two calls but fails with access denied on the 3rd call. the file name and path passed to createTempFile look fine - but as the actual problem occurs inside the FS native code, i cannot tell for sure. very strange.&lt;/p&gt;</comment>
                            <comment id="17827930" author="olli" created="Mon, 18 Mar 2024 11:20:00 +0000"  >&lt;p&gt;Thanks, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseifert&quot; class=&quot;user-hover&quot; rel=&quot;sseifert&quot;&gt;sseifert&lt;/a&gt;. So my above statement regarding Jenkins is wrong. I removed &lt;tt&gt;BndBuilder.sink()&lt;/tt&gt; from TinyBundles 4 because of code smell.&lt;/p&gt;</comment>
                            <comment id="17944715" author="cziegeler" created="Tue, 15 Apr 2025 13:29:45 +0000"  >&lt;p&gt;Does this still occur?&lt;/p&gt;</comment>
                            <comment id="17944745" author="reschke" created="Tue, 15 Apr 2025 14:37:04 +0000"  >&lt;p&gt;I&apos;ve got one test failure, but somewhere else - related to system locale.&lt;/p&gt;</comment>
                            <comment id="17946860" author="rombert" created="Wed, 23 Apr 2025 21:42:08 +0000"  >&lt;p&gt;I confirm that the ITs now pass on Jenkins and have activated all tests on Windows. Any other Windows failures should be tracked separately.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            26 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1mvl4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12229] Update jackson and jsoup dependencies</title>
                <link>https://issues.apache.org/jira/browse/SLING-12229</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;jackson-core - 2.13.0, jackson-databind-2.13.2.1, jsoup-1.14.3 need to be updated because they cause:&lt;br/&gt;
CVE-2022-42003&lt;br/&gt;
CVE-2022-42004&lt;br/&gt;
CVE-2022-36033&lt;/p&gt;</description>
                <environment></environment>
        <key id="13564683">SLING-12229</key>
            <summary>Update jackson and jsoup dependencies</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="andrei.dulvac">Andrei Dulvac</assignee>
                                    <reporter username="andrei.dulvac">Andrei Dulvac</reporter>
                        <labels>
                    </labels>
                <created>Mon, 15 Jan 2024 08:59:16 +0000</created>
                <updated>Mon, 15 Jan 2024 09:14:13 +0000</updated>
                            <resolved>Mon, 15 Jan 2024 09:14:13 +0000</resolved>
                                    <version>Apache Sling Testing Clients 3.0.20</version>
                                    <fixVersion>Apache Sling Testing Clients 3.0.22</fixVersion>
                                    <component>Apache Sling Testing Clients</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 40 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1mqyw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12221] Upgrade grahpql-java version to 20.3</title>
                <link>https://issues.apache.org/jira/browse/SLING-12221</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The version of graphql-java currently used is 20.1, but version 20.3 offers the possibility to configure also MAX_QUERY_CHARACTERS, in addition to MAX_QUERY_TOKENS and MAX_WHITESPACE_TOKENS.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/graphql-java/graphql-java/blob/v20.3/src/main/java/graphql/parser/ParserOptions.java#L24&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/graphql-java/graphql-java/blob/v20.3/src/main/java/graphql/parser/ParserOptions.java#L24&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This would allow to configure the full query length in case the already existing configurations limits are hit.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13563887">SLING-12221</key>
            <summary>Upgrade grahpql-java version to 20.3</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="radu">Radu Cotescu</assignee>
                                    <reporter username="lpalko">Lenard Palko</reporter>
                        <labels>
                    </labels>
                <created>Mon, 8 Jan 2024 11:41:16 +0000</created>
                <updated>Wed, 21 Feb 2024 14:00:53 +0000</updated>
                            <resolved>Mon, 8 Jan 2024 14:52:50 +0000</resolved>
                                    <version>GraphQL Core 0.0.26</version>
                                    <fixVersion>GraphQL Core 0.0.30</fixVersion>
                                    <component>GraphQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17804286" author="JIRAUSER301816" created="Mon, 8 Jan 2024 13:44:21 +0000"  >&lt;p&gt;PR for the upgrade: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-graphql-core/pull/41&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-graphql-core/pull/41&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 41 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1mm28:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12219] ResourceUtil.normalize does not handle segments with multiple dots correctly</title>
                <link>https://issues.apache.org/jira/browse/SLING-12219</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If a path segment contains more than two dots but anything else, then ResourceUtil.normalize does not handle these correctly. It should just return null. Instead in some cases it is leaving the segment untouched or shortens it for example from four dots to two dots.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13563533">SLING-12219</key>
            <summary>ResourceUtil.normalize does not handle segments with multiple dots correctly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Thu, 4 Jan 2024 05:53:33 +0000</created>
                <updated>Wed, 10 Jul 2024 10:52:16 +0000</updated>
                            <resolved>Thu, 4 Jan 2024 06:28:11 +0000</resolved>
                                    <version>API 2.27.2</version>
                                    <fixVersion>API 2.27.6</fixVersion>
                                    <component>API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17802404" author="cziegeler" created="Thu, 4 Jan 2024 06:28:11 +0000"  >&lt;p&gt;Rewrote the method in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-api/commit/13ef4835f031a4fe5115433a42fa967f8fe560b3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-api/commit/13ef4835f031a4fe5115433a42fa967f8fe560b3&lt;/a&gt; for better readability.&lt;br/&gt;
Adjusted test cases with more than two dots and added additional ones (which fail with the old implementation)&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13565391">SLING-12233</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 42 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1mjvk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12207] Use adjusted inheritance rules for URLs</title>
                <link>https://issues.apache.org/jira/browse/SLING-12207</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;For Sling projects the default inheritance rules for URLs are not applicable: &lt;br/&gt;
&lt;a href=&quot;https://maven.apache.org/ref/3.8.4/maven-model-builder/index.html#Inheritance_Assembly&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://maven.apache.org/ref/3.8.4/maven-model-builder/index.html#Inheritance_Assembly&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Therefore the dedicated attribute &lt;tt&gt;@child.project.url.inherit.append.path&lt;/tt&gt; should be set to &lt;tt&gt;false&lt;/tt&gt; (requires Maven 3.6.1 or newer, &lt;a href=&quot;https://issues.apache.org/jira/browse/MNG-6059&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/MNG-6059&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;Also the SCM element and children should be moved to the profile only active when the parent pom is built (as they are never applicable as is to derived modules).&lt;/p&gt;</description>
                <environment></environment>
        <key id="13562563">SLING-12207</key>
            <summary>Use adjusted inheritance rules for URLs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Thu, 21 Dec 2023 09:10:12 +0000</created>
                <updated>Sat, 3 Feb 2024 18:30:27 +0000</updated>
                            <resolved>Fri, 12 Jan 2024 12:01:40 +0000</resolved>
                                                    <fixVersion>Parent 60 (Java 11)</fixVersion>
                                    <component>General</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17803799" author="kwin" created="Sat, 6 Jan 2024 11:19:46 +0000"  >&lt;p&gt;Moving the SCM elements doesn&apos;t really make a difference until &lt;a href=&quot;https://issues.apache.org/jira/browse/MPOM-450&quot; title=&quot;Prevent the SCM elements from being inherited&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MPOM-450&quot;&gt;&lt;del&gt;MPOM-450&lt;/del&gt;&lt;/a&gt; is fixed.&lt;/p&gt;</comment>
                            <comment id="17806024" author="kwin" created="Fri, 12 Jan 2024 12:01:40 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-parent/commit/7ecafb4c9c7069988479ad9e9b9404d0aa8d138c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-parent/commit/7ecafb4c9c7069988479ad9e9b9404d0aa8d138c&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 40 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1mdwg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12201] Regression introduced by SLING-12124</title>
                <link>https://issues.apache.org/jira/browse/SLING-12201</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;With &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-12124&quot; title=&quot;Inconsistent handling of empty selectors&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-12124&quot;&gt;&lt;del&gt;SLING-12124&lt;/del&gt;&lt;/a&gt; urls containing consecutive dots are regarded invalid, however there is a lot of code out there asuming that these are valid ones. Its also easy to mistype a url with two dots.&lt;br/&gt;
To avoid disruption, we should revert.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13561975">SLING-12201</key>
            <summary>Regression introduced by SLING-12124</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Fri, 15 Dec 2023 11:10:23 +0000</created>
                <updated>Mon, 18 Dec 2023 19:48:14 +0000</updated>
                            <resolved>Fri, 15 Dec 2023 11:17:59 +0000</resolved>
                                    <version>Engine 2.15.8</version>
                                    <fixVersion>Engine 2.15.10</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17797144" author="cziegeler" created="Fri, 15 Dec 2023 11:17:59 +0000"  >&lt;p&gt;Reverted in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-engine/commit/7d84c3d3cde95421fe597f5977bf735e50ed55d3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-engine/commit/7d84c3d3cde95421fe597f5977bf735e50ed55d3&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 44 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1ma9s:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12197] cpconverter: Sling-Initial-Content directories created as nt:folder instead of sling:Folder</title>
                <link>https://issues.apache.org/jira/browse/SLING-12197</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;the cpconverter extracts Sling-Initial-Content from OSGi bundles and creates FileVault packages with the transformed content.&lt;/p&gt;

&lt;p&gt;this works well, but there is one difference when the resulting content package is installed compared when uploading the OSGi bundle with the Sling-Initial-Content directly:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;the JCR Content Loader by defaults creates a &lt;tt&gt;sling:Folder&lt;/tt&gt; node type for each directory found in the Sling-Initial-Content (see also &lt;a href=&quot;https://sling.apache.org/documentation/bundles/content-loading-jcr-contentloader.html#initial-content-loading-1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;docs&lt;/a&gt;)&lt;/li&gt;
	&lt;li&gt;the cpconverter process creates no &lt;tt&gt;.content.xml&lt;/tt&gt; file for the folders, but only for the actual JSON files found in the process. as a result, the folders are created as &lt;tt&gt;nt:folder&lt;/tt&gt; when uploading the transformed package&lt;/li&gt;
	&lt;li&gt;this difference becomes relevant, when a JSON file in Sling-Initial-Content defines a primary type of &lt;tt&gt;nt:unstructured&lt;/tt&gt; - it is not allowed to created such a node directly below a &lt;tt&gt;nt:folder&lt;/tt&gt; node - but it is allowed to do so below a &lt;tt&gt;sling:Folder&lt;/tt&gt; node&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="13561381">SLING-12197</key>
            <summary>cpconverter: Sling-Initial-Content directories created as nt:folder instead of sling:Folder</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="10004">Not A Bug</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sseifert">Stefan Seifert</reporter>
                        <labels>
                    </labels>
                <created>Mon, 11 Dec 2023 12:54:01 +0000</created>
                <updated>Mon, 29 Apr 2024 07:59:00 +0000</updated>
                            <resolved>Mon, 29 Apr 2024 07:58:43 +0000</resolved>
                                    <version>Content-Package to Feature Model Converter 1.3.4</version>
                                                    <component>Content-Package to Feature Model Converter</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="17795349" author="sseifert@pro-vision.de" created="Mon, 11 Dec 2023 12:58:47 +0000"  >&lt;p&gt;scenario to reproduce the problem:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;the bundle &lt;a href=&quot;https://repo1.maven.org/maven2/io/wcm/io.wcm.handler.link/1.10.2/io.wcm.handler.link-1.10.2.jar&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repo1.maven.org/maven2/io/wcm/io.wcm.handler.link/1.10.2/io.wcm.handler.link-1.10.2.jar&lt;/a&gt; contains Sling-Initial-Content, and a folder &lt;tt&gt;/apps/wcm-io/handler/link/components/global/include&lt;/tt&gt; with three sub nodes with &lt;tt&gt;nt:unstructured&lt;/tt&gt; node type, represented as three separate JSON files&lt;/li&gt;
	&lt;li&gt;the sample project &lt;a href=&quot;https://github.com/wcm-io/aem-guides-wknd-wcmio&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/wcm-io/aem-guides-wknd-wcmio&lt;/a&gt; builds an &quot;all&quot; content package including (amongst others) this bundle&lt;/li&gt;
	&lt;li&gt;if the &quot;all&quot; content package is transformed using cpconverter 1.3.4, the resulting content package is &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13065206/13065206_io.wcm.handler.link-apps-1.10.2-cp2fm-converted.zip&quot; title=&quot;io.wcm.handler.link-apps-1.10.2-cp2fm-converted.zip attached to SLING-12197&quot;&gt;io.wcm.handler.link-apps-1.10.2-cp2fm-converted.zip&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;/li&gt;
	&lt;li&gt;if the resulting content package is deployed, the folder &lt;tt&gt;/apps/wcm-io/handler/link/components/global/include&lt;/tt&gt; remains empty because the three nodes could not be extracted, error message:&lt;/li&gt;
&lt;/ul&gt;


&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;11.12.2023 13:57:58.295 *WARN* [qtp22494311-117] org.apache.jackrabbit.vault.fs.impl.io.DocViewImporter Error during processing of /apps/wcm-io/handler/link/components/global/include/redirectStatus: javax.jcr.nodetype.ConstraintViolationException: No matching node definition found for redirectStatus, skip node due to import mode UPDATE
11.12.2023 13:57:58.296 *WARN* [qtp22494311-117] org.apache.jackrabbit.vault.fs.impl.io.DocViewImporter Error during processing of /apps/wcm-io/handler/link/components/global/include/linkRefTab: javax.jcr.nodetype.ConstraintViolationException: No matching node definition found for linkRefTab, skip node due to import mode UPDATE
11.12.2023 13:57:58.296 *WARN* [qtp22494311-117] org.apache.jackrabbit.vault.fs.impl.io.DocViewImporter Error during processing of /apps/wcm-io/handler/link/components/global/include/linkRefNoTitleTab: javax.jcr.nodetype.ConstraintViolationException: No matching node definition found for linkRefNoTitleTab, skip node due to import mode UPDATE
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17795351" author="sseifert@pro-vision.de" created="Mon, 11 Dec 2023 13:01:19 +0000"  >&lt;p&gt;at wcm.io, we implemented a similar tooling to transform Sling-Initial-Content to content packages: &lt;a href=&quot;https://github.com/wcm-io/io.wcm.maven.plugins.sling-initial-content-transform-maven-plugin&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/wcm-io/io.wcm.maven.plugins.sling-initial-content-transform-maven-plugin&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;the content package produced by this tool is not affected by the problem, because it creates a dedicated &lt;tt&gt;.content.xml&lt;/tt&gt; for each folder as well, defining the &lt;tt&gt;sling:Folder&lt;/tt&gt; node type. should we follow the same approach for cpconverter as well?&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt;&#160;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt; WDYT?&lt;/p&gt;</comment>
                            <comment id="17795374" author="kwin" created="Mon, 11 Dec 2023 13:44:40 +0000"  >&lt;p&gt;Makes sense to create .content.xml for ancestor nodes. It is not always nt:folder btw but rather is the default node type as outlined in &lt;a href=&quot;https://jackrabbit.apache.org/filevault/filter.html#Uncovered_ancestor_nodes&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://jackrabbit.apache.org/filevault/filter.html#Uncovered_ancestor_nodes&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17795389" author="sseifert@pro-vision.de" created="Mon, 11 Dec 2023 14:14:30 +0000"  >&lt;p&gt;following my example from above, after deployment of &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13065206/13065206_io.wcm.handler.link-apps-1.10.2-cp2fm-converted.zip&quot; title=&quot;io.wcm.handler.link-apps-1.10.2-cp2fm-converted.zip attached to SLING-12197&quot;&gt;io.wcm.handler.link-apps-1.10.2-cp2fm-converted.zip&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;, the following folders and node types exist:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;tt&gt;/apps&lt;/tt&gt;: &lt;tt&gt;sling:Folder&lt;/tt&gt; (already existed)&lt;/li&gt;
	&lt;li&gt;&lt;tt&gt;/apps/wcm-io&lt;/tt&gt;: &lt;tt&gt;sling:Folder&lt;/tt&gt; (automatically created, outside path in filter.xml)&lt;/li&gt;
	&lt;li&gt;&lt;tt&gt;/apps/wcm-io/handler&lt;/tt&gt;: &lt;tt&gt;sling:Folder&lt;/tt&gt; (automatically created, outside path in filter.xml)&lt;/li&gt;
	&lt;li&gt;&lt;tt&gt;/apps/wcm-io/handler/link&lt;/tt&gt;: &lt;tt&gt;nt:folder&lt;/tt&gt; (automatically created, toplevel path defined in filter.xml, no &lt;tt&gt;.content.xml&lt;/tt&gt; exists)&lt;/li&gt;
	&lt;li&gt;all folders below &lt;tt&gt;/apps/wcm-io/handler/link&lt;/tt&gt; are using &lt;tt&gt;nt:folder&lt;/tt&gt; as well&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;i do not understand why &lt;tt&gt;sling:Folder&lt;/tt&gt; is used for the first two created hierarchy nodes (following the parent folder), and then it switches to &lt;tt&gt;nt:folder&lt;/tt&gt; further down in the hierarchy. should not be the case according to &lt;a href=&quot;https://jackrabbit.apache.org/filevault/filter.html#Uncovered_ancestor_nodes&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://jackrabbit.apache.org/filevault/filter.html#Uncovered_ancestor_nodes&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="17795392" author="kwin" created="Mon, 11 Dec 2023 14:21:53 +0000"  >&lt;p&gt;That example makes perfect sense. Only the first three levels are outside the filter rules root node (and are therefore &quot;uncovered&quot; ancestor nodes).&lt;br/&gt;
The other levels are covered by the filter rule and therefore are recreated/enforced with the node type given in the serialization (in the case without a .content.xml always nt:folder, &lt;a href=&quot;https://jackrabbit.apache.org/filevault/vaultfs.html#Folder_aggregates&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://jackrabbit.apache.org/filevault/vaultfs.html#Folder_aggregates&lt;/a&gt;).&lt;/p&gt;</comment>
                            <comment id="17795680" author="rombert" created="Tue, 12 Dec 2023 10:59:43 +0000"  >&lt;p&gt;I think we&apos;ve talked about this quite a bit in different Jira issues/GitHub PRs ... I need a bit of time to catch up &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17840385" author="sseifert@pro-vision.de" created="Wed, 24 Apr 2024 10:44:08 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt; any news on this one?&lt;/p&gt;

&lt;p&gt;we need to make sure cpconverter creates a &lt;tt&gt;.content.xml&lt;/tt&gt; with &lt;tt&gt;jcr:primaryType=sling:Folder&lt;/tt&gt; for each folder found in Sling-Initial-Content which do not have a node type defined explicitly, so it behaves the same as the Sling Content Loader.&lt;/p&gt;

&lt;p&gt;i looked again a bit deeper at the cpconverter implementation, but the handling of Sling-Initial-Content and handing it over to the other processing is rather complex, so i currently do not feel confident to come up with a quick patch.&lt;/p&gt;</comment>
                            <comment id="17840675" author="rombert" created="Thu, 25 Apr 2024 06:53:57 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseifert&quot; class=&quot;user-hover&quot; rel=&quot;sseifert&quot;&gt;sseifert&lt;/a&gt; - I did not have time to look into it in depth, but reading through the description it seems like a clear incompatibility between the CP Converter and Initial Content behaviour that we need to address. I don&apos;t know the codebase that well either, so a fix is not immediate for me either, unfortunately.&lt;/p&gt;</comment>
                            <comment id="17840751" author="sseifert@pro-vision.de" created="Thu, 25 Apr 2024 10:41:17 +0000"  >&lt;p&gt;can we reach out to &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Sc0rpic0m&quot; class=&quot;user-hover&quot; rel=&quot;Sc0rpic0m&quot;&gt;Sc0rpic0m&lt;/a&gt; who did the initial implementation as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-10931&quot; title=&quot;CPConverter - Sling initial content - json files should be converted to folders with a content xml in any case to avoid conflicts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-10931&quot;&gt;&lt;del&gt;SLING-10931&lt;/del&gt;&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="17840821" author="rombert" created="Thu, 25 Apr 2024 14:14:49 +0000"  >&lt;p&gt;Sure, if Niek has the time to look at it I&apos;m all for it &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; I looked the initial PR from &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-10931&quot; title=&quot;CPConverter - Sling initial content - json files should be converted to folders with a content xml in any case to avoid conflicts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-10931&quot;&gt;&lt;del&gt;SLING-10931&lt;/del&gt;&lt;/a&gt; and it&apos;s a lot of code, not easy to figure out where to insert what.&lt;/p&gt;

&lt;p&gt;As for the test case, it would be very helpful if you could create a simple package with Sling initial content that install on the latest Sling Starter but fails when passed through the CP Converter. The bundle you linked above requires AEM-specific APIs and I can&apos;t use it for testing. &lt;/p&gt;</comment>
                            <comment id="17840834" author="sseifert@pro-vision.de" created="Thu, 25 Apr 2024 14:44:22 +0000"  >&lt;p&gt;good point - i discovered that most of the test code for Sling-Initial-Content is in this test class:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/blob/master/src/test/java/org/apache/sling/feature/cpconverter/handlers/BundleEntryHandleSlingInitialContentTest.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/blob/master/src/test/java/org/apache/sling/feature/cpconverter/handlers/BundleEntryHandleSlingInitialContentTest.java&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;and the good thing the unit test uses already a jar file &lt;tt&gt;io.wcm.handler.media-1.11.6.jar&lt;/tt&gt; which is affected exactly by the problem. i&apos;ve found that there is already an implementation that should fix the problem described in this ticket (but does not actually), this path is exactly verified here as repoinit statement, but fails to be created with sling:Folder currently (nt:folder instead):&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/blob/2ed5bdc8ccaf8ab9079268bfbc9d1fdc77bbd485/src/test/java/org/apache/sling/feature/cpconverter/handlers/BundleEntryHandleSlingInitialContentTest.java#L146&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-feature-cpconverter/blob/2ed5bdc8ccaf8ab9079268bfbc9d1fdc77bbd485/src/test/java/org/apache/sling/feature/cpconverter/handlers/BundleEntryHandleSlingInitialContentTest.java#L146&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;so maybe this is a pointer to a strange thing: the whole initial content processing with the folder primary types worked initially fine (e.g. with cpconverter around 1.1.25), and broke some time later. maybe the root cause is not the sling-initial-content processing, but the processing of the repoinit statements it creates?&lt;/p&gt;

&lt;p&gt;e.g. if the order of deploying the content package generated from the jar file, and execution of the repoinit statements is done in the wrong way (package first), it will break, if it is done right it will work. because the repoinit statements in the unit test look correct and should fix the problem.&lt;/p&gt;

&lt;p&gt;maybe the problem is not within cpconverter, but in downstream code picking up the resulting packages and repoinit statements, and the problem lies there (i.e. AEMaaCS build pipeline)?&lt;/p&gt;</comment>
                            <comment id="17840857" author="sc0rpic0m" created="Thu, 25 Apr 2024 15:56:32 +0000"  >&lt;p&gt;I am totally up to look into this , but it has to be aligned with priorities (aka management).&#160;&lt;/p&gt;

&lt;p&gt;Also because I haven&apos;t touched this in quite some time and it will take some context switching.&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseifert&quot; class=&quot;user-hover&quot; rel=&quot;sseifert&quot;&gt;sseifert&lt;/a&gt;&#160; your comments are the first make some sense to me why it now breaks all of sudden, because I didn&apos;t touch this for a very long time.&lt;/p&gt;

&lt;p&gt;I guess pinpointing this might be time intensive though but I guess we don&apos;t have much choice at this point?&lt;/p&gt;</comment>
                            <comment id="17840859" author="sc0rpic0m" created="Thu, 25 Apr 2024 15:58:09 +0000"  >&lt;p&gt;At least for mutable content, if i&apos;m not wrong we use the order of the generated packages.csv from the cpconverter to deploy later.&lt;/p&gt;</comment>
                            <comment id="17841068" author="sseifert@pro-vision.de" created="Fri, 26 Apr 2024 07:02:13 +0000"  >&lt;blockquote&gt;&lt;p&gt;At least for mutable content, if i&apos;m not wrong we use the order of the generated packages.csv from the cpconverter to deploy later.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;yes, but in this case its about the ordering of (sticking to the unit test example):&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;repoinit statements generated from &lt;tt&gt;io.wcm.handler.media-1.11.6.jar&lt;/tt&gt;&lt;/li&gt;
	&lt;li&gt;content package &lt;tt&gt;io.wcm.handler.media-apps-1.11.6-cp2fm-converted.zip&lt;/tt&gt; with &lt;b&gt;immutable&lt;/b&gt; content generated from &lt;tt&gt;io.wcm.handler.media-1.11.6.jar&lt;/tt&gt;, containing nodes and scripts below &lt;tt&gt;/apps&lt;/tt&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;they have to be executed in exactly this order - if the folders already exists after installing the package the repoinit statements have no effect.&lt;/p&gt;</comment>
                            <comment id="17841291" author="sc0rpic0m" created="Fri, 26 Apr 2024 16:19:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseifert&quot; class=&quot;user-hover&quot; rel=&quot;sseifert&quot;&gt;sseifert&lt;/a&gt;&#160; we identified the issue. the create path repoinit statements were not created due to a different invocation of the CPConverter then before. Strangely enough, the packages were extracted from the bundle. In any case it&apos;s upstream.&lt;/p&gt;</comment>
                            <comment id="17841292" author="sc0rpic0m" created="Fri, 26 Apr 2024 16:22:04 +0000"  >&lt;p&gt;In particular: the invocation resides here: &lt;a href=&quot;https://github.com/adobe/aemanalyser-maven-plugin/blob/main/aemanalyser-core/src/main/java/com/adobe/aem/analyser/AemPackageConverter.java#L135&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/adobe/aemanalyser-maven-plugin/blob/main/aemanalyser-core/src/main/java/com/adobe/aem/analyser/AemPackageConverter.java#L135&lt;/a&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17841445" author="sseifert@pro-vision.de" created="Sat, 27 Apr 2024 09:54:19 +0000"  >&lt;p&gt;thanks for the analysis!&lt;/p&gt;</comment>
                            <comment id="17841594" author="sc0rpic0m" created="Sun, 28 Apr 2024 07:14:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/adobe/aemanalyser-maven-plugin/pull/220&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/adobe/aemanalyser-maven-plugin/pull/220&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseifert&quot; class=&quot;user-hover&quot; rel=&quot;sseifert&quot;&gt;sseifert&lt;/a&gt;&#160; fyi&lt;/p&gt;</comment>
                            <comment id="17841882" author="rombert" created="Mon, 29 Apr 2024 07:43:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Sc0rpic0m&quot; class=&quot;user-hover&quot; rel=&quot;Sc0rpic0m&quot;&gt;Sc0rpic0m&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseifert&quot; class=&quot;user-hover&quot; rel=&quot;sseifert&quot;&gt;sseifert&lt;/a&gt; - any concerns with closing this and tracking the fix on the AEM Analyser side?&lt;/p&gt;</comment>
                            <comment id="17841888" author="sseifert@pro-vision.de" created="Mon, 29 Apr 2024 07:58:43 +0000"  >&lt;p&gt;closing this ticket, as the root cause was not in the cpconverter&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13065206" name="io.wcm.handler.link-apps-1.10.2-cp2fm-converted.zip" size="34844" author="sseifert" created="Mon, 11 Dec 2023 12:59:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 25 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1m6m0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12196] allowSelfChangePassword config key does not match</title>
                <link>https://issues.apache.org/jira/browse/SLING-12196</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The ChangeUserPasswordServlet$Config OCD defines the &quot;Allow Self Password Change&quot; value that uses the &quot;allowSelfChangePassword&quot; key.&#160;&lt;/p&gt;

&lt;p&gt;Unfortunately, the ChangeUserPasswordServlet#activate and AuthorizablePrivilegesInfoImpl#bindChangeUserPassword code was using &quot;alwaysAllowSelfChangePassword&quot; as the config property name which does not match the name defined in the config definition.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Expected:&lt;/p&gt;

&lt;p&gt;Change the code to use the correct property name.&#160; Also, provide backward compatibility by checking for the old name as well and log a warning to prompt the user to update their configuration.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13561296">SLING-12196</key>
            <summary>allowSelfChangePassword config key does not match</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="enorman">Eric Norman</assignee>
                                    <reporter username="enorman">Eric Norman</reporter>
                        <labels>
                    </labels>
                <created>Mon, 11 Dec 2023 03:22:43 +0000</created>
                <updated>Sat, 23 Dec 2023 21:12:18 +0000</updated>
                            <resolved>Mon, 18 Dec 2023 00:21:53 +0000</resolved>
                                                    <fixVersion>JCR Jackrabbit User Manager 2.2.30</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17797981" author="enorman" created="Mon, 18 Dec 2023 00:21:53 +0000"  >&lt;p&gt;Merged PR at: &#160;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-jcr-jackrabbit-usermanager/commit/84c75c5f242db21d199ca472b65929f3f8d85bc3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;&lt;tt&gt;84c75c5&lt;/tt&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 44 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1m634:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12194] Cycle between scripting services</title>
                <link>https://issues.apache.org/jira/browse/SLING-12194</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;There can be an activation cycle between the SlingScriptEngineManager , the ScriptEngines and the ScriptCache if a ScriptEngine (e.g. Sightly) requires the ScriptCache. The ScriptCache also requires the SlingScriptEngineManager  which then completes the cycle&lt;/p&gt;</description>
                <environment></environment>
        <key id="13561163">SLING-12194</key>
            <summary>Cycle between scripting services</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Fri, 8 Dec 2023 14:21:17 +0000</created>
                <updated>Thu, 24 Apr 2025 14:56:55 +0000</updated>
                            <resolved>Fri, 8 Dec 2023 15:04:44 +0000</resolved>
                                    <version>Scripting Core 2.4.8</version>
                                    <fixVersion>Scripting Core 2.4.10</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17794760" author="cziegeler" created="Fri, 8 Dec 2023 15:04:44 +0000"  >&lt;p&gt;I broke the cycle by moving the event based invalidation to a separate component and bending slightly the contract of the removeScript method of the cache (now able to take a prefix path)&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-scripting-core/commit/3249d3989bd0ca7f7dc5552d4ce6f4853c577425&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-scripting-core/commit/3249d3989bd0ca7f7dc5552d4ce6f4853c577425&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17794770" author="cziegeler" created="Fri, 8 Dec 2023 15:14:57 +0000"  >&lt;p&gt;Fix configuration handling &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-scripting-core/commit/6be8493b45aad7c771ce3f00e5606239e76af948&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-scripting-core/commit/6be8493b45aad7c771ce3f00e5606239e76af948&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17795068" author="cziegeler" created="Sun, 10 Dec 2023 11:40:28 +0000"  >&lt;p&gt;Fix dependency handling by moving dependency on service user mapping to the component which is using the service user&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-scripting-core/commit/0170d8713d26995d18cfb0b6d5bd01d4288ce7c1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-scripting-core/commit/0170d8713d26995d18cfb0b6d5bd01d4288ce7c1&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17795069" author="cziegeler" created="Sun, 10 Dec 2023 11:40:56 +0000"  >&lt;p&gt;Improve thread and cache handling and add basic test for script cache&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-scripting-core/commit/6c1ca32ea83939a45ebb5f1ac2ac20062cd9ad90&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-scripting-core/commit/6c1ca32ea83939a45ebb5f1ac2ac20062cd9ad90&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13616016">SLING-12755</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 45 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1m59k:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12193] Potential concurrency issue in ScriptCacheImpl</title>
                <link>https://issues.apache.org/jira/browse/SLING-12193</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The field extensions is read in a write lock but might be modified in handleEvent() without any synchronization&lt;/p&gt;</description>
                <environment></environment>
        <key id="13561151">SLING-12193</key>
            <summary>Potential concurrency issue in ScriptCacheImpl</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Fri, 8 Dec 2023 13:34:03 +0000</created>
                <updated>Thu, 5 Sep 2024 06:04:57 +0000</updated>
                            <resolved>Fri, 8 Dec 2023 14:19:44 +0000</resolved>
                                    <version>Scripting Core 2.4.8</version>
                                    <fixVersion>Scripting Core 2.4.10</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17794736" author="cziegeler" created="Fri, 8 Dec 2023 14:19:44 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-scripting-core/commit/d38ba1d5ae99d5182a88bb89d5afec4b91944bb2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-scripting-core/commit/d38ba1d5ae99d5182a88bb89d5afec4b91944bb2&lt;/a&gt;&lt;br/&gt;
In addition, the ResourceChangeListener service registration is only updated, if something changes&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 45 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1m56w:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12192] caconfig-mock-plugin: Fix nested config path building when writing config with custom persistence strategies</title>
                <link>https://issues.apache.org/jira/browse/SLING-12192</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;as reported in &lt;a href=&quot;https://github.com/wcm-io/io.wcm.testing.aem-mock/issues/25&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/wcm-io/io.wcm.testing.aem-mock/issues/25&lt;/a&gt; there is currently an issue when custom persistence strategies are in place: nested configurations may be written in invalid paths, resulting in not found when reading the configuration again.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13561148">SLING-12192</key>
            <summary>caconfig-mock-plugin: Fix nested config path building when writing config with custom persistence strategies</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="sseifert">Stefan Seifert</reporter>
                        <labels>
                    </labels>
                <created>Fri, 8 Dec 2023 13:13:51 +0000</created>
                <updated>Fri, 15 Dec 2023 13:20:42 +0000</updated>
                            <resolved>Fri, 8 Dec 2023 13:25:07 +0000</resolved>
                                    <version>Context-Aware Configuration Mock Plugin 1.5.2</version>
                                    <fixVersion>Context-Aware Configuration Mock Plugin 1.5.4</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17794712" author="sseifert@pro-vision.de" created="Fri, 8 Dec 2023 13:25:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-testing-caconfig-mock-plugin/commit/ee86a7f1c858af337b06b086473462ea9b283b7d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-testing-caconfig-mock-plugin/commit/ee86a7f1c858af337b06b086473462ea9b283b7d&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 45 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1m568:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12185] AuthorizableResourceProvider getResource matches wrong prefix</title>
                <link>https://issues.apache.org/jira/browse/SLING-12185</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;resourceResolver.getResource(&quot;/userManager/user/group1&quot;) returns a resource object&#160; when it should return null because the path of the group resource is actually &quot;/userManager/group/group1&quot;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Expected:&lt;/p&gt;

&lt;p&gt;The AuthorizableResourceProvider needs to check the type of the found Authorizable to ensure that the object type matches the expected resource path prefix before using it to return an AuthorizableResource.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13560872">SLING-12185</key>
            <summary>AuthorizableResourceProvider getResource matches wrong prefix</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="enorman">Eric Norman</assignee>
                                    <reporter username="enorman">Eric Norman</reporter>
                        <labels>
                    </labels>
                <created>Wed, 6 Dec 2023 20:07:01 +0000</created>
                <updated>Sat, 23 Dec 2023 21:12:11 +0000</updated>
                            <resolved>Thu, 7 Dec 2023 19:04:59 +0000</resolved>
                                                    <fixVersion>JCR Jackrabbit User Manager 2.2.30</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17794398" author="enorman" created="Thu, 7 Dec 2023 19:04:59 +0000"  >&lt;p&gt;Merged PR at: &#160;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-jcr-jackrabbit-usermanager/commit/bfa57e790ccd2c47440223e6482b5da46090f148&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;&lt;tt&gt;bfa57e7&lt;/tt&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 45 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1m3gw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12180] Consider ProviderType annotations on package level as well</title>
                <link>https://issues.apache.org/jira/browse/SLING-12180</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The annotation &lt;a href=&quot;https://docs.osgi.org/javadoc/osgi.annotation/7.0.0/org/osgi/annotation/versioning/ProviderType.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://docs.osgi.org/javadoc/osgi.annotation/7.0.0/org/osgi/annotation/versioning/ProviderType.html&lt;/a&gt; can be used both on type level as well as on package level. If it is set on package level that annotation takes precedence over all type level annotations in that package.&lt;br/&gt;
In the context of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-12135&quot; title=&quot;Expose provider types in apis jar&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-12135&quot;&gt;&lt;del&gt;SLING-12135&lt;/del&gt;&lt;/a&gt; only class level annotations are being considered.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13560696">SLING-12180</key>
            <summary>Consider ProviderType annotations on package level as well</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Tue, 5 Dec 2023 18:58:40 +0000</created>
                <updated>Wed, 6 Dec 2023 12:53:09 +0000</updated>
                                            <version>OSGi Feature Maven Plugin 1.8.0</version>
                                                    <component>Maven Plugins and Archetypes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17793400" author="kwin" created="Tue, 5 Dec 2023 19:01:00 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; Can you have a look? Currently &lt;a href=&quot;https://github.com/apache/sling-slingfeature-maven-plugin/blob/96ed3a18bd1b10111f5c92a9046fff19a9f7b7a8/src/main/java/org/apache/sling/feature/maven/mojos/apis/ClassFileProcessor.java#L36&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-slingfeature-maven-plugin/blob/96ed3a18bd1b10111f5c92a9046fff19a9f7b7a8/src/main/java/org/apache/sling/feature/maven/mojos/apis/ClassFileProcessor.java#L36&lt;/a&gt; does not consider the annotation on package level (like what is done in &lt;a href=&quot;https://github.com/bndtools/bnd/blob/d06df066f402f1433b70c51f568c40a444b4518d/biz.aQute.bndlib/src/aQute/bnd/osgi/Analyzer.java#L844C7-L844C7&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/bndtools/bnd/blob/d06df066f402f1433b70c51f568c40a444b4518d/biz.aQute.bndlib/src/aQute/bnd/osgi/Analyzer.java#L844C7-L844C7&lt;/a&gt;). &lt;/p&gt;</comment>
                            <comment id="17793408" author="cziegeler" created="Tue, 5 Dec 2023 19:50:41 +0000"  >&lt;p&gt;The mechanism currently used does not have access to package level annotations. This would be a completely new mechanism just for this use case.&lt;br/&gt;
I haven&apos;t seen this annotation being used on the package level yet, and I would bet that there is other tooling out there which does not take it into account.&lt;br/&gt;
I suggest we look at this, once we have an actual use case.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13557300">SLING-12135</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 46 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1m2ds:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12177] Status poller is created once per agent but should only be created once</title>
                <link>https://issues.apache.org/jira/browse/SLING-12177</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;We are creating the status poller once per distribution agent:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-distribution-journal/blob/0e38eb8dc91008f70c5ea64b4e1906afdc7dfda5/src/main/java/org/apache/sling/distribution/journal/impl/publisher/DistributionPublisher.java#L170&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-distribution-journal/blob/0e38eb8dc91008f70c5ea64b4e1906afdc7dfda5/src/main/java/org/apache/sling/distribution/journal/impl/publisher/DistributionPublisher.java#L170&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This causes a lot of stress on the system as we also read the topic from earliest.&#160;&lt;/p&gt;

&lt;p&gt;So if we have 4 agents we read all status messages 4 times which can be considerable data.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13560501">SLING-12177</key>
            <summary>Status poller is created once per agent but should only be created once</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cschneider">Christian Schneider</assignee>
                                    <reporter username="cschneider">Christian Schneider</reporter>
                        <labels>
                    </labels>
                <created>Mon, 4 Dec 2023 14:53:15 +0000</created>
                <updated>Wed, 3 Jan 2024 14:25:44 +0000</updated>
                            <resolved>Wed, 3 Jan 2024 14:25:44 +0000</resolved>
                                                    <fixVersion>Content Distribution Journal Core 0.3.0</fixVersion>
                                    <component>Content Distribution</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 46 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1m16g:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12174] Parameter &apos;defaultMetadata&apos; is unknown for plugin</title>
                <link>https://issues.apache.org/jira/browse/SLING-12174</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When running the slingfeature maven plugin with latest Apache Maven, the warning &quot;Parameter &apos;defaultMetadata&apos; is unknown for plugin&quot; appears for all goals.&lt;br/&gt;
This is due to the fact that this parameter is evaluated in the preprocessor.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13560405">SLING-12174</key>
            <summary>Parameter &apos;defaultMetadata&apos; is unknown for plugin</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Mon, 4 Dec 2023 06:28:02 +0000</created>
                <updated>Sat, 27 Apr 2024 21:08:02 +0000</updated>
                            <resolved>Mon, 4 Dec 2023 06:36:09 +0000</resolved>
                                    <version>OSGi Feature Maven Plugin 1.8.0</version>
                                    <fixVersion>OSGi Feature Maven Plugin 1.8.2</fixVersion>
                                    <component>Feature Model</component>
                    <component>Maven Plugins and Archetypes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17792655" author="cziegeler" created="Mon, 4 Dec 2023 06:36:09 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-slingfeature-maven-plugin/commit/e29f9aa897bc12ed179750425472e4cc5464b344&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-slingfeature-maven-plugin/commit/e29f9aa897bc12ed179750425472e4cc5464b344&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 46 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1m0l4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12173] Configuration errors in Eclipse for projects using the slingfeature-maven-plugin</title>
                <link>https://issues.apache.org/jira/browse/SLING-12173</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The slingfeature-maven-plugin currently uses the Jakarta JSON implementation of the Apache Johnzon parser. &lt;/p&gt;

&lt;p&gt;I have noticed problems in the Eclipse IDE, where projects fail to update with hard to isolate errors (see below).&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.util.ServiceConfigurationError: jakarta.json.spi.JsonProvider: org.apache.johnzon.core.JsonProviderImpl not a subtype
	at java.base/java.util.ServiceLoader.fail(ServiceLoader.java:593)
	at java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.hasNextService(ServiceLoader.java:1244)
	at java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.hasNext(ServiceLoader.java:1273)
	at java.base/java.util.ServiceLoader$2.hasNext(ServiceLoader.java:1309)
	at java.base/java.util.ServiceLoader$3.hasNext(ServiceLoader.java:1393)
	at jakarta.json.spi.JsonProvider.provider(JsonProvider.java:69)
	at jakarta.json.Json.createReader(Json.java:189)
	at org.apache.sling.feature.maven.JSONFeatures.read(JSONFeatures.java:64)
	at org.apache.sling.feature.maven.ProjectHelper.readFeatureFile(ProjectHelper.java:622)
	at org.apache.sling.feature.maven.Preprocessor.readProjectFeatures(Preprocessor.java:304)
	at org.apache.sling.feature.maven.Preprocessor.process(Preprocessor.java:145)
	at org.apache.sling.feature.maven.Preprocessor.process(Preprocessor.java:110)
	at org.apache.sling.feature.maven.extensions.DependencyLifecycleParticipant.afterProjectsRead(DependencyLifecycleParticipant.java:87)
	at org.eclipse.m2e.core.internal.project.registry.ProjectRegistryManager.executeParticipants(ProjectRegistryManager.java:824)
	at org.eclipse.m2e.core.internal.project.registry.ProjectRegistryManager.lambda$15(ProjectRegistryManager.java:791)
	at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.executeBare(MavenExecutionContext.java:394)
	at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:275)
	at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:214)
	at org.eclipse.m2e.core.internal.project.registry.ProjectRegistryManager.lambda$14(ProjectRegistryManager.java:790)
	at java.base/java.util.HashMap$Values.forEach(HashMap.java:1065)
	at org.eclipse.m2e.core.internal.project.registry.ProjectRegistryManager.lambda$11(ProjectRegistryManager.java:788)
	at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.executeBare(MavenExecutionContext.java:394)
	at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:275)
	at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:214)
	at org.eclipse.m2e.core.internal.project.registry.ProjectRegistryManager.readMavenProjectFacades(ProjectRegistryManager.java:760)
	at org.eclipse.m2e.core.internal.project.registry.ProjectRegistryManager.refresh(ProjectRegistryManager.java:392)
	at org.eclipse.m2e.core.internal.project.registry.ProjectRegistryManager.refresh(ProjectRegistryManager.java:366)
	at org.eclipse.m2e.core.internal.project.registry.ProjectRegistryManager.refresh(ProjectRegistryManager.java:318)
	at org.eclipse.m2e.core.internal.builder.MavenBuilder$BuildMethod.getProjectFacade(MavenBuilder.java:146)
	at org.eclipse.m2e.core.internal.builder.MavenBuilder$BuildMethod.lambda$0(MavenBuilder.java:84)
	at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.executeBare(MavenExecutionContext.java:394)
	at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:275)
	at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:214)
	at org.eclipse.m2e.core.internal.builder.MavenBuilder$BuildMethod.execute(MavenBuilder.java:83)
	at org.eclipse.m2e.core.internal.builder.MavenBuilder.build(MavenBuilder.java:192)
	at org.eclipse.core.internal.events.BuildManager$2.run(BuildManager.java:1079)
	at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)
	at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:296)
	at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:352)
	at org.eclipse.core.internal.events.BuildManager$1.run(BuildManager.java:441)
	at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)
	at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:444)
	at org.eclipse.core.internal.events.BuildManager.basicBuildLoop(BuildManager.java:555)
	at org.eclipse.core.internal.events.BuildManager.basicBuildLoop(BuildManager.java:503)
	at org.eclipse.core.internal.events.BuildManager.build(BuildManager.java:585)
	at org.eclipse.core.internal.events.AutoBuildJob.doBuild(AutoBuildJob.java:207)
	at org.eclipse.core.internal.events.AutoBuildJob.run(AutoBuildJob.java:300)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13560246">SLING-12173</key>
            <summary>Configuration errors in Eclipse for projects using the slingfeature-maven-plugin</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 1 Dec 2023 16:43:37 +0000</created>
                <updated>Sat, 27 Apr 2024 21:08:02 +0000</updated>
                            <resolved>Thu, 25 Apr 2024 08:41:25 +0000</resolved>
                                                    <fixVersion>OSGi Feature Maven Plugin 1.8.2</fixVersion>
                                    <component>Maven Plugins and Archetypes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17792131" author="rombert" created="Fri, 1 Dec 2023 16:53:40 +0000"  >&lt;p&gt;I tried switching the parser implementation to Parsson, but that did not help&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.util.ServiceConfigurationError: jakarta.json.spi.JsonProvider: org.eclipse.parsson.JsonProviderImpl not a subtype
	at java.base/java.util.ServiceLoader.fail(ServiceLoader.java:593)
	at java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.hasNextService(ServiceLoader.java:1244)
	at java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.hasNext(ServiceLoader.java:1273)
	at java.base/java.util.ServiceLoader$2.hasNext(ServiceLoader.java:1309)
	at java.base/java.util.ServiceLoader$3.hasNext(ServiceLoader.java:1393)
	at jakarta.json.spi.JsonProvider.provider(JsonProvider.java:69)
	at jakarta.json.Json.createReader(Json.java:189)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This is very likely an Eclipse IDE problem.&lt;/p&gt;</comment>
                            <comment id="17792659" author="cziegeler" created="Mon, 4 Dec 2023 06:47:17 +0000"  >&lt;p&gt;Maybe this is because we use a 2.0.x API of jakarta.json and a 2.1.x (or higher) is required?&lt;/p&gt;</comment>
                            <comment id="17792762" author="rombert" created="Mon, 4 Dec 2023 10:11:58 +0000"  >&lt;p&gt;Good point &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;. I have made the following change to the POM&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;diff --git a/pom.xml b/pom.xml
index 1172d97..d308a5b 100644
--- a/pom.xml
+++ b/pom.xml
@@ -190,14 +190,13 @@
         &amp;lt;dependency&amp;gt;
             &amp;lt;groupId&amp;gt;jakarta.json&amp;lt;/groupId&amp;gt;
             &amp;lt;artifactId&amp;gt;jakarta.json-api&amp;lt;/artifactId&amp;gt;
-            &amp;lt;version&amp;gt;2.0.2&amp;lt;/version&amp;gt;
+            &amp;lt;version&amp;gt;2.1.3&amp;lt;/version&amp;gt;
             &amp;lt;scope&amp;gt;compile&amp;lt;/scope&amp;gt;
         &amp;lt;/dependency&amp;gt;
         &amp;lt;dependency&amp;gt;
-            &amp;lt;groupId&amp;gt;org.apache.johnzon&amp;lt;/groupId&amp;gt;
-            &amp;lt;artifactId&amp;gt;johnzon-core&amp;lt;/artifactId&amp;gt;
-            &amp;lt;classifier&amp;gt;jakarta&amp;lt;/classifier&amp;gt;
-            &amp;lt;version&amp;gt;1.2.21&amp;lt;/version&amp;gt;
+            &amp;lt;groupId&amp;gt;org.eclipse.parsson&amp;lt;/groupId&amp;gt;
+            &amp;lt;artifactId&amp;gt;parsson&amp;lt;/artifactId&amp;gt;
+            &amp;lt;version&amp;gt;1.1.5&amp;lt;/version&amp;gt;
             &amp;lt;scope&amp;gt;compile&amp;lt;/scope&amp;gt;
         &amp;lt;/dependency&amp;gt;
         &amp;lt;dependency&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and it seems to work fine in Eclipse now. It did not work with jakata.json-api 2.0.2 and parssson 1.0.3. I will keep working with this change locally for a while to make sure the problem does not reappear.&lt;/p&gt;</comment>
                            <comment id="17792857" author="rombert" created="Mon, 4 Dec 2023 13:47:09 +0000"  >&lt;p&gt;Opening an older project greeted me with a javax.json error, so this does not seem related to jakarta only.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;An internal error occurred during: &quot;Building&quot;.
javax.json.spi.JsonProvider: org.apache.johnzon.core.JsonProviderImpl not a subtype&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17795599" author="cziegeler" created="Tue, 12 Dec 2023 05:59:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt; But that was an older slingfeature maven plugin version? We should not have any dependency on javax.json anymore&lt;/p&gt;</comment>
                            <comment id="17840540" author="rombert" created="Wed, 24 Apr 2024 18:39:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; - that was my attempt to try out and see if the older plug-in version has the same problem. It does have it, so both the jakarta.json and javax.json implementations are problematic - in Eclipse, for me.&lt;/p&gt;

&lt;p&gt;I suspect this is a classloader interaction between&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Maven/Plexus&lt;/li&gt;
	&lt;li&gt;the OSGi runtime from Eclipse (Equinox)&lt;/li&gt;
	&lt;li&gt;the ServiceLoader framework&lt;/li&gt;
	&lt;li&gt;m2e&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I &lt;em&gt;could&lt;/em&gt; try and chase this down across these projects but it seems like a lot of work. Instead, I am experimenting with using our commons.johnzon dependency instead the official JSON artifacts, and for now it seems to work fine.&lt;/p&gt;

&lt;p&gt;IIUC this would avoid any such classloading issues, and hopefully will not bring any problems with Maven executions. I&apos;ll try to run some tests over the coming days, but wanted to check what you think of this approach.&lt;/p&gt;</comment>
                            <comment id="17840686" author="cziegeler" created="Thu, 25 Apr 2024 07:27:50 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt; To be honest I prefer our wrapper over the other solutions; its much simpler to use - it also is faster due to the hard coded factory.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 26 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1lzls:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12169] Incorrect mapping of resource names containing &apos;#&apos; or &apos;?&apos;</title>
                <link>https://issues.apache.org/jira/browse/SLING-12169</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Sling API does not limit valid characters for resource names. However, the underlying providers may impose some limitation (like JCR does). &lt;br/&gt;
Still the ResourceResolverImpl.getAllMappings() does incorrectly strip the given resource path by stripping of everything after &lt;tt&gt;?&lt;/tt&gt; or &lt;tt&gt;#&lt;/tt&gt; (&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-resourceresolver/blob/a19995d2ec700f1b444adc52c783cdbceae5a7ce/src/main/java/org/apache/sling/resourceresolver/impl/mapping/ResourceMapperImpl.java#L117&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-resourceresolver/blob/a19995d2ec700f1b444adc52c783cdbceae5a7ce/src/main/java/org/apache/sling/resourceresolver/impl/mapping/ResourceMapperImpl.java#L117&lt;/a&gt;). That is an invalid assumption as resource names containing those characters are totally fine for Sling.&lt;/p&gt;

&lt;p&gt;The javadoc should be clarified with regards to the given argument. Either it is a resource path only (then it should not be preprocessed) or it contains an encoded URI (then it needs to be decoded first by the ResourceMapperImpl).&lt;/p&gt;</description>
                <environment></environment>
        <key id="13559695">SLING-12169</key>
            <summary>Incorrect mapping of resource names containing &apos;#&apos; or &apos;?&apos;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 Nov 2023 11:26:27 +0000</created>
                <updated>Tue, 28 Nov 2023 11:34:44 +0000</updated>
                                                                            <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 47 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1lw7c:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12167] MockAuthorizable setProperty(String, Value[]) should create any missing intermediate nodes</title>
                <link>https://issues.apache.org/jira/browse/SLING-12167</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;MockAuthorizable setProperty(String, Value[]) should create any missing intermediate nodes&lt;/p&gt;

&lt;p&gt;If the relPath argument contains multiple segments, then any missing intermediate nodes should be autocreated&lt;/p&gt;</description>
                <environment></environment>
        <key id="13559115">SLING-12167</key>
            <summary>MockAuthorizable setProperty(String, Value[]) should create any missing intermediate nodes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="enorman">Eric Norman</assignee>
                                    <reporter username="enorman">Eric Norman</reporter>
                        <labels>
                    </labels>
                <created>Wed, 22 Nov 2023 23:16:37 +0000</created>
                <updated>Sat, 23 Dec 2023 21:25:13 +0000</updated>
                            <resolved>Fri, 24 Nov 2023 21:09:09 +0000</resolved>
                                                    <fixVersion>Testing JCR Mock 1.6.12</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17789575" author="enorman" created="Fri, 24 Nov 2023 21:09:09 +0000"  >&lt;p&gt;Merged PR at: &#160;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-testing-jcr-mock/commit/f9c25bcb718f6f83e52d683757c57c24d132cdbd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;&lt;tt&gt;f9c25bc&lt;/tt&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 47 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1lsmw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12166] MockUserManager getAuthorizable(String, Class) should return null if the authorizable does not exist</title>
                <link>https://issues.apache.org/jira/browse/SLING-12166</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;MockUserManager#getAuthorizable(String, Class) should return null if the user or group does not exist.&#160; Currently it throws a AuthorizableTypeException instead.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13559114">SLING-12166</key>
            <summary>MockUserManager getAuthorizable(String, Class) should return null if the authorizable does not exist</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="enorman">Eric Norman</assignee>
                                    <reporter username="enorman">Eric Norman</reporter>
                        <labels>
                    </labels>
                <created>Wed, 22 Nov 2023 22:41:11 +0000</created>
                <updated>Sat, 23 Dec 2023 21:25:06 +0000</updated>
                            <resolved>Fri, 24 Nov 2023 21:08:31 +0000</resolved>
                                                    <fixVersion>Testing JCR Mock 1.6.12</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17789574" author="enorman" created="Fri, 24 Nov 2023 21:08:31 +0000"  >&lt;p&gt;Merged PR at: &#160;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-testing-jcr-mock/commit/34c437066edd7fb74ee4ab8d68c425bbd315e8a5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;&lt;tt&gt;34c4370&lt;/tt&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 47 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1lsmo:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12164] Metadata Extraction Broken</title>
                <link>https://issues.apache.org/jira/browse/SLING-12164</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-12120&quot; title=&quot;Align Feature Structure with Starter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-12120&quot;&gt;&lt;del&gt;SLING-12120&lt;/del&gt;&lt;/a&gt; introduced a regression where the metadata extraction broke due to both the tika-parsers and tika-bundle being present in the feature model.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13558483">SLING-12164</key>
            <summary>Metadata Extraction Broken</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dklco">Dan Klco</assignee>
                                    <reporter username="dklco">Dan Klco</reporter>
                        <labels>
                    </labels>
                <created>Fri, 17 Nov 2023 22:31:12 +0000</created>
                <updated>Fri, 17 Nov 2023 22:32:18 +0000</updated>
                            <resolved>Fri, 17 Nov 2023 22:32:18 +0000</resolved>
                                    <version>App CMS 1.1.8</version>
                                    <fixVersion>App CMS 1.1.10</fixVersion>
                                    <component>App CMS</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17787422" author="dklco" created="Fri, 17 Nov 2023 22:32:18 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-app-cms/commit/6eb6abb410baebe1fd9e1efecde6c03d3fea1554&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-app-cms/commit/6eb6abb410baebe1fd9e1efecde6c03d3fea1554&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 48 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1lp1s:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12160] ConcurrentModificationException in ResourceMapperImpl.readAliases()</title>
                <link>https://issues.apache.org/jira/browse/SLING-12160</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I have seen the following exception with Resource Resolver 1.7.10 triggered by calling &lt;tt&gt;ResourceResolver.map(...)&lt;/tt&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
java.util.ConcurrentModificationException
	at java.base/java.util.LinkedHashMap$LinkedHashIterator.nextNode(LinkedHashMap.java:719)
	at java.base/java.util.LinkedHashMap$LinkedEntryIterator.next(LinkedHashMap.java:751)
	at java.base/java.util.LinkedHashMap$LinkedEntryIterator.next(LinkedHashMap.java:749)
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578)
	at org.apache.sling.resourceresolver.impl.mapping.ResourceMapperImpl.readAliases(ResourceMapperImpl.java:249)
	at org.apache.sling.resourceresolver.impl.mapping.ResourceMapperImpl.loadAliasesIfApplicable(ResourceMapperImpl.java:209)
	at org.apache.sling.resourceresolver.impl.mapping.ResourceMapperImpl.getAllMappings(ResourceMapperImpl.java:147)
	at org.apache.sling.resourceresolver.impl.mapping.ResourceMapperImpl.getMapping(ResourceMapperImpl.java:73)
	at org.apache.sling.resourceresolver.impl.ResourceResolverImpl.map(ResourceResolverImpl.java:444)
	at org.apache.sling.resourceresolver.impl.ResourceResolverImpl.map(ResourceResolverImpl.java:431)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13558388">SLING-12160</key>
            <summary>ConcurrentModificationException in ResourceMapperImpl.readAliases()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Fri, 17 Nov 2023 11:09:34 +0000</created>
                <updated>Tue, 23 Jan 2024 14:19:19 +0000</updated>
                            <resolved>Mon, 27 Nov 2023 08:01:33 +0000</resolved>
                                    <version>Resource Resolver 1.7.10</version>
                                    <fixVersion>Resource Resolver 1.11.6</fixVersion>
                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17787137" author="kwin" created="Fri, 17 Nov 2023 11:12:15 +0000"  >&lt;p&gt;I think this may happen when the &lt;tt&gt;MappingEntries&lt;/tt&gt; are modified while iterating through &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-resourceresolver/blob/a314ef3ce2e826bfde26493738ed94316c18bfbf/src/main/java/org/apache/sling/resourceresolver/impl/mapping/ResourceMapperImpl.java#L246&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-resourceresolver/blob/a314ef3ce2e826bfde26493738ed94316c18bfbf/src/main/java/org/apache/sling/resourceresolver/impl/mapping/ResourceMapperImpl.java#L246&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Even in master (although now due to refactoring in a different line) this may still happen in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-resourceresolver/blob/938fbfd176c58a9fb5bc5d18a37b47eb5c3c53bd/src/main/java/org/apache/sling/resourceresolver/impl/mapping/ResourceMapperImpl.java#L297&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-resourceresolver/blob/938fbfd176c58a9fb5bc5d18a37b47eb5c3c53bd/src/main/java/org/apache/sling/resourceresolver/impl/mapping/ResourceMapperImpl.java#L297&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="17787139" author="kwin" created="Fri, 17 Nov 2023 11:14:22 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=joerghoh&quot; class=&quot;user-hover&quot; rel=&quot;joerghoh&quot;&gt;joerghoh&lt;/a&gt; Can you maybe look a that?&lt;/p&gt;</comment>
                            <comment id="17787141" author="kwin" created="Fri, 17 Nov 2023 11:17:00 +0000"  >&lt;p&gt;I think the easiest fix is to create a new map in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-resourceresolver/blob/938fbfd176c58a9fb5bc5d18a37b47eb5c3c53bd/src/main/java/org/apache/sling/resourceresolver/impl/mapping/ResourceMapperImpl.java#L289&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-resourceresolver/blob/938fbfd176c58a9fb5bc5d18a37b47eb5c3c53bd/src/main/java/org/apache/sling/resourceresolver/impl/mapping/ResourceMapperImpl.java#L289&lt;/a&gt; before iterating.&lt;/p&gt;</comment>
                            <comment id="17787649" author="joerghoh" created="Sun, 19 Nov 2023 20:01:00 +0000"  >&lt;p&gt;Can you give me some context on that exception? The code in this area does not modify the hashmap (just traverses the entrySet), so there must be clash between iteration and modification of the internal Map (MapEntries.aliasMap).&lt;/p&gt;

&lt;p&gt;Checking the MapEntries class itself, I would definitely say, that the aliasMap is not guarded against concurrent access.&lt;/p&gt;


</comment>
                            <comment id="17787909" author="rombert" created="Mon, 20 Nov 2023 09:41:12 +0000"  >&lt;p&gt;Without looking at the code - unguarded traversal of a HashMap that is modified by another thread can lead to ill-effects and must not happen. The main problem is not reading stale data, but rather reading the iterators getting an inconsistent internal state and entering endless loops or throwing exceptions.&lt;/p&gt;
</comment>
                            <comment id="17787921" author="kwin" created="Mon, 20 Nov 2023 09:57:39 +0000"  >&lt;blockquote&gt;&lt;p&gt;The code in this area does not modify the hashmap (just traverses the entrySet), so there must be clash between iteration and modification of the internal Map (MapEntries.aliasMap).&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yes for sure. But this must not happen as in general one cannot prevent updates from happening at the same time in another thread (triggered through Resource Observation).&lt;/p&gt;</comment>
                            <comment id="17789953" author="kwin" created="Mon, 27 Nov 2023 08:01:33 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-resourceresolver/commit/a19995d2ec700f1b444adc52c783cdbceae5a7ce&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-resourceresolver/commit/a19995d2ec700f1b444adc52c783cdbceae5a7ce&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12595878">SLING-2521</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 47 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1loh4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12156] Regression: Composite Features Missing oak-segment-tar</title>
                <link>https://issues.apache.org/jira/browse/SLING-12156</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-12120&quot; title=&quot;Align Feature Structure with Starter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-12120&quot;&gt;&lt;del&gt;SLING-12120&lt;/del&gt;&lt;/a&gt; introduced a regression where the composite-runtime and composite-seed features no longer include oak-segment-tar&lt;/p&gt;</description>
                <environment></environment>
        <key id="13558088">SLING-12156</key>
            <summary>Regression: Composite Features Missing oak-segment-tar</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dklco">Dan Klco</assignee>
                                    <reporter username="dklco">Dan Klco</reporter>
                        <labels>
                    </labels>
                <created>Wed, 15 Nov 2023 14:57:49 +0000</created>
                <updated>Wed, 15 Nov 2023 14:59:55 +0000</updated>
                            <resolved>Wed, 15 Nov 2023 14:59:55 +0000</resolved>
                                    <version>App CMS 1.1.8</version>
                                    <fixVersion>App CMS 1.1.10</fixVersion>
                                    <component>App CMS</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17786393" author="dklco" created="Wed, 15 Nov 2023 14:59:44 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-app-cms/commit/eec5aa93de0b3ebd6ef018d9a3f8bbebf9233c5e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-app-cms/commit/eec5aa93de0b3ebd6ef018d9a3f8bbebf9233c5e&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 49 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1lmmg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12155] Regression: Maintenance Config Missing</title>
                <link>https://issues.apache.org/jira/browse/SLING-12155</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-12120&quot; title=&quot;Align Feature Structure with Starter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-12120&quot;&gt;&lt;del&gt;SLING-12120&lt;/del&gt;&lt;/a&gt; introduced a regression where the maintenance configuration is no longer provided with the Sling CMS features.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13558087">SLING-12155</key>
            <summary>Regression: Maintenance Config Missing</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dklco">Dan Klco</assignee>
                                    <reporter username="dklco">Dan Klco</reporter>
                        <labels>
                    </labels>
                <created>Wed, 15 Nov 2023 14:56:45 +0000</created>
                <updated>Wed, 15 Nov 2023 15:00:02 +0000</updated>
                            <resolved>Wed, 15 Nov 2023 15:00:02 +0000</resolved>
                                    <version>App CMS 1.1.8</version>
                                    <fixVersion>App CMS 1.1.10</fixVersion>
                                    <component>App CMS</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17786394" author="dklco" created="Wed, 15 Nov 2023 15:00:02 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-app-cms/commit/27c3dc1a47ee53bf6bec3506539fc70ab4b8ff76&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-app-cms/commit/27c3dc1a47ee53bf6bec3506539fc70ab4b8ff76&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 49 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1lmm8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12154] 404 on Composum Nodes Health Check</title>
                <link>https://issues.apache.org/jira/browse/SLING-12154</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Composum Nodes in the Sling Starter logs a 404 response and is unable to load the System Health due to the Composum Generic Request Proxy not being configured:&lt;/p&gt;


&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13064407/13064407_image-2023-11-15-00-05-08-595.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13558001">SLING-12154</key>
            <summary>404 on Composum Nodes Health Check</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dklco">Dan Klco</assignee>
                                    <reporter username="dklco">Dan Klco</reporter>
                        <labels>
                    </labels>
                <created>Wed, 15 Nov 2023 05:06:19 +0000</created>
                <updated>Fri, 17 Jan 2025 09:58:35 +0000</updated>
                            <resolved>Wed, 15 Nov 2023 14:21:40 +0000</resolved>
                                    <version>Starter 12</version>
                                    <fixVersion>Starter 13</fixVersion>
                                    <component>Starter</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17786171" author="dklco" created="Wed, 15 Nov 2023 05:12:45 +0000"  >&lt;p&gt;Pull request with a fix: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-starter/pull/275&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-starter/pull/275&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310760">
                    <name>Testing</name>
                                                                <inwardlinks description="Discovered while testing">
                                        <issuelink>
            <issuekey id="13557442">SLING-12138</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13064407" name="image-2023-11-15-00-05-08-595.png" size="39638" author="dklco" created="Wed, 15 Nov 2023 05:05:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 49 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1lm34:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12152] IOException is not properly handled by error handling</title>
                <link>https://issues.apache.org/jira/browse/SLING-12152</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When a servlet (or code called by a servlet) is throwing an IOException, this is currently not passed to the error handler. Instead the processor is passing it on to the main servlet, assuming it is handling the case. However, the main servlet is just logging and therefore an IOException does not result in an error response send to the client&lt;/p&gt;</description>
                <environment></environment>
        <key id="13557767">SLING-12152</key>
            <summary>IOException is not properly handled by error handling</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Mon, 13 Nov 2023 19:03:37 +0000</created>
                <updated>Fri, 17 Nov 2023 13:44:54 +0000</updated>
                            <resolved>Tue, 14 Nov 2023 18:42:43 +0000</resolved>
                                    <version>Engine 2.15.6</version>
                                    <fixVersion>Engine 2.15.8</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17785630" author="cziegeler" created="Mon, 13 Nov 2023 19:15:24 +0000"  >&lt;p&gt;Potential fix in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-engine/commit/8ab96759cd435520a228271fbbb9d37955954c80&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-engine/commit/8ab96759cd435520a228271fbbb9d37955954c80&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17786027" author="cziegeler" created="Tue, 14 Nov 2023 18:42:35 +0000"  >&lt;p&gt;Handle FileNotFoundException as 404 : &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-engine/commit/b48045687c47c4e0bbc72dec0705a3aa11dca997&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-engine/commit/b48045687c47c4e0bbc72dec0705a3aa11dca997&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 49 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1lkn4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12148] Committer CLI Fails to Parse CI Status</title>
                <link>https://issues.apache.org/jira/browse/SLING-12148</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The committer CLI has been failing to verify releases with:&lt;/p&gt;

&lt;p&gt;{{java.lang.NullPointerException: Cannot invoke &quot;com.google.gson.JsonElement.getAsString()&quot; because the return value of &quot;com.google.gson.JsonObject.get(String)&quot; is null&lt;br/&gt;
	at org.apache.sling.cli.impl.ci.CIStatusValidator.isValid(CIStatusValidator.java:145)&lt;br/&gt;
	at org.apache.sling.cli.impl.release.VerifyReleasesCommand.call(VerifyReleasesCommand.java:123)&lt;br/&gt;
	at org.apache.sling.cli.impl.release.VerifyReleasesCommand.call(VerifyReleasesCommand.java:42)&lt;br/&gt;
	at picocli.CommandLine.executeUserObject(CommandLine.java:1701)&lt;br/&gt;
	at picocli.CommandLine.access$900(CommandLine.java:146)&lt;br/&gt;
	at picocli.CommandLine$RunLast.handle(CommandLine.java:2059)&lt;br/&gt;
	at picocli.CommandLine$RunLast.handle(CommandLine.java:2026)&lt;br/&gt;
	at picocli.CommandLine$AbstractParseResultHandler.execute(CommandLine.java:1893)&lt;br/&gt;
	at picocli.CommandLine.execute(CommandLine.java:1822)&lt;br/&gt;
	at org.apache.sling.cli.impl.CommandProcessor.runCommand(CommandProcessor.java:110)&lt;br/&gt;
	at org.apache.sling.cli.impl.ExecutionTrigger.lambda$activate$0(ExecutionTrigger.java:33)&lt;br/&gt;
	at java.base/java.lang.Thread.run(Unknown Source)}}&lt;/p&gt;</description>
                <environment></environment>
        <key id="13557729">SLING-12148</key>
            <summary>Committer CLI Fails to Parse CI Status</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dklco">Dan Klco</assignee>
                                    <reporter username="dklco">Dan Klco</reporter>
                        <labels>
                    </labels>
                <created>Mon, 13 Nov 2023 15:07:33 +0000</created>
                <updated>Mon, 13 Nov 2023 16:05:58 +0000</updated>
                            <resolved>Mon, 13 Nov 2023 16:05:58 +0000</resolved>
                                    <version>Committer CLI 1.0.0</version>
                                                    <component>CI</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17785535" author="dklco" created="Mon, 13 Nov 2023 15:42:42 +0000"  >&lt;p&gt;Looks like the issue is due to a .git suffix when it extracts GitHub urls from the poms:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-committer-cli/pull/26&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-committer-cli/pull/26&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 49 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1lkeo:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12146] Committer CLI build fails on Windows</title>
                <link>https://issues.apache.org/jira/browse/SLING-12146</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://ci-builds.apache.org/blue/organizations/jenkins/Sling%2Fmodules%2Fsling-org-apache-sling-committer-cli/detail/PR-23/2/pipeline&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-builds.apache.org/blue/organizations/jenkins/Sling%2Fmodules%2Fsling-org-apache-sling-committer-cli/detail/PR-23/2/pipeline&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[ERROR] Errors: 
[ERROR]   RepositoryServiceTest.testDownloadRepository:150 &#187; DirectoryNotEmpty C:\Users\...
[INFO] 
[ERROR] Tests run: 53, Failures: 8, Errors: 1, Skipped: 0
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13557675">SLING-12146</key>
            <summary>Committer CLI build fails on Windows</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 13 Nov 2023 08:41:10 +0000</created>
                <updated>Mon, 13 Nov 2023 09:18:27 +0000</updated>
                                                            <fixVersion>Committer CLI 1.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                            <attachment id="13064361" name="committer-cli-windows.log" size="360432" author="rombert" created="Mon, 13 Nov 2023 08:41:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 49 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1lk2o:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12142] Regression in api jar generation caused by SLING-9883</title>
                <link>https://issues.apache.org/jira/browse/SLING-12142</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Running the api jars generation can lead to an IllegalArgumentException (see below). It seems the code is not taking all use cases into account&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Failed to execute goal org.apache.sling:slingfeature-maven-plugin:1.7.5-SNAPSHOT:apis-jar (apis-jar) on project cq-quickstart: Execution apis-jar of goal org.apache.sling:slingfeature-maven-plugin:1.7.5-SNAPSHOT:apis-jar failed: Could not find mandatory attribute &apos;objectClass&apos; in clause &apos;osgi.service;uses:=com.adobe.granite.license;objectClass=com.adobe.granite.license.ProductInfoProvider&apos; of bundle com.adobe.granite:com.adobe.granite.license:1.5.0 -&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Help 1&amp;#93;&lt;/span&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13557568">SLING-12142</key>
            <summary>Regression in api jar generation caused by SLING-9883</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Sat, 11 Nov 2023 10:44:38 +0000</created>
                <updated>Thu, 16 Nov 2023 12:41:12 +0000</updated>
                            <resolved>Sat, 11 Nov 2023 11:47:16 +0000</resolved>
                                    <version>OSGi Feature Maven Plugin 1.7.4</version>
                                    <fixVersion>OSGi Feature Maven Plugin 1.8.0</fixVersion>
                                    <component>Feature Model</component>
                    <component>Maven Plugins and Archetypes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17785162" author="kwin" created="Sat, 11 Nov 2023 11:30:22 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; Can you share the full stack trace? Isn&apos;t this thrown from &lt;tt&gt;org.apache.felix.utils.manifest.Parser.parseHeader(...)&lt;/tt&gt;?&lt;/p&gt;</comment>
                            <comment id="17785163" author="cziegeler" created="Sat, 11 Nov 2023 11:47:16 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-slingfeature-maven-plugin/commit/d1205c5e05f1f47f2db8ae63168745110416f7e2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-slingfeature-maven-plugin/commit/d1205c5e05f1f47f2db8ae63168745110416f7e2&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17785166" author="cziegeler" created="Sat, 11 Nov 2023 12:05:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; No, it was thrown from ApisJarMojo. The above addition fixed it.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13339492">SLING-9883</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 49 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1ljf4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12140] Creating new jira version fails: No releases found in &apos;Parent 60 (Java 11)&apos;</title>
                <link>https://issues.apache.org/jira/browse/SLING-12140</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ sling-cli release create-new-jira-version -r 2804 -x INTERACTIVE
Found Version: XSS Protection API 2.4.0 (id=12353773, fixed issues=8).
java.lang.IllegalArgumentException: No releases found in &apos;Parent 60 (Java 11)&apos;
	at org.apache.sling.cli.impl.release.Release.fromString(Release.java:62)
	at org.apache.sling.cli.impl.jira.VersionClient.lambda$findSuccessorVersion$2(VersionClient.java:134)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(Unknown Source)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(Unknown Source)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(Unknown Source)
	at java.base/java.util.stream.AbstractPipeline.copyInto(Unknown Source)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(Unknown Source)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(Unknown Source)
	at java.base/java.util.stream.AbstractPipeline.evaluate(Unknown Source)
	at java.base/java.util.stream.ReferencePipeline.reduce(Unknown Source)
	at java.base/java.util.stream.ReferencePipeline.min(Unknown Source)
	at org.apache.sling.cli.impl.jira.VersionClient.findVersion(VersionClient.java:338)
	at org.apache.sling.cli.impl.jira.VersionClient.findSuccessorVersion(VersionClient.java:133)
	at org.apache.sling.cli.impl.release.CreateJiraVersionCommand.call(CreateJiraVersionCommand.java:79)
	at org.apache.sling.cli.impl.release.CreateJiraVersionCommand.call(CreateJiraVersionCommand.java:39)
	at picocli.CommandLine.executeUserObject(CommandLine.java:1701)
	at picocli.CommandLine.access$900(CommandLine.java:146)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:2059)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:2026)
	at picocli.CommandLine$AbstractParseResultHandler.execute(CommandLine.java:1893)
	at picocli.CommandLine.execute(CommandLine.java:1822)
	at org.apache.sling.cli.impl.CommandProcessor.runCommand(CommandProcessor.java:110)
	at org.apache.sling.cli.impl.ExecutionTrigger.lambda$activate$0(ExecutionTrigger.java:33)
	at java.base/java.lang.Thread.run(Unknown Source)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13557519">SLING-12140</key>
            <summary>Creating new jira version fails: No releases found in &apos;Parent 60 (Java 11)&apos;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 10 Nov 2023 16:33:58 +0000</created>
                <updated>Mon, 13 Nov 2023 14:13:31 +0000</updated>
                            <resolved>Mon, 13 Nov 2023 14:13:31 +0000</resolved>
                                                    <fixVersion>Committer CLI 1.0.0</fixVersion>
                                    <component>Build and Source Control</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 49 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1lj48:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12138] Node Browser page keeps popping up login window</title>
                <link>https://issues.apache.org/jira/browse/SLING-12138</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When I open the Nobe Browser page, there is a login popup, and I can&apos;t stop it from popping up.&lt;br/&gt;
You can only click cancel to skip it.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://localhost:8080/bin/browser.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/bin/browser.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This was normal in previous versions.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13557442">SLING-12138</key>
            <summary>Node Browser page keeps popping up login window</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dklco">Dan Klco</assignee>
                                    <reporter username="James.R">James Raynor</reporter>
                        <labels>
                    </labels>
                <created>Fri, 10 Nov 2023 07:20:03 +0000</created>
                <updated>Wed, 15 Nov 2023 14:25:37 +0000</updated>
                            <resolved>Wed, 15 Nov 2023 14:25:37 +0000</resolved>
                                    <version>App CMS 1.1.8</version>
                                                    <component>App CMS</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17786371" author="dklco" created="Wed, 15 Nov 2023 14:25:37 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-app-cms/commit/81f795a8ee42a2e55a3dff283391c208ea986597&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-app-cms/commit/81f795a8ee42a2e55a3dff283391c208ea986597&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310760">
                    <name>Testing</name>
                                            <outwardlinks description="Testing discovered">
                                        <issuelink>
            <issuekey id="13558001">SLING-12154</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13064302" name="2023-11-10--15-15-59.jpg" size="39491" author="James.R" created="Fri, 10 Nov 2023 07:16:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 49 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1lin4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12137] XSS API bundle no longer embeds the needed org.owasp.html classes</title>
                <link>https://issues.apache.org/jira/browse/SLING-12137</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;This manifests itself at runtime&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;09.11.2023 14:26:57.444 *ERROR* [FelixLogListener] org.apache.sling.xss.impl.XSSFilterImpl bundle org.apache.sling.xss:2.3.11.SNAPSHOT (148)[org.apache.sling.xss.impl.XSSFilterImpl(223)] : The activate method has thrown an exception (org.apache.felix.log.LogException: java.lang.NoClassDefFoundError: org/owasp/html/HtmlStreamEventReceiver)
org.apache.felix.log.LogException: java.lang.NoClassDefFoundError: org/owasp/html/HtmlStreamEventReceiver
        at org.apache.sling.xss.impl.PolicyHandler.&amp;lt;init&amp;gt;(PolicyHandler.java:47) [org.apache.sling.xss:2.3.11.SNAPSHOT]
        at org.apache.sling.xss.impl.XSSFilterImpl.setActiveEmbededPolicy(XSSFilterImpl.java:311) [org.apache.sling.xss:2.3.11.SNAPSHOT]
        at org.apache.sling.xss.impl.XSSFilterImpl.updatePolicy(XSSFilterImpl.java:298) [org.apache.sling.xss:2.3.11.SNAPSHOT]
        at org.apache.sling.xss.impl.XSSFilterImpl.activate(XSSFilterImpl.java:267) [org.apache.sling.xss:2.3.11.SNAPSHOT]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Manually inspecting the jars shows that we don&apos;t have the org.owasp.html classes we used to embed&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ jar tf target/org.apache.sling.xss-2.3.11-SNAPSHOT.jar | grep owasp/html
org/owasp/html/
org/owasp/html/DynamicAttributesSanitizerPolicy.class
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13557331">SLING-12137</key>
            <summary>XSS API bundle no longer embeds the needed org.owasp.html classes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 9 Nov 2023 13:39:41 +0000</created>
                <updated>Mon, 13 Nov 2023 16:26:36 +0000</updated>
                            <resolved>Fri, 10 Nov 2023 10:54:05 +0000</resolved>
                                                    <fixVersion>XSS Protection API 2.4.0</fixVersion>
                                    <component>XSS Protection API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                    <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13547820">SLING-12005</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 49 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1lhyg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12134] Don&apos;t log error message if analyser results has only warnings</title>
                <link>https://issues.apache.org/jira/browse/SLING-12134</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;See &lt;a href=&quot;https://github.com/apache/sling-slingfeature-maven-plugin/commit/6dc3286a6750b5b62393c68904aaaaffa2d704db#r132079953&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-slingfeature-maven-plugin/commit/6dc3286a6750b5b62393c68904aaaaffa2d704db#r132079953&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13557267">SLING-12134</key>
            <summary>Don&apos;t log error message if analyser results has only warnings</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Thu, 9 Nov 2023 07:22:02 +0000</created>
                <updated>Thu, 16 Nov 2023 12:40:57 +0000</updated>
                            <resolved>Thu, 9 Nov 2023 07:23:20 +0000</resolved>
                                    <version>OSGi Feature Maven Plugin 1.7.4</version>
                                    <fixVersion>OSGi Feature Maven Plugin 1.8.0</fixVersion>
                                    <component>Maven Plugins and Archetypes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17784301" author="cziegeler" created="Thu, 9 Nov 2023 07:23:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-slingfeature-maven-plugin/commit/8b02c4a3ace0820a48636e9a109cec7b207d2f8e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-slingfeature-maven-plugin/commit/8b02c4a3ace0820a48636e9a109cec7b207d2f8e&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 50 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1lhk8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12124] Inconsistent handling of empty selectors</title>
                <link>https://issues.apache.org/jira/browse/SLING-12124</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;In accordance with the code found &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-engine/blob/master/src/main/java/org/apache/sling/engine/impl/request/RequestData.java#L563&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;here&lt;/a&gt;, empty selectors are explicitly disallowed. However, the &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-engine/blob/master/src/main/java/org/apache/sling/engine/impl/request/SlingRequestPathInfo.java#L93-L95&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;parsing of selectors&lt;/a&gt; is making request with all empty selector as valid.&lt;/p&gt;

&lt;p&gt;i.e:&lt;br/&gt;
Requests will empty selectors like: &quot;/test/resource/path..a...html&quot; are invalid&lt;br/&gt;
While requests with all empty selectos &quot;/test/resource/path.....html&quot; are valid&lt;/p&gt;

&lt;p&gt;Which indicates an inconsistent behaviour.&lt;/p&gt;

&lt;p&gt;Attached tests to demonstrate the same (&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13064002/13064002_inconsistent_empty_selectors.patch&quot; title=&quot;inconsistent_empty_selectors.patch attached to SLING-12124&quot;&gt;inconsistent_empty_selectors.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;)&lt;/p&gt;</description>
                <environment></environment>
        <key id="13556178">SLING-12124</key>
            <summary>Inconsistent handling of empty selectors</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="sagarmiglani">Sagar Miglani</reporter>
                        <labels>
                    </labels>
                <created>Tue, 31 Oct 2023 05:03:34 +0000</created>
                <updated>Fri, 17 Nov 2023 13:45:02 +0000</updated>
                            <resolved>Tue, 14 Nov 2023 18:42:00 +0000</resolved>
                                    <version>Engine 2.15.6</version>
                                    <fixVersion>Engine 2.15.8</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17781586" author="sagarmiglani" created="Wed, 1 Nov 2023 03:50:19 +0000"  >&lt;p&gt;Initial PR: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-engine/pull/40&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-engine/pull/40&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;cc: &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17784961" author="cziegeler" created="Fri, 10 Nov 2023 14:26:08 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sagarmiglani&quot; class=&quot;user-hover&quot; rel=&quot;sagarmiglani&quot;&gt;sagarmiglani&lt;/a&gt; for your patch. I adjusted it slightly to move all checking into the isValid method&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-engine/commit/47254ad8368e7237c2ba81436b18dad129b3d918&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-engine/commit/47254ad8368e7237c2ba81436b18dad129b3d918&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Let me know what you think&lt;/p&gt;</comment>
                            <comment id="17785382" author="cziegeler" created="Mon, 13 Nov 2023 06:35:30 +0000"  >&lt;p&gt;Simplified version in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-engine/commit/29d8f4ce7220b3931834f1832dbaf0b1f39c6252&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-engine/commit/29d8f4ce7220b3931834f1832dbaf0b1f39c6252&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13064002" name="inconsistent_empty_selectors.patch" size="1869" author="sagarmiglani" created="Tue, 31 Oct 2023 05:05:16 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 49 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1laug:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12123] Unexpected new requirements for the XSS bundle</title>
                <link>https://issues.apache.org/jira/browse/SLING-12123</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;With the 2.3.10 release candidate:&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;bundle-packages&amp;#93;&lt;/span&gt; org.apache.sling:org.apache.sling.xss:2.3.10: Bundle is importing packages &lt;span class=&quot;error&quot;&gt;&amp;#91;javax.annotation.meta, android.os&amp;#93;&lt;/span&gt; with start order 20 but no bundle is exporting these for that start order.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13556076">SLING-12123</key>
            <summary>Unexpected new requirements for the XSS bundle</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 30 Oct 2023 12:06:48 +0000</created>
                <updated>Mon, 13 Nov 2023 16:26:37 +0000</updated>
                            <resolved>Fri, 10 Nov 2023 10:53:31 +0000</resolved>
                                                    <fixVersion>XSS Protection API 2.4.0</fixVersion>
                                    <component>XSS Protection API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 51 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1la7s:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12121] Repository Path Substitution Incorrect</title>
                <link>https://issues.apache.org/jira/browse/SLING-12121</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The features for the Oak repository configuration in the CMS app don&apos;t declare the sling.home variable and thus aren&apos;t properly substituted at runtime.&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13555421">SLING-12121</key>
            <summary>Repository Path Substitution Incorrect</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dklco">Dan Klco</assignee>
                                    <reporter username="dklco">Dan Klco</reporter>
                        <labels>
                    </labels>
                <created>Wed, 25 Oct 2023 03:54:49 +0000</created>
                <updated>Thu, 9 Nov 2023 04:34:45 +0000</updated>
                            <resolved>Wed, 25 Oct 2023 03:55:44 +0000</resolved>
                                    <version>App CMS 1.1.6</version>
                                    <fixVersion>App CMS 1.1.8</fixVersion>
                                    <component>App CMS</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17779313" author="dklco" created="Wed, 25 Oct 2023 03:55:44 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-app-cms/commit/ce011e569a703c13ba243726406a18c1ca009057&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-app-cms/commit/ce011e569a703c13ba243726406a18c1ca009057&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1l66g:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12118] Update Batik XML utility library to version 1.17</title>
                <link>https://issues.apache.org/jira/browse/SLING-12118</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The sling XSS library uses a vulnerable Batik XML utility library version.&lt;/p&gt;

&lt;p&gt;Upgrade to a vulnerability-free version of the embedded library is needed.&lt;/p&gt;



&lt;p&gt;&lt;a href=&quot;https://www.cvedetails.com/cve/CVE-2022-44729/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;CVE-2022-44729&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13555314">SLING-12118</key>
            <summary>Update Batik XML utility library to version 1.17</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tvogel">Tatyana Vogel</assignee>
                                    <reporter username="tvogel">Tatyana Vogel</reporter>
                        <labels>
                    </labels>
                <created>Tue, 24 Oct 2023 10:24:34 +0000</created>
                <updated>Mon, 13 Nov 2023 16:26:37 +0000</updated>
                            <resolved>Tue, 24 Oct 2023 11:07:45 +0000</resolved>
                                                    <fixVersion>XSS Protection API 2.4.0</fixVersion>
                                    <component>XSS Protection API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1l5io:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12117] startupandshutdown ServiceUnavailableFilter References Starter Content</title>
                <link>https://issues.apache.org/jira/browse/SLING-12117</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The configuration&#160;&lt;br/&gt;
&lt;em&gt;org.apache.felix.hc.core.impl.filter.ServiceUnavailableFilter~startupandshutdown&lt;/em&gt; found in &lt;em&gt;src/main/features/healthcheck.json&lt;/em&gt;&#160;references the starter content in it&apos;s&#160;&lt;em&gt;responseTestFor503&lt;/em&gt; property which will cause the model to fail to build if the starter content is not included in the aggregated feature model.&lt;br/&gt;
&#160;&lt;br/&gt;
To keep the Starter Content-related features together, I suggest moving this configuration to &lt;em&gt;src/main/features/app/starter.json&lt;/em&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13555008">SLING-12117</key>
            <summary>startupandshutdown ServiceUnavailableFilter References Starter Content</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dklco">Dan Klco</assignee>
                                    <reporter username="dklco">Dan Klco</reporter>
                        <labels>
                    </labels>
                <created>Fri, 20 Oct 2023 19:43:36 +0000</created>
                <updated>Fri, 17 Jan 2025 09:58:34 +0000</updated>
                            <resolved>Tue, 24 Oct 2023 15:35:02 +0000</resolved>
                                    <version>Starter 12</version>
                                    <fixVersion>Starter 13</fixVersion>
                                    <component>Starter</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17779146" author="dklco" created="Tue, 24 Oct 2023 15:35:02 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-starter/commit/d2db7995c355ec29fbb9a10b81151e00bc273b68&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-starter/commit/d2db7995c355ec29fbb9a10b81151e00bc273b68&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1l3mo:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12116] Update transative google-guava dependency to version 32.1.3-jre</title>
                <link>https://issues.apache.org/jira/browse/SLING-12116</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The sling XSS library has a transitive dependency which embeds vulnerable google-guava.&lt;/p&gt;

&lt;p&gt;Upgrade to a vulnerability-free version of the embedded library is needed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13554963">SLING-12116</key>
            <summary>Update transative google-guava dependency to version 32.1.3-jre</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tvogel">Tatyana Vogel</assignee>
                                    <reporter username="tvogel">Tatyana Vogel</reporter>
                        <labels>
                    </labels>
                <created>Fri, 20 Oct 2023 16:09:17 +0000</created>
                <updated>Mon, 13 Nov 2023 16:26:38 +0000</updated>
                            <resolved>Fri, 20 Oct 2023 17:01:02 +0000</resolved>
                                                    <fixVersion>XSS Protection API 2.4.0</fixVersion>
                                    <component>XSS Protection API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17777874" author="rombert" created="Fri, 20 Oct 2023 17:01:34 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tvogel&quot; class=&quot;user-hover&quot; rel=&quot;tvogel&quot;&gt;tvogel&lt;/a&gt; - do you have a reference to a CVE or release notes for Guava? I applied it since it&apos;s a good idea anyway.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1l3co:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12115] Repoinit should leave enforcement of importBehaviour for ACL creation to JCR</title>
                <link>https://issues.apache.org/jira/browse/SLING-12115</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;JCR Repoinit checks the existence of the principal, for which ACLs should be created. In an Oak repository, this check depends on the &lt;a href=&quot;https://github.com/apache/jackrabbit-oak/blob/trunk/oak-security-spi/src/main/java/org/apache/jackrabbit/oak/spi/xml/ImportBehavior.java#L28&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;&lt;tt&gt;ImportBehavior&lt;/tt&gt;&lt;/a&gt; configured for the &lt;tt&gt;SecurityProvider&lt;/tt&gt; (&lt;a href=&quot;https://github.com/apache/jackrabbit-oak/blob/52755d8ad5915c5cd3cb037b848036930e8297b7/oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/accesscontrol/Util.java#L143&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/jackrabbit-oak/blob/52755d8ad5915c5cd3cb037b848036930e8297b7/oak-core/src/main/java/org/apache/jackrabbit/oak/security/authorization/accesscontrol/Util.java#L143&lt;/a&gt;). JCR Repoinit should not check, but instead rely on the repository&apos;s behaviour.&lt;/p&gt;

&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=angela&quot; class=&quot;user-hover&quot; rel=&quot;angela&quot;&gt;angela&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13554942">SLING-12115</key>
            <summary>Repoinit should leave enforcement of importBehaviour for ACL creation to JCR</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jsedding">Julian Sedding</assignee>
                                    <reporter username="jsedding">Julian Sedding</reporter>
                        <labels>
                    </labels>
                <created>Fri, 20 Oct 2023 12:49:48 +0000</created>
                <updated>Mon, 29 Sep 2025 12:15:16 +0000</updated>
                            <resolved>Mon, 13 Nov 2023 10:09:44 +0000</resolved>
                                    <version>Repoinit JCR 1.1.44</version>
                                    <fixVersion>Repoinit JCR 1.1.46</fixVersion>
                                    <component>Repoinit</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17777783" author="kwin" created="Fri, 20 Oct 2023 13:45:17 +0000"  >&lt;p&gt;We do have the (deprecated) statement &lt;tt&gt;set principal ACL&lt;/tt&gt; which has lenient behaviour. Wouldn&apos;t that work?&lt;br/&gt;
I won&apos;t modify semantics of already existing statements or are we talking about statement &lt;tt&gt;set ACL&lt;/tt&gt; (which is a an authorizable ACL)?&lt;/p&gt;</comment>
                            <comment id="17782073" author="jsedding" created="Thu, 2 Nov 2023 09:26:15 +0000"  >&lt;p&gt;I have now implemented this using &lt;tt&gt;ACLOptions&lt;/tt&gt; as suggested by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt;. I.e. the following two variations of the syntax are supported.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;set ACL on / (ACLOptions=ignoreMissingPrincipal)
...
end

set ACL for nonExistingPrincipal (ACLOptions=ignoreMissingPrincipal)
...
end
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310660">
                    <name>Completes</name>
                                            <outwardlinks description="fixes">
                                        <issuelink>
            <issuekey id="13360279">SLING-10156</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                            <outwardlinks description="incorporates">
                                        <issuelink>
            <issuekey id="13621783">SLING-12842</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 51 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1l380:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12108] Problems occurred when invoking code from plug-in: &quot;org.eclipse.jdt.core&quot;.</title>
                <link>https://issues.apache.org/jira/browse/SLING-12108</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Whenever Sling Eclipse IDE features are installed in Eclipse 2023-09 the following errors can be observed in the log&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
org.eclipse.core.runtime.CoreException: Plug-in org.eclipse.jdt.launching was unable to load &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.eclipse.jdt.internal.launching.EECompilationParticipant.
	at org.eclipse.core.internal.registry.osgi.RegistryStrategyOSGI.throwException(RegistryStrategyOSGI.java:212)
	at org.eclipse.core.internal.registry.osgi.RegistryStrategyOSGI.createExecutableExtension(RegistryStrategyOSGI.java:198)
	at org.eclipse.core.internal.registry.ExtensionRegistry.createExecutableExtension(ExtensionRegistry.java:920)
	at org.eclipse.core.internal.registry.ConfigurationElement.createExecutableExtension(ConfigurationElement.java:246)
	at org.eclipse.core.internal.registry.ConfigurationElementHandle.createExecutableExtension(ConfigurationElementHandle.java:63)
	at org.eclipse.jdt.internal.core.JavaModelManager$CompilationParticipants$1.run(JavaModelManager.java:454)
	at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)
	at org.eclipse.jdt.internal.core.JavaModelManager$CompilationParticipants.getCompilationParticipants(JavaModelManager.java:447)
	at org.eclipse.jdt.internal.core.builder.JavaBuilder.initializeBuilder(JavaBuilder.java:629)
	at org.eclipse.jdt.internal.core.builder.JavaBuilder.build(JavaBuilder.java:182)
	at org.eclipse.core.internal.events.BuildManager$2.run(BuildManager.java:1079)
	at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)
	at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:296)
	at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:352)
	at org.eclipse.core.internal.events.BuildManager$1.run(BuildManager.java:441)
	at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)
	at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:444)
	at org.eclipse.core.internal.events.BuildManager.basicBuildLoop(BuildManager.java:555)
	at org.eclipse.core.internal.events.BuildManager.basicBuildLoop(BuildManager.java:503)
	at org.eclipse.core.internal.events.BuildManager.build(BuildManager.java:585)
	at org.eclipse.core.internal.events.AutoBuildJob.doBuild(AutoBuildJob.java:207)
	at org.eclipse.core.internal.events.AutoBuildJob.run(AutoBuildJob.java:300)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)
Caused by: java.lang.ClassNotFoundException: An error occurred &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; automatically activating bundle org.eclipse.jdt.launching (455).
	at org.eclipse.osgi.internal.hooks.EclipseLazyStarter.postFindLocalClass(EclipseLazyStarter.java:126)
	at org.eclipse.osgi.internal.loader.classpath.ClasspathManager.findLocalClass(ClasspathManager.java:570)
	at org.eclipse.osgi.internal.loader.ModuleClassLoader.findLocalClass(ModuleClassLoader.java:335)
	at org.eclipse.osgi.internal.loader.BundleLoader.findLocalClass(BundleLoader.java:397)
	at org.eclipse.osgi.internal.loader.sources.SingleSourcePackage.loadClass(SingleSourcePackage.java:41)
	at org.eclipse.osgi.internal.loader.BundleLoader.findClass0(BundleLoader.java:479)
	at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:416)
	at org.eclipse.osgi.internal.loader.ModuleClassLoader.loadClass(ModuleClassLoader.java:168)
	at java.base/java.lang.&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.loadClass(&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.java:526)
	at java.base/java.lang.&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.getDeclaredMethods0(Native Method)
	at java.base/java.lang.&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.privateGetDeclaredMethods(&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.java:3578)
	at java.base/java.lang.&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.getDeclaredMethod(&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.java:2846)
	at org.apache.felix.scr.impl.inject.methods.BaseMethod.getMethod(BaseMethod.java:347)
	at org.apache.felix.scr.impl.inject.methods.ActivateMethod.doFindMethod(ActivateMethod.java:70)
	at org.apache.felix.scr.impl.inject.methods.BaseMethod.findMethod(BaseMethod.java:173)
	at org.apache.felix.scr.impl.inject.methods.BaseMethod.access$400(BaseMethod.java:41)
	at org.apache.felix.scr.impl.inject.methods.BaseMethod$NotResolved.resolve(BaseMethod.java:624)
	at org.apache.felix.scr.impl.inject.methods.BaseMethod$NotResolved.methodExists(BaseMethod.java:648)
	at org.apache.felix.scr.impl.inject.methods.BaseMethod.methodExists(BaseMethod.java:550)
	at org.apache.felix.scr.impl.inject.methods.ActivateMethod.invoke(ActivateMethod.java:315)
	at org.apache.felix.scr.impl.inject.methods.ActivateMethod.invoke(ActivateMethod.java:307)
	at org.apache.felix.scr.impl.manager.SingleComponentManager.createImplementationObject(SingleComponentManager.java:354)
	at org.apache.felix.scr.impl.manager.SingleComponentManager.createComponent(SingleComponentManager.java:115)
	at org.apache.felix.scr.impl.manager.SingleComponentManager.getService(SingleComponentManager.java:1002)
	at org.apache.felix.scr.impl.manager.SingleComponentManager.getServiceInternal(SingleComponentManager.java:975)
	at org.apache.felix.scr.impl.manager.SingleComponentManager.getService(SingleComponentManager.java:920)
	at org.eclipse.osgi.internal.serviceregistry.ServiceFactoryUse$1.run(ServiceFactoryUse.java:218)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:319)
	at org.eclipse.osgi.internal.serviceregistry.ServiceFactoryUse.factoryGetService(ServiceFactoryUse.java:215)
	at org.eclipse.osgi.internal.serviceregistry.ServiceFactoryUse.getService(ServiceFactoryUse.java:114)
	at org.eclipse.osgi.internal.serviceregistry.ServiceConsumer$2.getService(ServiceConsumer.java:48)
	at org.eclipse.osgi.internal.serviceregistry.ServiceRegistrationImpl.getService(ServiceRegistrationImpl.java:568)
	at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.getService(ServiceRegistry.java:542)
	at org.eclipse.osgi.internal.framework.BundleContextImpl.getService(BundleContextImpl.java:660)
	at org.osgi.util.tracker.ServiceTracker.addingService(ServiceTracker.java:416)
	at org.osgi.util.tracker.ServiceTracker$Tracked.customizerAdding(ServiceTracker.java:943)
	at org.osgi.util.tracker.ServiceTracker$Tracked.customizerAdding(ServiceTracker.java:1)
	at org.osgi.util.tracker.AbstractTracked.trackAdding(AbstractTracked.java:256)
	at org.osgi.util.tracker.AbstractTracked.track(AbstractTracked.java:229)
	at org.osgi.util.tracker.ServiceTracker$Tracked.serviceChanged(ServiceTracker.java:903)
	at org.eclipse.osgi.internal.serviceregistry.FilteredServiceListener.serviceChanged(FilteredServiceListener.java:123)
	at org.eclipse.osgi.internal.framework.BundleContextImpl.dispatchEvent(BundleContextImpl.java:961)
	at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:234)
	at org.eclipse.osgi.framework.eventmgr.ListenerQueue.dispatchEventSynchronous(ListenerQueue.java:151)
	at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.publishServiceEventPrivileged(ServiceRegistry.java:945)
	at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.publishServiceEvent(ServiceRegistry.java:882)
	at org.eclipse.osgi.internal.serviceregistry.ServiceRegistrationImpl.register(ServiceRegistrationImpl.java:144)
	at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.registerService(ServiceRegistry.java:270)
	at org.eclipse.osgi.internal.framework.BundleContextImpl.registerService(BundleContextImpl.java:500)
	at org.apache.felix.scr.impl.manager.AbstractComponentManager$3.register(AbstractComponentManager.java:929)
	at org.apache.felix.scr.impl.manager.AbstractComponentManager$3.register(AbstractComponentManager.java:915)
	at org.apache.felix.scr.impl.manager.RegistrationManager.changeRegistration(RegistrationManager.java:133)
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.registerService(AbstractComponentManager.java:984)
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.activateInternal(AbstractComponentManager.java:752)
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.enableInternal(AbstractComponentManager.java:674)
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.enable(AbstractComponentManager.java:437)
	at org.apache.felix.scr.impl.manager.ConfigurableComponentHolder.enableComponents(ConfigurableComponentHolder.java:671)
	at org.apache.felix.scr.impl.BundleComponentActivator.initialEnable(BundleComponentActivator.java:310)
	at org.apache.felix.scr.impl.Activator.loadComponents(Activator.java:593)
	at org.apache.felix.scr.impl.Activator.access$200(Activator.java:74)
	at org.apache.felix.scr.impl.Activator$ScrExtension.start(Activator.java:460)
	at org.apache.felix.scr.impl.AbstractExtender.createExtension(AbstractExtender.java:196)
	at org.apache.felix.scr.impl.AbstractExtender.modifiedBundle(AbstractExtender.java:169)
	at org.apache.felix.scr.impl.AbstractExtender.addingBundle(AbstractExtender.java:139)
	at org.apache.felix.scr.impl.AbstractExtender.addingBundle(AbstractExtender.java:49)
	at org.osgi.util.tracker.BundleTracker$Tracked.customizerAdding(BundleTracker.java:475)
	at org.osgi.util.tracker.BundleTracker$Tracked.customizerAdding(BundleTracker.java:1)
	at org.osgi.util.tracker.AbstractTracked.trackAdding(AbstractTracked.java:256)
	at org.osgi.util.tracker.AbstractTracked.track(AbstractTracked.java:229)
	at org.osgi.util.tracker.BundleTracker$Tracked.bundleChanged(BundleTracker.java:450)
	at org.eclipse.osgi.internal.framework.BundleContextImpl.dispatchEvent(BundleContextImpl.java:949)
	at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:234)
	at org.eclipse.osgi.framework.eventmgr.ListenerQueue.dispatchEventSynchronous(ListenerQueue.java:151)
	at org.eclipse.osgi.internal.framework.EquinoxEventPublisher.publishBundleEventPrivileged(EquinoxEventPublisher.java:229)
	at org.eclipse.osgi.internal.framework.EquinoxEventPublisher.publishBundleEvent(EquinoxEventPublisher.java:138)
	at org.eclipse.osgi.internal.framework.EquinoxEventPublisher.publishBundleEvent(EquinoxEventPublisher.java:130)
	at org.eclipse.osgi.internal.framework.EquinoxContainerAdaptor.publishModuleEvent(EquinoxContainerAdaptor.java:217)
	at org.eclipse.osgi.container.Module.publishEvent(Module.java:499)
	at org.eclipse.osgi.container.Module.start(Module.java:486)
	at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel$2.run(ModuleContainer.java:1852)
	at org.eclipse.osgi.internal.framework.EquinoxContainerAdaptor$1$1.execute(EquinoxContainerAdaptor.java:136)
	at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.incStartLevel(ModuleContainer.java:1845)
	at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.incStartLevel(ModuleContainer.java:1786)
	at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.doContainerStartLevel(ModuleContainer.java:1750)
	at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.dispatchEvent(ModuleContainer.java:1672)
	at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.dispatchEvent(ModuleContainer.java:1)
	at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:234)
	at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:345)
Caused by: org.osgi.framework.BundleException: Error loading bundle activator. org.eclipse.jdt.launching_3.20.100.v20230814-1810 [455]
	at org.eclipse.osgi.internal.framework.BundleContextImpl.start(BundleContextImpl.java:761)
	at org.eclipse.osgi.internal.framework.EquinoxBundle.startWorker0(EquinoxBundle.java:1032)
	at org.eclipse.osgi.internal.framework.EquinoxBundle$EquinoxModule.startWorker(EquinoxBundle.java:371)
	at org.eclipse.osgi.container.Module.doStart(Module.java:605)
	at org.eclipse.osgi.container.Module.start(Module.java:468)
	at org.eclipse.osgi.framework.util.SecureAction.start(SecureAction.java:513)
	at org.eclipse.osgi.internal.hooks.EclipseLazyStarter.postFindLocalClass(EclipseLazyStarter.java:117)
	... 87 more
Caused by: java.lang.ClassNotFoundException: An error occurred &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; automatically activating bundle org.eclipse.debug.core (295).
	at org.eclipse.osgi.internal.hooks.EclipseLazyStarter.postFindLocalClass(EclipseLazyStarter.java:126)
	at org.eclipse.osgi.internal.loader.classpath.ClasspathManager.findLocalClass(ClasspathManager.java:570)
	at org.eclipse.osgi.internal.loader.ModuleClassLoader.findLocalClass(ModuleClassLoader.java:335)
	at org.eclipse.osgi.internal.loader.BundleLoader.findLocalClass(BundleLoader.java:397)
	at org.eclipse.osgi.internal.loader.BundleLoader.findClass0(BundleLoader.java:500)
	at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:416)
	at org.eclipse.osgi.internal.framework.BundleContextImpl.loadBundleActivator(BundleContextImpl.java:800)
	at org.eclipse.osgi.internal.framework.BundleContextImpl.start(BundleContextImpl.java:753)
	... 93 more
Caused by: org.osgi.framework.BundleException: Exception in org.eclipse.debug.core.DebugPlugin.start() of bundle org.eclipse.debug.core.
	at org.eclipse.osgi.internal.framework.BundleContextImpl.startActivator(BundleContextImpl.java:839)
	at org.eclipse.osgi.internal.framework.BundleContextImpl.start(BundleContextImpl.java:767)
	at org.eclipse.osgi.internal.framework.EquinoxBundle.startWorker0(EquinoxBundle.java:1032)
	at org.eclipse.osgi.internal.framework.EquinoxBundle$EquinoxModule.startWorker(EquinoxBundle.java:371)
	at org.eclipse.osgi.container.Module.doStart(Module.java:605)
	at org.eclipse.osgi.container.Module.start(Module.java:468)
	at org.eclipse.osgi.framework.util.SecureAction.start(SecureAction.java:513)
	at org.eclipse.osgi.internal.hooks.EclipseLazyStarter.postFindLocalClass(EclipseLazyStarter.java:117)
	... 100 more
Caused by: java.lang.IllegalStateException: Workspace is already closed or not ready yet. Consider tracking the org.eclipse.core.resources.IWorkspace service (using your favorite technique, e.g. Declarative Services, ServiceTracker, Blueprint, ...) instead of calling the &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; method here to prevent such issues!
	at org.eclipse.core.resources.ResourcesPlugin.getWorkspace(ResourcesPlugin.java:502)
	at org.eclipse.debug.core.DebugPlugin.start(DebugPlugin.java:730)
	at org.eclipse.osgi.internal.framework.BundleContextImpl$2.run(BundleContextImpl.java:818)
	at org.eclipse.osgi.internal.framework.BundleContextImpl$2.run(BundleContextImpl.java:1)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:571)
	at org.eclipse.osgi.internal.framework.BundleContextImpl.startActivator(BundleContextImpl.java:810)
	... 107 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Although Sling classes do not appear in the stacktrace above, the bundle/service loading behaviour of Sling triggers that error somehow, as the same workspace loads just fine with an IDE without the Sling Eclipse bundles.&lt;/p&gt;

&lt;p&gt;This leads to several bundles not being available at all (debug.ui) and therefore the Eclipse workspace does lack crucial functionality (like Run As or Debug As)&lt;/p&gt;</description>
                <environment></environment>
        <key id="13554816">SLING-12108</key>
            <summary>Problems occurred when invoking code from plug-in: &quot;org.eclipse.jdt.core&quot;.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="kwin">Konrad Windszus</reporter>
                        <labels>
                    </labels>
                <created>Thu, 19 Oct 2023 16:24:05 +0000</created>
                <updated>Tue, 14 Oct 2025 13:48:12 +0000</updated>
                            <resolved>Wed, 28 May 2025 10:42:09 +0000</resolved>
                                    <version>Sling Eclipse IDE 1.3.0</version>
                                    <fixVersion>Sling Eclipse IDE 1.3.0</fixVersion>
                                    <component>IDE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17777403" author="kwin" created="Thu, 19 Oct 2023 17:31:50 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt; I see you already opened &lt;a href=&quot;https://github.com/eclipse-platform/eclipse.platform/issues/644&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/eclipse-platform/eclipse.platform/issues/644&lt;/a&gt; to track that. Somehow Sling IDE seems to affect the bundle start order, so that this is only triggered when Sling IDE bundles are installed as well. The proper fix however still needs to be applied to eclipse-platform.&lt;/p&gt;</comment>
                            <comment id="17777409" author="kwin" created="Thu, 19 Oct 2023 17:38:31 +0000"  >&lt;p&gt;As I could not reopen &lt;a href=&quot;https://github.com/eclipse-platform/eclipse.platform/issues/644&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/eclipse-platform/eclipse.platform/issues/644&lt;/a&gt; I created the new &lt;a href=&quot;https://github.com/eclipse-platform/eclipse.platform/issues/748&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/eclipse-platform/eclipse.platform/issues/748&lt;/a&gt; to track that. At the same time we should investigate if we can build a workaround in Sling IDE bundles to not trigger an early loading of the `debug.core` bundle....&lt;/p&gt;</comment>
                            <comment id="17778983" author="kwin" created="Tue, 24 Oct 2023 08:18:26 +0000"  >&lt;p&gt;The change in &lt;a href=&quot;https://github.com/apache/sling-ide-tooling/pull/23&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-ide-tooling/pull/23&lt;/a&gt; did not yet fix it. I need to wait for 2023-12 M2 to see if the fix &lt;a href=&quot;https://github.com/eclipse-platform/eclipse.platform/commit/7b5b625812b6052dd5b150939511599038004ca9&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/eclipse-platform/eclipse.platform/commit/7b5b625812b6052dd5b150939511599038004ca9&lt;/a&gt; helped here.&lt;br/&gt;
I am still unsure why the Sling Eclipse bundles modify something about the start order....&lt;/p&gt;</comment>
                            <comment id="17779016" author="kwin" created="Tue, 24 Oct 2023 10:35:57 +0000"  >&lt;p&gt;The trace option `org.eclipse.osgi/debug/bundleLoad` should help to figure out why bundles are loaded in a specific order: &lt;a href=&quot;https://alblue.bandlem.com/2015/09/eclipse-optimisation-part-2.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://alblue.bandlem.com/2015/09/eclipse-optimisation-part-2.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17869100" author="kwin" created="Sat, 27 Jul 2024 09:51:16 +0000"  >&lt;p&gt;The issue in &lt;a href=&quot;https://github.com/eclipse-platform/eclipse.platform/issues/748&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;eclipse/platform&lt;/a&gt; is fixed now, however a similar issue appears in &lt;a href=&quot;https://github.com/eclipse-jdt/eclipse.jdt.debug/issues/356&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;eclipse/jdt&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17912435" author="kwin" created="Mon, 13 Jan 2025 10:23:36 +0000"  >&lt;p&gt;With Eclipse 2024-12 a different error appears:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
org.osgi.framework.BundleException: Exception in org.eclipse.jdt.internal.launching.LaunchingPlugin.start() of bundle org.eclipse.jdt.launching.
	at org.eclipse.osgi.internal.framework.BundleContextImpl.startActivator(BundleContextImpl.java:854)
	at org.eclipse.osgi.internal.framework.BundleContextImpl.start(BundleContextImpl.java:775)
	at org.eclipse.osgi.internal.framework.EquinoxBundle.startWorker0(EquinoxBundle.java:1057)
	at org.eclipse.osgi.internal.framework.EquinoxBundle$EquinoxModule.startWorker(EquinoxBundle.java:387)
	at org.eclipse.osgi.container.Module.doStart(Module.java:639)
	at org.eclipse.osgi.container.Module.start(Module.java:498)
	at org.eclipse.osgi.framework.util.SecureAction.start(SecureAction.java:528)
	at org.eclipse.osgi.internal.hooks.EclipseLazyStarter.postFindLocalClass(EclipseLazyStarter.java:122)
	... 87 more
Caused by: java.lang.IllegalStateException: The instance data location has not been specified yet.
	at org.eclipse.core.internal.runtime.DataArea.assertLocationInitialized(DataArea.java:61)
	at org.eclipse.core.internal.runtime.DataArea.getStateLocation(DataArea.java:146)
	at org.eclipse.core.internal.preferences.InstancePreferences.getBaseLocation(InstancePreferences.java:43)
	at org.eclipse.core.internal.preferences.SingletonEclipsePreferences.initializeChildren(SingletonEclipsePreferences.java:97)
	at org.eclipse.core.internal.preferences.SingletonEclipsePreferences.&amp;lt;init&amp;gt;(SingletonEclipsePreferences.java:37)
	at org.eclipse.core.internal.preferences.InstancePreferences.&amp;lt;init&amp;gt;(InstancePreferences.java:57)
	at org.eclipse.core.internal.preferences.InstancePreferences.internalCreate(InstancePreferences.java:64)
	at org.eclipse.core.internal.preferences.EclipsePreferences.create(EclipsePreferences.java:364)
	at org.eclipse.core.internal.preferences.EclipsePreferences.create(EclipsePreferences.java:352)
	at org.eclipse.core.internal.preferences.PreferencesService.createNode(PreferencesService.java:354)
	at org.eclipse.core.internal.preferences.EclipsePreferences.getOrCreate(EclipsePreferences.java:1161)
	at org.eclipse.core.internal.preferences.RootPreferences.getNode(RootPreferences.java:65)
	at org.eclipse.core.internal.preferences.RootPreferences.node(RootPreferences.java:53)
	at org.eclipse.core.internal.preferences.AbstractScope.getNode(AbstractScope.java:38)
	at org.eclipse.jdt.internal.launching.LaunchingPlugin.start(LaunchingPlugin.java:604)
	at org.eclipse.osgi.internal.framework.BundleContextImpl$2.run(BundleContextImpl.java:833)
	at org.eclipse.osgi.internal.framework.BundleContextImpl$2.run(BundleContextImpl.java:1)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:571)
	at org.eclipse.osgi.internal.framework.BundleContextImpl.startActivator(BundleContextImpl.java:825)
	... 94 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This seems to be like a can of worms...&lt;br/&gt;
We probably have to find a workaround in Sling to not trigger a different loading order of bundles (a similar issue is described in &lt;a href=&quot;https://bugs.eclipse.org/bugs/show_bug.cgi?id=540316&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://bugs.eclipse.org/bugs/show_bug.cgi?id=540316&lt;/a&gt;)&lt;/p&gt;</comment>
                            <comment id="17943599" author="kwin" created="Fri, 11 Apr 2025 14:47:51 +0000"  >&lt;p&gt;For me this is a blocker for the 2.0 release &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="17943606" author="rombert" created="Fri, 11 Apr 2025 14:56:43 +0000"  >&lt;p&gt;Ok, let&apos;s put it back and analyse. I am running 2025.03 but mostly working with ITs for now so I can&apos;t tell how often it happens.&lt;/p&gt;</comment>
                            <comment id="17948155" author="kwin" created="Tue, 29 Apr 2025 12:28:37 +0000"  >&lt;p&gt;With the latest build from nightly in Eclipse 2025-03 (EE) I still run into this: &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
org.eclipse.core.runtime.CoreException: Plug-in org.eclipse.jdt.launching was unable to load &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.eclipse.jdt.internal.launching.EECompilationParticipant.
	at org.eclipse.core.internal.registry.osgi.RegistryStrategyOSGI.throwException(RegistryStrategyOSGI.java:240)
	at org.eclipse.core.internal.registry.osgi.RegistryStrategyOSGI.createExecutableExtension(RegistryStrategyOSGI.java:223)
	at org.eclipse.core.internal.registry.ExtensionRegistry.createExecutableExtension(ExtensionRegistry.java:987)
	at org.eclipse.core.internal.registry.ConfigurationElement.createExecutableExtension(ConfigurationElement.java:275)
	at org.eclipse.core.internal.registry.ConfigurationElementHandle.createExecutableExtension(ConfigurationElementHandle.java:65)
	at org.eclipse.jdt.internal.core.JavaModelManager$CompilationParticipants$1.run(JavaModelManager.java:430)
	at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:47)
	at org.eclipse.jdt.internal.core.JavaModelManager$CompilationParticipants.getCompilationParticipants(JavaModelManager.java:423)
	at org.eclipse.jdt.internal.core.builder.JavaBuilder.initializeBuilder(JavaBuilder.java:672)
	at org.eclipse.jdt.internal.core.builder.JavaBuilder.build(JavaBuilder.java:210)
	at org.eclipse.core.internal.events.BuildManager$2.run(BuildManager.java:1077)
	at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:47)
	at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:296)
	at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:352)
	at org.eclipse.core.internal.events.BuildManager$1.run(BuildManager.java:441)
	at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:47)
	at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:444)
	at org.eclipse.core.internal.events.BuildManager.basicBuildLoop(BuildManager.java:555)
	at org.eclipse.core.internal.events.BuildManager.basicBuildLoop(BuildManager.java:503)
	at org.eclipse.core.internal.events.BuildManager.build(BuildManager.java:585)
	at org.eclipse.core.internal.events.AutoBuildJob.doBuild(AutoBuildJob.java:207)
	at org.eclipse.core.internal.events.AutoBuildJob.run(AutoBuildJob.java:300)
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)
Caused by: java.lang.ClassNotFoundException: An error occurred &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; automatically activating bundle org.eclipse.jdt.launching (487).
	at org.eclipse.osgi.internal.hooks.EclipseLazyStarter.postFindLocalClass(EclipseLazyStarter.java:134)
	at org.eclipse.osgi.internal.loader.classpath.ClasspathManager.findLocalClass(ClasspathManager.java:622)
	at org.eclipse.osgi.internal.loader.ModuleClassLoader.findLocalClass(ModuleClassLoader.java:353)
	at org.eclipse.osgi.internal.loader.BundleLoader.findLocalClass(BundleLoader.java:417)
	at org.eclipse.osgi.internal.loader.sources.SingleSourcePackage.loadClass(SingleSourcePackage.java:41)
	at org.eclipse.osgi.internal.loader.BundleLoader.findClass0(BundleLoader.java:503)
	at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:438)
	at org.eclipse.osgi.internal.loader.ModuleClassLoader.loadClass(ModuleClassLoader.java:195)
	at java.base/java.lang.&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.loadClass(&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.java:526)
	at java.base/java.lang.&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.getDeclaredMethods0(Native Method)
	at java.base/java.lang.&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.privateGetDeclaredMethods(&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.java:3578)
	at java.base/java.lang.&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.getDeclaredMethod(&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.java:2846)
	at org.apache.felix.scr.impl.inject.methods.BaseMethod.getMethod(BaseMethod.java:359)
	at org.apache.felix.scr.impl.inject.methods.ActivateMethod.doFindMethod(ActivateMethod.java:70)
	at org.apache.felix.scr.impl.inject.methods.BaseMethod.findMethod(BaseMethod.java:185)
	at org.apache.felix.scr.impl.inject.methods.BaseMethod.access$400(BaseMethod.java:41)
	at org.apache.felix.scr.impl.inject.methods.BaseMethod$NotResolved.resolve(BaseMethod.java:638)
	at org.apache.felix.scr.impl.inject.methods.BaseMethod$NotResolved.methodExists(BaseMethod.java:662)
	at org.apache.felix.scr.impl.inject.methods.BaseMethod.methodExists(BaseMethod.java:563)
	at org.apache.felix.scr.impl.inject.methods.ActivateMethod.invoke(ActivateMethod.java:315)
	at org.apache.felix.scr.impl.inject.methods.ActivateMethod.invoke(ActivateMethod.java:307)
	at org.apache.felix.scr.impl.manager.SingleComponentManager.createImplementationObject(SingleComponentManager.java:354)
	at org.apache.felix.scr.impl.manager.SingleComponentManager.createComponent(SingleComponentManager.java:115)
	at org.apache.felix.scr.impl.manager.SingleComponentManager.getService(SingleComponentManager.java:1002)
	at org.apache.felix.scr.impl.manager.SingleComponentManager.getServiceInternal(SingleComponentManager.java:975)
	at org.apache.felix.scr.impl.manager.SingleComponentManager.getService(SingleComponentManager.java:920)
	at org.eclipse.osgi.internal.serviceregistry.ServiceFactoryUse$1.run(ServiceFactoryUse.java:229)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:319)
	at org.eclipse.osgi.internal.serviceregistry.ServiceFactoryUse.factoryGetService(ServiceFactoryUse.java:226)
	at org.eclipse.osgi.internal.serviceregistry.ServiceFactoryUse.getService(ServiceFactoryUse.java:120)
	at org.eclipse.osgi.internal.serviceregistry.ServiceConsumer$2.getService(ServiceConsumer.java:48)
	at org.eclipse.osgi.internal.serviceregistry.ServiceRegistrationImpl.getService(ServiceRegistrationImpl.java:588)
	at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.getService(ServiceRegistry.java:553)
	at org.eclipse.osgi.internal.framework.BundleContextImpl.getService(BundleContextImpl.java:666)
	at org.osgi.util.tracker.ServiceTracker.addingService(ServiceTracker.java:419)
	at org.osgi.util.tracker.ServiceTracker$Tracked.customizerAdding(ServiceTracker.java:947)
	at org.osgi.util.tracker.ServiceTracker$Tracked.customizerAdding(ServiceTracker.java:1)
	at org.osgi.util.tracker.AbstractTracked.trackAdding(AbstractTracked.java:257)
	at org.osgi.util.tracker.AbstractTracked.track(AbstractTracked.java:230)
	at org.osgi.util.tracker.ServiceTracker$Tracked.serviceChanged(ServiceTracker.java:907)
	at org.eclipse.osgi.internal.serviceregistry.FilteredServiceListener.serviceChanged(FilteredServiceListener.java:134)
	at org.eclipse.osgi.internal.framework.BundleContextImpl.dispatchEvent(BundleContextImpl.java:988)
	at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:230)
	at org.eclipse.osgi.framework.eventmgr.ListenerQueue.dispatchEventSynchronous(ListenerQueue.java:151)
	at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.publishServiceEventPrivileged(ServiceRegistry.java:962)
	at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.publishServiceEvent(ServiceRegistry.java:896)
	at org.eclipse.osgi.internal.serviceregistry.ServiceRegistrationImpl.register(ServiceRegistrationImpl.java:146)
	at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.registerService(ServiceRegistry.java:278)
	at org.eclipse.osgi.internal.framework.BundleContextImpl.registerService(BundleContextImpl.java:495)
	at org.apache.felix.scr.impl.manager.AbstractComponentManager$3.register(AbstractComponentManager.java:929)
	at org.apache.felix.scr.impl.manager.AbstractComponentManager$3.register(AbstractComponentManager.java:915)
	at org.apache.felix.scr.impl.manager.RegistrationManager.changeRegistration(RegistrationManager.java:133)
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.registerService(AbstractComponentManager.java:984)
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.activateInternal(AbstractComponentManager.java:752)
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.enableInternal(AbstractComponentManager.java:674)
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.enable(AbstractComponentManager.java:437)
	at org.apache.felix.scr.impl.manager.ConfigurableComponentHolder.enableComponents(ConfigurableComponentHolder.java:671)
	at org.apache.felix.scr.impl.BundleComponentActivator.initialEnable(BundleComponentActivator.java:323)
	at org.apache.felix.scr.impl.Activator.loadComponents(Activator.java:613)
	at org.apache.felix.scr.impl.Activator.access$200(Activator.java:75)
	at org.apache.felix.scr.impl.Activator$ScrExtension.start(Activator.java:480)
	at org.apache.felix.scr.impl.AbstractExtender.createExtension(AbstractExtender.java:196)
	at org.apache.felix.scr.impl.AbstractExtender.modifiedBundle(AbstractExtender.java:169)
	at org.apache.felix.scr.impl.AbstractExtender.addingBundle(AbstractExtender.java:139)
	at org.apache.felix.scr.impl.AbstractExtender.addingBundle(AbstractExtender.java:49)
	at org.osgi.util.tracker.BundleTracker$Tracked.customizerAdding(BundleTracker.java:477)
	at org.osgi.util.tracker.BundleTracker$Tracked.customizerAdding(BundleTracker.java:1)
	at org.osgi.util.tracker.AbstractTracked.trackAdding(AbstractTracked.java:257)
	at org.osgi.util.tracker.AbstractTracked.track(AbstractTracked.java:230)
	at org.osgi.util.tracker.BundleTracker$Tracked.bundleChanged(BundleTracker.java:452)
	at org.eclipse.osgi.internal.framework.BundleContextImpl.dispatchEvent(BundleContextImpl.java:975)
	at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:230)
	at org.eclipse.osgi.framework.eventmgr.ListenerQueue.dispatchEventSynchronous(ListenerQueue.java:151)
	at org.eclipse.osgi.internal.framework.EquinoxEventPublisher.publishBundleEventPrivileged(EquinoxEventPublisher.java:237)
	at org.eclipse.osgi.internal.framework.EquinoxEventPublisher.publishBundleEvent(EquinoxEventPublisher.java:136)
	at org.eclipse.osgi.internal.framework.EquinoxEventPublisher.publishBundleEvent(EquinoxEventPublisher.java:128)
	at org.eclipse.osgi.internal.framework.EquinoxContainerAdaptor.publishModuleEvent(EquinoxContainerAdaptor.java:232)
	at org.eclipse.osgi.container.Module.publishEvent(Module.java:534)
	at org.eclipse.osgi.container.Module.start(Module.java:518)
	at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel$2.run(ModuleContainer.java:2111)
	at org.eclipse.osgi.internal.framework.EquinoxContainerAdaptor$1$1.execute(EquinoxContainerAdaptor.java:146)
	at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.incStartLevel(ModuleContainer.java:2102)
	at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.incStartLevel(ModuleContainer.java:2042)
	at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.doContainerStartLevel(ModuleContainer.java:2004)
	at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.dispatchEvent(ModuleContainer.java:1916)
	at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.dispatchEvent(ModuleContainer.java:1)
	at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:230)
	at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:341)
Caused by: org.osgi.framework.BundleException: Exception in org.eclipse.jdt.internal.launching.LaunchingPlugin.start() of bundle org.eclipse.jdt.launching.
	at org.eclipse.osgi.internal.framework.BundleContextImpl.startActivator(BundleContextImpl.java:847)
	at org.eclipse.osgi.internal.framework.BundleContextImpl.start(BundleContextImpl.java:768)
	at org.eclipse.osgi.internal.framework.EquinoxBundle.startWorker0(EquinoxBundle.java:1066)
	at org.eclipse.osgi.internal.framework.EquinoxBundle$EquinoxModule.startWorker(EquinoxBundle.java:394)
	at org.eclipse.osgi.container.Module.doStart(Module.java:643)
	at org.eclipse.osgi.container.Module.start(Module.java:500)
	at org.eclipse.osgi.framework.util.SecureAction.start(SecureAction.java:528)
	at org.eclipse.osgi.internal.hooks.EclipseLazyStarter.postFindLocalClass(EclipseLazyStarter.java:122)
	... 87 more
Caused by: java.lang.IllegalStateException: The instance data location has not been specified yet.
	at org.eclipse.core.internal.runtime.DataArea.assertLocationInitialized(DataArea.java:61)
	at org.eclipse.core.internal.runtime.DataArea.getStateLocation(DataArea.java:146)
	at org.eclipse.core.internal.preferences.InstancePreferences.getBaseLocation(InstancePreferences.java:43)
	at org.eclipse.core.internal.preferences.SingletonEclipsePreferences.initializeChildren(SingletonEclipsePreferences.java:97)
	at org.eclipse.core.internal.preferences.SingletonEclipsePreferences.&amp;lt;init&amp;gt;(SingletonEclipsePreferences.java:37)
	at org.eclipse.core.internal.preferences.InstancePreferences.&amp;lt;init&amp;gt;(InstancePreferences.java:57)
	at org.eclipse.core.internal.preferences.InstancePreferences.internalCreate(InstancePreferences.java:64)
	at org.eclipse.core.internal.preferences.EclipsePreferences.create(EclipsePreferences.java:370)
	at org.eclipse.core.internal.preferences.EclipsePreferences.create(EclipsePreferences.java:358)
	at org.eclipse.core.internal.preferences.PreferencesService.createNode(PreferencesService.java:354)
	at org.eclipse.core.internal.preferences.EclipsePreferences.getOrCreate(EclipsePreferences.java:1162)
	at org.eclipse.core.internal.preferences.RootPreferences.getNode(RootPreferences.java:65)
	at org.eclipse.core.internal.preferences.RootPreferences.node(RootPreferences.java:53)
	at org.eclipse.core.internal.preferences.AbstractScope.getNode(AbstractScope.java:38)
	at org.eclipse.jdt.internal.launching.LaunchingPlugin.start(LaunchingPlugin.java:604)
	at org.eclipse.osgi.internal.framework.BundleContextImpl$2.run(BundleContextImpl.java:826)
	at org.eclipse.osgi.internal.framework.BundleContextImpl$2.run(BundleContextImpl.java:1)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:571)
	at org.eclipse.osgi.internal.framework.BundleContextImpl.startActivator(BundleContextImpl.java:818)
	... 94 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I created &lt;a href=&quot;https://github.com/eclipse-jdt/eclipse.jdt.debug/issues/684&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/eclipse-jdt/eclipse.jdt.debug/issues/684&lt;/a&gt; to fix this upstream.&lt;/p&gt;

&lt;p&gt;The underlying issue is that the workspace for a regular Eclipse start is selected late (with a dedicated modal dialog). If some bundles start before this workspace selection dialog is submitted they may fail due to using workspace related settings in their bundle start method. &lt;/p&gt;

&lt;p&gt;Most probably one can work around this by making all Sling bundles having `Bundle-ActivationPolicy: lazy`. That way they should only start after the workspace has been selected.&lt;/p&gt;</comment>
                            <comment id="17948520" author="kwin" created="Wed, 30 Apr 2025 15:55:51 +0000"  >&lt;p&gt;Even after marking all bundles as having lazy activation policies the Sling IDE bundles are still started eagerly. One potential culprit is the registration of the service &lt;tt&gt;org.eclipse.osgi.service.debug.DebugOptionsListener&lt;/tt&gt;. The idea would be to not use DS for this service registration but rather manually register this service once the bundle is started (like it was prior to &lt;a href=&quot;https://github.com/apache/sling-ide-tooling/commit/c26c37581748a74627cc822e564388bccd8c26f6&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-ide-tooling/commit/c26c37581748a74627cc822e564388bccd8c26f6&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The service tracker for it is in &lt;a href=&quot;https://github.com/eclipse-equinox/equinox/blob/c6f8e3aab8d4f107d7836f21a2fc76823756ad73/bundles/org.eclipse.osgi/container/src/org/eclipse/osgi/internal/debug/FrameworkDebugOptions.java#L138&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/eclipse-equinox/equinox/blob/c6f8e3aab8d4f107d7836f21a2fc76823756ad73/bundles/org.eclipse.osgi/container/src/org/eclipse/osgi/internal/debug/FrameworkDebugOptions.java#L138&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="17953725" author="rombert" created="Fri, 23 May 2025 15:46:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; - do you still see this with the latest build from master? I ran some limited tests with 2025-03 and don&apos;t see the error; if I can reproduce it I can also look into providing a fix and a workaround.&lt;/p&gt;</comment>
                            <comment id="17954543" author="kwin" created="Wed, 28 May 2025 10:42:04 +0000"  >&lt;p&gt;I think the last fix (&lt;a href=&quot;https://github.com/apache/sling-ide-tooling/pull/34/files&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-ide-tooling/pull/34/files&lt;/a&gt;) really nailed it. I could no longer reproduce afterwards.&lt;/p&gt;</comment>
                            <comment id="17954554" author="rombert" created="Wed, 28 May 2025 11:14:18 +0000"  >&lt;p&gt;Excellent news, thanks for confirming!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                            <outwardlinks description="causes">
                                        <issuelink>
            <issuekey id="13631517">SLING-12965</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1l2g0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12107] JCR Repoinit executes operations out of order</title>
                <link>https://issues.apache.org/jira/browse/SLING-12107</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When applying ACLs, repoinit checks if the referenced authorizable exists, and it fails if it doesn&apos;t.&lt;/p&gt;

&lt;p&gt;However, my goal was to set up ACLs with my deployment for a group that was to be sync&apos;ed from an &lt;tt&gt;ExternalIdentityProvider&lt;/tt&gt; once the first member of that group logs in.&lt;/p&gt;

&lt;p&gt;To work around this limitation, I tried running the following repoinit script:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;create group testGroup
set ACL for testGroup
  allow jcr:read on /content/foo
  deny jcr:write on /content/foo
end
delete group testGroup
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It turned out that the statements were executed in the following order:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;create group testGroup
delete group testGroup
set ACL for testGroup
  allow jcr:read on /content/foo
  deny jcr:write on /content/foo
end
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Of course that caused the script to fail just as if no group was created.&lt;/p&gt;

&lt;p&gt;The incorrect ordering may also cause other scenarios to fail.&lt;/p&gt;

&lt;p&gt;The &lt;tt&gt;ExecutionOrderTest&lt;/tt&gt; suggests that some re-ordering is done on purpose. E.g. namespaces and nodetypes should be created before e.g. paths are created.&lt;/p&gt;

&lt;p&gt;I would expect that registration of custom privileges should also be executed before other operations. I don&apos;t see how that could be harmful.&lt;/p&gt;

&lt;p&gt;But for all other statements, I would expect the execution order to match the order of the statements within the repoinit script.&lt;/p&gt;

&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdelacretaz&quot; class=&quot;user-hover&quot; rel=&quot;bdelacretaz&quot;&gt;bdelacretaz&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=angela&quot; class=&quot;user-hover&quot; rel=&quot;angela&quot;&gt;angela&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13554805">SLING-12107</key>
            <summary>JCR Repoinit executes operations out of order</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jsedding">Julian Sedding</assignee>
                                    <reporter username="jsedding">Julian Sedding</reporter>
                        <labels>
                    </labels>
                <created>Thu, 19 Oct 2023 15:20:56 +0000</created>
                <updated>Tue, 28 May 2024 08:22:46 +0000</updated>
                            <resolved>Mon, 6 Nov 2023 09:15:32 +0000</resolved>
                                    <version>Repoinit JCR 1.1.44</version>
                                    <fixVersion>Repoinit JCR 1.1.46</fixVersion>
                                    <component>Repoinit</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17777785" author="kwin" created="Fri, 20 Oct 2023 13:47:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jsedding&quot; class=&quot;user-hover&quot; rel=&quot;jsedding&quot;&gt;jsedding&lt;/a&gt; Can you add a paragraph on statement ordering in &lt;a href=&quot;https://sling.apache.org/documentation/bundles/repository-initialization.html?&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/documentation/bundles/repository-initialization.html?&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17780984" author="cziegeler" created="Mon, 30 Oct 2023 12:23:24 +0000"  >&lt;p&gt;Do we have a summary of what actually gets reordered and why? I find it rather surprising that statements are reordered.&lt;/p&gt;</comment>
                            <comment id="17782080" author="jsedding" created="Thu, 2 Nov 2023 09:38:56 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; I added a paragraph about ordering in &lt;a href=&quot;https://github.com/apache/sling-site/pull/143&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;sling-site PR #143&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; here&apos;s what I intend to add to the docs:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;When a repoinit script is applied with the `org.apache.sling.jcr.repoinit` module, the execution order of the individual&lt;br/&gt;
statements is slightly different from their order within the script. Namely, all statements creating namespaces are&lt;br/&gt;
executed before any other statements. Next, all statements registering nodetypes or privileges are executed. And finally,&lt;br/&gt;
all other statements are executed in the order they are defined. This reordering is intended to avoid issues due to&lt;br/&gt;
missing namespaces, nodetypes or privileges when content is created.&lt;/p&gt;&lt;/blockquote&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13580657">SLING-12329</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 50 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1l2dk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12104] OSGi Mock - Service Registration Designate OCD default empty property is ignored, which leads to NPE</title>
                <link>https://issues.apache.org/jira/browse/SLING-12104</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Considering the following sample Class:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; com.sample.website.job;

&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.commons.lang3.StringUtils;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.jackrabbit.oak.commons.PathUtils;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.osgi.service.component.annotations.Activate;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.osgi.service.component.annotations.Component;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.osgi.service.component.annotations.Modified;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.osgi.service.metatype.annotations.AttributeDefinition;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.osgi.service.metatype.annotations.Designate;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.osgi.service.metatype.annotations.ObjectClassDefinition;

@Component(service = &lt;span class=&quot;code-object&quot;&gt;Runnable&lt;/span&gt;.class)
@Designate(ocd = SampleJob.Config.class)
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;SampleJob &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Runnable&lt;/span&gt; {&#160; &#160; 

    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; sampleStringProperty;

&#160; &#160; @Activate
&#160; &#160; @Modified
&#160; &#160; &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void update(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Config configuration) {
&#160; &#160; &#160; &#160; &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.sampleStringProperty = configuration.sampleStringProperty();
&#160; &#160; }&#160; &#160; 

    @Override
&#160; &#160; &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void run() {
&#160; &#160; &#160; &#160; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (PathUtils.isAbsolute(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.sampleStringProperty)) {
&#160; &#160; &#160; &#160; &#160; &#160; &lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;do&lt;/span&gt; something
&lt;/span&gt;&#160; &#160; &#160; &#160; }
&#160; &#160; }&#160; &#160; 

    @ObjectClassDefinition(
&#160; &#160; &#160; &#160; &#160; &#160; name = &lt;span class=&quot;code-quote&quot;&gt;&quot;Sample Configuration&quot;&lt;/span&gt;,
&#160; &#160; &#160; &#160; &#160; &#160; description = &lt;span class=&quot;code-quote&quot;&gt;&quot;Sample Configuration Description&quot;&lt;/span&gt;
&#160; &#160; )
&#160; &#160; @&lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; Config {&#160; &#160; &#160; &#160; 

        @AttributeDefinition(
&#160; &#160; &#160; &#160; &#160; &#160; name = &lt;span class=&quot;code-quote&quot;&gt;&quot;Sample &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; Property&quot;&lt;/span&gt;,
&#160; &#160; &#160; &#160; &#160; &#160; description = &lt;span class=&quot;code-quote&quot;&gt;&quot;Sample &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; Property&quot;&lt;/span&gt;
&#160; &#160; &#160; &#160; )
&#160; &#160; &#160; &#160; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; sampleStringProperty() &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; StringUtils.EMPTY;
&#160; &#160; }
} &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;When I try to test this class with the default OSGi configuration via AEM Mocks:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Runnable&lt;/span&gt; underTest = aemContext.registerInjectActivateService(SampleJob.class); &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;building this class leads to the following SCR definition:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;lt;?xml version=&lt;span class=&quot;code-quote&quot;&gt;&quot;1.0&quot;&lt;/span&gt; encoding=&lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt;?&amp;gt;
&amp;lt;scr:component xmlns:scr=&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//www.osgi.org/xmlns/scr/v1.3.0&quot;&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;com.sample.website.job.SampleJob&quot;&lt;/span&gt; activate=&lt;span class=&quot;code-quote&quot;&gt;&quot;update&quot;&lt;/span&gt; modified=&lt;span class=&quot;code-quote&quot;&gt;&quot;update&quot;&lt;/span&gt;&amp;gt;
&lt;/span&gt;  &amp;lt;property name=&lt;span class=&quot;code-quote&quot;&gt;&quot;updateImportPath&quot;&lt;/span&gt; type=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&quot;&lt;/span&gt; value=&quot;&quot;/&amp;gt;
  &amp;lt;service&amp;gt;
    &amp;lt;provide &lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;java.lang.&lt;span class=&quot;code-object&quot;&gt;Runnable&lt;/span&gt;&quot;&lt;/span&gt;/&amp;gt;
  &amp;lt;/service&amp;gt;
  &amp;lt;implementation class=&lt;span class=&quot;code-quote&quot;&gt;&quot;com.sample.website.job.SampleJob&quot;&lt;/span&gt;/&amp;gt;
&amp;lt;/scr:component&amp;gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;the &lt;b&gt;default&lt;/b&gt; value of &lt;b&gt;updateImportPath&lt;/b&gt; (an empty String) is&#160;&lt;b&gt;not&lt;/b&gt; injected in the Configuration, but null is being used, which could lead to NPE.&lt;/p&gt;

&lt;p&gt;AEM Mocks uses OSGi Mocks and the following method is used to retrieve the&#160;&lt;b&gt;default&lt;/b&gt; properties and values &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-testing-osgi-mock/blob/c55d97ba266e0630200fcbb378b3f102d2dfba90/core/src/main/java/org/apache/sling/testing/mock/osgi/OsgiMetadataUtil.java#L292C24-L292C46&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-testing-osgi-mock/blob/c55d97ba266e0630200fcbb378b3f102d2dfba90/core/src/main/java/org/apache/sling/testing/mock/osgi/OsgiMetadataUtil.java#L292C24-L292C46&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;But as you can see the XPath Query doesn&apos;t match with the SCR definition: the property exists with a&#160;&lt;b&gt;name&lt;/b&gt; and there is a&#160;&lt;b&gt;value&lt;/b&gt;, but it is empty, so:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; query = getComponentXPathQuery(clazz) + &lt;span class=&quot;code-quote&quot;&gt;&quot;/property[@name!=&lt;span class=&quot;code-quote&quot;&gt;&apos;&apos; and @value!=&apos;&lt;/span&gt;&apos;]&quot;&lt;/span&gt;; &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;doesn&apos;t return the property and its default value and the result is a Configuration returning &lt;b&gt;null&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;The simple fix would be to check if the &lt;b&gt;value&lt;/b&gt; attribute exists via the XPath Query in the SCR definition, instead of checking for a non empty value.&lt;/p&gt;

&lt;p&gt;A more robust fix would probably be to parse the OCD MetaType (if it is a OCD config) and use the &lt;b&gt;default&lt;/b&gt; attribute which is present over there, see:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;lt;?xml version=&lt;span class=&quot;code-quote&quot;&gt;&quot;1.0&quot;&lt;/span&gt; encoding=&lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt;?&amp;gt;
&amp;lt;metatype:MetaData xmlns:metatype=&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//www.osgi.org/xmlns/metatype/v1.2.0&quot;&lt;/span&gt; localization=&lt;span class=&quot;code-quote&quot;&gt;&quot;OSGI-INF/l10n/com.sample.website.job.SampleJob$Config&quot;&lt;/span&gt;&amp;gt;
&lt;/span&gt;  &amp;lt;OCD id=&lt;span class=&quot;code-quote&quot;&gt;&quot;com.sample.website.job.SampleJob$Config&quot;&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;Sample Configuration&quot;&lt;/span&gt; description=&lt;span class=&quot;code-quote&quot;&gt;&quot;Sample Configuration Description&quot;&lt;/span&gt;&amp;gt;
    &amp;lt;AD id=&lt;span class=&quot;code-quote&quot;&gt;&quot;updateImportPath&quot;&lt;/span&gt; type=&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&quot;&lt;/span&gt; name=&lt;span class=&quot;code-quote&quot;&gt;&quot;Sample &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; Property&quot;&lt;/span&gt; description=&lt;span class=&quot;code-quote&quot;&gt;&quot;Sample &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; Property&quot;&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;=&quot;&quot;/&amp;gt;
  &amp;lt;/OCD&amp;gt;
  &amp;lt;Designate pid=&lt;span class=&quot;code-quote&quot;&gt;&quot;com.sample.website.job.SampleJob&quot;&lt;/span&gt;&amp;gt;
    &amp;lt;&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; ocdref=&lt;span class=&quot;code-quote&quot;&gt;&quot;com.sample.website.job.SampleJob$Config&quot;&lt;/span&gt;/&amp;gt;
  &amp;lt;/Designate&amp;gt;
&amp;lt;/metatype:MetaData&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;What do you think about this?&lt;/p&gt;</description>
                <environment></environment>
        <key id="13554437">SLING-12104</key>
            <summary>OSGi Mock - Service Registration Designate OCD default empty property is ignored, which leads to NPE</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="robin.brouns@amplexor.com">Robin Brouns</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Oct 2023 15:30:18 +0000</created>
                <updated>Mon, 20 Nov 2023 10:44:06 +0000</updated>
                            <resolved>Wed, 18 Oct 2023 10:24:42 +0000</resolved>
                                    <version>Testing OSGi Mock 3.3.10</version>
                                    <fixVersion>Testing OSGi Mock 3.4.0</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17776253" author="robin.brouns@amplexor.com" created="Tue, 17 Oct 2023 15:36:04 +0000"  >&lt;p&gt;Apache Felix seems to read the OCD configuration and the default attribute, so there is a difference now between the runtime and the testing suite: &lt;a href=&quot;https://github.com/apache/felix-dev/blob/91432d1a3f08520d5eb75b5c8e3443bb75f7c467/metatype/src/main/java/org/apache/felix/metatype/MetaDataReader.java#L419&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/felix-dev/blob/91432d1a3f08520d5eb75b5c8e3443bb75f7c467/metatype/src/main/java/org/apache/felix/metatype/MetaDataReader.java#L419&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17776543" author="sseifert@pro-vision.de" created="Wed, 18 Oct 2023 08:04:22 +0000"  >&lt;p&gt;good point - i would go the easy way first and adjust the XPath to get the value.&lt;br/&gt;
can you come up with a test case and PR?&lt;/p&gt;</comment>
                            <comment id="17776572" author="robin.brouns@amplexor.com" created="Wed, 18 Oct 2023 09:23:47 +0000"  >&lt;p&gt;Of course &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseifert&quot; class=&quot;user-hover&quot; rel=&quot;sseifert&quot;&gt;sseifert&lt;/a&gt;, possible fix for this issue: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-testing-osgi-mock/pull/33&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-testing-osgi-mock/pull/33&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17776598" author="sseifert@pro-vision.de" created="Wed, 18 Oct 2023 10:24:42 +0000"  >&lt;p&gt;thanks! it&apos;s merged&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-testing-osgi-mock/commit/907dbbd5e6707b6be5f19f8af6dedcd6cdf2f87d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-testing-osgi-mock/commit/907dbbd5e6707b6be5f19f8af6dedcd6cdf2f87d&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 1 week ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1l03s:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12097] Installer Core build fails with Java 17</title>
                <link>https://issues.apache.org/jira/browse/SLING-12097</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Failed to execute goal biz.aQute.bnd:bnd-maven-plugin:5.0.0:bnd-process (bnd-process) on project org.apache.sling.installer.core: bnd error: null: ConcurrentModificationException -&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Help 1&amp;#93;&lt;/span&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13554071">SLING-12097</key>
            <summary>Installer Core build fails with Java 17</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 13 Oct 2023 22:04:30 +0000</created>
                <updated>Mon, 22 Jan 2024 14:24:55 +0000</updated>
                            <resolved>Fri, 13 Oct 2023 22:12:12 +0000</resolved>
                                                    <fixVersion>Installer Core 3.14.0</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 1 week, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1kxug:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12091] [RESOURCE MERGER] NullPointerException when creating new Resource Provider</title>
                <link>https://issues.apache.org/jira/browse/SLING-12091</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Hello,&lt;/p&gt;

&lt;p&gt;&#160;We have a custom implementation of MergedResourcePicker2, and after applying a patch bumping Sling Resource Merger bundle to 1.4.2 the creation of our ResourceProvider service was failing in MergedResourcePickerWhiteboard with the following exception :&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
java.lang.NullPointerException: &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;

&#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.apache.sling.resourcemerger.impl.MergedResourcePickerWhiteboard.registerMergingResourceProvider(MergedResourcePickerWhiteboard.java:100)

&#160;&#160;&#160;&#160;&#160;&#160;&#160; at org.apache.sling.resourcemerger.impl.MergedResourcePickerWhiteboard.bindMergedResourcePicker2(MergedResourcePickerWhiteboard.java:77)

&#160;&#160;&#160;&#160;&#160;&#160;&#160; at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)

&#160;&#160;&#160;&#160;&#160;&#160;&#160; at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)

&#160;&#160;&#160;&#160;&#160;&#160;&#160; at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)

&#160;&#160;&#160;&#160;&#160;&#160;&#160; at java.base/java.lang.reflect.Method.invoke(Method.java:566) &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Looking at the source of MergedResourcePickerWhiteboard, it could be related to bundleContext being null.&lt;br/&gt;
It could happen because after applying the patch, the Sling Merge Resource bundle is started after the bundle containing our MergedResourcePicker2 implementation.&lt;/p&gt;

&lt;p&gt;On a test instance where our bundle starts after Sling Merge Resource bundle, there is no such exception and our custom Resource Provider service is properly registered.&lt;/p&gt;

&lt;p&gt;As a temporary workaround we added some fake dependencies to force our Resource Picker service to start after Sling OOTB implementations :&lt;/p&gt;




&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
reference = {
        &lt;span class=&quot;code-comment&quot;&gt;// fake references to make sure &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; service starts only after Sling MergedResourcePickerWhiteboard is available
&lt;/span&gt;        @Reference(service = ResourceProvider.class,
                target = &lt;span class=&quot;code-quote&quot;&gt;&quot;(provider.root=/mnt/override)&quot;&lt;/span&gt;,
                name = &lt;span class=&quot;code-quote&quot;&gt;&quot;$$scr$$ResourceProvider1&quot;&lt;/span&gt;,
                policyOption = ReferencePolicyOption.GREEDY),
        @Reference(service = ResourceProvider.class,
                target = &lt;span class=&quot;code-quote&quot;&gt;&quot;(provider.root=/mnt/overlay)&quot;&lt;/span&gt;,
                name = &lt;span class=&quot;code-quote&quot;&gt;&quot;$$scr$$ResourceProvider2&quot;&lt;/span&gt;,
                policyOption = ReferencePolicyOption.GREEDY)}&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;However it&apos;s not sustainable on the long run as these OOTB implementations can changed or be removed in the future.&lt;/p&gt;

&lt;p&gt;Thanks a lot&lt;/p&gt;</description>
                <environment></environment>
        <key id="13553728">SLING-12091</key>
            <summary>[RESOURCE MERGER] NullPointerException when creating new Resource Provider</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kwin">Konrad Windszus</assignee>
                                    <reporter username="gdouillet">Guillaume Douillet</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Oct 2023 16:59:26 +0000</created>
                <updated>Mon, 23 Oct 2023 16:04:46 +0000</updated>
                            <resolved>Mon, 23 Oct 2023 16:04:46 +0000</resolved>
                                    <version>Resource Merger 1.4.2</version>
                    <version>Resource Merger 1.4.4</version>
                                    <fixVersion>Resource Merger 1.4.6</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17774155" author="kwin" created="Wed, 11 Oct 2023 17:37:21 +0000"  >&lt;p&gt;It seems that we incorrectly assume that bind.... is called after activate... which is not true (&lt;a href=&quot;https://stackoverflow.com/questions/15782740/which-one-is-called-first-activate-function-or-bind-function-in-scr-runtime&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://stackoverflow.com/questions/15782740/which-one-is-called-first-activate-function-or-bind-function-in-scr-runtime&lt;/a&gt;). &lt;/p&gt;</comment>
                            <comment id="17774159" author="kwin" created="Wed, 11 Oct 2023 17:46:03 +0000"  >&lt;p&gt;Switching to constructor injection seems to be the best fix: &lt;a href=&quot;https://stackoverflow.com/a/61103406/5155923&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://stackoverflow.com/a/61103406/5155923&lt;/a&gt;.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gdouillet&quot; class=&quot;user-hover&quot; rel=&quot;gdouillet&quot;&gt;gdouillet&lt;/a&gt; Would you be able to come up with a PR?&lt;/p&gt;</comment>
                            <comment id="17778562" author="gdouillet" created="Mon, 23 Oct 2023 08:05:25 +0000"  >&lt;p&gt;Hello &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;Sorry for the late answer, it seems you open a PR already right ?&lt;/p&gt;</comment>
                            <comment id="17778582" author="kwin" created="Mon, 23 Oct 2023 08:55:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gdouillet&quot; class=&quot;user-hover&quot; rel=&quot;gdouillet&quot;&gt;gdouillet&lt;/a&gt; Yes, can you build the bundle from the PR and try out if that fixes the issue for you?&lt;/p&gt;</comment>
                            <comment id="17778720" author="gdouillet" created="Mon, 23 Oct 2023 16:00:28 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; : I was able to reproduce the issue on a local instance, and your PR fixed it. With this change our ResourceProvider is up after instance restart even if the Sling Resource Merger bundle starts after our own bundle.&lt;/p&gt;

&lt;p&gt;Thanks a lot.&lt;/p&gt;</comment>
                            <comment id="17778722" author="kwin" created="Mon, 23 Oct 2023 16:04:46 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-resourcemerger/commit/3057e880fc9ebebec487fa02ef173c5b5a7b9037&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-resourcemerger/commit/3057e880fc9ebebec487fa02ef173c5b5a7b9037&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1kvq8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12090] sling-mock: Make compatible with ResourceResolver 1.11.0</title>
                <link>https://issues.apache.org/jira/browse/SLING-12090</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-12019&quot; title=&quot;Avoid duplicate ResourceResolverFactory registrations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-12019&quot;&gt;&lt;del&gt;SLING-12019&lt;/del&gt;&lt;/a&gt; introduced a change in ResourceResolverFactoryActivator which changes the registration of ResourceResolverFactory services into an asynchronous process - which breaks most of the sling-mock based unit tests.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13553694">SLING-12090</key>
            <summary>sling-mock: Make compatible with ResourceResolver 1.11.0</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseifert">Stefan Seifert</assignee>
                                    <reporter username="sseifert">Stefan Seifert</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Oct 2023 13:12:38 +0000</created>
                <updated>Tue, 17 Sep 2024 09:33:30 +0000</updated>
                            <resolved>Wed, 11 Oct 2023 14:11:08 +0000</resolved>
                                    <version>Testing Sling Mock 3.4.12</version>
                                    <fixVersion>Testing Sling Mock 3.4.14</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17774086" author="sseifert@pro-vision.de" created="Wed, 11 Oct 2023 14:11:08 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-testing-sling-mock/commit/852f247e0c6ef7ed92f8e2684ea1d15c41e1a672&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-testing-sling-mock/commit/852f247e0c6ef7ed92f8e2684ea1d15c41e1a672&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17877043" author="sc0rpic0m" created="Tue, 27 Aug 2024 14:21:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseifert&quot; class=&quot;user-hover&quot; rel=&quot;sseifert&quot;&gt;sseifert&lt;/a&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
09:01:47,710 [ThreadedStreamConsumer] [ERROR] Tests run: 2, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 2.016 s &amp;lt;&amp;lt;&amp;lt; FAILURE! - in &amp;lt;removed customer &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; to protect the innocent&amp;gt; 09:01:47,710 [ThreadedStreamConsumer] [ERROR] testDoGetLandingPagesServlet &#160;Time elapsed: 0.012 s &#160;&amp;lt;&amp;lt;&amp;lt; ERROR! java.lang.RuntimeException: Unable to initialize JCR_MOCK resource resolver factory: ResourceResolverFactoryActivator did not register a ResourceResolverFactory after 250ms. Caused by: java.lang.IllegalStateException: ResourceResolverFactoryActivator did not register a ResourceResolverFactory after 250ms.&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;A customer of us is getting this in their build step intermittently.&#160;&lt;/p&gt;

&lt;p&gt;Can we increase the timeout somewhat perhaps?&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13549736">SLING-12019</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13592335">SLING-12435</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 8 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1kvio:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12086] apache sling testing clients: HttpClientBuilder does not honor useSystemProperties</title>
                <link>https://issues.apache.org/jira/browse/SLING-12086</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When trying to use system properties to configure a proxy, the Apache sling testing clients httpclient do not always honor the system properties read proxy configuration.&lt;/p&gt;

&lt;p&gt;e.g. &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-testing-clients/blob/master/src/main/java/org/apache/sling/testing/clients/interceptors/FormBasedAuthInterceptor.java#L135&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-testing-clients/blob/master/src/main/java/org/apache/sling/testing/clients/interceptors/FormBasedAuthInterceptor.java#L135&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13553392">SLING-12086</key>
            <summary>apache sling testing clients: HttpClientBuilder does not honor useSystemProperties</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="andrei.dulvac">Andrei Dulvac</assignee>
                                    <reporter username="andresbott">Andres Bott</reporter>
                        <labels>
                    </labels>
                <created>Mon, 9 Oct 2023 11:45:24 +0000</created>
                <updated>Thu, 24 Oct 2024 13:50:22 +0000</updated>
                            <resolved>Mon, 9 Oct 2023 15:26:38 +0000</resolved>
                                    <version>Apache Sling Testing Clients 3.0.18</version>
                                    <fixVersion>Apache Sling Testing Clients 3.0.20</fixVersion>
                                    <component>Apache Sling Testing Clients</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                    <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13596551">SLING-12460</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 2 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1ktns:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12078] Suspected race condition between TOPOLOGY_INIT and JobManager.addJob</title>
                <link>https://issues.apache.org/jira/browse/SLING-12078</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Two regular cases where a job is stored as part of JobManager.addJob():&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;when a topology is defined, it directly gets stored to the appropriate assigned/target slingId subtree. This is the most frequent case by far.&lt;/li&gt;
	&lt;li&gt;if no topology is defined (no TOPOLOGY_INIT received) yet, it gets put into the unassigned subtree. Later upon receiving TOPOLOGY_INIT CheckTopologyTask.fullRun() finds such unassigned jobs and moves them to the corresponding assigned subtree.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;There is a suspect race condition (test case to be provided), which happens between the thread doing JobManager.addJob() and the thread handling the TOPOLOGY_INIT:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;JobManager.addJob determines the target slingId - which is not yet defined, as TOPOLOGY_INIT is just being handled concurrently&lt;/li&gt;
	&lt;li&gt;CheckTopologyTask.fullRun(), as part of TOPOLOGY_INIT handling, however does not yet find the above new job in unassigned, as the job is just being stored concurrently.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The result is a job in the unassigned subtree, which waits until the next TopologyEvent happens - which then invokes CheckTopologyTask.fullRun() - which then finds the unassigned job and re/assigns it accordingly. So the job is never lost, but substantially delayed due to this. (the frequency of TopologyEvents depends on actual cluster/property changes happening in the topology and can thus vary).&lt;/p&gt;

&lt;p&gt;Tasks:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;provide a test case to reproduce&lt;/li&gt;
	&lt;li&gt;fix the race-condition&lt;/li&gt;
	&lt;li&gt;undo &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-event/commit/d16686705908099b26d0a3233f61c4e209880f93&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;this&lt;/a&gt; and &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-event/commit/dea04990b770a92f29c2504aa33d8158d68da58f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;this&lt;/a&gt; commit&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="13553027">SLING-12078</key>
            <summary>Suspected race condition between TOPOLOGY_INIT and JobManager.addJob</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="stefanegli">Stefan Egli</reporter>
                        <labels>
                    </labels>
                <created>Thu, 5 Oct 2023 14:31:51 +0000</created>
                <updated>Thu, 5 Oct 2023 15:23:43 +0000</updated>
                                            <version>Event 4.3.12</version>
                                                    <component>Event</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17772242" author="egli" created="Thu, 5 Oct 2023 14:41:57 +0000"  >&lt;ul&gt;
	&lt;li&gt;added a &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-event/commit/d16686705908099b26d0a3233f61c4e209880f93&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;workaround attempt&lt;/a&gt; for 2 in/frequently failing tests - that must be reverted as part of this ticket, once the race-condition is confirmed/fixed&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17772259" author="egli" created="Thu, 5 Oct 2023 15:23:43 +0000"  >&lt;ul&gt;
	&lt;li&gt;additional IT test affected, added &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-event/commit/dea04990b770a92f29c2504aa33d8158d68da58f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;same workaround there&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1kreo:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12074] ScriptingVariablesConsolePlugin might use wrong security provider</title>
                <link>https://issues.apache.org/jira/browse/SLING-12074</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;In order to show the variable bindings, the webconsole plugin introduced with &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3543&quot; title=&quot;Provide a Felix Web Console Tab exposing the available Scripting Variables&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3543&quot;&gt;&lt;del&gt;SLING-3543&lt;/del&gt;&lt;/a&gt; and then refined with &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-10147&quot; title=&quot;scripting variables implementation details are exposed to not authorized users&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-10147&quot;&gt;&lt;del&gt;SLING-10147&lt;/del&gt;&lt;/a&gt; uses a &quot;trick&quot; and actually invokes Sling via a servlet to get the requested information.&lt;br/&gt;
The check in the servlet is only checking if there is a WebConsoleSecurityProvider2 registered - it is not checking whether it is the correct one, nor whether that is actually using Sling authentication.&lt;br/&gt;
With new features added to the Sling API we can completely remove that default servlet and let the plugin directly call into Sling. This gives a &quot;correct&quot; check, removes the unneeded default servlet and reduces the dependency on the web console.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13552956">SLING-12074</key>
            <summary>ScriptingVariablesConsolePlugin might use wrong security provider</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Thu, 5 Oct 2023 05:13:48 +0000</created>
                <updated>Thu, 5 Sep 2024 06:05:10 +0000</updated>
                            <resolved>Mon, 16 Oct 2023 09:44:23 +0000</resolved>
                                    <version>Scripting Core 2.4.8</version>
                                    <fixVersion>Scripting Core 2.4.10</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17775638" author="cziegeler" created="Mon, 16 Oct 2023 09:37:35 +0000"  >&lt;p&gt;PR in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-scripting-core/pull/26&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-scripting-core/pull/26&lt;/a&gt; which uses Sling API for an internal request. This avoids checking for a WebConsoleSecurityProvider2  (which was buggy anyway) and a default servlet being registered just for the console&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 1 week, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1kqyw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-12043] Incorrect virtual include path when passing resource to data-sly-resource</title>
                <link>https://issues.apache.org/jira/browse/SLING-12043</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When upgrading AEM Service Pack 11 to Service Pack 18 we noticed issues with Sling Dynamic include. The virtual include paths contained the resourcetype as a postfix to the path where we did not expect that.&lt;/p&gt;

&lt;p&gt;We traced it back to the the includeTagFilter.java thinking the resource is synthetic in the buildUrl method:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&#160; &#160; &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; buildUrl(Configuration config, SlingHttpServletRequest request) {
&#160; &#160; &#160; &#160; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Resource resource = request.getResource();&#160; &#160; &#160; &#160; 
  &#160; &#160; &#160; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; synthetic = ResourceUtil.isSyntheticResource(request.getResource());
&#160; &#160; &#160; &#160; &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; UrlBuilder.buildUrl(config.getIncludeSelector(), resource.getResourceType(), synthetic, config, request.getRequestPathInfo());
&#160; &#160; } &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;We contacted Adobe Support and they reported that they did make a change in the responsivegrid.html in Service Pack 13.&lt;/p&gt;

&lt;p&gt;Service pack 11 responsivegrid.html&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
...&#160; &#160; 
&amp;lt;sly data-sly-test=&lt;span class=&quot;code-quote&quot;&gt;&quot;${!isAllowedApplicable}&quot;&lt;/span&gt;
&#160; &#160; &#160; &#160; &#160;data-sly-repeat.child=&lt;span class=&quot;code-quote&quot;&gt;&quot;${api.paragraphs}&quot;&lt;/span&gt;
&#160; &#160; &#160; &#160; &#160;data-sly-resource=&lt;span class=&quot;code-quote&quot;&gt;&quot;${child.path @ decoration=&lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&apos;&lt;/span&gt;, cssClassName=child.cssClass}&quot;&lt;/span&gt;&amp;gt;&amp;lt;/sly&amp;gt;
... &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Was changed in Service pack 13 to:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
... &#160; &#160; &#160; &#160; 
&amp;lt;sly data-sly-test=&lt;span class=&quot;code-quote&quot;&gt;&quot;${!isAllowedApplicable}&quot;&lt;/span&gt;
&#160; &#160; &#160; &#160; &#160;data-sly-repeat.child=&lt;span class=&quot;code-quote&quot;&gt;&quot;${api.paragraphs}&quot;&lt;/span&gt;
&#160; &#160; &#160; &#160; &#160;data-sly-resource=&lt;span class=&quot;code-quote&quot;&gt;&quot;${child.resource @ decoration=&lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&apos;&lt;/span&gt;, cssClassName=child.cssClass}&quot;&lt;/span&gt;&amp;gt;&amp;lt;/sly&amp;gt;
...  &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Because Adobe is not officially supporting Sling Dynamic Includes hence i&apos;m creating this ticket. &lt;br/&gt;
&lt;del&gt;As a temporary workaroud we overlayed the reponsivegrid.html with the SP11 version to mitigate this issue.&lt;/del&gt; This workaround is causing other issues so should not be applied.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Steps to reproduce this issue:&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;1) Install AEM 6.5 with sample content&lt;br/&gt;
2) Create a new XF fragment&lt;br/&gt;
3) Add an XF component to a page and pick the previously created XF fragment&lt;br/&gt;
4) Install Sling Dynamic Include via the OSGI Console&lt;br/&gt;
5) Configure Sling Dynamic Include via OSGi Console&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Enable = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
resource types = cq/experience-fragments/editor/components/experiencefragment &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;6) Confirm we get a virtual include via curl&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
curl -u admin:admin -H &lt;span class=&quot;code-quote&quot;&gt;&quot;Server-Agent: Communique-Dispatcher&quot;&lt;/span&gt; http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:4502/content/we-retail/language-masters/en.html &lt;/span&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
...
&amp;lt;!--#include virtual=&lt;span class=&quot;code-quote&quot;&gt;&quot;/content/we-retail/language-masters/en/_jcr_content/root/responsivegrid/experiencefragment.nocache.html&quot;&lt;/span&gt; --&amp;gt;
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;7) Do the change from child.path to child.resource via CRX/DE on&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
/libs/wcm/foundation/components/responsivegrid/responsivegrid.html line 27 &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;8) Confirm we get a wrong virtual include path via curl&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
curl -u admin:admin -H &lt;span class=&quot;code-quote&quot;&gt;&quot;Server-Agent: Communique-Dispatcher&quot;&lt;/span&gt; http:&lt;span class=&quot;code-comment&quot;&gt;//localhost:4502/content/we-retail/language-masters/en.html  &lt;/span&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
...
&amp;lt;!--#include virtual=&lt;span class=&quot;code-quote&quot;&gt;&quot;/content/we-retail/language-masters/en/_jcr_content/root/responsivegrid/experiencefragment.nocache.html/cq/experience-fragments/editor/components/experiencefragment&quot;&lt;/span&gt; --&amp;gt;
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment>Adobe Experience Manager On Premise 6.5 with Service Pack 13 or higher</environment>
        <key id="13552013">SLING-12043</key>
            <summary>Incorrect virtual include path when passing resource to data-sly-resource</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jarflux">Ben Oeyen</reporter>
                        <labels>
                    </labels>
                <created>Tue, 26 Sep 2023 10:03:59 +0000</created>
                <updated>Fri, 29 Sep 2023 10:09:14 +0000</updated>
                                            <version>Dynamic Include 3.3.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17770358" author="JIRAUSER302373" created="Fri, 29 Sep 2023 10:09:14 +0000"  >&lt;p&gt;Temporary workaround overlaying the responsivegrid.html with the previous version is causing other issues in our site, so it is not considered a good workaround.&lt;/p&gt;

&lt;p&gt;Because of this there is currently no solution to prevent major loss of function on AEM 6.5.13+. As a result of this I Increased Priority to Major.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12314421" key="com.atlassian.jira.plugin.system.customfieldtypes:labels">
                        <customfieldname>Language</customfieldname>
                        <customfieldvalues>
                                        <label>Java</label>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 3 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1kl6g:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>