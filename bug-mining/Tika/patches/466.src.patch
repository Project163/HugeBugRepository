diff --git a/tika-core/src/main/resources/org/apache/tika/mime/tika-mimetypes.xml b/tika-core/src/main/resources/org/apache/tika/mime/tika-mimetypes.xml
index b6fccb785..4ef26946e 100644
--- a/tika-core/src/main/resources/org/apache/tika/mime/tika-mimetypes.xml
+++ b/tika-core/src/main/resources/org/apache/tika/mime/tika-mimetypes.xml
@@ -2711,7 +2711,9 @@
   <mime-type type="application/x-hdf">
     <_comment>Hierarchical Data Format File</_comment>
     <magic priority="50">
+      <!-- HDF4 -->
       <match value="0x0e031301" type="big32" offset="0"/>
+      <!-- HDF5 -->
       <match value="\211HDF\r\n\032" type="string" offset="0"/>
     </magic>
     <glob pattern="*.hdf"/>
diff --git a/tika-parsers/src/test/java/org/apache/tika/parser/hdf/HDFParserTest.java b/tika-parsers/src/test/java/org/apache/tika/parser/hdf/HDFParserTest.java
index c6722fef4..84e481c0e 100644
--- a/tika-parsers/src/test/java/org/apache/tika/parser/hdf/HDFParserTest.java
+++ b/tika-parsers/src/test/java/org/apache/tika/parser/hdf/HDFParserTest.java
@@ -64,4 +64,29 @@ public class HDFParserTest extends TestCase {
         assertEquals("5", metadata.get("GranuleMonth"));
     }
 
+    public void testHDF4() throws Exception {
+       if(System.getProperty("java.version").startsWith("1.5")) {
+          return;
+      }
+      Parser parser = new HDFParser();
+      ContentHandler handler = new BodyContentHandler();
+      Metadata metadata = new Metadata();
+
+      /*
+       * this is a publicly available HDF4 file from the HD4 examples:
+       * 
+       * http://www.hdfgroup.org/training/hdf4_chunking/Chunkit/bin/input54kmdata.hdf
+       */
+      InputStream stream = HDFParser.class
+              .getResourceAsStream("/test-documents/test.hdf");
+      try {
+          parser.parse(stream, handler, metadata, new ParseContext());
+      } finally {
+          stream.close();
+      }
+
+      assertNotNull(metadata);
+      assertEquals("Direct read of HDF4 file through CDM library", metadata.get("_History"));
+      assertEquals("Ascending", metadata.get("Pass"));
+    }
 }
diff --git a/tika-parsers/src/test/resources/test-documents/test.hdf b/tika-parsers/src/test/resources/test-documents/test.hdf
new file mode 100644
index 000000000..a9a1d24cc
Binary files /dev/null and b/tika-parsers/src/test/resources/test-documents/test.hdf differ
