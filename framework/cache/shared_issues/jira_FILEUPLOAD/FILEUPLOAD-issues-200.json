<!--
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Thu Oct 23 09:41:13 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+%22FILEUPLOAD%22+AND+issuetype+%3D+Bug+ORDER+BY+key+DESC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="200" end="211" total="211"/>
                <build-info>
            <version>8.20.10</version>
            <build-number>820010</build-number>
            <build-date>22-06-2022</build-date>
        </build-info>

<item>
            <title>[FILEUPLOAD-11] FileUpload uploading files corrupt file size no matter in which OS youre using it</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-11</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description></description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12340961">FILEUPLOAD-11</key>
            <summary>FileUpload uploading files corrupt file size no matter in which OS youre using it</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="aalmenar@conectium.com">Adrian Almenar</reporter>
                        <labels>
                    </labels>
                <created>Fri, 12 Sep 2003 05:22:28 +0000</created>
                <updated>Fri, 9 Mar 2007 20:31:53 +0000</updated>
                            <resolved>Fri, 9 Mar 2007 20:31:53 +0000</resolved>
                                    <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12405044" author="aalmenar@conectium.com" created="Fri, 12 Sep 2003 05:27:09 +0000"  >&lt;p&gt;Im actually using File Upload Nightly build.&lt;/p&gt;

&lt;p&gt;When i use it to upload a file less that 4 Kilobytes it rounds  its size to 4 &lt;br/&gt;
Kb.&lt;/p&gt;

&lt;p&gt;Also tried with a file size of 13 KB and it rounded it to 16 Kb.&lt;/p&gt;

&lt;p&gt;So the problem i think its found on the buffer size, aand somwhere in the logic &lt;br/&gt;
where it write all the buffer and not the &quot;filled&quot; space.&lt;/p&gt;

&lt;p&gt;Default buffer size in the  code is 4Kb.&lt;/p&gt;


&lt;p&gt;Kind Regards,&lt;/p&gt;</comment>
                            <comment id="12405045" author="aalmenar@conectium.com" created="Sat, 11 Oct 2003 02:07:48 +0000"  >&lt;p&gt;is there any response about this ?&lt;/p&gt;</comment>
                            <comment id="12405046" author="eschnell@nvisia.com" created="Sat, 11 Oct 2003 02:48:55 +0000"  >&lt;p&gt;Unable to confirm on WinXP Pro and WebSphere 5.  &lt;/p&gt;

&lt;p&gt;commons-fileupload-20031010 correctly maintains the file size of a 1k text file&lt;br/&gt;
and a 3k gif.  &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>23120</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118267</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            22 years, 5 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0slkn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164972</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-10] [fileupload] delete() method not working properly</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-10</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;the &quot;delete&quot; method is not working properly (at least at my side with NT 4 and &lt;br/&gt;
J2SDK 1.4.1_01). The temporary files stays in the temp folder. &lt;br/&gt;
The problem do not occur if you save the files because the write method simply &lt;br/&gt;
rename the temp file to another one (see other bug report).&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: PC&lt;/p&gt;</environment>
        <key id="12340683">FILEUPLOAD-10</key>
            <summary>[fileupload] delete() method not working properly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="thierry.deleeuw@advalvas.be">Thierry De Leeuw</reporter>
                        <labels>
                    </labels>
                <created>Mon, 28 Apr 2003 00:53:17 +0000</created>
                <updated>Fri, 9 Mar 2007 20:31:53 +0000</updated>
                            <resolved>Fri, 9 Mar 2007 20:31:53 +0000</resolved>
                                    <version>1.0 Beta 1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12404166" author="martinc" created="Mon, 28 Apr 2003 07:29:18 +0000"  >&lt;p&gt;Could you please try this with the latest code in CVS, which will be in the &lt;br/&gt;
20040428 nightly build? It is working for me on Win2K, Sun J2SE 1.4.1_01.&lt;/p&gt;</comment>
                            <comment id="12404167" author="martinc" created="Mon, 12 May 2003 12:40:53 +0000"  >&lt;p&gt;I have been unable to reproduce this issue, and have not heard back from the &lt;br/&gt;
submitter that it is still an problem.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>19368</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118266</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            22 years, 27 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0slkv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164973</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-9] IE 5.2 on MacOsx throws Exception in multipart form data sending</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-9</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;Using IE 5.2 on MacOs X platform to submit multipart/form-data form I receive &lt;br/&gt;
this Exception (It doesn&apos;t happen with Safari 1.0)&lt;/p&gt;

&lt;p&gt;javax.servlet.ServletException: Processing of multipart/form-data request &lt;br/&gt;
failed. Stream ended unexpectedly&lt;br/&gt;
	at &lt;br/&gt;
org.apache.struts.upload.CommonsMultipartRequestHandler.handleRequest(CommonsMu&lt;br/&gt;
ltipartRequestHandler.java:242)&lt;br/&gt;
	at org.apache.struts.util.RequestUtils.populate(RequestUtils.java:1209)&lt;br/&gt;
	at &lt;br/&gt;
org.apache.struts.action.RequestProcessor.processPopulate(RequestProcessor.java&lt;br/&gt;
:821)&lt;br/&gt;
	at &lt;br/&gt;
org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:254)&lt;br/&gt;
	at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1482)&lt;br/&gt;
	at org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:525)&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:760)&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:853)&lt;br/&gt;
	at &lt;br/&gt;
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFil&lt;br/&gt;
terChain.java:247)&lt;br/&gt;
	at &lt;br/&gt;
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain&lt;br/&gt;
.java:193)&lt;br/&gt;
	at &lt;br/&gt;
org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:&lt;br/&gt;
256)&lt;br/&gt;
	at &lt;br/&gt;
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNe&lt;br/&gt;
xt(StandardPipeline.java:643)&lt;br/&gt;
	at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)&lt;br/&gt;
	at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)&lt;br/&gt;
	at &lt;br/&gt;
org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:&lt;br/&gt;
191)&lt;br/&gt;
	at &lt;br/&gt;
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNe&lt;br/&gt;
xt(StandardPipeline.java:643)&lt;br/&gt;
	at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)&lt;br/&gt;
	at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)&lt;br/&gt;
	at org.apache.catalina.core.StandardContext.invoke(StandardContext.java:2415)&lt;br/&gt;
	at &lt;br/&gt;
org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:180)&lt;br/&gt;
	at &lt;br/&gt;
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNe&lt;br/&gt;
xt(StandardPipeline.java:643)&lt;br/&gt;
	at &lt;br/&gt;
org.apache.catalina.valves.ErrorDispatcherValve.invoke(ErrorDispatcherValve.jav&lt;br/&gt;
a:171)&lt;br/&gt;
	at &lt;br/&gt;
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNe&lt;br/&gt;
xt(StandardPipeline.java:641)&lt;br/&gt;
	at &lt;br/&gt;
org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:172)&lt;br/&gt;
	at &lt;br/&gt;
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNe&lt;br/&gt;
xt(StandardPipeline.java:641)&lt;br/&gt;
	at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)&lt;br/&gt;
	at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)&lt;br/&gt;
	at &lt;br/&gt;
org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:17&lt;br/&gt;
4)&lt;br/&gt;
	at &lt;br/&gt;
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNe&lt;br/&gt;
xt(StandardPipeline.java:643)&lt;br/&gt;
	at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)&lt;br/&gt;
	at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)&lt;br/&gt;
	at org.apache.ajp.tomcat4.Ajp13Processor.process(Ajp13Processor.java:466)&lt;br/&gt;
	at org.apache.ajp.tomcat4.Ajp13Processor.run(Ajp13Processor.java:585)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:536)&lt;/p&gt;


&lt;p&gt;root cause &lt;/p&gt;

&lt;p&gt;org.apache.commons.fileupload.FileUploadException: Processing of &lt;br/&gt;
multipart/form-data request failed. Stream ended unexpectedly&lt;br/&gt;
	at &lt;br/&gt;
org.apache.commons.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:4&lt;br/&gt;
29)&lt;br/&gt;
	at &lt;br/&gt;
org.apache.struts.upload.CommonsMultipartRequestHandler.handleRequest(CommonsMu&lt;br/&gt;
ltipartRequestHandler.java:233)&lt;br/&gt;
	at org.apache.struts.util.RequestUtils.populate(RequestUtils.java:1209)&lt;br/&gt;
	at &lt;br/&gt;
org.apache.struts.action.RequestProcessor.processPopulate(RequestProcessor.java&lt;br/&gt;
:821)&lt;br/&gt;
	at &lt;br/&gt;
org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:254)&lt;br/&gt;
	at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1482)&lt;br/&gt;
	at org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:525)&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:760)&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:853)&lt;br/&gt;
	at &lt;br/&gt;
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFil&lt;br/&gt;
terChain.java:247)&lt;br/&gt;
	at &lt;br/&gt;
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain&lt;br/&gt;
.java:193)&lt;br/&gt;
	at &lt;br/&gt;
org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:&lt;br/&gt;
256)&lt;br/&gt;
	at &lt;br/&gt;
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNe&lt;br/&gt;
xt(StandardPipeline.java:643)&lt;br/&gt;
	at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)&lt;br/&gt;
	at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)&lt;br/&gt;
	at &lt;br/&gt;
org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:&lt;br/&gt;
191)&lt;br/&gt;
	at &lt;br/&gt;
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNe&lt;br/&gt;
xt(StandardPipeline.java:643)&lt;br/&gt;
	at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)&lt;br/&gt;
	at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)&lt;br/&gt;
	at org.apache.catalina.core.StandardContext.invoke(StandardContext.java:2415)&lt;br/&gt;
	at &lt;br/&gt;
org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:180)&lt;br/&gt;
	at &lt;br/&gt;
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNe&lt;br/&gt;
xt(StandardPipeline.java:643)&lt;br/&gt;
	at &lt;br/&gt;
org.apache.catalina.valves.ErrorDispatcherValve.invoke(ErrorDispatcherValve.jav&lt;br/&gt;
a:171)&lt;br/&gt;
	at &lt;br/&gt;
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNe&lt;br/&gt;
xt(StandardPipeline.java:641)&lt;br/&gt;
	at &lt;br/&gt;
org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:172)&lt;br/&gt;
	at &lt;br/&gt;
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNe&lt;br/&gt;
xt(StandardPipeline.java:641)&lt;br/&gt;
	at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)&lt;br/&gt;
	at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)&lt;br/&gt;
	at &lt;br/&gt;
org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:17&lt;br/&gt;
4)&lt;br/&gt;
	at &lt;br/&gt;
org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNe&lt;br/&gt;
xt(StandardPipeline.java:643)&lt;br/&gt;
	at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480)&lt;br/&gt;
	at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995)&lt;br/&gt;
	at org.apache.ajp.tomcat4.Ajp13Processor.process(Ajp13Processor.java:466)&lt;br/&gt;
	at org.apache.ajp.tomcat4.Ajp13Processor.run(Ajp13Processor.java:585)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:536)&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: Macintosh&lt;/p&gt;</environment>
        <key id="12341228">FILEUPLOAD-9</key>
            <summary>IE 5.2 on MacOsx throws Exception in multipart form data sending</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="manfredi.petruso@q-box.it">Manfredi Petruso</reporter>
                        <labels>
                    </labels>
                <created>Thu, 29 Jan 2004 19:11:21 +0000</created>
                <updated>Fri, 9 Mar 2007 20:31:53 +0000</updated>
                            <resolved>Fri, 9 Mar 2007 20:31:53 +0000</resolved>
                                    <version>1.0 Final</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12405882" author="germuska" created="Sun, 1 Feb 2004 07:37:21 +0000"  >&lt;p&gt;I can confirm this behavior, but the exception is thrown &lt;br/&gt;
byorg.apache.struts.upload.CommonsMultipartRequestHandler so I&apos;m changing the product/&lt;br/&gt;
component fields to indicate that this isn&apos;t a Struts problem, it&apos;s a commons-fileupload problem.&lt;/p&gt;

&lt;p&gt;For what it&apos;s worth, Mozilla Firebird/0.7 works, as does Safari 1.1.1&lt;/p&gt;

&lt;p&gt;My version of MSIE/OS X which manifests the problem is 5.2.3 (5815.1)&lt;/p&gt;</comment>
                            <comment id="12405883" author="martinc" created="Sun, 1 Feb 2004 10:40:49 +0000"  >

&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;This bug has been marked as a duplicate of 23229 ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>26515</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118265</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 years, 41 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0sll3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164974</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-8] Sample FileUpload application fails on z/OS platform</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-8</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;I am getting the following exception while trying to run the sample application &lt;br/&gt;
called struts-upload.war packaged with the jakarta-struts-1.1-b3.zip on &lt;br/&gt;
WebSphere Application Server ver 4.0.1. &lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;WARN&amp;#93;&lt;/span&gt; RequestProcessor - -Unhandled Exception thrown: class &lt;br/&gt;
java.lang.NullPointerException&lt;br/&gt;
 Trace: 2003/04/13 20:21:58.390 01 t=9D73D0 c=4.2 key=P8 (13007002)&lt;br/&gt;
   FunctionName: com.ibm.servlet.engine.srt.WebGroup&lt;br/&gt;
   SourceId: com.ibm.servlet.engine.srt.WebGroup&lt;br/&gt;
   Category: ERROR&lt;br/&gt;
   ExtendedMessage: Servlet Error: &quot;&quot;: java.lang.NullPointerException&lt;br/&gt;
 	at org.apache.struts.webapp.upload.UploadAction.execute&lt;br/&gt;
(UploadAction.java:127)&lt;br/&gt;
 	at org.apache.struts.action.RequestProcessor.processActionPerform&lt;br/&gt;
(RequestProcessor.java:465)&lt;br/&gt;
 	at org.apache.struts.action.RequestProcessor.process&lt;br/&gt;
(RequestProcessor.java:274)&lt;br/&gt;
 	at org.apache.struts.action.ActionServlet.process&lt;br/&gt;
(ActionServlet.java:1422)&lt;br/&gt;
 	at org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:523)&lt;br/&gt;
 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:760)&lt;br/&gt;
 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:853)&lt;br/&gt;
 	at com.ibm.servlet.engine.webapp.StrictServletInstance.doService&lt;br/&gt;
(ServletManager.java:827)&lt;br/&gt;
 	at com.ibm.servlet.engine.webapp.StrictLifecycleServlet._service&lt;br/&gt;
(StrictLifecycleServlet.java:167)&lt;br/&gt;
 	at com.ibm.servlet.engine.webapp.IdleServletState.service&lt;br/&gt;
(StrictLifecycleServlet.java:297)&lt;br/&gt;
 	at com.ibm.servlet.engine.webapp.StrictLifecycleServlet.service&lt;br/&gt;
(StrictLifecycleServlet.java:110)&lt;br/&gt;
 	at com.ibm.servlet.engine.webapp.ServletInstance.service&lt;br/&gt;
(ServletManager.java:472)&lt;br/&gt;
 	at com.ibm.servlet.engine.webapp.ValidServletReferenceState.dispatch&lt;br/&gt;
(ServletManager.java:1012)&lt;br/&gt;
 	at com.ibm.servlet.engine.webapp.ServletInstanceReference.dispatch&lt;br/&gt;
(ServletManager.java:913)&lt;br/&gt;
 	at &lt;br/&gt;
com.ibm.servlet.engine.webapp.WebAppRequestDispatcher.handleWebAppDispatch&lt;br/&gt;
(WebAppRequestDispatcher.java:756)&lt;br/&gt;
 	at com.ibm.servlet.engine.webapp.WebAppRequestDispatcher.dispatch&lt;br/&gt;
(WebAppRequestDispatcher.java:395)&lt;br/&gt;
 	at com.ibm.servlet.engine.webapp.WebAppRequestDispatcher.forward&lt;br/&gt;
(WebAppRequestDispatcher.java:156)&lt;br/&gt;
 	at com.ibm.servlet.engine.srt.WebAppInvoker.doForward&lt;br/&gt;
(WebAppInvoker.java:124)&lt;br/&gt;
 	at com.ibm.servlet.engine.srt.WebAppInvoker.handleInvocationHook&lt;br/&gt;
(WebAppInvoker.java:218)&lt;br/&gt;
 	at com.ibm.servlet.engine.invocation.CachedInvocation.handleInvocation&lt;br/&gt;
(CachedInvocation.java:67)&lt;br/&gt;
 	at com.ibm.servlet.engine.srp.ServletRequestProcessor.dispatchByURI&lt;br/&gt;
(ServletRequestProcessor.java:122)&lt;br/&gt;
 	at com.ibm.ws390.wc.webapp.RemoteWebAppImpl.dispatch&lt;br/&gt;
(RemoteWebAppImpl.java:180)&lt;br/&gt;
 	at com.ibm.ws390.wc.container.RemoteWebAppBean.dispatch&lt;br/&gt;
(RemoteWebAppBean.java:209)&lt;br/&gt;
 	at com.ibm.ws390.wc.container.EJSRemoteStatelessRemoteWebApp.dispatch&lt;br/&gt;
(EJSRemoteStatelessRemoteWebApp.java:73)&lt;br/&gt;
 	at com.ibm.ws390.wc.container._RemoteWebApp_Stub.dispatch&lt;br/&gt;
(_RemoteWebApp_Stub.java:160)&lt;br/&gt;
 	at &lt;br/&gt;
com.ibm.ws390.wc.httpcatcher.WS390Router$WS390RouterDispatcher.dispatchByURI&lt;br/&gt;
(WS390Router.java:352)&lt;br/&gt;
 	at &lt;br/&gt;
com.ibm.ws390.wc.httpcatcher.WS390Router$WS390RouterDispatcher.service&lt;br/&gt;
(WS390Router.java:307)&lt;br/&gt;
 	at com.ibm.servlet.engine.http11.HttpConnection.handleRequest&lt;br/&gt;
(HttpConnection.java:60)&lt;br/&gt;
 	at com.ibm.ws.http.HttpConnection.readAndHandleRequest&lt;br/&gt;
(HttpConnection.java:485)&lt;br/&gt;
 	at com.ibm.ws.http.HttpConnection.handle390Request&lt;br/&gt;
(HttpConnection.java:408)&lt;br/&gt;
 	at com.ibm.ws390.wc.httpcatcher.EJBTransport.handleRequest&lt;br/&gt;
(EJBTransport.java:57)&lt;br/&gt;
 	at com.ibm.ws390.wc.httpcatcher.EJBTransportWrapper.httprequest&lt;br/&gt;
(EJBTransportWrapper.java:40)&lt;br/&gt;
 	at com.ibm.ws390.rmi.corba.ORBEJSBridge.invoke(ORBEJSBridge.java:446)&lt;/p&gt;


&lt;p&gt;When I debugged the problem I found that the method findSeparator() located in &lt;br/&gt;
the MultipartStream.java does not return the same results as it does on &lt;br/&gt;
WebSphere Application Server on Windows NT. &lt;/p&gt;

&lt;p&gt;Please can somebody help with this problem as why it is different for WebSphere &lt;br/&gt;
Application Server on z/OS.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12340661">FILEUPLOAD-8</key>
            <summary>Sample FileUpload application fails on z/OS platform</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="smamindl@us.ibm.com">Satish Mamindla</reporter>
                        <labels>
                    </labels>
                <created>Mon, 14 Apr 2003 03:29:26 +0000</created>
                <updated>Fri, 9 Mar 2007 20:31:53 +0000</updated>
                            <resolved>Fri, 9 Mar 2007 20:31:53 +0000</resolved>
                                    <version>1.0 Beta 1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12404083" author="mohankishore@yahoo.com" created="Mon, 14 Apr 2003 07:48:40 +0000"  >&lt;p&gt;Very Strange! From the stack-trace -&lt;/p&gt;

&lt;p&gt;UploadAction.java:127 =&amp;gt; String contentType = file.getContentType();&lt;br/&gt;
where, file.getFileName() has already been called (i.e. file is not null). It &lt;br/&gt;
is an object of the CommonsMultipartRequestHandler$CommonsFormFile class.&lt;/p&gt;

&lt;p&gt;CommonsFormFile.getContentType() =&amp;gt; return fileItem.getContentType();&lt;br/&gt;
where, fileItem.getFileName() has already been called (i.e. fileItem is not &lt;br/&gt;
null). It is an object of the DefaultFileItem class.&lt;/p&gt;

&lt;p&gt;DefaultFileItem.getContentType() =&amp;gt; return contentType;&lt;br/&gt;
where, contentType is a member variable.&lt;/p&gt;

&lt;p&gt;The NPE should not be thrown...?!?&lt;/p&gt;

&lt;p&gt;But, if the reporter is confident that the problem is in MultipartInputStream, &lt;br/&gt;
it should be reported against commons-fileupload.&lt;/p&gt;</comment>
                            <comment id="12404084" author="mohankishore@yahoo.com" created="Mon, 14 Apr 2003 07:49:53 +0000"  >&lt;p&gt;i am sorry - got confused, its reported in the correct category...&lt;/p&gt;</comment>
                            <comment id="12404085" author="martinc" created="Mon, 28 Apr 2003 07:22:28 +0000"  >&lt;p&gt;I honestly don&apos;t know what to do with this bug. I don&apos;t see how findSeparator() &lt;br/&gt;
could possibly be returning different results on different platforms, short of &lt;br/&gt;
a JVM bug. Also, I have never even heard of z/OS, let alone have a copy to test &lt;br/&gt;
with. If you can debug this some more and come up with a patch, that would &lt;br/&gt;
help. Otherwise, I can&apos;t see that I can do much more than close the bug report.&lt;/p&gt;</comment>
                            <comment id="12404086" author="smamindl@us.ibm.com" created="Tue, 29 Apr 2003 21:18:53 +0000"  >&lt;p&gt;Here is what I found out about the reasons why it is not working on z/OS WAS &lt;br/&gt;
4.0.1. When the WAS 4.0.1 on z/OS comes up it comes up on EBCIDIC JVM as &lt;br/&gt;
apposed to the ASCII JVM. But when you make a request from the browser the &lt;br/&gt;
content gets in the ASCII format on to the server side. Any operations that are &lt;br/&gt;
done on this content cannot be done by defaulting to the JVM code page(it is &lt;br/&gt;
EBCIDIC in z/OS). Luckily this is changing in WAS 5.0 for z/OS. The JVM comes &lt;br/&gt;
up in ASCII.  &lt;/p&gt;

&lt;p&gt;For example in org.apache.commons.fileupload.FileUpload.java in the method &lt;br/&gt;
public List /* FileItem */ parseRequest(HttpServletRequest req, int &lt;br/&gt;
sizeThreshold, int sizeMax, String path) there is a line where it gets the byte&lt;br/&gt;
[] by doing the getBytes(). Since there is no codepage argument has been passed &lt;br/&gt;
to the getBytes() method it is defaulting to the JVM code page. In z/OS case it &lt;br/&gt;
is EBCIDIC and it is trying to manipulate the ASCII content. Hence there is a &lt;br/&gt;
conflict. &lt;/p&gt;

&lt;p&gt;I found total of three programs where it is doing the similar thing. There &lt;br/&gt;
could be more places where a similar thing could have been done but I do not &lt;br/&gt;
know. &lt;/p&gt;

&lt;p&gt;Program Name : org.apache.commons.fileupload.FileUpload.java&lt;br/&gt;
Method Name : public List /* FileItem */ parseRequest(HttpServletRequest req, &lt;br/&gt;
int sizeThreshold, int sizeMax, String path)&lt;/p&gt;

&lt;p&gt;problem code : &lt;br/&gt;
byte[] boundary = contentType.substring(contentType.indexOf(&quot;boundary=&quot;) + &lt;br/&gt;
9).getBytes();&lt;br/&gt;
Suggestion: &lt;br/&gt;
byte[] boundary = contentType.substring(contentType.indexOf(&quot;boundary=&quot;) + &lt;br/&gt;
9).getBytes(&quot;8859_1&quot;);&lt;/p&gt;

&lt;p&gt;Program Name: org.apache.commons.fileupload.MultipartStream.java&lt;br/&gt;
Method Name: public String readHeaders()  throws MalformedStreamException&lt;br/&gt;
problem code: &lt;br/&gt;
return baos.toString();&lt;br/&gt;
Suggestion: &lt;br/&gt;
String s = null;&lt;br/&gt;
try {&lt;br/&gt;
	s = baos.toString(&quot;8859_1&quot;);&lt;br/&gt;
} catch (Exception e) {&lt;br/&gt;
	e.printStackTrace();&lt;br/&gt;
}&lt;br/&gt;
return s;&lt;/p&gt;

&lt;p&gt;Program Name: &lt;br/&gt;
org.apache.struts.upload.CommonsMultipartRequestHandler.java&lt;br/&gt;
Method Name: &lt;br/&gt;
protected void addTextParameter(HttpServletRequest request, FileItem item)&lt;br/&gt;
problem code:&lt;br/&gt;
try &lt;/p&gt;
{
     value = item.getString(request.getCharacterEncoding());
  }
&lt;p&gt; catch (Exception e) {&lt;br/&gt;
      value = item.getString();&lt;br/&gt;
}&lt;br/&gt;
Suggestion:&lt;br/&gt;
try {&lt;br/&gt;
     value = item.getString(request.getCharacterEncoding());&lt;br/&gt;
} catch (Exception e) {&lt;br/&gt;
     try &lt;/p&gt;
{
        value = item.getString(&quot;8859_1&quot;);
      }
&lt;p&gt; catch(Exception e1)&lt;/p&gt;
{
              value = item.getString();
      }
&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;These changes have worked except that there is one more change required in the &lt;br/&gt;
sample .war file to display the characters read from the file to display &lt;br/&gt;
correctly. &lt;/p&gt;

&lt;p&gt;Program Name: org.apache.struts.webapp.upload.UploadAction.java&lt;br/&gt;
Method Name:public ActionForward execute(ActionMapping mapping,&lt;br/&gt;
                                 ActionForm form,&lt;br/&gt;
                                 HttpServletRequest request,&lt;br/&gt;
                                 HttpServletResponse response)&lt;br/&gt;
        throws Exception &lt;br/&gt;
Problem code: data = new String(baos.toByteArray());&lt;br/&gt;
Suggestion: data = new String(baos.toByteArray(), &quot;8859_1&quot;);&lt;/p&gt;

&lt;p&gt;Please can somebody look at this problem and provide us a fix. &lt;/p&gt;

&lt;p&gt;Thanks. &lt;/p&gt;</comment>
                            <comment id="12404087" author="husted@apache.org" created="Sat, 24 May 2003 01:58:46 +0000"  >&lt;p&gt;Since I understand applying the suggested changes cause problems under other&lt;br/&gt;
OS&apos;s, I would suggest that this ticket be marked RESOLVED/REMIND and revisited&lt;br/&gt;
in the next iteration. In the meantime, WAS 4.0.1 on z/OS might be documented as&lt;br/&gt;
unsupported.&lt;/p&gt;</comment>
                            <comment id="12404088" author="martinc" created="Sun, 1 Jun 2003 07:40:04 +0000"  >&lt;p&gt;Marking this as REMIND, to be further investigated after a 1.0 Final release.&lt;/p&gt;

&lt;p&gt;The problem with the suggested changes is that there is generally no way to &lt;br/&gt;
know if the incoming request is encoded according to ISO-8859-1 or something &lt;br/&gt;
else. (For example, it could be set to UTF-8.)&lt;/p&gt;

&lt;p&gt;It&apos;s possible that an extension of Bugzilla #14120 might resolve this, but I&apos;m &lt;br/&gt;
not at all sure that it wouldn&apos;t break other plaforms and/or user scenarios.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>18979</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118264</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            22 years, 24 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0sllb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164975</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-7] [fileupload] NullPointerException in DefaultFileItem</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-7</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;I get this exception:&lt;/p&gt;

&lt;p&gt;java.lang.NullPointerException&lt;br/&gt;
    at org.apache.commons.fileupload.DefaultFileItem.write&lt;br/&gt;
    (DefaultFileItem.java:442)&lt;/p&gt;

&lt;p&gt;I think it&apos;s because another Exception is thrown in the try-block so that &lt;br/&gt;
the &quot;out&quot; variable is still null in the finally-block.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12340910">FILEUPLOAD-7</key>
            <summary>[fileupload] NullPointerException in DefaultFileItem</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mikael.staldal@home.se">Mikael St&#229;ldal</reporter>
                        <labels>
                    </labels>
                <created>Thu, 14 Aug 2003 19:29:03 +0000</created>
                <updated>Fri, 9 Mar 2007 20:31:52 +0000</updated>
                            <resolved>Fri, 9 Mar 2007 20:31:52 +0000</resolved>
                                    <version>1.0 Final</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12404874" author="martinc" created="Fri, 15 Aug 2003 10:42:44 +0000"  >&lt;p&gt;This was fixed in the 20030702 nightly build.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;This bug has been marked as a duplicate of 21221 ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12404875" author="jorton" created="Wed, 24 Aug 2005 23:48:32 +0000"  >&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;*** Bug 34812 has been marked as a duplicate of this bug. *** has been marked as a duplicate of this bug. ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12404876" author="jorton" created="Wed, 24 Aug 2005 23:49:20 +0000"  >&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;*** Bug 34811 has been marked as a duplicate of this bug. *** has been marked as a duplicate of this bug. ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>22415</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118263</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            20 years, 12 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0sllj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164976</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-6] [fileupload] Stream ended unexpectedly</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-6</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;I am using JUpload and jakarta common file upload version 1.0, I use a jsp file &lt;br/&gt;
with jupload to upload files to server.  When my client PC locale is set to &lt;br/&gt;
Chinese, it will throw an Exception as shown below, however, when I change the &lt;br/&gt;
locale of the client PC to English, everything works fine.&lt;/p&gt;

&lt;p&gt;&amp;gt;&amp;gt; Exception = org.apache.commons.fileupload.FileUploadException: Processing &lt;br/&gt;
ofmultipart/form-data request failed. Stream ended unexpectedly&lt;br/&gt;
org.apache.commons.fileupload.FileUploadException: Processing of multipart/form-&lt;br/&gt;
data request failed. Stream ended unexpectedly&lt;br/&gt;
at org.apache.commons.fileupload.FileUploadBase.parseRequest&lt;br/&gt;
(FileUploadBase.java:433)&lt;br/&gt;
at Upload.doPost(Upload.java:55)&lt;br/&gt;
at javax.servlet.http.HttpServlet.service(HttpServlet.java:760)&lt;br/&gt;
at javax.servlet.http.HttpServlet.service(HttpServlet.java:853)&lt;br/&gt;
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter&lt;br/&gt;
(ApplicationFilterChain.java:247)&lt;br/&gt;
at org.apache.catalina.core.ApplicationFilterChain.doFilter&lt;br/&gt;
(ApplicationFilterChain.java:193)&lt;br/&gt;
at org.apache.catalina.core.StandardWrapperValve.invoke&lt;br/&gt;
(StandardWrapperValve.java:243)&lt;br/&gt;
at org.apache.catalina.core.StandardPipeline.invokeNext&lt;br/&gt;
(StandardPipeline.java:566)&lt;br/&gt;
at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:472)&lt;br/&gt;
at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)&lt;br/&gt;
at org.apache.catalina.core.StandardContextValve.invoke&lt;br/&gt;
(StandardContextValve.java:190)&lt;br/&gt;
at org.apache.catalina.core.StandardPipeline.invokeNext&lt;br/&gt;
(StandardPipeline.java:566)&lt;br/&gt;
at org.apache.catalina.valves.CertificatesValve.invoke&lt;br/&gt;
(CertificatesValve.java:246)&lt;br/&gt;
at org.apache.catalina.core.StandardPipeline.invokeNext&lt;br/&gt;
(StandardPipeline.java:564)&lt;br/&gt;
at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:472)&lt;br/&gt;
at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)&lt;br/&gt;
at org.apache.catalina.core.StandardContext.invoke(StandardContext.java:2347)&lt;br/&gt;
at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:180)&lt;br/&gt;
at org.apache.catalina.core.StandardPipeline.invokeNext&lt;br/&gt;
(StandardPipeline.java:566)&lt;br/&gt;
at org.apache.catalina.valves.ErrorDispatcherValve.invoke&lt;br/&gt;
(ErrorDispatcherValve.java:170)&lt;br/&gt;
at org.apache.catalina.core.StandardPipeline.invokeNext&lt;br/&gt;
(StandardPipeline.java:564)&lt;br/&gt;
at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:170)&lt;br/&gt;
at org.apache.catalina.core.StandardPipeline.invokeNext&lt;br/&gt;
(StandardPipeline.java:564)&lt;br/&gt;
at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:468)&lt;br/&gt;
at org.apache.catalina.core.StandardPipeline.invokeNext&lt;br/&gt;
(StandardPipeline.java:564)&lt;br/&gt;
at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:472)&lt;br/&gt;
at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)&lt;br/&gt;
at org.apache.catalina.core.StandardEngineValve.invoke&lt;br/&gt;
(StandardEngineValve.java:174)&lt;br/&gt;
at org.apache.catalina.core.StandardPipeline.invokeNext&lt;br/&gt;
(StandardPipeline.java:566)&lt;br/&gt;
at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:472)&lt;br/&gt;
at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:943)&lt;br/&gt;
at org.apache.catalina.connector.http.HttpProcessor.process&lt;br/&gt;
(HttpProcessor.java:1027)&lt;br/&gt;
at org.apache.catalina.connector.http.HttpProcessor.run(HttpProcessor.java:1125)&lt;br/&gt;
at java.lang.Thread.run(Thread.java:534)&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: Windows 2000&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12342520">FILEUPLOAD-6</key>
            <summary>[fileupload] Stream ended unexpectedly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="paul@hk.fujitsu.com">paul lee</reporter>
                        <labels>
                    </labels>
                <created>Tue, 30 Aug 2005 17:54:54 +0000</created>
                <updated>Fri, 9 Mar 2007 20:31:52 +0000</updated>
                            <resolved>Fri, 4 Aug 2006 21:27:54 +0000</resolved>
                                    <version>1.0 Final</version>
                                                        <due></due>
                            <votes>1</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12410302" author="martinc" created="Mon, 28 Nov 2005 08:27:04 +0000"  >&lt;p&gt;Could you please try this with a recent nightly build of FileUpload and let me&lt;br/&gt;
know if it is still a problem? There have been several changes since the 1.0&lt;br/&gt;
release that may have fixed this, but I don&apos;t know how I can test this without a&lt;br/&gt;
Chinese system.&lt;/p&gt;</comment>
                            <comment id="12425868" author="jochen@apache.org" created="Fri, 4 Aug 2006 21:27:54 +0000"  >&lt;p&gt;User didn&apos;t reply in more than eight months, closing.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36413</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118262</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            19 years, 14 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0sllr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164977</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-5] [fileupload] Determining content type</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-5</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;Some of the single signon softwares change the case of header keys. In order to &lt;br/&gt;
take care of one such case, where Content-type was changed to content-type and &lt;br/&gt;
hence request.getHeader(CONTENT_TYPE) fails since the CONTENT_TYPE=Content-type &lt;br/&gt;
whereas, the key in the header is content-type. &lt;/p&gt;

&lt;p&gt;Can this be changed everywhere in the codebase to use request.getContentType() &lt;br/&gt;
instead of request.getHeader(CONTENT_TYPE)&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Shishir&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment>&lt;p&gt;Operating System: Windows 2000&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12341939">FILEUPLOAD-5</key>
            <summary>[fileupload] Determining content type</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sksingh@synapsistech.com">Shishir</reporter>
                        <labels>
                    </labels>
                <created>Sun, 12 Dec 2004 19:10:31 +0000</created>
                <updated>Fri, 9 Mar 2007 20:31:52 +0000</updated>
                            <resolved>Fri, 9 Mar 2007 20:31:52 +0000</resolved>
                                    <version>1.0 Final</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12408332" author="ebourg" created="Sun, 12 Dec 2004 21:07:19 +0000"  >&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-1&quot; title=&quot;Detemining content type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-1&quot;&gt;&lt;del&gt;COM-1789&lt;/del&gt;&lt;/a&gt; has been marked as a duplicate of this bug. ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12408333" author="martinc" created="Mon, 13 Dec 2004 02:22:08 +0000"  >&lt;p&gt;Fixed in the 20041213 nightly build.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32654</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118261</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            20 years, 48 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0sllz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164978</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-4] [fileupload] The common upload functions do not work on z/OS WebSphere</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-4</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;The FileUploadBase class uses the default platform encoding when getting the &lt;br/&gt;
content-type header attribute in order to determine the boundary value for a &lt;br/&gt;
multi-part request.&lt;/p&gt;

&lt;p&gt;Method public List parseRequest(HttpServletRequest req) ::&lt;br/&gt;
...&lt;br/&gt;
String contentType = req.getHeader(CONTENT_TYPE); &lt;br/&gt;
...&lt;br/&gt;
byte[] boundary = contentType.substring(boundaryIndex + 9).getBytes();&lt;/p&gt;

&lt;p&gt;This does not work on z/OS Websphere 4 (and maybe on other platforms) because &lt;br/&gt;
the request encoding is not similar to the platform encoding (CP1047) and thus &lt;br/&gt;
the corresponding bytes are not the same. As a consequence, the FileUpload &lt;br/&gt;
class does not find any request &quot;parts&quot;, because the MultiPartStream class &lt;br/&gt;
performs a search on binary data with the wrong (local platform) bytes (see &lt;br/&gt;
findSeparator method).&lt;/p&gt;

&lt;p&gt;This can be corrected by adding an encoding parameter to the getBytes() method &lt;br/&gt;
in the FileUploadBase class :&lt;br/&gt;
byte[] boundary = contentType.substring(boundaryIndex + 9).getBytes(&quot;ISO-8859-&lt;br/&gt;
1&quot;);&lt;br/&gt;
(This happens twice in this class)&lt;/p&gt;

&lt;p&gt;Maybe I missed something but I think a server &lt;b&gt;cannot&lt;/b&gt; determine the encoding &lt;br/&gt;
used by the browser to build the request headers, so this cannot be dynamically &lt;br/&gt;
setup during runtime. I would think the only &quot;reasonable&quot; way would be to use &lt;br/&gt;
the &quot;headerEncoding&quot; optional member :&lt;/p&gt;

&lt;p&gt;byte[] boundary = null;&lt;br/&gt;
if (getHeaderEncoding() != null)&lt;br/&gt;
    boundary = contentType.substring(boundaryIndex + 9).getBytes&lt;br/&gt;
(getHeaderEncoding());&lt;br/&gt;
else&lt;br/&gt;
    boundary = contentType.substring(boundaryIndex + 9).getBytes();&lt;/p&gt;

&lt;p&gt;Philippe.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12341208">FILEUPLOAD-4</key>
            <summary>[fileupload] The common upload functions do not work on z/OS WebSphere</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="philippe.eymann@cie.etat.lu">P. Eymann</reporter>
                        <labels>
                    </labels>
                <created>Fri, 16 Jan 2004 22:05:35 +0000</created>
                <updated>Fri, 9 Mar 2007 20:31:52 +0000</updated>
                            <resolved>Fri, 9 Mar 2007 20:31:52 +0000</resolved>
                                    <version>1.0 Final</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12405819" author="philippe.eymann@cie.etat.lu" created="Fri, 16 Jan 2004 22:33:08 +0000"  >&lt;p&gt;This was already reported in &lt;a href=&quot;https://issues.apache.org/jira/browse/FILEUPLOAD-55&quot; title=&quot;[fileupload] The current code assumes the platforms default encoding is iso-8859-1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FILEUPLOAD-55&quot;&gt;&lt;del&gt;COM-951&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;


&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;This bug has been marked as a duplicate of 24765 ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12405820" author="martinc" created="Sun, 1 Feb 2004 14:27:26 +0000"  >&lt;p&gt;Reopening, since this bug has the more accurate analysis and solution over bug &lt;br/&gt;
#24765.&lt;/p&gt;</comment>
                            <comment id="12405821" author="martinc" created="Sun, 31 Oct 2004 10:00:44 +0000"  >&lt;p&gt;Fixed in the 20041031 nightly build.&lt;/p&gt;

&lt;p&gt;I&apos;ve made the change suggested below, specifying the ISO-8859-1 encoding to &lt;br/&gt;
getBytes(), and falling back to the default if an UnsupportedEncodingException &lt;br/&gt;
is thrown.&lt;/p&gt;

&lt;p&gt;Since I don&apos;t have access to a z/OS system to test this, I would appreciate it &lt;br/&gt;
if someone who does could please test this and reopen the bug report if the &lt;br/&gt;
problem is not resolved (and with any ideas on what might be wrong, if that&apos;s &lt;br/&gt;
the case).&lt;/p&gt;</comment>
                            <comment id="12405822" author="rinkatanuvatt@intercope.com" created="Wed, 20 Apr 2005 00:52:30 +0000"  >&lt;p&gt;We have the same problem with a z/OS Version 1.4 and a tomcat 4 with the IBM&lt;br/&gt;
Java VM 1.4.2. We tested the commons-fileupload-20050419 too with the same result. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>26194</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118260</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            20 years, 30 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0slm7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164979</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-3] [fileupload] Stream ended unexpectedly - when used with Flash 8 file upload</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-3</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;Using the new Flash 8 file upload facility, the posted data causes &lt;br/&gt;
this error in FileUpload&lt;/p&gt;

&lt;p&gt; org.apache.commons.fileupload.FileUploadException: Processing of&lt;br/&gt;
multipart/form-data request failed. Stream ended unexpectedly&lt;/p&gt;

&lt;p&gt;I am running with nightly builds of &lt;br/&gt;
commons-io-1.1-dev.jar&lt;br/&gt;
commons-fileupload-1.1-dev.jar&lt;br/&gt;
downloaded 9.27.05&lt;/p&gt;


&lt;p&gt;The file upload multipart data can be parsed fine by PHP 4&apos;s file upload machinery. &lt;/p&gt;

&lt;p&gt;Here is a raw file of the request POST data from the Flash client, maybe it will&lt;br/&gt;
tell you something.&lt;/p&gt;


&lt;p&gt;------------gL6Ij5GI3KM7Ef1KM7gL6gL6cH2GI3&lt;br/&gt;
Content-Disposition: form-data; name=&quot;Filename&quot;&lt;/p&gt;

&lt;p&gt;known_hosts&lt;br/&gt;
------------gL6Ij5GI3KM7Ef1KM7gL6gL6cH2GI3&lt;br/&gt;
Content-Disposition: form-data; name=&quot;Filedata&quot;; filename=&quot;known_hosts&quot;&lt;br/&gt;
Content-Type: application/octet-stream&lt;/p&gt;

&lt;p&gt;stealth,192.168.10.5 ssh-rsa&lt;br/&gt;
AAAAB3NzaC1yc2EAAAABIwAAAIEAwC8qPeKuTxPGIWntFUDgeIuko6vYH6/iTq2c2E+rZUmsw2DzaxuTF1WZ5zaDSRb6y8huqnmVqC4e2n/vgVMaHPCjwNoumpGPd3pfgHxBCBqGKo8CdMDuGLBD6ay0Dv/peKrqbCIKEkBRR9oiJfMxNEgkG/rQVWnqHZ8gdZU4Abk=&lt;br/&gt;
sf.laszlosystems.com,198.144.202.66 ssh-rsa&lt;br/&gt;
AAAAB3NzaC1yc2EAAAABIwAAAIEA3+kiXznwgtuQapBQ33R5T3o5a5w5Sl6SXHmq9FyMf+2c6zUq+O+26reDI7XMk5ZCrMN/dL5zESIw3QEocEZG/0YnkKx4zC8Kic8JHJJxWyKZZ0vOIged43a16D4I1kyDHvYYgcETzK+Si+Ow/wDUIWd3FUcsvK7fSAwSREZrgLE=&lt;br/&gt;
beartronics.dnsalias.net,209.150.55.79 ssh-rsa&lt;br/&gt;
AAAAB3NzaC1yc2EAAAABIwAAAIEAwC8qPeKuTxPGIWntFUDgeIuko6vYH6/iTq2c2E+rZUmsw2DzaxuTF1WZ5zaDSRb6y8huqnmVqC4e2n/vgVMaHPCjwNoumpGPd3pfgHxBCBqGKo8CdMDuGLBD6ay0Dv/peKrqbCIKEkBRR9oiJfMxNEgkG/rQVWnqHZ8gdZU4Abk=&lt;br/&gt;
rscode.sourceforge.net,66.35.250.209 ssh-dss&lt;br/&gt;
AAAAB3NzaC1kc3MAAACBAPa9fW4yY6h2lHYoONfb1Oz9rcPJ7rVi8c1p1VAAl3qVUTm4iWhBnRYnGjv2N9kl4uFXMnlJ5TwVGMSV3rV0VmsFYDpNZGyjEy3q/0k59vwjaMIrVF9EgdjAbMdEr6vUAbfIfzYNzeemtiy65OOiw2cRfF21xYRdNVMpEz9a/6T9AAAAFQCnz2QdvFwORsPv5zjZzFnTiz9NpQAAAIBuJAtsLmFmNQnWk0pHsnOOxUhZSZEcQC4/4t5X8yEX9Y/UPt0BfhWhyh6tIlioJgFxxyU5ydnyqLWZYa0OYaJ+NE0CD3aiM5rUz5bUBwYH4eywdWQzss6ez0XwZdwRFjVM6rQAuB1fCoCzXfG18wRnmloj+W7FqDyuAAqgnK45WAAAAIEAw8po2iEvm8b0BUaKRHBHwWR+m7tLrTpYOdZj9LsiwN0AfklqpwZZwRRmpiGtgWRhHLRQdv8PF2jGOkhbrfjcYv7R3rB6inBVHl+/82nWUA2HtPlPEPTFMdxxgsE8gazop01tME9iefXAKo+AquBnBeP7GAljQwWjJ64k0WX4aKU=&lt;br/&gt;
login.csail.mit.edu,128.30.2.14 ssh-rsa&lt;br/&gt;
AAAAB3NzaC1yc2EAAAABIwAAAIEA6wRr2sZH5Yb16+Sf9gn+ED9kRb1Ex9kPbIOjvS1Re+WO18utOkBLBurVase0rlBzb9FpyNYR5qXXM+97WfLqRS93ZtElSi5F2iIulRosLsNhO6a9N2XuB2JeQhy4jau0F6PBmJ4yxP6/F4z5+yVCkfoRn0+pU37KRhl07Ao2qGM=&lt;br/&gt;
model28,192.168.10.49 ssh-rsa&lt;br/&gt;
AAAAB3NzaC1yc2EAAAABIwAAAIEA2PEZ5EGFpzWEN8XOG/b+cmTUokahbWDVmuZrPp4DakNrXkNB7nYO47on5jMdKZidV4/RKkQOcFbKNyiq+1kdkPwnVV2Hyq70pGmeJJGGTCZwB/LlPkSz2CSPXhh7CR9Kg5GcqD1ROSDJEXpm9j/D2nZ917+iGjnEpKWrDcnhPb0=&lt;br/&gt;
192.168.10.101 ssh-rsa&lt;br/&gt;
AAAAB3NzaC1yc2EAAAABIwAAAIEAskjEu4jsE9+iDRPqntlPwahF1VarD5efspUq7Ot58jsgCW9epLVNj9NyxTAvK3L68qOXBqxpkm8Gx/nuRgPAh4sHA/xxbgOmlnIcrELXRyQMF0cpjcmk1yikFwJyktmmDAdqMghI+AoO3dvTpkZHeRavoae5xST8nKilqnbhN7s=&lt;/p&gt;

&lt;p&gt;------------gL6Ij5GI3KM7Ef1KM7gL6gL6cH2GI3&lt;br/&gt;
Content-Disposition: form-data; name=&quot;Upload&quot;&lt;br/&gt;
Submit Query&lt;br/&gt;
------------gL6Ij5GI3KM7Ef1KM7gL6gL6cH2GI3&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12342582">FILEUPLOAD-3</key>
            <summary>[fileupload] Stream ended unexpectedly - when used with Flash 8 file upload</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="4">Incomplete</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="henry.minsky@gmail.com">Henry Minsky</reporter>
                        <labels>
                    </labels>
                <created>Wed, 28 Sep 2005 04:20:23 +0000</created>
                <updated>Fri, 9 Mar 2007 20:31:52 +0000</updated>
                            <resolved>Fri, 9 Mar 2007 20:31:52 +0000</resolved>
                                    <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12410479" author="henry.minsky@gmail.com" created="Wed, 28 Sep 2005 04:21:19 +0000"  >&lt;p&gt;The code used to invoke this was called from inside a .jsp file, as &lt;/p&gt;

&lt;p&gt;        FileItemFactory factory = new DiskFileItemFactory();  &lt;br/&gt;
        // Configure the factory if you need to  &lt;br/&gt;
        FileUpload upload = new ServletFileUpload(factory);  &lt;/p&gt;

&lt;p&gt;        List items=null;&lt;br/&gt;
        String uri = request.getRequestURI();&lt;br/&gt;
        dbg.println(&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; uri in servlet: &quot;+uri);&lt;/p&gt;

&lt;p&gt;        // Parse the request&lt;br/&gt;
        try {&lt;br/&gt;
            dbg.println(&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;3&amp;#93;&lt;/span&gt; inside servlet1:&lt;br/&gt;
&quot;+DiskFileUpload.isMultipartContent(request));&lt;br/&gt;
            dbg.println(request.toString());&lt;br/&gt;
            items = upload.parseRequest(request);&lt;br/&gt;
            dbg.println(&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;4&amp;#93;&lt;/span&gt; items size: &quot;+items.size());&lt;/p&gt;</comment>
                            <comment id="12410480" author="martinc" created="Mon, 28 Nov 2005 07:29:59 +0000"  >&lt;p&gt;Assuming that the content posted here is the complete body of the request, the&lt;br/&gt;
reason it&apos;s failing is because it&apos;s a malformed multipart stream. The final&lt;br/&gt;
boundary must be followed by &quot;--&quot; to terminate the content.&lt;/p&gt;</comment>
                            <comment id="12410481" author="henry.minsky@gmail.com" created="Mon, 28 Nov 2005 10:16:34 +0000"  >&lt;p&gt;Must be a bug in Flash 8&apos;s file upload machinery then. &lt;/p&gt;</comment>
                            <comment id="12418479" author="y_widyatama" created="Thu, 29 Jun 2006 21:35:48 +0000"  >&lt;p&gt;quick-and-dirty patch to enable Flash 8 uploads&lt;/p&gt;

&lt;p&gt;There are another mistake the Flash 8 upload does, that is the last part has no&lt;br/&gt;
CRLF to end the header. This patch is for Flash 8 developers that trying to&lt;br/&gt;
create RIA with Flash and Java server backend. Be aware that it just convert&lt;br/&gt;
the thrown exception into log entry and allows the application to receive&lt;br/&gt;
malformed multipart stream. It works because the malformed part is after the&lt;br/&gt;
important part and we have no need of the malformed part.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12336159" name="flash8.patch" size="1313" author="y_widyatama" created="Thu, 29 Jun 2006 21:35:48 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36832</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118259</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            19 years, 19 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0slmf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164980</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-2] [PATCH]fileupload couldn&apos;t treat escaped character</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-2</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;fileupload couldn&apos;t treat escaped character like &apos;&amp;#123456;&apos;. When IE submit &lt;br/&gt;
multibyte characters by POST multipart. The multibyte characters are escaped &lt;br/&gt;
with &quot;&amp;amp;#&quot;.&lt;/p&gt;

&lt;p&gt;I attached the patch to fix it. Please take it.&lt;/p&gt;

&lt;p&gt;regards,&lt;/p&gt;

&lt;p&gt;Takashi Okamoto&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: Windows XP&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12341631">FILEUPLOAD-2</key>
            <summary>[PATCH]fileupload couldn&apos;t treat escaped character</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="toraneko@kun.ne.jp">toraneko</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Aug 2004 23:50:19 +0000</created>
                <updated>Mon, 30 Oct 2006 21:41:08 +0000</updated>
                            <resolved>Mon, 30 Oct 2006 21:41:08 +0000</resolved>
                                    <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>2</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12407212" author="toraneko@kun.ne.jp" created="Wed, 11 Aug 2004 23:51:19 +0000"  >&lt;p&gt;Created an attachment (id=12395)&lt;br/&gt;
support escaped characters.&lt;/p&gt;</comment>
                            <comment id="12407213" author="martinc" created="Sun, 17 Oct 2004 10:58:03 +0000"  >&lt;p&gt;I am not going to make this change, for two reasons:&lt;/p&gt;

&lt;p&gt;1) It is not the business of FileUpload to interpret or otherwise manipulate &lt;br/&gt;
uploaded content. FileUpload provides to its clients exactly what the browser &lt;br/&gt;
presents to it.&lt;/p&gt;

&lt;p&gt;2) Such a change would break many other uses of FileUpload. For example, if &lt;br/&gt;
your description of this problem was uploaded using FileUpload, the example &lt;br/&gt;
escaped character would not have been provided to the client, since it would &lt;br/&gt;
have been &quot;decoded&quot; when it was not intended to be.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333042" name="ASF.LICENSE.NOT.GRANTED--escaped-character.patch" size="2082" author="toraneko@kun.ne.jp" created="Wed, 11 Aug 2004 23:51:19 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30600</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118258</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 years, 4 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0slmn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164981</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[FILEUPLOAD-1] Detemining content type</title>
                <link>https://issues.apache.org/jira/browse/FILEUPLOAD-1</link>
                <project id="12310476" key="FILEUPLOAD">Commons FileUpload</project>
                    <description>&lt;p&gt;Some of the single signon softwares change the case of header keys. In order to &lt;br/&gt;
take care of one such case, where Content-type was changed to content-type and &lt;br/&gt;
hence request.getHeader(CONTENT_TYPE) fails since the CONTENT_TYPE=Content-type &lt;br/&gt;
whereas, the key in the header is content-type. &lt;/p&gt;

&lt;p&gt;Can this be changed everywhere in the codebase to use request.getContentType() &lt;br/&gt;
instead of request.getHeader(CONTENT_TYPE)&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Shishir&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment>&lt;p&gt;Operating System: Windows 2000&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12341941">FILEUPLOAD-1</key>
            <summary>Detemining content type</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sksingh@synapsistech.com">Shishir</reporter>
                        <labels>
                    </labels>
                <created>Sun, 12 Dec 2004 20:57:44 +0000</created>
                <updated>Fri, 9 Mar 2007 20:31:52 +0000</updated>
                            <resolved>Fri, 9 Mar 2007 20:31:52 +0000</resolved>
                                    <version>1.0 Final</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12408334" author="ebourg" created="Sun, 12 Dec 2004 21:07:18 +0000"  >

&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;
		&lt;ul&gt;
			&lt;li&gt;This bug has been marked as a duplicate of 32654 ***&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32656</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118257</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            20 years, 48 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0slmv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164982</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>