diff --git a/Makefile b/Makefile
index 6b980569..9147eb8c 100644
--- a/Makefile
+++ b/Makefile
@@ -28,16 +28,24 @@ else
   TAR:= tar
 endif
 
+# Windows uses different path separators
+ifeq ($(OS_NAME),Windows)
+  SEP := ;
+else
+  SEP := :
+endif
+
+
 NATIVE_TARGET_DIR:=$(TARGET)/classes/org/apache/commons/crypto/native/$(OS_NAME)/$(OS_ARCH)
 NATIVE_DLL:=$(NATIVE_TARGET_DIR)/$(LIBNAME)
 
 all: $(NATIVE_DLL)
 
 $(TARGET)/jni-classes/org/apache/commons/crypto/cipher/OpenSslNative.h: $(TARGET)/classes/org/apache/commons/crypto/cipher/OpenSslNative.class
-	$(JAVAH) -force -classpath $(TARGET)/jni-classes:$(TARGET)/classes -o $@ org.apache.commons.crypto.cipher.OpenSslNative
+	$(JAVAH) -force -classpath $(TARGET)/jni-classes$(SEP)$(TARGET)/classes -o $@ org.apache.commons.crypto.cipher.OpenSslNative
 
 $(TARGET)/jni-classes/org/apache/commons/crypto/random/OpenSslCryptoRandomNative.h: $(TARGET)/classes/org/apache/commons/crypto/random/OpenSslCryptoRandomNative.class
-	$(JAVAH) -force -classpath $(TARGET)/jni-classes:$(TARGET)/classes -o $@ org.apache.commons.crypto.random.OpenSslCryptoRandomNative
+	$(JAVAH) -force -classpath $(TARGET)/jni-classes$(SEP)$(TARGET)/classes -o $@ org.apache.commons.crypto.random.OpenSslCryptoRandomNative
 
 $(COMMONS_CRYPTO_OUT)/OpenSslNative.o : $(SRC_NATIVE)/org/apache/commons/crypto/cipher/OpenSslNative.c $(TARGET)/jni-classes/org/apache/commons/crypto/cipher/OpenSslNative.h
 	@mkdir -p $(@D)
diff --git a/Makefile.common b/Makefile.common
index 57fd7e05..67148c38 100644
--- a/Makefile.common
+++ b/Makefile.common
@@ -43,13 +43,6 @@ OS_ARCH := $(shell $(JAVA) -cp $(TARGET)/classes $(OSINFO_CLASS) --arch)
 LIB_FOLDER := $(shell $(JAVA) -cp $(TARGET)/classes $(OSINFO_CLASS))
 IBM_JDK_LIB := lib/inc_ibm
 
-# Windows uses different path separators
-ifeq ($(OS_NAME),Windows)
-  sep := ;
-else
-  sep := :
-endif
-
 commons-crypto := commons-crypto-$(VERSION)
 
 
