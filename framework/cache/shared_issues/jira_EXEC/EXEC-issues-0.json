<!--
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Thu Oct 23 09:40:00 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+%22EXEC%22+AND+issuetype+%3D+Bug+ORDER+BY+key+DESC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="82" total="82"/>
                <build-info>
            <version>8.20.10</version>
            <build-number>820010</build-number>
            <build-date>22-06-2022</build-date>
        </build-info>

<item>
            <title>[EXEC-124] maven-changes-plugin:3.0.0-M2 causes &quot;Error in the JQL Query&quot;</title>
                <link>https://issues.apache.org/jira/browse/EXEC-124</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;I&apos;d post this to the &lt;tt&gt;MCHANGES&lt;/tt&gt; Jira project but I don&apos;t seem to have rights for that...&lt;/p&gt;

&lt;p&gt;Apache Commons Exec gets a MojoExecutionException: Failed to query issues; response 400&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[INFO] Generating &quot;JIRA Report&quot; report   --- maven-changes-plugin:3.0.0-M2:jira-changes
[ERROR] Error in the JQL Query: &apos;EXEC&apos; is a reserved JQL word. You must surround it in quotation marks to use it in a query. (line 1, character 11)
[WARNING] 
org.apache.maven.plugin.MojoExecutionException: Failed to query issues; response 400
    at org.apache.maven.plugins.changes.jira.RestJiraDownloader.reportErrors (RestJiraDownloader.java:453)
    at org.apache.maven.plugins.changes.jira.RestJiraDownloader.search (RestJiraDownloader.java:402)
    at org.apache.maven.plugins.changes.jira.RestJiraDownloader.doExecute (RestJiraDownloader.java:361)
    at org.apache.maven.plugins.changes.jira.JiraChangesReport.executeReport (JiraChangesReport.java:339)
    at org.apache.maven.reporting.AbstractMavenReport.generate (AbstractMavenReport.java:358)
    at org.apache.maven.plugins.site.render.ReportDocumentRenderer.renderDocument (ReportDocumentRenderer.java:199)
    at org.apache.maven.doxia.siterenderer.DefaultSiteRenderer.render (DefaultSiteRenderer.java:302)
    at org.apache.maven.plugins.site.render.SiteMojo.renderNonDoxiaDocuments (SiteMojo.java:282)
    at org.apache.maven.plugins.site.render.SiteMojo.renderLocale (SiteMojo.java:147)
    at org.apache.maven.plugins.site.render.SiteMojo.execute (SiteMojo.java:112)
    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)
    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:328)
    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:316)
    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:212)
    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:174)
    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:75)
    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:162)
    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)
    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:159)
    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)
    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)
    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)
    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)
    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)
    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)
    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)
    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:906)
    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)
    at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)
    at jdk.internal.reflect.DirectMethodHandleAccessor.invoke (DirectMethodHandleAccessor.java:103)
    at java.lang.reflect.Method.invoke (Method.java:580)
    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:255)
    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:201)
    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:361)
    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:314)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Run:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;git clone https://github.com/apache/commons-exec.git
cd commons-exec
mvn clean site -DskipTests
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13617730">EXEC-124</key>
            <summary>maven-changes-plugin:3.0.0-M2 causes &quot;Error in the JQL Query&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ggregory">Gary D. Gregory</reporter>
                        <labels>
                    </labels>
                <created>Sat, 10 May 2025 13:51:52 +0000</created>
                <updated>Wed, 28 May 2025 12:24:21 +0000</updated>
                            <resolved>Tue, 20 May 2025 17:03:19 +0000</resolved>
                                                    <fixVersion>1.5.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17950687" author="pzygielo" created="Sat, 10 May 2025 14:23:09 +0000"  >&lt;blockquote&gt;&lt;p&gt;I&apos;d post this to the &lt;tt&gt;MCHANGES&lt;/tt&gt; Jira project but I don&apos;t seem to have rights for that...&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Perhaps because GitHub Issues were enabled for that project: &lt;a href=&quot;https://github.com/apache/maven-changes-plugin/issues&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-changes-plugin/issues&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="17950723" author="garydgregory" created="Sat, 10 May 2025 20:10:53 +0000"  >&lt;p&gt;Plugin bug tracker: &lt;a href=&quot;https://github.com/apache/maven-changes-plugin/issues/128&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-changes-plugin/issues/128&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17950924" author="garydgregory" created="Mon, 12 May 2025 11:29:47 +0000"  >&lt;p&gt;My PR has been merged and should be released in &lt;tt&gt;maven-changes-plugin&lt;/tt&gt; 3.0.0-M3.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311020" key="com.atlassian.jira.plugin.system.customfieldtypes:url">
                        <customfieldname>External issue URL</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[https://github.com/apache/maven-changes-plugin/pull/127]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            23 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1vsaw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-123] Child processes not getting killed</title>
                <link>https://issues.apache.org/jira/browse/EXEC-123</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;While searching for something completely different related to Commons Exec, i found this:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/35601924/java-apache-commons-exec-watchdog-and-windows-cmd-exe-issues&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://stackoverflow.com/questions/35601924/java-apache-commons-exec-watchdog-and-windows-cmd-exe-issues&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The answer there uses `Process.descendants()` to also kill the child processes. That method was added with Java 9.&lt;/p&gt;

&lt;p&gt;Since this problem is important enough to be one of the five &lt;a href=&quot;https://commons.apache.org/proper/commons-exec/faq.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;FAQ questions&lt;/a&gt;, i think it might be a good idea to raise the minimum Java version of Commons Exec and use the `descendants()` method to fix that problem.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13595646">EXEC-123</key>
            <summary>Child processes not getting killed</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="wlfbck">Wolff Bock von Wuelfingen</reporter>
                        <labels>
                    </labels>
                <created>Wed, 16 Oct 2024 08:58:12 +0000</created>
                <updated>Fri, 25 Oct 2024 12:27:27 +0000</updated>
                                            <version>1.4.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17890233" author="michael-o" created="Wed, 16 Oct 2024 19:49:17 +0000"  >&lt;p&gt;Are you on Windows? &lt;/p&gt;</comment>
                            <comment id="17890234" author="michael-o" created="Wed, 16 Oct 2024 19:56:17 +0000"  >&lt;p&gt;Killing a process on Windows  does not kill children. Please google for it.&lt;/p&gt;</comment>
                            <comment id="17890509" author="JIRAUSER294227" created="Thu, 17 Oct 2024 16:38:44 +0000"  >&lt;p&gt;&amp;gt;Killing a process on Windows does not kill children. Please google for it.&lt;/p&gt;

&lt;p&gt;Yeap, exactly. That&apos;s why i suggest using this function: &lt;a href=&quot;https://docs.oracle.com/javase/10/docs/api/java/lang/Process.html#descendants()&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://docs.oracle.com/javase/10/docs/api/java/lang/Process.html#descendants()&lt;/a&gt; as shown in the answer to that stackoverflow post.&lt;/p&gt;

&lt;p&gt;Which would require raising the minimum Java version.&lt;/p&gt;</comment>
                            <comment id="17890512" author="garydgregory" created="Thu, 17 Oct 2024 16:46:40 +0000"  >&lt;p&gt;Raising the Java platform requirement is worth discussing on the mailing list, I&apos;ll start a thread. I discuss raising it to the next LTS level: Java 11.&lt;/p&gt;

&lt;p&gt;There is a compatibility issue, so maybe the feature would be supported with a parameter or new method, but that&apos;s a different issue. Let&apos;s see about Java 11 first.&lt;/p&gt;</comment>
                            <comment id="17892737" author="slawekjaranowski" created="Fri, 25 Oct 2024 09:55:27 +0000"  >&lt;p&gt;For one method we can use a Multi-Release jar.&lt;/p&gt;</comment>
                            <comment id="17892772" author="garydgregory" created="Fri, 25 Oct 2024 12:15:06 +0000"  >&lt;p&gt;&amp;gt; For one method we can use a Multi-Release jar.&lt;/p&gt;

&lt;p&gt;I don&apos;t think that&apos;s a good idea because the library will behave unexpectedly differently depending on the underlying Java platform version. Not because of Java itself but because of a choice we made.&lt;/p&gt;

&lt;p&gt;This will be much harder for transitive dependencies to explain. An app updates Exec, nothing happens, then later, it updates Java, and surprise, the behavior is different in a very important way. Even updating both at the same time could hurt.&lt;/p&gt;

&lt;p&gt;I would not want to explain that surprise to a downstream customer... &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Especially when the explainer is OS-specific! Yikes! &lt;/p&gt;

&lt;p&gt;If we wanted to use an MR JAR as a better way to implement a feature it would be one thing, but here we are talking about a new behavior.&lt;/p&gt;

&lt;p&gt;A MAJOR concern for me is that we should not change the behavior for an existing API, but instead, I think we should offer a new API. This will allow devs to make the choice to keep the old behavior or opt for the new one. The additional wrinkle of this having an OS-specific aspect makes the possible surprise extra painful IMO.&lt;/p&gt;

&lt;p&gt;HTH&lt;/p&gt;</comment>
                            <comment id="17892773" author="JIRAUSER294227" created="Fri, 25 Oct 2024 12:27:27 +0000"  >&lt;p&gt;&amp;gt;A MAJOR concern for me is that we should not change the behavior for an existing API, but instead, I think we should offer a new API. This will allow devs to make the choice to keep the old behavior or opt for the new one. The additional wrinkle of this having an OS-specific aspect makes the possible surprise extra painful IMO.&lt;/p&gt;

&lt;p&gt;Agreed, i would put this into a new method/class as well. But not OS-specific, there is no harm in the new method trying to kill all child processes as well, even on Linux.&lt;/p&gt;

&lt;p&gt;If this was completely up to me, i would probably mark ExecuteWatchdog as deprecated, explain why, add DestroyDescendantsExecuteWatchdog and make it the default in the tutorials.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Sidenote: In the stackoverflow post one comment says he also ran into issues with child processes on linux, when executing a shell script. I didn&apos;t have time to validate this however.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            51 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1s0wg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-122] PumpStreamHandler(OutputStream) constructor relies on stream being thread-safe</title>
                <link>https://issues.apache.org/jira/browse/EXEC-122</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;h3&gt;&lt;a name=&quot;Description&quot;&gt;&lt;/a&gt;Description&lt;/h3&gt;
&lt;p&gt;The constructor &lt;tt&gt;org.apache.commons.exec.PumpStreamHandler.PumpStreamHandler(OutputStream)&lt;/tt&gt; which uses the &lt;tt&gt;OutputStream&lt;/tt&gt; for both &apos;out&apos; and &apos;err&apos; currently does not perform any synchronization, so potentially two threads are writing at the same time to &lt;tt&gt;OutputStream&lt;/tt&gt;.&lt;br/&gt;
(This also applies to the other &lt;tt&gt;PumpStreamHandler&lt;/tt&gt; constructor overloads in case the user manually provides the same &lt;tt&gt;OutputStream&lt;/tt&gt; instance both as &apos;out&apos; and &apos;err&apos;).&lt;/p&gt;

&lt;p&gt;This is error-prone because not all &lt;tt&gt;OutputStream&lt;/tt&gt; implementations are thread-safe, and the user might not be aware of this behavior.&lt;/p&gt;

&lt;p&gt;So it would be good to either:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Mention in the &lt;tt&gt;PumpStreamHandler(OutputStream)&lt;/tt&gt; documentation (and possibly for the other constructor overloads as well, if the same stream instance is used), that the &lt;tt&gt;OutputStream&lt;/tt&gt; has to be thread-safe&lt;/li&gt;
	&lt;li&gt;Or, &lt;tt&gt;PumpStreamHandler&lt;/tt&gt; (or &lt;tt&gt;StreamPumper&lt;/tt&gt;) should perform synchronization, for example if the same stream instance is used by wrapping it in a custom synchronizing &lt;tt&gt;OutputStream&lt;/tt&gt;&lt;br/&gt;
(though maybe that is not desired if the stream is already thread-safe, e.g. &lt;tt&gt;Files.newOutputStream&lt;/tt&gt;)&lt;/li&gt;
&lt;/ul&gt;


&lt;h3&gt;&lt;a name=&quot;Example&quot;&gt;&lt;/a&gt;Example&lt;/h3&gt;
&lt;p&gt;Run this code snippet:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
OutputStream out = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; OutputStream() {
    @Override
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void write(&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; b) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
        &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.currentThread().getName());
    }
};
PumpStreamHandler p = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PumpStreamHandler(out);
p.setProcessOutputStream(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ByteArrayInputStream(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[1]));
p.setProcessErrorStream(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ByteArrayInputStream(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[1]));
p.start();

&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.sleep(1000);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You will see that it prints two different thread names. If you place a breakpoint at the &lt;tt&gt;println&lt;/tt&gt; you will also see that no synchronization is performed, and the calls happen concurrently.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13563960">EXEC-122</key>
            <summary>PumpStreamHandler(OutputStream) constructor relies on stream being thread-safe</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="Marcono1234">Marcono1234</reporter>
                        <labels>
                    </labels>
                <created>Mon, 8 Jan 2024 22:23:36 +0000</created>
                <updated>Wed, 10 Jan 2024 22:27:48 +0000</updated>
                            <resolved>Wed, 10 Jan 2024 22:27:48 +0000</resolved>
                                    <version>1.4.0</version>
                                    <fixVersion>1.5.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17805312" author="marcono1234" created="Wed, 10 Jan 2024 22:27:48 +0000"  >&lt;p&gt;Documentation has been adjusted to mention thread-safety requirements.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 41 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1mmig:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-121] Async execution does not guarantee that process destroyer is registered</title>
                <link>https://issues.apache.org/jira/browse/EXEC-121</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;h3&gt;&lt;a name=&quot;Bug&quot;&gt;&lt;/a&gt;Bug&lt;/h3&gt;
&lt;p&gt;When using one of the async &lt;tt&gt;Executor.execute&lt;/tt&gt; methods, i.e. one taking an &lt;tt&gt;ExecuteResultHandler&lt;/tt&gt; argument, it is not guaranteed that the process destroyer is registered.&lt;/p&gt;

&lt;p&gt;The reason for this is that launching of the process and registration of the process destroyer is done already in the separate executor thread. So it is possible that a race condition occurs where the process is currently launching but in the mean time the JVM exits, so the process destroyer is never registered and the process is therefore not destroyed.&lt;/p&gt;

&lt;p&gt;While I assume for normal use cases it is unlikely that the JVM exits right after the process was launched, such situations could occur if a (possibly unrelated) error occurs and the whole application should terminate. In such cases it would probably be important that any launched process is destroyed as well.&lt;/p&gt;

&lt;h3&gt;&lt;a name=&quot;Example&quot;&gt;&lt;/a&gt;Example&lt;/h3&gt;
&lt;p&gt;Here is a small example demonstrating this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Executor e = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DaemonExecutor();
e.setProcessDestroyer(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ShutdownHookProcessDestroyer());

&lt;span class=&quot;code-comment&quot;&gt;// This is to get the timing of &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; test right, that is, finish in `main` right after process was launched
&lt;/span&gt;CountDownLatch latch = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; CountDownLatch(1);
e.setStreamHandler(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PumpStreamHandler() {
    @Override
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void start() {
        latch.countDown();
        &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
            &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.sleep(1000);
        } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (InterruptedException e) {
            e.printStackTrace();
        }
        &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;.start();
    }
});

CommandLine c = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; CommandLine(&lt;span class=&quot;code-quote&quot;&gt;&quot;notepad.exe&quot;&lt;/span&gt;); &lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; Windows
&lt;/span&gt;e.execute(c, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ExecuteResultHandler() {
    @Override
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void onProcessFailed(ExecuteException e) {
        e.printStackTrace();
    }

    @Override
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void onProcessComplete(&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; exitValue) {
        &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;Completed: &quot;&lt;/span&gt; + exitValue);
    }
});

latch.await();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This is a bit contrived to make sure it gets the timing right, but it can also be reproduced with &quot;real world&quot; code. What happens is that Notepad is launched, the JVM exits but Notepad remains open (= the bug).&lt;br/&gt;
If you add for example a &lt;tt&gt;Thread.sleep(3000);&lt;/tt&gt; at the end of &lt;tt&gt;main&lt;/tt&gt; it works as expected and Notepad is closed when the JVM exits.&lt;/p&gt;

&lt;h3&gt;&lt;a name=&quot;Possiblesolution&quot;&gt;&lt;/a&gt;Possible solution&lt;/h3&gt;
&lt;p&gt;One solution might be to launch the process and register the process destroyer outside the executor thread. This would also have the nice side effect that execution fails fast if the process cannot even be launched in the first place.&lt;/p&gt;

&lt;p&gt;But on the other hand it would probably slow down starting async execution because it has to wait until the process is launched (though not until it exits; that is still handled by the executor thread).&lt;/p&gt;</description>
                <environment></environment>
        <key id="13542235">EXEC-121</key>
            <summary>Async execution does not guarantee that process destroyer is registered</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="Marcono1234">Marcono1234</reporter>
                        <labels>
                    </labels>
                <created>Sun, 2 Jul 2023 19:25:12 +0000</created>
                <updated>Sat, 6 Jan 2024 18:53:04 +0000</updated>
                                            <version>1.3</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17801211" author="garydgregory" created="Fri, 29 Dec 2023 16:24:04 +0000"  >&lt;p&gt;Hello &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Marcono1234&quot; class=&quot;user-hover&quot; rel=&quot;Marcono1234&quot;&gt;Marcono1234&lt;/a&gt;&lt;br/&gt;
Thank you for your report.&lt;br/&gt;
PRs on GitHub are welcome &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17803850" author="marcono1234" created="Sat, 6 Jan 2024 18:52:44 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ggregory&quot; class=&quot;user-hover&quot; rel=&quot;ggregory&quot;&gt;ggregory&lt;/a&gt;, I have created &lt;a href=&quot;https://github.com/apache/commons-exec/pull/144&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-exec/pull/144&lt;/a&gt;; feedback is appreciated!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 41 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1ixa0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-120] Some flaky tests</title>
                <link>https://issues.apache.org/jira/browse/EXEC-120</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;Hello,&lt;/p&gt;

&lt;p&gt;We tried running this project and discovered that it contains some flaky tests (i.e., tests that nondeterministically pass and fail). We found these tests to fail more frequently when running them on certain machines of ours.&lt;/p&gt;

&lt;p&gt;To prevent others from running this project and its tests in machines that may result in flaky tests, we suggest adding information to the README.md file indicating the minimum resource configuration for running the tests of this project as to prevent observation of test flakiness.&lt;/p&gt;

&lt;p&gt;If we run this project in a machine with 1cpu and 1gb ram, we observe flaky tests. We found that the tests in this project did not have any flaky tests when we ran it on machines with 2cpu and 2gb ram.&lt;/p&gt;

&lt;p&gt;Here is a list of the tests we have identified and their likelihood of failure on a system with less than the recommended 2 CPUs and 2 GB RAM.&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;org.apache.commons.exec.issues.Exec34Test#testExec34_1 (2 out 10)&lt;/li&gt;
	&lt;li&gt;org.apache.commons.exec.issues.Exec65Test#testExec65WithSudoUsingShellScript (2 out 10)&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;Please let me know if you would like us to create a pull request on this matter (possibly to the readme of this project).&lt;/p&gt;

&lt;p&gt;Thank you for your attention to this matter. We hope that our recommendations will be helpful in improving the quality and performance of your project, especially for others to use.&lt;/p&gt;

&lt;p&gt;Reproducing&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
FROM maven:3.5.4-jdk-11

WORKDIR /home/

RUN git clone https:&lt;span class=&quot;code-comment&quot;&gt;//github.com/apache/commons-exec &amp;amp;&amp;amp; \
&lt;/span&gt;  cd commons-exec &amp;amp;&amp;amp; \
  git checkout 7204a355ba5ffba21d828ce993b27c81b5565f43

WORKDIR /home/commons-exec

RUN mvn install -DskipTests

ENTRYPOINT [&lt;span class=&quot;code-quote&quot;&gt;&quot;mvn&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;test&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;-fn&quot;&lt;/span&gt;]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Build the image:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
$&amp;gt; mkdir tmp
$&amp;gt; cp Dockerfile tmp
$&amp;gt; cd tmp
$&amp;gt; docker build -t commons-exec . # estimated time of build 3m
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Running:&lt;br/&gt;
this configuration likely prevents flakiness (no flakiness in 10 runs)&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
$&amp;gt; docker run --rm --memory=2g --cpus=2 --memory-swap=-1 commons-exec | tee output.txt
$&amp;gt; grep &lt;span class=&quot;code-quote&quot;&gt;&quot;Failures:&quot;&lt;/span&gt; output.txt # checking results&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;this other configuration &#8211;similar to the previous&#8211; can&#8217;t prevent flaky tests (observation in 10 runs)&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
$&amp;gt; docker run --rm --memory=1g --cpus=1 --memory-swap=-1 commons-exec | tee output2.txt
$&amp;gt; grep &lt;span class=&quot;code-quote&quot;&gt;&quot;Failures:&quot;&lt;/span&gt; output2.txt # checking results&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13536014">EXEC-120</key>
            <summary>Some flaky tests</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="agorguy">Agor</reporter>
                        <labels>
                    </labels>
                <created>Fri, 12 May 2023 18:19:12 +0000</created>
                <updated>Wed, 14 Jun 2023 19:46:59 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17722296" author="garydgregory" created="Fri, 12 May 2023 21:35:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=agorguy&quot; class=&quot;user-hover&quot; rel=&quot;agorguy&quot;&gt;agorguy&lt;/a&gt; The test cases in question pass consistently for me locally with &lt;tt&gt;mvn clean test&lt;/tt&gt;. They also consistently pass on GitHub &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;. Unless you can tell me what you think is specifically wrong with those test cases and how they should be fixed or improved I see little value in adding anything to the project README concerning those tests. In any case, the README for the Commons components is generated at release time, so a Javadoc comment would only make sense anyway, this would not be information for the README.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/commons-exec/actions&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-exec/actions&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17732726" author="JIRAUSER300318" created="Wed, 14 Jun 2023 19:46:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ggregory&quot; class=&quot;user-hover&quot; rel=&quot;ggregory&quot;&gt;ggregory&lt;/a&gt; , sorry for the delay in response, and thank you for your feedback.&lt;/p&gt;

&lt;p&gt;I completely understand your viewpoint regarding the test cases passing consistently for you locally and on GitHub. However, I&apos;d like to emphasize the importance of including a minimum specification for the project (in the README) to prevent potential flaky test scenarios that might arise for other users or contributors. The intention is to educate &lt;ins&gt;developers and users&lt;/ins&gt; about the importance of having a minimum requirement for stable test execution.&lt;/p&gt;

&lt;p&gt;By including the minimum required RAM and CPU in the README, we can prevent unexpected test failures caused by insufficient resources on &lt;ins&gt;developers&apos; machines&lt;/ins&gt;. This information requires minimal effort to add, but can save developers from the headache of debugging flaky test failures if their machines don&apos;t meet the recommended specifications. It also helps set the right expectations for project users.&lt;/p&gt;

&lt;p&gt;Thank you for your consideration.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13536018">HTTPCORE-747</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 19 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1hv60:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-113] Link leads to CAMEL instead of COMMONS</title>
                <link>https://issues.apache.org/jira/browse/EXEC-113</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;The link for Exec should go to &lt;a href=&quot;https://cwiki.apache.org/confluence/display/COMMONS/Exec&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://cwiki.apache.org/confluence/display/COMMONS/Exec&lt;/a&gt; - instead it links to &lt;a href=&quot;https://cwiki.apache.org/confluence/display/CAMEL/Exec&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://cwiki.apache.org/confluence/display/CAMEL/Exec&lt;/a&gt;, which is wrong.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13300683">EXEC-113</key>
            <summary>Link leads to CAMEL instead of COMMONS</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="herbcso">Carsten Dreesbach</reporter>
                        <labels>
                    </labels>
                <created>Fri, 24 Apr 2020 00:51:02 +0000</created>
                <updated>Fri, 24 Apr 2020 00:51:02 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 26 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0e0o0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-112] Extended UTF-8 characters are not properly handled by the LogOutputStream</title>
                <link>https://issues.apache.org/jira/browse/EXEC-112</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;In the processBuffer method of LogOutputStream, &quot;buffer.toString()&quot; is called, before passing the result to processLine. This relies on the default encoding of the system to correctly handle the output.&lt;/p&gt;

&lt;p&gt;On Windows, if the CL tool output contains UTF-8 characters, these are mishandled by the toString method of the buffer.&lt;/p&gt;

&lt;p&gt;Because the buffer is a private member variable, even if you extend this class, the only way to enforce correct character set handling is to use reflection to access the buffer in an over-ride of the processBuffer method.&lt;/p&gt;</description>
                <environment>&lt;p&gt;This will affect any system where the output of the tool is not in the default character set for the system, but has been seen on Windows where the tool produces UTF-8 output.&lt;/p&gt;</environment>
        <key id="13288023">EXEC-112</key>
            <summary>Extended UTF-8 characters are not properly handled by the LogOutputStream</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jackdos">Jack O&apos;Sullivan</reporter>
                        <labels>
                    </labels>
                <created>Thu, 27 Feb 2020 11:45:52 +0000</created>
                <updated>Wed, 13 Dec 2023 13:32:09 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="86400">24h</timeoriginalestimate>
                            <timeestimate seconds="85800">23h 50m</timeestimate>
                            <timespent seconds="600">10m</timespent>
                                <comments>
                            <comment id="17238360" author="arturobernalg" created="Tue, 24 Nov 2020 20:15:16 +0000"  >&lt;p&gt;HI &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ggregory&quot; class=&quot;user-hover&quot; rel=&quot;ggregory&quot;&gt;ggregory&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Already implemented.&#160;&lt;/p&gt;

&lt;p&gt;Regads&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-comment&quot;&gt;/** * Factory method to create a thread waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; the result of an * asynchronous execution. * * @param runnable the runnable passed to the thread * @param name the name of the thread * @&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; the thread */&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; createThread(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Runnable&lt;/span&gt; runnable, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; name) { &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;(runnable, name); }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 48 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0byfk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-110] Two issues in the tutorial of commons-exec</title>
                <link>https://issues.apache.org/jira/browse/EXEC-110</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;I found two obvious issues in the tutoral of commons-exec in the section of &quot;Unblock Your Execution&quot;.&lt;/p&gt;

&lt;p&gt;with the provided sample code of &quot;commandLine.setSubstitutionMap(map);&quot;, the variable &quot;commandLine&quot; is different with &quot;cmdLine&quot; as abouve.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
CommandLine cmdLine = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; CommandLine(&lt;span class=&quot;code-quote&quot;&gt;&quot;AcroRd32.exe&quot;&lt;/span&gt;);
cmdLine.addArgument(&lt;span class=&quot;code-quote&quot;&gt;&quot;/p&quot;&lt;/span&gt;);
cmdLine.addArgument(&lt;span class=&quot;code-quote&quot;&gt;&quot;/h&quot;&lt;/span&gt;);
cmdLine.addArgument(&lt;span class=&quot;code-quote&quot;&gt;&quot;${file}&quot;&lt;/span&gt;);
HashMap map = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; HashMap();
map.put(&lt;span class=&quot;code-quote&quot;&gt;&quot;file&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(&lt;span class=&quot;code-quote&quot;&gt;&quot;invoice.pdf&quot;&lt;/span&gt;));
commandLine.setSubstitutionMap(map);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;the code &quot;int exitValue = resultHandler.waitFor();&quot; also has a mistake. because with the api definition, the method of &quot;waitFor()&quot; have the &quot;void&quot; return type, maybe you want to invoke &quot;getExitValue()&quot; which will return int type.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; exitValue = resultHandler.waitFor();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;attach the links for your refarance. &lt;br/&gt;
 &lt;a href=&quot;http://commons.apache.org/proper/commons-exec/tutorial.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://commons.apache.org/proper/commons-exec/tutorial.html&lt;/a&gt;&lt;br/&gt;
 &lt;a href=&quot;http://commons.apache.org/proper/commons-exec/apidocs/index.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://commons.apache.org/proper/commons-exec/apidocs/index.html&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13249821">EXEC-110</key>
            <summary>Two issues in the tutorial of commons-exec</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="wlei1818">Lei Wang</reporter>
                        <labels>
                    </labels>
                <created>Fri, 9 Aug 2019 06:19:31 +0000</created>
                <updated>Fri, 9 Aug 2019 21:17:37 +0000</updated>
                                            <version>1.3</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16904192" author="garydgregory" created="Fri, 9 Aug 2019 21:17:28 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=wlei1818&quot; class=&quot;user-hover&quot; rel=&quot;wlei1818&quot;&gt;wlei1818&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;Thank you for your report.&#160;May you please create a PR on GitHub at &lt;a href=&quot;https://github.com/apache/commons-exec&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-exec&lt;/a&gt;&#160;?&lt;/p&gt;

&lt;p&gt;Thank you,&lt;br/&gt;
Gary&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 11 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z05hu0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-109] Checkstyle DTD URL invalid</title>
                <link>https://issues.apache.org/jira/browse/EXEC-109</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;The&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;
http://www.puppycrawl.com/dtds/configuration_1_1.dtd
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;in the &lt;b&gt;conf/checkstyle.xml&lt;/b&gt; is invalid.&lt;/p&gt;

&lt;p&gt;New URL is &lt;a href=&quot;https://checkstyle.org/dtds/configuration_1_1.dtd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://checkstyle.org/dtds/configuration_1_1.dtd&lt;/a&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13247513">EXEC-109</key>
            <summary>Checkstyle DTD URL invalid</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="tai">Tai Dupree</reporter>
                        <labels>
                    </labels>
                <created>Sun, 28 Jul 2019 07:44:28 +0000</created>
                <updated>Fri, 29 Dec 2023 16:27:50 +0000</updated>
                            <resolved>Fri, 29 Dec 2023 16:27:45 +0000</resolved>
                                                    <fixVersion>1.4.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="17801217" author="garydgregory" created="Fri, 29 Dec 2023 16:27:45 +0000"  >&lt;p&gt;Now using:&lt;br/&gt;
&lt;font color=&quot;#008080&quot;&gt;&amp;lt;!&lt;/font&gt;&lt;font color=&quot;#03a8d8&quot;&gt;DOCTYPE&lt;/font&gt; &lt;font color=&quot;#a7ec21&quot;&gt;module&lt;/font&gt; &lt;font color=&quot;#cf96eb&quot;&gt;PUBLIC&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;#f0a253&quot;&gt;&quot;-//Checkstyle//DTD Checkstyle Configuration 1.3//EN&quot;&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;#fbd153&quot;&gt;&quot;https://checkstyle.org/dtds/configuration_1_3.dtd&quot;&lt;/font&gt;&lt;font color=&quot;#008080&quot;&gt;&amp;gt;&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 42 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z053m0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-108] Compatibility problem with Android ADB</title>
                <link>https://issues.apache.org/jira/browse/EXEC-108</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;When using Apache Exec to execute the following Android ADB logcat command:&lt;/p&gt;

&lt;p&gt;adb logcat -d -v threadtime -v year -s System.out -t &apos;2018-09-18 11:15:40.446&apos;&lt;/p&gt;


&lt;p&gt; it triggers the following error:&lt;br/&gt;
&#160;&lt;br/&gt;
-t &quot;2018-09-18 11:15:40.446&quot; not in time format.&lt;/p&gt;


&lt;p&gt;When executing the same command on terminal it works normally.&lt;/p&gt;

&lt;p&gt;The code uses a DefaultExecutor and the Command line is created through the CommandLine.parse function.&#160;&lt;/p&gt;

&lt;p&gt;Environment:&lt;br/&gt;
Mac OS X 10.13.6&lt;br/&gt;
Java 1.8.0_131&lt;/p&gt;

&lt;p&gt;Running source code with the problem (requires an Android device or emulator to be executed):&lt;br/&gt;
&lt;a href=&quot;https://github.com/natanieljr/apache-exec-test&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/natanieljr/apache-exec-test&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13185781">EXEC-108</key>
            <summary>Compatibility problem with Android ADB</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="natanieljr">Nataniel Borges Jr.</reporter>
                        <labels>
                    </labels>
                <created>Tue, 18 Sep 2018 11:15:58 +0000</created>
                <updated>Tue, 18 Sep 2018 11:15:58 +0000</updated>
                                            <version>1.3</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 6 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3y7if:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-104] Test failure &quot;Exec34Test.testExec34_2:88 Watchdog should have killed the process&quot;</title>
                <link>https://issues.apache.org/jira/browse/EXEC-104</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;Travis CI reveals the following test failures&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://travis-ci.org/apache/commons-exec/jobs/237502021):&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://travis-ci.org/apache/commons-exec/jobs/237502021):&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;```&lt;br/&gt;
  Exec34Test.testExec34_2:88 Watchdog should have killed the process&lt;/p&gt;

&lt;p&gt;  Exec41Test.testExec41WithStreams:96 The process was killed by the watchdog&lt;/p&gt;

&lt;p&gt;  Exec41Test.testExec41WithoutStreams:143 The process was killed by the watchdog&lt;br/&gt;
```&lt;/p&gt;

&lt;p&gt;If it&apos;s a Travis CI issue, the script should be fixed to avoid or suppress these issues.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13092459">EXEC-104</key>
            <summary>Test failure &quot;Exec34Test.testExec34_2:88 Watchdog should have killed the process&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="krichter">Karl-Philipp Richter</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Aug 2017 11:57:39 +0000</created>
                <updated>Fri, 4 Aug 2017 11:57:39 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 12 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3if5r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-103] Hanging during closing the streams; FileInputStream blocks read</title>
                <link>https://issues.apache.org/jira/browse/EXEC-103</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;DefaultExecutor is used in &lt;a href=&quot;https://github.com/eclipse/tycho/blob/master/sisu-equinox/sisu-equinox-launching/src/main/java/org/eclipse/sisu/equinox/launching/internal/DefaultEquinoxLauncher.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/eclipse/tycho/blob/master/sisu-equinox/sisu-equinox-launching/src/main/java/org/eclipse/sisu/equinox/launching/internal/DefaultEquinoxLauncher.java&lt;/a&gt;&lt;br/&gt;
so just with the default PumpStreamHandler.&lt;br/&gt;
It is used to launch an eclipse instance for testing. Although the launched process has exited (have verified that multiple times), the DefaultExecutor does not come back, since it cannot use its streams.&lt;/p&gt;

&lt;p&gt;Apparently the JVM knows the process has exited, nevertheless the &quot;Exec Stream Pumper&quot; does still want to read the input stream and is holding a monitor; it is waiting until the eternety in the FileInputStream, reading from the process (although the process has ended...).&lt;br/&gt;
The &quot;process reaper&quot; thread wants to notify everyone the process has exited, but it can&apos;t, because the Exec Stream Pumper is owning the monitor. The problem occurs every time (tested like 10 times).&lt;/p&gt;

&lt;p&gt;Interestingly enough, I can launch other applications using the same Commons Exec library without any problem.&lt;/p&gt;

&lt;p&gt;Here is a thread dump:&lt;/p&gt;

&lt;p&gt;2016-04-15 13:19:45&lt;br/&gt;
Full thread dump Java HotSpot(TM) 64-Bit Server VM (25.45-b02 mixed mode):&lt;/p&gt;

&lt;p&gt;&quot;JMX server connection timeout 153&quot; #153 daemon prio=9 os_prio=0 tid=0x00007f225400f000 nid=0x6910 in Object.wait() &lt;span class=&quot;error&quot;&gt;&amp;#91;0x00007f22acb63000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: TIMED_WAITING (on object monitor)&lt;br/&gt;
	at java.lang.Object.wait(Native Method)&lt;br/&gt;
	at com.sun.jmx.remote.internal.ServerCommunicatorAdmin$Timeout.run(ServerCommunicatorAdmin.java:168)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;locked &amp;lt;0x000000078c676810&amp;gt; (a [I)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:745)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;   Locked ownable synchronizers:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;None&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;RMI Scheduler(0)&quot; #152 daemon prio=9 os_prio=0 tid=0x00007f225400c000 nid=0x690e waiting on condition &lt;span class=&quot;error&quot;&gt;&amp;#91;0x00007f22ace66000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: TIMED_WAITING (parking)&lt;br/&gt;
	at sun.misc.Unsafe.park(Native Method)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;parking to wait for  &amp;lt;0x000000078bfd7468&amp;gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)&lt;br/&gt;
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)&lt;br/&gt;
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)&lt;br/&gt;
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)&lt;br/&gt;
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:745)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;   Locked ownable synchronizers:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;None&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;RMI TCP Connection(1)-127.0.0.1&quot; #151 daemon prio=9 os_prio=0 tid=0x00007f2258003800 nid=0x690d runnable &lt;span class=&quot;error&quot;&gt;&amp;#91;0x00007f22adece000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: RUNNABLE&lt;br/&gt;
	at java.net.SocketInputStream.socketRead0(Native Method)&lt;br/&gt;
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)&lt;br/&gt;
	at java.net.SocketInputStream.read(SocketInputStream.java:170)&lt;br/&gt;
	at java.net.SocketInputStream.read(SocketInputStream.java:141)&lt;br/&gt;
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)&lt;br/&gt;
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;locked &amp;lt;0x000000078c64b1d8&amp;gt; (a java.io.BufferedInputStream)&lt;br/&gt;
	at java.io.FilterInputStream.read(FilterInputStream.java:83)&lt;br/&gt;
	at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:550)&lt;br/&gt;
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)&lt;br/&gt;
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$241(TCPTransport.java:683)&lt;br/&gt;
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler$$Lambda$9/2030397396.run(Unknown Source)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(Native Method)&lt;br/&gt;
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:745)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;   Locked ownable synchronizers:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&amp;lt;0x000000078c29d308&amp;gt; (a java.util.concurrent.ThreadPoolExecutor$Worker)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;RMI TCP Accept-0&quot; #150 daemon prio=9 os_prio=0 tid=0x00007f22600af800 nid=0x690a runnable &lt;span class=&quot;error&quot;&gt;&amp;#91;0x00007f22aca62000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: RUNNABLE&lt;br/&gt;
	at java.net.PlainSocketImpl.socketAccept(Native Method)&lt;br/&gt;
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:404)&lt;br/&gt;
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)&lt;br/&gt;
	at java.net.ServerSocket.accept(ServerSocket.java:513)&lt;br/&gt;
	at sun.management.jmxremote.LocalRMIServerSocketFactory$1.accept(LocalRMIServerSocketFactory.java:52)&lt;br/&gt;
	at sun.rmi.transport.tcp.TCPTransport$AcceptLoop.executeAcceptLoop(TCPTransport.java:400)&lt;br/&gt;
	at sun.rmi.transport.tcp.TCPTransport$AcceptLoop.run(TCPTransport.java:372)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:745)&lt;/p&gt;

&lt;p&gt;   Locked ownable synchronizers:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;None&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;Attach Listener&quot; #149 daemon prio=9 os_prio=0 tid=0x00007f22c0001000 nid=0x6907 waiting on condition &lt;span class=&quot;error&quot;&gt;&amp;#91;0x0000000000000000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: RUNNABLE&lt;/p&gt;

&lt;p&gt;   Locked ownable synchronizers:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;None&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;Exec Stream Pumper&quot; #146 daemon prio=5 os_prio=0 tid=0x00007f23122b5000 nid=0x657c runnable &lt;span class=&quot;error&quot;&gt;&amp;#91;0x00007f22ad068000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: RUNNABLE&lt;br/&gt;
	at java.io.FileInputStream.readBytes(Native Method)&lt;br/&gt;
	at java.io.FileInputStream.read(FileInputStream.java:255)&lt;br/&gt;
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)&lt;br/&gt;
	at java.io.BufferedInputStream.read1(BufferedInputStream.java:286)&lt;br/&gt;
	at java.io.BufferedInputStream.read(BufferedInputStream.java:345)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;locked &amp;lt;0x0000000789cbd9c0&amp;gt; (a java.lang.UNIXProcess$ProcessPipeInputStream)&lt;br/&gt;
	at java.io.FilterInputStream.read(FilterInputStream.java:107)&lt;br/&gt;
	at org.apache.commons.exec.StreamPumper.run(StreamPumper.java:105)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:745)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;   Locked ownable synchronizers:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;None&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;process reaper&quot; #76 daemon prio=10 os_prio=0 tid=0x00007f23123fb000 nid=0x64dc waiting for monitor entry &lt;span class=&quot;error&quot;&gt;&amp;#91;0x00007f2253844000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: BLOCKED (on object monitor)&lt;br/&gt;
	at java.lang.UNIXProcess$ProcessPipeInputStream.processExited(UNIXProcess.java:525)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;waiting to lock &amp;lt;0x0000000789cbd9c0&amp;gt; (a java.lang.UNIXProcess$ProcessPipeInputStream)&lt;br/&gt;
	at java.lang.UNIXProcess.lambda$initStreams$266(UNIXProcess.java:299)&lt;br/&gt;
	at java.lang.UNIXProcess$$Lambda$8/1103297875.run(Unknown Source)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:745)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;   Locked ownable synchronizers:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&amp;lt;0x00000007b8b21ed8&amp;gt; (a java.util.concurrent.ThreadPoolExecutor$Worker)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;Provisioning Event Dispatcher&quot; #44 daemon prio=5 os_prio=0 tid=0x00007f23122c4000 nid=0x64ae in Object.wait() &lt;span class=&quot;error&quot;&gt;&amp;#91;0x00007f22acf67000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: WAITING (on object monitor)&lt;br/&gt;
	at java.lang.Object.wait(Native Method)&lt;br/&gt;
	at java.lang.Object.wait(Object.java:502)&lt;br/&gt;
	at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.getNextEvent(EventManager.java:400)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;locked &amp;lt;0x00000006d099aa90&amp;gt; (a org.eclipse.osgi.framework.eventmgr.EventManager$EventThread)&lt;br/&gt;
	at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:336)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;   Locked ownable synchronizers:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;None&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;Worker-3&quot; #30 prio=5 os_prio=0 tid=0x00007f227400e000 nid=0x63bf in Object.wait() &lt;span class=&quot;error&quot;&gt;&amp;#91;0x00007f22ae5d0000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: TIMED_WAITING (on object monitor)&lt;br/&gt;
	at java.lang.Object.wait(Native Method)&lt;br/&gt;
	at org.eclipse.core.internal.jobs.WorkerPool.sleep(WorkerPool.java:188)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;locked &amp;lt;0x00000006c66c9750&amp;gt; (a org.eclipse.core.internal.jobs.WorkerPool)&lt;br/&gt;
	at org.eclipse.core.internal.jobs.WorkerPool.startJob(WorkerPool.java:220)&lt;br/&gt;
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:52)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;   Locked ownable synchronizers:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;None&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;Provisioning Event Dispatcher&quot; #28 daemon prio=5 os_prio=0 tid=0x00007f2311697800 nid=0x63bd in Object.wait() &lt;span class=&quot;error&quot;&gt;&amp;#91;0x00007f22ae7d2000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: WAITING (on object monitor)&lt;br/&gt;
	at java.lang.Object.wait(Native Method)&lt;br/&gt;
	at java.lang.Object.wait(Object.java:502)&lt;br/&gt;
	at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.getNextEvent(EventManager.java:400)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;locked &amp;lt;0x00000006c836bc90&amp;gt; (a org.eclipse.osgi.framework.eventmgr.EventManager$EventThread)&lt;br/&gt;
	at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:336)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;   Locked ownable synchronizers:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;None&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;Worker-0&quot; #26 prio=5 os_prio=0 tid=0x00007f23115c0000 nid=0x63bb in Object.wait() &lt;span class=&quot;error&quot;&gt;&amp;#91;0x00007f22aebd4000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: TIMED_WAITING (on object monitor)&lt;br/&gt;
	at java.lang.Object.wait(Native Method)&lt;br/&gt;
	at org.eclipse.core.internal.jobs.WorkerPool.sleep(WorkerPool.java:188)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;locked &amp;lt;0x00000006c66c9750&amp;gt; (a org.eclipse.core.internal.jobs.WorkerPool)&lt;br/&gt;
	at org.eclipse.core.internal.jobs.WorkerPool.startJob(WorkerPool.java:220)&lt;br/&gt;
	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:52)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;   Locked ownable synchronizers:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;None&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;Worker-JM&quot; #18 prio=5 os_prio=0 tid=0x00007f2311367000 nid=0x637e in Object.wait() &lt;span class=&quot;error&quot;&gt;&amp;#91;0x00007f22aeed5000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: WAITING (on object monitor)&lt;br/&gt;
	at java.lang.Object.wait(Native Method)&lt;br/&gt;
	at org.eclipse.core.internal.jobs.InternalWorker.run(InternalWorker.java:59)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;locked &amp;lt;0x00000006c66c9a60&amp;gt; (a java.util.ArrayList)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;   Locked ownable synchronizers:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;None&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;ThreadPool Manager&amp;#93;&lt;/span&gt; - Idle Thread&quot; #17 prio=5 os_prio=0 tid=0x00007f2311356800 nid=0x637d in Object.wait() &lt;span class=&quot;error&quot;&gt;&amp;#91;0x00007f22af1d6000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: WAITING (on object monitor)&lt;br/&gt;
	at java.lang.Object.wait(Native Method)&lt;br/&gt;
	at java.lang.Object.wait(Object.java:502)&lt;br/&gt;
	at org.eclipse.equinox.internal.util.impl.tpt.threadpool.Executor.run(Executor.java:106)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;locked &amp;lt;0x00000006c66dc090&amp;gt; (a org.eclipse.equinox.internal.util.impl.tpt.threadpool.Executor)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;   Locked ownable synchronizers:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;None&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;Timer&amp;#93;&lt;/span&gt; - Main Queue Handler&quot; #16 prio=5 os_prio=0 tid=0x00007f2310fee800 nid=0x637c in Object.wait() &lt;span class=&quot;error&quot;&gt;&amp;#91;0x00007f22af4d7000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: TIMED_WAITING (on object monitor)&lt;br/&gt;
	at java.lang.Object.wait(Native Method)&lt;br/&gt;
	at org.eclipse.equinox.internal.util.impl.tpt.timer.TimerImpl.run(TimerImpl.java:141)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;locked &amp;lt;0x00000006c6a0e050&amp;gt; (a java.lang.Object)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:745)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;   Locked ownable synchronizers:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;None&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;Refresh Thread: Equinox Container: 40472b22-fa02-0016-1e02-dec04b77a704&quot; #15 daemon prio=5 os_prio=0 tid=0x00007f2310424000 nid=0x637b in Object.wait() &lt;span class=&quot;error&quot;&gt;&amp;#91;0x00007f22af5d8000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: WAITING (on object monitor)&lt;br/&gt;
	at java.lang.Object.wait(Native Method)&lt;br/&gt;
	at java.lang.Object.wait(Object.java:502)&lt;br/&gt;
	at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.getNextEvent(EventManager.java:400)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;locked &amp;lt;0x00000006c667a530&amp;gt; (a org.eclipse.osgi.framework.eventmgr.EventManager$EventThread)&lt;br/&gt;
	at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:336)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;   Locked ownable synchronizers:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;None&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;Start Level: Equinox Container: 40472b22-fa02-0016-1e02-dec04b77a704&quot; #14 daemon prio=5 os_prio=0 tid=0x00007f231054b000 nid=0x637a in Object.wait() &lt;span class=&quot;error&quot;&gt;&amp;#91;0x00007f22af6d9000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: WAITING (on object monitor)&lt;br/&gt;
	at java.lang.Object.wait(Native Method)&lt;br/&gt;
	at java.lang.Object.wait(Object.java:502)&lt;br/&gt;
	at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.getNextEvent(EventManager.java:400)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;locked &amp;lt;0x00000006c667b5f8&amp;gt; (a org.eclipse.osgi.framework.eventmgr.EventManager$EventThread)&lt;br/&gt;
	at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:336)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;   Locked ownable synchronizers:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;None&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;Framework Event Dispatcher: Equinox Container: 40472b22-fa02-0016-1e02-dec04b77a704&quot; #13 daemon prio=5 os_prio=0 tid=0x00007f231054a000 nid=0x6379 in Object.wait() &lt;span class=&quot;error&quot;&gt;&amp;#91;0x00007f22af7da000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: WAITING (on object monitor)&lt;br/&gt;
	at java.lang.Object.wait(Native Method)&lt;br/&gt;
	at java.lang.Object.wait(Object.java:502)&lt;br/&gt;
	at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.getNextEvent(EventManager.java:400)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;locked &amp;lt;0x00000006c6b4ebc0&amp;gt; (a org.eclipse.osgi.framework.eventmgr.EventManager$EventThread)&lt;br/&gt;
	at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:336)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;   Locked ownable synchronizers:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;None&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;Active Thread: Equinox Container: 40472b22-fa02-0016-1e02-dec04b77a704&quot; #11 prio=5 os_prio=0 tid=0x00007f23109e0800 nid=0x6378 waiting on condition &lt;span class=&quot;error&quot;&gt;&amp;#91;0x00007f22d41e8000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: TIMED_WAITING (parking)&lt;br/&gt;
	at sun.misc.Unsafe.park(Native Method)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;parking to wait for  &amp;lt;0x00000006c6b75360&amp;gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)&lt;br/&gt;
	at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)&lt;br/&gt;
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)&lt;br/&gt;
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)&lt;br/&gt;
	at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:745)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;   Locked ownable synchronizers:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;None&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;Service Thread&quot; #9 daemon prio=9 os_prio=0 tid=0x00007f23100cd800 nid=0x6374 runnable &lt;span class=&quot;error&quot;&gt;&amp;#91;0x0000000000000000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: RUNNABLE&lt;/p&gt;

&lt;p&gt;   Locked ownable synchronizers:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;None&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;C1 CompilerThread3&quot; #8 daemon prio=9 os_prio=0 tid=0x00007f23100c8800 nid=0x6373 waiting on condition &lt;span class=&quot;error&quot;&gt;&amp;#91;0x0000000000000000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: RUNNABLE&lt;/p&gt;

&lt;p&gt;   Locked ownable synchronizers:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;None&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;C2 CompilerThread2&quot; #7 daemon prio=9 os_prio=0 tid=0x00007f23100c6800 nid=0x6372 waiting on condition &lt;span class=&quot;error&quot;&gt;&amp;#91;0x0000000000000000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: RUNNABLE&lt;/p&gt;

&lt;p&gt;   Locked ownable synchronizers:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;None&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;C2 CompilerThread1&quot; #6 daemon prio=9 os_prio=0 tid=0x00007f23100c4800 nid=0x6371 waiting on condition &lt;span class=&quot;error&quot;&gt;&amp;#91;0x0000000000000000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: RUNNABLE&lt;/p&gt;

&lt;p&gt;   Locked ownable synchronizers:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;None&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;C2 CompilerThread0&quot; #5 daemon prio=9 os_prio=0 tid=0x00007f23100c1800 nid=0x6370 runnable &lt;span class=&quot;error&quot;&gt;&amp;#91;0x0000000000000000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: RUNNABLE&lt;/p&gt;

&lt;p&gt;   Locked ownable synchronizers:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;None&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;Signal Dispatcher&quot; #4 daemon prio=9 os_prio=0 tid=0x00007f23100c0000 nid=0x636f runnable &lt;span class=&quot;error&quot;&gt;&amp;#91;0x0000000000000000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: RUNNABLE&lt;/p&gt;

&lt;p&gt;   Locked ownable synchronizers:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;None&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;Finalizer&quot; #3 daemon prio=8 os_prio=0 tid=0x00007f2310087800 nid=0x636e in Object.wait() &lt;span class=&quot;error&quot;&gt;&amp;#91;0x00007f22d6a63000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: WAITING (on object monitor)&lt;br/&gt;
	at java.lang.Object.wait(Native Method)&lt;br/&gt;
	at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:143)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;locked &amp;lt;0x00000006c5c0d940&amp;gt; (a java.lang.ref.ReferenceQueue$Lock)&lt;br/&gt;
	at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:164)&lt;br/&gt;
	at java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:209)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;   Locked ownable synchronizers:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;None&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;Reference Handler&quot; #2 daemon prio=10 os_prio=0 tid=0x00007f2310085800 nid=0x636d in Object.wait() &lt;span class=&quot;error&quot;&gt;&amp;#91;0x00007f22d6b64000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: WAITING (on object monitor)&lt;br/&gt;
	at java.lang.Object.wait(Native Method)&lt;br/&gt;
	at java.lang.Object.wait(Object.java:502)&lt;br/&gt;
	at java.lang.ref.Reference$ReferenceHandler.run(Reference.java:157)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;locked &amp;lt;0x00000006c5c082b8&amp;gt; (a java.lang.ref.Reference$Lock)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;   Locked ownable synchronizers:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;None&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;main&quot; #1 prio=5 os_prio=0 tid=0x00007f231000a000 nid=0x6363 in Object.wait() &lt;span class=&quot;error&quot;&gt;&amp;#91;0x00007f231905c000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: WAITING (on object monitor)&lt;br/&gt;
	at java.lang.Object.wait(Native Method)&lt;br/&gt;
	at java.lang.Thread.join(Thread.java:1245)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;locked &amp;lt;0x0000000789cc1de0&amp;gt; (a java.lang.Thread)&lt;br/&gt;
	at java.lang.Thread.join(Thread.java:1319)&lt;br/&gt;
	at org.apache.commons.exec.PumpStreamHandler.stopThread(PumpStreamHandler.java:286)&lt;br/&gt;
	at org.apache.commons.exec.PumpStreamHandler.stop(PumpStreamHandler.java:178)&lt;br/&gt;
	at org.apache.commons.exec.DefaultExecutor.executeInternal(DefaultExecutor.java:379)&lt;br/&gt;
	at org.apache.commons.exec.DefaultExecutor.execute(DefaultExecutor.java:164)&lt;br/&gt;
	at org.eclipse.sisu.equinox.launching.internal.DefaultEquinoxLauncher.execute(DefaultEquinoxLauncher.java:68)&lt;br/&gt;
	at org.eclipse.tycho.surefire.TestMojo.runTest(TestMojo.java:942)&lt;br/&gt;
	at org.eclipse.tycho.surefire.TestMojo.execute(TestMojo.java:647)&lt;br/&gt;
	at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)&lt;br/&gt;
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:208)&lt;br/&gt;
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)&lt;br/&gt;
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)&lt;br/&gt;
	at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)&lt;br/&gt;
	at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)&lt;br/&gt;
	at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)&lt;br/&gt;
	at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)&lt;br/&gt;
	at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:307)&lt;br/&gt;
	at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:193)&lt;br/&gt;
	at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:106)&lt;br/&gt;
	at org.apache.maven.cli.MavenCli.execute(MavenCli.java:862)&lt;br/&gt;
	at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:286)&lt;br/&gt;
	at org.apache.maven.cli.MavenCli.main(MavenCli.java:197)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:497)&lt;br/&gt;
	at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)&lt;br/&gt;
	at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)&lt;br/&gt;
	at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)&lt;br/&gt;
	at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;   Locked ownable synchronizers:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;None&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;VM Thread&quot; os_prio=0 tid=0x00007f2310080800 nid=0x636c runnable &lt;/p&gt;

&lt;p&gt;&quot;GC task thread#0 (ParallelGC)&quot; os_prio=0 tid=0x00007f231001f000 nid=0x6364 runnable &lt;/p&gt;

&lt;p&gt;&quot;GC task thread#1 (ParallelGC)&quot; os_prio=0 tid=0x00007f2310021000 nid=0x6365 runnable &lt;/p&gt;

&lt;p&gt;&quot;GC task thread#2 (ParallelGC)&quot; os_prio=0 tid=0x00007f2310022800 nid=0x6366 runnable &lt;/p&gt;

&lt;p&gt;&quot;GC task thread#3 (ParallelGC)&quot; os_prio=0 tid=0x00007f2310024800 nid=0x6367 runnable &lt;/p&gt;

&lt;p&gt;&quot;GC task thread#4 (ParallelGC)&quot; os_prio=0 tid=0x00007f2310026800 nid=0x6368 runnable &lt;/p&gt;

&lt;p&gt;&quot;GC task thread#5 (ParallelGC)&quot; os_prio=0 tid=0x00007f2310028000 nid=0x6369 runnable &lt;/p&gt;

&lt;p&gt;&quot;GC task thread#6 (ParallelGC)&quot; os_prio=0 tid=0x00007f231002a000 nid=0x636a runnable &lt;/p&gt;

&lt;p&gt;&quot;GC task thread#7 (ParallelGC)&quot; os_prio=0 tid=0x00007f231002c000 nid=0x636b runnable &lt;/p&gt;

&lt;p&gt;&quot;VM Periodic Task Thread&quot; os_prio=0 tid=0x00007f23100d0800 nid=0x6375 waiting on condition &lt;/p&gt;

&lt;p&gt;JNI global references: 424&lt;/p&gt;</description>
                <environment>&lt;p&gt;Ubuntu Wily, using Oracle JRE 8, but also affects OpenJDK 1.7 and OpenJDK 1.8&lt;/p&gt;</environment>
        <key id="12959683">EXEC-103</key>
            <summary>Hanging during closing the streams; FileInputStream blocks read</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mma">Mi</reporter>
                        <labels>
                    </labels>
                <created>Mon, 18 Apr 2016 16:01:22 +0000</created>
                <updated>Fri, 25 Feb 2022 12:56:25 +0000</updated>
                                            <version>1.3</version>
                                                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17494441" author="JIRAUSER285444" created="Fri, 18 Feb 2022 07:48:03 +0000"  >&lt;p&gt;Any comment on this issue?&lt;/p&gt;</comment>
                            <comment id="17498118" author="garydgregory" created="Fri, 25 Feb 2022 12:56:25 +0000"  >&lt;p&gt;Sorry, no time for this issue on my schedule ATM.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 34 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2w9mf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-102] &quot;Stream closed&quot; error in Java 8 when passing input to processes that don&apos;t consume it</title>
                <link>https://issues.apache.org/jira/browse/EXEC-102</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;When trying to pass an InputStream to a process (i.e. for it to be used as STDIN), I am getting an IOException in Java 8 that I did not get in Java 7.&lt;/p&gt;

&lt;p&gt;We have observed this behavior with both Oracle JDK8 and OpenJDK8, and on various Red Hat Linux and Ubuntu Linux systems, and also on Mac OSX.&lt;/p&gt;

&lt;p&gt;Here is a simple reproducer:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; foo;

&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.commons.exec.CommandLine;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.commons.exec.DefaultExecutor;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.commons.exec.Executor;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.commons.exec.PumpStreamHandler;

&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.io.ByteArrayInputStream;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.io.ByteArrayOutputStream;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.io.IOException;

&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;CommonsExecBinTrue {
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void main(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] args) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {

        Executor exec = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DefaultExecutor();

        CommandLine cl = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; CommandLine(&lt;span class=&quot;code-quote&quot;&gt;&quot;/bin/&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&quot;&lt;/span&gt;);

        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; text = &lt;span class=&quot;code-quote&quot;&gt;&quot;hello&quot;&lt;/span&gt;;
        ByteArrayInputStream input =
                &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ByteArrayInputStream(text.getBytes(&lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt;));
        ByteArrayOutputStream output = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ByteArrayOutputStream();

        exec.setStreamHandler(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PumpStreamHandler(output, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, input));
        exec.execute(cl);

        &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;result: &quot;&lt;/span&gt; + output.toString(&lt;span class=&quot;code-quote&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt;));
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This program would work fine in Java 7, but in Java 8 it fails with this stack trace:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Exception in thread &lt;span class=&quot;code-quote&quot;&gt;&quot;main&quot;&lt;/span&gt; java.io.IOException: Stream closed
	at java.lang.ProcessBuilder$NullOutputStream.write(ProcessBuilder.java:433)
	at java.io.OutputStream.write(OutputStream.java:116)
	at java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:82)
	at java.io.BufferedOutputStream.flush(BufferedOutputStream.java:140)
	at java.io.FilterOutputStream.close(FilterOutputStream.java:158)
	at org.apache.commons.exec.DefaultExecutor.closeProcessStreams(DefaultExecutor.java:306)
	at org.apache.commons.exec.DefaultExecutor.executeInternal(DefaultExecutor.java:387)
	at org.apache.commons.exec.DefaultExecutor.execute(DefaultExecutor.java:166)
	at org.apache.commons.exec.DefaultExecutor.execute(DefaultExecutor.java:153)
	at foo.CommonsExecBinTrue.main(CommonsExecBinTrue.java:27)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:140)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12934601">EXEC-102</key>
            <summary>&quot;Stream closed&quot; error in Java 8 when passing input to processes that don&apos;t consume it</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="sgoeschl">Siegfried Goeschl</assignee>
                                    <reporter username="cprice-puppet">Chris Price</reporter>
                        <labels>
                    </labels>
                <created>Wed, 27 Jan 2016 22:13:51 +0000</created>
                <updated>Mon, 9 Sep 2019 10:14:23 +0000</updated>
                                            <version>1.3</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15120272" author="cprice-puppet" created="Wed, 27 Jan 2016 22:14:28 +0000"  >&lt;p&gt;This seems like it might be related to &lt;a href=&quot;https://issues.apache.org/jira/browse/EXEC-101&quot; title=&quot;IOException when a process terminates before all buffered input bytes have been written&quot; class=&quot;issue-link&quot; data-issue-key=&quot;EXEC-101&quot;&gt;EXEC-101&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="15120277" author="cprice-puppet" created="Wed, 27 Jan 2016 22:18:14 +0000"  >&lt;p&gt;Note that if I change the external command above from &lt;tt&gt;/bin/true&lt;/tt&gt; to &lt;tt&gt;/bin/cat&lt;/tt&gt;, then the exception goes away and the program behaves as expected.  I am guessing that perhaps the difference has something to do with the fact that &lt;tt&gt;/bin/cat&lt;/tt&gt; actually expects to receive some input on STDIN, whereas &lt;tt&gt;/bin/true&lt;/tt&gt; does not... but that is just a wild guess.&lt;/p&gt;</comment>
                            <comment id="15120319" author="cprice-puppet" created="Wed, 27 Jan 2016 22:39:04 +0000"  >&lt;p&gt;&lt;tt&gt;/bin/ls&lt;/tt&gt; and &lt;tt&gt;/bin/pwd&lt;/tt&gt; also fail, corroborating the hypothesis that it has to do with commands that don&apos;t read STDIN.&lt;/p&gt;</comment>
                            <comment id="15122181" author="cprice-puppet" created="Thu, 28 Jan 2016 19:36:29 +0000"  >&lt;p&gt;We just determined that this is some kind of race condition, as opposed to a 100%-reproducible bug.If you use a script like this:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;#!/usr/bin/env sh

exit 0
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;instead of calling &lt;tt&gt;/bin/true&lt;/tt&gt; directly, the exception seems to be thrown significantly less frequently.  This leads me to believe that some of the overhead of running the &lt;tt&gt;env&lt;/tt&gt; command and starting another &lt;tt&gt;sh&lt;/tt&gt; in the script above causes some background processing in the JDK to be more likely to have completed before the process exits, and somehow this prevents the exception from being triggered.&lt;/p&gt;</comment>
                            <comment id="15228864" author="kilink" created="Wed, 6 Apr 2016 18:42:49 +0000"  >&lt;p&gt;Pretty sure this is caused by a change made to UnixProcess in JDK 8: &lt;a href=&quot;http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/lang/UNIXProcess.java#561&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/lang/UNIXProcess.java#561&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;When the process exits, the out field of the ProcessPipeOutputStream is closed and swapped with a NullOutputStream, which has a write method that always throws IOException.&lt;/p&gt;

&lt;p&gt;Write is called because ProcessPipeOutputStream extends BufferedOutputStream which calls flush() when its closed (since the stream was never read from, it still has data in its buffer which it attempts to write out to the underlying stream).&lt;/p&gt;

&lt;p&gt;The observed raciness is due to the way the processExited() is called asynchronously by the processReaperExecutor.&lt;/p&gt;

&lt;p&gt;Maybe the IOException should simply be swallowed?&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12933993">EXEC-101</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 30 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2s25r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-101] IOException when a process terminates before all buffered input bytes have been written</title>
                <link>https://issues.apache.org/jira/browse/EXEC-101</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;I encountered a serious glitch when using commons-exec 1.3 with Java 8 - something that didn&apos;t happen with previous Java versions (tested with Java 5 and 7).&lt;/p&gt;

&lt;p&gt;In order to feed a process&apos; normal input stream, commons-exec uses Process.getOutputStream() - which is normally a BufferedOutputStream, wrapping a FileOutputStream, pointing to the OS&apos;s pseudo-file connected to the process&apos; normal input stream.&lt;/p&gt;

&lt;p&gt;In Java 8, the process might terminate with the BufferedOutputStream still having unwritten bytes in its buffer, while the underlying FileOutputStream gets automatically closed.&lt;br/&gt;
DefaultExecutor always tries to close all of the process&apos; streams, in closeProcessStreams() - but because the process&apos; BufferedOutputStream still has bytes in its buffers (count &amp;gt; 0), it first tries to flush it to the underlying FileOutputStreams, throwing an IOException (Stream closed).&lt;/p&gt;

&lt;p&gt;The following scenario reproduces the problem:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Use DefaultExecutor to start a process which does not expect (or read) any bytes from the normal input stream.&lt;/li&gt;
	&lt;li&gt;Feed the process (using PumpStreamHandler) a large amount of bytes.&lt;/li&gt;
	&lt;li&gt;Execute&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;The change in behavior between Java 8 and previous versions actually lies within FilterOutputStream, which contains the implementation of close() used by BufferOutputStream - before Java 8, the implementation would ignore (swallow) any exception cause by the call to flush() in close() - in Java 8, the exception propagates.&lt;/p&gt;

</description>
                <environment>&lt;p&gt;Oracle JDK 1.8.0_72 x64 on MS Windows 10 Pro x64&lt;/p&gt;</environment>
        <key id="12933993">EXEC-101</key>
            <summary>IOException when a process terminates before all buffered input bytes have been written</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="sgoeschl">Siegfried Goeschl</assignee>
                                    <reporter username="kunda">Yaniv Kunda</reporter>
                        <labels>
                    </labels>
                <created>Tue, 26 Jan 2016 00:21:06 +0000</created>
                <updated>Mon, 9 Sep 2019 10:14:28 +0000</updated>
                                            <version>1.3</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15116357" author="kunda" created="Tue, 26 Jan 2016 00:23:13 +0000"  >&lt;p&gt;A class that recreates the problem on Java 8, resulting in the following exception:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Exception in thread &quot;main&quot; java.io.IOException: Stream Closed
	at java.io.FileOutputStream.writeBytes(Native Method)
	at java.io.FileOutputStream.write(FileOutputStream.java:326)
	at java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:82)
	at java.io.BufferedOutputStream.flush(BufferedOutputStream.java:140)
	at java.io.FilterOutputStream.close(FilterOutputStream.java:158)
	at org.apache.commons.exec.DefaultExecutor.closeProcessStreams(DefaultExecutor.java:306)
	at org.apache.commons.exec.DefaultExecutor.executeInternal(DefaultExecutor.java:387)
	at org.apache.commons.exec.DefaultExecutor.execute(DefaultExecutor.java:166)
	at org.apache.commons.exec.DefaultExecutor.execute(DefaultExecutor.java:153)
	at Test.main(Test.java:19)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12934601">EXEC-102</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12784279" name="Test.java" size="655" author="kunda" created="Tue, 26 Jan 2016 00:23:13 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 40 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ryen:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-98] Maven site creation fails with Findbugs errors</title>
                <link>https://issues.apache.org/jira/browse/EXEC-98</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;Getting various &quot;findbugs&quot; ArrayIndexOutOfBoundsException causing the Maven site build to fail&lt;/p&gt;</description>
                <environment></environment>
        <key id="12928748">EXEC-98</key>
            <summary>Maven site creation fails with Findbugs errors</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sgoeschl">Siegfried Goeschl</assignee>
                                    <reporter username="sgoeschl">Siegfried Goeschl</reporter>
                        <labels>
                    </labels>
                <created>Fri, 8 Jan 2016 21:40:01 +0000</created>
                <updated>Sat, 9 Jan 2016 00:59:19 +0000</updated>
                            <resolved>Sat, 9 Jan 2016 00:59:19 +0000</resolved>
                                    <version>1.3</version>
                                    <fixVersion>1.4.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 42 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2r23b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-97] File plugin on browser platform causes &quot;proxy not found&quot; error on Chrome</title>
                <link>https://issues.apache.org/jira/browse/EXEC-97</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;Add the file plugin and browser platform (edge, from github or local repo) then &lt;tt&gt;cordova run browser&lt;/tt&gt; gives the following in the console:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Error: exec proxy not found for :: File :: requestFileSystem
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12913721">EXEC-97</key>
            <summary>File plugin on browser platform causes &quot;proxy not found&quot; error on Chrome</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="TimBarham">Tim Barham</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Nov 2015 14:50:47 +0000</created>
                <updated>Tue, 17 Nov 2015 14:53:13 +0000</updated>
                            <resolved>Tue, 17 Nov 2015 14:53:13 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15008767" author="timbarham" created="Tue, 17 Nov 2015 14:53:13 +0000"  >&lt;p&gt;Sorry, accidentally created in wrong project.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 50 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2oigf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-95] Program not found after setWorkingDirectory</title>
                <link>https://issues.apache.org/jira/browse/EXEC-95</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;I would like to run my script from a different folder, so I tried to use the following line of code:&lt;/p&gt;

&lt;p&gt;String path = &quot;C:/user/script/&quot;;&lt;br/&gt;
CommandLine cmdLine = CommandLine.parse(&quot;myscript.cmd&quot;);&lt;br/&gt;
DefaultExecutor executor = new DefaultExecutor();&lt;br/&gt;
executor.setWorkingDirectory(new File(path));&lt;br/&gt;
int exitValue = executor.execute(cmdLine);&lt;/p&gt;

&lt;p&gt;but I got an exception.&lt;br/&gt;
I am using the following workaround:&lt;br/&gt;
CommandLine cmdLine = CommandLine.parse(path+&quot;/myscript.cmd&quot;);&lt;br/&gt;
and it&apos;s working fine.&lt;/p&gt;

&lt;p&gt;The question is: are Executor and CommandLine related?&lt;/p&gt;</description>
                <environment>&lt;p&gt;win7 64 bit.&lt;/p&gt;</environment>
        <key id="12905583">EXEC-95</key>
            <summary>Program not found after setWorkingDirectory</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="4" iconUrl="https://issues.apache.org/jira/images/icons/statuses/reopened.png" description="This issue was once resolved, but the resolution was deemed incorrect. From here issues are either marked assigned or resolved.">Reopened</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="sgoeschl">Siegfried Goeschl</assignee>
                                    <reporter username="lorenzo.cozza">Lorenzo Cozza</reporter>
                        <labels>
                    </labels>
                <created>Fri, 16 Oct 2015 16:41:33 +0000</created>
                <updated>Mon, 18 Jan 2016 06:54:50 +0000</updated>
                                            <version>1.3</version>
                                                        <due></due>
                            <votes>1</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14972572" author="almson" created="Sat, 24 Oct 2015 12:28:26 +0000"  >&lt;p&gt;It looks like `WinNTCommandLauncher` doesn&apos;t do the one thing it is supposed to.&lt;/p&gt;

&lt;p&gt;Line 64 `return exec(newCmd, env);` should be `return super.exec(newCmd, env, workingDir);`&lt;/p&gt;</comment>
                            <comment id="15081398" author="sgoeschl" created="Mon, 4 Jan 2016 17:19:15 +0000"  >&lt;p&gt;Mhmm, it looks that way &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Since the original code of this class comes from Apache Ant I&apos;m checking the current implementation&lt;/p&gt;</comment>
                            <comment id="15082046" author="sgoeschl" created="Mon, 4 Jan 2016 23:58:14 +0000"  >&lt;p&gt;After some digging through the code&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;the WinNTCommandLauncher is copied from a very old ANT source file&lt;/li&gt;
	&lt;li&gt;WinNTCommandLauncher is actually never used (the same goes for OS2CommandLauncher)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;So the problem is completely unrelated to &quot;WinNTCommandLauncher&quot;&lt;/p&gt;

&lt;p&gt;I assume that &lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&quot;C:/user/script/&quot; is not part of the PATH variable therefore the &quot;myscript.cmd&quot; was not found&lt;/li&gt;
	&lt;li&gt;I&apos;m not sure about Windows here - it seems that the script is not picked up from the current working directory&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15090398" author="almson" created="Sat, 9 Jan 2016 03:47:40 +0000"  >&lt;p&gt;Please do not close this issue. There is a real discrepancy in the behaviour of Windows vs Linux that needs to be fixed.&lt;/p&gt;

&lt;p&gt;When I have time I will try to debug it, although I do not have a Windows machine at hand at the moment.&lt;/p&gt;</comment>
                            <comment id="15090677" author="sebb@apache.org" created="Sat, 9 Jan 2016 16:33:54 +0000"  >&lt;p&gt;I suggest you re-open the issue when you can provide a unit test case that works on Linux and fails on Windows.&lt;/p&gt;</comment>
                            <comment id="15091464" author="sgoeschl" created="Mon, 11 Jan 2016 05:41:15 +0000"  >&lt;p&gt;Hi Aleksandr, I will have a look at it and would be very glad if you could do some independent testing/verification &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15092638" author="sgoeschl" created="Mon, 11 Jan 2016 20:32:24 +0000"  >&lt;p&gt;Basically there are two different flavours of this issue&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;The Java13CommandLauncher does not honour the the provided working directory when running an executable and this is the launcher being used in your example&lt;/li&gt;
	&lt;li&gt;The WinNTCommandLauncher also does not honour the the provided working directory when running an executable&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I tried to fix both of them in &lt;a href=&quot;https://github.com/sgoeschl/commons-exec/tree/EXEC-95&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/sgoeschl/commons-exec/tree/EXEC-95&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15104863" author="almson" created="Mon, 18 Jan 2016 06:54:50 +0000"  >&lt;p&gt;Thanks for the quick attention&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;In brief testing, WinNTCommandLauncher works.&lt;/li&gt;
	&lt;li&gt;However, I am worried by the call `newCmd.addArguments(newCmdArray);` which resets the value of `handleQuoting`&lt;/li&gt;
	&lt;li&gt;Is there a reason for using &quot;cmd /c cd /d &amp;lt;working dir&amp;gt; &amp;amp;&amp;amp; &amp;lt;command&amp;gt;&quot; instead of just &quot;cmd /c &amp;lt;command&amp;gt;&quot;? The latter works as well, if not for a bug on line 64 of the original `WinNTCommandLauncher`. Instead of `return exec(newCmd, env);` it should have been `return super.exec(newCmd, env, workingDir)` (this method would have to be created in CommandLauncherProxy or WinNTCommandLauncher should inherit from Java13CommandLauncher like VmsCommandLauncher does).&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;I would not touch Java13CommandLauncher. You have chosen to override the OS&apos;s executable resolution policy, and this is a potentially dangerous move. Certainly it will surprise some users because it changes how Linux normally searches for executables. An executable without a directory path in front of it (eg &quot;ping&quot; instead of &quot;./ping&quot;) must exist on the PATH, and will not be searched for in the working directory. However, your code does look for it in the current directory. This might even cause a security issue. I agree that given Java&apos;s philosophy it might make sense to actually standardize this aspect across platforms, and that the exception a user who forgets to write put &quot;./&quot; sees (&quot;Cannot run program &quot;ping2&quot; (in directory &quot;/home/user/&quot;)&quot;) is misleading. Yet, I would lean against this change as too dangerous. For example, you use the method `isFile` which will miss symlinks and cause problems on Linux.&lt;/li&gt;
	&lt;li&gt;In CommandLauncherFactory I would detect running on Windows and return a WinNTCommandLauncher.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12640743">EXEC-73</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10431"><![CDATA[Important]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 41 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2n4m7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-94] CommandLine unconditionally trims arguments</title>
                <link>https://issues.apache.org/jira/browse/EXEC-94</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;The CommandLine private Argument class unconditionally trims argument values. This is wrong; it should be possible to pass arguments as-is to the executor.&lt;/p&gt;

&lt;p&gt;Fixing this unilaterally might break some code, so it is probably necessary to introduce a new method, for example:&lt;/p&gt;

&lt;p&gt;addRawArgument(String)&lt;/p&gt;

&lt;p&gt;This should save the exact argument without trimming and without quoting.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12901381">EXEC-94</key>
            <summary>CommandLine unconditionally trims arguments</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Tue, 29 Sep 2015 18:07:49 +0000</created>
                <updated>Mon, 25 Sep 2023 22:46:55 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14935920" author="sebb@apache.org" created="Tue, 29 Sep 2015 21:38:39 +0000"  >&lt;p&gt;An alternative would be to overload the addArgument() method with another boolean parameter but that might be confusing, and is awkward to use.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;However a private method with that signature might well be useful&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;The &quot;raw&quot; addArgument method should be the preferred way of handling arguments, because AFAICT it avoids the need to perform any quoting.&lt;br/&gt;
When passed as separate arguments, the target application should receive the arguments without any shell interpretation.&lt;/p&gt;

&lt;p&gt;It therefore makes sense for the new method to be easy to use.&lt;/p&gt;</comment>
                            <comment id="14973178" author="almson" created="Sun, 25 Oct 2015 10:58:11 +0000"  >&lt;p&gt;The behavior of `addArgument` has other issues. If I want to pass an argument that contains quotes, I can successfully pass &quot; on Linux but need to use \&quot; on Windows. This is true whether I am passing this value via `addArgument(arg, false)` or as a substitution. I forget what code is responsible for this. It might be the JDK, in fact. But Commons Exec needs to compensate.&lt;/p&gt;</comment>
                            <comment id="14978948" author="almson" created="Wed, 28 Oct 2015 18:20:01 +0000"  >&lt;p&gt;I tried asking this in another issue, but it&apos;s probably better posed here. Why does `addArgument` try to do any quoting at all? What&apos;s the use-case?&lt;/p&gt;</comment>
                            <comment id="14979404" author="sebb@apache.org" created="Wed, 28 Oct 2015 22:41:30 +0000"  >&lt;p&gt;I agree that addArgument should probably not do quoting (or trimming). But at least the quoting is optional.&lt;/p&gt;

&lt;p&gt;It seems to me that the JVM should be responsible for doing any necessary quoting; the JVM is the code that should know how to interface with the OS fro which it was written.&lt;br/&gt;
If it does not do the correct quoting, then IMO that is a JVM bug.&lt;/p&gt;</comment>
                            <comment id="17768937" author="ericjs" created="Mon, 25 Sep 2023 22:46:55 +0000"  >&lt;p&gt;I&#160; am really confused about the quoting. My experience was that the default (do quoting) worked fine as long as I used arguments that didn&apos;t need quoting. As soon as I had an argument that had a space in it, the quoting screwed it up, and I had use the addArgument with the boolean parameter for quoting and make it false. Then it worked fine. That&apos;s about as messed up as possible.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 4 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2mf2f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-93] Handling of escaped values by StringUtils</title>
                <link>https://issues.apache.org/jira/browse/EXEC-93</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;An arguments can contain an environment variable value. For example, in command &lt;tt&gt;cd /tmp &amp;amp;&amp;amp; STORAGE_DIR=/tmp resolve.sh&lt;/tt&gt; &lt;tt&gt;STORAGE_DIR=/tmp&lt;/tt&gt; is an argument, which is used by &lt;tt&gt;resolve.sh&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;However values of the variables can be more complicated and can contain escaped quotes. Current implementation of &lt;tt&gt;StringUtils#quoteArgument(String)&lt;/tt&gt; does not handle these values correctly. &lt;/p&gt;

&lt;p&gt;Attached patch contains fix for this problem and unit tests to demonstrate the problem and the fix&lt;/p&gt;</description>
                <environment></environment>
        <key id="12782855">EXEC-93</key>
            <summary>Handling of escaped values by StringUtils</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sadovnikov">Viktor Sadovnikov</reporter>
                        <labels>
                    </labels>
                <created>Wed, 18 Mar 2015 13:28:02 +0000</created>
                <updated>Sat, 9 Jan 2016 17:24:16 +0000</updated>
                            <resolved>Tue, 29 Sep 2015 18:14:28 +0000</resolved>
                                    <version>1.3</version>
                                                        <due></due>
                            <votes>1</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14367121" author="sadovnikov" created="Wed, 18 Mar 2015 13:29:37 +0000"  >&lt;p&gt;Patch is attached to the ticket&lt;/p&gt;</comment>
                            <comment id="14910130" author="vorburger" created="Mon, 28 Sep 2015 07:51:29 +0000"  >&lt;p&gt;Aloha.. is commons-exec still actively maintained? Can you guys merge this? I&apos;m asking because this issue is affecting me too.. while fixing &lt;a href=&quot;https://github.com/vorburger/MariaDB4j/issues/30&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/vorburger/MariaDB4j/issues/30&lt;/a&gt; I&apos;ve found that something &#224; la addArgument(&quot;--datadir=&apos;/tmp/dir with space&apos;&quot;) is not correctly handled, because the current (in commons-exec v1.3) code seems to assume that quotes are necessarily around a complete Argument, which is not correct, so in this example it seems to strip the trailing &apos; but leave the one after = and creates a mess. From what I glanced over in the attached &lt;a href=&quot;https://issues.apache.org/jira/browse/EXEC-93&quot; title=&quot;Handling of escaped values by StringUtils&quot; class=&quot;issue-link&quot; data-issue-key=&quot;EXEC-93&quot;&gt;&lt;del&gt;EXEC-93&lt;/del&gt;&lt;/a&gt;.patch (not tried out / not code reviewed in more details) it would appear that this would fix that problem - it would be great to see this in a commons-exec v1.4 release.&lt;/p&gt;</comment>
                            <comment id="14910147" author="sadovnikov" created="Mon, 28 Sep 2015 08:11:04 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=garydgregory&quot; class=&quot;user-hover&quot; rel=&quot;garydgregory&quot;&gt;garydgregory&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=khmarbaise&quot; class=&quot;user-hover&quot; rel=&quot;khmarbaise&quot;&gt;khmarbaise&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=britter&quot; class=&quot;user-hover&quot; rel=&quot;britter&quot;&gt;britter&lt;/a&gt;, I apologise for addressing you directly, however there is not much happening in Commons Exec project this year. Is it maintained?&lt;/p&gt;</comment>
                            <comment id="14910187" author="britter" created="Mon, 28 Sep 2015 08:44:09 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sadovnikov&quot; class=&quot;user-hover&quot; rel=&quot;sadovnikov&quot;&gt;sadovnikov&lt;/a&gt;: There has not much happened in a long time. You probably want to reach out for other people interested in the component on the dev ML.&lt;/p&gt;</comment>
                            <comment id="14933662" author="sebb@apache.org" created="Mon, 28 Sep 2015 17:52:53 +0000"  >&lt;p&gt;The example test applies to Unix shells.&lt;br/&gt;
It may not apply to other OSes or to other Unix applications which may have different quoting requirements.&lt;br/&gt;
Indeed different Unix shells have different quoting requirements.&lt;/p&gt;

&lt;p&gt;It&apos;s very difficult - if not impossible - to write quoting code that works for all situations in Unix, let alone all OSes.&lt;/p&gt;

&lt;p&gt;The existing code is specifically designed for arguments that may contain spaces or quotes.&lt;br/&gt;
As such it is a compromise because it does not work on all OSes.&lt;br/&gt;
The patch breaks the behaviour as it always adds quotes, even if they are not needed.&lt;br/&gt;
I don&apos;t think this code should be committed.&lt;/p&gt;

&lt;p&gt;It&apos;s also not clear whether this code is even needed.&lt;/p&gt;

&lt;p&gt;I don&apos;t think Commons Exec should be trying to parse shell syntax, which is what this patch seems to be aimed at.&lt;/p&gt;

&lt;p&gt;The example given could easily be implemented using the environment map; there is no need to quote parameters when they are passed as values of environment variables.&lt;/p&gt;</comment>
                            <comment id="14933714" author="sebb@apache.org" created="Mon, 28 Sep 2015 18:21:55 +0000"  >&lt;p&gt;Regarding Michael&apos;s comment about &lt;tt&gt;addArgument(&quot;--datadir=&apos;/tmp/dir with space&apos;&quot;)&lt;/tt&gt; not being handled correctly:&lt;br/&gt;
I think that is a different issue, though again related to specific OS syntax.&lt;br/&gt;
Again, I don&apos;t think it&apos;s possible in general to do the required quoting without having detailed knowledge of the shell syntax.&lt;/p&gt;

&lt;p&gt;There are various addArgument() methods with different parameters.&lt;br/&gt;
Some allow argument quoting to be disabled. &lt;br/&gt;
This should be chosen if the automatic quoting does not work properly.&lt;br/&gt;
In which case it is up to the user to quote the parameter themselves.&lt;/p&gt;

&lt;p&gt;It&apos;s perhaps unfortunate that the default is to perform automatic quoting, because in general this is not possible.&lt;br/&gt;
The example of the --datadir parameter is a case in point.&lt;br/&gt;
&lt;tt&gt;&amp;#45;&amp;#45;param=param with space&lt;/tt&gt; probably needs to be quoted as &lt;tt&gt;--param=&apos;param with space&apos;&lt;/tt&gt; on Unix&lt;br/&gt;
However &lt;tt&gt;param=param with space&lt;/tt&gt; probably needs to be quoted as &lt;tt&gt;&quot;param=param with space&quot;&lt;/tt&gt; on Unix&lt;br/&gt;
How can one tell the difference unless one knows the command-line syntax?&lt;/p&gt;

&lt;p&gt;Also, what is the quoting guarding against?&lt;br/&gt;
If the parameters are being passed to the shell, then they probably do need to be suitably quoted, because the shell does command line expansion.&lt;br/&gt;
However most Unix programs do not do any command line manipulation; they rely on the shell to do it for them.&lt;br/&gt;
So there should be no need to quote arguments that are passed directly to non-shell programs.&lt;/p&gt;</comment>
                            <comment id="14934815" author="sadovnikov" created="Tue, 29 Sep 2015 07:59:21 +0000"  >&lt;p&gt;Sebb, thank you very much for reviewing the patch. I see your point. Indeed it was written and tested only on Linux. &lt;br/&gt;
After creation of the patch I also noticed needless quoting and took it out. However the code still remains Linux specific&lt;/p&gt;

&lt;p&gt;About the needs for quoting in apps, our application manages application servers, configures them based on other applications&apos; needs. So it creates shell scripts, which can be used by operators manually. This is where I encounter a need for quoting. &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; SINGLE_QUOTE = &lt;span class=&quot;code-quote&quot;&gt;&quot;\&apos;&quot;&lt;/span&gt;;
    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; DOUBLE_QUOTE = &lt;span class=&quot;code-quote&quot;&gt;&quot;\&quot;&lt;/span&gt;&quot;;

    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; ESCAPED_SINGLE_QUOTE = &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-quote&quot;&gt;&apos;\&quot;&lt;/span&gt;&apos;&lt;/span&gt;\&lt;span class=&quot;code-quote&quot;&gt;&quot;&apos;&quot;&lt;/span&gt;;
    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; ESCAPED_DOUBLE_QUOTE = &lt;span class=&quot;code-quote&quot;&gt;&quot;\\\&quot;&lt;/span&gt;&quot;;

    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; ESCAPED_SINGLE_QUOTE_REGEX = ESCAPED_SINGLE_QUOTE;
    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; ESCAPED_DOUBLE_QUOTE_REGEX = &lt;span class=&quot;code-quote&quot;&gt;&quot;\\\\\&quot;&lt;/span&gt;&quot;;

    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; quoteArgument(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; argument) {

        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; cleanedArgument = removeOuterQuotes( argument, &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; );
        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; noEscapesArgument = cleanedArgument.replaceAll( ESCAPED_SINGLE_QUOTE_REGEX, &lt;span class=&quot;code-quote&quot;&gt;&quot;&quot;).replaceAll( ESCAPED_DOUBLE_QUOTE_REGEX, &quot;&lt;/span&gt;&quot;);

        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; StringBuilder buf = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; StringBuilder();
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (noEscapesArgument.contains(DOUBLE_QUOTE)) {
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (noEscapesArgument.contains(SINGLE_QUOTE)) {
                &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IllegalArgumentException(
                        &lt;span class=&quot;code-quote&quot;&gt;&quot;Can&apos;t handle single and &lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt; quotes in same argument&quot;&lt;/span&gt;);
            }
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; buf.append(SINGLE_QUOTE).append(cleanedArgument).append(
                    SINGLE_QUOTE).toString();
        } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (noEscapesArgument.contains(SINGLE_QUOTE)
                || noEscapesArgument.contains(&lt;span class=&quot;code-quote&quot;&gt;&quot; &quot;&lt;/span&gt;)) {
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; buf.append(DOUBLE_QUOTE).append(cleanedArgument).append(
                    DOUBLE_QUOTE).toString();
        } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; cleanedArgument;
        }

    }

    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; removeOuterQuotes( &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; argument, &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; trim ) {

        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; cleanedArgument = (trim) ? argument.trim() : argument;

        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (cleanedArgument.startsWith(SINGLE_QUOTE) &amp;amp;&amp;amp; cleanedArgument.endsWith(SINGLE_QUOTE)) {
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; removeOuterQuotes(cleanedArgument.substring(1, cleanedArgument.length() - 1), &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;);
        }

        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (cleanedArgument.startsWith(DOUBLE_QUOTE) &amp;amp;&amp;amp; cleanedArgument.endsWith(DOUBLE_QUOTE)) {
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; removeOuterQuotes(cleanedArgument.substring(1, cleanedArgument.length() - 1), &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;);
        }

        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; cleanedArgument;

    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14935516" author="sebb@apache.org" created="Tue, 29 Sep 2015 17:47:20 +0000"  >&lt;p&gt;I still don&apos;t see this as a valid addition to EXEC. &lt;br/&gt;
It would need to know lots about the environment in which it is being used.&lt;br/&gt;
It seems to me that the application that uses the Exec code is best placed to know about and handle the quoting.&lt;/p&gt;

&lt;p&gt;Besides, if the script is written to expect spaces etc in parameters I suspect that using unquoted parameters will work fine.&lt;/p&gt;

&lt;p&gt;Try the following shell script:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;border-bottom-style: solid;&quot;&gt;&lt;b&gt;parms.sh&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;echo Count=$#
&lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; [ $# -gt 0 ]
&lt;span class=&quot;code-keyword&quot;&gt;do&lt;/span&gt;
    echo &lt;span class=&quot;code-quote&quot;&gt;&quot;]$1[&quot;&lt;/span&gt; # ][ are used to show the ends of the params; note the enclosing quotes
    shift
done
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;with the following code:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;border-bottom-style: solid;&quot;&gt;&lt;b&gt;Exec.java&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;        CommandLine cl = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; CommandLine(&lt;span class=&quot;code-quote&quot;&gt;&quot;./parms.sh&quot;&lt;/span&gt;);
        cl.addArgument(&lt;span class=&quot;code-quote&quot;&gt;&quot;a b c d&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;);
        cl.addArgument(&lt;span class=&quot;code-quote&quot;&gt;&quot;*&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;);
        cl.addArgument(&lt;span class=&quot;code-quote&quot;&gt;&quot;--datadir=&lt;span class=&quot;code-quote&quot;&gt;&apos;/tmp/dir with space&apos;&lt;/span&gt;&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;);
        DefaultExecutor executor = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DefaultExecutor();
        &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; exitValue = executor.execute(cl);
        &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;Status = &quot;&lt;/span&gt; +exitValue);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;When I run this with Exec 1.3, I get:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Count=3
]a b c d[
]*[
]--datadir=&lt;span class=&quot;code-quote&quot;&gt;&apos;/tmp/dir with space&apos;&lt;/span&gt;[
Status = 0
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14935563" author="sadovnikov" created="Tue, 29 Sep 2015 18:14:28 +0000"  >&lt;p&gt;Yes, fair enough. It&apos;s impossible to make this code platform agnostic. Thanks&lt;/p&gt;</comment>
                            <comment id="14973184" author="almson" created="Sun, 25 Oct 2015 11:05:49 +0000"  >&lt;p&gt;Can someone bring an example when quoting anything makes sense? Quotes are a feature of the shell to distinguish when one argument ends and another begins. We&apos;re doing this explicitly with calls to `addArgument`. Why is it doing any quoting at all?&lt;/p&gt;</comment>
                            <comment id="14973536" author="sebb@apache.org" created="Mon, 26 Oct 2015 01:12:46 +0000"  >&lt;p&gt;The issue has already been closed as won&apos;t fix...&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12705348" name="EXEC-93.patch" size="4971" author="sadovnikov" created="Wed, 18 Mar 2015 13:29:37 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 1 week, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i26wyn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-92] StreamPumper - Check For EOF</title>
                <link>https://issues.apache.org/jira/browse/EXEC-92</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;When the StreamPumper is copying data from the InputStream to the OutputStream, it would be safer to check for EOF instead of a read size greater than zero to protect against InputStream implementations that don&apos;t respect the contract as defined in Java core JavaDoc.&lt;/p&gt;

&lt;p&gt;Patch Included.  I took code from the copy method of the IOUtils class.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;border-bottom-style: solid;&quot;&gt;&lt;b&gt;StreamPumper.java&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; ((length = is.read(buf)) &amp;gt; 0)
{
    os.write(buf, 0, length);
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12782430">EXEC-92</key>
            <summary>StreamPumper - Check For EOF</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="sgoeschl">Siegfried Goeschl</assignee>
                                    <reporter username="belugabehr">David Mollitor</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Mar 2015 00:55:04 +0000</created>
                <updated>Sat, 9 Jan 2016 17:25:25 +0000</updated>
                            <resolved>Fri, 8 Jan 2016 21:28:07 +0000</resolved>
                                    <version>1.3</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14364402" author="sebb@apache.org" created="Tue, 17 Mar 2015 01:48:47 +0000"  >&lt;p&gt;I agree it would be safer to check for EOF, however I think the patch is not entirely safe.&lt;/p&gt;

&lt;p&gt;The patch may try and write a zero length buffer; it would be better to protect against that.&lt;/p&gt;</comment>
                            <comment id="14364409" author="belugabehr" created="Tue, 17 Mar 2015 01:54:47 +0000"  >&lt;p&gt;Like I said, I&apos;m just mimicking IOUtils, so if a check for zero-length is required, then that should be addressed with that project too.&lt;/p&gt;

&lt;p&gt;I&apos;m not sure there&apos;s anything to &quot;protect&quot; against.  Any implementation of an OutputStream is going to do some sort of &quot;for (0..length)&quot; and if length is zero, nothing happens.&lt;/p&gt;

&lt;p&gt;BufferedInputStream is an example of this:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/io/InputStream.java#InputStream.read%28byte%5B%5D%2Cint%2Cint%29&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/io/InputStream.java#InputStream.read%28byte%5B%5D%2Cint%2Cint%29&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14364413" author="belugabehr" created="Tue, 17 Mar 2015 01:59:45 +0000"  >&lt;p&gt;Here&apos;s another example of the &quot;for (0..length)&quot; implementation.  It&apos;s an empty array we&apos;re talking about here, not a null array.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;border-bottom-style: solid;&quot;&gt;&lt;b&gt;OutputStream.java&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void write(&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt; b[], &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; off, &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; len) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (b == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
        &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; NullPointerException();
    } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; ((off &amp;lt; 0) || (off &amp;gt; b.length) || (len &amp;lt; 0) ||
    ((off + len) &amp;gt; b.length) || ((off + len) &amp;lt; 0)) {
       &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IndexOutOfBoundsException();
    } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (len == 0) {
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt;;
    }
    &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; i = 0 ; i &amp;lt; len ; i++) {
        write(b[off + i]);
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14981395" author="almson" created="Thu, 29 Oct 2015 21:59:15 +0000"  >&lt;p&gt;The javadoc says 3 times that &lt;tt&gt;read&lt;/tt&gt; returns at least one byte. It says only once that it returns -1 for EOF. So, which part of the contract is an imbecile more likely to ignore?&lt;/p&gt;

&lt;p&gt;OTOH, &lt;tt&gt;write&lt;/tt&gt; accepts length 0.&lt;/p&gt;

&lt;p&gt;Let&apos;s trust our contracts and move on...&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12704952" name="StreamPumper.java.patch" size="844" author="belugabehr" created="Tue, 17 Mar 2015 00:55:30 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i26uef:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-91] DefaultExecutor.execute() hanging while closing process streams</title>
                <link>https://issues.apache.org/jira/browse/EXEC-91</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;Occasionally, DefaultExecutor.execute() hangs while cleaning up process files as seen in the stack trace below.&lt;/p&gt;

&lt;p&gt;This failure mode was also mentioned, but apparently not fixed, in &lt;a href=&quot;https://issues.apache.org/jira/browse/EXEC-57&quot; title=&quot;DefaultExecutor.execute() does not return even if child process terminated&quot; class=&quot;issue-link&quot; data-issue-key=&quot;EXEC-57&quot;&gt;&lt;del&gt;EXEC-57&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;2015/03/09 14:16:36 | &quot;Probe: Powershell:WMI: Network:10.24.195.40&quot; daemon prio=6 tid=0x48f1e400 nid=0x2f10 runnable &lt;span class=&quot;error&quot;&gt;&amp;#91;0x528df000&amp;#93;&lt;/span&gt;&amp;#13;&lt;br/&gt;
2015/03/09 14:16:36 |    java.lang.Thread.State: RUNNABLE&amp;#13;&lt;br/&gt;
2015/03/09 14:16:36 |   at java.io.FileInputStream.close0(Native Method)&amp;#13;&lt;br/&gt;
2015/03/09 14:16:36 |   at java.io.FileInputStream.close(Unknown Source)&amp;#13;&lt;br/&gt;
2015/03/09 14:16:37 |   at java.io.BufferedInputStream.close(Unknown Source)&amp;#13;&lt;br/&gt;
2015/03/09 14:16:37 |   at org.apache.commons.exec.DefaultExecutor.closeProcessStreams(DefaultExecutor.java:299)&amp;#13;&lt;br/&gt;
2015/03/09 14:16:37 |   at org.apache.commons.exec.DefaultExecutor.executeInternal(DefaultExecutor.java:387)&amp;#13;&lt;br/&gt;
2015/03/09 14:16:37 |   at org.apache.commons.exec.DefaultExecutor.execute(DefaultExecutor.java:166)&amp;#13;&lt;br/&gt;
2015/03/09 14:16:37 |   at org.apache.commons.exec.DefaultExecutor.execute(DefaultExecutor.java:153)&amp;#13;&lt;br/&gt;
2015/03/09 14:16:37 |   at com.glide.util.CommandRunner.run(CommandRunner.java:101)&amp;#13;&lt;br/&gt;
...&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows Server 2003 / 2008 / 2012 under Java 1.6&lt;/p&gt;</environment>
        <key id="12780612">EXEC-91</key>
            <summary>DefaultExecutor.execute() hanging while closing process streams</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="tbroberg">Tim Broberg</reporter>
                        <labels>
                            <label>hang</label>
                    </labels>
                <created>Mon, 9 Mar 2015 21:11:23 +0000</created>
                <updated>Tue, 5 Jan 2016 14:36:54 +0000</updated>
                                            <version>1.3</version>
                                                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15083148" author="sgoeschl" created="Tue, 5 Jan 2016 14:36:54 +0000"  >&lt;p&gt;Hi Tim, might be a bit late to look at the issue but is there some more information available such how to reproduce the problem?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 43 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i26jen:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-90] example usage in ExecuteWatchdog class docs does not work</title>
                <link>https://issues.apache.org/jira/browse/EXEC-90</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;the example in ExecuteWatchdog class javaodcs uses non-existent Execute class, it should be changed from:&lt;br/&gt;
  if (Execute.isFailure(exitvalue) ... &lt;br/&gt;
 to:&lt;br/&gt;
 if (exec.isFailure(exitvalue) ...&lt;/p&gt;

&lt;p&gt;I will attach a patch file&lt;/p&gt;</description>
                <environment></environment>
        <key id="12773520">EXEC-90</key>
            <summary>example usage in ExecuteWatchdog class docs does not work</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="sgoeschl">Siegfried Goeschl</assignee>
                                    <reporter username="trineo@gmail.com">Neon Ngo</reporter>
                        <labels>
                            <label>documentation</label>
                            <label>patch</label>
                    </labels>
                <created>Mon, 9 Feb 2015 18:04:17 +0000</created>
                <updated>Mon, 4 Jan 2016 17:38:09 +0000</updated>
                                            <version>1.3</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="600">10m</timeoriginalestimate>
                            <timeestimate seconds="600">10m</timeestimate>
                                        <comments>
                            <comment id="14312545" author="trineo@gmail.com" created="Mon, 9 Feb 2015 18:05:29 +0000"  >&lt;p&gt;patch to correct example in class docs&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12697527" name="EXEC-90-ExecuteWatchdog-docs.patch" size="660" author="trineo@gmail.com" created="Mon, 9 Feb 2015 18:05:29 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 38 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i25djr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-89] Unit tests failing in Win7 Pro 64-bit with Java 6 and 7</title>
                <link>https://issues.apache.org/jira/browse/EXEC-89</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;I&apos;m getting errors when running the unit tests in Windows7 Pro 64-bit. I&apos;ve tried with both JDK 6 and 7.&lt;/p&gt;

&lt;p&gt;Specifically the problem seems to be with getting return codes from running batch files. Seems like it always returns a zero even when there is an &apos;exit 1&apos; or &apos;exec /b 1&apos; in the batch file.&lt;/p&gt;

&lt;p&gt;The main test I need resolving is the DefaultExecutorTest.testExecuteWithCustomExitValue1 test.&lt;/p&gt;

&lt;p&gt;Here&apos;s the maven output. Sorry there seems to be no attachment button in this bug report screen.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[INFO] Scanning &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; projects...
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Apache Commons Exec 1.2
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-clean-plugin:2.5:clean (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-clean) @ commons-exec ---
[INFO] Deleting C:\java\commons-exec-1.2-src\target
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (javadoc.resources) @ commons-exec ---
[INFO] Executing tasks

main:
     [copy] Copying 2 files to C:\java\commons-exec-1.2-src\target\apidocs\META-INF
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-remote-resources-plugin:1.4:process (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;) @ commons-exec ---
[INFO] 
[INFO] --- buildnumber-maven-plugin:1.2:create (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;) @ commons-exec ---
[INFO] Checking &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; local modifications: skipped.
[INFO] Updating project files from SCM: skipped.
[INFO] Executing: cmd.exe /X /C &lt;span class=&quot;code-quote&quot;&gt;&quot;svn --non-interactive info&quot;&lt;/span&gt;
[INFO] Working directory: C:\java\commons-exec-1.2-src
[INFO] Storing buildNumber: ?????? at timestamp: 1413197018890
[INFO] Executing: cmd.exe /X /C &lt;span class=&quot;code-quote&quot;&gt;&quot;svn --non-interactive info&quot;&lt;/span&gt;
[INFO] Working directory: C:\java\commons-exec-1.2-src
[INFO] Storing buildScmBranch: UNKNOWN_BRANCH
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-resources) @ commons-exec ---
[INFO] Using &lt;span class=&quot;code-quote&quot;&gt;&apos;UTF-8&apos;&lt;/span&gt; encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory C:\java\commons-exec-1.2-src\src\main\resources
[INFO] Copying 2 resources to META-INF
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-compile) @ commons-exec ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 31 source files to C:\java\commons-exec-1.2-src\target\classes
[INFO] 
[INFO] --- maven-bundle-plugin:2.4.0:manifest (bundle-manifest) @ commons-exec ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-testResources) @ commons-exec ---
[INFO] Using &lt;span class=&quot;code-quote&quot;&gt;&apos;UTF-8&apos;&lt;/span&gt; encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory C:\java\commons-exec-1.2-src\src\test\resources
[INFO] Copying 2 resources to META-INF
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-testCompile) @ commons-exec ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 11 source files to C:\java\commons-exec-1.2-src\target\test-classes
[INFO] 
[INFO] --- maven-surefire-plugin:2.15:test (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-test) @ commons-exec ---
[INFO] Surefire report directory: C:\java\commons-exec-1.2-src\target\surefire-reports

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running org.apache.commons.exec.CommandLineTest
testToStringTroubleshooting
cmd1: [sh, -c, echo 1]
cmd2: [sh, -c, echo, 1]
Tests run: 34, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.016 sec - in org.apache.commons.exec.CommandLineTest
Running org.apache.commons.exec.DefaultExecutorTest
FOO..

Pinging 127.0.0.1 with 32 bytes of data:
Reply from 127.0.0.1: bytes=32 time&amp;lt;1ms TTL=128
Reply from 127.0.0.1: bytes=32 time&amp;lt;1ms TTL=128
&lt;span class=&quot;code-object&quot;&gt;Process&lt;/span&gt; completed in 2015 millis; below is its output
&lt;span class=&quot;code-object&quot;&gt;Process&lt;/span&gt; timed out and was killed by watchdog.
org.apache.commons.exec.ExecuteException: &lt;span class=&quot;code-object&quot;&gt;Process&lt;/span&gt; exited with an error: 1 (Exit value: 1)
&lt;span class=&quot;code-object&quot;&gt;Process&lt;/span&gt; completed in 2137 millis; below is its output
&lt;span class=&quot;code-object&quot;&gt;Process&lt;/span&gt; timed out and was killed.
FOO..
The test &lt;span class=&quot;code-quote&quot;&gt;&apos;testExec36_1&apos;&lt;/span&gt; does not support the following OS : Windows 7
The test &lt;span class=&quot;code-quote&quot;&gt;&apos;testSyncInvocationOfBackgroundProcess&apos;&lt;/span&gt; does not support the following OS : Windows 7
Processes terminated: 0 killed: 181 Multiplier: 1 MaxRetries: 180 Elapsed (avg ms): 1416
FOO..
{java.runtime.name=Java(TM) SE &lt;span class=&quot;code-object&quot;&gt;Runtime&lt;/span&gt; Environment, sun.boot.library.path=C:\programs\jdk1.7.0_40\jre\bin, java.vm.version=24.0-b56, java.vm.vendor=Oracle Corporation, java.vendor.url=http:&lt;span class=&quot;code-comment&quot;&gt;//java.oracle.com/, path.separator=;, java.vm.name=Java HotSpot(TM) 64-Bit Server VM, file.encoding.pkg=sun.io, user.country=GB, user.script=, sun.java.launcher=SUN_STANDARD, sun.os.patch.level=Service Pack 1, java.vm.specification.name=Java Virtual Machine Specification, user.dir=C:\java\commons-exec-1.2-src, java.runtime.version=1.7.0_40-b43, basedir=C:\java\commons-exec-1.2-src, java.awt.graphicsenv=sun.awt.Win32GraphicsEnvironment, java.endorsed.dirs=C:\programs\jdk1.7.0_40\jre\lib\endorsed, os.arch=amd64, surefire.real.&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;path=C:\java\commons-exec-1.2-src\target\surefire\surefirebooter5986968512479330555.jar, java.io.tmpdir=C:\Users\CM99904\AppData\Local\Temp\, line.separator=
&lt;/span&gt;, java.vm.specification.vendor=Oracle Corporation, user.variant=, os.name=Windows 7, sun.jnu.encoding=Cp1252, java.library.path=C:\programs\jdk1.7.0_40\jre\bin;C:\WINDOWS\Sun\Java\bin;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\WINDOWS\System32\WindowsPowerShell\v1.0\;C:\Program Files\Citrix\ICAService\;C:\Program Files\Citrix\System32\;C:\Program Files\Citrix\Virtual Desktop Agent\;C:\Centura\Deploy;C:\Centura\Sybase\Dll;C:\Centura\Sybase\bin;C:\Program Files (x86)\Enterprise Vault\EVClient\;C:\Program Files\TortoiseSVN\bin;., surefire.test.&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;path=C:\java\commons-exec-1.2-src\target\test-classes;C:\java\commons-exec-1.2-src\target\classes;C:\apache\maven\repository\junit\junit\3.8.1\junit-3.8.1.jar;, java.specification.name=Java Platform API Specification, java.&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;version=51.0, sun.management.compiler=HotSpot 64-Bit Tiered Compilers, os.version=6.1, user.home=\\vwnhome01\CM99904$\Profile, user.timezone=, java.awt.printerjob=sun.awt.windows.WPrinterJob, file.encoding=Cp1252, java.specification.version=1.7, java.&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;path=C:\java\commons-exec-1.2-src\target\test-classes;C:\java\commons-exec-1.2-src\target\classes;C:\apache\maven\repository\junit\junit\3.8.1\junit-3.8.1.jar;, user.name=CM99904, java.vm.specification.version=1.7, sun.java.command=C:\java\commons-exec-1.2-src\target\surefire\surefirebooter5986968512479330555.jar C:\java\commons-exec-1.2-src\target\surefire\surefire3153910831053150957tmp C:\java\commons-exec-1.2-src\target\surefire\surefire_01646269631744395942tmp, java.home=C:\programs\jdk1.7.0_40\jre, sun.arch.data.model=64, org.apache.commons.exec.lenient=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, user.language=en, java.specification.vendor=Oracle Corporation, awt.toolkit=sun.awt.windows.WToolkit, java.vm.info=mixed mode, java.version=1.7.0_40, java.ext.dirs=C:\programs\jdk1.7.0_40\jre\lib\ext;C:\WINDOWS\Sun\Java\lib\ext, sun.boot.&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;path=C:\programs\jdk1.7.0_40\jre\lib\resources.jar;C:\programs\jdk1.7.0_40\jre\lib\rt.jar;C:\programs\jdk1.7.0_40\jre\lib\sunrsasign.jar;C:\programs\jdk1.7.0_40\jre\lib\jsse.jar;C:\programs\jdk1.7.0_40\jre\lib\jce.jar;C:\programs\jdk1.7.0_40\jre\lib\charsets.jar;C:\programs\jdk1.7.0_40\jre\lib\jfr.jar;C:\programs\jdk1.7.0_40\jre\classes, java.vendor=Oracle Corporation, localRepository=C:\apache\maven\repository, file.separator=\, org.apache.commons.exec.debug=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, java.vendor.url.bug=http:&lt;span class=&quot;code-comment&quot;&gt;//bugreport.sun.com/bugreport/, sun.io.unicode.encoding=UnicodeLittle, sun.cpu.endian=little, sun.desktop=windows, sun.cpu.isalist=amd64}
&lt;/span&gt;The code samples to &lt;span class=&quot;code-keyword&quot;&gt;do&lt;/span&gt; that in windows look like a joke ... :-( .., no way I&apos;m doing that
The test &lt;span class=&quot;code-quote&quot;&gt;&apos;testExecuteWithRedirectedStreams&apos;&lt;/span&gt; does not support the following OS : Windows 7
&lt;span class=&quot;code-quote&quot;&gt;&quot;gdal_translate&quot;&lt;/span&gt;
&lt;span class=&quot;code-quote&quot;&gt;&quot;HDF5:&quot;&lt;/span&gt;/home/kk/grass/data/4404.he5&lt;span class=&quot;code-quote&quot;&gt;&quot;:&lt;span class=&quot;code-comment&quot;&gt;//HDFEOS/GRIDS/OMI_Column_Amount_O3/Data_Fields/ColumnAmountO3/home/kk/4.tif&quot;&lt;/span&gt;
&lt;/span&gt;Tests run: 41, Failures: 4, Errors: 1, Skipped: 0, Time elapsed: 325.935 sec &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.commons.exec.DefaultExecutorTest
testExecuteWithError(org.apache.commons.exec.DefaultExecutorTest)  Time elapsed: 0.25 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!
junit.framework.AssertionFailedError: Must &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; ExecuteException
    at junit.framework.Assert.fail(Assert.java:47)
    at org.apache.commons.exec.DefaultExecutorTest.testExecuteWithError(DefaultExecutorTest.java:141)

testExecuteAsyncWithError(org.apache.commons.exec.DefaultExecutorTest)  Time elapsed: 0.374 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!
junit.framework.AssertionFailedError
    at junit.framework.Assert.fail(Assert.java:47)
    at junit.framework.Assert.assertTrue(Assert.java:20)
    at junit.framework.Assert.assertTrue(Assert.java:27)
    at org.apache.commons.exec.DefaultExecutorTest.testExecuteAsyncWithError(DefaultExecutorTest.java:201)

testExec_60(org.apache.commons.exec.DefaultExecutorTest)  Time elapsed: 256.424 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!
junit.framework.AssertionFailedError: Not a single process terminated on its own
    at junit.framework.Assert.fail(Assert.java:47)
    at junit.framework.Assert.assertTrue(Assert.java:20)
    at org.apache.commons.exec.DefaultExecutorTest.testExec_60(DefaultExecutorTest.java:1122)

testExecuteWithCustomExitValue1(org.apache.commons.exec.DefaultExecutorTest)  Time elapsed: 0.266 sec  &amp;lt;&amp;lt;&amp;lt; ERROR!
org.apache.commons.exec.ExecuteException: &lt;span class=&quot;code-object&quot;&gt;Process&lt;/span&gt; exited with an error: 0 (Exit value: 0)
    at org.apache.commons.exec.DefaultExecutor.executeInternal(DefaultExecutor.java:402)
    at org.apache.commons.exec.DefaultExecutor.execute(DefaultExecutor.java:164)
    at org.apache.commons.exec.DefaultExecutor.execute(DefaultExecutor.java:151)
    at org.apache.commons.exec.DefaultExecutorTest.testExecuteWithCustomExitValue1(DefaultExecutorTest.java:399)

testExecuteWithCustomExitValue2(org.apache.commons.exec.DefaultExecutorTest)  Time elapsed: 0.265 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!
junit.framework.AssertionFailedError: Must &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; ExecuteException
    at junit.framework.Assert.fail(Assert.java:47)
    at org.apache.commons.exec.DefaultExecutorTest.testExecuteWithCustomExitValue2(DefaultExecutorTest.java:413)

Running org.apache.commons.exec.environment.EnvironmentUtilTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in org.apache.commons.exec.environment.EnvironmentUtilTest
Running org.apache.commons.exec.LogOutputStreamTest
ALLUSERSPROFILE=C:\ProgramData
APPDATA=C:\Users\CM99904\AppData\Roaming
CENTURA_TEMP=C:\centura
COMMONPROGRAMFILES=C:\Program Files\Common Files
COMMONPROGRAMFILES(X86)=C:\Program Files (x86)\Common Files
COMMONPROGRAMW6432=C:\Program Files\Common Files
COMPUTERNAME=LG012699
COMSPEC=C:\WINDOWS\system32\cmd.exe
FP_NO_HOST_CHECK=NO
HOMEDRIVE=H:
HOMEPATH=\
HOMESHARE=\\vwnhome01\CM99904$
JAVA_HOME=C:\programs\jdk1.7.0_40
LOCALAPPDATA=C:\Users\CM99904\AppData\Local
LOGONSERVER=\\XWNDCCS03
M2_HOME=C:\programs\apache-maven-3.0.5
NUMBER_OF_PROCESSORS=4
OS=Windows_NT
PATH=C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\WINDOWS\System32\WindowsPowerShell\v1.0\;C:\Program Files\Citrix\ICAService\;C:\Program Files\Citrix\System32\;C:\Program Files\Citrix\Virtual Desktop Agent\;C:\Centura\Deploy;C:\Centura\Sybase\Dll;C:\Centura\Sybase\bin;C:\Program Files (x86)\Enterprise Vault\EVClient\;C:\Program Files\TortoiseSVN\bin
PATHEXT=.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC
PROCESSOR_ARCHITECTURE=AMD64
PROCESSOR_IDENTIFIER=Intel64 Family 6 Model 42 Stepping 7, GenuineIntel
PROCESSOR_LEVEL=6
PROCESSOR_REVISION=2a07
PROGRAMDATA=C:\ProgramData
PROGRAMFILES=C:\Program Files
PROGRAMFILES(X86)=C:\Program Files (x86)
PROGRAMW6432=C:\Program Files
PROMPT=$P$G
PSMODULEPATH=C:\WINDOWS\system32\WindowsPowerShell\v1.0\Modules\;C:\Program Files\Microsoft Application Virtualization\Client\
PUBLIC=C:\Users\Public
SESSIONNAME=Console
SYBASE=C:\Centura\Sybase
SYSTEMDRIVE=C:
SYSTEMROOT=C:\WINDOWS
TEMP=C:\Users\CM99904\AppData\Local\Temp
TMP=C:\Users\CM99904\AppData\Local\Temp
UATDATA=C:\WINDOWS\CCM\UATData\D9F8C395-CAB8-491d-B8AC-179A1FE1BE77
USERDNSDOMAIN=INV.ADROOT.LGIM.COM
USERDOMAIN=INV
USERNAME=CM99904
USERPROFILE=C:\Users\CM99904
WALKAWAYPATH=C:\Program Files (x86)\Imprivata\OneSign Agent\
WINDIR=C:\WINDOWS
WINDOWS_TRACING_FLAGS=3
WINDOWS_TRACING_LOGFILE=C:\BVTBin\Tests\installpackage\csilogfile.log
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.265 sec - in org.apache.commons.exec.LogOutputStreamTest
Running org.apache.commons.exec.StandAloneTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in org.apache.commons.exec.StandAloneTest
Running org.apache.commons.exec.TestUtilTest
Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in org.apache.commons.exec.TestUtilTest
Running org.apache.commons.exec.TutorialTest
[main] Preparing print job ...
[print] Executing blocking print job  ...
&lt;span class=&quot;code-quote&quot;&gt;&quot;[acrord32] Printing the following document : &lt;span class=&quot;code-quote&quot;&gt;&apos;&quot;&lt;/span&gt;C:\Documents and Settings\foo.pdf&lt;span class=&quot;code-quote&quot;&gt;&quot;&apos;&lt;/span&gt;&quot;&lt;/span&gt;
&lt;span class=&quot;code-quote&quot;&gt;&quot;[acrord32] Finished printing&quot;&lt;/span&gt;
org.apache.commons.exec.ExecuteException: &lt;span class=&quot;code-object&quot;&gt;Process&lt;/span&gt; exited with an error: 0 (Exit value: 0)
    at org.apache.commons.exec.DefaultExecutor.executeInternal(DefaultExecutor.java:402)
    at org.apache.commons.exec.DefaultExecutor.execute(DefaultExecutor.java:164)
    at org.apache.commons.exec.DefaultExecutor.execute(DefaultExecutor.java:151)
    at org.apache.commons.exec.TutorialTest.print(TutorialTest.java:113)
    at org.apache.commons.exec.TutorialTest.testTutorialExample(TutorialTest.java:55)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:606)
    at junit.framework.TestCase.runTest(TestCase.java:154)
    at junit.framework.TestCase.runBare(TestCase.java:127)
    at junit.framework.TestResult$1.protect(TestResult.java:106)
    at junit.framework.TestResult.runProtected(TestResult.java:124)
    at junit.framework.TestResult.run(TestResult.java:109)
    at junit.framework.TestCase.run(TestCase.java:118)
    at junit.framework.TestSuite.runTest(TestSuite.java:208)
    at junit.framework.TestSuite.run(TestSuite.java:203)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:606)
    at org.apache.maven.surefire.junit.JUnitTestSet.execute(JUnitTestSet.java:95)
    at org.apache.maven.surefire.junit.JUnit3Provider.executeTestSet(JUnit3Provider.java:131)
    at org.apache.maven.surefire.junit.JUnit3Provider.invoke(JUnit3Provider.java:108)
    at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:200)
    at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:153)
    at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
Tests run: 1, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 9.455 sec &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.commons.exec.TutorialTest
testTutorialExample(org.apache.commons.exec.TutorialTest)  Time elapsed: 9.455 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!
junit.framework.AssertionFailedError: [main] Printing of the following document failed : C:\Documents and Settings\foo.pdf
    at junit.framework.Assert.fail(Assert.java:47)
    at org.apache.commons.exec.TutorialTest.testTutorialExample(TutorialTest.java:60)

Running org.apache.commons.exec.util.MapUtilTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in org.apache.commons.exec.util.MapUtilTest
Running org.apache.commons.exec.util.StringUtilTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in org.apache.commons.exec.util.StringUtilTest

Results :

Failed tests: 
  org.apache.commons.exec.DefaultExecutorTest#testExecuteWithError AssertionFailedError
  org.apache.commons.exec.DefaultExecutorTest#testExecuteAsyncWithError AssertionFailedError
  org.apache.commons.exec.DefaultExecutorTest#testExec_60 AssertionFailedError N...
  org.apache.commons.exec.DefaultExecutorTest#testExecuteWithCustomExitValue2 AssertionFailedError
  org.apache.commons.exec.TutorialTest#testTutorialExample AssertionFailedError ...

Tests in error: 
  org.apache.commons.exec.DefaultExecutorTest#testExecuteWithCustomExitValue1 ExecuteException

Tests run: 96, Failures: 5, Errors: 1, Skipped: 0

[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 5:41.153s
[INFO] Finished at: Mon Oct 13 11:49:18 BST 2014
[INFO] Final Memory: 18M/251M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.15:test (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-test) on project commons-exec: There are test failures.
[ERROR] 
[ERROR] Please refer to C:\java\commons-exec-1.2-src\target\surefire-reports &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; the individual test results.
[ERROR] -&amp;gt; [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e &lt;span class=&quot;code-keyword&quot;&gt;switch&lt;/span&gt;.
[ERROR] Re-run Maven using the -X &lt;span class=&quot;code-keyword&quot;&gt;switch&lt;/span&gt; to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http:&lt;span class=&quot;code-comment&quot;&gt;//cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12747706">EXEC-89</key>
            <summary>Unit tests failing in Win7 Pro 64-bit with Java 6 and 7</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="chris@melikian.net">Chris Melikian</reporter>
                        <labels>
                    </labels>
                <created>Mon, 13 Oct 2014 12:11:31 +0000</created>
                <updated>Sat, 9 Jan 2016 16:36:30 +0000</updated>
                                            <version>1.2</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15090531" author="sgoeschl" created="Sat, 9 Jan 2016 09:59:42 +0000"  >&lt;p&gt;I can&apos;t reproduce the problem but not getting an exit code from a batch file seems odd&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 42 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i213nj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-86] Test failure with Java 8 and EXEC-57 unit test</title>
                <link>https://issues.apache.org/jira/browse/EXEC-86</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;Exec57Test.testExec_57 fails on Linux with OpenJDK 8u5:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;-------------------------------------------------------------------------------
Test set: org.apache.commons.exec.issues.Exec57Test
-------------------------------------------------------------------------------
Tests run: 1, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 0.002 sec &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.commons.exec.issues.Exec57Test
testExec_57(org.apache.commons.exec.issues.Exec57Test)  Time elapsed: 0.001 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!
java.lang.AssertionError: Expecting an ExecuteException
        at org.junit.Assert.fail(Assert.java:88)
        at org.apache.commons.exec.issues.Exec57Test.testExec_57(Exec57Test.java:82)

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12718807">EXEC-86</key>
            <summary>Test failure with Java 8 and EXEC-57 unit test</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="sgoeschl">Siegfried Goeschl</assignee>
                                    <reporter username="ebourg">Emmanuel Bourg</reporter>
                        <labels>
                    </labels>
                <created>Fri, 6 Jun 2014 09:35:16 +0000</created>
                <updated>Fri, 8 Jan 2016 23:33:20 +0000</updated>
                                            <version>1.2</version>
                                    <fixVersion>1.4.0</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15084495" author="sgoeschl" created="Wed, 6 Jan 2016 01:23:56 +0000"  >&lt;ul&gt;
	&lt;li&gt;On Mac OS X 10.11.2 and JDK 1.8.0_66 the tests actually &quot;works&quot; but it leaves a thread behind which is bad&lt;/li&gt;
	&lt;li&gt;On Ubuntu 15.10 and JDK 1.8.0_66 the join works nicely and therefore the expected &quot;ExecuteException&quot; is never thrown&lt;/li&gt;
	&lt;li&gt;The Linux kernel 2.6.18 was released 2007 und is used in RHEL 5.5 (2010-03-30)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;So I think the patch fixes a problem for old Unix/Linux kernels and the test is actually broken on newer systems (while the functionality is fine)&lt;/p&gt;

&lt;p&gt;But it is broken for Mac OS X (and sometimes works if I hit a breakpoint in IntelliJ)&lt;/p&gt;</comment>
                            <comment id="15090184" author="sgoeschl" created="Fri, 8 Jan 2016 23:33:20 +0000"  >&lt;p&gt;I need to revert my statement - it does not work on my Ubuntu from the command line either - damn it&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12499809">EXEC-57</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>397006</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 42 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1wclb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>397124</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-85] error running mvn on eclipse</title>
                <link>https://issues.apache.org/jira/browse/EXEC-85</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;I am using DefaultExecutor to run maven on my eclipse plugin. If I run the command mvn --version to check maven version on my eclipse on Mac OSX Snow Leopard It work fine, but, if I run it on MAC OSx Maverick it give an error (error=2 ..) command not found or something like that. I can not figure out the problem, In both OSx the maven is installed correct and running mvn --version on a terminal It works.&lt;/p&gt;

&lt;p&gt;Regards&lt;br/&gt;
Ramiro&lt;/p&gt;</description>
                <environment></environment>
        <key id="12707788">EXEC-85</key>
            <summary>error running mvn on eclipse</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="4">Incomplete</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ramiro.matteoda">Ramiro Matteoda</reporter>
                        <labels>
                    </labels>
                <created>Thu, 10 Apr 2014 20:29:39 +0000</created>
                <updated>Mon, 4 Jan 2016 17:44:25 +0000</updated>
                            <resolved>Mon, 4 Jan 2016 17:44:25 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13978470" author="khmarbaise" created="Wed, 23 Apr 2014 17:07:21 +0000"  >&lt;p&gt;Can you post the full error output and not only excerpts...&lt;/p&gt;</comment>
                            <comment id="15081444" author="sgoeschl" created="Mon, 4 Jan 2016 17:44:25 +0000"  >&lt;p&gt;No way to analyse the issue with the given information&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>386111</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 43 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1uikf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>386376</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-83] Arguments with spaces lead to quotes in arguments in bash</title>
                <link>https://issues.apache.org/jira/browse/EXEC-83</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;If I run my script directly from a bash prompt I see a different behavior than if I launch with commons-exec.  This may be the nature of the beast (java Runtime-exec interacting with bash), but leads me to have to rewrite scripts to remove extraneous quotes.&lt;/p&gt;

&lt;p&gt;Here is my script:&lt;br/&gt;
$ cat ./foo.sh&lt;br/&gt;
#!/bin/bash&lt;br/&gt;
echo &quot;$@&quot;&lt;/p&gt;


&lt;p&gt;case I: commons-exec with no spaces ==&amp;gt; arguments do NOT have quotes when in bash script&lt;/p&gt;

&lt;p&gt;cmdLine=&lt;span class=&quot;error&quot;&gt;&amp;#91;/opt/bmam/bin/avidcommand/write_xmp_remote.sh, 70059021, RAW-one_two_three, http://foo.com&amp;#93;&lt;/span&gt;&lt;br/&gt;
output (of $@):&lt;br/&gt;
70059021 RAW-one_two_three &lt;a href=&quot;http://foo.com&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://foo.com&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;case II: commons-exec with spaces ==&amp;gt; arguments have quotes when in bash script&lt;/p&gt;

&lt;p&gt;cmdLine=&lt;span class=&quot;error&quot;&gt;&amp;#91;/opt/bin/foo.sh, 70058269, &amp;quot;AIR-one two three&amp;quot;, http://foo.com&amp;#93;&lt;/span&gt;&lt;br/&gt;
output (of $@):&lt;br/&gt;
70058269 &quot;AIR-one two three&quot; &lt;a href=&quot;http://foo.com&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://foo.com&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;case III: execute directly from bash ==&amp;gt; arguments do NOT have quotes when in bash script&lt;/p&gt;

&lt;p&gt;$./foo.sh 70058891 &quot;one two three&quot; &lt;a href=&quot;http://foo.com&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://foo.com&lt;/a&gt;&lt;br/&gt;
output (of $@):&lt;br/&gt;
70058891 one two three &lt;a href=&quot;http://foo.com&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://foo.com&lt;/a&gt;&lt;/p&gt;</description>
                <environment>&lt;p&gt;Java 7 &amp;amp; OSX &lt;/p&gt;</environment>
        <key id="12696022">EXEC-83</key>
            <summary>Arguments with spaces lead to quotes in arguments in bash</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="kbrowncnn">Kevin Brown</reporter>
                        <labels>
                    </labels>
                <created>Wed, 19 Feb 2014 17:51:09 +0000</created>
                <updated>Thu, 27 Mar 2014 10:37:24 +0000</updated>
                                            <version>1.2</version>
                                                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13906013" author="kbrowncnn" created="Wed, 19 Feb 2014 20:16:32 +0000"  >&lt;p&gt;Here is my workaround: &lt;/p&gt;

&lt;p&gt;CommandLine commandLine = new CommandLine(&quot;/bin/sh&quot;);&lt;br/&gt;
commandLine.addArgument(&quot;-c&quot;, false);&lt;br/&gt;
commandLine.addArgument(script, false);&lt;br/&gt;
commandLine.addArgument(id, false);&lt;br/&gt;
commandLine.addArgument(&quot;one two three&quot;);   //double quotes will screw up our bash script and double mixed with &lt;br/&gt;
commandLine.addArgument(url, false);&lt;/p&gt;

</comment>
                            <comment id="13906078" author="b.eckenfels" created="Wed, 19 Feb 2014 21:09:03 +0000"  >&lt;p&gt;Can you show your non-workaround Java code as well?&lt;/p&gt;</comment>
                            <comment id="13906111" author="sebb@apache.org" created="Wed, 19 Feb 2014 21:29:48 +0000"  >&lt;p&gt;I don&apos;t think the bash script test shows the full details.&lt;/p&gt;

&lt;p&gt;How many parameter values are detected?&lt;br/&gt;
And what are the individual values?&lt;/p&gt;

&lt;p&gt;If an individual parameter contains a space, then it must be quoted, otherwise the shell will treat it as multiple parameters.&lt;br/&gt;
That won&apos;t in general have the same result.&lt;/p&gt;

&lt;p&gt;Try creating a simple Java app that prints out the arg count and lists each parameter value; then call that from bash.&lt;/p&gt;</comment>
                            <comment id="13906213" author="b.eckenfels" created="Wed, 19 Feb 2014 22:31:21 +0000"  >&lt;p&gt;hmm... there is no need to quote arguments with spaces as long as you use String[] variant of exec and not use -c. The question of course is if and why the shell should use -c (IMHO only needed if you want to use shell expansion or internal commands)&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;$ cat pa.sh
#!/bin/sh
echo Arg1=$1 Arg2=$2 Arg3=$3 count=$# args=[&lt;span class=&quot;code-quote&quot;&gt;&quot;$*&quot;&lt;/span&gt;]

$ java -cp . test.Fork
ProcessBuilder(&lt;span class=&quot;code-quote&quot;&gt;&quot;/bin/sh&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;./pa.sh&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;b b&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;c&quot;&lt;/span&gt;) &lt;span class=&quot;code-comment&quot;&gt;// best
&lt;/span&gt;Arg1=a Arg2=b b Arg3=c count=3 Args=[a b b c]
ProcessBuilder(&lt;span class=&quot;code-quote&quot;&gt;&quot;/bin/sh&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;-c&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;./pa.sh a \&quot;&lt;/span&gt;b b\&lt;span class=&quot;code-quote&quot;&gt;&quot; c&quot;&lt;/span&gt;) &lt;span class=&quot;code-comment&quot;&gt;// good
&lt;/span&gt;Arg1=a Arg2=b b Arg3=c count=3 Args=[a b b c]
ProcessBuilder(&lt;span class=&quot;code-quote&quot;&gt;&quot;/bin/sh&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;-c&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;./pa.sh&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;b b&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;c&quot;&lt;/span&gt;) &lt;span class=&quot;code-comment&quot;&gt;// wrong
&lt;/span&gt;Arg1= Arg2= Arg3= count=0 Args=[]

$ cat test/Fork.java
&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; test;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.io.IOException;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Fork {
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void main(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] args) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException, InterruptedException {
        &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;ProcessBuilder(\&quot;&lt;/span&gt;/bin/sh\&lt;span class=&quot;code-quote&quot;&gt;&quot;, \&quot;&lt;/span&gt;./pa.sh\&lt;span class=&quot;code-quote&quot;&gt;&quot;, \&quot;&lt;/span&gt;a\&lt;span class=&quot;code-quote&quot;&gt;&quot;, \&quot;&lt;/span&gt;b b\&lt;span class=&quot;code-quote&quot;&gt;&quot;, \&quot;&lt;/span&gt;c\&lt;span class=&quot;code-quote&quot;&gt;&quot;) &lt;span class=&quot;code-comment&quot;&gt;// best&quot;&lt;/span&gt;);
&lt;/span&gt;        ProcessBuilder pb = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ProcessBuilder(&lt;span class=&quot;code-quote&quot;&gt;&quot;/bin/sh&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;./pa.sh&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;b b&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;c&quot;&lt;/span&gt;);
        pb.inheritIO(); pb.start().waitFor();

        &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;ProcessBuilder(\&quot;&lt;/span&gt;/bin/sh\&lt;span class=&quot;code-quote&quot;&gt;&quot;, \&quot;&lt;/span&gt;-c\&lt;span class=&quot;code-quote&quot;&gt;&quot;, \&quot;&lt;/span&gt;./pa.sh a \\\&lt;span class=&quot;code-quote&quot;&gt;&quot;b b\\\&quot;&lt;/span&gt; c\&lt;span class=&quot;code-quote&quot;&gt;&quot;) &lt;span class=&quot;code-comment&quot;&gt;// good&quot;&lt;/span&gt;);
&lt;/span&gt;        pb = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ProcessBuilder(&lt;span class=&quot;code-quote&quot;&gt;&quot;/bin/sh&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;-c&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;./pa.sh a \&quot;&lt;/span&gt;b b\&lt;span class=&quot;code-quote&quot;&gt;&quot; c&quot;&lt;/span&gt;);
        pb.inheritIO(); pb.start().waitFor();

        &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;ProcessBuilder(\&quot;&lt;/span&gt;/bin/sh\&lt;span class=&quot;code-quote&quot;&gt;&quot;, \&quot;&lt;/span&gt;-c\&lt;span class=&quot;code-quote&quot;&gt;&quot;, \&quot;&lt;/span&gt;./pa.sh\&lt;span class=&quot;code-quote&quot;&gt;&quot;, \&quot;&lt;/span&gt;a\&lt;span class=&quot;code-quote&quot;&gt;&quot;, \&quot;&lt;/span&gt;b b\&lt;span class=&quot;code-quote&quot;&gt;&quot;, \&quot;&lt;/span&gt;c\&lt;span class=&quot;code-quote&quot;&gt;&quot;) &lt;span class=&quot;code-comment&quot;&gt;//wrong&quot;&lt;/span&gt;);
&lt;/span&gt;        pb = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ProcessBuilder(&lt;span class=&quot;code-quote&quot;&gt;&quot;/bin/sh&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;-c&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;./pa.sh&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;b b&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;c&quot;&lt;/span&gt;);
        pb.inheritIO(); pb.start().waitFor();
    } }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13907388" author="kbrowncnn" created="Thu, 20 Feb 2014 19:41:38 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=b.eckenfels&quot; class=&quot;user-hover&quot; rel=&quot;b.eckenfels&quot;&gt;b.eckenfels&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sebb%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;sebb@apache.org&quot;&gt;sebb@apache.org&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Thanks for your replies.    For now, I&apos;m including some java code that recreates my original issue.   I&apos;ll modify this code to use the ProcessBuilder/bash example above shortly.&lt;/p&gt;

&lt;p&gt;Java:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;border-bottom-style: solid;&quot;&gt;&lt;b&gt;Foo.java&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@Test
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testExecutor() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {

        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; script=&lt;span class=&quot;code-quote&quot;&gt;&quot;/Users/kevin/foo.sh&quot;&lt;/span&gt;;
        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; arg1=&lt;span class=&quot;code-quote&quot;&gt;&quot;100&quot;&lt;/span&gt;;
        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; arg2=&lt;span class=&quot;code-quote&quot;&gt;&quot;kevin was here&quot;&lt;/span&gt;;
        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; arg3=&lt;span class=&quot;code-quote&quot;&gt;&quot;three&quot;&lt;/span&gt;;

        CommandLine commandLine = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; CommandLine(script);
        commandLine.addArgument(arg1, &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;);
        commandLine.addArgument(arg2, &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;);
        commandLine.addArgument(arg3, &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;);

        DefaultExecutor executor = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DefaultExecutor();
        executor.setExitValues(&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;); &lt;span class=&quot;code-comment&quot;&gt;//check &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; exit values ourselves
&lt;/span&gt;
        &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;cmdLine=&quot;&lt;/span&gt;+ commandLine.toString());
        &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; exitValue = executor.execute(commandLine);
        &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;exitValue=&quot;&lt;/span&gt;+ exitValue);
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;#foo.sh being called from Java&lt;br/&gt;
mac:~ kevin$ cat ./foo.sh &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;border-bottom-style: solid;&quot;&gt;&lt;b&gt;foo.sh&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
#!/bin/bash
echo &lt;span class=&quot;code-quote&quot;&gt;&quot;The number of arguments is: $#&quot;&lt;/span&gt; &amp;gt;&amp;gt; ~/log.txt
a=${@}
count=0
&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt; in &lt;span class=&quot;code-quote&quot;&gt;&quot;$@&quot;&lt;/span&gt;
&lt;span class=&quot;code-keyword&quot;&gt;do&lt;/span&gt;
    echo &lt;span class=&quot;code-quote&quot;&gt;&quot;The length of argument &lt;span class=&quot;code-quote&quot;&gt;&apos;$&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt;&apos;&lt;/span&gt; is: ${#&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt;}&quot;&lt;/span&gt; &amp;gt;&amp;gt; ~/log.txt
    (( count++ ))
done
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;#RUN JUnit test from IDE HERE &amp;#8211; look at results&lt;/p&gt;

&lt;p&gt;mac:~ kevin$ cat ~/log.txt&lt;br/&gt;
The number of arguments is: 3&lt;br/&gt;
The length of argument &apos;100&apos; is: 3&lt;br/&gt;
The length of argument &apos;&quot;kevin was here&quot;&apos; is: 16&lt;br/&gt;
The length of argument &apos;three&apos; is: 5&lt;/p&gt;

&lt;p&gt;#Compare with running from command line&lt;br/&gt;
mac:~ kevin$ rm ~/log.txt&lt;br/&gt;
mac:~ kevin$ /Users/kevin/foo.sh 100 &quot;kevin was here&quot; three&lt;br/&gt;
mac:~ kevin$ cat ~/log.txt&lt;br/&gt;
The number of arguments is: 3&lt;br/&gt;
The length of argument &apos;100&apos; is: 3&lt;br/&gt;
The length of argument &apos;kevin was here&apos; is: 14&lt;br/&gt;
The length of argument &apos;three&apos; is: 5&lt;/p&gt;

&lt;p&gt;Notice that the 2nd argument is double quoted in the first run and not in the second&lt;/p&gt;




</comment>
                            <comment id="13907470" author="kbrowncnn" created="Thu, 20 Feb 2014 20:42:24 +0000"  >&lt;p&gt;So it looks like quote handling is messing me up.  And I might have quotes in arg2.  Turning off quote handling gives me what I expect in the log:&lt;/p&gt;

&lt;p&gt;The number of arguments is: 3&lt;br/&gt;
The length of argument &apos;100&apos; is: 3&lt;br/&gt;
The length of argument &apos;kevin was here&apos; is: 14&lt;br/&gt;
The length of argument &apos;three&apos; is: 5&lt;/p&gt;

&lt;p&gt;&amp;lt;sigh&amp;gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@Test
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testExecutor() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {

        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; script=&lt;span class=&quot;code-quote&quot;&gt;&quot;/Users/kevin/foo.sh&quot;&lt;/span&gt;;
        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; arg1=&lt;span class=&quot;code-quote&quot;&gt;&quot;100&quot;&lt;/span&gt;;
        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; arg2=&lt;span class=&quot;code-quote&quot;&gt;&quot;kevin was here&quot;&lt;/span&gt;;
        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; arg3=&lt;span class=&quot;code-quote&quot;&gt;&quot;three&quot;&lt;/span&gt;;

        CommandLine commandLine = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; CommandLine(script);
        commandLine.addArgument(arg1, &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;);
        commandLine.addArgument(arg2, &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;);
        commandLine.addArgument(arg3, &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;);

        DefaultExecutor executor = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DefaultExecutor();
        executor.setExitValues(&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;); &lt;span class=&quot;code-comment&quot;&gt;//check &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; exit values ourselves
&lt;/span&gt;
        &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;cmdLine=&quot;&lt;/span&gt;+ commandLine.toString());
        &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; exitValue = executor.execute(commandLine);
        &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;exitValue=&quot;&lt;/span&gt;+ exitValue);
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13907564" author="b.eckenfels" created="Thu, 20 Feb 2014 21:47:45 +0000"  >&lt;p&gt;Hmm... I think it is a general problem that CommandLine#addArgument quotes the arguments given (and does all kind of magic like removing quotes). Looks to me that using the API with quote=no is the only sane way to use it.&lt;/p&gt;

&lt;p&gt;Not sure if that can be fixed (aka changed) - there are even unit tests which manifest it. The actual launcher should decide if the argument needs special quoting. For a String[] based variant, no quoting is required. Looks like it was planned differently with the (unused) Argument() inner class.&lt;/p&gt;


&lt;p&gt;(and please ignore my lab code, I was under the impression the exec() uses -c, but it was only your work around)&lt;/p&gt;</comment>
                            <comment id="13949133" author="bmesing" created="Thu, 27 Mar 2014 10:37:24 +0000"  >&lt;p&gt;Hello, &lt;/p&gt;

&lt;p&gt;I am encountering the same issue and it is not specific to bash but to Linux in general.&lt;/p&gt;

&lt;p&gt;Example&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-comment&quot;&gt;// code does not work: tries to open: text.txt&quot; (note the extra &lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt; space at the end)
&lt;/span&gt;&lt;span class=&quot;code-comment&quot;&gt;// ps shows: gvim &lt;span class=&quot;code-quote&quot;&gt;&quot;/examplepath/with space/test.txt&quot;&lt;/span&gt; (the &lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt; quotes are wrong here!)
&lt;/span&gt;CommandLine cl = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; CommandLine(&lt;span class=&quot;code-quote&quot;&gt;&quot;gvim&quot;&lt;/span&gt;);
cl.addArgument(&lt;span class=&quot;code-quote&quot;&gt;&quot;/examplepath/with space/test.txt&quot;&lt;/span&gt;);
Executor executor = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DefaultExecutor();
executor.execute(cl);

&lt;span class=&quot;code-comment&quot;&gt;// code does not work (same as above)
&lt;/span&gt;CommandLine cl = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; CommandLine.parse(&lt;span class=&quot;code-quote&quot;&gt;&quot;gvim \&quot;&lt;/span&gt;/examplepath/with space/test.txt\&quot;&quot;);
Executor executor = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DefaultExecutor();
executor.execute(cl);

&lt;span class=&quot;code-comment&quot;&gt;// ok, opens the right file
&lt;/span&gt;&lt;span class=&quot;code-comment&quot;&gt;// ps shows: gvim /examplepath/with space/test.txt
&lt;/span&gt;CommandLine cl = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; CommandLine(&lt;span class=&quot;code-quote&quot;&gt;&quot;gvim&quot;&lt;/span&gt;);
cl.addArgument(&lt;span class=&quot;code-quote&quot;&gt;&quot;/examplepath/with space/test.txt&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;);
Executor executor = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DefaultExecutor();
executor.execute(cl);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;On Windows the same code (i.e. using parse or add argument) does work.&lt;/p&gt;

&lt;p&gt;I am using version 1.2.&lt;/p&gt;

&lt;p&gt;I would vote to raise severity of the issue.&lt;/p&gt;

&lt;p&gt;Best regards&lt;/p&gt;

&lt;p&gt;Ben&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>374499</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 31 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sjbb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>374799</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-82] Losing Single Quotes </title>
                <link>https://issues.apache.org/jira/browse/EXEC-82</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;if I have a single quote at the end of my argument it disappears.  Sometimes one at the beginning disappears as well.  These test cases are not intended to be comprehensive.&lt;/p&gt;


&lt;p&gt; @Test&lt;br/&gt;
    public void testCommandLineQuoting1() &lt;/p&gt;
{
        CommandLine cmdLine = new CommandLine(&quot;foo.sh&quot;);
        cmdLine.addArgument(&quot;12&apos;3&apos;4&quot;);
        assertEquals(&quot;[foo.sh, \&quot;12&apos;3&apos;4\&quot;]&quot;, cmdLine.toString()); //OK

    }

&lt;p&gt;	@Test&lt;br/&gt;
    public void testCommandLineQuoting2() &lt;/p&gt;
{
        CommandLine cmdLine = new CommandLine(&quot;foo.sh&quot;);
        cmdLine.addArgument(&quot;12&apos;3&apos;&quot;);
        assertEquals(&quot;[foo.sh, \&quot;12&apos;3&apos;\&quot;]&quot;, cmdLine.toString());

//Expected :[foo.sh, &quot;12&apos;3&apos;&quot;]
//Actual   :[foo.sh, &quot;12&apos;3&quot;]

	}

&lt;p&gt;    @Test&lt;br/&gt;
    public void testCommandLineQuoting3() &lt;/p&gt;
{
        CommandLine cmdLine = new CommandLine(&quot;foo.sh&quot;);
        cmdLine.addArgument(&quot;&apos;123&apos;&quot;);
        assertEquals(&quot;[foo.sh, \&quot;&apos;123&apos;\&quot;]&quot;, cmdLine.toString());

//Expected :[foo.sh, &quot;&apos;123&apos;&quot;]
//Actual   :[foo.sh, 123]

     }</description>
                <environment>&lt;p&gt;OSX JDK 1.7&lt;/p&gt;</environment>
        <key id="12693204">EXEC-82</key>
            <summary>Losing Single Quotes </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="kbrowncnn">Kevin Brown</reporter>
                        <labels>
                    </labels>
                <created>Tue, 4 Feb 2014 20:19:32 +0000</created>
                <updated>Wed, 19 Feb 2014 17:30:14 +0000</updated>
                                            <version>1.2</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13891621" author="garydgregory" created="Wed, 5 Feb 2014 02:38:36 +0000"  >&lt;p&gt;Please attach your tests as a patch file so we can add them to the code base.&lt;/p&gt;</comment>
                            <comment id="13905717" author="kbrowncnn" created="Wed, 19 Feb 2014 17:30:14 +0000"  >&lt;p&gt;Patch file, as requested&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12629815" name="single_quote_tests.diff" size="1330" author="kbrowncnn" created="Wed, 19 Feb 2014 17:30:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>371790</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 37 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1s2p3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>372091</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-80] NPE in EnvironmentUtils.toString(map)</title>
                <link>https://issues.apache.org/jira/browse/EXEC-80</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;I have drilled down a problem in the above class method which can be checked by using the following unit test:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;	@Test
	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void toStringTest() {
		Map&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;,&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt; map = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; HashMap&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt;();
		map.put(&lt;span class=&quot;code-quote&quot;&gt;&quot;key&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;);
		&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] result = EnvironmentUtils.toStrings(map);
		assertThat(result.length).isEqualTo(1);
	}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The above test will fail with an NullPointerException..as expected, cause the method accesses the key as well as the value by using the following code line:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;result[i] = entry.getKey().toString() + &lt;span class=&quot;code-quote&quot;&gt;&quot;=&quot;&lt;/span&gt; + entry.getValue().toString();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;It should be checked if key and/or value are null. If you would use the following code:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] toStrings(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Map environment) {
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (environment == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
        }
        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] result = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[environment.size()];
        &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; i = 0;
        &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Iterator iter = environment.entrySet().iterator(); iter.hasNext();) {
            &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Map.Entry entry = (Map.Entry) iter.next();

            &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; key  = entry.getKey() == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; ? &quot;&quot; : entry.getKey().toString();
            &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; value = entry.getValue() == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; ? &quot;&quot; : entry.getValue().toString();
            result[i] = key + &lt;span class=&quot;code-quote&quot;&gt;&quot;=&quot;&lt;/span&gt; + value;
            i++;
        }
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; result;
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;it will solve the issue.&lt;/p&gt;</description>
                <environment>&lt;p&gt;all&lt;/p&gt;</environment>
        <key id="12692674">EXEC-80</key>
            <summary>NPE in EnvironmentUtils.toString(map)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ggregory">Gary D. Gregory</assignee>
                                    <reporter username="khmarbaise">Karl Heinz Marbaise</reporter>
                        <labels>
                    </labels>
                <created>Sat, 1 Feb 2014 18:38:32 +0000</created>
                <updated>Thu, 6 Nov 2014 13:38:50 +0000</updated>
                            <resolved>Tue, 4 Feb 2014 05:20:30 +0000</resolved>
                                    <version>1.2</version>
                                    <fixVersion>1.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13888670" author="khmarbaise" created="Sat, 1 Feb 2014 18:53:03 +0000"  >&lt;p&gt;Attached patch with according unit tests based on trunk@1563452&lt;/p&gt;</comment>
                            <comment id="13890393" author="garydgregory" created="Tue, 4 Feb 2014 05:20:30 +0000"  >&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;commit -m &quot;[EXEC-80] NPE in EnvironmentUtils.toString(map)&quot; C:/vcs/svn/apache/commons/trunks-proper/exec/src/main/java/org/apache/commons/exec/environment/EnvironmentUtils.java C:/vcs/svn/apache/commons/trunks-proper/exec/src/test/java/org/apache/commons/exec/environment/EnvironmentUtilsTest.java C:/vcs/svn/apache/commons/trunks-proper/exec/src/changes/changes.xml
    Sending        C:/vcs/svn/apache/commons/trunks-proper/exec/src/changes/changes.xml
    Sending        C:/vcs/svn/apache/commons/trunks-proper/exec/src/main/java/org/apache/commons/exec/environment/EnvironmentUtils.java
    Sending        C:/vcs/svn/apache/commons/trunks-proper/exec/src/test/java/org/apache/commons/exec/environment/EnvironmentUtilsTest.java
    Transmitting file data ...
    Committed revision 1564205.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14200164" author="garydgregory" created="Thu, 6 Nov 2014 13:38:50 +0000"  >&lt;p&gt;Closing: We released version 1.3 today.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12626486" name="EXEC-80.patch" size="2348" author="khmarbaise" created="Sat, 1 Feb 2014 18:53:03 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>371269</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 51 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1rzi7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>371572</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-78] No need to use System.class.getMethod(&quot;getenv&quot;,... any more</title>
                <link>https://issues.apache.org/jira/browse/EXEC-78</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;Now that Exec requires Java 1.5+, there is no need to use reflection to find System.getenv.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12688386">EXEC-78</key>
            <summary>No need to use System.class.getMethod(&quot;getenv&quot;,... any more</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Sat, 11 Jan 2014 10:42:57 +0000</created>
                <updated>Sat, 30 Dec 2023 00:30:26 +0000</updated>
                            <resolved>Sat, 30 Dec 2023 00:30:26 +0000</resolved>
                                                    <fixVersion>1.4.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13868751" author="sebb@apache.org" created="Sat, 11 Jan 2014 11:45:40 +0000"  >&lt;p&gt;Applied fix:&lt;/p&gt;

&lt;p&gt;URL: &lt;a href=&quot;http://svn.apache.org/r1557346&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1557346&lt;/a&gt;&lt;br/&gt;
Log:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/EXEC-78&quot; title=&quot;No need to use System.class.getMethod(&amp;quot;getenv&amp;quot;,... any more&quot; class=&quot;issue-link&quot; data-issue-key=&quot;EXEC-78&quot;&gt;&lt;del&gt;EXEC-78&lt;/del&gt;&lt;/a&gt; No need to use System.class.getMethod(&quot;getenv&quot;,... any more&lt;/p&gt;

&lt;p&gt;Modified:&lt;br/&gt;
    commons/proper/exec/trunk/src/changes/changes.xml&lt;br/&gt;
    commons/proper/exec/trunk/src/main/java/org/apache/commons/exec/environment/DefaultProcessingEnvironment.java&lt;br/&gt;
    commons/proper/exec/trunk/src/main/java/org/apache/commons/exec/environment/OpenVmsProcessingEnvironment.java&lt;/p&gt;

&lt;p&gt;Leaving open, as needs to be tested on various environments&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>367405</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 42 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1rbvj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>367714</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-74] WinNTCommandLauncher shouldn&apos;t handleQuoting when rebuilding the command</title>
                <link>https://issues.apache.org/jira/browse/EXEC-74</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;One can use CommandLine.addArgument(argument, false) to disable quote handling (in my use case, the argument is already properly quoted addArgument(argument, true) just messes it up).&lt;br/&gt;
The problem is that WinNTCommandLauncher recreates the command if the working dir is not null, and in this case forces quoting.&lt;/p&gt;

&lt;p&gt;IMHO, WinNTCommandLauncher should simply assume that the CommandLine has been properly built upstream, and should not try to quote/requote the arguments, and use addArguments(arguments, false)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12640744">EXEC-74</key>
            <summary>WinNTCommandLauncher shouldn&apos;t handleQuoting when rebuilding the command</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="slandelle">St&#233;phane Landelle</reporter>
                        <labels>
                    </labels>
                <created>Thu, 4 Apr 2013 10:52:38 +0000</created>
                <updated>Thu, 4 Apr 2013 10:57:26 +0000</updated>
                            <resolved>Thu, 4 Apr 2013 10:57:26 +0000</resolved>
                                    <version>1.1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="60">1m</timeoriginalestimate>
                            <timeestimate seconds="60">1m</timeestimate>
                                                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>321203</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 30 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1jf5j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>321548</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-73] WinNTCommandLauncher shouldn&apos;t handleQuoting when rebuilding the command</title>
                <link>https://issues.apache.org/jira/browse/EXEC-73</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;One can use CommandLine.addArgument(argument, false) to disable quote handling (in my use case, the argument is already properly quoted addArgument(argument, true) just messes it up).&lt;br/&gt;
The problem is that WinNTCommandLauncher recreates the command if the working dir is not null, and in this case forces quoting.&lt;/p&gt;

&lt;p&gt;IMHO, WinNTCommandLauncher should simply assume that the CommandLine has been properly built upstream, and should not try to quote/requote the arguments, and use addArguments(arguments, false)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12640743">EXEC-73</key>
            <summary>WinNTCommandLauncher shouldn&apos;t handleQuoting when rebuilding the command</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="3" iconUrl="https://issues.apache.org/jira/images/icons/statuses/inprogress.png" description="This issue is being actively worked on at the moment by the assignee.">In Progress</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="sgoeschl">Siegfried Goeschl</assignee>
                                    <reporter username="slandelle">St&#233;phane Landelle</reporter>
                        <labels>
                    </labels>
                <created>Thu, 4 Apr 2013 10:52:21 +0000</created>
                <updated>Mon, 11 Jan 2016 20:36:15 +0000</updated>
                                            <version>1.1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="60">1m</timeoriginalestimate>
                            <timeestimate seconds="60">1m</timeestimate>
                                        <comments>
                            <comment id="15092643" author="sgoeschl" created="Mon, 11 Jan 2016 20:36:15 +0000"  >&lt;p&gt;The patch of &lt;a href=&quot;https://issues.apache.org/jira/browse/EXEC-95&quot; title=&quot;Program not found after setWorkingDirectory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;EXEC-95&quot;&gt;EXEC-95&lt;/a&gt; would also solve this problem&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12905583">EXEC-95</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>321202</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 42 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1jf5b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>321547</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-71] Changes for EXEC-34 (Race condition prevent watchdog working using ExecuteStreamHandler) hang endlessly if the command cannot be found</title>
                <link>https://issues.apache.org/jira/browse/EXEC-71</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;The following test hangs endlessly for me because the ExecuteWatchdog will never get &quot;processStarted = true&quot; because starting an non-existing process will never lead to the started flag.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@Test
	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testCommonsExecHang() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
        CommandLine command = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; CommandLine(&lt;span class=&quot;code-quote&quot;&gt;&quot;someunexistingcommand&quot;&lt;/span&gt;);
        DefaultExecutor executor = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DefaultExecutor();

        ExecuteWatchdog watchdog = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ExecuteWatchdog(ExecuteWatchdog.INFINITE_TIMEOUT);
        executor.setWatchdog(watchdog);

        DefaultExecuteResultHandler resultHandler = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DefaultExecuteResultHandler() {
			@Override
			&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void onProcessFailed(ExecuteException e) {
		        &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-object&quot;&gt;Process&lt;/span&gt; did not stop gracefully, had exception &lt;span class=&quot;code-quote&quot;&gt;&apos;&quot;&lt;/span&gt; + e.getMessage() + &lt;span class=&quot;code-quote&quot;&gt;&quot;&apos;&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; executing process&quot;&lt;/span&gt;);
				&lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;.onProcessFailed(e);
			}
        };

        executor.execute(command, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, resultHandler);

        &lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; hangs!!
&lt;/span&gt;        watchdog.isWatching();

        watchdog.destroyProcess();
	}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;not calling isWatching(), but only destroyProcess() hangs as well!&lt;/p&gt;

&lt;p&gt;Options that I see: timeout the loop or handle the case of failure to start the Watchdog in DefaultExecutor.executeInternal() so that the Watchdog does not hang in this case&lt;/p&gt;</description>
                <environment></environment>
        <key id="12623058">EXEC-71</key>
            <summary>Changes for EXEC-34 (Race condition prevent watchdog working using ExecuteStreamHandler) hang endlessly if the command cannot be found</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sgoeschl">Siegfried Goeschl</assignee>
                                    <reporter username="dominik.stadler@gmx.at">Dominik Stadler</reporter>
                        <labels>
                            <label>patch</label>
                    </labels>
                <created>Sun, 9 Dec 2012 17:58:44 +0000</created>
                <updated>Sat, 9 Jan 2016 17:27:15 +0000</updated>
                            <resolved>Wed, 6 Jan 2016 09:39:02 +0000</resolved>
                                    <version>1.2</version>
                                    <fixVersion>1.4.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15083140" author="sgoeschl" created="Tue, 5 Jan 2016 14:33:41 +0000"  >&lt;p&gt;Wrote a patch where DefaultExecutor notifies the WatchDog that there will never anything to watch&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="12411695">EXEC-34</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10431"><![CDATA[Important]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>296650</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 43 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i14e3z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>233749</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-69] DefaultExecutor async execute prevents shutdown hooks running</title>
                <link>https://issues.apache.org/jira/browse/EXEC-69</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;The DefaultExecutor asynchronous execute methods create a user-level thread to monitor the process it starts. This prevents shutdown hooks - like the one in ShutdownHookProcessDestroyer - from running. This makes these two classes incompatible.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12614683">EXEC-69</key>
            <summary>DefaultExecutor async execute prevents shutdown hooks running</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="richarda">Richard Atkins</reporter>
                        <labels>
                    </labels>
                <created>Sun, 4 Nov 2012 04:54:56 +0000</created>
                <updated>Wed, 23 Jul 2014 23:22:53 +0000</updated>
                            <resolved>Wed, 23 Jul 2014 23:22:53 +0000</resolved>
                                    <version>1.1</version>
                                    <fixVersion>1.3</fixVersion>
                                        <due></due>
                            <votes>3</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="13490142" author="richarda" created="Sun, 4 Nov 2012 05:12:10 +0000"  >&lt;p&gt;The simplest fix is to let a ShutdownHookProcessDestroyer do its job is to set the asynchronous executors&apos; thread to be a daemon thread, although I don&apos;t believe that&apos;s a blanket solution for all async exec use cases. Sometimes callers really don&apos;t want to exit unless the child process is already done (and the result handler has finished handling the result).&lt;/p&gt;

&lt;p&gt;The answer lies in pushing that decision back on the caller - they either configure their own thread factory (assuming &lt;a href=&quot;https://issues.apache.org/jira/browse/EXEC-70&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/EXEC-70&lt;/a&gt; is implemented) to choose if the threads should be user level or daemon level, or we do it for them, based on whether there&apos;s a process destroyer registered.&lt;/p&gt;

&lt;p&gt;The recent change on trunk to use a createThread factory method gets us part of the way there for either solution.&lt;/p&gt;</comment>
                            <comment id="13490458" author="richarda" created="Mon, 5 Nov 2012 05:19:40 +0000"  >&lt;p&gt;Attached is a very simple fix for this: it&apos;s a subclass of DefaultExecutor that creates daemon threads in the createThread() factory method. Library users will have to select this class, rather than DefaultExecutor, in order to take advantage of it.&lt;/p&gt;</comment>
                            <comment id="13866544" author="barancev" created="Thu, 9 Jan 2014 11:02:06 +0000"  >&lt;p&gt;Any chance this issue will be fixed soon?&lt;/p&gt;</comment>
                            <comment id="14072472" author="vorburger" created="Wed, 23 Jul 2014 22:35:03 +0000"  >&lt;p&gt;Hello! I&apos;ve just hit this problem as well... &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; +1 for fixing this, and releasing a commons-exec 1.3! Background of context I ran into this is in &lt;a href=&quot;https://github.com/vorburger/MariaDB4j/issues/12&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/vorburger/MariaDB4j/issues/12&lt;/a&gt;, in case anyone is interested (part of my &lt;a href=&quot;https://github.com/vorburger/MariaDB4j&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/vorburger/MariaDB4j&lt;/a&gt; mySQL embedder - shameless plug).&lt;/p&gt;

&lt;p&gt;Also note how in &lt;a href=&quot;https://github.com/vorburger/MariaDB4j/blob/c05ec7650afee823f505a530c75945f7e008c54e/src/main/java/ch/vorburger/exec/BetterExecutor.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/vorburger/MariaDB4j/blob/c05ec7650afee823f505a530c75945f7e008c54e/src/main/java/ch/vorburger/exec/BetterExecutor.java&lt;/a&gt; I&apos;ve used Thread t = super.createThread(runnable, name); instead of new Thread(runnable, name); as in attached DaemonExecutor.java (thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=richarda&quot; class=&quot;user-hover&quot; rel=&quot;richarda&quot;&gt;richarda&lt;/a&gt;!) - just in the (unlikely, yes) case that a newer commons-exec does anything else in there (like set a more suitable Thread name, perhaps?).&lt;/p&gt;</comment>
                            <comment id="14072533" author="garydgregory" created="Wed, 23 Jul 2014 23:22:53 +0000"  >&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;commit -m &quot;[EXEC-69] DefaultExecutor async execute prevents shutdown hooks running.&quot; C:/vcs/svn/apache/commons/trunks-proper/exec/src/main/java/org/apache/commons/exec/DaemonExecutor.java C:/vcs/svn/apache/commons/trunks-proper/exec/src/changes/changes.xml
    Sending        C:/vcs/svn/apache/commons/trunks-proper/exec/src/changes/changes.xml
    Adding         C:/vcs/svn/apache/commons/trunks-proper/exec/src/main/java/org/apache/commons/exec/DaemonExecutor.java
    Transmitting file data ...
    Committed revision 1612971.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310040">
                    <name>Required</name>
                                            <outwardlinks description="requires">
                                        <issuelink>
            <issuekey id="12688212">EXEC-76</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12552062" name="DaemonExecutor.java" size="1544" author="richarda" created="Mon, 5 Nov 2012 05:19:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>255105</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 15 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ep33:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>83826</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-68] Watchdog kills process immediately if timeout is too large</title>
                <link>https://issues.apache.org/jira/browse/EXEC-68</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;When using the ExecuteWatchdog with a very large timeout (e.g., Long.MAX_VALUE), the Watchdog immediately destroys the process instead of waiting for the duration of the timeout. For example, the following code snippet would continue immediately:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;DefaultExecutor executor = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DefaultExecutor();
ExecuteWatchdog watchdog = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ExecuteWatchdog(&lt;span class=&quot;code-object&quot;&gt;Long&lt;/span&gt;.MAX_VALUE);
executor.setWatchdog(watchdog);

executor.execute(cmd); &lt;span class=&quot;code-comment&quot;&gt;// Where `cmd` could be any valid command.&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;Should exist for all platforms, but specifically identified on Windows 7.&lt;/p&gt;</environment>
        <key id="12612998">EXEC-68</key>
            <summary>Watchdog kills process immediately if timeout is too large</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jmccance">Joel McCance</reporter>
                        <labels>
                    </labels>
                <created>Mon, 22 Oct 2012 17:04:15 +0000</created>
                <updated>Sat, 28 Dec 2013 18:23:05 +0000</updated>
                            <resolved>Mon, 22 Oct 2012 19:22:02 +0000</resolved>
                                    <version>1.1</version>
                    <version>1.2</version>
                                    <fixVersion>1.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13481509" author="jmccance" created="Mon, 22 Oct 2012 17:08:22 +0000"  >&lt;p&gt;Bug is a result of the current timeout polling loop relying on being able to add the current system time to the timeout without it overflowing. With very large timeout values, the sum of these two items overflows, so the polling loop exits immediately.&lt;/p&gt;

&lt;p&gt;Attached patch changes behavior of Watchdog#run() so that it does not have to add the current millis time to the timeout, as well as a regression test for DefaultExecutorTest to reproduce the bug should it recur.&lt;/p&gt;</comment>
                            <comment id="13481520" author="jmccance" created="Mon, 22 Oct 2012 17:17:06 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; refers to this exact issue in &lt;a href=&quot;https://issues.apache.org/jira/browse/EXEC-44?focusedCommentId=12869589&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12869589&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;this&lt;/a&gt; comment on &lt;a href=&quot;https://issues.apache.org/jira/browse/EXEC-44&quot; title=&quot;ExecuteWatchdog should accept infinite timeouts (argument -1)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;EXEC-44&quot;&gt;&lt;del&gt;EXEC-44&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13481685" author="garydgregory" created="Mon, 22 Oct 2012 19:22:02 +0000"  >&lt;p&gt;commit -m &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/EXEC-68&quot; title=&quot;Watchdog kills process immediately if timeout is too large&quot; class=&quot;issue-link&quot; data-issue-key=&quot;EXEC-68&quot;&gt;&lt;del&gt;EXEC-68&lt;/del&gt;&lt;/a&gt; Watchdog kills process immediately if timeout is too large.&quot; C:/svn/org/apache/commons/trunks-proper/exec/src/test/java/org/apache/commons/exec/DefaultExecutorTest.java C:/svn/org/apache/commons/trunks-proper/exec/src/main/java/org/apache/commons/exec/Watchdog.java C:/svn/org/apache/commons/trunks-proper/exec/src/changes/changes.xml&lt;br/&gt;
    Sending        C:/svn/org/apache/commons/trunks-proper/exec/src/changes/changes.xml&lt;br/&gt;
    Sending        C:/svn/org/apache/commons/trunks-proper/exec/src/main/java/org/apache/commons/exec/Watchdog.java&lt;br/&gt;
    Sending        C:/svn/org/apache/commons/trunks-proper/exec/src/test/java/org/apache/commons/exec/DefaultExecutorTest.java&lt;br/&gt;
    Transmitting file data ...&lt;br/&gt;
    Committed revision 1401016.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12441891">EXEC-44</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12550312" name="EXEC-68.patch" size="2677" author="jmccance" created="Mon, 22 Oct 2012 17:08:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>250371</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 2 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0axy7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>61773</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-67] Shell (-c) command execution - fire and forget</title>
                <link>https://issues.apache.org/jira/browse/EXEC-67</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;I am attempting to &apos;fire and forget&apos; a process.  Using java ProcessBuilder I can do this as follows:&lt;/p&gt;

&lt;p&gt;ProcessBuilder pb = new ProcessBuilder(&quot;sh&quot;, &quot;-c&quot;, &quot;nohup ping -c 20 localhost &amp;gt; /dev/null 2&amp;gt;&amp;amp;1 &amp;amp;&quot;);&lt;br/&gt;
...&lt;/p&gt;

&lt;p&gt;Running using Commons Exec I get the following error:&lt;/p&gt;

&lt;p&gt;sh: nohup ping -c 20 localhost &amp;gt; /dev/null 2&amp;gt;&amp;amp;1 &amp;amp;: No such file or directory&lt;/p&gt;

&lt;p&gt;The stripped down code is as follows:&lt;/p&gt;

&lt;p&gt;        ...&lt;br/&gt;
        DefaultExecuteResultHandler resultHandler = new DefaultExecuteResultHandler();&lt;br/&gt;
        PumpStreamHandler psh = new PumpStreamHandler(logHandler);&lt;br/&gt;
        CommandLine cl = CommandLine.parse(&quot;sh&quot;);&lt;br/&gt;
        cl.addArgument(&quot;-c&quot;);&lt;br/&gt;
        cl.addArgument(&quot;nohup ping -c 20 localhost &amp;gt; /dev/null 2&amp;gt;&amp;amp;1 &amp;amp;&quot;);&lt;br/&gt;
        DefaultExecutor exec = new DefaultExecutor();&lt;br/&gt;
        mWatchDog = new ExecuteWatchdog(ExecuteWatchdog.INFINITE_TIMEOUT);&lt;br/&gt;
        exec.setStreamHandler(psh);&lt;br/&gt;
        exec.setWatchdog(mWatchDog);&lt;br/&gt;
        exec.execute(cl, resultHandler);&lt;br/&gt;
        ...&lt;/p&gt;

</description>
                <environment>&lt;p&gt;OS: Mac OS X 10.7.4&lt;br/&gt;
Java version: &quot;1.6.0_35&quot;&lt;/p&gt;</environment>
        <key id="12609028">EXEC-67</key>
            <summary>Shell (-c) command execution - fire and forget</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="trisport88">Stuart Broad</reporter>
                        <labels>
                            <label>-c</label>
                            <label>sh</label>
                    </labels>
                <created>Tue, 25 Sep 2012 12:55:30 +0000</created>
                <updated>Fri, 28 Sep 2012 20:22:04 +0000</updated>
                            <resolved>Tue, 25 Sep 2012 16:36:49 +0000</resolved>
                                    <version>1.1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13462931" author="sebb@apache.org" created="Tue, 25 Sep 2012 16:36:49 +0000"  >&lt;p&gt;JIRA is not a support forum.&lt;/p&gt;

&lt;p&gt;Please subscribe to the Commons user list and ask there.&lt;/p&gt;</comment>
                            <comment id="13465876" author="trisport88" created="Fri, 28 Sep 2012 20:22:04 +0000"  >&lt;p&gt;Posted on the Commons user list but had no response (waited 4 days).  If anyone else is interested in the solution to this issue - Java ProcessBuilder works fine.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>293707</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 5 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tp5j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>171384</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-65] Watchdog can&apos;t destroy &apos;sudo&apos; and &apos;sleep&apos;</title>
                <link>https://issues.apache.org/jira/browse/EXEC-65</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;I want to run a command from a shell script with make sure the process will be destroyed after a timeout, especially if it asks for user input or contains sleep commands.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;Java&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;DefaultExecutor executor = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DefaultExecutor();
executor.setStreamHandler(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PumpStreamHandler(&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out, &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.err));
ExecuteWatchdog watchDog = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ExecuteWatchdog(3000);
executor.setWatchdog(watchDog);
CommandLine command = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; CommandLine(&lt;span class=&quot;code-quote&quot;&gt;&quot;./client.sh&quot;&lt;/span&gt;);
&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; exitValue = executor.execute(command);
&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(exitValue);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I run this code on the server like this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java -cp .:commons-exec-1.1.jar App
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;b&gt;Problem 1.&lt;/b&gt; I want to run &lt;tt&gt;sudo&lt;/tt&gt; in order to execute a script as a different user:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;client.sh&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;#!/bin/bash
sudo -u occ02 /apps/occ02/catalina_base/bin/restart-occ.sh
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;In case of a misconfiguration of &lt;tt&gt;/etc/sudoers&lt;/tt&gt; this prompts me for a password.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Password:
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;And terminates only after about 5 minutes, not 3 seconds:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Exception in thread &lt;span class=&quot;code-quote&quot;&gt;&quot;main&quot;&lt;/span&gt; org.apache.commons.exec.ExecuteException: &lt;span class=&quot;code-object&quot;&gt;Process&lt;/span&gt; exited with an error: 143 (Exit value: 143)
        at org.apache.commons.exec.DefaultExecutor.executeInternal(DefaultExecutor.java:377)
        at org.apache.commons.exec.DefaultExecutor.execute(DefaultExecutor.java:160)
        at org.apache.commons.exec.DefaultExecutor.execute(DefaultExecutor.java:147)
        at App.destroy2(App.java:51)
        at App.main(App.java:21)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Only if I use the &lt;tt&gt;sudo -S ...&lt;/tt&gt; the process is killed after about 4 seconds:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Password:
Exception in thread &lt;span class=&quot;code-quote&quot;&gt;&quot;main&quot;&lt;/span&gt; org.apache.commons.exec.ExecuteException: &lt;span class=&quot;code-object&quot;&gt;Process&lt;/span&gt; exited with an error: 1 (Exit value: 1)
        at org.apache.commons.exec.DefaultExecutor.executeInternal(DefaultExecutor.java:377)
        at org.apache.commons.exec.DefaultExecutor.execute(DefaultExecutor.java:160)
        at org.apache.commons.exec.DefaultExecutor.execute(DefaultExecutor.java:147)
        at App.destroy2(App.java:51)
        at App.main(App.java:21)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;b&gt;Problem 2.&lt;/b&gt; I want to prevent a too long &lt;tt&gt;sleep&lt;/tt&gt;:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;client.sh&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;#!/bin/bash
sleep 900
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The Process just hangs! After 15 minutes the process terminates with this error:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Exception in thread &lt;span class=&quot;code-quote&quot;&gt;&quot;main&quot;&lt;/span&gt; org.apache.commons.exec.ExecuteException: &lt;span class=&quot;code-object&quot;&gt;Process&lt;/span&gt; exited with an error: 143 (Exit value: 143)
        at org.apache.commons.exec.DefaultExecutor.executeInternal(DefaultExecutor.java:377)
        at org.apache.commons.exec.DefaultExecutor.execute(DefaultExecutor.java:160)
        at org.apache.commons.exec.DefaultExecutor.execute(DefaultExecutor.java:147)
        at App.destroy2(App.java:51)
        at App.main(App.java:21)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If I run the &lt;tt&gt;sleep&lt;/tt&gt; command directly from within Java without the shell-script, the process is destroyed on time:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;DefaultExecutor executor = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DefaultExecutor();
executor.setStreamHandler(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PumpStreamHandler(&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out, &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.err));
ExecuteWatchdog watchDog = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ExecuteWatchdog(3000);
executor.setWatchdog(watchDog);
CommandLine command = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; CommandLine(&lt;span class=&quot;code-quote&quot;&gt;&quot;sleep&quot;&lt;/span&gt;);
command.addArgument(&lt;span class=&quot;code-quote&quot;&gt;&quot;900&quot;&lt;/span&gt;);
&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; exitValue = executor.execute(command);
&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(exitValue);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Exception in thread &lt;span class=&quot;code-quote&quot;&gt;&quot;main&quot;&lt;/span&gt; org.apache.commons.exec.ExecuteException: &lt;span class=&quot;code-object&quot;&gt;Process&lt;/span&gt; exited with an error: 143 (Exit value: 143)
        at org.apache.commons.exec.DefaultExecutor.executeInternal(DefaultExecutor.java:377)
        at org.apache.commons.exec.DefaultExecutor.execute(DefaultExecutor.java:160)
        at org.apache.commons.exec.DefaultExecutor.execute(DefaultExecutor.java:147)
        at App.destroy4(App.java:67)
        at App.main(App.java:23)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The problems were not visible when I tested on my development machine with Windows 7 64bit and JDK 1.6.0_25, 64bit. But now these issues are a serious barrier for using commons-exec in production.&lt;/p&gt;

&lt;p&gt;Btw, with the &lt;tt&gt;ProcessBuilder&lt;/tt&gt; from the JDK the process is destroyed in both cases:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ProcessBuilder builder = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ProcessBuilder(&lt;span class=&quot;code-quote&quot;&gt;&quot;./client.sh&quot;&lt;/span&gt;);
&lt;span class=&quot;code-object&quot;&gt;Process&lt;/span&gt; process = builder.start();
&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.sleep(3000);
process.destroy();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Best regards,&lt;br/&gt;
Rusi&lt;/p&gt;</description>
                <environment>&lt;p&gt;RedHat Enterprise Linux 64bit, JDK 1.6.0_25 64bit.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;$ uname -a
Linux demo-vrs1-happdb1.lts.stgt.vrs.cust.disy.net 2.6.9-42.ELsmp #1 SMP Wed Jul 12 23:27:17 EDT 2006 i686 i686 i386 GNU/Linux
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;$ java -version
java version &lt;span class=&quot;code-quote&quot;&gt;&quot;1.6.0_25&quot;&lt;/span&gt;
Java(TM) SE &lt;span class=&quot;code-object&quot;&gt;Runtime&lt;/span&gt; Environment (build 1.6.0_25-b06)
Java HotSpot(TM) Server VM (build 20.0-b11, mixed mode)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</environment>
        <key id="12548024">EXEC-65</key>
            <summary>Watchdog can&apos;t destroy &apos;sudo&apos; and &apos;sleep&apos;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="4" iconUrl="https://issues.apache.org/jira/images/icons/statuses/reopened.png" description="This issue was once resolved, but the resolution was deemed incorrect. From here issues are either marked assigned or resolved.">Reopened</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="sgoeschl">Siegfried Goeschl</assignee>
                                    <reporter username="rfilipov">Rusi Filipov</reporter>
                        <labels>
                    </labels>
                <created>Sun, 25 Mar 2012 18:28:56 +0000</created>
                <updated>Tue, 29 May 2018 12:58:34 +0000</updated>
                                            <version>1.1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="15081389" author="sgoeschl" created="Mon, 4 Jan 2016 17:11:07 +0000"  >&lt;p&gt;Wrote a few tests but I&apos;m unable to reproduce the problem &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15085379" author="sgoeschl" created="Wed, 6 Jan 2016 10:31:05 +0000"  >&lt;p&gt;The joy of different OS - works nicely on Mac OS X but fails on Ubuntu&lt;/p&gt;</comment>
                            <comment id="16387560" author="owaeld" created="Tue, 6 Mar 2018 10:08:16 +0000"  >&lt;p&gt;I experienced same problem on Ubuntu. However, it seems that using a noop ExecuteStreamHandler at least allows one to terminate the process. In my case, it took about 45 seconds until the process was terminated. When using the PumpStreamHandler, the process was not terminated at all.&lt;/p&gt;

&lt;p&gt;The underlying problems seems to be the StreamPumper, which continously reads from process stdout, without checking if bytes are available. This seems to prevent termination of the process, which in turn might also be a bug in the jdk. However, to fix this issue, StreamPumper should check if bytes are available before reading.&lt;/p&gt;</comment>
                            <comment id="16493300" author="ghilainm@gmail.com" created="Tue, 29 May 2018 09:35:17 +0000"  >&lt;p&gt;Same problem here.&#160;Do you have any idea on how to fix such issue?&lt;br/&gt;
&lt;b&gt;Version&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;dependency&amp;gt;&lt;br/&gt;
 &amp;lt;groupId&amp;gt;org.zeroturnaround&amp;lt;/groupId&amp;gt;&lt;br/&gt;
 &amp;lt;artifactId&amp;gt;zt-exec&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
 &amp;lt;version&amp;gt;1.10&amp;lt;/version&amp;gt;&lt;br/&gt;
 &amp;lt;scope&amp;gt;test&amp;lt;/scope&amp;gt;&lt;br/&gt;
&amp;lt;/dependency&amp;gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16493331" author="owaeld" created="Tue, 29 May 2018 10:15:00 +0000"  >&lt;p&gt;Further investigation has shown, that the following approaches can be treated as stable:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Run the target executable with s-bit set&lt;/li&gt;
	&lt;li&gt;Run the java program with root user (don&#8217;t use sudo)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;In both approaches the executable can be terminated in a stable way. Using sudo execution doesn&#8217;t always produce expected results (depending on the executable the processes keep running).&lt;/p&gt;</comment>
                            <comment id="16493506" author="ghilainm@gmail.com" created="Tue, 29 May 2018 12:58:34 +0000"  >&lt;p&gt;I am not executing with sudo neither root user.&lt;/p&gt;

&lt;p&gt;I am just running a script which does: sleep 10d.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12780347" name="EXEC_65.patch" size="7382" author="sgoeschl" created="Mon, 4 Jan 2016 17:11:32 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>233121</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 22 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i19xzb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>266139</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-64] DefaultExecutor swallows IOException cause instead of propagating it</title>
                <link>https://issues.apache.org/jira/browse/EXEC-64</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;DefaultExecutor line 372 does:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;                } catch (Exception e) {
                    throw new IOException(e.getMessage());
                }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;when it may be better to do:&lt;/p&gt;


&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;                } catch (Exception e) {
                    throw new IOException(e.getMessage(), e);
                }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This didn&apos;t cause any real issues for me - I just came across it as I was browsing the Commons Exec source, in the context of implementing a launch helper (BTW: see &lt;a href=&quot;https://github.com/vorburger/MariaDB4j/blob/master/src/main/java/ch/vorburger/exec/ManagedProcess.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/vorburger/MariaDB4j/blob/master/src/main/java/ch/vorburger/exec/ManagedProcess.java&lt;/a&gt; - would that, once further cleaned-up, potentially be something of any interest to you for integration into Commons Exec?).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12546898">EXEC-64</key>
            <summary>DefaultExecutor swallows IOException cause instead of propagating it</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="vorburger">Michael Vorburger</reporter>
                        <labels>
                    </labels>
                <created>Sat, 17 Mar 2012 11:20:04 +0000</created>
                <updated>Thu, 21 Jan 2016 16:43:24 +0000</updated>
                            <resolved>Sat, 9 Jan 2016 16:50:31 +0000</resolved>
                                    <version>1.3</version>
                                    <fixVersion>1.4.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13425998" author="roti" created="Tue, 31 Jul 2012 18:31:52 +0000"  >&lt;p&gt;I made the change, ran the tests, everything is ok.&lt;/p&gt;</comment>
                            <comment id="15090530" author="sgoeschl" created="Sat, 9 Jan 2016 09:55:42 +0000"  >&lt;p&gt;Checked the documentation and&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; IOException(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; message, Throwable cause)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;was added with JDK 1.6 but we are currently supporting 1.5+&lt;/p&gt;</comment>
                            <comment id="15090689" author="sebb@apache.org" created="Sat, 9 Jan 2016 16:49:38 +0000"  >&lt;p&gt;It&apos;s still possible to provide the cause&lt;/p&gt;</comment>
                            <comment id="15090690" author="sebb@apache.org" created="Sat, 9 Jan 2016 16:50:31 +0000"  >&lt;p&gt;URL: &lt;a href=&quot;http://svn.apache.org/viewvc?rev=1723863&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?rev=1723863&amp;amp;view=rev&lt;/a&gt;&lt;br/&gt;
Log:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/EXEC-64&quot; title=&quot;DefaultExecutor swallows IOException cause instead of propagating it&quot; class=&quot;issue-link&quot; data-issue-key=&quot;EXEC-64&quot;&gt;&lt;del&gt;EXEC-64&lt;/del&gt;&lt;/a&gt;  DefaultExecutor swallows IOException cause instead of propagating it&lt;br/&gt;
(work-round for Java 1.5)&lt;/p&gt;

&lt;p&gt;Modified:&lt;br/&gt;
    commons/proper/exec/trunk/src/changes/changes.xml&lt;br/&gt;
    commons/proper/exec/trunk/src/main/java/org/apache/commons/exec/DefaultExecutor.java&lt;/p&gt;</comment>
                            <comment id="15110878" author="vorburger" created="Thu, 21 Jan 2016 16:43:24 +0000"  >&lt;p&gt;Thanks. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sebb%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;sebb@apache.org&quot;&gt;sebb@apache.org&lt;/a&gt; nice one how to still provide the cause using initCause() even on &amp;lt; 1.6!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12538591" name="exec-64.patch" size="1614" author="roti" created="Tue, 31 Jul 2012 18:31:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>232056</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 40 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i19xzj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>266140</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-63] Race condition in DefaultExecutor#execute(cmd, handler)</title>
                <link>https://issues.apache.org/jira/browse/EXEC-63</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;&lt;tt&gt;DefaultExecutor#execute(CommandLine, ExecuteResultHandler)&lt;/tt&gt; can, and usually does, return before the target process has actually started.  This can result in a race condition where several asynchronous processes are coupled by &lt;tt&gt;PipedInputStream&lt;/tt&gt;/&lt;tt&gt;PipedOutputStream&lt;/tt&gt; objects.&lt;/p&gt;

&lt;p&gt;The following example shows the issue:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;border-bottom-style: solid;&quot;&gt;&lt;b&gt;Borken.java&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.io.*;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.commons.exec.*;

&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;Borken {
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; pipe(OutputStream out, OutputStream err, InputStream in, CommandLine cmd0, CommandLine cmd1)
      &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
    PipedInputStream pipeIn = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PipedInputStream();
    PipedOutputStream pipeOut = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PipedOutputStream(pipeIn);
    DefaultExecutor exec0 = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DefaultExecutor();
    exec0.setStreamHandler(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PumpStreamHandler(pipeOut, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, in));
    exec0.execute(cmd0, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DefaultExecuteResultHandler());
    
    &lt;span class=&quot;code-comment&quot;&gt;// If the following line is commented, deadlock occurs
&lt;/span&gt;    &lt;span class=&quot;code-comment&quot;&gt;//&lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; { &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.sleep(100); } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (InterruptedException e) { }
&lt;/span&gt;
    DefaultExecutor exec1 = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DefaultExecutor();
    exec1.setStreamHandler(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PumpStreamHandler(out, err, pipeIn));
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; exec1.execute(cmd1);
  }
  
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void main(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;... args) {
    CommandLine cmd0 = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; CommandLine(&lt;span class=&quot;code-quote&quot;&gt;&quot;cmd&quot;&lt;/span&gt;).addArgument(&lt;span class=&quot;code-quote&quot;&gt;&quot;/c&quot;&lt;/span&gt;).addArgument(&lt;span class=&quot;code-quote&quot;&gt;&quot;dir&quot;&lt;/span&gt;);
    &lt;span class=&quot;code-comment&quot;&gt;//CommandLine cmd0 = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; CommandLine(&lt;span class=&quot;code-quote&quot;&gt;&quot;ls&quot;&lt;/span&gt;).addArgument(&lt;span class=&quot;code-quote&quot;&gt;&quot;-l&quot;&lt;/span&gt;);
&lt;/span&gt;    CommandLine cmd1 = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; CommandLine(&lt;span class=&quot;code-quote&quot;&gt;&quot;sort&quot;&lt;/span&gt;);
    ByteArrayOutputStream out = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ByteArrayOutputStream();
    ByteArrayOutputStream err = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ByteArrayOutputStream();
    ByteArrayInputStream in = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ByteArrayInputStream(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[0]);
    &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
      &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; result = pipe(out, err, in, cmd0, cmd1);
      &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.format(&lt;span class=&quot;code-quote&quot;&gt;&quot;Result code: %d%n&quot;&lt;/span&gt;, result);
      &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.format(&lt;span class=&quot;code-quote&quot;&gt;&quot;Out: %s%n&quot;&lt;/span&gt;, out.toString());
    } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (Exception e) {
      e.printStackTrace();
    }
  }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;One possible solution is to pass in a semaphore object into &lt;tt&gt;DefaultExecutor#executeInternal&lt;/tt&gt; which is notified once the process is started.  The &lt;tt&gt;execute(CommandLine, Map, ExecuteResultHandler)&lt;/tt&gt; method can then wait on this before returning.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows 7/64 bit, JDK 1.6.0_27&lt;/p&gt;</environment>
        <key id="12543770">EXEC-63</key>
            <summary>Race condition in DefaultExecutor#execute(cmd, handler)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="msandiford">Martin Sandiford</reporter>
                        <labels>
                            <label>deadlock</label>
                    </labels>
                <created>Thu, 23 Feb 2012 00:21:38 +0000</created>
                <updated>Thu, 20 Nov 2014 11:13:06 +0000</updated>
                                            <version>1.1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="86400">24h</timeoriginalestimate>
                            <timeestimate seconds="86400">24h</timeestimate>
                                        <comments>
                            <comment id="13217795" author="msandiford" created="Tue, 28 Feb 2012 01:23:52 +0000"  >&lt;p&gt;Patch for test case from &lt;a href=&quot;https://github.com/msandiford/commons-exec&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/msandiford/commons-exec&lt;/a&gt; commit 4c2f449dd5605975d38a2c686dec3c00b7414eee&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;border-bottom-style: solid;&quot;&gt;&lt;b&gt;test-case.diff&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;--- a/src/test/java/org/apache/commons/exec/DefaultExecutorTest.java
+++ b/src/test/java/org/apache/commons/exec/DefaultExecutorTest.java
@@ -1094,6 +1094,49 @@ &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;DefaultExecutorTest &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; TestCase {
         assertTrue(&lt;span class=&quot;code-quote&quot;&gt;&quot;Not a single process was killed by the watch dog&quot;&lt;/span&gt;, watchdogKilledProcessCounter &amp;gt; 0);
     }

+
+    /**
+     * Test EXEC-63 (https:&lt;span class=&quot;code-comment&quot;&gt;//issues.apache.org/jira/browse/EXEC-63).
&lt;/span&gt;+     *
+     * Frequent deadlock when constructing a command pipe chain.
+     * Please note that a successful test is no proof that the issues was fixed.
+     *
+     * @&lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException the test failed
+     */
+    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testExec_63() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
+        CommandLine cmd0;
+        CommandLine cmd1;
+        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (OS.isFamilyUnix()) {
+            cmd0 = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; CommandLine(&lt;span class=&quot;code-quote&quot;&gt;&quot;ls&quot;&lt;/span&gt;).addArgument(&lt;span class=&quot;code-quote&quot;&gt;&quot;-l&quot;&lt;/span&gt;);
+            cmd1 = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; CommandLine(&lt;span class=&quot;code-quote&quot;&gt;&quot;sort&quot;&lt;/span&gt;);
+        } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (OS.isFamilyWindows()) {
+            cmd0 = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; CommandLine(&lt;span class=&quot;code-quote&quot;&gt;&quot;cmd&quot;&lt;/span&gt;).addArgument(&lt;span class=&quot;code-quote&quot;&gt;&quot;/c&quot;&lt;/span&gt;).addArgument(&lt;span class=&quot;code-quote&quot;&gt;&quot;dir&quot;&lt;/span&gt;);
+            cmd1 = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; CommandLine(&lt;span class=&quot;code-quote&quot;&gt;&quot;sort&quot;&lt;/span&gt;);
+        } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
+            &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.err.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;The test &lt;span class=&quot;code-quote&quot;&gt;&apos;testExec_63&apos;&lt;/span&gt; does not support the following OS : &quot;&lt;/span&gt; + &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.getProperty(&lt;span class=&quot;code-quote&quot;&gt;&quot;os.name&quot;&lt;/span&gt;));
+            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt;;
+        }
+        ByteArrayOutputStream out = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ByteArrayOutputStream();
+        ByteArrayOutputStream err = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ByteArrayOutputStream();
+        ByteArrayInputStream in = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ByteArrayInputStream(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[0]);
+        PipedInputStream pipeIn = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PipedInputStream();
+        PipedOutputStream pipeOut = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PipedOutputStream(pipeIn);
+        DefaultExecutor exec0 = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DefaultExecutor();
+        ExecuteWatchdog watchdog0 = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ExecuteWatchdog(5000);
+        exec0.setWatchdog(watchdog0);
+        exec0.setStreamHandler(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PumpStreamHandler(pipeOut, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, in));
+        exec0.execute(cmd0, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DefaultExecuteResultHandler());
+
+        DefaultExecutor exec1 = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DefaultExecutor();
+        ExecuteWatchdog watchdog1 = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ExecuteWatchdog(5000);
+        exec1.setWatchdog(watchdog1);
+        exec1.setStreamHandler(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PumpStreamHandler(out, err, pipeIn));
+        &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; result = exec1.execute(cmd1);
+        assertTrue(&lt;span class=&quot;code-quote&quot;&gt;&quot;Command exited with status 0&quot;&lt;/span&gt;, result == 0);
+        assertTrue(&lt;span class=&quot;code-quote&quot;&gt;&quot;Output was as expected&quot;&lt;/span&gt;, out.toString().length() &amp;gt; 500);
+        assertEquals(&lt;span class=&quot;code-quote&quot;&gt;&quot;No errors were output&quot;&lt;/span&gt;, err.toString().trim(), &quot;&quot;);
+    }
+
     &lt;span class=&quot;code-comment&quot;&gt;// ======================================================================
&lt;/span&gt;     &lt;span class=&quot;code-comment&quot;&gt;// === &lt;span class=&quot;code-object&quot;&gt;Long&lt;/span&gt; running tests
&lt;/span&gt;     &lt;span class=&quot;code-comment&quot;&gt;// ======================================================================&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13217797" author="msandiford" created="Tue, 28 Feb 2012 01:25:52 +0000"  >&lt;p&gt;Patch for fix from &lt;a href=&quot;https://github.com/msandiford/commons-exec&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/msandiford/commons-exec&lt;/a&gt; commit 0c7e9457f31ea0322d18dcb157d5192a25f0e490&lt;/p&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;border-bottom-style: solid;&quot;&gt;&lt;b&gt;fix.diff&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;--- a/src/main/java/org/apache/commons/exec/DefaultExecutor.java
+++ b/src/main/java/org/apache/commons/exec/DefaultExecutor.java
@@ -161,7 +161,7 @@ &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;DefaultExecutor &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; Executor {
             &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IOException(workingDirectory + &lt;span class=&quot;code-quote&quot;&gt;&quot; doesn&apos;t exist.&quot;&lt;/span&gt;);
         }

-        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; executeInternal(command, environment, workingDirectory, streamHandler);
+        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; executeInternal(command, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, environment, workingDirectory, streamHandler);

     }

@@ -189,13 +189,14 @@ &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;DefaultExecutor &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; Executor {
             watchdog.setProcessNotStarted();
         }

+        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; SimpleCondition condition = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; SimpleCondition();
         &lt;span class=&quot;code-object&quot;&gt;Runnable&lt;/span&gt; runnable = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Runnable&lt;/span&gt;()
         {
             &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void run()
             {
                 &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; exitValue = Executor.INVALID_EXITVALUE;
                 &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
-                    exitValue = executeInternal(command, environment, workingDirectory, streamHandler);
+                    exitValue = executeInternal(command, condition, environment, workingDirectory, streamHandler);
                     handler.onProcessComplete(exitValue);
                 } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (ExecuteException e) {
                     handler.onProcessFailed(e);
@@ -207,6 +208,9 @@ &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;DefaultExecutor &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; Executor {

         &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.executorThread = createThread(runnable, &lt;span class=&quot;code-quote&quot;&gt;&quot;Exec Default Executor&quot;&lt;/span&gt;);
         getExecutorThread().start();
+
+        &lt;span class=&quot;code-comment&quot;&gt;// Wait until the thread tells us we have actually started
&lt;/span&gt;+        condition.sleep();
     }

     &lt;span class=&quot;code-comment&quot;&gt;/** @see org.apache.commons.exec.Executor#setExitValue(&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;) */&lt;/span&gt;
@@ -316,6 +320,33 @@ &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;DefaultExecutor &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; Executor {
     }

     /**
+     * Simple thread notify mechanism.
+     */
+    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;SimpleCondition {
+        &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; lock = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;();
+        &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;volatile&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; notified = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
+
+        &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void sleep() {
+            &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
+                &lt;span class=&quot;code-keyword&quot;&gt;synchronized&lt;/span&gt; (lock) {
+                    &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; (!notified) {
+                        lock.wait();
+                    }
+                }
+            } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (InterruptedException e) {
+                &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.currentThread().interrupt();
+            }
+        }
+
+        &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void wakeup() {
+            &lt;span class=&quot;code-keyword&quot;&gt;synchronized&lt;/span&gt; (lock) {
+                notified = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
+                lock.notifyAll();
+            }
+        }
+    }
+
+    /**
      * Execute an internal process. If the executing thread is interrupted &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; the
      * child process to &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; the child process will be killed.
      *
@@ -326,12 +357,20 @@ &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;DefaultExecutor &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; Executor {
      * @&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; the exit code of the process
      * @&lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException executing the process failed
      */
-    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; executeInternal(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; CommandLine command, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Map environment,
-            &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; File dir, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; ExecuteStreamHandler streams) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
+    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; executeInternal(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; CommandLine command, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; SimpleCondition cond,
+            &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Map environment, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; File dir, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; ExecuteStreamHandler streams)
+                    &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {

         setExceptionCaught(&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;);

-        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Process&lt;/span&gt; process = &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.launch(command, environment, dir);
+        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Process&lt;/span&gt; process;
+        &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
+            process = &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.launch(command, environment, dir);
+        } &lt;span class=&quot;code-keyword&quot;&gt;finally&lt;/span&gt; {
+            &lt;span class=&quot;code-comment&quot;&gt;// If necessary, let our parent know that the process has launched
&lt;/span&gt;+            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (cond != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
+                cond.wakeup();
+        }

         &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
             streams.setProcessInputStream(process.getOutputStream());
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14218730" author="vorburger" created="Wed, 19 Nov 2014 23:53:09 +0000"  >&lt;p&gt;Just in case this may help in moving forward with integrating this one, as I&apos;ve noticed that commons-exec is still on SVN and not Git, I&apos;ve created the attached via svn diff &amp;gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/EXEC-63&quot; title=&quot;Race condition in DefaultExecutor#execute(cmd, handler)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;EXEC-63&quot;&gt;EXEC-63&lt;/a&gt;_DefaultExecutor.patch of the change proposed above (manually retyped it, exact same thing; as I wanted to try this out applied on top of current latest commons-exec trunk). I&apos;m too lazy to do the same for the other patch for new testExec_63() in DefaultExecutorTest.&lt;/p&gt;

&lt;p&gt;It appears this proposed change breaks existing Exec60Test.testExec_60() line 86 (&quot;Not a single process was killed by the watch dog&quot;) when applied as-is to current latest SVN rev 1640638. I have not investigated if this would be easy to fix, or is a sign of a real regression this patch would cause.. and how to improve this patch.. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=britter&quot; class=&quot;user-hover&quot; rel=&quot;britter&quot;&gt;britter&lt;/a&gt; perhaps you could look into this?&lt;/p&gt;

&lt;p&gt;PS: I was trying out if this one fixes my &lt;a href=&quot;https://github.com/vorburger/MariaDB4j/issues/10&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/vorburger/MariaDB4j/issues/10&lt;/a&gt; issue (it does not, that&apos;s an unrelated problem).&lt;/p&gt;</comment>
                            <comment id="14219257" author="msandiford" created="Thu, 20 Nov 2014 11:13:06 +0000"  >&lt;p&gt;I think &lt;tt&gt;testExec_60()&lt;/tt&gt; is a bit fragile, and highly dependent on an included ping script taking pretty much exactly the right amount of time. &lt;/p&gt;

&lt;p&gt;Having a look at SVN trunk, it appears this test has been updated to retry more times (180 up from 20). This appears to fix the issue on the machines I have access to (MacOS 1.8.0-b132, Windows 7 1.7.0_25, Linux 1.7.0_72).  The old test used to fail occasionally on MacOS and all the time on Windows 7.&lt;/p&gt;

&lt;p&gt;There is a fix in the github repo that makes the test more reliable.  This fix is similar to what has been applied to trunk.&lt;br/&gt;
&lt;a href=&quot;https://github.com/msandiford/commons-exec/commit/8abb8352d0f5d3dfc64edafdd65fb76bd41ddbb8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/msandiford/commons-exec/commit/8abb8352d0f5d3dfc64edafdd65fb76bd41ddbb8&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12682528" name="EXEC-63_DefaultExecutor.patch" size="3768" author="vorburger" created="Wed, 19 Nov 2014 23:53:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>229009</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 49 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i16tbz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>247884</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-62] PumpStreamHandler hangs if process is terminated by timeout and it has not generated stdout / stderr output</title>
                <link>https://issues.apache.org/jira/browse/EXEC-62</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;Hi,&lt;br/&gt;
I&apos;ve found an issue with DefaultExecutor hanging while waiting for PumpStreamHandler to close all subprocess streams if child process was terminated by watchdog (e.g. on timeout).&lt;/p&gt;

&lt;p&gt;I&apos;ve created a test case for the issue demonstrating working behaviour &amp;amp; issue.&lt;/p&gt;

&lt;p&gt;Test requires commons-io 1.4, Junit 4.x and commons-exec 1.1 to compile&lt;/p&gt;</description>
                <environment>&lt;p&gt;Ubuntu 11.04, &lt;br/&gt;
$ java -version&lt;br/&gt;
java version &quot;1.6.0_29&quot;&lt;br/&gt;
Java(TM) SE Runtime Environment (build 1.6.0_29-b11)&lt;br/&gt;
Java HotSpot(TM) Server VM (build 20.4-b02, mixed mode)&lt;/p&gt;</environment>
        <key id="12532321">EXEC-62</key>
            <summary>PumpStreamHandler hangs if process is terminated by timeout and it has not generated stdout / stderr output</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="3" iconUrl="https://issues.apache.org/jira/images/icons/statuses/inprogress.png" description="This issue is being actively worked on at the moment by the assignee.">In Progress</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="sgoeschl">Siegfried Goeschl</assignee>
                                    <reporter username="izapolsky@gmail.com">Ignat Zapolsky</reporter>
                        <labels>
                    </labels>
                <created>Tue, 22 Nov 2011 12:14:03 +0000</created>
                <updated>Tue, 29 May 2018 09:33:15 +0000</updated>
                                            <version>1.1</version>
                                                        <due></due>
                            <votes>1</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="13155044" author="izapolsky@gmail.com" created="Tue, 22 Nov 2011 12:15:03 +0000"  >&lt;p&gt;Unit test + 2 scripts demonstrating the issue.&lt;/p&gt;</comment>
                            <comment id="13503992" author="jw.mach1" created="Mon, 26 Nov 2012 19:06:46 +0000"  >&lt;p&gt;I am also encountering PumpStreamHandler hanging, though my external processes have exited with a zero exit value. Then PumpStreamHandler locks upon join of the outputThread in the stop() method:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;from stop method&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (outputThread != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {         
  &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
    outputThread.join();
    outputThread = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
  } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (InterruptedException e) {
    &lt;span class=&quot;code-comment&quot;&gt;// ignore
&lt;/span&gt;  }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;As near as I can tell (from debug sessions), the outputThread is locked on read from the inputStream that is the output of the Process. Though in my scenario I have read all the expected output from the Process.&lt;/p&gt;</comment>
                            <comment id="13659908" author="sebtardif" created="Thu, 16 May 2013 20:07:32 +0000"  >&lt;p&gt;Same here:&lt;br/&gt;
&quot;pool-2-thread-1&quot; prio=10 tid=0x00007f102c5d0000 nid=0x2099 in Object.wait() &lt;span class=&quot;error&quot;&gt;&amp;#91;0x00007f101216c000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: WAITING (on object monitor)&lt;br/&gt;
	at java.lang.Object.wait(Native Method)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;waiting on &amp;lt;0x00000000b8bbbf88&amp;gt; (a java.lang.Thread)&lt;br/&gt;
	at java.lang.Thread.join(Thread.java:1203)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;0x00000000b8bbbf88&amp;gt; (a java.lang.Thread)&lt;br/&gt;
	at java.lang.Thread.join(Thread.java:1256)&lt;br/&gt;
	at org.apache.commons.exec.PumpStreamHandler.stop(PumpStreamHandler.java:180)&lt;br/&gt;
	at org.apache.commons.exec.DefaultExecutor.executeInternal(DefaultExecutor.java:363)&lt;br/&gt;
	at org.apache.commons.exec.DefaultExecutor.execute(DefaultExecutor.java:160)&lt;br/&gt;
	at org.apache.commons.exec.DefaultExecutor.execute(DefaultExecutor.java:147)&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13803605" author="sbressler" created="Thu, 24 Oct 2013 00:38:08 +0000"  >&lt;p&gt;This was filed following this e-mail exchange I believe:&lt;br/&gt;
&lt;a href=&quot;http://www.mail-archive.com/user@commons.apache.org/msg03481.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.mail-archive.com/user@commons.apache.org/msg03481.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15086164" author="sgoeschl" created="Wed, 6 Jan 2016 19:49:37 +0000"  >&lt;p&gt;The joy of multi-platform support - the problem under Ubuntu&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;the process is indeed killed by the watchdog&lt;/li&gt;
	&lt;li&gt;the StreamPumper is blocked reading from the child process streams and never returns&lt;/li&gt;
	&lt;li&gt;therefore the the worker threads are not terminated (since the are still in InputStream.read())&lt;/li&gt;
	&lt;li&gt;the Thread.join will never succeed&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Some thoughts along the line&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Some other bug report indicates that the problem is caused by no process output but adding an echo statement does not help either&lt;/li&gt;
	&lt;li&gt;I tried interrupting the StreamPumper threads but this does not work (see &lt;a href=&quot;http://bugs.java.com/bugdatabase/view_bug.do?bug_id=4514257&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://bugs.java.com/bugdatabase/view_bug.do?bug_id=4514257&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16493298" author="ghilainm@gmail.com" created="Tue, 29 May 2018 09:32:38 +0000"  >&lt;p&gt;Exact same problem here. Do you have any solution in mind?&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Version&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;dependency&amp;gt;&lt;br/&gt;
 &amp;lt;groupId&amp;gt;org.zeroturnaround&amp;lt;/groupId&amp;gt;&lt;br/&gt;
 &amp;lt;artifactId&amp;gt;zt-exec&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
 &amp;lt;version&amp;gt;1.10&amp;lt;/version&amp;gt;&lt;br/&gt;
 &amp;lt;scope&amp;gt;test&amp;lt;/scope&amp;gt;&lt;br/&gt;
&amp;lt;/dependency&amp;gt;&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Stack&lt;/b&gt;&#160;&lt;/p&gt;

&lt;p&gt;pool-2-thread-1&quot; #17 prio=5 os_prio=0 tid=0x00007f6218e47000 nid=0x175 in Object.wait() &lt;span class=&quot;error&quot;&gt;&amp;#91;0x00007f61f729f000&amp;#93;&lt;/span&gt;&lt;br/&gt;
 java.lang.Thread.State: WAITING (on object monitor)&lt;br/&gt;
 at java.lang.Object.wait(Native Method)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;waiting on &amp;lt;0x000000071f9fa968&amp;gt; (a java.lang.Thread)&lt;br/&gt;
 at java.lang.Thread.join(Thread.java:1252)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;0x000000071f9fa968&amp;gt; (a java.lang.Thread)&lt;br/&gt;
 at java.lang.Thread.join(Thread.java:1326)&lt;br/&gt;
 at org.zeroturnaround.exec.stream.PumpStreamHandler.stop(PumpStreamHandler.java:219)&lt;br/&gt;
 at org.zeroturnaround.exec.close.StandardProcessCloser.close(StandardProcessCloser.java:41)&lt;br/&gt;
 at org.zeroturnaround.exec.WaitForProcess.call(WaitForProcess.java:110)&lt;br/&gt;
 at org.zeroturnaround.exec.ProcessExecutor.waitFor(ProcessExecutor.java:1097)&lt;br/&gt;
 at org.zeroturnaround.exec.ProcessExecutor.execute(ProcessExecutor.java:925)&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12504733" name="sample.tar.gz" size="967" author="izapolsky@gmail.com" created="Tue, 22 Nov 2011 12:15:03 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>218054</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 22 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rsdj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>160241</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-61] Test failure of trunk on WinXP: DefaultExecutorTest</title>
                <link>https://issues.apache.org/jira/browse/EXEC-61</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;-------------------------------------------------------------------------------&lt;br/&gt;
Test set: org.apache.commons.exec.DefaultExecutorTest&lt;br/&gt;
-------------------------------------------------------------------------------&lt;br/&gt;
Tests run: 40, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 86.141 sec &amp;lt;&amp;lt;&amp;lt; FAILURE!&lt;br/&gt;
testExec_60(org.apache.commons.exec.DefaultExecutorTest)  Time elapsed: 22.172 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!&lt;br/&gt;
junit.framework.AssertionFailedError: Not a single process terminated on its own&lt;br/&gt;
	at junit.framework.Assert.fail(Assert.java:47)&lt;br/&gt;
	at junit.framework.Assert.assertTrue(Assert.java:20)&lt;br/&gt;
	at org.apache.commons.exec.DefaultExecutorTest.testExec_60(DefaultExecutorTest.java:1096)&lt;/p&gt;
</description>
                <environment>&lt;p&gt;Java 1.6.0_26&lt;br/&gt;
WinXP Pro&lt;/p&gt;</environment>
        <key id="12528264">EXEC-61</key>
            <summary>Test failure of trunk on WinXP: DefaultExecutorTest</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sgoeschl">Siegfried Goeschl</assignee>
                                    <reporter username="phax">Philip Helger</reporter>
                        <labels>
                    </labels>
                <created>Fri, 21 Oct 2011 12:44:49 +0000</created>
                <updated>Fri, 8 Jan 2016 21:16:15 +0000</updated>
                            <resolved>Fri, 8 Jan 2016 21:16:15 +0000</resolved>
                                    <version>1.2</version>
                                    <fixVersion>1.4.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15089955" author="sgoeschl" created="Fri, 8 Jan 2016 21:16:15 +0000"  >&lt;p&gt;The test is fragile but interesting enough to keep it - for the moment I&apos;m disabling the test&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>97624</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 42 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i19xz3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>266138</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-60] Possible deadlock when a process is terminating at the same time its timing out</title>
                <link>https://issues.apache.org/jira/browse/EXEC-60</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;I ran into a deadlock when executing a process monitored by ExecuteWatchDog. This happened in 1.0.1 for me but looking at the code in 1.1 it seems to me that this could happen in this version as well.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12518614">EXEC-60</key>
            <summary>Possible deadlock when a process is terminating at the same time its timing out</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sgoeschl">Siegfried Goeschl</assignee>
                                    <reporter username="gforget">Gui Forget</reporter>
                        <labels>
                    </labels>
                <created>Thu, 11 Aug 2011 17:44:03 +0000</created>
                <updated>Sat, 28 Dec 2013 18:21:15 +0000</updated>
                            <resolved>Sun, 9 Oct 2011 10:44:02 +0000</resolved>
                                    <version>1.0.1</version>
                    <version>1.1</version>
                                    <fixVersion>1.2</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13083276" author="gforget" created="Thu, 11 Aug 2011 17:45:23 +0000"  >&lt;p&gt;The thread dump showing the deadlock&lt;/p&gt;</comment>
                            <comment id="13099728" author="michael.h.sims" created="Thu, 8 Sep 2011 03:16:11 +0000"  >&lt;p&gt;Ran into the same deadlock in 1.1 (obtained from public Maven repo).  Thread dump attached&lt;/p&gt;</comment>
                            <comment id="13120451" author="codecop" created="Tue, 4 Oct 2011 20:35:08 +0000"  >&lt;p&gt;I created a test that reproduces the deadlock (from time to time &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
ExecuteWatchdogTest.java&lt;br/&gt;
If you have a fast machine then you need to update the &quot;start&quot; and the end of range of the time slice.&lt;br/&gt;
&amp;#8212;&lt;br/&gt;
Case of the deadlock was the synchronized call stack in Watchdog#run.&lt;/p&gt;
</comment>
                            <comment id="13120452" author="codecop" created="Tue, 4 Oct 2011 20:36:19 +0000"  >&lt;p&gt;Patch according my comment&lt;/p&gt;</comment>
                            <comment id="13123659" author="sgoeschl" created="Sun, 9 Oct 2011 10:44:02 +0000"  >&lt;p&gt;Applied patch written by Peter Kofler (Vienna Hackgarden)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12493540" name="commons-exec-1.1-deadlock.txt" size="1393" author="michael.h.sims" created="Thu, 8 Sep 2011 03:16:11 +0000"/>
                            <attachment id="12490140" name="deadlock.txt" size="1503" author="gforget" created="Thu, 11 Aug 2011 17:45:23 +0000"/>
                            <attachment id="12497698" name="exec-60.diff" size="3182" author="codecop" created="Tue, 4 Oct 2011 20:36:19 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>45244</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 4 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i13stz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>230301</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-59] execute() does not return if executed process spawned other processes</title>
                <link>https://issues.apache.org/jira/browse/EXEC-59</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;When executing a process that spawns other processes, DefaultExecutor.execute() does not return until these secondary processes die.&lt;/p&gt;

&lt;p&gt;This is a problem for me because I am executing a long-running service that uses long-running helper processes. I want to know if the service process crashes (which leaves the helper processes running), but I never get any notice because execute() does not return. It blocks while calling PumpStreamHandler.stop().&lt;/p&gt;</description>
                <environment>&lt;p&gt;Linux x86_64&lt;/p&gt;</environment>
        <key id="12510999">EXEC-59</key>
            <summary>execute() does not return if executed process spawned other processes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sgoeschl">Siegfried Goeschl</assignee>
                                    <reporter username="dgtombs">David Tombs</reporter>
                        <labels>
                    </labels>
                <created>Mon, 20 Jun 2011 20:30:30 +0000</created>
                <updated>Sat, 28 Dec 2013 18:21:15 +0000</updated>
                            <resolved>Mon, 10 Oct 2011 21:37:39 +0000</resolved>
                                    <version>1.1</version>
                                    <fixVersion>1.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13052209" author="dgtombs" created="Mon, 20 Jun 2011 20:32:24 +0000"  >&lt;p&gt;Script to simulate a process that spawns a helper process. Run with DefaultExecutor.execute(&quot;./spawner.sh&quot;) to reproduce the issue. execute() will not return until the sleep command exits.&lt;/p&gt;</comment>
                            <comment id="13058670" author="sgoeschl" created="Fri, 1 Jul 2011 17:42:45 +0000"  >&lt;p&gt;Is it possible to avoid spawning processes in your case? I removed all my little helper scripts and start the processes directly which also helps on WIndows&lt;/p&gt;</comment>
                            <comment id="13059142" author="dgtombs" created="Sat, 2 Jul 2011 22:55:36 +0000"  >&lt;p&gt;Hi Siegried. No, that&apos;s not really possible in my case. I&apos;m working on some code that needs to make as little assumptions as possible about the executed process. I think this bug should be fixable. As I said in the description, I think it&apos;s due to a bad assumption in PumpStreamHandler.stop() or nearby.&lt;/p&gt;</comment>
                            <comment id="13066882" author="dominik.stadler@gmx.at" created="Mon, 18 Jul 2011 10:50:46 +0000"  >&lt;p&gt;Isn&apos;t this the same as &lt;a href=&quot;https://issues.apache.org/jira/browse/EXEC-57&quot; title=&quot;DefaultExecutor.execute() does not return even if child process terminated&quot; class=&quot;issue-link&quot; data-issue-key=&quot;EXEC-57&quot;&gt;&lt;del&gt;EXEC-57&lt;/del&gt;&lt;/a&gt;, the patch that is available there allows to make PumpStreamHandler.stop() return after some timeout instead of waiting endlessly in some cases.&lt;/p&gt;</comment>
                            <comment id="13083287" author="dgtombs" created="Thu, 11 Aug 2011 17:56:51 +0000"  >&lt;p&gt;Yes, it looks like it. Thanks for the notice; setting this item as duplicate.&lt;/p&gt;</comment>
                            <comment id="13124496" author="sgoeschl" created="Mon, 10 Oct 2011 21:37:39 +0000"  >&lt;p&gt;Applied the patch from Nickolay Martinov (&lt;a href=&quot;https://issues.apache.org/jira/browse/EXEC-57&quot; title=&quot;DefaultExecutor.execute() does not return even if child process terminated&quot; class=&quot;issue-link&quot; data-issue-key=&quot;EXEC-57&quot;&gt;&lt;del&gt;EXEC-57&lt;/del&gt;&lt;/a&gt;) but the timeout disguises the fact that the process might be still runnung - therefore added a sanity check in order to throw an exception if the the timeout for join() was exceeded.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12499809">EXEC-57</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12483206" name="spawner.sh" size="99" author="dgtombs" created="Mon, 20 Jun 2011 20:32:24 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>50935</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 4 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i13suf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>230303</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-57] DefaultExecutor.execute() does not return even if child process terminated</title>
                <link>https://issues.apache.org/jira/browse/EXEC-57</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;When script that starts background process is synchronously executed via DefaultExecutor.execute() then method never returns (until child process spawned by child process terminates).&lt;/p&gt;

&lt;p&gt;Here is example if such script:&lt;/p&gt;

&lt;p&gt;echo &quot;Going to start daemon process&quot;&lt;br/&gt;
sleep 1&lt;br/&gt;
cd ./target&lt;br/&gt;
nohup sleep 10 &amp;amp;&lt;br/&gt;
sleep 1&lt;br/&gt;
echo &quot;Daemon process was started&quot;&lt;/p&gt;

&lt;p&gt;Stream handler is used to grab and print output of script. As can be seen from stack trace problem lies in pump threads that call InputStream.read() that does not return when script that we invoke terminates. Instead it returns only once process started by script terminates. &lt;/p&gt;

&lt;p&gt;&quot;Thread-3&quot; daemon prio=10 tid=00c73a00 nid=17 lwp_id=2640638 runnable &lt;span class=&quot;error&quot;&gt;&amp;#91;2e180000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: RUNNABLE&lt;br/&gt;
        at java.io.FileInputStream.readBytes(Native Method)&lt;br/&gt;
        at java.io.FileInputStream.read(FileInputStream.java:177)&lt;br/&gt;
        at java.lang.UNIXProcess$DeferredCloseInputStream.read(UNIXProcess.java:313)&lt;br/&gt;
        at org.apache.commons.exec.StreamPumper.run(StreamPumper.java:105)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:662)&lt;/p&gt;

&lt;p&gt;   Locked ownable synchronizers:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;None&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;Thread-2&quot; daemon prio=10 tid=005fd000 nid=16 lwp_id=2640637 runnable &lt;span class=&quot;error&quot;&gt;&amp;#91;2e240000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: RUNNABLE&lt;br/&gt;
        at java.io.FileInputStream.readBytes(Native Method)&lt;br/&gt;
        at java.io.FileInputStream.read(FileInputStream.java:199)&lt;br/&gt;
        at java.lang.UNIXProcess$DeferredCloseInputStream.read(UNIXProcess.java:322)&lt;br/&gt;
        at java.io.BufferedInputStream.fill(BufferedInputStream.java:218)&lt;br/&gt;
        at java.io.BufferedInputStream.read1(BufferedInputStream.java:258)&lt;br/&gt;
        at java.io.BufferedInputStream.read(BufferedInputStream.java:317)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;locked &amp;lt;628b1970&amp;gt; (a java.io.BufferedInputStream)&lt;br/&gt;
        at java.io.FilterInputStream.read(FilterInputStream.java:90)&lt;br/&gt;
        at org.apache.commons.exec.StreamPumper.run(StreamPumper.java:105)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:662)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;   Locked ownable synchronizers:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;None&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;main&quot; prio=10 tid=0046aa00 nid=1 lwp_id=-1 in Object.wait() &lt;span class=&quot;error&quot;&gt;&amp;#91;7fff8000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: WAITING (on object monitor)&lt;br/&gt;
        at java.lang.Object.wait(Native Method)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;waiting on &amp;lt;627e4968&amp;gt; (a java.lang.Thread)&lt;br/&gt;
        at java.lang.Thread.join(Thread.java:1186)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;627e4968&amp;gt; (a java.lang.Thread)&lt;br/&gt;
        at java.lang.Thread.join(Thread.java:1239)&lt;br/&gt;
        at org.apache.commons.exec.PumpStreamHandler.stop(PumpStreamHandler.java:171)&lt;br/&gt;
        at org.apache.commons.exec.DefaultExecutor.executeInternal(DefaultExecutor.java:363)&lt;br/&gt;
        at org.apache.commons.exec.DefaultExecutor.execute(DefaultExecutor.java:160)&lt;br/&gt;
        at org.apache.commons.exec.DefaultExecutor.execute(DefaultExecutor.java:147)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I added timeout to join() and call interrupt() but that doesnt help to kill pump threads. Fortunately, these are daemon threads that do not block JVM from exiting. Except from extra daemon threads this solved problem on linux. But that wasnt able to prevent all hangs on HP-UX. Check following stack&lt;/p&gt;

&lt;p&gt;&quot;main&quot; prio=10 tid=00465600 nid=1 lwp_id=-1 runnable &lt;span class=&quot;error&quot;&gt;&amp;#91;7fffd000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: RUNNABLE&lt;br/&gt;
        at java.io.FileInputStream.close0(Native Method)&lt;br/&gt;
        at java.io.FileInputStream.close(FileInputStream.java:259)&lt;br/&gt;
        at java.lang.UNIXProcess$DeferredCloseInputStream.close(UNIXProcess.java:298)&lt;br/&gt;
        at java.io.BufferedInputStream.close(BufferedInputStream.java:451)&lt;br/&gt;
        at org.apache.commons.exec.DefaultExecutor.closeStreams(DefaultExecutor.java:281)&lt;br/&gt;
        at org.apache.commons.exec.DefaultExecutor.executeInternal(DefaultExecutor.java:364)&lt;br/&gt;
        at org.apache.commons.exec.DefaultExecutor.execute(DefaultExecutor.java:160)&lt;br/&gt;
        at org.apache.commons.exec.DefaultExecutor.execute(DefaultExecutor.java:147)&lt;br/&gt;
        at org.apache.commons.exec.DefaultExecutorTest.testSyncInvocationOfBackgroundProcess(DefaultExecutorTest.java:812)&lt;/p&gt;

&lt;p&gt;I dont have idea how this can be interrupted or timed out except that skip closing streams. But in this case we&apos;ll probably leak resources.&lt;/p&gt;</description>
                <environment>&lt;p&gt;&amp;gt; uname -smr&lt;br/&gt;
HP-UX B.11.23 ia64&lt;/p&gt;

&lt;p&gt;$ uname -smr&lt;br/&gt;
Linux 2.6.18-194.3.1.el5xen x86_64&lt;/p&gt;
</environment>
        <key id="12499809">EXEC-57</key>
            <summary>DefaultExecutor.execute() does not return even if child process terminated</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sgoeschl">Siegfried Goeschl</assignee>
                                    <reporter username="nickolay_martinov">Nikolay Martynov</reporter>
                        <labels>
                    </labels>
                <created>Sat, 26 Feb 2011 11:46:45 +0000</created>
                <updated>Wed, 6 Jan 2016 01:21:54 +0000</updated>
                            <resolved>Mon, 10 Oct 2011 21:36:50 +0000</resolved>
                                    <version>1.1</version>
                                                        <due></due>
                            <votes>1</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="12999772" author="nickolay_martinov" created="Sat, 26 Feb 2011 11:55:48 +0000"  >&lt;p&gt;Added patch that solves problem to some degree on Linux and demonstrates problem on HP-UX.&lt;/p&gt;</comment>
                            <comment id="13124441" author="sgoeschl" created="Mon, 10 Oct 2011 20:05:50 +0000"  >&lt;p&gt;I&apos;m not sure if this problem is caused by commons-exec and the patch actually disguises the problem - not sure how to proceed&lt;/p&gt;</comment>
                            <comment id="13124475" author="sgoeschl" created="Mon, 10 Oct 2011 21:09:12 +0000"  >&lt;p&gt;I think a found an okayish implementation - when the stop timeout is exceeded the implementation later throws an exception. In this case the caller knows that something went wrong.&lt;/p&gt;</comment>
                            <comment id="13124479" author="sgoeschl" created="Mon, 10 Oct 2011 21:19:48 +0000"  >&lt;p&gt;BTW &lt;/p&gt;

&lt;p&gt;nohup sleep 10 1&amp;gt;/dev/null 2&amp;gt;/dev/null 0&amp;lt;/dev/null &amp;amp;&lt;/p&gt;

&lt;p&gt;would work since the process would be really decoupled&lt;/p&gt;</comment>
                            <comment id="13124495" author="sgoeschl" created="Mon, 10 Oct 2011 21:36:50 +0000"  >&lt;p&gt;Applied the patch from Nickolay Martinov but the timeout disguises the fact that the process might be still runnung - therefore added a sanity check in order to throw an exception if the the timeout for join() was exceeded.&lt;/p&gt;</comment>
                            <comment id="13184133" author="sgoeschl" created="Wed, 11 Jan 2012 15:37:06 +0000"  >&lt;p&gt;Patch applied at 2011-10-10&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12510999">EXEC-59</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12718807">EXEC-86</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12472041" name="EXEC-57.test.patch" size="5032" author="nickolay_martinov" created="Sat, 26 Feb 2011 11:55:48 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3155</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 43 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0amin:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>59921</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-54] Problem with argument containing spaces</title>
                <link>https://issues.apache.org/jira/browse/EXEC-54</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;I am new to Commons Exec, so this could also be an error in usage, but... &lt;/p&gt;

&lt;p&gt;When I use the &lt;tt&gt;CommandLine&lt;/tt&gt; class to add a argument that contains spaces, some quotes are added and are then part of the argument that is given.&lt;/p&gt;

&lt;p&gt;For example: When I call &lt;tt&gt;java &quot;what version&quot;&lt;/tt&gt; I get &lt;tt&gt;java.lang.NoClassDefFoundError: what version&lt;/tt&gt;, and when I call &lt;tt&gt;java &quot;\&quot;what version\&quot;&quot;&lt;/tt&gt; (which contains escaped quotes, that are part of the command line argument itself), I get &lt;tt&gt;java.lang.NoClassDefFoundError: &quot;what version&quot;&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;So the following test fails, because as you can see in the last line, Apache Exec is producing the latter version where it should have produced the first version:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;	@Test
	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testArgumentQuoting() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
		&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; argument = &lt;span class=&quot;code-quote&quot;&gt;&quot;what version&quot;&lt;/span&gt;;
		DefaultExecutor executor = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DefaultExecutor();
		DefaultExecuteResultHandler resultHandler = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DefaultExecuteResultHandler();
		ByteArrayOutputStream out = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ByteArrayOutputStream();
		PumpStreamHandler streamHandler = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PumpStreamHandler(out, out);
		executor.setStreamHandler(streamHandler);
		CommandLine cmdLine = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; CommandLine(&lt;span class=&quot;code-quote&quot;&gt;&quot;java&quot;&lt;/span&gt;);
		cmdLine.addArgument(argument);
		executor.execute(cmdLine, resultHandler);
		resultHandler.waitFor();
		&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; resultPattern = &lt;span class=&quot;code-quote&quot;&gt;&quot;Exception in thread \&quot;&lt;/span&gt;main\&lt;span class=&quot;code-quote&quot;&gt;&quot; java\\.lang\\.NoClassDefFoundError: ([\\w \&quot;&lt;/span&gt;]+)&quot;;
		Pattern pattern = Pattern.compile(resultPattern);
		Matcher matcher = pattern.matcher(out.toString());
		Assert.assertTrue(matcher.find());
		&lt;span class=&quot;code-comment&quot;&gt;// Note: Result should be &amp;lt;what version&amp;gt; and NOT &amp;lt;&lt;span class=&quot;code-quote&quot;&gt;&quot;what version&quot;&lt;/span&gt;&amp;gt;!
&lt;/span&gt;		Assert.assertEquals(argument, matcher.group(1));
	}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; 

&lt;p&gt;Note that the same test passes if the space is removed from the argument. Please also note, that I am not trying to start an external Java process, but this is merely an example that I assume will work on every developers machine.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Mac OsX 10.6.6, JVM 1.6.0&lt;/p&gt;</environment>
        <key id="12497959">EXEC-54</key>
            <summary>Problem with argument containing spaces</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="sgoeschl">Siegfried Goeschl</assignee>
                                    <reporter username="roesslerj">Jeremias R&#246;&#223;ler</reporter>
                        <labels>
                            <label>arguments</label>
                            <label>quotes</label>
                            <label>spaces</label>
                    </labels>
                <created>Tue, 8 Feb 2011 08:12:09 +0000</created>
                <updated>Fri, 3 Nov 2017 13:40:00 +0000</updated>
                                            <version>1.1</version>
                                                        <due></due>
                            <votes>2</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="12992725" author="sgoeschl" created="Wed, 9 Feb 2011 21:28:32 +0000"  >&lt;p&gt;No - the code works a intended. Lets assume that your argument is not &quot;what version&quot; but &quot;C:\Document And Settings\documents\432432.pdf&quot; - in that case it is helpful to automatically quote the argument (in that case a file name) otherwise the callee will get three command line arguments instead of one&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;C:\Document&lt;/li&gt;
	&lt;li&gt;And&lt;/li&gt;
	&lt;li&gt;Settings\documents\432432.pdf&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12992912" author="roesslerj" created="Thu, 10 Feb 2011 07:36:27 +0000"  >&lt;p&gt;Sorry for being not clear enough: My point is that the argument is doubly quoted, and the first quotes are then escaped and become part of the argument itself, which is definitely not what is intended. To stick to your example, the argument being given to the process is not &quot;C:\Document And Settings\documents\432432.pdf&quot; which would be correct, but &quot;\&quot;C:\Document And Settings\documents\432432.pdf\&quot;&quot; (note the double and escaped quotes).&lt;/p&gt;</comment>
                            <comment id="13245078" author="rwesten" created="Tue, 3 Apr 2012 08:59:58 +0000"  >&lt;p&gt;Came along the same &quot;Issue&quot; but with a different conclusion. (see &lt;a href=&quot;http://markmail.org/message/xbcseasols7ae2mc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://markmail.org/message/xbcseasols7ae2mc&lt;/a&gt; for details)&lt;/p&gt;

&lt;p&gt;In short:&lt;/p&gt;

&lt;p&gt;Commons Exec does NOT double quote the parameter. The problem is that the &quot;java&quot; executable does not support quoted jar files (see also &lt;a href=&quot;http://stackoverflow.com/questions/5569591/unable-to-access-jarfile-in-linux-land&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://stackoverflow.com/questions/5569591/unable-to-access-jarfile-in-linux-land&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;So I assume this issue can be closed. However I would still be interested in an utility that can be used to escape (instead of quote) parsed parameters. This would be very handy when calling executable (like java) that do not interpret quotation marks.&lt;/p&gt;</comment>
                            <comment id="13245102" author="sebb@apache.org" created="Tue, 3 Apr 2012 10:10:20 +0000"  >&lt;p&gt;Note that the quoting / escaping requirements vary by OS. &lt;br/&gt;
AFAIK, not all OSes support escapes, and the mechanism may vary depending on the shell that is used.&lt;/p&gt;</comment>
                            <comment id="13498071" author="dominik.stadler@gmx.at" created="Thu, 15 Nov 2012 15:12:09 +0000"  >&lt;p&gt;This just hit me for the second time and it was really a pain to debug. I see that both ways of doing quoting and not doing quoting have their use, what I don&apos;t understand is the default of doing this quote-handling always unless turned off by passing &quot;false&quot; to addArgument(). &lt;/p&gt;

&lt;p&gt;Why is it necessary when you later pass a String[]-Array with separate arguments to the Runtime.exec() method in Java13CommandLauncher anyway. Isn&apos;t this also supposed to handle blanks correctly and thus we are doing the same thing twice here?&lt;/p&gt;

&lt;p&gt;I see that other Launcher-Implementations use versions where they pass one String to the exec-call, so it seems the question of quoting is dependent on which exact Launcher you are using, shouldn&apos;t the default be based on that then?&lt;/p&gt;</comment>
                            <comment id="13583499" author="dhadka" created="Thu, 21 Feb 2013 20:04:24 +0000"  >&lt;p&gt;I&apos;m running into a similar issue as above.  In my case, I want to pass a folder on the command line, such as &lt;tt&gt;C:\Documents and Settings\user\folder&lt;/tt&gt;.  So I call &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;command.addArgument(&quot;C:\\Documents and Settings\\user\\folder\\&quot;)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Commons Exec then adds the quotes around the argument.  But on Windows, the trailing \ in the path escapes the quote, which then is passed as part of the argument.  In this case, the program receives the argument as: &lt;tt&gt;C:\Documents and Settings\users\folder&quot;&lt;/tt&gt;, with the quote as part of the argument.  This creates a subtle and hard to track error condition.&lt;/p&gt;

&lt;p&gt;Consider these cases:&lt;br/&gt;
C:\NoSpace\in\path - Works correctly&lt;br/&gt;
C:\NoSpace\in\path\ - Works correctly (no quotes are added since no spaces in path)&lt;br/&gt;
C:/NoSpace/in/path - Works correctly&lt;br/&gt;
C:/NoSpace/in/path/ - Works correctly&lt;br/&gt;
C:\With Space\in\path - Works correctly&lt;br/&gt;
C:\With Space\in\path\ - Fails due to this bug&lt;br/&gt;
C:/With Space/in/path - Works correctly&lt;br/&gt;
C:/With Space/in/path/ - Works correctly&lt;/p&gt;</comment>
                            <comment id="16237604" author="tjmapley" created="Fri, 3 Nov 2017 13:40:00 +0000"  >&lt;p&gt;commandLine.addArgument(&quot;\&quot;arg with spaces\&quot;&quot;, false)&lt;/p&gt;

&lt;p&gt;2nd parameter name is handleQuoting. if false, you do your own quoting and Exec doesn&apos;t try to be helpful&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>117754</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 51 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0kly7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118373</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-52] Tests fail on HP-UX</title>
                <link>https://issues.apache.org/jira/browse/EXEC-52</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;ping command on HP-UX does not have -c option instead -n is used.&lt;br/&gt;
&amp;gt; ping&lt;br/&gt;
Usage:  ping &lt;span class=&quot;error&quot;&gt;&amp;#91;-oprv&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;-f address-family&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;-i address&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;-I interval&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;-t ttl&amp;#93;&lt;/span&gt; host [-n count &lt;span class=&quot;error&quot;&gt;&amp;#91;-m timeout&amp;#93;&lt;/span&gt;]&lt;br/&gt;
        ping &lt;span class=&quot;error&quot;&gt;&amp;#91;-oprv&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;-f address-family&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;-i address&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;-I interval&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;-t ttl&amp;#93;&lt;/span&gt; host packet-size [&lt;span class=&quot;error&quot;&gt;&amp;#91;-n&amp;#93;&lt;/span&gt; count &lt;span class=&quot;error&quot;&gt;&amp;#91;-m timeout&amp;#93;&lt;/span&gt;]&lt;br/&gt;
As a results tests that use ping command fail.&lt;/p&gt;</description>
                <environment>&lt;p&gt;&amp;gt; uname -srm&lt;br/&gt;
HP-UX B.11.23 ia64&lt;/p&gt;</environment>
        <key id="12497540">EXEC-52</key>
            <summary>Tests fail on HP-UX</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="nickolay_martinov">Nikolay Martynov</reporter>
                        <labels>
                            <label>patch</label>
                            <label>test</label>
                    </labels>
                <created>Thu, 3 Feb 2011 06:58:30 +0000</created>
                <updated>Sat, 26 Feb 2011 12:16:25 +0000</updated>
                            <resolved>Sat, 26 Feb 2011 12:16:25 +0000</resolved>
                                    <version>1.1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="7200">2h</timeoriginalestimate>
                            <timeestimate seconds="7200">2h</timeestimate>
                                        <comments>
                            <comment id="12989992" author="nickolay_martinov" created="Thu, 3 Feb 2011 07:18:04 +0000"  >&lt;p&gt;Patch to fix tests on HP-UX. Tested on windows, linux, hp-ux.&lt;/p&gt;</comment>
                            <comment id="12990070" author="sebb@apache.org" created="Thu, 3 Feb 2011 12:11:38 +0000"  >&lt;p&gt;Does HPU-UX really require the -n option to appear &lt;b&gt;after&lt;/b&gt; the host and packet size?&lt;br/&gt;
Weird if true.&lt;/p&gt;

&lt;p&gt;If not, it would be clearer to have the -n in the same position as the -c.&lt;/p&gt;</comment>
                            <comment id="12992730" author="sgoeschl" created="Wed, 9 Feb 2011 21:39:30 +0000"  >&lt;p&gt;I find it amazing that even a ping command potentially breaks a test when you use one single option ... &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12999768" author="nickolay_martinov" created="Sat, 26 Feb 2011 11:28:38 +0000"  >&lt;p&gt;Yes, i confirm that order of options is important:&lt;/p&gt;

&lt;p&gt;$ ping localhost -n 3&lt;br/&gt;
PING localhost.xxx: 64 byte packets&lt;br/&gt;
64 bytes from 127.0.0.1: icmp_seq=0. time=0. ms&lt;br/&gt;
64 bytes from 127.0.0.1: icmp_seq=1. time=0. ms&lt;br/&gt;
64 bytes from 127.0.0.1: icmp_seq=2. time=0. ms&lt;/p&gt;

&lt;p&gt;---&lt;del&gt;localhost.xxx PING Statistics&lt;/del&gt;---&lt;br/&gt;
3 packets transmitted, 3 packets received, 0% packet loss&lt;br/&gt;
round-trip (ms)  min/avg/max = 0/0/0&lt;/p&gt;

&lt;p&gt;$ ping -n 3 localhost&lt;br/&gt;
Usage:  ping &lt;span class=&quot;error&quot;&gt;&amp;#91;-oprv&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;-f address-family&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;-i address&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;-I interval&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;-t ttl&amp;#93;&lt;/span&gt; host [-n count &lt;span class=&quot;error&quot;&gt;&amp;#91;-m timeout&amp;#93;&lt;/span&gt;]&lt;br/&gt;
        ping &lt;span class=&quot;error&quot;&gt;&amp;#91;-oprv&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;-f address-family&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;-i address&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;-I interval&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;-t ttl&amp;#93;&lt;/span&gt; host packet-size [&lt;span class=&quot;error&quot;&gt;&amp;#91;-n&amp;#93;&lt;/span&gt; count &lt;span class=&quot;error&quot;&gt;&amp;#91;-m timeout&amp;#93;&lt;/span&gt;]&lt;/p&gt;</comment>
                            <comment id="12999775" author="sebb@apache.org" created="Sat, 26 Feb 2011 12:16:25 +0000"  >&lt;p&gt;Thanks, patch applied&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12470113" name="commons-exec-tests-fix.patch" size="1183" author="nickolay_martinov" created="Thu, 3 Feb 2011 07:18:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>117752</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 36 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i13svr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>230309</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-49] &quot;Write dead end&quot; IOException when using Piped streams w/PumpStreamHandler</title>
                <link>https://issues.apache.org/jira/browse/EXEC-49</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;Sad Trombone&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java.io.IOException: Write end dead
	at java.io.PipedInputStream.read(PipedInputStream.java:294)
	at com.mycompany.commonsexecrunner.App.main(App.java:48)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I came across this issue when I was trying to capture stdout with a PipedOutputStream and then pass that to a PipedInputStream.  The following code will produce the error.  The reason for the error is the PipedOutputStream is not being closed correctly, causing the PipedInputStream to break.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;Throws IOException&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void main(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] args) {

        &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;Hello world&quot;&lt;/span&gt;);

        CommandLine cl = CommandLine.parse(&lt;span class=&quot;code-quote&quot;&gt;&quot;/bin/ls&quot;&lt;/span&gt;);
        cl.addArgument(&lt;span class=&quot;code-quote&quot;&gt;&quot;/opt&quot;&lt;/span&gt;);

        DefaultExecuteResultHandler handler = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DefaultExecuteResultHandler();
        PipedOutputStream stdout = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PipedOutputStream();
        PumpStreamHandler psh = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PumpStreamHandler(stdout);
        Executor exec = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DefaultExecutor();
        exec.setStreamHandler(psh);

        &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
            &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;Preparing to execute process - commandLine=&quot;&lt;/span&gt; + cl.toString());
            exec.execute(cl, handler);
            &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-object&quot;&gt;Process&lt;/span&gt; spun off successfully - process=&quot;&lt;/span&gt; + cl.getExecutable());
        } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (ExecuteException ex) {
            ex.printStackTrace();
        } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (IOException ex) {
            ex.printStackTrace();
        }
        
        PipedInputStream pis = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
        &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
            pis = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PipedInputStream(stdout);
        } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (IOException ex) {
            ex.printStackTrace();
        }

        &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; x;
        &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
            &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; ((x = pis.read()) &amp;gt;= 0) {
                &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;pis.available() &quot;&lt;/span&gt; + pis.available());
                &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;x &quot;&lt;/span&gt; + x);
            }
        } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt;  (IOException ex) {
            ex.printStackTrace();
        } &lt;span class=&quot;code-keyword&quot;&gt;finally&lt;/span&gt; {
            &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
                pis.close();
            } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (IOException ex) {
            }
        }

        &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;Goodbye world&quot;&lt;/span&gt;);

    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I was able to mitigate the error by modifying the createProcessOutputPump() method in the PumpStreamHandler class to accept the boolean value closeWhenExhausted, like was used for the setProcessInputStream() method.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; void createProcessOutputPump(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; InputStream is, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; OutputStream os, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; closeWhenExhausted) {
    outputThread = createPump(is, os, closeWhenExhausted);
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This solution isn&apos;t implemented in the best way because in the end you have to pass a boolean value all the way down and it&apos;s kind of messy, but its a start.&lt;/p&gt;</description>
                <environment>&lt;p&gt;RHEL 5, Ubuntu 10.04&lt;/p&gt;</environment>
        <key id="12477199">EXEC-49</key>
            <summary>&quot;Write dead end&quot; IOException when using Piped streams w/PumpStreamHandler</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sgoeschl">Siegfried Goeschl</assignee>
                                    <reporter username="kevintelford">Kevin Telford</reporter>
                        <labels>
                    </labels>
                <created>Wed, 13 Oct 2010 00:39:10 +0000</created>
                <updated>Fri, 5 Nov 2010 19:09:47 +0000</updated>
                            <resolved>Fri, 5 Nov 2010 19:09:47 +0000</resolved>
                                    <version>1.1</version>
                                    <fixVersion>1.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="14400">4h</timeoriginalestimate>
                            <timeestimate seconds="14400">4h</timeestimate>
                                        <comments>
                            <comment id="12924384" author="sgoeschl" created="Sun, 24 Oct 2010 21:22:27 +0000"  >&lt;p&gt;Hi Kevin - problem confirmed and really glad that you took the time to add the test case ... &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;/p&gt;</comment>
                            <comment id="12928765" author="sgoeschl" created="Fri, 5 Nov 2010 19:07:22 +0000"  >&lt;p&gt;Patch for fixing exec-49&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12458940" name="exec-49.patch" size="7127" author="sgoeschl" created="Fri, 5 Nov 2010 19:07:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>40283</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i13svb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>230307</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-47] DefaultExecutor  uses JDK 1.6 IOException constructor</title>
                <link>https://issues.apache.org/jira/browse/EXEC-47</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;DefaultExecutor  was changed (r984849 for &lt;a href=&quot;https://issues.apache.org/jira/browse/EXEC-42&quot; title=&quot;Tutorial should include example for asynchronous handling&quot; class=&quot;issue-link&quot; data-issue-key=&quot;EXEC-42&quot;&gt;&lt;del&gt;EXEC-42&lt;/del&gt;&lt;/a&gt;) to use IOException(String, Throwable)  contructor which was introduced in JDK 1.6 - but the source/target level for Exec is JDK 1.3&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=984849&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=984849&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12473688">EXEC-47</key>
            <summary>DefaultExecutor  uses JDK 1.6 IOException constructor</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sgoeschl">Siegfried Goeschl</assignee>
                                    <reporter username="niallp">Niall Pemberton</reporter>
                        <labels>
                    </labels>
                <created>Thu, 9 Sep 2010 14:44:35 +0000</created>
                <updated>Sun, 24 Oct 2010 19:58:37 +0000</updated>
                            <resolved>Mon, 13 Sep 2010 19:30:04 +0000</resolved>
                                    <version>1.1</version>
                                    <fixVersion>1.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12908957" author="sgoeschl" created="Mon, 13 Sep 2010 19:30:04 +0000"  >&lt;p&gt;Good catch - reminds me of my limited compiler zoo on Mac OS X .... &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12454211" name="EXEC-47-DefaultExecutor-IOException-constructor.patch" size="591" author="niallp" created="Thu, 9 Sep 2010 14:45:48 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>40287</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 8 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tozj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>171357</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-45] Error while executing a command like echo</title>
                <link>https://issues.apache.org/jira/browse/EXEC-45</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;Hello,&lt;br/&gt;
After looking at the javaDoc for DefaultExecutor, I&apos;ve tried a simple command that does an &quot;echo&quot; and re-direct the output to a file. But, I&apos;m getting &quot;IOException&quot;. Not sure what I am missing here or is it possible to execute a command directly without specifying the path to an executable? I appreciate your help.&lt;/p&gt;

&lt;p&gt;This is what I&apos;m trying:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;border-bottom-style: solid;&quot;&gt;&lt;b&gt;CommandExec.java&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; void executeEcho()
{
      &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt;
      {
         &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; CommandLine command = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; CommandLine( &lt;span class=&quot;code-quote&quot;&gt;&quot;echo someValue&quot;&lt;/span&gt; );
         command.addArgument( &lt;span class=&quot;code-quote&quot;&gt;&quot;&amp;gt; c:\test.txt&quot;&lt;/span&gt; );

         &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; DefaultExecutor executor = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DefaultExecutor();
         &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; value = executor.execute( command );
         &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(value);
      }
      &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt;(Exception e)
      {
         e.printStackTrace();
      }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Exception being thrown:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;exception&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java.io.IOException: Cannot run program &lt;span class=&quot;code-quote&quot;&gt;&quot;echo someValue&quot;&lt;/span&gt;: CreateProcess error=2, The system cannot find the file specified
	at java.lang.ProcessBuilder.start(Unknown Source)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Runtime&lt;/span&gt;.exec(Unknown Source)
	at org.apache.commons.exec.launcher.Java13CommandLauncher.exec(Java13CommandLauncher.java:58)
	at org.apache.commons.exec.DefaultExecutor.launch(DefaultExecutor.java:246)
	at org.apache.commons.exec.DefaultExecutor.executeInternal(DefaultExecutor.java:302)
	at org.apache.commons.exec.DefaultExecutor.execute(DefaultExecutor.java:149)
	at org.apache.commons.exec.DefaultExecutor.execute(DefaultExecutor.java:136)
	at testing.CommandExex.main(CommandExex.java:15)
Caused by: java.io.IOException: CreateProcess error=2, The system cannot find the file specified
	at java.lang.ProcessImpl.create(Native Method)
	at java.lang.ProcessImpl.&amp;lt;init&amp;gt;(Unknown Source)
	at java.lang.ProcessImpl.start(Unknown Source)
	... 8 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;From DefaultExecutor&apos;s JavaDoc:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Executor exec = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DefaultExecutor();
CommandLine cl = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; CommandLine(&lt;span class=&quot;code-quote&quot;&gt;&quot;ls -l&quot;&lt;/span&gt;);
&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; exitvalue = exec.execute(cl);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;OS: Windows XP SP3&lt;/p&gt;</environment>
        <key id="12459985">EXEC-45</key>
            <summary>Error while executing a command like echo</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="varma">varma</reporter>
                        <labels>
                            <label>echo</label>
                    </labels>
                <created>Tue, 23 Mar 2010 13:00:34 +0000</created>
                <updated>Tue, 23 Mar 2010 15:27:42 +0000</updated>
                            <resolved>Tue, 23 Mar 2010 15:27:35 +0000</resolved>
                                    <version>1.0.1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12848759" author="sebb@apache.org" created="Tue, 23 Mar 2010 15:27:35 +0000"  >&lt;p&gt;&quot;echo&quot; is not a valid executable; it is a  built-in DOS command, so the behaviour of EXEC is correct.&lt;/p&gt;

&lt;p&gt;Also, JIRA is not a support forum; please address usage questions to the Commons User list.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>40285</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 33 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tp5b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>171383</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-43] DefaultExecutor.setExitValues(null) throws NullPointerException</title>
                <link>https://issues.apache.org/jira/browse/EXEC-43</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;Setting no checking of exit codes as per javadocs for DefaultExecutor results in NullPointerException:&lt;/p&gt;

&lt;p&gt;				DefaultExecutor executor = new DefaultExecutor();&lt;br/&gt;
				executor.setExitValues(null );&lt;/p&gt;

&lt;p&gt;throws:&lt;/p&gt;

&lt;p&gt;java.lang.NullPointerException&lt;br/&gt;
	at org.apache.commons.exec.DefaultExecutor.setExitValues(DefaultExecutor.java:201)&lt;/p&gt;


&lt;p&gt;even though javadocs say:&lt;/p&gt;

&lt;p&gt;&lt;b&gt;setExitValues&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;public void setExitValues(int[] values)&lt;br/&gt;
Description copied from interface: Executor&lt;br/&gt;
Define the exit code of the process to considered successful. The caller can pass one of the following values&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;an array of exit values to be considered successful&lt;/li&gt;
	&lt;li&gt;an empty array for auto-detect of successful exit codes&lt;/li&gt;
	&lt;li&gt;&lt;b&gt;null to indicate to skip checking of exit codes&lt;/b&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Specified by:&lt;br/&gt;
setExitValues in interface Executor&lt;br/&gt;
Parameters:&lt;br/&gt;
values - a list of the exit codes&lt;/p&gt;</description>
                <environment>&lt;p&gt;WinXP SP3, JDK 1.5.0_17&lt;/p&gt;</environment>
        <key id="12439128">EXEC-43</key>
            <summary>DefaultExecutor.setExitValues(null) throws NullPointerException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="blyefd">Matt P</reporter>
                        <labels>
                    </labels>
                <created>Mon, 26 Oct 2009 23:55:51 +0000</created>
                <updated>Sat, 27 Mar 2010 08:05:54 +0000</updated>
                            <resolved>Sat, 27 Mar 2010 08:05:54 +0000</resolved>
                                    <version>1.0</version>
                                    <fixVersion>1.0.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12850488" author="sgoeschl" created="Sat, 27 Mar 2010 08:05:54 +0000"  >&lt;p&gt;This was already fixed a while ago ...&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>117746</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 32 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0toz3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>171355</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-40] NPE in DefaultExecutor.setExitValues()</title>
                <link>https://issues.apache.org/jira/browse/EXEC-40</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;The setExitValues() of DefaultExecutor does not throws a NPE when passed a null argument.&lt;br/&gt;
The documentation says passing a null should disable exit value checking.&lt;/p&gt;

&lt;p&gt;Solution, modify the body to correctly handle nulls.&lt;/p&gt;

&lt;p&gt;    public void setExitValues(final int[] values) {&lt;br/&gt;
	if (values==null) &lt;/p&gt;
{
            this.extiValues = null;
	}
&lt;p&gt; else &lt;/p&gt;
{
            this.exitValues = (int[]) values.clone();
        }
&lt;p&gt;    }&lt;/p&gt;</description>
                <environment>&lt;p&gt;Ubuntu Linux, Sun Java 1.6.0_13&lt;/p&gt;</environment>
        <key id="12425659">EXEC-40</key>
            <summary>NPE in DefaultExecutor.setExitValues()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sgoeschl">Siegfried Goeschl</assignee>
                                    <reporter username="phenderson">Peter Henderson</reporter>
                        <labels>
                    </labels>
                <created>Sat, 16 May 2009 16:20:05 +0000</created>
                <updated>Sun, 24 Oct 2010 19:58:35 +0000</updated>
                            <resolved>Mon, 28 Sep 2009 20:57:57 +0000</resolved>
                                    <version>1.0</version>
                                    <fixVersion>1.0.1</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>1</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="3600">1h</timeoriginalestimate>
                            <timeestimate seconds="3600">1h</timeestimate>
                                        <comments>
                            <comment id="12722983" author="sgoeschl" created="Tue, 23 Jun 2009 06:35:49 +0000"  >&lt;p&gt;That is a bit embarrasing - introduced that when fixing Findbugs issues ... &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12760379" author="sgoeschl" created="Mon, 28 Sep 2009 20:57:57 +0000"  >&lt;p&gt;Applied patch ages ago&lt;/p&gt;</comment>
                            <comment id="12760541" author="wrd002" created="Tue, 29 Sep 2009 09:23:52 +0000"  >&lt;p&gt;Many thanks. Would it be possible to issue the 1.0.1 release as a binary d/l?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>117743</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 6 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tp13:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>171364</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-39] StringUtils quoting problems</title>
                <link>https://issues.apache.org/jira/browse/EXEC-39</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;There are various problems in the StringUtils class:&lt;/p&gt;

&lt;p&gt;isQuoted() - does not check that arguments have the same opening and closing quotes. This may be a rare case, but it&apos;s trivial to fix. There are no test cases for the method.&lt;/p&gt;

&lt;p&gt;quoteArgument()&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;does not work properly on Windows, which only treats double-quote as a quoting character; it should not fail if a Windows argument contains single-quotes, as they are not special.&lt;/li&gt;
	&lt;li&gt;does not quote special Unix characters either&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;stringSubstitution() does not document what the characters can constitute a key.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12423801">EXEC-39</key>
            <summary>StringUtils quoting problems</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="4" iconUrl="https://issues.apache.org/jira/images/icons/statuses/reopened.png" description="This issue was once resolved, but the resolution was deemed incorrect. From here issues are either marked assigned or resolved.">Reopened</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Sun, 26 Apr 2009 15:59:15 +0000</created>
                <updated>Fri, 28 Oct 2011 11:59:57 +0000</updated>
                                            <version>1.0</version>
                                                        <due></due>
                            <votes>3</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12909837" author="sgoeschl" created="Wed, 15 Sep 2010 18:37:14 +0000"  >&lt;p&gt;+) fixed the isQuoted() issue&lt;/p&gt;

&lt;p&gt;+) what are &quot;special Unix characters&quot;?!&lt;/p&gt;
</comment>
                            <comment id="12909990" author="sebb@apache.org" created="Thu, 16 Sep 2010 01:58:09 +0000"  >&lt;p&gt;There are quite a few Unix shell meta-characters.&lt;/p&gt;

&lt;p&gt;Here is a list I found:&lt;br/&gt;
&lt;a href=&quot;http://www.rci.rutgers.edu/~usseries/UNIXcmds.html#meta&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.rci.rutgers.edu/~usseries/UNIXcmds.html#meta&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12910043" author="joehni" created="Thu, 16 Sep 2010 08:25:57 +0000"  >&lt;p&gt;Those are not all. There are more characters that have to be escaped. This is typically to be seen if you have one of those in a file name and use tab completion (e.g. comma is not in listed the linked documentation):&lt;/p&gt;

&lt;p&gt; $ ls Music/Auffret\,\ Anne\ \&amp;amp;\ Baron\,\ Florian/Setu\ &amp;#33;/&lt;/p&gt;

&lt;p&gt;same as&lt;/p&gt;

&lt;p&gt; $ ls &apos;Music/Auffret, Anne &amp;amp; Baron, Florian/Setu !/&apos;&lt;/p&gt;

&lt;p&gt;The single quote is also escaped:&lt;/p&gt;

&lt;p&gt; $ ls Music/Soundtrack/Le\ fabuleux\ destin\ d\&apos;Am&#233;lie\ Poulain/&lt;/p&gt;

&lt;p&gt;For quoting an argument containing a single quote I am not sure, but this works:&lt;/p&gt;

&lt;p&gt; $ ls &apos;Music/Soundtrack/Le fabuleux destin d&apos;\&apos;&apos;Am&#233;lie Poulain/&apos;&lt;/p&gt;

&lt;p&gt;Also note, that &quot;*&lt;b&gt;&quot; is not the same as &apos;&lt;/b&gt;*&apos; on Unix and on top it depends on the intention of the caller which version to use. In the first case the shell will expand the wildcard. In the second case the application must know itself what to do with it - if it should be handled as a wildcard at all.&lt;/p&gt;

&lt;p&gt;Fortunately non-ASCII characters (on an UTF-8 system) do not have to be handled in special:&lt;/p&gt;

&lt;p&gt; $ ls Music/Soundtrack/&#928;&#959;&#955;&#943;&#964;&#953;&#954;&#951;\ &#954;&#959;&#965;&#950;&#943;&#957;&#945;/&lt;/p&gt;
</comment>
                            <comment id="12910079" author="sebb@apache.org" created="Thu, 16 Sep 2010 10:32:31 +0000"  >&lt;p&gt;It should just be sufficient to enclose an unsafe parameter in single-quotes.&lt;/p&gt;

&lt;p&gt;Any embedded quotes should be escaped with a back-slash.&lt;/p&gt;</comment>
                            <comment id="12910113" author="joehni" created="Thu, 16 Sep 2010 11:56:01 +0000"  >&lt;p&gt;No, you cannot escape in Unix within single quotes. This does not work:&lt;/p&gt;

&lt;p&gt; $ ls &apos;Music/Soundtrack/Le fabuleux destin d\&apos;Am&#233;lie Poulain/&apos;&lt;/p&gt;</comment>
                            <comment id="12910141" author="sebb@apache.org" created="Thu, 16 Sep 2010 13:00:51 +0000"  >&lt;p&gt;Oops! You&apos;re right.&lt;/p&gt;

&lt;p&gt;However, as you wrote earlier, you can replace embedded single-quotes with single-quote backslash single-quote single-quote.&lt;/p&gt;

&lt;p&gt;I.e, close the quoted string, add an escaped single-quote, then re-open the quoted string.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;It&amp;#39;s all but impossible to distinguish &amp;#39;&amp;#39; (single-quote*2) from &amp;quot; (double-quote) visually !&amp;#93;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="12910502" author="sgoeschl" created="Fri, 17 Sep 2010 08:02:01 +0000"  >&lt;p&gt;Some thoughts along the line&lt;/p&gt;

&lt;p&gt;+) What type of quoting is done/required when you invoke a shell script (bash, ksh) versus an application?!  &lt;br/&gt;
+) There are so many different scenarios and they are hard to test across multiple platforms&lt;br/&gt;
+) Looking at the comments I have the feeling that it is easy to break existing behavior used in real-life&lt;/p&gt;

&lt;p&gt;That&apos;s the reason why I added &quot;pre-quoted&quot; arguments to avoid doing anything harmful and recommend building the command line incrementally instead or parsing a command line string. So I Iean towards &quot;won&apos;t fix&quot; otherwise I&apos;m getting no release out of the door - any comments?&lt;/p&gt;
</comment>
                            <comment id="12924375" author="sgoeschl" created="Sun, 24 Oct 2010 20:03:47 +0000"  >&lt;p&gt;Will reopen the issues when we got more user input ... &lt;/p&gt;</comment>
                            <comment id="12925798" author="sebb@apache.org" created="Thu, 28 Oct 2010 13:23:16 +0000"  >&lt;p&gt;I don&apos;t think this should be marked won&apos;t fix, as the problems are still present.&lt;/p&gt;

&lt;p&gt;At the very least the issues should be mentioned in Javadoc.&lt;/p&gt;</comment>
                            <comment id="12925799" author="sebb@apache.org" created="Thu, 28 Oct 2010 13:23:46 +0000"  >&lt;p&gt;Marking fix version unknown&lt;/p&gt;</comment>
                            <comment id="13138245" author="ceefour" created="Fri, 28 Oct 2011 11:59:57 +0000"  >&lt;p&gt;The string&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;web adoh &apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;is quoted into&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-quote&quot;&gt;&quot;web adoh&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;where it should be&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-quote&quot;&gt;&quot;web adoh &apos;&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>117742</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 1 week, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i19xy7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>266134</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-38] Tutorial example uses incorrect API call.</title>
                <link>https://issues.apache.org/jira/browse/EXEC-38</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;&lt;a href=&quot;http://commons.apache.org/exec/tutorial.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://commons.apache.org/exec/tutorial.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The section &quot;Build the Command Line Incrementally&quot; uses &lt;br/&gt;
commandLine.addArguments(file.getAbsolutePath());&lt;/p&gt;

&lt;p&gt;which will go horribly wrong if the path has spaces in it.&lt;/p&gt;

&lt;p&gt;It should be using&lt;br/&gt;
commandLine.addArgument(file.getAbsolutePath());&lt;/p&gt;

&lt;p&gt;Note the singular addArgument&lt;/p&gt;

&lt;p&gt;The two preceding calls to addArgument could also benefit from being changed.&lt;/p&gt;

&lt;p&gt;Peter&lt;/p&gt;</description>
                <environment></environment>
        <key id="12422221">EXEC-38</key>
            <summary>Tutorial example uses incorrect API call.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="phenderson">Peter Henderson</reporter>
                        <labels>
                    </labels>
                <created>Tue, 7 Apr 2009 10:42:04 +0000</created>
                <updated>Sun, 24 Oct 2010 19:58:35 +0000</updated>
                            <resolved>Sun, 26 Apr 2009 15:05:09 +0000</resolved>
                                    <version>1.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="600">10m</timeoriginalestimate>
                            <timeestimate seconds="600">10m</timeestimate>
                                        <comments>
                            <comment id="12702894" author="sebb@apache.org" created="Sun, 26 Apr 2009 15:04:44 +0000"  >&lt;p&gt;Fixed in SVN trunk:&lt;/p&gt;

&lt;p&gt;URL: &lt;a href=&quot;http://svn.apache.org/viewvc?rev=768717&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?rev=768717&amp;amp;view=rev&lt;/a&gt;&lt;br/&gt;
Log:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/EXEC-38&quot; title=&quot;Tutorial example uses incorrect API call.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;EXEC-38&quot;&gt;&lt;del&gt;EXEC-38&lt;/del&gt;&lt;/a&gt; - use addArgument() not addArguments()&lt;br/&gt;
Also remove Jakarta branding&lt;br/&gt;
Add another substitution example&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>117741</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 28 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tozr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>171358</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-37] OpenVmsProcessingEnvironment.createProcEnvironment() is synchronized but overrides unsynch method</title>
                <link>https://issues.apache.org/jira/browse/EXEC-37</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;OpenVmsProcessingEnvironment.createProcEnvironment() is synchronized but overrides unsynchronized method.&lt;/p&gt;

&lt;p&gt;It should probably be made unsynchronized, since it should only be called via DefaultProcessingEnvironment.getProcEnvironment() which is synchronized.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12415366">EXEC-37</key>
            <summary>OpenVmsProcessingEnvironment.createProcEnvironment() is synchronized but overrides unsynch method</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sebb">Sebb</reporter>
                        <labels>
                    </labels>
                <created>Mon, 23 Feb 2009 13:55:07 +0000</created>
                <updated>Sun, 24 Oct 2010 19:58:34 +0000</updated>
                            <resolved>Mon, 23 Feb 2009 22:01:35 +0000</resolved>
                                                    <fixVersion>1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12676083" author="sgoeschl" created="Mon, 23 Feb 2009 22:01:35 +0000"  >&lt;p&gt;Correct - made the fix.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>117740</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 37 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tp1r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>171367</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-36] CommandLine does not work with double quote or single quote correctly</title>
                <link>https://issues.apache.org/jira/browse/EXEC-36</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;Please review and run the following junit test, either apache ant or apache exec does not handle the qoute in the arguments correctly.&lt;/p&gt;

&lt;p&gt;   @Test&lt;br/&gt;
    public void shouldHandleTheDoubelQuote() throws Exception &lt;/p&gt;
{
        String commandline = &quot;./script/jrake cruise:publish_installers &quot;
                + &quot;INSTALLER_VERSION=unstable_2_1 &quot;
                + &quot;INSTALLER_PATH=\&quot;/var/lib/ cruise-agent/installers\&quot; &quot;
                + &quot;INSTALLER_DOWNLOAD_SERVER=&apos;something&apos;&quot;
                + &quot;WITHOUT_HELP_DOC=true&quot;;

        CommandLine line = CommandLine.parse(commandline);
        String[] args  = line.getArguments();

        assertThat(args[0], is(&quot;cruise:publish_installers&quot;));
        assertThat(args[1], is(&quot;INSTALLER_VERSION=unstable_2_1&quot;));
        assertThat(args[2], is(&quot;INSTALLER_PATH=\&quot;/var/lib/ cruise-agent/installers\&quot;&quot;));
        assertThat(args[3], is(&quot;INSTALLER_DOWNLOAD_SERVER=&apos;something&apos;&quot;));
        assertThat(args[4], is(&quot;WITHOUT_HELP_DOC=true&quot;));
    }</description>
                <environment>&lt;p&gt;Ubuntu 704, JDK1.6&lt;/p&gt;</environment>
        <key id="12412180">EXEC-36</key>
            <summary>CommandLine does not work with double quote or single quote correctly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="3" iconUrl="https://issues.apache.org/jira/images/icons/statuses/inprogress.png" description="This issue is being actively worked on at the moment by the assignee.">In Progress</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="sgoeschl">Siegfried Goeschl</assignee>
                                    <reporter username="iamhukai">Kai Hu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 12 Jan 2009 10:12:58 +0000</created>
                <updated>Fri, 12 May 2023 21:35:16 +0000</updated>
                                            <version>1.0</version>
                                                        <due></due>
                            <votes>2</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="12662927" author="sgoeschl" created="Mon, 12 Jan 2009 10:28:59 +0000"  >&lt;p&gt;Here is your re-formatted snippet&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt; 
@Test
public void shouldHandleTheDoubelQuote() throws Exception 
{ 
  String commandline = &quot;./script/jrake cruise:publish_installers &quot; 
    + &quot;INSTALLER_VERSION=unstable_2_1 &quot; 
    + &quot;INSTALLER_PATH=\&quot;/var/lib/ cruise-agent/installers\&quot; &quot; 
    + &quot;INSTALLER_DOWNLOAD_SERVER=&apos;something&apos;&quot; 
    + &quot;WITHOUT_HELP_DOC=true&quot;;
    
  CommandLine line = CommandLine.parse(commandline); 
  String[] args = line.getArguments(); 
  assertThat(args[0], is(&quot;cruise:publish_installers&quot;)); 
  assertThat(args[1], is(&quot;INSTALLER_VERSION=unstable_2_1&quot;)); 
  assertThat(args[2], is(&quot;INSTALLER_PATH=\&quot;/var/lib/ cruise-agent/installers\&quot;&quot;)); 
  assertThat(args[3], is(&quot;INSTALLER_DOWNLOAD_SERVER=&apos;something&apos;&quot;)); 
  assertThat(args[4], is(&quot;WITHOUT_HELP_DOC=true&quot;)); 
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; 

&lt;p&gt;Some quick notes&lt;/p&gt;

&lt;p&gt;+) args&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; should be &quot;./script/jrake&quot; and not &quot;cruise:publish_installers&quot;&lt;br/&gt;
+) mixing and matching singe and double quotes using CommandLine.parse() is not recommended (&lt;a href=&quot;http://commons.apache.org/exec/faq.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://commons.apache.org/exec/faq.html&lt;/a&gt;)&lt;br/&gt;
+) I will add a test case to see how to generate a valid command line in your case&lt;/p&gt;</comment>
                            <comment id="12662997" author="iamhukai" created="Mon, 12 Jan 2009 16:51:11 +0000"  >&lt;p&gt;first, sorry for the bad format. thanks for formatting for me&lt;/p&gt;

&lt;p&gt;+) arg&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; should not be &quot;./script/jrake&quot;, I think &quot;./script/jrake&quot; should be returned from commandLine.getExecutable() or something like this.&lt;br/&gt;
+) I fully understand it is not recommented, but if this library is targeting for reduce the pain of dealing with command/process, then I think it is something this api need to provide, since I do not think there is any api can handle it correctly and that is part of the core-value of this api&#65288;Ant is using exactly same way to parse it, so it has the same bug&#65289;if you guys can ship with it, it will be the silver bullet for command/process.&lt;/p&gt;

&lt;p&gt;cheers&lt;/p&gt;</comment>
                            <comment id="12663036" author="sgoeschl" created="Mon, 12 Jan 2009 18:38:13 +0000"  >&lt;p&gt;Hi Kai,&lt;/p&gt;

&lt;p&gt;+) yes you are right regarding the arg&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;&lt;br/&gt;
+) I think there is a space missing after &quot;INSTALLER_DOWNLOAD_SERVER=&apos;something&apos;&quot; otherwise there is no args&lt;span class=&quot;error&quot;&gt;&amp;#91;4&amp;#93;&lt;/span&gt;&lt;br/&gt;
+) is there really a space in &quot;INSTALLER_PATH=\&quot;/var/lib/ cruise-agent/installers\&quot;&quot;, e.g. thus this define two paths &apos;/var/lib/&apos; and &apos;cruise-agent/installers&apos;? &lt;/p&gt;</comment>
                            <comment id="12663168" author="iamhukai" created="Tue, 13 Jan 2009 01:05:56 +0000"  >&lt;p&gt;&amp;gt;&amp;gt;&amp;gt; I think there is a space missing after &quot;INSTALLER_DOWNLOAD_SERVER=&apos;something&apos;&quot; otherwise there is no args&lt;span class=&quot;error&quot;&gt;&amp;#91;4&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;you are absolutely right&lt;/p&gt;

&lt;p&gt;&amp;gt;&amp;gt;&amp;gt; is there really a space in &quot;INSTALLER_PATH=\&quot;/var/lib/ cruise-agent/installers\&quot;&quot;, e.g. thus this define two paths &apos;/var/lib/&apos; and &apos;cruise-agent/installers&apos;?&lt;br/&gt;
I just want to design a case that there is a whitespace in the argument, which makes the quotes to be necessary, do you mind to help me to change the test cases to&lt;br/&gt;
 &quot;INSTALLER_PATH=\&quot;/var/lib/cruise agent/installers\&quot; and also change the assertion accordingly.&lt;/p&gt;

&lt;p&gt;thanks for you quick response. cheers.&lt;/p&gt;</comment>
                            <comment id="12683823" author="iamhukai" created="Fri, 20 Mar 2009 10:02:41 +0000"  >&lt;p&gt;when will this bug be fixed? is anyone looking at this one?&lt;/p&gt;</comment>
                            <comment id="12683867" author="sgoeschl" created="Fri, 20 Mar 2009 12:40:50 +0000"  >&lt;p&gt;I&apos;m looking at the problem but I&apos;m not eager to break the current command line processing otherwise I&apos;m unable to get the release out of the door. Having said that you can still build up your command line bit by  bit using the API.&lt;/p&gt;</comment>
                            <comment id="12702898" author="sebb@apache.org" created="Sun, 26 Apr 2009 15:35:18 +0000"  >&lt;p&gt;I think the first thing to do is to document how the command-line parsing is intended to work.&lt;br/&gt;
Should it use the same quoting as the underlying OS, or a common scheme?&lt;br/&gt;
i.e. when is the parse() method going to be used?&lt;/p&gt;</comment>
                            <comment id="12855165" author="mkolev" created="Thu, 8 Apr 2010 21:27:19 +0000"  >&lt;p&gt;Hello everyone,&lt;br/&gt;
I am using the commons-exec library in Apache Camel (the command arguments must be parsed from a URI), came up to the same problem, and had to implement the parsing myself. I did the custom command line args parsing based on the following 3 simple rules: &lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;The args in the line are space-separated tokens&lt;/li&gt;
	&lt;li&gt;If an argument has a space itself, this space can be quoted with &quot; (double-qoute)&lt;/li&gt;
	&lt;li&gt;If an argument should preserve the double-quotes, it is quoted two times with a double-quote&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Here is &lt;a href=&quot;https://svn.apache.org/repos/asf/camel/trunk/components/camel-exec/src/main/java/org/apache/camel/component/exec/impl/ExecParseUtils.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;a link to to the parser&lt;/a&gt; and a link to the &lt;a href=&quot;https://svn.apache.org/repos/asf/camel/trunk/components/camel-exec/src/test/java/org/apache/camel/component/exec/impl/ExecParseUtilsTest.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;unit tests&lt;/a&gt;. &lt;/p&gt;

&lt;p&gt;What do you think of this approach? Is it applicable to commons-exec?&lt;/p&gt;

&lt;p&gt;Regards,&lt;br/&gt;
Mitko&lt;/p&gt;</comment>
                            <comment id="12855182" author="sgoeschl" created="Thu, 8 Apr 2010 22:05:24 +0000"  >&lt;p&gt;Hi Mitko,&lt;/p&gt;

&lt;p&gt;let me have a look at it at the end of next week (I have to finish a paper at the end of next week)&lt;/p&gt;

&lt;p&gt;Cheers,&lt;/p&gt;

&lt;p&gt;Siegfried Goeschl&lt;/p&gt;</comment>
                            <comment id="12898639" author="sgoeschl" created="Sat, 14 Aug 2010 20:04:56 +0000"  >&lt;p&gt;Code based on Mitko&apos;s work in Apache Camel&lt;/p&gt;</comment>
                            <comment id="12898640" author="sgoeschl" created="Sat, 14 Aug 2010 20:12:41 +0000"  >&lt;p&gt;When using the API to build the command line incrementally (and not parsing the command line string) it is possible to recreate Kai&apos;s command line as shown in DefaultExecutorTest#testExec36_1() under Unix.&lt;/p&gt;</comment>
                            <comment id="13012363" author="trurl23" created="Tue, 29 Mar 2011 07:17:38 +0000"  >&lt;p&gt;Hello,&lt;/p&gt;

&lt;p&gt;I&apos;m experiencing the same issue using CommandLine.parse() with commons-exec-1.1. The code works fine with Windows, gracefully handling quotes around file names with spaces but breaks when running in GNU/Linux. So this seems to affect only Linux systems.&lt;/p&gt;

&lt;p&gt;Regards,&lt;br/&gt;
  Jakob&lt;/p&gt;</comment>
                            <comment id="13012379" author="sgoeschl" created="Tue, 29 Mar 2011 08:13:43 +0000"  >&lt;p&gt;Hi Jakob - can you provide more details &lt;/p&gt;

&lt;p&gt;+) example of command line&lt;br/&gt;
+) what application are you starting (executable versus shell script)&lt;/p&gt;

&lt;p&gt;Sigi&lt;/p&gt;</comment>
                            <comment id="13058512" author="kedar.raybagkar" created="Fri, 1 Jul 2011 12:06:54 +0000"  >&lt;p&gt;StringUtils also needs a change to handle the issue of quote...&lt;br/&gt;
Trip the ending as well as starting double or single quote if they start or end with quotes.&lt;/p&gt;

&lt;p&gt;method static String quoteArgument...&lt;/p&gt;

&lt;p&gt;        while((argument.trim().endsWith(SINGLE_QUOTE) || argument.trim().endsWith(DOUBLE_QUOTE)) &lt;br/&gt;
        		&amp;amp;&amp;amp; cleanedArgument.startsWith(SINGLE_QUOTE) || cleanedArgument.startsWith(DOUBLE_QUOTE)) &lt;/p&gt;
{
            cleanedArgument = cleanedArgument.substring(1);
        }

&lt;p&gt;        while((argument.trim().startsWith(SINGLE_QUOTE) || argument.trim().startsWith(DOUBLE_QUOTE)) &lt;br/&gt;
        		&amp;amp;&amp;amp; cleanedArgument.endsWith(SINGLE_QUOTE) || cleanedArgument.endsWith(DOUBLE_QUOTE)) &lt;/p&gt;
{
            cleanedArgument = cleanedArgument.substring(0, cleanedArgument.length() - 1);
        }

</comment>
                            <comment id="13059374" author="kedar.raybagkar" created="Mon, 4 Jul 2011 09:57:24 +0000"  >&lt;p&gt;Another thing that I noticed was that Argument inner class trims the value data therefore if a command line has &quot;ABC &quot; then the space is removed. The same problem is also found in StringUtils which to trims the data. After commenting the two trim portions, it works for any string that has a space inside a double quote. All tests were executed successfully.&lt;/p&gt;</comment>
                            <comment id="13138242" author="ceefour" created="Fri, 28 Oct 2011 11:58:16 +0000"  >&lt;p&gt;The string&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;web adoh &apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;is quoted into&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-quote&quot;&gt;&quot;web adoh&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;where it should be&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-quote&quot;&gt;&quot;web adoh &apos;&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13178742" author="lcorneliussen" created="Tue, 3 Jan 2012 14:06:09 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;I&apos;m facing the same problem from StringUtils.quoteArgument() in Apache NPanday (incubator, Maven for .NET)&lt;/p&gt;

&lt;p&gt;_&lt;br/&gt;
Lars&lt;/p&gt;</comment>
                            <comment id="13199656" author="alexriva68" created="Fri, 3 Feb 2012 11:45:14 +0000"  >&lt;p&gt;Proposed fix&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12452109" name="ExecParseUtils.java" size="3787" author="sgoeschl" created="Sat, 14 Aug 2010 20:04:56 +0000"/>
                            <attachment id="12452110" name="ExecParseUtilsTest.java" size="5849" author="sgoeschl" created="Sat, 14 Aug 2010 20:04:56 +0000"/>
                            <attachment id="12513120" name="StringUtils.java" size="9206" author="alexriva68" created="Fri, 3 Feb 2012 11:45:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>69320</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 39 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i19xxz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>266133</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-35] inefficiencies identified by findbugs</title>
                <link>https://issues.apache.org/jira/browse/EXEC-35</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;I&apos;ve run findbugs, it shows the following issues:&lt;/p&gt;

&lt;p&gt;DefaultExecutor (line 203)&lt;br/&gt;
  setExitValues(int[]) may expose internal representation by storing an&lt;br/&gt;
  externally mutable object into DefaultExecutor.exitValues 	&lt;/p&gt;

&lt;p&gt;DefaultProcessingEnvironment (lines 169 and 171)&lt;br/&gt;
  Hard coded reference to an absolute pathname&lt;/p&gt;

&lt;p&gt;DefaultProcessingEnvironment (line 108) and&lt;br/&gt;
OpenVmsProcessingEnvironment (line 89)&lt;br/&gt;
  concatenates strings using + in a loop&lt;/p&gt;

&lt;p&gt;OpenVmsProcessingEnvironment (line 114) and&lt;br/&gt;
MapUtils (line 72)&lt;br/&gt;
  inefficient use of keySet iterator instead of entrySet iterator&lt;/p&gt;

&lt;p&gt;The first issue should probably be fixed by cloning the array, but does&lt;br/&gt;
not appear to be an important problem. The second issue is a false&lt;br/&gt;
positive (if findbugs were activated by default in the pom, this could&lt;br/&gt;
be prevented by a configured exclusion file). The remaining issues are&lt;br/&gt;
harmless.&lt;/p&gt;

&lt;p&gt;I will provide a patch to fix these issues shortly&lt;/p&gt;</description>
                <environment>&lt;p&gt;linux&lt;/p&gt;</environment>
        <key id="12411719">EXEC-35</key>
            <summary>inefficiencies identified by findbugs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sgoeschl">Siegfried Goeschl</assignee>
                                    <reporter username="luc">Luc Maisonobe</reporter>
                        <labels>
                    </labels>
                <created>Mon, 5 Jan 2009 21:48:15 +0000</created>
                <updated>Sun, 24 Oct 2010 19:58:34 +0000</updated>
                            <resolved>Tue, 17 Feb 2009 23:32:32 +0000</resolved>
                                    <version>1.0</version>
                                    <fixVersion>1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12660942" author="luc" created="Mon, 5 Jan 2009 21:49:21 +0000"  >&lt;p&gt;patch to fix the java sources&lt;/p&gt;</comment>
                            <comment id="12660946" author="luc" created="Mon, 5 Jan 2009 22:00:04 +0000"  >&lt;p&gt;patch to set up findbugs and avoid some false positives&lt;/p&gt;</comment>
                            <comment id="12674391" author="sgoeschl" created="Tue, 17 Feb 2009 23:23:09 +0000"  >&lt;p&gt;The patch regarding DefaultProcessingEnvironment and OpenVmsProcessingEnvironment I will not apply - I&apos;m not 100% sure that the patch will not introduce problems and using string concatentation is fine for me when being used for 30 environment variables.&lt;/p&gt;</comment>
                            <comment id="12674394" author="sgoeschl" created="Tue, 17 Feb 2009 23:32:32 +0000"  >&lt;p&gt;Applied the patch but skipped it for parts of OpenVmsProcessingEnvironment and DefaultProcessingEnvironment to avoid undesired side-effects.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12397152" name="findbugs-configuration.patch" size="2568" author="luc" created="Mon, 5 Jan 2009 22:00:04 +0000"/>
                            <attachment id="12397150" name="findbugs-fixes.patch" size="5908" author="luc" created="Mon, 5 Jan 2009 21:49:20 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>117739</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 38 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tp3j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>171375</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-34] Race condition prevent watchdog working using ExecuteStreamHandler</title>
                <link>https://issues.apache.org/jira/browse/EXEC-34</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;Consider this test case (in &lt;em&gt;DefaultExecutorTest&lt;/em&gt; class):&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;    /**
     * Start a async process using a stream handler and terminate it manually
     * before the watchdog timeout occurs
     */
    public void testExecuteAsyncWithStreamHandlerAndUserTermination() throws Exception {
        CommandLine cl = new CommandLine(foreverTestScript);
        ExecuteWatchdog watchdog = new ExecuteWatchdog(Integer.MAX_VALUE);
        PumpStreamHandler streamHanlder = new PumpStreamHandler(System.out, System.err);
        exec.setStreamHandler(streamHanlder);
        MockExecuteResultHandler handler = new MockExecuteResultHandler();
        exec.execute(cl, handler);
        // DON&apos;T wait for script to run
        //Thread.sleep(2000);
        // teminate it
        watchdog.destroyProcess();
        assertTrue(&quot;Watchdog should have killed the process&quot;,watchdog.killedProcess());
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It fails (at least in my environment) because when &lt;em&gt;watchdog.destroyProcess()&lt;/em&gt; is invoked the external process is not bound to the watchdog yet.&lt;/p&gt;

&lt;p&gt;Although there are possible several workarounds, but all of them seem to me very intrusive in the code. So, I prefer some discussion before preparing and submitting a patch.&lt;br/&gt;
IMHO, the watchdog should handle a reference to the thread running the process, not to the process itself. In this way, interrupting signals can be transport using default &lt;em&gt;interrupt()&lt;/em&gt; method of class &lt;em&gt;Thread&lt;/em&gt;.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows Vista 64bit, dual core CPU&lt;/p&gt;</environment>
        <key id="12411695">EXEC-34</key>
            <summary>Race condition prevent watchdog working using ExecuteStreamHandler</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="simone.tripodi">Simone Tripodi</assignee>
                                    <reporter username="mferrante">Marco Ferrante</reporter>
                        <labels>
                    </labels>
                <created>Mon, 5 Jan 2009 16:20:41 +0000</created>
                <updated>Sat, 28 Dec 2013 18:21:15 +0000</updated>
                            <resolved>Wed, 30 Nov 2011 07:59:29 +0000</resolved>
                                                    <fixVersion>1.2</fixVersion>
                                        <due></due>
                            <votes>3</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12662929" author="sgoeschl" created="Mon, 12 Jan 2009 10:39:08 +0000"  >&lt;p&gt;To be honest I was aware of the issue therefore the &quot;Thread.sleep&quot; statements in the regression tests. Having said that I think this is an artificial use case since I have to wait for some time for any external process to start and finish before I consider the process &quot;hanging&quot;. &lt;/p&gt;</comment>
                            <comment id="12769177" author="kwin" created="Fri, 23 Oct 2009 11:03:10 +0000"  >&lt;p&gt;The same applies to e.g. isWatching(). I first tried to wait for an asynchronous process to finish, with the help of ExecuteWatchdog.isWatching(), apparently with no success, due to this bug. You should at least document this flaw.&lt;/p&gt;</comment>
                            <comment id="12897876" author="sgoeschl" created="Thu, 12 Aug 2010 18:20:07 +0000"  >&lt;p&gt;Changing priority to minor since this is an artificial problem not happening in production - nobody would start a subprocess and immediately kill it.&lt;/p&gt;</comment>
                            <comment id="12898631" author="sgoeschl" created="Sat, 14 Aug 2010 19:33:24 +0000"  >&lt;p&gt;Well, actually the sample is buggy since the following line is missing&lt;/p&gt;

&lt;p&gt;exec.setWatchdog(watchdog)&lt;/p&gt;

&lt;p&gt;which injects the newly created &apos;Process&apos; instance into the watchdog and without *Process&apos; instance &apos;watchdog.destroy()&apos; has no effect&lt;/p&gt;</comment>
                            <comment id="13152758" author="krosenvold" created="Fri, 18 Nov 2011 09:59:17 +0000"  >&lt;p&gt;Atatched is a patch that fixes &lt;a href=&quot;https://issues.apache.org/jira/browse/EXEC-34&quot; title=&quot;Race condition prevent watchdog working using ExecuteStreamHandler&quot; class=&quot;issue-link&quot; data-issue-key=&quot;EXEC-34&quot;&gt;&lt;del&gt;EXEC-34&lt;/del&gt;&lt;/a&gt;. The patch enables the failing tests that were already in the codebase.&lt;/p&gt;

&lt;p&gt;We have just ported the selenium project to commons-exec, and I think all sorts of TESTS are the valid use cases for this patch; for instance: A test starts a process, and wants to verify that the process is running. That implies calling watching.isWatching as one option. We had /lots/ of problems with this race condition when porting selenium and we worked around the problem by subclassing the watchdog.&lt;/p&gt;

&lt;p&gt;I will also be porting apache-maven to use commons-exec sometime soon, and I expect to be running into the same problems with tests there.&lt;/p&gt;</comment>
                            <comment id="13155214" author="simone.tripodi" created="Tue, 22 Nov 2011 15:51:21 +0000"  >&lt;p&gt;Hi Kristian,&lt;br/&gt;
I&apos;m trying to apply your patch and just noticed you created it using git - can you provide me infos about how to apply it to svn? Sorry but that&apos;s a lack of my knowledge.&lt;br/&gt;
Many thanks in advance!&lt;br/&gt;
Simo&lt;/p&gt;</comment>
                            <comment id="13157172" author="olamy" created="Fri, 25 Nov 2011 14:36:14 +0000"  >&lt;p&gt;@simone should work with:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;patch -p1 &amp;lt; patchfile
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13157264" author="sebb@apache.org" created="Fri, 25 Nov 2011 17:43:43 +0000"  >&lt;p&gt;Or just change the patch headers. Instead of&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;diff --git a/src/main/java/org/apache/commons/exec/DefaultExecutor.java b/src/main/java/org/apache/commons/exec/DefaultExecutor.java&lt;br/&gt;
index 2182d85..2110e02 100644&lt;br/&gt;
&amp;#8212; a/src/main/java/org/apache/commons/exec/DefaultExecutor.java&lt;br/&gt;
+++ b/src/main/java/org/apache/commons/exec/DefaultExecutor.java&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;change it to be&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&amp;#8212; src/main/java/org/apache/commons/exec/DefaultExecutor.java&lt;br/&gt;
+++ src/main/java/org/apache/commons/exec/DefaultExecutor.java&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;and it should work.&lt;/p&gt;

&lt;p&gt;Yes, it&apos;s a bit tedious. &lt;br/&gt;
I find I often have to do a similar trick with Eclipse-generated patches which default to being relative to the workspace. This is not portable, unless both workspaces use exactly the same project names.&lt;/p&gt;</comment>
                            <comment id="13159560" author="olamy" created="Tue, 29 Nov 2011 21:35:26 +0000"  >&lt;p&gt;+1: nice patch!&lt;/p&gt;</comment>
                            <comment id="13159890" author="simone.tripodi" created="Wed, 30 Nov 2011 07:59:32 +0000"  >&lt;p&gt;Patch has been successfully applied, see &lt;a href=&quot;https://svn.apache.org/viewvc?view=revision&amp;amp;revision=1208315&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1208315&lt;/a&gt; thanks Kristian for submitting the patch!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="12623058">EXEC-71</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12504192" name="EXEC34.patch" size="3995" author="krosenvold" created="Fri, 18 Nov 2011 09:59:17 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>117738</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 49 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i13suv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>230305</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-33] PumpStreamHandler hangs if System.in is redirect to process input stream</title>
                <link>https://issues.apache.org/jira/browse/EXEC-33</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;When process input is redirected using a PumpStreamHandler, e.g.&lt;/p&gt;


&lt;p&gt;      PumpStreamHandler streamHanlder = new PumpStreamHandler(out, err, System.in); &lt;br/&gt;
      exec.setStreamHandler(streamHanlder);&lt;br/&gt;
      MockExecuteResultHandler handler = new MockExecuteResultHandler();&lt;br/&gt;
      exec.execute(cl, handler);&lt;/p&gt;

&lt;p&gt;the process hangs and never exit.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows Vista&lt;/p&gt;</environment>
        <key id="12411528">EXEC-33</key>
            <summary>PumpStreamHandler hangs if System.in is redirect to process input stream</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sgoeschl">Siegfried Goeschl</assignee>
                                    <reporter username="mferrante">Marco Ferrante</reporter>
                        <labels>
                    </labels>
                <created>Wed, 31 Dec 2008 14:16:03 +0000</created>
                <updated>Sun, 24 Oct 2010 19:58:33 +0000</updated>
                            <resolved>Mon, 28 Sep 2009 20:58:58 +0000</resolved>
                                    <version>1.0</version>
                                    <fixVersion>1.0.1</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="12663498" author="sgoeschl" created="Tue, 13 Jan 2009 22:17:25 +0000"  >&lt;p&gt;Confirmed so far ...&lt;/p&gt;

&lt;p&gt;+) the following test script hangs&lt;br/&gt;
+) one worker thread stll hang in  StreamPumper.java&lt;br/&gt;
+) Having said this I have a working test case for redirecting a FileInputStream instead of System.in so I&apos;m a bit pussled&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt; 
    /**
     * Start a process and connect stdin, stdout and stderr. This 
     * test currenty hang ....
     */
    public void testExecuteWithStdin() throws Exception
    {
        CommandLine cl = new CommandLine(testScript);
        PumpStreamHandler pumpStreamHandler = new PumpStreamHandler( System.out, System.err, System.in );
        DefaultExecutor executor = new DefaultExecutor();
        executor.setStreamHandler( pumpStreamHandler );
        int exitValue = executor.execute(cl);
        assertFalse(exec.isFailure(exitValue));
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; </comment>
                            <comment id="12663915" author="bentmann" created="Wed, 14 Jan 2009 22:42:44 +0000"  >&lt;p&gt;The problematic code can be reduced to:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;InputStream is = &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.in;
OutputStream os = &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out;

&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] buf = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[4096];
&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; length;
&lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; ((length = is.read(buf)) &amp;gt; 0) {
    os.write(buf, 0, length);
}
&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;DONE&quot;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;i.e. this hangs, too. It appears that&apos;s a basic Java issue, cf. Sun bugs &lt;a href=&quot;http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4514257&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;#4514257&lt;/a&gt;, &lt;a href=&quot;http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4385444&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;#4385444&lt;/a&gt; and related. Basically &lt;tt&gt;System.in&lt;/tt&gt; is an open but empty stream, so the call &lt;tt&gt;InputStream.read()&lt;/tt&gt; will block infinitely. As the mentioned Sun issues point out, &lt;tt&gt;Thread.interrupt()&lt;/tt&gt; doesn&apos;t help either once the blocking call to &lt;tt&gt;read()&lt;/tt&gt; has been made.&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;InputStream.available()&lt;/tt&gt; seems the only non-blocking way to detect the empty state of the stream but unfortunately it doesn&apos;t detect whether the stream is closed.&lt;/p&gt;

&lt;p&gt;Maybe one needs a special &lt;tt&gt;StreamPumper&lt;/tt&gt; (e.g. subclass) for the &lt;tt&gt;inputThread&lt;/tt&gt; that pumps the streams via polling, i.e. &lt;tt&gt;available()&lt;/tt&gt; + &lt;tt&gt;read()&lt;/tt&gt; + &lt;tt&gt;Thread.sleep()&lt;/tt&gt;, and gets terminated when interrupted from outside, i.e. by &lt;tt&gt;PumpStreamHandler.stop()&lt;/tt&gt;, instead of stream closing. When the subprocess has exited, there is no need to pump further input into it, so terminating the &lt;tt&gt;inputThread&lt;/tt&gt; in &lt;tt&gt;PumpStreamHandler.stop()&lt;/tt&gt; without consuming all of the input shouldn&apos;t be a problem. Surely, beauty is something else.&lt;/p&gt;</comment>
                            <comment id="12664028" author="joehni" created="Thu, 15 Jan 2009 07:43:44 +0000"  >&lt;blockquote&gt;
&lt;p&gt;As the mentioned Sun issues point out, Thread.interrupt() doesn&apos;t help either once the blocking call to read() has been made.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;This is actually not completely true. It depends on the implementation of the JVM and the underlaying platform. On Solaris read() will be interrupted and throwing an InterruptedIOException. So be prepared to deal with both situations.&lt;/p&gt;</comment>
                            <comment id="12664043" author="bentmann" created="Thu, 15 Jan 2009 08:38:56 +0000"  >&lt;blockquote&gt;&lt;p&gt;It depends on the implementation of the JVM and the underlaying platform. On Solaris read() will be interrupted &lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Correct, additionally depends on the JVM flags passed in (UseVMInterruptibleIO).&lt;/p&gt;

&lt;p&gt;My intention was merely to point out that we have no reliable/general/platform-independent way of interrupting &lt;tt&gt;read()&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="12664061" author="sgoeschl" created="Thu, 15 Jan 2009 09:40:39 +0000"  >&lt;p&gt;I think the checking System.in might solve the problem since it would be a bug to close stdin anyway - so having a smarter StreamPumper might be worth the effort. Many thanks for Benjamin and Joerg for helping me on this issue .....&lt;/p&gt;</comment>
                            <comment id="12664261" author="mferrante" created="Thu, 15 Jan 2009 20:55:14 +0000"  >&lt;p&gt;If I understand your suggestion correctly, this patch should be enough to work around the problem; at least, it passes the test case.&lt;/p&gt;</comment>
                            <comment id="12664498" author="sgoeschl" created="Fri, 16 Jan 2009 11:37:35 +0000"  >&lt;p&gt;Well, you are dodging the bullet - the question is can you do something meaningful with the redirected System.in in your application?&lt;/p&gt;</comment>
                            <comment id="12674395" author="sgoeschl" created="Tue, 17 Feb 2009 23:35:05 +0000"  >&lt;p&gt;Fixing this correctly on all platforms does not look easy so I will look at it after the first release.&lt;/p&gt;</comment>
                            <comment id="12674398" author="sgoeschl" created="Tue, 17 Feb 2009 23:46:05 +0000"  >&lt;p&gt;Throwing an IllegalArgumentException when System.in is used to notify the user ....&lt;/p&gt;</comment>
                            <comment id="12698695" author="mkleint" created="Tue, 14 Apr 2009 08:06:48 +0000"  >&lt;p&gt;attached is a suggested patch that was tested with a modified exec-maven-plugin (modified to use commons-exec instead of plexus-utils for execution)&lt;/p&gt;
</comment>
                            <comment id="12698833" author="bentmann" created="Tue, 14 Apr 2009 17:04:59 +0000"  >&lt;p&gt;Milos, shouldn&apos;t the inner &lt;tt&gt;while&lt;/tt&gt; loop of &lt;tt&gt;InputStreamPumper.run()} also check the {{stop&lt;/tt&gt; flag to make sure processing stops when requested and not when the input is exhausted?&lt;/p&gt;</comment>
                            <comment id="12699060" author="mkleint" created="Wed, 15 Apr 2009 05:21:50 +0000"  >&lt;p&gt;Benjamin, that would be an improvement for sure. Typically you wouldn&apos;t type as fast as 10 characters per second, but you can surely copy&amp;amp;paste a large amount of text and then it would be more than useful to the the inner loop to stop as well.&lt;/p&gt;</comment>
                            <comment id="12700560" author="sgoeschl" created="Sun, 19 Apr 2009 07:48:39 +0000"  >&lt;p&gt;Milos, I&apos;m completely busy the next few days so it looks like next weekend for the patch .... &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12704816" author="sgoeschl" created="Thu, 30 Apr 2009 22:21:55 +0000"  >&lt;p&gt;Milos, I applied the patch - can you make a quick retest so I can plan a release ... &lt;/p&gt;</comment>
                            <comment id="12706413" author="mkleint" created="Wed, 6 May 2009 13:09:16 +0000"  >&lt;p&gt;yes, it works.&lt;br/&gt;
I have updated svn, rebuilt commons-exec. Used the snapshot in exec-mojo-plugin (wit simplified patch from &lt;a href=&quot;http://jira.codehaus.org/browse/MEXEC-25&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jira.codehaus.org/browse/MEXEC-25&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;used that exec plugin in netbeans for an app that processes output. Seems to work as expected.&lt;/p&gt;
</comment>
                            <comment id="12717601" author="mkleint" created="Tue, 9 Jun 2009 08:15:41 +0000"  >&lt;p&gt;is the new release still in the pipeline?&lt;/p&gt;</comment>
                            <comment id="12717610" author="sgoeschl" created="Tue, 9 Jun 2009 08:33:52 +0000"  >&lt;p&gt;Yes - I was sucked up in a customer project for the last two months but workload becomes normal. So I will cut an RC next week&lt;/p&gt;</comment>
                            <comment id="12728561" author="mkleint" created="Wed, 8 Jul 2009 08:35:17 +0000"  >&lt;p&gt;ping? &lt;/p&gt;

&lt;p&gt;I need the commons-exec released to have exec-maven-plugin released to be included in the next netbeans release. Quite a long chain, that&apos;s why I keep on pushing..&lt;/p&gt;</comment>
                            <comment id="12730914" author="sgoeschl" created="Tue, 14 Jul 2009 15:18:07 +0000"  >&lt;p&gt;I&apos;m starting to cut an RC for commons-exec-1.0.1 ...&lt;/p&gt;</comment>
                            <comment id="12742801" author="mkleint" created="Thu, 13 Aug 2009 11:25:56 +0000"  >&lt;p&gt;any updates?&lt;/p&gt;

&lt;p&gt;The bug is still open, does it mean the patch hasn&apos;t been applied yet?&lt;/p&gt;</comment>
                            <comment id="12756404" author="aheritier" created="Thu, 17 Sep 2009 07:51:24 +0000"  >&lt;p&gt;Hi, do you know when you&apos;ll fix this issue and when you&apos;l release the 1.0.1 ?&lt;br/&gt;
It&apos;s really annoying to not being able to fix the issue we have in the Exec Mojo.&lt;br/&gt;
If it&apos;s too long, we&apos;ll have to see if we can use another library or if we fork yours.&lt;/p&gt;</comment>
                            <comment id="12758458" author="sgoeschl" created="Tue, 22 Sep 2009 21:48:29 +0000"  >&lt;p&gt;The patch is long applied but my release candidate got stuck due to M2 and SVN problems many moons ago ... I give it another go now&lt;/p&gt;</comment>
                            <comment id="12758629" author="aheritier" created="Wed, 23 Sep 2009 08:06:10 +0000"  >&lt;p&gt;ok, let us know if we can help you.&lt;/p&gt;</comment>
                            <comment id="12760195" author="henrib" created="Mon, 28 Sep 2009 09:14:38 +0000"  >&lt;p&gt;Btw, the same pb occured on Mac OSX with unit tests hanging, even with the fix.&lt;/p&gt;

&lt;p&gt;Committed a modification:&lt;br/&gt;
URL: &lt;a href=&quot;http://svn.apache.org/viewvc?rev=818863&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?rev=818863&amp;amp;view=rev&lt;/a&gt;&lt;br/&gt;
Log: &lt;br/&gt;
On a Mac, the unit tests never finish. Culprit is InputStreamPumper which sets its stop member in the run method; however, run might really be executed after the stopProcessing method is called if the process thread completes before the InputStreamPumper starts. &lt;/p&gt;

&lt;p&gt;Modified: &lt;br/&gt;
    commons/proper/exec/trunk/src/main/java/org/apache/commons/exec/InputStreamPumper.java &lt;/p&gt;</comment>
                            <comment id="12760380" author="sgoeschl" created="Mon, 28 Sep 2009 20:58:57 +0000"  >&lt;p&gt;Added a line in changes.xml to document the modification&lt;/p&gt;</comment>
                            <comment id="12760398" author="sgoeschl" created="Mon, 28 Sep 2009 21:41:58 +0000"  >&lt;p&gt;Hi Arnaud and Milos,&lt;/p&gt;

&lt;p&gt;I&apos;m simply unable to bring the RC out of the door - I have now SSH issues after solving my SVN problems. Either you have some more patience while I&apos;m sorting out the infrastructure or you make a private fork&lt;/p&gt;

&lt;p&gt;Sorry for the inconvinience&lt;/p&gt;</comment>
                            <comment id="12760399" author="aheritier" created="Mon, 28 Sep 2009 21:47:18 +0000"  >&lt;p&gt;I prefer to wait some days/weeks before to create a private fork. Thx for your help. I hope your ssh issue will be fixed soon.&lt;/p&gt;</comment>
                            <comment id="12762087" author="brettporter" created="Mon, 5 Oct 2009 04:56:22 +0000"  >&lt;p&gt;Siegfried - did you sort them out? I think Phil&apos;s comment on commons-dev will help - if there&apos;s anything you need then please let me know.&lt;/p&gt;</comment>
                            <comment id="12762873" author="sgoeschl" created="Wed, 7 Oct 2009 05:22:22 +0000"  >&lt;p&gt;One more task for late night action hero - upgrade to Maven 2.2.1 to get the release candidate going ... &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12405400" name="EXEC33.patch" size="4960" author="mkleint" created="Tue, 14 Apr 2009 08:06:47 +0000"/>
                            <attachment id="12398009" name="PumpStreamHandler.patch" size="609" author="mferrante" created="Thu, 15 Jan 2009 20:55:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>117737</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 5 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tp2f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>171370</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-32] PumpStreamHandler handles null streams  inconsistently</title>
                <link>https://issues.apache.org/jira/browse/EXEC-32</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;Passing null arguments in &lt;tt&gt;PumpStreamHandler&lt;/tt&gt; constructors produces hard-to-understand errors.&lt;/p&gt;

&lt;p&gt;E.g.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  PumpStreamHandler streamHanlder = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PumpStreamHandler(&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out, &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.err, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;works correctly, so you can expect that &lt;em&gt;null&lt;/em&gt; is a valid argument.&lt;/p&gt;

&lt;p&gt;Instead&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  PumpStreamHandler streamHanlder = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PumpStreamHandler(&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;raise a &lt;tt&gt;NullPointerException&lt;/tt&gt;  when &lt;tt&gt;Executor.execute()&lt;/tt&gt;  is invoked.&lt;br/&gt;
Note that exception is raised by the &lt;tt&gt;start()&lt;/tt&gt;  method of &lt;tt&gt;PumpStreamHandler&lt;/tt&gt; .&lt;/p&gt;

&lt;p&gt;Surprisingly&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  PumpStreamHandler streamHanlder = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PumpStreamHandler(&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.err, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;starts correctly, but fails with a &lt;tt&gt;NullPointerException&lt;/tt&gt;  when the process exits.&lt;br/&gt;
In this case, the exception is raised by the &lt;tt&gt;stop()&lt;/tt&gt;  method of &lt;tt&gt;PumpStreamHandler&lt;/tt&gt; .&lt;/p&gt;

&lt;p&gt;I think that the behavior should be more consistent and, if necessary, errors must be reported earlier.&lt;br/&gt;
So I suggest two alternatives:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;if a null argument is passed to a constructor as stdout/stderr an exception is raised immediately&lt;/li&gt;
	&lt;li&gt;or, if stdout or stderr are set to null, default &lt;tt&gt;System.out&lt;/tt&gt;  and &lt;tt&gt;System.err&lt;/tt&gt;  are used instead.&lt;br/&gt;
At least, the error should be reported before starting process in every case.&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12411477">EXEC-32</key>
            <summary>PumpStreamHandler handles null streams  inconsistently</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sgoeschl">Siegfried Goeschl</assignee>
                                    <reporter username="mferrante">Marco Ferrante</reporter>
                        <labels>
                    </labels>
                <created>Tue, 30 Dec 2008 16:29:09 +0000</created>
                <updated>Sun, 24 Oct 2010 19:58:33 +0000</updated>
                            <resolved>Sun, 1 Feb 2009 21:19:38 +0000</resolved>
                                                    <fixVersion>1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12665452" author="mferrante" created="Tue, 20 Jan 2009 16:06:31 +0000"  >&lt;p&gt;With the patch attached, redirection of &lt;em&gt;output&lt;/em&gt; or &lt;em&gt;error&lt;/em&gt; streams to &lt;tt&gt;null&lt;/tt&gt; will discharge feedback silently, without errors.&lt;/p&gt;

&lt;p&gt;Three new test cases are included.&lt;/p&gt;</comment>
                            <comment id="12669453" author="sgoeschl" created="Sun, 1 Feb 2009 21:19:38 +0000"  >&lt;p&gt;Applied that patch (my code was already a little bit out-of-sync)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12398307" name="DefaultExecutorTest.patch" size="1830" author="mferrante" created="Tue, 20 Jan 2009 16:06:31 +0000"/>
                            <attachment id="12398306" name="PumpStreamHandler.patch" size="2271" author="mferrante" created="Tue, 20 Jan 2009 16:06:31 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>40286</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 40 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tp0n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>171362</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-31] Fix handling of empty environment for forked process</title>
                <link>https://issues.apache.org/jira/browse/EXEC-31</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;The current implementation of &lt;tt&gt;EnvironmentUtil.toStrings()&lt;/tt&gt; will turn an empty map into a null array. The &lt;tt&gt;CommandLauncher&lt;/tt&gt; implementations will then pass this array to &lt;tt&gt;Runtime.exec()&lt;/tt&gt;. However, passing in &lt;tt&gt;null&lt;/tt&gt; for the env argument means to inherit the enviroment, this is not the same as using an empty environment as specified by the caller. In other words, the semantics of a null map and an empty map clash which I believe shouldn&apos;t.&lt;/p&gt;

&lt;p&gt;I suggest to have &lt;tt&gt;EnviromentUtils.toStrings()&lt;/tt&gt;&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;output an emtpy array upon input of an empty map&lt;/li&gt;
	&lt;li&gt;output &lt;tt&gt;null&lt;/tt&gt; upon input of &lt;tt&gt;null&lt;/tt&gt; (primarily to ease usage, e.g. in the &lt;tt&gt;CommandLauncher&lt;/tt&gt;&apos;s)&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12401083">EXEC-31</key>
            <summary>Fix handling of empty environment for forked process</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sgoeschl">Siegfried Goeschl</assignee>
                                    <reporter username="bentmann">Benjamin Bentmann</reporter>
                        <labels>
                    </labels>
                <created>Sat, 26 Jul 2008 13:42:46 +0000</created>
                <updated>Sun, 24 Oct 2010 19:58:33 +0000</updated>
                            <resolved>Tue, 18 Nov 2008 14:01:54 +0000</resolved>
                                    <version>1.0</version>
                                    <fixVersion>1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12647487" author="sgoeschl" created="Fri, 14 Nov 2008 00:55:23 +0000"  >&lt;p&gt;I think you are right regarding the clash - just aplied the patch and it breaks EnvironmentUtilTest.testGetProcEnvironment ... &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; ... so I have to analyze the code in more detail&lt;/p&gt;</comment>
                            <comment id="12648599" author="sgoeschl" created="Tue, 18 Nov 2008 14:01:54 +0000"  >&lt;p&gt;Applied the changes to SVN and fixed the broken test case and it will be part of 1.0&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12386956" name="EXEC-31.patch" size="3176" author="bentmann" created="Sat, 26 Jul 2008 13:43:18 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>40284</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 51 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tp27:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>171369</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-25] Test failures on Windows</title>
                <link>https://issues.apache.org/jira/browse/EXEC-25</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;When I run the tests for exec using &apos;mvn test&apos; I get the following error.&lt;/p&gt;

&lt;p&gt;junit.framework.AssertionFailedError: Arrays not equal&lt;br/&gt;
	at org.apache.commons.exec.CommandLineTest.assertEquals(CommandLineTest.java:31)&lt;br/&gt;
	at org.apache.commons.exec.CommandLineTest.testCommandLineParsingWithExpansion2(CommandLineTest.java:320)&lt;/p&gt;

&lt;p&gt;As far as I can tell there are two problems with the code:&lt;/p&gt;

&lt;p&gt;1. The test cases need to take into account that there are different file separators on Windows and Unix.&lt;br/&gt;
That&apos;s easy enough to fix. I just added this&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; replaceFileSeparator(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; input) {
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; input.replace(&lt;span class=&quot;code-quote&quot;&gt;&apos;/&apos;&lt;/span&gt;, File.separatorChar).replace(&lt;span class=&quot;code-quote&quot;&gt;&apos;\\&apos;&lt;/span&gt;, File.separatorChar);
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and wrapped the first element of the &quot;expected&quot; String arrays with it.&lt;/p&gt;

&lt;p&gt;2. Variable substitution isn&apos;t performed correctly.&lt;br/&gt;
After adding the above I got test failures on Unix. I debugged the test case and found out that the value of the command line executable was this: &quot; C:\Programme\jdk1.5.0_12/bin/java&quot;. This suggests to me that variable substitution is performed &lt;b&gt;after&lt;/b&gt; CommandLine.setExecutable(String) is performed, resulting in an executable with possibly wrong file separators.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12399216">EXEC-25</key>
            <summary>Test failures on Windows</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sgoeschl">Siegfried Goeschl</assignee>
                                    <reporter username="dennisl@apache.org">Dennis Lundberg</reporter>
                        <labels>
                    </labels>
                <created>Sat, 28 Jun 2008 08:33:59 +0000</created>
                <updated>Sat, 19 Jul 2008 12:27:19 +0000</updated>
                            <resolved>Fri, 18 Jul 2008 20:39:40 +0000</resolved>
                                                    <fixVersion>1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12614862" author="sgoeschl" created="Fri, 18 Jul 2008 20:39:40 +0000"  >&lt;p&gt;+) doing variable substitution and file separator fixing for the command line argument&lt;br/&gt;
+) doing variable substitution BUT NO file separator fixing for the command line argument&lt;br/&gt;
+) took the time to cleanup and re-factor some code to StringUtils&lt;/p&gt;</comment>
                            <comment id="12614986" author="dennisl@apache.org" created="Sat, 19 Jul 2008 12:27:18 +0000"  >&lt;p&gt;I have verified that tests now run successfully on both Windows and Ubuntu.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>117731</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 16 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tp0f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>171361</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-22] [exec] Generalize ProcessDestroyer</title>
                <link>https://issues.apache.org/jira/browse/EXEC-22</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;ProcessDestroyer is currently an implementation that destroys all Processes&lt;br/&gt;
still alive when the VM exits. It should be generalized so that other&lt;br/&gt;
implementations could be plugged in, for example to destroy Processes when an&lt;br/&gt;
application is undeployed.&lt;/p&gt;

&lt;p&gt;Note that this bug does not cover the issue of ProcessDestroyer being mandatory,&lt;br/&gt;
that another bug soon to be created.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12342497">EXEC-22</key>
            <summary>[exec] Generalize ProcessDestroyer</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="niklas">Niklas Therning</reporter>
                        <labels>
                    </labels>
                <created>Sun, 21 Aug 2005 08:42:04 +0000</created>
                <updated>Sat, 28 Jun 2008 05:40:05 +0000</updated>
                            <resolved>Sat, 28 Jun 2008 05:40:05 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12410211" author="niklas" created="Sun, 21 Aug 2005 08:48:15 +0000"  >&lt;p&gt;Created an attachment (id=16131)&lt;br/&gt;
Patch&lt;/p&gt;

&lt;p&gt;This patch creates an interface (ProcessDestroyer) and a new class for the&lt;br/&gt;
current implementation (ShutdownHookProcessDestroyer). It also sets&lt;br/&gt;
ShutdownHookProcessDestroyer as the default implementation.&lt;/p&gt;

&lt;p&gt;Note that this patch overlaps slightly with the patch for 36222 within the&lt;br/&gt;
Execute class.&lt;/p&gt;</comment>
                            <comment id="12410212" author="trygvis@inamo.no" created="Fri, 23 Sep 2005 07:00:27 +0000"  >&lt;p&gt;Applied, thanks.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333744" name="ASF.LICENSE.NOT.GRANTED--36287_generalize_processdestroyer.patch" size="12213" author="niklas" created="Sun, 21 Aug 2005 08:48:15 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36287</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>117728</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            20 years, 7 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0toy7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>171351</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-21] [Exec] allow easy mocking of Process creation</title>
                <link>https://issues.apache.org/jira/browse/EXEC-21</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;In order to do proper unit testing, it is practical to use mocked Process&lt;br/&gt;
instances. Unfortunately the Execute class doesn&apos;t make it easy to plug these&lt;br/&gt;
classes. It calls the public static launch() method (which cannot be overriden)&lt;br/&gt;
and that method uses the vmlauncher which cannot be replaced.&lt;/p&gt;

&lt;p&gt;I see 3 options:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;mock the Process creation. Create a protected launchCommand() method that does&lt;br/&gt;
call the public static launch() method. That protected method can be overriden&lt;br/&gt;
by sub-classes.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    public static Process launch(final CommandLine command,&lt;br/&gt;
            final Environment env, final File dir)&lt;br/&gt;
            throws IOException {&lt;br/&gt;
        CommandLauncher launcher = vmLauncher;&lt;/p&gt;

&lt;p&gt;        if (dir != null &amp;amp;&amp;amp; !dir.exists()) &lt;/p&gt;
{
            throw new IOException(dir + &quot; doesn&apos;t exist.&quot;);
        }&lt;br/&gt;
        return launcher.exec(command, env, dir);&lt;br/&gt;
    }&lt;br/&gt;
&lt;br/&gt;
    // hook for mock&lt;br/&gt;
    protected Process launchCommand(final CommandLine command,&lt;br/&gt;
            final Environment env, final File dir)&lt;br/&gt;
            throws IOException {
        return launch(command, env, dir);
    }&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
- mock the Launcher creation which will itself be mocked.&lt;br/&gt;
&lt;br/&gt;
    public static Process launch(final CommandLine command,&lt;br/&gt;
            final Environment env, final File dir)&lt;br/&gt;
            throws IOException {
        return launch(command, env, dir, vmLauncher);
    }&lt;br/&gt;
&lt;br/&gt;
    private static Process launch(final CommandLine command,&lt;br/&gt;
            final Environment env, final File dir, CommandLauncher launcher)&lt;br/&gt;
            throws IOException {&lt;br/&gt;
        if (dir != null &amp;amp;&amp;amp; !dir.exists()) {            throw new IOException(dir + &quot; doesn&apos;t exist.&quot;);        }
&lt;p&gt;        return launcher.exec(command, env, dir);&lt;br/&gt;
    }&lt;/p&gt;


&lt;p&gt;    private Process launchCommand(final CommandLine command,&lt;br/&gt;
            final Environment env, final File dir)&lt;br/&gt;
            throws IOException &lt;/p&gt;
{
        return launch(command, env, dir, getLauncher());
    }

&lt;p&gt;    // hook for mock&lt;br/&gt;
    protected CommandLauncher getLauncher() &lt;/p&gt;
{
        return vmlauncher;
    }

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;a combination of both&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;I attach a patch that solves it using solution #1.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12342562">EXEC-21</key>
            <summary>[Exec] allow easy mocking of Process creation</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sgoeschl">Siegfried Goeschl</assignee>
                                    <reporter username="lacostej">Jerome Lacoste</reporter>
                        <labels>
                    </labels>
                <created>Mon, 19 Sep 2005 18:09:57 +0000</created>
                <updated>Sat, 28 Jun 2008 05:40:05 +0000</updated>
                            <resolved>Wed, 2 Jan 2008 18:19:31 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12410418" author="lacostej" created="Mon, 19 Sep 2005 18:15:04 +0000"  >&lt;p&gt;Created an attachment (id=16445)&lt;br/&gt;
add a hook for mocking Process creation&lt;/p&gt;</comment>
                            <comment id="12410419" author="gudnabrsam@yahoo.com" created="Mon, 19 Sep 2005 22:34:13 +0000"  >&lt;p&gt;Hmm.. what exactly is the purpose of this?  What does this allow you to do that &lt;br/&gt;
you couldn&apos;t do with presetdef/macrodef in your buildfile, for example?&lt;/p&gt;</comment>
                            <comment id="12410420" author="lacostej" created="Tue, 20 Sep 2005 06:05:58 +0000"  >&lt;p&gt;(In reply to comment #2)&lt;br/&gt;
&amp;gt; Hmm.. what exactly is the purpose of this?  What does this allow you to do that &lt;br/&gt;
&amp;gt; you couldn&apos;t do with presetdef/macrodef in your buildfile, for example?&lt;/p&gt;

&lt;p&gt;What presetdef/macrodef are you talking you about? Are we talking about the same&lt;br/&gt;
project?&lt;/p&gt;

&lt;p&gt;I need to fake my Process. Example: I provide a MockProcess that takes its&lt;br/&gt;
output from a file (instead of executing the command line). This is useful to&lt;br/&gt;
simulate the complete interaction with the application but the effective call to&lt;br/&gt;
the system. It can also be used later on to provide unit tests for the Execute&lt;br/&gt;
code itself.&lt;/p&gt;

&lt;p&gt;Having a Mock launcher sounds like the most perfect solution, but it requires&lt;br/&gt;
more code and doesn&apos;t bring me much more benefits.&lt;/p&gt;

&lt;p&gt;Note: I already wrote code that depends on my last 2 bug entries (#36707 &amp;amp; #36708).&lt;/p&gt;</comment>
                            <comment id="12410421" author="trygvis@inamo.no" created="Fri, 23 Sep 2005 09:15:41 +0000"  >&lt;p&gt;(In reply to comment #2)&lt;br/&gt;
&amp;gt; Hmm.. what exactly is the purpose of this?  What does this allow you to do &lt;br/&gt;
that &lt;br/&gt;
&amp;gt; you couldn&apos;t do with presetdef/macrodef in your buildfile, for example?&lt;/p&gt;

&lt;p&gt;Matt: was Jerome&apos;s answer good enough? If not, please ask for more details&lt;/p&gt;</comment>
                            <comment id="12410422" author="gudnabrsam@yahoo.com" created="Fri, 23 Sep 2005 22:45:24 +0000"  >&lt;p&gt;whoa, I&apos;m dizzy here.  For some reason I took this as an Ant bug, totally &lt;br/&gt;
missing the &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt;.  Guess I&apos;m going to have to be careful about that now that &lt;br/&gt;
exec has forked.  &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;  Ignore me.&lt;/p&gt;</comment>
                            <comment id="12555357" author="sgoeschl" created="Wed, 2 Jan 2008 18:19:31 +0000"  >&lt;p&gt;Made DefaultExecutor.launch() protected to enable mocking&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333802" name="ASF.LICENSE.NOT.GRANTED--36707_allow_mocking_process_in_execute.diff" size="1051" author="lacostej" created="Mon, 19 Sep 2005 18:15:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36707</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>117727</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 45 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0towv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>171345</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-20] [exec] EnvironmentVariable: inline private constructor</title>
                <link>https://issues.apache.org/jira/browse/EXEC-20</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;Move the key=value String parsing inside the factory method and remove the&lt;br/&gt;
private constructor.&lt;br/&gt;
There&apos;s no need for both and parsing logic is better outside of a constructor&lt;br/&gt;
(as a rule and to make things similar with the rest of the code), especially whe&lt;br/&gt;
n there&apos;s already a factory.&lt;br/&gt;
Removing the constructor doesn&apos;t create an issue as it&apos;s private and there&apos;s&lt;br/&gt;
already another private one.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12342570">EXEC-20</key>
            <summary>[exec] EnvironmentVariable: inline private constructor</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="sgoeschl">Siegfried Goeschl</assignee>
                                    <reporter username="lacostej">Jerome Lacoste</reporter>
                        <labels>
                    </labels>
                <created>Sat, 24 Sep 2005 18:47:24 +0000</created>
                <updated>Sat, 28 Jun 2008 05:40:05 +0000</updated>
                            <resolved>Wed, 2 Jan 2008 17:41:35 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12410446" author="lacostej" created="Sat, 24 Sep 2005 18:48:15 +0000"  >&lt;p&gt;Created an attachment (id=16512)&lt;br/&gt;
inline constructor&lt;/p&gt;</comment>
                            <comment id="12555349" author="sgoeschl" created="Wed, 2 Jan 2008 17:41:35 +0000"  >&lt;p&gt;Since there is no EnvironmentVariable in the code base I can not apply the patch&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333809" name="ASF.LICENSE.NOT.GRANTED--36796_environment_variable_inline_constructor.diff" size="3237" author="lacostej" created="Sat, 24 Sep 2005 18:48:15 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36796</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>117726</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 45 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tp4f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>171379</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-19] [exec] several strange design / code decisions</title>
                <link>https://issues.apache.org/jira/browse/EXEC-19</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;add @todo around to show potential problems in the design&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12342572">EXEC-19</key>
            <summary>[exec] several strange design / code decisions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="lacostej">Jerome Lacoste</reporter>
                        <labels>
                    </labels>
                <created>Sat, 24 Sep 2005 18:52:38 +0000</created>
                <updated>Sat, 28 Jun 2008 05:40:05 +0000</updated>
                            <resolved>Sat, 28 Jun 2008 05:40:05 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12410448" author="lacostej" created="Sat, 24 Sep 2005 18:53:20 +0000"  >&lt;p&gt;Created an attachment (id=16514)&lt;br/&gt;
some potential @todos&lt;/p&gt;</comment>
                            <comment id="12410449" author="trygvis@inamo.no" created="Sun, 25 Sep 2005 23:39:32 +0000"  >&lt;p&gt;This is not the way to discuss the code changes. Please write a summary to the &lt;br/&gt;
list and get feedback.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333811" name="ASF.LICENSE.NOT.GRANTED--36978_TODO_questions.diff" size="6339" author="lacostej" created="Sat, 24 Sep 2005 18:53:20 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36798</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>117725</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            20 years, 7 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tp47:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>171378</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-18] [exec][patch] added Javadoc to CommandLine interface</title>
                <link>https://issues.apache.org/jira/browse/EXEC-18</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description></description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12342560">EXEC-18</key>
            <summary>[exec][patch] added Javadoc to CommandLine interface</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="kevin.jackson@it.fts-vn.com">Kev Jackson</reporter>
                        <labels>
                    </labels>
                <created>Mon, 19 Sep 2005 12:32:13 +0000</created>
                <updated>Sat, 28 Jun 2008 05:40:05 +0000</updated>
                            <resolved>Sat, 28 Jun 2008 05:40:05 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12410414" author="kevin.jackson@it.fts-vn.com" created="Mon, 19 Sep 2005 12:32:39 +0000"  >&lt;p&gt;Created an attachment (id=16443)&lt;br/&gt;
Javadoc&lt;/p&gt;</comment>
                            <comment id="12410415" author="trygvis@inamo.no" created="Fri, 23 Sep 2005 08:48:43 +0000"  >&lt;p&gt;Applied, thanks.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333800" name="ASF.LICENSE.NOT.GRANTED--CommandLine.patch" size="585" author="kevin.jackson@it.fts-vn.com" created="Mon, 19 Sep 2005 12:32:39 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36704</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>117724</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            20 years, 7 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0toxz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>171350</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-17] Support for non-standard exit values indicating successful execution</title>
                <link>https://issues.apache.org/jira/browse/EXEC-17</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;For printing a PDF document on Windows XP Adobe Acrobat Reader 8.x can be used - even when successful the application returns &quot;1&quot; as exit value causing an exception in commons-exec. &quot;1&quot; is considered an execution failure and there is no way to overwrite the behavior which renders commons-exec useless here. &lt;/p&gt;

&lt;p&gt;PS: Having said that Acrobat Reader 8.x also returns &quot;1&quot; if it can&apos;t print ... &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;/p&gt;</description>
                <environment></environment>
        <key id="12383568">EXEC-17</key>
            <summary>Support for non-standard exit values indicating successful execution</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sgoeschl">Siegfried Goeschl</assignee>
                                    <reporter username="sgoeschl">Siegfried Goeschl</reporter>
                        <labels>
                    </labels>
                <created>Thu, 29 Nov 2007 23:02:39 +0000</created>
                <updated>Sat, 28 Jun 2008 05:40:05 +0000</updated>
                            <resolved>Fri, 30 Nov 2007 18:24:20 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12547236" author="sgoeschl" created="Fri, 30 Nov 2007 18:24:20 +0000"  >&lt;p&gt;Added DefaultExecutor.setExitValue() and DefaultExecutor.setExitValues() to provide custom exit values.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>117723</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 49 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0toyv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>171354</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-16] [exec] EnvironmentVariable: remove empty factory method</title>
                <link>https://issues.apache.org/jira/browse/EXEC-16</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;Proposed API change: remove public factory method which seems to add only&lt;br/&gt;
complexity.&lt;/p&gt;

&lt;p&gt;See comments inside patch header&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12342571">EXEC-16</key>
            <summary>[exec] EnvironmentVariable: remove empty factory method</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="sgoeschl">Siegfried Goeschl</assignee>
                                    <reporter username="lacostej">Jerome Lacoste</reporter>
                        <labels>
                    </labels>
                <created>Sat, 24 Sep 2005 18:50:27 +0000</created>
                <updated>Sat, 28 Jun 2008 05:40:05 +0000</updated>
                            <resolved>Tue, 4 Dec 2007 20:36:20 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12410447" author="lacostej" created="Sat, 24 Sep 2005 18:51:14 +0000"  >&lt;p&gt;Created an attachment (id=16513)&lt;br/&gt;
remove factory method&lt;/p&gt;</comment>
                            <comment id="12548394" author="sgoeschl" created="Tue, 4 Dec 2007 20:36:20 +0000"  >&lt;p&gt;Well, since the code is simply not there after 2 years I can&apos;t fix it ....&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333810" name="ASF.LICENSE.NOT.GRANTED--36797_environment_variable_public_constructor.diff" size="4191" author="lacostej" created="Sat, 24 Sep 2005 18:51:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36797</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>117722</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 49 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tp3z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>171377</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-15] [exec][patch] ExecTest fails due to improperly formatted src/test/scripts/test.sh</title>
                <link>https://issues.apache.org/jira/browse/EXEC-15</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;On Linux, the following script invoked with the BAR argument will result in &lt;/p&gt;

&lt;p&gt;FOO  BAR&lt;/p&gt;

&lt;p&gt;The unit test expects&lt;br/&gt;
FOO BAR&lt;/p&gt;

&lt;p&gt;------&lt;br/&gt;
#!/bin/sh&lt;br/&gt;
echo FOO $TEST_ENV_VAR $1&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: Linux&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12342467">EXEC-15</key>
            <summary>[exec][patch] ExecTest fails due to improperly formatted src/test/scripts/test.sh</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="lacostej">Jerome Lacoste</reporter>
                        <labels>
                    </labels>
                <created>Mon, 15 Aug 2005 06:23:27 +0000</created>
                <updated>Sat, 28 Jun 2008 05:40:05 +0000</updated>
                            <resolved>Sat, 28 Jun 2008 05:40:05 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12410094" author="lacostej" created="Mon, 15 Aug 2005 06:25:30 +0000"  >&lt;p&gt;Created an attachment (id=16044)&lt;br/&gt;
fix&lt;/p&gt;</comment>
                            <comment id="12410095" author="brett@apache.org" created="Fri, 19 Aug 2005 13:20:46 +0000"  >&lt;p&gt;changed to use &apos;.&apos; as it is more obvious&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333712" name="ASF.LICENSE.NOT.GRANTED--36182.diff" size="302" author="lacostej" created="Mon, 15 Aug 2005 06:25:30 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36182</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>117721</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            20 years, 12 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0town:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>171344</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-14] [exec] Environment: lack some HashMap methods delegation</title>
                <link>https://issues.apache.org/jira/browse/EXEC-14</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description></description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12342569">EXEC-14</key>
            <summary>[exec] Environment: lack some HashMap methods delegation</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="lacostej">Jerome Lacoste</reporter>
                        <labels>
                    </labels>
                <created>Sat, 24 Sep 2005 18:29:39 +0000</created>
                <updated>Sat, 28 Jun 2008 05:40:05 +0000</updated>
                            <resolved>Wed, 2 Jan 2008 17:39:55 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12410445" author="lacostej" created="Sat, 24 Sep 2005 18:31:31 +0000"  >&lt;p&gt;Created an attachment (id=16511)&lt;br/&gt;
Add missing methods&lt;/p&gt;</comment>
                            <comment id="12555348" author="sgoeschl" created="Wed, 2 Jan 2008 17:39:55 +0000"  >&lt;p&gt;Since there is no Environment variable class any longer there is no need to apply the patch&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333808" name="ASF.LICENSE.NOT.GRANTED--36795_fix_hashmap_inherit.diff" size="1502" author="lacostej" created="Sat, 24 Sep 2005 18:31:31 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36795</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>117720</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 45 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tp4n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>171380</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-13] [exec] potential threading issue when closing process.getInputStream()</title>
                <link>https://issues.apache.org/jira/browse/EXEC-13</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;When I started to look into finding common code between ant, plexus, m2 and&lt;br/&gt;
cruisecontrol, I found a couple of differences that I think need to be merged&lt;br/&gt;
back into commons-exec.&lt;/p&gt;

&lt;p&gt;In particular it seems like this plexus-util change &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; contains a threading fix&lt;br/&gt;
which should also be backported to commons-exec. I think we are hitting it now&lt;br/&gt;
in CruiseControl in some rare cases: executed process is ant which forks and&lt;br/&gt;
spawns a separate process. This makes getInputStream().close() hang, and I think&lt;br/&gt;
your change would fix it.&lt;/p&gt;

&lt;p&gt;I haven&apos;t yet worked on it, nor wrote a test case. Would appreciate input from&lt;br/&gt;
trygvis as he&apos;s the one who made the fix for plexus.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;a href=&quot;http://svn.codehaus.org/trunk/plexus-utils/src/main/java/org/codehaus/plexus/util/cli/StreamPumper.java?rev=1298&amp;amp;root=plexus&amp;amp;view=rev&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.codehaus.org/trunk/plexus-utils/src/main/java/org/codehaus/plexus/util/cli/StreamPumper.java?rev=1298&amp;amp;root=plexus&amp;amp;view=rev&lt;/a&gt;&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12342540">EXEC-13</key>
            <summary>[exec] potential threading issue when closing process.getInputStream()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="4">Incomplete</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="lacostej">Jerome Lacoste</reporter>
                        <labels>
                    </labels>
                <created>Wed, 7 Sep 2005 23:27:41 +0000</created>
                <updated>Sat, 28 Jun 2008 05:40:05 +0000</updated>
                            <resolved>Sat, 28 Jun 2008 05:40:05 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12410370" author="trygvis@inamo.no" created="Wed, 7 Sep 2005 23:42:54 +0000"  >&lt;p&gt;Not sure what I should comment on, I don&apos;t remember the excact cause for my &lt;br/&gt;
change but I do remember that is was required to make sure that Continuum was &lt;br/&gt;
properly waiting for the task to complete.&lt;/p&gt;</comment>
                            <comment id="12410371" author="gudnabrsam@yahoo.com" created="Thu, 8 Sep 2005 00:32:13 +0000"  >&lt;p&gt;Not sure at what point the plexus code was forked from Ant, or at what point &lt;br/&gt;
the commons-exec code was forked either, for that matter.  However, this plexus &lt;br/&gt;
code appears similar to code in org.apache.tools.ant.taskdefs.Redirector and &lt;br/&gt;
org.apache.tools.ant.taskdefs.PumpStreamHandler, and therefore should be a non-&lt;br/&gt;
issue for Ant.  Again, since I&apos;m not sure where the fork lies, I can&apos;t say wrt &lt;br/&gt;
commons-exec, but maybe this info will prove useful to someone in making that &lt;br/&gt;
call.&lt;/p&gt;

&lt;p&gt;-Matt&lt;/p&gt;</comment>
                            <comment id="12410372" author="lacostej" created="Fri, 9 Sep 2005 20:33:25 +0000"  >&lt;p&gt;Ah yes. My bad. It seems like I didn&apos;t correctly read the latest commons-exec&lt;br/&gt;
code, I missed the stop() implementation in the PumpStreamHandler class.&lt;/p&gt;

&lt;p&gt;So the problem appears to be CruiseControl only and this issue can be closed.&lt;/p&gt;

&lt;p&gt;Note: the javadoc for the ExecuteStreamHandler.stop() method should probably say&lt;br/&gt;
that implementing classes must empty the streams properly, otherwise there will&lt;br/&gt;
could be hangs. I live the issue opened for that reason only, decreasing&lt;br/&gt;
priority/severity. &lt;/p&gt;</comment>
                            <comment id="12410373" author="trygvis@inamo.no" created="Fri, 23 Sep 2005 09:22:30 +0000"  >&lt;p&gt;By request.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36545</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>117719</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            20 years, 7 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tp5r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>171385</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-12] [exec][patch] make ant stores junit test reports in correct directory</title>
                <link>https://issues.apache.org/jira/browse/EXEC-12</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description></description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12342468">EXEC-12</key>
            <summary>[exec][patch] make ant stores junit test reports in correct directory</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="lacostej">Jerome Lacoste</reporter>
                        <labels>
                    </labels>
                <created>Mon, 15 Aug 2005 06:36:25 +0000</created>
                <updated>Sat, 28 Jun 2008 05:40:05 +0000</updated>
                            <resolved>Sat, 28 Jun 2008 05:40:05 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12410096" author="lacostej" created="Mon, 15 Aug 2005 06:37:46 +0000"  >&lt;p&gt;Created an attachment (id=16045)&lt;br/&gt;
specify todir  in &amp;lt;batchtest&amp;gt;&lt;/p&gt;</comment>
                            <comment id="12410097" author="brett@apache.org" created="Fri, 19 Aug 2005 13:16:21 +0000"  >&lt;p&gt;applied, thanks&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333713" name="ASF.LICENSE.NOT.GRANTED--36183.diff" size="558" author="lacostej" created="Mon, 15 Aug 2005 06:37:46 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36183</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>117718</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            20 years, 12 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tp2v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>171372</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-11] [exec] setWatchDog method in DefaultExecutor has no affect</title>
                <link>https://issues.apache.org/jira/browse/EXEC-11</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;The setWatchDog method in org.apache.commons.exec.DefaultExecutor.java does not have any affect due to a case discrepancy. The method parameter for the method is watchDog and the value that is assigned is watchdog (the same as the class field).&lt;/p&gt;

&lt;p&gt;I have attached a patch for the same. If required I could add in a test case for this.&lt;/p&gt;</description>
                <environment>&lt;p&gt;All Environments&lt;/p&gt;</environment>
        <key id="12361472">EXEC-11</key>
            <summary>[exec] setWatchDog method in DefaultExecutor has no affect</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bindul">Bindul Bhowmik</reporter>
                        <labels>
                    </labels>
                <created>Mon, 29 Jan 2007 15:35:22 +0000</created>
                <updated>Sat, 28 Jun 2008 05:40:05 +0000</updated>
                            <resolved>Tue, 24 Apr 2007 19:23:06 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12468304" author="bindul" created="Mon, 29 Jan 2007 15:36:29 +0000"  >&lt;p&gt;Patch for the setter fix&lt;/p&gt;</comment>
                            <comment id="12468308" author="bindul" created="Mon, 29 Jan 2007 15:47:48 +0000"  >&lt;p&gt;Sorry - missed &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; in the summary&lt;/p&gt;</comment>
                            <comment id="12491150" author="reinhold.fuereder" created="Tue, 24 Apr 2007 06:17:41 +0000"  >&lt;p&gt;This was fixed by user sgoeschl on 15.03.2007 12:56 (&quot;Fixed typo that broke the usage of the watchdog (watchDog vs. watchdog)&quot;).&lt;/p&gt;</comment>
                            <comment id="12491407" author="rahul@apache.org" created="Tue, 24 Apr 2007 19:23:06 +0000"  >&lt;p&gt;Fixed by sgoeschl in r518598 &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://svn.apache.org/viewvc?view=rev&amp;amp;revision=518598&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=rev&amp;amp;revision=518598&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12349822" name="default-executor.patch" size="568" author="bindul" created="Mon, 29 Jan 2007 15:36:29 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>117717</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 years, 29 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tp0v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>171363</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-10] [exec][patch] use final static strings where appropriate</title>
                <link>https://issues.apache.org/jira/browse/EXEC-10</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;small refactoring of CommandLineImpl to use stringbuffers and final static strings&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12342503">EXEC-10</key>
            <summary>[exec][patch] use final static strings where appropriate</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="kevin.jackson@it.fts-vn.com">Kev Jackson</reporter>
                        <labels>
                    </labels>
                <created>Tue, 23 Aug 2005 16:39:53 +0000</created>
                <updated>Sat, 28 Jun 2008 05:40:05 +0000</updated>
                            <resolved>Sat, 28 Jun 2008 05:40:05 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12410230" author="kevin.jackson@it.fts-vn.com" created="Tue, 23 Aug 2005 16:41:21 +0000"  >&lt;p&gt;Created an attachment (id=16159)&lt;br/&gt;
uses final strings for quotes&lt;/p&gt;</comment>
                            <comment id="12410231" author="dep4b" created="Thu, 25 Aug 2005 06:43:02 +0000"  >&lt;p&gt;Should be filed under Sandbox!&lt;/p&gt;</comment>
                            <comment id="12410232" author="brett@apache.org" created="Wed, 31 Aug 2005 19:20:04 +0000"  >&lt;p&gt;applied, thanks&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333753" name="ASF.LICENSE.NOT.GRANTED--use-final-strings.patch" size="1781" author="kevin.jackson@it.fts-vn.com" created="Tue, 23 Aug 2005 16:41:21 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36314</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>117716</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            20 years, 11 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0toxb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>171347</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-9] [exec][patch] Use Contants class to store final static strings, added SafeOutputstream to remove redundant z/Os code</title>
                <link>https://issues.apache.org/jira/browse/EXEC-9</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;+ Constants.java&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;contains final static strings&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;+ SafeOutputStream&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;contains safe static method for toString() for use with z/Os (which requires&lt;br/&gt;
an encoding before writing)&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12342567">EXEC-9</key>
            <summary>[exec][patch] Use Contants class to store final static strings, added SafeOutputstream to remove redundant z/Os code</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="sgoeschl">Siegfried Goeschl</assignee>
                                    <reporter username="kevin.jackson@it.fts-vn.com">Kev Jackson</reporter>
                        <labels>
                    </labels>
                <created>Fri, 23 Sep 2005 16:14:30 +0000</created>
                <updated>Sat, 28 Jun 2008 05:40:05 +0000</updated>
                            <resolved>Wed, 2 Jan 2008 18:08:01 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12410441" author="kevin.jackson@it.fts-vn.com" created="Fri, 23 Sep 2005 16:15:11 +0000"  >&lt;p&gt;Created an attachment (id=16494)&lt;br/&gt;
constants and safeoutputstream classes&lt;/p&gt;</comment>
                            <comment id="12555355" author="sgoeschl" created="Wed, 2 Jan 2008 18:08:01 +0000"  >&lt;p&gt;+) Using constants for the executabe is only removes half of the string literals (actually the WIN_9X_CMD is wrong on the patch) - and I don&apos;t want to tinker with the code to resolve 50% of the issue for now&lt;/p&gt;

&lt;p&gt;+) The duplicated toString() code has already moved to DefaultProcessingEnvironment&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333807" name="ASF.LICENSE.NOT.GRANTED--constants_outputstream.patch" size="11214" author="kevin.jackson@it.fts-vn.com" created="Fri, 23 Sep 2005 16:15:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36776</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>117715</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 45 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tp3r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>171376</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-8] [exec] Use Java 1.5 support for getting environment</title>
                <link>https://issues.apache.org/jira/browse/EXEC-8</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;Where available, the new System.getenv() method should be used to retrive the&lt;br/&gt;
environment in which the process is executed. &lt;/p&gt;

&lt;p&gt;I got a patch for this but since it overlaps with the patch for 36159 I&apos;ll hold&lt;br/&gt;
it of until that first patch is commited.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12342484">EXEC-8</key>
            <summary>[exec] Use Java 1.5 support for getting environment</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="niklas">Niklas Therning</reporter>
                        <labels>
                    </labels>
                <created>Wed, 17 Aug 2005 21:37:06 +0000</created>
                <updated>Sat, 28 Jun 2008 05:40:05 +0000</updated>
                            <resolved>Sat, 28 Jun 2008 05:40:05 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12410152" author="niklas" created="Sun, 21 Aug 2005 08:02:25 +0000"  >&lt;p&gt;Created an attachment (id=16130)&lt;br/&gt;
Patch for Java 1.5 support&lt;/p&gt;

&lt;p&gt;This patch also fixes related issue with getProcEnvironment eating exceptions.&lt;/p&gt;</comment>
                            <comment id="12410153" author="brett@apache.org" created="Wed, 31 Aug 2005 19:47:47 +0000"  >&lt;p&gt;applied. I made some changes&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;didn&apos;t worry about caching the reflected method&lt;/li&gt;
	&lt;li&gt;converted tabs to spaces&lt;/li&gt;
	&lt;li&gt;logged exceptions, avoided catching generic exception&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333723" name="ASF.LICENSE.NOT.GRANTED--36222.patch" size="5935" author="niklas" created="Sun, 21 Aug 2005 08:02:25 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36222</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>117714</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            20 years, 11 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0toxr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>171349</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-7] [exec][patch] ant get-deps target fails to download dependency</title>
                <link>https://issues.apache.org/jira/browse/EXEC-7</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;get-deps doesn&apos;t work if dest directory doesn&apos;t exist (ant 1.6.5, Linux)&lt;br/&gt;
This one-liner patch fixes it for me.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: Linux&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12342466">EXEC-7</key>
            <summary>[exec][patch] ant get-deps target fails to download dependency</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="lacostej">Jerome Lacoste</reporter>
                        <labels>
                    </labels>
                <created>Mon, 15 Aug 2005 06:02:15 +0000</created>
                <updated>Sat, 28 Jun 2008 05:40:05 +0000</updated>
                            <resolved>Sat, 28 Jun 2008 05:40:05 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12410093" author="lacostej" created="Mon, 15 Aug 2005 06:03:01 +0000"  >&lt;p&gt;Created an attachment (id=16043)&lt;br/&gt;
Simple fix.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333711" name="ASF.LICENSE.NOT.GRANTED--diff.txt" size="703" author="lacostej" created="Mon, 15 Aug 2005 06:03:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36181</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>117713</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            20 years, 13 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0towf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>171343</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-6] [exec] Watchdog test cases and argument quotation fix</title>
                <link>https://issues.apache.org/jira/browse/EXEC-6</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;Please find attached a patch for apache commons exec with respect to two issues (note that I have only tested them under M$ Windows yet, but I am very confident that these changes should work under *nix too):&lt;/p&gt;

&lt;p&gt;&amp;#8212;&lt;/p&gt;

&lt;p&gt;(1) ExecuteWatchdog test cases (DefaultExecutorTest.java): one for synchronous and one for asynchronous execution including the required test scripts (watchdog.bat, watchdog.sh) and test app (JavaApp.java). Whereas the one for asynchronous is a bit more elaborated and kind of &quot;more correct&quot;, please note the hint on the well-known Java &quot;bug&quot;/issue under M$ Windows with respect to the Process.destroy() method in the asynchronous test case code.&lt;/p&gt;

&lt;p&gt;&amp;#8212;&lt;/p&gt;

&lt;p&gt;(2) Add a method to CommandLine (CommandLine.java) to add arguments without quoting, i.e. pre-quoted arguments, because default quoting may not be correct in all cases. Note that I have not tried to find out if the default quoting can be changed accordingly. And also that maybe this problem is only M$ Windows specific, but I don&apos;t know (yet). The encountered problem was: &lt;/p&gt;

&lt;p&gt;I want to start an executable (runMemorySud.cmd) with a list of JVM GC options that in turn will then start a Java application utilising these JVM GC options. I failed to find an accepted way of specifying the following:&lt;/p&gt;

&lt;p&gt;runMemorySud.cmd -XX:+UseParallelGC -XX:ParallelGCThreads=2&lt;/p&gt;

&lt;p&gt;After quite some time I found out that the default quoting of apache commons exec is causing the problem, and with default pure standard Java it works as expected by using (see attached ProcessTest.java example):&lt;/p&gt;

&lt;p&gt;Process p = new ProcessBuilder(&quot;runMemorySud.cmd&quot;, &quot;10&quot;, &quot;30&quot;, &quot;-XX:+UseParallelGC&quot;, &quot;\&quot;-XX:ParallelGCThreads=2\&quot;&quot;).start();&lt;/p&gt;

&lt;p&gt;However, as I said, I found no way of being able to &quot;propagate this to the ProcessBuilder through apache commons exec&quot;. Thus, the need for adding a so-called pre-quoted argument addArgument() method.&lt;/p&gt;

&lt;p&gt;&amp;#8212;&lt;/p&gt;

&lt;p&gt;Would you mind applying these patches? Thanks.&lt;/p&gt;</description>
                <environment>&lt;p&gt;apache commons exec trunk/head; M$ Windows XP&lt;/p&gt;</environment>
        <key id="12367892">EXEC-6</key>
            <summary>[exec] Watchdog test cases and argument quotation fix</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sgoeschl">Siegfried Goeschl</assignee>
                                    <reporter username="reinhold.fuereder">Reinhold F&#252;reder</reporter>
                        <labels>
                    </labels>
                <created>Tue, 24 Apr 2007 06:23:07 +0000</created>
                <updated>Sat, 28 Jun 2008 05:40:04 +0000</updated>
                            <resolved>Tue, 4 Dec 2007 22:22:39 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12548423" author="sgoeschl" created="Tue, 4 Dec 2007 21:51:51 +0000"  >&lt;p&gt;Hi Reinhold,&lt;/p&gt;

&lt;p&gt;little confusion on my side regarding your example - on the one hand you say you are unable to create&lt;/p&gt;

&lt;p&gt;runMemorySud.cmd -XX:+UseParallelGC -XX:ParallelGCThreads=2&lt;/p&gt;

&lt;p&gt;on the other hand your command line should look like&lt;/p&gt;

&lt;p&gt;runMemorySud.cmd -XX:+UseParallelGC &quot;-XX:ParallelGCThreads=2&quot;&lt;/p&gt;</comment>
                            <comment id="12548439" author="sgoeschl" created="Tue, 4 Dec 2007 22:22:39 +0000"  >&lt;p&gt;Added support for pre-quoted arguments and some regression tests&lt;/p&gt;</comment>
                            <comment id="12548564" author="reinhold.fuereder" created="Wed, 5 Dec 2007 07:36:22 +0000"  >&lt;p&gt;Thanks for patching. If I remember correctly &amp;#8211; it is quite some time ago now, the default quoting led to weired problems under Windows. Theoretically you should be able to experience them, if you modify one of the newly added tests so that the arguments are default quoted by apache commons exec.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12356114" name="ProcessTest.java" size="792" author="reinhold.fuereder" created="Tue, 24 Apr 2007 06:24:37 +0000"/>
                            <attachment id="12356112" name="ProcessTest.java" size="792" author="reinhold.fuereder" created="Tue, 24 Apr 2007 06:23:48 +0000"/>
                            <attachment id="12356113" name="patch_apache-commons-exec.txt" size="6725" author="reinhold.fuereder" created="Tue, 24 Apr 2007 06:24:15 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>41955</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 49 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tozz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>171359</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-5] [exec][patch] small refactor of Environment for style</title>
                <link>https://issues.apache.org/jira/browse/EXEC-5</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description></description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12342561">EXEC-5</key>
            <summary>[exec][patch] small refactor of Environment for style</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="kevin.jackson@it.fts-vn.com">Kev Jackson</reporter>
                        <labels>
                    </labels>
                <created>Mon, 19 Sep 2005 12:33:36 +0000</created>
                <updated>Sat, 28 Jun 2008 05:40:04 +0000</updated>
                            <resolved>Sat, 28 Jun 2008 05:40:04 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12410416" author="kevin.jackson@it.fts-vn.com" created="Mon, 19 Sep 2005 12:34:56 +0000"  >&lt;p&gt;Created an attachment (id=16444)&lt;br/&gt;
small style changes to Environment code&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;braces as standard Java style&lt;/li&gt;
	&lt;li&gt;use final static string for line separator&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12410417" author="trygvis@inamo.no" created="Fri, 23 Sep 2005 08:57:40 +0000"  >&lt;p&gt;Applied, thanks.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333801" name="ASF.LICENSE.NOT.GRANTED--Environment.patch" size="2692" author="kevin.jackson@it.fts-vn.com" created="Mon, 19 Sep 2005 12:34:56 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36705</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>117712</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            20 years, 7 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tox3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>171346</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-4] [exec] Make ProcessDestroyer optional and pluggable</title>
                <link>https://issues.apache.org/jira/browse/EXEC-4</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;ProcessDestroyer is currently allways used, and as a shutdown hook. It should be&lt;br/&gt;
made optional and pluggable as the current implementation is not appropriate in&lt;br/&gt;
for example application servers.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12342498">EXEC-4</key>
            <summary>[exec] Make ProcessDestroyer optional and pluggable</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sgoeschl">Siegfried Goeschl</assignee>
                                    <reporter username="niklas">Niklas Therning</reporter>
                        <labels>
                    </labels>
                <created>Sun, 21 Aug 2005 08:44:53 +0000</created>
                <updated>Sat, 28 Jun 2008 05:40:04 +0000</updated>
                            <resolved>Wed, 2 Jan 2008 17:36:53 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12410213" author="trygvis@inamo.no" created="Fri, 23 Sep 2005 08:36:33 +0000"  >&lt;p&gt;Got a patch?&lt;/p&gt;</comment>
                            <comment id="12410214" author="lacostej" created="Wed, 5 Oct 2005 18:18:28 +0000"  >&lt;p&gt;The proposed design changes that I sent to the list the other day include&lt;br/&gt;
changes to address this.&lt;/p&gt;</comment>
                            <comment id="12410215" author="niklas" created="Sun, 9 Oct 2005 06:40:45 +0000"  >&lt;p&gt;Created an attachment (id=16624)&lt;br/&gt;
Patch for bug&lt;/p&gt;</comment>
                            <comment id="12555221" author="sgoeschl" created="Tue, 1 Jan 2008 20:27:00 +0000"  >&lt;p&gt;Any further comments on this topic before I apply the patch .... &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12555347" author="sgoeschl" created="Wed, 2 Jan 2008 17:36:53 +0000"  >&lt;p&gt;Added functionality plus regression tests&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333745" name="ASF.LICENSE.NOT.GRANTED--36288_Optional_ProcessDestroyer.patch" size="1897" author="niklas" created="Sun, 9 Oct 2005 06:40:45 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36288</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>117711</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 45 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0toyf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>171352</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-3] [Exec] support getting Environment variables using type checked methods</title>
                <link>https://issues.apache.org/jira/browse/EXEC-3</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description></description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12342563">EXEC-3</key>
            <summary>[Exec] support getting Environment variables using type checked methods</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="lacostej">Jerome Lacoste</reporter>
                        <labels>
                    </labels>
                <created>Mon, 19 Sep 2005 18:31:53 +0000</created>
                <updated>Sat, 28 Jun 2008 05:40:04 +0000</updated>
                            <resolved>Sat, 28 Jun 2008 05:40:04 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12410423" author="lacostej" created="Mon, 19 Sep 2005 18:33:05 +0000"  >&lt;p&gt;Created an attachment (id=16446)&lt;br/&gt;
Make class API more symmetrical&lt;/p&gt;</comment>
                            <comment id="12410424" author="trygvis@inamo.no" created="Fri, 23 Sep 2005 09:02:13 +0000"  >&lt;p&gt;Applied, thanks.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333803" name="ASF.LICENSE.NOT.GRANTED--36708_support_get_env_variable.diff" size="1546" author="lacostej" created="Mon, 19 Sep 2005 18:33:05 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36708</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>117710</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            20 years, 7 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0toyn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>171353</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-2] [exec] Remove Java 1.1 support</title>
                <link>https://issues.apache.org/jira/browse/EXEC-2</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;Attached to this bug report is a patch that removes the Java 1.1 support and&lt;br/&gt;
also cleans up much of the remaining code.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12342460">EXEC-2</key>
            <summary>[exec] Remove Java 1.1 support</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="niklas">Niklas Therning</reporter>
                        <labels>
                    </labels>
                <created>Fri, 12 Aug 2005 17:33:19 +0000</created>
                <updated>Sat, 28 Jun 2008 05:40:04 +0000</updated>
                            <resolved>Sat, 28 Jun 2008 05:40:04 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12410074" author="niklas" created="Fri, 12 Aug 2005 17:34:06 +0000"  >&lt;p&gt;Created an attachment (id=16018)&lt;br/&gt;
Patch for exec HEAD&lt;/p&gt;</comment>
                            <comment id="12410075" author="brett@apache.org" created="Fri, 12 Aug 2005 17:48:17 +0000"  >&lt;p&gt;could you split this into the parts that remove the 1.1 support and others for&lt;br/&gt;
the specific additions?&lt;/p&gt;

&lt;p&gt;This would mean that if we decided to roll back the 1.1 removal, its one&lt;br/&gt;
complete revision to rollback, not a portion of one.&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                            <comment id="12410076" author="niklas" created="Fri, 12 Aug 2005 18:07:25 +0000"  >&lt;p&gt;No problem, will upload new patches later tonight/tomorrow&lt;/p&gt;</comment>
                            <comment id="12410077" author="niklas" created="Sat, 13 Aug 2005 03:47:30 +0000"  >&lt;p&gt;Created an attachment (id=16026)&lt;br/&gt;
New patch containing only the removal of 1.1 support&lt;/p&gt;</comment>
                            <comment id="12410078" author="niklas" created="Wed, 17 Aug 2005 18:52:30 +0000"  >&lt;p&gt;In addition to the attached patch, the following files can be removed:&lt;br/&gt;
src/bin/antRun&lt;br/&gt;
src/bin/antRun.bat&lt;br/&gt;
src/bin/antRun.pl&lt;/p&gt;

&lt;p&gt;These are no longer needed as they provided 1.1 working dir support.&lt;/p&gt;</comment>
                            <comment id="12410079" author="brett@apache.org" created="Fri, 19 Aug 2005 13:08:07 +0000"  >&lt;p&gt;applied, thanks&lt;/p&gt;</comment>
                            <comment id="12410080" author="niklas" created="Sun, 21 Aug 2005 03:49:02 +0000"  >&lt;p&gt;I should also have noticed that the following files where removed within the&lt;br/&gt;
patch (and are now therefore 0 bytes), could you please remove them from SVN?&lt;/p&gt;

&lt;p&gt;MacCommandLauncher&lt;br/&gt;
Java11CommandLauncher&lt;br/&gt;
ScriptCommandLauncher&lt;br/&gt;
PerlScriptCommandLauncher&lt;/p&gt;</comment>
                            <comment id="12410081" author="brett@apache.org" created="Sun, 21 Aug 2005 13:02:39 +0000"  >&lt;p&gt;done - interesting that it still compiled for me, maybe I forgot to clean first.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333704" name="ASF.LICENSE.NOT.GRANTED--commons-exec-20050812.patch" size="252975" author="niklas" created="Fri, 12 Aug 2005 17:34:06 +0000"/>
                            <attachment id="12333705" name="ASF.LICENSE.NOT.GRANTED--commons-exec-20050812b.patch" size="41868" author="niklas" created="Sat, 13 Aug 2005 03:47:30 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36159</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>117709</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            20 years, 12 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0toxj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>171348</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[EXEC-1] [exec] Replace Environment with Map</title>
                <link>https://issues.apache.org/jira/browse/EXEC-1</link>
                <project id="12310814" key="EXEC">Commons Exec</project>
                    <description>&lt;p&gt;The Environment class (and thereby also EnvironmentVariable) should be replaced&lt;br/&gt;
by using Map. This is in line with the Java 1.5 way of describing the&lt;br/&gt;
environment and remove a class which is most ways was just a duplicate of Map.&lt;br/&gt;
The functionality for retriveing the current processing environment should be&lt;br/&gt;
moved to seperate classes to seperate concerns.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12342803">EXEC-1</key>
            <summary>[exec] Replace Environment with Map</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="niklas">Niklas Therning</reporter>
                        <labels>
                    </labels>
                <created>Sun, 18 Dec 2005 06:25:53 +0000</created>
                <updated>Sat, 28 Jun 2008 05:40:04 +0000</updated>
                            <resolved>Sat, 28 Jun 2008 05:40:04 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12411086" author="niklas" created="Sun, 18 Dec 2005 06:27:16 +0000"  >&lt;p&gt;Created an attachment (id=17236)&lt;br/&gt;
Patch for the bug as described&lt;/p&gt;

&lt;p&gt;Note that the following files should be removed:&lt;br/&gt;
Environment&lt;br/&gt;
EnvironmentVariable&lt;br/&gt;
OpenVmsEnvironment&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333955" name="ASF.LICENSE.NOT.GRANTED--37951.patch" size="68045" author="niklas" created="Sun, 18 Dec 2005 06:27:16 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>37951</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>117708</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            19 years, 47 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tow7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>171342</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>