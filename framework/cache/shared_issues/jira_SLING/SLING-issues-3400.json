<!--
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Thu Oct 23 09:38:31 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+%22SLING%22+AND+issuetype+%3D+Bug+ORDER+BY+key+DESC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="3400" end="3600" total="4707"/>
                <build-info>
            <version>8.20.10</version>
            <build-number>820010</build-number>
            <build-date>22-06-2022</build-date>
        </build-info>

<item>
            <title>[SLING-3037] IllegalArgumentException in logback Logger</title>
                <link>https://issues.apache.org/jira/browse/SLING-3037</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Since switching to logback in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2024&quot; title=&quot;Replace file logger with logback&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2024&quot;&gt;&lt;del&gt;SLING-2024&lt;/del&gt;&lt;/a&gt;, a number of integration tests are failing, typical stack trace:&lt;/p&gt;

&lt;p&gt;java.lang.IllegalArgumentException: &lt;br/&gt;
For logger &lt;span class=&quot;error&quot;&gt;&amp;#91;apps.integration-test&amp;#93;&lt;/span&gt; child name [apps.integration-test.srt$1378284549103 passed as parameter, may not include &apos;.&apos; after index22&lt;br/&gt;
	at ch.qos.logback.classic.Logger.createChildByName(Logger.java:357)&lt;br/&gt;
	at ch.qos.logback.classic.LoggerContext.getLogger(LoggerContext.java:143)&lt;br/&gt;
	at ch.qos.logback.classic.LoggerContext.getLogger(LoggerContext.java:45)&lt;br/&gt;
	at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:253)&lt;br/&gt;
	at org.apache.sling.scripting.core.impl.DefaultSlingScript.verifySlingBindings(DefaultSlingScript.java:676)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12666846">SLING-3037</key>
            <summary>IllegalArgumentException in logback Logger</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chetanm">Chetan Mehrotra</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Sep 2013 08:52:02 +0000</created>
                <updated>Fri, 7 Mar 2014 06:16:22 +0000</updated>
                            <resolved>Mon, 3 Feb 2014 08:34:14 +0000</resolved>
                                                    <fixVersion>Commons Log 4.0.0</fixVersion>
                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13757629" author="bdelacretaz" created="Wed, 4 Sep 2013 10:18:10 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;http://svn.apache.org/r1519966&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1519966&lt;/a&gt; - all integration tests pass now.&lt;/p&gt;

&lt;p&gt;Using _ instead of $ in logger names (i.e. apps.integration-test.srt_1378284549103) fixes it - the new logback implementation considers $ as an alternate log hierarchy separator, which caused the error.&lt;/p&gt;</comment>
                            <comment id="13757638" author="cziegeler" created="Wed, 4 Sep 2013 10:37:21 +0000"  >&lt;p&gt;I think this needs to be fixed in the logging as this is actually a regression&lt;/p&gt;</comment>
                            <comment id="13757646" author="bdelacretaz" created="Wed, 4 Sep 2013 10:49:27 +0000"  >&lt;p&gt;Yeah...the conversion of $ to something else could be implemented in our logging module.&lt;/p&gt;</comment>
                            <comment id="13758994" author="chetanm" created="Thu, 5 Sep 2013 11:16:34 +0000"  >&lt;p&gt;Issue in Logback &lt;a href=&quot;http://jira.qos.ch/browse/LOGBACK-384&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jira.qos.ch/browse/LOGBACK-384&lt;/a&gt;. We can use the fix suggested above untill it gets fixed in Logback&lt;/p&gt;</comment>
                            <comment id="13759004" author="chetanm" created="Thu, 5 Sep 2013 11:41:43 +0000"  >&lt;p&gt;I can provide a patch as per suggestion in LOGBACK-384. It would involve overriding the Logback class in our bundle i.e. placing a class of same name and package in our bundle. Logback is under EPL ... so to check on legal front would it be ok to override the class which has a different license compared to ASL&lt;/p&gt;</comment>
                            <comment id="13759112" author="cziegeler" created="Thu, 5 Sep 2013 14:31:26 +0000"  >&lt;p&gt;Can&apos;t we provide a fix for logback?&lt;br/&gt;
I think overlaying the class until it&apos;s fixed there is fine. However we should really provide a patch to logback, so it gets fixed with the next release&lt;/p&gt;</comment>
                            <comment id="13759153" author="chetanm" created="Thu, 5 Sep 2013 15:17:17 +0000"  >&lt;p&gt;Patch which locally overrides the ch.qos.logback.classic.util.LoggerNameUtil with fix included as per comment by Chris in LOGBACK-384. &lt;/p&gt;

&lt;p&gt;The fix is also provided to Logback as per &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;. Untill it gets included we can override the LoggerNameUtil in Sling log bundle&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://jira.qos.ch/browse/LOGBACK-384?focusedCommentId=13483&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13483&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jira.qos.ch/browse/LOGBACK-384?focusedCommentId=13483&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13483&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13760068" author="cziegeler" created="Fri, 6 Sep 2013 08:54:41 +0000"  >&lt;p&gt;Thanks Chetan, I&apos;ve applied your patch and reverted the change to scripting.core&lt;/p&gt;</comment>
                            <comment id="13827505" author="chetanm" created="Wed, 20 Nov 2013 10:06:07 +0000"  >&lt;p&gt;As per &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3252&quot; title=&quot;Remove checked in Logback related classes before 4.x release&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3252&quot;&gt;&lt;del&gt;SLING-3252&lt;/del&gt;&lt;/a&gt; we need to revert the changes done and wait for next release of Logback jar&lt;/p&gt;</comment>
                            <comment id="13885169" author="bdelacretaz" created="Wed, 29 Jan 2014 09:37:16 +0000"  >&lt;p&gt;As per &lt;a href=&quot;http://logback.qos.ch/news.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://logback.qos.ch/news.html&lt;/a&gt;, logback 1.1.0 is released and includes the LOGBACK-384 fix.&lt;/p&gt;</comment>
                            <comment id="13889313" author="chetanm" created="Mon, 3 Feb 2014 08:34:14 +0000"  >&lt;p&gt;Updated the Logback version to 1.1.0 in &lt;a href=&quot;http://svn.apache.org/r1563778&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1563778&lt;/a&gt;. All test pass&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12680239">SLING-3252</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12601620" name="SLING-3037.patch" size="4209" author="chetanm" created="Thu, 5 Sep 2013 15:17:17 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>346783</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 39 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1nsrr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>347083</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3025] Navigating to /system/console/servletresolver causes error 500</title>
                <link>https://issues.apache.org/jira/browse/SLING-3025</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Navigating to /system/console/servletresolver causes error 500. &lt;br/&gt;
This happens on the current revision (Revision: 1515749, according to svn info).&lt;/p&gt;

&lt;p&gt;Stack trace:&lt;/p&gt;

&lt;p&gt;java.lang.NullPointerException&lt;br/&gt;
	at org.apache.sling.servlets.resolver.internal.DecomposedURL.&amp;lt;init&amp;gt;(DecomposedURL.java:38)&lt;br/&gt;
	at org.apache.sling.servlets.resolver.internal.SlingServletResolver$ServletResolverWebConsolePlugin.service(SlingServletResolver.java:1173)&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)&lt;br/&gt;
	at org.apache.felix.webconsole.internal.WebConsolePluginAdapter.renderContent(WebConsolePluginAdapter.java:123)&lt;br/&gt;
	at org.apache.felix.webconsole.AbstractWebConsolePlugin.doGet(AbstractWebConsolePlugin.java:174)&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)&lt;br/&gt;
	at org.apache.felix.webconsole.internal.WebConsolePluginAdapter.service(WebConsolePluginAdapter.java:211)&lt;br/&gt;
	at org.apache.felix.webconsole.internal.servlet.OsgiManager.service(OsgiManager.java:526)&lt;br/&gt;
	at org.apache.felix.webconsole.internal.servlet.OsgiManager.service(OsgiManager.java:450)&lt;br/&gt;
	at org.apache.felix.http.base.internal.handler.ServletHandler.doHandle(ServletHandler.java:96)&lt;br/&gt;
	at org.apache.felix.http.base.internal.handler.ServletHandler.handle(ServletHandler.java:79)&lt;br/&gt;
	at org.apache.felix.http.base.internal.dispatch.ServletPipeline.handle(ServletPipeline.java:42)&lt;br/&gt;
	at org.apache.felix.http.base.internal.dispatch.InvocationFilterChain.doFilter(InvocationFilterChain.java:49)&lt;br/&gt;
	at org.apache.felix.http.base.internal.dispatch.HttpFilterChain.doFilter(HttpFilterChain.java:33)&lt;br/&gt;
	at org.apache.sling.engine.impl.log.RequestLoggerFilter.doFilter(RequestLoggerFilter.java:75)&lt;br/&gt;
	at org.apache.felix.http.base.internal.handler.FilterHandler.doHandle(FilterHandler.java:88)&lt;br/&gt;
	at org.apache.felix.http.base.internal.handler.FilterHandler.handle(FilterHandler.java:76)&lt;br/&gt;
	at org.apache.felix.http.base.internal.dispatch.InvocationFilterChain.doFilter(InvocationFilterChain.java:47)&lt;br/&gt;
	at org.apache.felix.http.base.internal.dispatch.HttpFilterChain.doFilter(HttpFilterChain.java:33)&lt;br/&gt;
	at org.apache.felix.http.base.internal.dispatch.FilterPipeline.dispatch(FilterPipeline.java:48)&lt;br/&gt;
	at org.apache.felix.http.base.internal.dispatch.Dispatcher.dispatch(Dispatcher.java:39)&lt;br/&gt;
	at org.apache.felix.http.base.internal.DispatcherServlet.service(DispatcherServlet.java:67)&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)&lt;br/&gt;
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)&lt;br/&gt;
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:390)&lt;br/&gt;
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)&lt;br/&gt;
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)&lt;br/&gt;
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)&lt;br/&gt;
	at org.mortbay.jetty.Server.handle(Server.java:326)&lt;br/&gt;
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)&lt;br/&gt;
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:926)&lt;br/&gt;
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:549)&lt;br/&gt;
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)&lt;br/&gt;
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)&lt;br/&gt;
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:410)&lt;br/&gt;
	at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)&lt;/p&gt;


</description>
                <environment></environment>
        <key id="12664606">SLING-3025</key>
            <summary>Navigating to /system/console/servletresolver causes error 500</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jollyca">Dan Platon</reporter>
                        <labels>
                    </labels>
                <created>Tue, 20 Aug 2013 13:06:14 +0000</created>
                <updated>Wed, 18 Dec 2013 06:02:18 +0000</updated>
                            <resolved>Wed, 18 Dec 2013 06:02:08 +0000</resolved>
                                                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13745020" author="frm" created="Tue, 20 Aug 2013 14:51:01 +0000"  >&lt;p&gt;This patch should solve the problem. Last change to the web plugin didn&apos;t handle the case in which the &lt;tt&gt;url&lt;/tt&gt; request parameter was not specified.&lt;/p&gt;</comment>
                            <comment id="13745057" author="jollyca" created="Tue, 20 Aug 2013 15:34:23 +0000"  >&lt;p&gt;I applied the patch and everything works fine now.&lt;/p&gt;

&lt;p&gt;Thank you.&lt;/p&gt;</comment>
                            <comment id="13851212" author="alexander.klimetschek" created="Wed, 18 Dec 2013 01:26:41 +0000"  >&lt;p&gt;This has been fixed by &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3006&quot; title=&quot;SlingServletResolver webconsole plugin uses custom URL decomposition code that can be wrong&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3006&quot;&gt;&lt;del&gt;SLING-3006&lt;/del&gt;&lt;/a&gt;. Someone with the right permissions should resolve this issue.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12662863">SLING-3006</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12598959" name="SLING-3025.patch" size="4012" author="frm" created="Tue, 20 Aug 2013 14:51:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>344549</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 46 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1nf0n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>344849</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3024] Move SimpleConstraintChecker to healthchecks bundle</title>
                <link>https://issues.apache.org/jira/browse/SLING-3024</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The SimpleConstraintChecker is useful for scripted tests and therefore should be moved into the healthchecks bundle.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12664307">SLING-3024</key>
            <summary>Move SimpleConstraintChecker to healthchecks bundle</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Mon, 19 Aug 2013 07:20:26 +0000</created>
                <updated>Wed, 20 Sep 2017 13:07:00 +0000</updated>
                            <resolved>Mon, 19 Aug 2013 07:25:03 +0000</resolved>
                                                    <fixVersion>Health Check Core 1.0.4</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13743597" author="cziegeler" created="Mon, 19 Aug 2013 07:25:03 +0000"  >&lt;p&gt;I&apos;ve movd the class and also removed the dependency to a slf4j impl &amp;gt; 1.6.0, rev 1515292&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>344308</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 11 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ndjr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>344608</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3023] SlingWebConsoleSecurityProvider should catch and log Exception</title>
                <link>https://issues.apache.org/jira/browse/SLING-3023</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When running on Oak 0.8, ((JackrabbitSession) session).getUserManager() throws an UnsupportedOperationException that&apos;s silently ignored by the calling code, should be logged by SlingWebConsoleSecurityProvider&lt;/p&gt;</description>
                <environment></environment>
        <key id="12664041">SLING-3023</key>
            <summary>SlingWebConsoleSecurityProvider should catch and log Exception</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Fri, 16 Aug 2013 11:23:25 +0000</created>
                <updated>Mon, 28 Oct 2013 19:18:23 +0000</updated>
                            <resolved>Fri, 16 Aug 2013 11:27:28 +0000</resolved>
                                    <version>Web Console Security Provider 1.0.0</version>
                                    <fixVersion>Web Console Security Provider 1.1.0</fixVersion>
                                    <component>Authentication</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13742109" author="bdelacretaz" created="Fri, 16 Aug 2013 11:27:28 +0000"  >&lt;p&gt;Fixed in revision 1514658&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12636606">SLING-2788</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>344042</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 11 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1nbx3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>344344</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3022] ClassLoaderResourceProvider blocks bundles provided under resources/bundles.someRunMode</title>
                <link>https://issues.apache.org/jira/browse/SLING-3022</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;ClassLoaderResourceProvider.getChildren() uses a regexp that blocks paths like resources/bundles.someRunMode/12/ which the maven-launchpad-plugin generates for bootstrap bundles that have specific run modes.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12664033">SLING-3022</key>
            <summary>ClassLoaderResourceProvider blocks bundles provided under resources/bundles.someRunMode</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Fri, 16 Aug 2013 10:06:57 +0000</created>
                <updated>Sat, 26 Jul 2014 17:35:28 +0000</updated>
                            <resolved>Fri, 16 Aug 2013 10:33:58 +0000</resolved>
                                    <version>Launchpad Base 2.5.0</version>
                                    <fixVersion>Launchpad Base 2.5.2</fixVersion>
                                    <component>Launchpad</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13742074" author="bdelacretaz" created="Fri, 16 Aug 2013 10:33:58 +0000"  >&lt;p&gt;Test added in revision 1514637&lt;/p&gt;

&lt;p&gt;Issue fixed in revision 1514646&lt;/p&gt;</comment>
                            <comment id="13801672" author="bdelacretaz" created="Tue, 22 Oct 2013 10:13:09 +0000"  >&lt;p&gt;Note that these changes were incorrect, reverted in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3196&quot; title=&quot;ClassLoaderResourceProvider.getChildren() includes unwanted sibling paths&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3196&quot;&gt;&lt;del&gt;SLING-3196&lt;/del&gt;&lt;/a&gt; (revision 1534587)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>344034</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 2 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1nbvb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>344336</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3013] Launchpad integration tests: avoid mixing junit and junit-dep artifacts</title>
                <link>https://issues.apache.org/jira/browse/SLING-3013</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;org.apache.sling.launchpad.integration-tests depends on junit:junit directory and on junit:junit-dep transitively from org.apache.sling.commons.testing . The junit-dep dependency should be excluded ( given that we always depend on junit:junit ) to prevent the same classes being defined from  two different jars.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12663205">SLING-3013</key>
            <summary>Launchpad integration tests: avoid mixing junit and junit-dep artifacts</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 12 Aug 2013 12:39:22 +0000</created>
                <updated>Mon, 12 Aug 2013 13:00:31 +0000</updated>
                            <resolved>Mon, 12 Aug 2013 13:00:31 +0000</resolved>
                                                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13736836" author="rombert" created="Mon, 12 Aug 2013 13:00:31 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1513125&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1513125&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>343206</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 12 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1n6rr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>343510</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3012] Create unique id if timed event does not contain one</title>
                <link>https://issues.apache.org/jira/browse/SLING-3012</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If a timed event does neither contain a job id nor a timed event id, a unique id should be created. Otherwise all timed events without such an id get the same default id, overwriting each other&lt;/p&gt;</description>
                <environment></environment>
        <key id="12663199">SLING-3012</key>
            <summary>Create unique id if timed event does not contain one</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Mon, 12 Aug 2013 11:42:54 +0000</created>
                <updated>Thu, 24 Oct 2013 07:31:06 +0000</updated>
                            <resolved>Mon, 12 Aug 2013 11:50:29 +0000</resolved>
                                    <version>Event 3.2.0</version>
                                    <fixVersion>Event 3.3.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13736789" author="cziegeler" created="Mon, 12 Aug 2013 11:50:29 +0000"  >&lt;p&gt;Adding a unique id consisting of the instance id and an incremental counter&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>343200</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 12 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1n6qf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>343504</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3010] Managing Permissions using Sling with Aggregate Privileges</title>
                <link>https://issues.apache.org/jira/browse/SLING-3010</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I am using Sling&apos;s REST interface to modify the permissions on a Node.  I noticed an issue.&lt;/p&gt;

&lt;p&gt;The issue I am facing can be best explained by showing the curl commands I executed and the output I received:&lt;/p&gt;

&lt;p&gt;(1) Here is the initial set of privileges present on the node:&lt;br/&gt;
$ curl -u admin:admin &lt;a href=&quot;http://localhost:8080/content/pertest.eacl.json&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/content/pertest.eacl.json&lt;/a&gt;&lt;br/&gt;
{&quot;test&quot;:&lt;/p&gt;
{&quot;principal&quot;:&quot;test&quot;,&quot;denied&quot;:[&quot;jcr:versionManagement&quot;,&quot;jcr:read&quot;,&quot;jcr:modifyAccessControl&quot;,&quot;rep:write&quot;],&quot;order&quot;:0}
&lt;p&gt;,&quot;everyone&quot;:&lt;/p&gt;
{&quot;principal&quot;:&quot;everyone&quot;,&quot;granted&quot;:[&quot;jcr:read&quot;,&quot;jcr:readAccessControl&quot;],&quot;order&quot;:1}
&lt;p&gt;,&quot;administrators&quot;:{&quot;principal&quot;:&quot;administrators&quot;,&quot;granted&quot;:&lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;quot;jcr:all&amp;quot;&amp;#93;&lt;/span&gt;,&quot;order&quot;:2}}&lt;/p&gt;

&lt;p&gt;(2) Run the below command to grant all the privileges for &quot;test&quot; principal&lt;br/&gt;
$ curl -u admin:admin -FprincipalId=test -Fprivilege@jcr:versionManagement=granted -Fprivilege@jcr:read=granted -Fprivilege@jcr:modifyAccessControl=granted -Fprivilege@jcr:nodeTypeManagement=granted  -Fprivilege@jcr:write=granted &lt;a href=&quot;http://localhost:8080/content/pertest.modifyAce.json&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/content/pertest.modifyAce.json&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;(3) As you can see from the below output, &quot;jcr:write&quot; is still present under &quot;denied&quot; privileges for &quot;test&quot; even though I granted all the privileges in the previous command&lt;br/&gt;
$ curl -u admin:admin &lt;a href=&quot;http://localhost:8080/content/pertest.eacl.json&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/content/pertest.eacl.json&lt;/a&gt;&lt;br/&gt;
{&quot;test&quot;:&lt;/p&gt;
{&quot;principal&quot;:&quot;test&quot;,&quot;granted&quot;:[&quot;jcr:nodeTypeManagement&quot;,&quot;jcr:versionManagement&quot;,&quot;jcr:read&quot;,&quot;jcr:modifyAccessControl&quot;],&quot;denied&quot;:[&quot;jcr:write&quot;],&quot;order&quot;:0}
&lt;p&gt;,&quot;everyone&quot;:&lt;/p&gt;
{&quot;principal&quot;:&quot;everyone&quot;,&quot;granted&quot;:[&quot;jcr:read&quot;,&quot;jcr:readAccessControl&quot;],&quot;order&quot;:1}
&lt;p&gt;,&quot;administrators&quot;:{&quot;principal&quot;:&quot;administrators&quot;,&quot;granted&quot;:&lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;quot;jcr:all&amp;quot;&amp;#93;&lt;/span&gt;,&quot;order&quot;:2}}&lt;/p&gt;

&lt;p&gt;Initially I thought it&apos;s a bug in Jackrabbit, but after getting the clarification from Jackrabbit forum, I think it might need to be corrected in Sling.&lt;/p&gt;

&lt;p&gt;Here is the link to the question I raised in Jackrabbit forum:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://jackrabbit.510166.n4.nabble.com/Bug-or-intended-behavior-getAggregatePrivileges-td4659272.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jackrabbit.510166.n4.nabble.com/Bug-or-intended-behavior-getAggregatePrivileges-td4659272.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Potential fix:&lt;/p&gt;

&lt;p&gt;In the class org.apache.sling.jcr.base.util.AccessControlUtil.java, there is a private method with the below signature:&lt;/p&gt;

&lt;p&gt;private static Set&amp;lt;String&amp;gt; disaggregateToPrivilegeNames(Privilege privilege) {}&lt;/p&gt;

&lt;p&gt;Inside this method, there is a &quot;for&quot; loop&lt;/p&gt;

&lt;p&gt;for (Privilege disaggregate : privileges) {&lt;br/&gt;
	disaggregatedPrivilegeNames.add(disaggregate.getName());&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;If I modify the above snippet with the below code snippet, then the issue seems to be resolved.&lt;/p&gt;

&lt;p&gt;for (Privilege disaggregate : privileges) {&lt;br/&gt;
	if(!disaggregate.isAggregate())&lt;br/&gt;
	     disaggregatedPrivilegeNames.add(disaggregate.getName());&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;Based on my initial testing the change seems to be working fine.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12663184">SLING-3010</key>
            <summary>Managing Permissions using Sling with Aggregate Privileges</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="enorman">Eric Norman</assignee>
                                    <reporter username="anjan">Anjan</reporter>
                        <labels>
                            <label>aggregate</label>
                            <label>permissions</label>
                            <label>privileges</label>
                    </labels>
                <created>Mon, 12 Aug 2013 10:10:23 +0000</created>
                <updated>Fri, 20 Sep 2019 11:34:35 +0000</updated>
                            <resolved>Wed, 14 Aug 2013 05:31:12 +0000</resolved>
                                    <version>JCR Base 2.1.2</version>
                                    <fixVersion>JCR Base 2.2.0</fixVersion>
                                    <component>API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13739252" author="enorman" created="Wed, 14 Aug 2013 05:31:12 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anjan&quot; class=&quot;user-hover&quot; rel=&quot;anjan&quot;&gt;anjan&lt;/a&gt; Thanks for reporting the bug and providing a patch.&lt;/p&gt;

&lt;p&gt;I have applied your fix in revision 1513729 plus added a couple of integration tests to guard against future regressions.&lt;/p&gt;

&lt;p&gt;Please verify that the fix works as expected for you.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>343185</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 12 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1n6n3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>343489</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3008] Render resource type (and super type) if resource can&apos;t be adapted to a map in JSON</title>
                <link>https://issues.apache.org/jira/browse/SLING-3008</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If the resource can&apos;t be adapted to a (value) map, at least resource type and resource super type (if not null) should be rendered in the json output&lt;/p&gt;</description>
                <environment></environment>
        <key id="12662877">SLING-3008</key>
            <summary>Render resource type (and super type) if resource can&apos;t be adapted to a map in JSON</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Fri, 9 Aug 2013 15:50:15 +0000</created>
                <updated>Tue, 16 Sep 2014 20:00:51 +0000</updated>
                            <resolved>Fri, 9 Aug 2013 15:52:34 +0000</resolved>
                                    <version>Servlets Get 2.1.4</version>
                                    <fixVersion>Servlets Get 2.1.6</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13734929" author="cziegeler" created="Fri, 9 Aug 2013 15:52:34 +0000"  >&lt;p&gt;Added the two values to json rendering if the resource can&apos;t be adapted to a map&lt;/p&gt;</comment>
                            <comment id="14017053" author="olli" created="Tue, 3 Jun 2014 19:51:46 +0000"  >&lt;p&gt;This change looks wrong to me, as a call &lt;tt&gt;curl &lt;a href=&quot;http://localhost:8181/system/userManager/user.tidy.1.json&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8181/system/userManager/user.tidy.1.json&lt;/a&gt;&lt;/tt&gt; now results in:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;{
  &quot;sling:resourceType&quot;: &quot;sling/users&quot;,
  &quot;admin&quot;: {
    &quot;memberOf&quot;: [],
    &quot;declaredMemberOf&quot;: []
  },
  &quot;anonymous&quot;: {
    &quot;memberOf&quot;: [],
    &quot;declaredMemberOf&quot;: []
  }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I don&apos;t think that clients should filter out &lt;tt&gt;sling:resourceType&lt;/tt&gt; and &lt;tt&gt;sling:resourceSuperType&lt;/tt&gt;. What was the purpose of this change?&lt;/p&gt;</comment>
                            <comment id="14017392" author="cziegeler" created="Wed, 4 Jun 2014 05:42:24 +0000"  >&lt;p&gt;With the recent changes of making a value map a first class citizen this change is unnecessary anyway as a resource must provide a value map. So the situation should not happen anyway.&lt;br/&gt;
However, before we had the problem that a json response of a resource simply returned an empty response which is totally meaningless and therefore at least the information availabel which is the resource type is returned.&lt;/p&gt;</comment>
                            <comment id="14019800" author="olli" created="Fri, 6 Jun 2014 12:28:43 +0000"  >&lt;p&gt;Does it mean we can simply remove the code block? (works for me)&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;            if ( resource.getResourceType() != null ) {
                obj.put(&quot;sling:resourceType&quot;, resource.getResourceType());
            }
            if ( resource.getResourceSuperType() != null ) {
                obj.put(&quot;sling:resourceSuperType&quot;, resource.getResourceSuperType());
            }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Or is there anything else to do?&lt;/p&gt;</comment>
                            <comment id="14029150" author="cziegeler" created="Thu, 12 Jun 2014 13:45:35 +0000"  >&lt;p&gt;I think so, but I need to do some test before I can confirm &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12741906">SLING-3942</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>342879</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 20 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1n4r3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>343183</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3007] NPE in JSON Rendering if value map contains a null value</title>
                <link>https://issues.apache.org/jira/browse/SLING-3007</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If the value map contains a null value for a key, this fails with a NPE during JSON rendering as the ResourceTraversor does not handle this case&lt;/p&gt;</description>
                <environment></environment>
        <key id="12662876">SLING-3007</key>
            <summary>NPE in JSON Rendering if value map contains a null value</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Fri, 9 Aug 2013 15:45:55 +0000</created>
                <updated>Fri, 7 Mar 2014 10:38:42 +0000</updated>
                            <resolved>Fri, 9 Aug 2013 15:48:23 +0000</resolved>
                                    <version>Servlets Get 2.1.4</version>
                                    <fixVersion>Servlets Get 2.1.6</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13734925" author="cziegeler" created="Fri, 9 Aug 2013 15:48:23 +0000"  >&lt;p&gt;Added an extra null check&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>342878</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 12 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1n4qv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>343182</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3006] SlingServletResolver webconsole plugin uses custom URL decomposition code that can be wrong</title>
                <link>https://issues.apache.org/jira/browse/SLING-3006</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Entering &lt;a href=&quot;http://localhost:8080/libs/foo/content/something/formitems.json/image/vnd/xnd/knd.xml&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/libs/foo/content/something/formitems.json/image/vnd/xnd/knd.xml&lt;/a&gt; in the /system/console/servletresolver webconsole plugin does not produce the correct results as per the testDotsAroundSuffix() at &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;This is due to the plugin using its own DecomposedURL class which is a simplified version of the SlingRequestPathInfo class.&lt;/p&gt;

&lt;p&gt;For now, I&apos;ll add a warning to the plugin.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://svn.apache.org/repos/asf/sling/trunk/bundles/engine/src/test/java/org/apache/sling/engine/impl/request/SlingRequestPathInfoTest.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/repos/asf/sling/trunk/bundles/engine/src/test/java/org/apache/sling/engine/impl/request/SlingRequestPathInfoTest.java&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12662863">SLING-3006</key>
            <summary>SlingServletResolver webconsole plugin uses custom URL decomposition code that can be wrong</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Fri, 9 Aug 2013 14:49:00 +0000</created>
                <updated>Tue, 20 Jun 2023 13:55:28 +0000</updated>
                            <resolved>Fri, 9 Aug 2013 16:10:26 +0000</resolved>
                                    <version>Servlets Resolver 2.2.4</version>
                                    <fixVersion>Servlets Resolver 2.3.0</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13734861" author="bdelacretaz" created="Fri, 9 Aug 2013 14:53:50 +0000"  >&lt;p&gt;The workaround, to find out about the actual selectors, suffix and extension is to execute the request in question and then look at the /system/console/requests plugin, which displays the SlingRequestPathInfo values.&lt;/p&gt;</comment>
                            <comment id="13734864" author="fmeschbe" created="Fri, 9 Aug 2013 14:59:10 +0000"  >&lt;p&gt;The goal of the plugin form is to show mapping rules applied. This does very rudimentary string operation which is sufficient for the purpose.&lt;/p&gt;

&lt;p&gt;Maybe your message should read something like &quot;don&apos;t add a suffix&quot;.&lt;/p&gt;</comment>
                            <comment id="13734944" author="bdelacretaz" created="Fri, 9 Aug 2013 16:10:26 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;http://svn.apache.org/r1512369&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1512369&lt;/a&gt; by using the SlingRequestPathInfo class that&apos;s used in request processing in the webconsole plugin.&lt;/p&gt;

&lt;p&gt;The plugin can still potentially get out of sync with the actual request processing code as I&apos;m embedding that class in the resolver bundle instead of using it via a service, but using the &quot;official&quot; URL decomposition code gives it a much better chance of being correct.&lt;/p&gt;</comment>
                            <comment id="13815781" author="kwin" created="Thu, 7 Nov 2013 09:01:27 +0000"  >&lt;p&gt;Another use case is the request URI&lt;br/&gt;
/home/users/geometrixx-outdoors/emily.andrews@mailinator.com/profile.form.html/content/geometrixx-outdoors/en/user/profile&lt;/p&gt;

&lt;p&gt;which gets decomposed to&lt;br/&gt;
Path&lt;br/&gt;
    /home/users/geometrixx-outdoors/emily&lt;br/&gt;
Selectors&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;andrews@mailinator, com/profile, form&amp;#93;&lt;/span&gt;&lt;br/&gt;
Extension&lt;br/&gt;
    html &lt;/p&gt;

&lt;p&gt;whereas it should be &lt;br/&gt;
Path&lt;br/&gt;
    /home/users/geometrixx-outdoors/emily.andrews@mailinator.com/profile&lt;br/&gt;
Selectors&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;form&amp;#93;&lt;/span&gt;&lt;br/&gt;
Extension&lt;br/&gt;
    html &lt;/p&gt;

&lt;p&gt;Is that fixed with the updated version as well?&lt;/p&gt;</comment>
                            <comment id="13815820" author="bdelacretaz" created="Thu, 7 Nov 2013 10:24:22 +0000"  >&lt;p&gt;I have added two tests at &lt;a href=&quot;http://svn.apache.org/r1539586&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1539586&lt;/a&gt; that demonstrate that we don&apos;t get the results that you expect.&lt;/p&gt;

&lt;p&gt;As the webconsole plugin does not check if the underlying resources actually exist, it simply uses the first dot in the URL to separate between path and selectors/extension.&lt;/p&gt;

&lt;p&gt;We could improve that by having the plugin make an actual request, but I&apos;m not sure if that&apos;s a good idea. For now I have added the following warning on the path field of the plugin&apos;s output:&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Note that in a real Sling request, the path might vary depending on the existence of resources that partially match it. This utility does not take this into account and uses the first dot to split between path and selectors/extension.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I think that&apos;s acceptable for now, the workaround is to replace dots with _ for example when testing such an URL. At least the behavior is now clearly explained.&lt;/p&gt;

&lt;p&gt;WDYT? Feel free to create a separate issue if you think this should be addressed.&lt;/p&gt;</comment>
                            <comment id="13815829" author="kwin" created="Thu, 7 Nov 2013 10:33:33 +0000"  >&lt;p&gt;Hi Bertrand, I think the warning should be enough. Maybe you can also mention the workaround in the warning that replacing dots with &quot;_&quot; should work, if the dots should not be considered as separator between path and selectors. Thanks.&lt;/p&gt;</comment>
                            <comment id="13818879" author="bdelacretaz" created="Mon, 11 Nov 2013 11:26:51 +0000"  >&lt;p&gt;Good idea, I have added workaround info in &lt;a href=&quot;http://svn.apache.org/r1540671&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1540671&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12664606">SLING-3025</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13540762">SLING-11911</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>342865</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 51 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1n4nz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>343169</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-3004] Event ITs should use timeouts</title>
                <link>https://issues.apache.org/jira/browse/SLING-3004</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The Event Pax-Exam tests sometimes hang for me locally with timeouts. To alleviate the problem, all tests should use timeouts.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12662829">SLING-3004</key>
            <summary>Event ITs should use timeouts</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 9 Aug 2013 10:43:36 +0000</created>
                <updated>Thu, 24 Oct 2013 07:31:07 +0000</updated>
                            <resolved>Fri, 9 Aug 2013 11:31:27 +0000</resolved>
                                    <version>Event 3.1.4</version>
                                    <fixVersion>Event 3.3.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13734682" author="rombert" created="Fri, 9 Aug 2013 11:31:23 +0000"  >&lt;p&gt;Timeouts added in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1512261&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1512261&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>342831</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 12 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1n4gf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>343135</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2998] SlingAuthenticator fails because of pathInfo being null</title>
                <link>https://issues.apache.org/jira/browse/SLING-2998</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;HttpServletRequest#getPathInfo():String returns null, use HttpServletRequest#getServletPath():String instead&lt;/li&gt;
	&lt;li&gt;path should never be changed to /, instead return anonymous credentials/false&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/sling-users/201308.mbox/%3c201308021338.32243.apache@oliverlietz.de%3e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://mail-archives.apache.org/mod_mbox/sling-users/201308.mbox/%3c201308021338.32243.apache@oliverlietz.de%3e&lt;/a&gt;&lt;/p&gt;</description>
                <environment>Sling, CQ</environment>
        <key id="12662137">SLING-2998</key>
            <summary>SlingAuthenticator fails because of pathInfo being null</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="olli">Oliver Lietz</assignee>
                                    <reporter username="olli">Oliver Lietz</reporter>
                        <labels>
                            <label>security</label>
                    </labels>
                <created>Tue, 6 Aug 2013 15:16:47 +0000</created>
                <updated>Fri, 4 Apr 2014 14:19:47 +0000</updated>
                            <resolved>Fri, 13 Sep 2013 14:26:16 +0000</resolved>
                                    <version>Auth Core 1.1.2</version>
                                    <fixVersion>Auth Core 1.1.4</fixVersion>
                                    <component>Authentication</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13738533" author="olli" created="Tue, 13 Aug 2013 17:34:18 +0000"  >&lt;p&gt;integration test: &lt;a href=&quot;https://github.com/oliverlietz/sling-tests/tree/master/org.apache.sling.tests/SLING-2998&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/oliverlietz/sling-tests/tree/master/org.apache.sling.tests/SLING-2998&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13765718" author="olli" created="Thu, 12 Sep 2013 18:12:33 +0000"  >&lt;p&gt;improved patch&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;concatenate servlet path and path info as their values are configuration/container dependent&lt;/li&gt;
	&lt;li&gt;remove LoginServlet.SERVLET_PATH.equals(pathInfo) check as paths of LoginServlet and LogoutServlet are added to PathBasedHolderCache&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13766502" author="olli" created="Fri, 13 Sep 2013 14:26:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2998&quot; title=&quot;SlingAuthenticator fails because of pathInfo being null&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2998&quot;&gt;&lt;del&gt;SLING-2998&lt;/del&gt;&lt;/a&gt;.2013-09-12.patch applied in r1522946&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12706629">SLING-3492</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12407900">SLING-722</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12602843" name="SLING-2998.2013-09-12.patch" size="3287" author="olli" created="Thu, 12 Sep 2013 18:12:33 +0000"/>
                            <attachment id="12596359" name="SLING-2998.patch" size="2830" author="olli" created="Tue, 6 Aug 2013 15:17:50 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>342141</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 7 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1n07z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>342446</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2997] ResourceAccessSecurityImpl uses @Override for interface methods, but does not declare compiler version as Java 6</title>
                <link>https://issues.apache.org/jira/browse/SLING-2997</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The class org.apache.sling.resourceaccesssecurity.impl.ResourceAccessSecurityImpl uses @Override to indicate interface implementation. This, however, is only valid on Java 6 and above.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12662131">SLING-2997</key>
            <summary>ResourceAccessSecurityImpl uses @Override for interface methods, but does not declare compiler version as Java 6</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="justinedelson">Justin Edelson</assignee>
                                    <reporter username="justinedelson">Justin Edelson</reporter>
                        <labels>
                    </labels>
                <created>Tue, 6 Aug 2013 14:24:05 +0000</created>
                <updated>Sat, 20 Sep 2014 07:53:09 +0000</updated>
                            <resolved>Tue, 6 Aug 2013 14:28:47 +0000</resolved>
                                                    <fixVersion>Resource Access Security 1.0.0</fixVersion>
                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13730816" author="justinedelson" created="Tue, 6 Aug 2013 14:28:47 +0000"  >&lt;p&gt;fixed in 1510969 by setting sling.java.version to 6&lt;/p&gt;</comment>
                            <comment id="13730855" author="cziegeler" created="Tue, 6 Aug 2013 15:15:11 +0000"  >&lt;p&gt;Do we really want to require java 6 just because of an annotation?&lt;/p&gt;

&lt;p&gt;I think we should rather not use the annotation and stick to java 5 unless there are good reasons&lt;/p&gt;</comment>
                            <comment id="13730881" author="justinedelson" created="Tue, 6 Aug 2013 15:59:54 +0000"  >&lt;p&gt;I personally like having the @Override annotation for interfaces, so I&apos;d consider this a good reason &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;But I didn&apos;t write this code, so I can&apos;t speak to why it was used there.&lt;/p&gt;

&lt;p&gt;Another option would be to separate out the source vs. target version in the parent POM. Right now, there is one property which controls both.&lt;/p&gt;</comment>
                            <comment id="13730884" author="cziegeler" created="Tue, 6 Aug 2013 16:03:45 +0000"  >&lt;p&gt;So could we simply set source fixed to 1.6 (for now), and by default target is 1.5 and can be changed to 1.6?&lt;/p&gt;</comment>
                            <comment id="13730956" author="justinedelson" created="Tue, 6 Aug 2013 16:58:14 +0000"  >&lt;p&gt;I think so, but right now the parent pom only lets you specify them with one property. And retaining Java 5 for this (new, never released) bundle doesn&apos;t really seem worth it.&lt;/p&gt;</comment>
                            <comment id="13731801" author="fmeschbe" created="Wed, 7 Aug 2013 09:13:39 +0000"  >&lt;p&gt;I agree. Java 5 is dead and new code should IMHO be free to required Java 6 &amp;#8211; if only for the @Override annotation which IMHO is a big plus in code stability by supporting the compiler with its static code analysis.&lt;/p&gt;</comment>
                            <comment id="14141856" author="mykee" created="Sat, 20 Sep 2014 07:53:09 +0000"  >&lt;p&gt;Released (Sling Resource Access Security version 1.0.0)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>342135</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 6 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1n06n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>342440</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2992] lower isolated mode error to info</title>
                <link>https://issues.apache.org/jira/browse/SLING-2992</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;At startup of discovery.impl, when a node joins a cluster for example and an established view already exists, there is the following error:&lt;/p&gt;

&lt;p&gt;getEstablishedView: the existing established view does not incude the local instance yet! Assming isolated mode.&lt;/p&gt;

&lt;p&gt;this can be lowered to info and typo-fixed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12661842">SLING-2992</key>
            <summary>lower isolated mode error to info</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stefanegli">Stefan Egli</assignee>
                                    <reporter username="stefanegli">Stefan Egli</reporter>
                        <labels>
                    </labels>
                <created>Mon, 5 Aug 2013 08:52:26 +0000</created>
                <updated>Thu, 12 Nov 2015 11:38:18 +0000</updated>
                            <resolved>Mon, 5 Aug 2013 08:53:40 +0000</resolved>
                                    <version>Discovery Impl 1.0.0</version>
                                    <fixVersion>Discovery Impl 1.0.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13729310" author="egli" created="Mon, 5 Aug 2013 08:53:41 +0000"  >&lt;p&gt;lowered to info and typo fixed&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>341846</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 13 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1myen:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>342152</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2990] race condition in scheduler could cause tasks to be lost</title>
                <link>https://issues.apache.org/jira/browse/SLING-2990</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;In QuartzScheduler.java, binding a task/job checks if the scheduler is null and then either registers the service reference or adds it to a list for later registration. When the scheduler is activated all items on the list are registered and the list is cleared.&lt;/p&gt;

&lt;p&gt;All accesses to the list are properly synchronized, but the scheduler null check is not, so they are not done atomically together - there may be a race condition here that can cause a task to be lost: if the scheduler is checked and found to be null, then a context switch occurs and the scheduler is activated and processes the list, and then the original thread resumes and adds the task to the list, then the task will remain unprocessed in the list and never be registered.&lt;/p&gt;

&lt;p&gt;The same thing might happen inversed with unbinding tasks/jobs.&lt;/p&gt;

&lt;p&gt;btw the bind/unbind methods are duplicated for jobs and tasks, so it might be nicer to extract the common implementation and delegate to it with a job/task parameter. Then there will be less places to apply the fix in &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12661136">SLING-2990</key>
            <summary>race condition in scheduler could cause tasks to be lost</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="amichai">Amichai Rothman</reporter>
                        <labels>
                    </labels>
                <created>Thu, 1 Aug 2013 14:42:38 +0000</created>
                <updated>Mon, 7 Oct 2013 14:55:59 +0000</updated>
                            <resolved>Fri, 2 Aug 2013 06:43:34 +0000</resolved>
                                    <version>Commons Scheduler 2.3.4</version>
                                    <fixVersion>Commons Scheduler 2.4.0</fixVersion>
                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13726613" author="cziegeler" created="Thu, 1 Aug 2013 17:01:39 +0000"  >&lt;p&gt;Thanks for spotting this - in rev 1509329 i&apos;ve changed the implementation and moved all whiteboard stuff into a separate class which now uses a service tracker which runs after the component is activated. This ensures that all jobs are bound after the scheduler is initialized and we don&apos;t need to handle bound jobs before the scheduler is ready&lt;/p&gt;</comment>
                            <comment id="13726674" author="amichai" created="Thu, 1 Aug 2013 18:01:51 +0000"  >&lt;p&gt;Wow, that was quick &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;btw, Karaf is considering adding a scheduling service based on the Sling scheduler but ported to blueprint (&lt;a href=&quot;https://issues.apache.org/jira/browse/KARAF-751&quot; title=&quot;Provide a Timer Service in Karaf&quot; class=&quot;issue-link&quot; data-issue-key=&quot;KARAF-751&quot;&gt;&lt;del&gt;KARAF-751&lt;/del&gt;&lt;/a&gt;)... so if you ever have a choice in design/implementation to make things more decoupled from DS/SCR and/or other slingy dependencies, and it&apos;s all the same to you, going for the decoupled approach would be helpful &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Thanks for the fix!&lt;/p&gt;</comment>
                            <comment id="13727413" author="cziegeler" created="Fri, 2 Aug 2013 06:43:34 +0000"  >&lt;p&gt;Thanks for the info - the idea is that all Sling common modules can be run without some of the core Sling modules. The scheduler is just depending on the commons thread pool. The other dependency to the discovery service is optional&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>341325</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 13 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1mv9j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>341643</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2983] Scripted expressions for Health Check rules</title>
                <link>https://issues.apache.org/jira/browse/SLING-2983</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I have implemented scripted expressions for Health Check rules, that can use any Sling scripting language and must return true for the Rule to be successful.&lt;/p&gt;

&lt;p&gt;Here&apos;s two examples from &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;:&lt;/p&gt;

&lt;p&gt;scripted-ecma.json:&lt;br/&gt;
{&lt;br/&gt;
  &quot;sling:resourceType&quot; : &quot;sling/healthcheck/rules&quot;,&lt;br/&gt;
  &quot;namespace&quot;: &quot;script&quot;,&lt;br/&gt;
  &quot;ruleName&quot;: &quot;Test javascript (ecma) rule&quot;,&lt;br/&gt;
  &quot;qualifier&quot;: &quot;ecma&quot;,&lt;br/&gt;
  &quot;expression&quot;: &quot;Math.round(2.6) == 3&quot;,&lt;br/&gt;
  &quot;tags&quot; : &lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;quot;script&amp;quot;,&amp;quot;javascript&amp;quot;&amp;#93;&lt;/span&gt;,&lt;br/&gt;
  &quot;jcr:primaryType&quot;: &quot;nt:unstructured&quot;&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;scripted-groovy.json:&lt;br/&gt;
{&lt;br/&gt;
  &quot;sling:resourceType&quot; : &quot;sling/healthcheck/rules&quot;,&lt;br/&gt;
  &quot;namespace&quot;: &quot;script&quot;,&lt;br/&gt;
  &quot;ruleName&quot;: &quot;Test Groovy rule&quot;,&lt;br/&gt;
  &quot;qualifier&quot;: &quot;groovy&quot;,&lt;br/&gt;
  &quot;expression&quot;: &quot;someList = &lt;span class=&quot;error&quot;&gt;&amp;#91;1776, -1, 33, 99, 0, 928734928763&amp;#93;&lt;/span&gt; ; someList&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; == 33&quot;,&lt;br/&gt;
  &quot;tags&quot; : &lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;quot;script&amp;quot;,&amp;quot;groovy&amp;quot;&amp;#93;&lt;/span&gt;,&lt;br/&gt;
  &quot;jcr:primaryType&quot;: &quot;nt:unstructured&quot;&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;  &lt;a href=&quot;https://svn.apache.org/repos/asf/sling/trunk/contrib/extensions/healthcheck/sling-demo/src/main/resources/SLING-CONTENT/apps/hc/demo&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/repos/asf/sling/trunk/contrib/extensions/healthcheck/sling-demo/src/main/resources/SLING-CONTENT/apps/hc/demo&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12660380">SLING-2983</key>
            <summary>Scripted expressions for Health Check rules</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Mon, 29 Jul 2013 12:50:38 +0000</created>
                <updated>Mon, 30 Sep 2013 14:02:49 +0000</updated>
                            <resolved>Mon, 29 Jul 2013 13:01:23 +0000</resolved>
                                                                    <component>Health Check</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13722423" author="bdelacretaz" created="Mon, 29 Jul 2013 13:01:23 +0000"  >&lt;p&gt;Committed in revision 1508040&lt;/p&gt;</comment>
                            <comment id="13722459" author="bdelacretaz" created="Mon, 29 Jul 2013 13:48:53 +0000"  >&lt;p&gt;Added a JMX binding in revision 1508067, allows for writing rules that evaluate combinations of JMX attributes, such as:&lt;/p&gt;

&lt;p&gt;{&lt;br/&gt;
  &quot;sling:resourceType&quot; : &quot;sling/healthcheck/rules&quot;,&lt;br/&gt;
  &quot;namespace&quot;: &quot;script&quot;,&lt;br/&gt;
  &quot;ruleName&quot;: &quot;Example javascript expression that combines two JMX attributes&quot;,&lt;br/&gt;
  &quot;qualifier&quot;: &quot;ecma&quot;,&lt;br/&gt;
  &quot;expression&quot;: &apos;jmx.attribute(&quot;java.lang:type=ClassLoading&quot;, &quot;LoadedClassCount&quot;) &amp;gt; 100 &amp;amp;&amp;amp; jmx.attribute(&quot;osgi.core:type=framework,version=1.5&quot;,&quot;FrameworkStartLevel&quot;) &amp;gt; 1&apos;,&lt;br/&gt;
  &quot;tags&quot; : &lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;quot;script&amp;quot;,&amp;quot;javascript&amp;quot;, &amp;quot;jmx&amp;quot; &amp;#93;&lt;/span&gt;,&lt;br/&gt;
  &quot;jcr:primaryType&quot;: &quot;nt:unstructured&quot;&lt;br/&gt;
}&lt;/p&gt;</comment>
                            <comment id="13781829" author="bdelacretaz" created="Mon, 30 Sep 2013 14:02:49 +0000"  >&lt;p&gt;Health Check Tools initial release done in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3127&quot; title=&quot;Initial release of the Health Check tools&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3127&quot;&gt;&lt;del&gt;SLING-3127&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12642253">SLING-2822</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>340572</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 5 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1mqm7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>340890</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2975] MapEntry#compareTo method is not consistent and might throw ISE on Java7</title>
                <link>https://issues.apache.org/jira/browse/SLING-2975</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;On Java7 sorting the map entries might result in an IllegalStateException:&lt;br/&gt;
java.lang.IllegalArgumentException: Comparison method violates its general&lt;br/&gt;
contract!&lt;br/&gt;
	at java.util.ComparableTimSort.mergeLo(ComparableTimSort.java:714)&lt;br/&gt;
	at java.util.ComparableTimSort.mergeAt(ComparableTimSort.java:451)&lt;br/&gt;
	at java.util.ComparableTimSort.mergeCollapse(ComparableTimSort.java:376)&lt;br/&gt;
	at java.util.ComparableTimSort.sort(ComparableTimSort.java:182)&lt;br/&gt;
	at java.util.ComparableTimSort.sort(ComparableTimSort.java:146)&lt;br/&gt;
	at java.util.Arrays.sort(Arrays.java:472)&lt;br/&gt;
	at java.util.Collections.sort(Collections.java:155)&lt;/p&gt;

&lt;p&gt;The behaviour of sorting has changed with Java7 (see &lt;a href=&quot;http://stackoverflow.com/questions/7849539/comparison-method-violates-its-general-contract-java-7-only&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://stackoverflow.com/questions/7849539/comparison-method-violates-its-general-contract-java-7-only&lt;/a&gt;) and it now throws such an exception if the compare method is not implemented in an consistent way.&lt;/p&gt;

&lt;p&gt;In our case: if the two strings have the same lengths, always 1 is returned, so compareTo(&quot;a&quot;, &quot;b&quot;) returns 1 while compareTo(&quot;b&quot;, &quot;a&quot;) returns 1 as well&lt;/p&gt;</description>
                <environment></environment>
        <key id="12658494">SLING-2975</key>
            <summary>MapEntry#compareTo method is not consistent and might throw ISE on Java7</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Thu, 18 Jul 2013 11:02:14 +0000</created>
                <updated>Fri, 4 Apr 2014 09:05:50 +0000</updated>
                            <resolved>Thu, 18 Jul 2013 11:06:28 +0000</resolved>
                                    <version>Resource Resolver 1.0.6</version>
                                    <fixVersion>Resource Resolver 1.1.0</fixVersion>
                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13712221" author="cziegeler" created="Thu, 18 Jul 2013 11:06:28 +0000"  >&lt;p&gt;Fixed as described above - if the two patterns have the same length, the result of comparing them is returned&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>338688</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 15 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1mf0v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>339008</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2974] XSS vulnerability in AbstractAuthenticationFormServlet</title>
                <link>https://issues.apache.org/jira/browse/SLING-2974</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The AbstractAuthenticationFormServlet replaces placeholders in an HTML page with user-provided input without taking care of proper escaping of the input. Hence it is possible to construct an XSS-attack exploiting this servlet.&lt;/p&gt;

&lt;p&gt;This is made worse by the fact that this servlet doesn&apos;t provide an obvious way to disable it. Setting the sling.servlet.path=&quot;-&quot; using content based configuration did the trick in my case, however.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12658493">SLING-2974</key>
            <summary>XSS vulnerability in AbstractAuthenticationFormServlet</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="jsedding">Julian Sedding</reporter>
                        <labels>
                    </labels>
                <created>Thu, 18 Jul 2013 11:00:36 +0000</created>
                <updated>Mon, 7 Oct 2013 14:04:46 +0000</updated>
                            <resolved>Fri, 19 Jul 2013 06:49:14 +0000</resolved>
                                    <version>Auth Core 1.1.2</version>
                                    <fixVersion>Auth Core 1.1.4</fixVersion>
                                    <component>Authentication</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13713382" author="cziegeler" created="Fri, 19 Jul 2013 06:49:14 +0000"  >&lt;p&gt;I&apos;ve added XML escaping with revision 1504776 - although it should not be required to check the context path, I added the escaping to all variables.&lt;/p&gt;</comment>
                            <comment id="13713511" author="jsedding" created="Fri, 19 Jul 2013 10:00:34 +0000"  >&lt;p&gt;Thanks Carsten!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>338687</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 15 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1mf0n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>339007</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2971] BackgroundLoader thread dies for invalid paths</title>
                <link>https://issues.apache.org/jira/browse/SLING-2971</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;BackgroundLoader thread which is used by JobManager to load and process job asynchronously dies if any submitted job path is found to be invalid. &lt;/p&gt;

&lt;p&gt;&amp;#8212;&lt;br/&gt;
14.07.2013 11:14:22.599 &lt;b&gt;ERROR&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Apache Sling Job Background Loader&amp;#93;&lt;/span&gt; org.apache.sling.extensions.threaddump.internal.Activator Uncaught exception in Thread Thread&lt;span class=&quot;error&quot;&gt;&amp;#91;Apache Sling Job Background Loader,5,main&amp;#93;&lt;/span&gt; java.lang.NullPointerException&lt;br/&gt;
	at org.apache.sling.event.impl.jobs.BackgroundLoader.run(BackgroundLoader.java:219)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:662)&lt;br/&gt;
&amp;#8212;&lt;/p&gt;

&lt;p&gt;It might not happen in actual scenario always but it would be better if the while loop does not end for such cases&lt;/p&gt;</description>
                <environment></environment>
        <key id="12658197">SLING-2971</key>
            <summary>BackgroundLoader thread dies for invalid paths</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="chetanm">Chetan Mehrotra</reporter>
                        <labels>
                    </labels>
                <created>Wed, 17 Jul 2013 07:02:14 +0000</created>
                <updated>Mon, 12 Aug 2013 11:22:50 +0000</updated>
                            <resolved>Wed, 7 Aug 2013 11:03:34 +0000</resolved>
                                                    <fixVersion>Event 3.2.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13710807" author="chetanm" created="Wed, 17 Jul 2013 07:04:00 +0000"  >&lt;p&gt;Simple patch to check for null resources&lt;/p&gt;</comment>
                            <comment id="13710812" author="cziegeler" created="Wed, 17 Jul 2013 07:09:28 +0000"  >&lt;p&gt;Can you provide more information when this might happen? (I&apos;m not against applying the patch, but I would like to know the root cause)&lt;/p&gt;</comment>
                            <comment id="13710837" author="chetanm" created="Wed, 17 Jul 2013 08:00:27 +0000"  >&lt;p&gt;Its coming while trying to run Sling based app on Oak. I am still looking into why the resource is not found for created job ... probably a bug in Oak. &lt;/p&gt;</comment>
                            <comment id="13710849" author="cziegeler" created="Wed, 17 Jul 2013 08:27:05 +0000"  >&lt;p&gt;Ok, I&apos;ve committed a fix and leave this open for now&lt;/p&gt;</comment>
                            <comment id="13731877" author="cziegeler" created="Wed, 7 Aug 2013 11:03:34 +0000"  >&lt;p&gt;I think we can close this now - as the underlying problem is due to Oak&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12592732" name="SLING-2971.patch" size="1306" author="chetanm" created="Wed, 17 Jul 2013 07:04:00 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>338391</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 13 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1md73:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>338711</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2969] IT failure: ClassloadingTest.testSimpleClassloading fails intermitently</title>
                <link>https://issues.apache.org/jira/browse/SLING-2969</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;ClassLoadingTest.testSimpleClassLoading failed a couple of times on Jenkins, for instance see &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;java.lang.AssertionError: expected:&amp;lt;0&amp;gt; but was:&amp;lt;1&amp;gt;&lt;br/&gt;
	at org.junit.Assert.fail(Assert.java:88)&lt;br/&gt;
	at org.junit.Assert.failNotEquals(Assert.java:743)&lt;br/&gt;
	at org.junit.Assert.assertEquals(Assert.java:118)&lt;br/&gt;
	at org.junit.Assert.assertEquals(Assert.java:555)&lt;br/&gt;
	at org.junit.Assert.assertEquals(Assert.java:542)&lt;br/&gt;
	at org.apache.sling.event.it.ClassloadingTest.testSimpleClassloading(ClassloadingTest.java:135)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:601)&lt;br/&gt;
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)&lt;br/&gt;
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)&lt;br/&gt;
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)&lt;br/&gt;
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)&lt;br/&gt;
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)&lt;br/&gt;
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)&lt;br/&gt;
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)&lt;br/&gt;
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)&lt;br/&gt;
	at org.ops4j.pax.exam.invoker.junit.internal.ContainerTestRunner.runChild(ContainerTestRunner.java:67)&lt;br/&gt;
	at org.ops4j.pax.exam.invoker.junit.internal.ContainerTestRunner.runChild(ContainerTestRunner.java:37)&lt;br/&gt;
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)&lt;br/&gt;
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)&lt;br/&gt;
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)&lt;br/&gt;
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)&lt;br/&gt;
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)&lt;br/&gt;
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)&lt;br/&gt;
	at org.junit.runner.JUnitCore.run(JUnitCore.java:160)&lt;br/&gt;
	at org.junit.runner.JUnitCore.run(JUnitCore.java:138)&lt;br/&gt;
	at org.ops4j.pax.exam.invoker.junit.internal.JUnitProbeInvoker.invokeViaJUnit(JUnitProbeInvoker.java:111)&lt;br/&gt;
	at org.ops4j.pax.exam.invoker.junit.internal.JUnitProbeInvoker.findAndInvoke(JUnitProbeInvoker.java:84)&lt;br/&gt;
	at org.ops4j.pax.exam.invoker.junit.internal.JUnitProbeInvoker.call(JUnitProbeInvoker.java:72)&lt;br/&gt;
	at org.ops4j.pax.exam.nat.internal.NativeTestContainer.call(NativeTestContainer.java:106)&lt;br/&gt;
	at org.ops4j.pax.exam.spi.reactors.AllConfinedStagedReactor.invoke(AllConfinedStagedReactor.java:84)&lt;br/&gt;
	at org.ops4j.pax.exam.junit.PaxExam$2.evaluate(PaxExam.java:294)&lt;br/&gt;
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)&lt;br/&gt;
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:68)&lt;br/&gt;
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:47)&lt;br/&gt;
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)&lt;br/&gt;
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)&lt;br/&gt;
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)&lt;br/&gt;
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)&lt;br/&gt;
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)&lt;br/&gt;
	at org.junit.runners.ParentRunner.run(ParentRunner.java:300)&lt;br/&gt;
	at org.ops4j.pax.exam.junit.PaxExam.run(PaxExam.java:111)&lt;br/&gt;
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)&lt;br/&gt;
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)&lt;br/&gt;
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:601)&lt;br/&gt;
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)&lt;br/&gt;
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)&lt;br/&gt;
	at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)&lt;br/&gt;
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)&lt;br/&gt;
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;: &lt;a href=&quot;https://builds.apache.org/job/sling-trunk-1.7/org.apache.sling$org.apache.sling.event/109/testReport/junit/org.apache.sling.event.it/ClassloadingTest/testSimpleClassloading/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/sling-trunk-1.7/org.apache.sling$org.apache.sling.event/109/testReport/junit/org.apache.sling.event.it/ClassloadingTest/testSimpleClassloading/&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12658035">SLING-2969</key>
            <summary>IT failure: ClassloadingTest.testSimpleClassloading fails intermitently</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                            <label>sling-IT</label>
                    </labels>
                <created>Tue, 16 Jul 2013 15:18:38 +0000</created>
                <updated>Mon, 19 Dec 2016 11:35:03 +0000</updated>
                            <resolved>Mon, 19 Dec 2016 11:35:03 +0000</resolved>
                                                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13709873" author="rombert" created="Tue, 16 Jul 2013 16:01:30 +0000"  >&lt;p&gt;Tried to stabilize tests by using conditions and allowing for larger timeouts in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1503771&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1503771&lt;/a&gt; .&lt;/p&gt;

&lt;p&gt;Keeping task open for verification on builds.apache.org.&lt;/p&gt;</comment>
                            <comment id="13709875" author="cziegeler" created="Tue, 16 Jul 2013 16:06:30 +0000"  >&lt;p&gt;I think you changed test logic:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;assertEquals(0, jobManager.getStatistics().getNumberOfQueuedJobs());&lt;/li&gt;
	&lt;li&gt;assertEquals(1, count.get());&lt;/li&gt;
	&lt;li&gt;assertEquals(0, jobManager.findJobs(JobManager.QueryType.ALL, TOPIC, -1, (Map&amp;lt;String, Object&amp;gt;[])null).size());&lt;br/&gt;
+            new RetryLoop(new RetryLoop.Condition() 
&lt;div class=&quot;error&quot;&gt;&lt;span class=&quot;error&quot;&gt;Unknown macro: {++                @Override+                public String getDescription() {
+                    return &quot;Waiting for job to be processed&quot;;
+                }++                @Override+                public boolean isTrue() throws Exception {
+                    return jobManager.getStatistics().getNumberOfQueuedJobs() == 0
+                            &amp;amp;&amp;amp; processedJobsCount.get() == 0
+                            &amp;amp;&amp;amp; jobManager.findJobs(JobManager.QueryType.ALL, TOPIC, -1, (Map&amp;lt;String, Object&amp;gt;[]) null)
+                                    .size() == 0;
+                }+            }&lt;/span&gt; &lt;/div&gt;
&lt;p&gt;, CONDITION_TIMEOUT&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;before it checked for 0,1,0 - now for 0,0,0 for the three conditions&lt;/p&gt;</comment>
                            <comment id="13709878" author="rombert" created="Tue, 16 Jul 2013 16:11:02 +0000"  >&lt;p&gt;You&apos;re right, going to fix it shortly.&lt;/p&gt;</comment>
                            <comment id="13709883" author="rombert" created="Tue, 16 Jul 2013 16:16:23 +0000"  >&lt;p&gt;Committed &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1503779&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1503779&lt;/a&gt;&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;fixed test logic which was changed inadvertently&lt;/li&gt;
	&lt;li&gt;included the org.apache.sling.testing.tools bundle in the pax-exam setup&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13709912" author="rombert" created="Tue, 16 Jul 2013 16:48:14 +0000"  >&lt;p&gt;Fixed (again) the pax-exam setup in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1503793&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1503793&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15760926" author="rombert" created="Mon, 19 Dec 2016 11:35:03 +0000"  >&lt;p&gt;Considering fixed, did not fail since moving to individual jobs&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>338229</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 45 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1mc7b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>338550</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2968] DiscoveryServiceImpl can make HTTP calls before Sling is properly started up</title>
                <link>https://issues.apache.org/jira/browse/SLING-2968</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If the DiscoveryServiceImpl starts up before the application is completely initalized, the first requests fail:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;03.07.2013 14:24:43.821 *ERROR* [127.0.0.1 [1372850683817] PUT /libs/sling/topology/connector.40a70c95-c7de-4aea-bfdb-419f6329102b.json HTTP/1.1] org.apache.sling.engine.impl.SlingRequestProcessorImpl ServletResolver service missing, cannot service requests , sending status 503
03.07.2013 14:24:43.908 *ERROR* [127.0.0.1 [1372850683908] PUT /libs/sling/topology/connector.40a70c95-c7de-4aea-bfdb-419f6329102b.json HTTP/1.1] org.apache.sling.engine.impl.SlingRequestProcessorImpl ServletResolver service missing, cannot service requests , sending status 503
03.07.2013 14:24:43.996 *ERROR* [127.0.0.1 [1372850683996] PUT /libs/sling/topology/connector.40a70c95-c7de-4aea-bfdb-419f6329102b.json HTTP/1.1] org.apache.sling.engine.impl.SlingRequestProcessorImpl ServletResolver service missing, cannot service requests , sending status 503
03.07.2013 14:24:44.258 *ERROR* [127.0.0.1 [1372850684258] PUT /libs/sling/topology/connector.40a70c95-c7de-4aea-bfdb-419f6329102b.json HTTP/1.1] org.apache.sling.engine.impl.SlingRequestProcessorImpl ServletResolver service missing, cannot service requests , sending status 503&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The solution would be to call the initialization code from inside a &lt;tt&gt;StartupListener&lt;/tt&gt;, rather than on component activation.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12658011">SLING-2968</key>
            <summary>DiscoveryServiceImpl can make HTTP calls before Sling is properly started up</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stefanegli">Stefan Egli</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 16 Jul 2013 13:45:02 +0000</created>
                <updated>Thu, 12 Nov 2015 11:38:18 +0000</updated>
                            <resolved>Mon, 5 Aug 2013 09:00:18 +0000</resolved>
                                                    <fixVersion>Discovery Impl 1.0.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13715201" author="egli" created="Mon, 22 Jul 2013 13:41:01 +0000"  >&lt;p&gt;The suggested solution is to delay the DiscoveryServiceImpl&apos;s activate() until the StartupListener.startupFinished() has been called. &lt;/p&gt;

&lt;p&gt;This would imply that TOPOLOGY_INIT would also be delayed until the startup has been finished. Which might not be a bad idea anyway..&lt;/p&gt;</comment>
                            <comment id="13715213" author="cziegeler" created="Mon, 22 Jul 2013 13:51:25 +0000"  >&lt;p&gt;It would be nice if we could come up with a better solution &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; startupFinished should mark that the instance is ready and can be used - for this, some topology should already be established as some services might be based on the availability of a topology. So we should try to do this as soon as possible. The topology can change after startupFinished of course&lt;/p&gt;</comment>
                            <comment id="13715219" author="egli" created="Mon, 22 Jul 2013 13:57:42 +0000"  >&lt;p&gt;the main issue is with topology connectors (those that connect two clusters via http): those caused the above reported errors when run too early. &lt;/p&gt;

&lt;p&gt;what we could distinguish easiest is to do local heartbeats (inside the cluster) right from activate() onwards, the remote once only after startup..&lt;/p&gt;</comment>
                            <comment id="13715221" author="cziegeler" created="Mon, 22 Jul 2013 13:59:42 +0000"  >&lt;p&gt;+1, makes sense&lt;/p&gt;</comment>
                            <comment id="13729318" author="egli" created="Mon, 5 Aug 2013 09:00:18 +0000"  >&lt;p&gt;fixed as discussed: remote heartbeats will be issued only after startup was finished&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>338205</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 13 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1mc1z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>338526</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2967] Make topology connectors independent from machine clocks differences</title>
                <link>https://issues.apache.org/jira/browse/SLING-2967</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;In a setup where two machines use discovery.impl to connect the topology between each other - and the two machines&apos;s clock have a considerable difference, say 1min - the discovery.impl rejects the incoming announcement, treating it as &apos;expired&apos;.&lt;/p&gt;

&lt;p&gt;While in theory it is reasonable to assume that server clocks in data centers run fairly in-sync, it is still safer to avoid any dependency on the accuracy of clocks.&lt;/p&gt;

&lt;p&gt;The topology connector should not be dependent on those clocks and not pass times as part of the announcement-json - but rather stamp incoming announcements with local clocks.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12657975">SLING-2967</key>
            <summary>Make topology connectors independent from machine clocks differences</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stefanegli">Stefan Egli</assignee>
                                    <reporter username="stefanegli">Stefan Egli</reporter>
                        <labels>
                    </labels>
                <created>Tue, 16 Jul 2013 12:12:09 +0000</created>
                <updated>Thu, 12 Nov 2015 11:27:23 +0000</updated>
                            <resolved>Mon, 22 Jul 2013 12:27:45 +0000</resolved>
                                    <version>Discovery Impl 1.0.0</version>
                                    <fixVersion>Discovery Impl 1.0.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13715156" author="egli" created="Mon, 22 Jul 2013 12:27:45 +0000"  >&lt;p&gt;fixed by resetting the created time of a topology announcement before persisting it.&lt;/p&gt;

&lt;p&gt;persisting a topology announcement happens on both side of a topology connector. the &apos;created&apos; field contained the origin&apos;s local machine time. this caused issues when the clocks are not in sync. the fix is to redefine &apos;created&apos; as &apos;receive-time&apos;, thus always working with local times only&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12698865">SLING-3434</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>338169</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 15 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1mbtz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>338490</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2966] Insufficient synchronization in SlingAuthenticator</title>
                <link>https://issues.apache.org/jira/browse/SLING-2966</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;In the serviceChanged method of SlingAuthenticator a service is removed and subsequently re-added in case of a modification event. This can lead to synchronization problems (e.g. remove, remove, add, add) if two threads trigger this handler at the same time (e.g. duplication of CUG roots in the holder-cache of the CQ CUG handler after activation of a page with alias).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12657953">SLING-2966</key>
            <summary>Insufficient synchronization in SlingAuthenticator</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="chaotic">Lars Krapf</reporter>
                        <labels>
                            <label>authentication</label>
                            <label>sling</label>
                    </labels>
                <created>Tue, 16 Jul 2013 09:01:04 +0000</created>
                <updated>Mon, 7 Oct 2013 14:04:47 +0000</updated>
                            <resolved>Tue, 16 Jul 2013 09:37:32 +0000</resolved>
                                    <version>Auth Core 1.1.2</version>
                                    <fixVersion>Auth Core 1.1.4</fixVersion>
                                    <component>Authentication</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13709618" author="chaotic" created="Tue, 16 Jul 2013 09:04:07 +0000"  >&lt;p&gt;Attached a possible patch: synchronizing the whole serviceChanged() method. &lt;/p&gt;</comment>
                            <comment id="13709630" author="cziegeler" created="Tue, 16 Jul 2013 09:20:35 +0000"  >&lt;p&gt;The problem is that the changed operation is not performed atomar but in two steps.&lt;/p&gt;</comment>
                            <comment id="13709639" author="cziegeler" created="Tue, 16 Jul 2013 09:37:32 +0000"  >&lt;p&gt;Thanks for your patch Lars - I&apos;ve applied a slightly modified version which removes the additional (unneeded) syncing in revision 1503632&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12624299">SLING-2701</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12592508" name="sling_authenticator.patch" size="1993" author="chaotic" created="Tue, 16 Jul 2013 09:04:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>338147</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 16 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1mbp3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>338468</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2965] Create readable tests/demos of Sling writeable resources</title>
                <link>https://issues.apache.org/jira/browse/SLING-2965</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;We don&apos;t seem to have any docs for our writeable Resources feature, I&apos;ll create some integration tests that demonstrate at least a basic CRUD scenario.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12657740">SLING-2965</key>
            <summary>Create readable tests/demos of Sling writeable resources</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Mon, 15 Jul 2013 15:39:01 +0000</created>
                <updated>Mon, 15 Jul 2013 15:47:56 +0000</updated>
                            <resolved>Mon, 15 Jul 2013 15:47:56 +0000</resolved>
                                                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13708564" author="bdelacretaz" created="Mon, 15 Jul 2013 15:47:56 +0000"  >&lt;p&gt;Refactored the server-side integration tests in &lt;a href=&quot;http://svn.apache.org/r1503306&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1503306&lt;/a&gt; and added a new WriteableResourcesTest in &lt;a href=&quot;http://svn.apache.org/r1503307&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1503307&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I&apos;ll point to the testSimpleCRUD method of WriteableResourcesTest from &lt;a href=&quot;http://sling.apache.org/documentation/the-sling-engine/resources.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sling.apache.org/documentation/the-sling-engine/resources.html&lt;/a&gt; , as a simple example of the Resources CRUD functionality.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://svn.apache.org/repos/asf/sling/trunk/launchpad/test-services/src/main/java/org/apache/sling/launchpad/testservices/serversidetests/WriteableResourcesTest.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/repos/asf/sling/trunk/launchpad/test-services/src/main/java/org/apache/sling/launchpad/testservices/serversidetests/WriteableResourcesTest.java&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>337961</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 16 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1majz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>338283</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2963] IT failure: ScriptableTestsTest.testScriptableTest : Expected 0 failing tests but got 1</title>
                <link>https://issues.apache.org/jira/browse/SLING-2963</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;This test failed in build #1737 &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;java.lang.AssertionError: Expected 0 failing tests but got 1: [verifyContent&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;(org.apache.sling.junit.scriptable.TestAllPaths): Unexpected content at path /apps/testing/ScriptableTests/testnode.test.txt, should be just TEST_PASSED (lines starting with # and empty lines are ignored)&lt;br/&gt;
content was:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;Resource dumped by PlainTextRendererServlet**&lt;br/&gt;
Resource path:/apps/testing/ScriptableTests/testnode&lt;br/&gt;
Resource metadata: 
{sling.resolutionPathInfo=.test.txt, sling.resolutionPath=/apps/testing/ScriptableTests/testnode}
&lt;p&gt;Resource type: testing/ScriptableTests&lt;br/&gt;
Resource super type: -&lt;/p&gt;&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;
	&lt;ul&gt;
		&lt;li&gt;Resource properties **&lt;br/&gt;
sling:resourceType: testing/ScriptableTests&lt;br/&gt;
jcr:createdBy: admin&lt;br/&gt;
jcr:mixinTypes: &lt;span class=&quot;error&quot;&gt;&amp;#91;sling:Test&amp;#93;&lt;/span&gt;&lt;br/&gt;
jcr:created: java.util.GregorianCalendar[time=1373560221155,areFieldsSet=true,areAllFieldsSet=true,lenient=false,zone=sun.util.calendar.ZoneInfo&lt;span class=&quot;error&quot;&gt;&amp;#91;id=&amp;quot;GMT&amp;quot;,offset=0,dstSavings=0,useDaylight=false,transitions=0,lastRule=null&amp;#93;&lt;/span&gt;,firstDayOfWeek=1,minimalDaysInFirstWeek=1,ERA=1,YEAR=2013,MONTH=6,WEEK_OF_YEAR=28,WEEK_OF_MONTH=2,DAY_OF_MONTH=11,DAY_OF_YEAR=192,DAY_OF_WEEK=5,DAY_OF_WEEK_IN_MONTH=2,AM_PM=1,HOUR=4,HOUR_OF_DAY=16,MINUTE=30,SECOND=21,MILLISECOND=155,ZONE_OFFSET=0,DST_OFFSET=0]&lt;br/&gt;
jcr:primaryType: sling:Folder&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;]&lt;br/&gt;
	at org.junit.Assert.fail(Assert.java:91)&lt;br/&gt;
	at org.apache.sling.testing.samples.integrationtests.serverside.scriptable.ScriptableTestsTest.testScriptableTest(ScriptableTestsTest.java:112)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)&lt;br/&gt;
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)&lt;br/&gt;
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)&lt;br/&gt;
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)&lt;br/&gt;
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)&lt;br/&gt;
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:31)&lt;br/&gt;
	at org.junit.runners.BlockJUnit4ClassRunner.runNotIgnored(BlockJUnit4ClassRunner.java:79)&lt;br/&gt;
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:71)&lt;br/&gt;
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:49)&lt;br/&gt;
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)&lt;br/&gt;
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)&lt;br/&gt;
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)&lt;br/&gt;
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)&lt;br/&gt;
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)&lt;br/&gt;
	at org.junit.runners.ParentRunner.run(ParentRunner.java:236)&lt;br/&gt;
	at org.junit.runners.Suite.runChild(Suite.java:128)&lt;br/&gt;
	at org.junit.runners.Suite.runChild(Suite.java:24)&lt;br/&gt;
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)&lt;br/&gt;
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)&lt;br/&gt;
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)&lt;br/&gt;
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)&lt;br/&gt;
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)&lt;br/&gt;
	at org.junit.runners.ParentRunner.run(ParentRunner.java:236)&lt;br/&gt;
	at org.apache.maven.surefire.junit4.JUnit4TestSet.execute(JUnit4TestSet.java:35)&lt;br/&gt;
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:115)&lt;br/&gt;
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:97)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at org.apache.maven.surefire.booter.ProviderFactory$ClassLoaderProxy.invoke(ProviderFactory.java:103)&lt;br/&gt;
	at com.sun.proxy.$Proxy0.invoke(Unknown Source)&lt;br/&gt;
	at org.apache.maven.surefire.booter.SurefireStarter.invokeProvider(SurefireStarter.java:150)&lt;br/&gt;
	at org.apache.maven.surefire.booter.SurefireStarter.runSuitesInProcess(SurefireStarter.java:91)&lt;br/&gt;
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:69)&lt;/p&gt;



&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;: &lt;a href=&quot;https://builds.apache.org/view/S-Z/view/Sling/job/sling-trunk-1.6/org.apache.sling$org.apache.sling.testing.samples.integrationtests/1737/testReport/org.apache.sling.testing.samples.integrationtests.serverside.scriptable/ScriptableTestsTest/testScriptableTest_0_/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/view/S-Z/view/Sling/job/sling-trunk-1.6/org.apache.sling$org.apache.sling.testing.samples.integrationtests/1737/testReport/org.apache.sling.testing.samples.integrationtests.serverside.scriptable/ScriptableTestsTest/testScriptableTest_0_/&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12657701">SLING-2963</key>
            <summary>IT failure: ScriptableTestsTest.testScriptableTest : Expected 0 failing tests but got 1</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                            <label>sling-IT</label>
                    </labels>
                <created>Mon, 15 Jul 2013 10:38:17 +0000</created>
                <updated>Mon, 19 Dec 2016 11:41:24 +0000</updated>
                            <resolved>Mon, 19 Dec 2016 11:41:24 +0000</resolved>
                                                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13708389" author="rombert" created="Mon, 15 Jul 2013 11:12:40 +0000"  >&lt;p&gt;I&apos;ve attached the error.log from a failing test run, but I don&apos;t see anything standing out.&lt;/p&gt;</comment>
                            <comment id="13739697" author="rombert" created="Wed, 14 Aug 2013 14:15:43 +0000"  >&lt;p&gt;This seems to happen every now and then unfortunately. I&apos;ve attached a sling.log file from a failing Jenkins build - see &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12597977/12597977_sling.log&quot; title=&quot;sling.log attached to SLING-2963&quot;&gt;sling.log&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; .&lt;/p&gt;

&lt;p&gt;My intuition is that the first time the test file is uploaded there is an asynchronous action - perhaps setting up the server-side test fixture which is not complete by the time the tests are executed.&lt;/p&gt;

&lt;p&gt;I think there are two approaches to this&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Have the JUnit Remote test runner wait ( with a 1-5s timeout ) until the execution result is as expected - e.g. not dumped by the PlainTextRendererServlet&lt;/li&gt;
	&lt;li&gt;Have the Test case wait until the result is as expected - e.g. not dumped by the PlainTextRendererServlet&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdelacre&quot; class=&quot;user-hover&quot; rel=&quot;bdelacre&quot;&gt;bdelacre&lt;/a&gt; - what are your thoughts on this?&lt;/p&gt;</comment>
                            <comment id="15760942" author="rombert" created="Mon, 19 Dec 2016 11:41:24 +0000"  >&lt;p&gt;Test was removed for &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-5611&quot; title=&quot;Remove the obsolete testing/samples/integration-tests module&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-5611&quot;&gt;&lt;del&gt;SLING-5611&lt;/del&gt;&lt;/a&gt;, resolving &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12592310" name="error.log.gz" size="27059" author="rombert" created="Mon, 15 Jul 2013 11:12:32 +0000"/>
                            <attachment id="12597977" name="sling.log" size="450087" author="rombert" created="Wed, 14 Aug 2013 14:15:36 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>337921</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 45 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1mab3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>338243</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2962] Increase default heartbeat timeout</title>
                <link>https://issues.apache.org/jira/browse/SLING-2962</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The default heartbeat timeout is currently set to 20s - while the interval is 15s. This seems to be too short for load scenarios. Increasing to 30s or 45s seems reasonable.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12657416">SLING-2962</key>
            <summary>Increase default heartbeat timeout</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stefanegli">Stefan Egli</assignee>
                                    <reporter username="stefanegli">Stefan Egli</reporter>
                        <labels>
                    </labels>
                <created>Fri, 12 Jul 2013 07:57:22 +0000</created>
                <updated>Thu, 31 Oct 2013 10:48:49 +0000</updated>
                            <resolved>Mon, 22 Jul 2013 11:55:37 +0000</resolved>
                                    <version>Discovery Impl 1.0.0</version>
                                    <fixVersion>Discovery Impl 1.0.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13706771" author="egli" created="Fri, 12 Jul 2013 07:58:12 +0000"  >&lt;p&gt;PS: You could run into the situation (under load) where a node enters/leaves/enters in a loop - due to the high load not propagating the heartbeats in time in a cluster.&lt;/p&gt;</comment>
                            <comment id="13715133" author="egli" created="Mon, 22 Jul 2013 11:55:37 +0000"  >&lt;p&gt;increased default heartbeat timeout to 45s (3x interval)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>337638</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 15 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1m8kf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>337961</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2961] Freemarker tests fail: java.lang.NoClassDefFoundError: javax/jcr/Binary</title>
                <link>https://issues.apache.org/jira/browse/SLING-2961</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;All freemarker test fail, both on Jenkins and locally. A typical stack trace is&lt;/p&gt;

&lt;p&gt;java.lang.NoClassDefFoundError: javax/jcr/Binary&lt;br/&gt;
	at org.apache.sling.commons.testing.jcr.RepositoryUtil.startRepository(RepositoryUtil.java:107)&lt;br/&gt;
	at org.apache.sling.commons.testing.jcr.RepositoryTestBase.getRepository(RepositoryTestBase.java:87)&lt;br/&gt;
	at org.apache.sling.commons.testing.jcr.RepositoryTestBase.getSession(RepositoryTestBase.java:62)&lt;br/&gt;
	at org.apache.sling.commons.testing.jcr.RepositoryTestBase.getTestRootNode(RepositoryTestBase.java:70)&lt;br/&gt;
	at org.apache.sling.scripting.freemarker.FreemarkerTestBase.setUp(FreemarkerTestBase.java:34)&lt;br/&gt;
	at org.apache.sling.scripting.freemarker.wrapper.NodeListModelTest.setUp(NodeListModelTest.java:35)&lt;br/&gt;
	at junit.framework.TestCase.runBare(TestCase.java:132)&lt;br/&gt;
	at junit.framework.TestResult$1.protect(TestResult.java:110)&lt;br/&gt;
	at junit.framework.TestResult.runProtected(TestResult.java:128)&lt;br/&gt;
	at junit.framework.TestResult.run(TestResult.java:113)&lt;br/&gt;
	at junit.framework.TestCase.run(TestCase.java:124)&lt;br/&gt;
	at junit.framework.TestSuite.runTest(TestSuite.java:243)&lt;br/&gt;
	at junit.framework.TestSuite.run(TestSuite.java:238)&lt;br/&gt;
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:83)&lt;br/&gt;
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)&lt;br/&gt;
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)&lt;br/&gt;
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)&lt;br/&gt;
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)&lt;br/&gt;
	at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)&lt;br/&gt;
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)&lt;br/&gt;
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)&lt;br/&gt;
Caused by: java.lang.ClassNotFoundException: javax.jcr.Binary&lt;br/&gt;
	at java.net.URLClassLoader$1.run(URLClassLoader.java:202)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(Native Method)&lt;br/&gt;
	at java.net.URLClassLoader.findClass(URLClassLoader.java:190)&lt;br/&gt;
	at java.lang.ClassLoader.loadClass(ClassLoader.java:306)&lt;br/&gt;
	at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)&lt;br/&gt;
	at java.lang.ClassLoader.loadClass(ClassLoader.java:247)&lt;br/&gt;
	... 26 more&lt;/p&gt;</description>
                <environment></environment>
        <key id="12657092">SLING-2961</key>
            <summary>Freemarker tests fail: java.lang.NoClassDefFoundError: javax/jcr/Binary</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 10 Jul 2013 15:11:42 +0000</created>
                <updated>Fri, 14 Sep 2018 15:30:12 +0000</updated>
                            <resolved>Wed, 10 Jul 2013 20:18:38 +0000</resolved>
                                                    <fixVersion>Scripting FreeMarker 1.0.0</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13705011" author="rombert" created="Wed, 10 Jul 2013 20:17:57 +0000"  >&lt;p&gt;Fixed pom dependencies in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1501850&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1501850&lt;/a&gt; .&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>337315</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 17 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1m6kn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>337638</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2960] Contrib integration tests fail: Sling services not available. Already checked in earlier tests.</title>
                <link>https://issues.apache.org/jira/browse/SLING-2960</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;See for instance &lt;a href=&quot;https://builds.apache.org/view/S-Z/view/Sling/job/sling-contrib-1.6/1016/testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/view/S-Z/view/Sling/job/sling-contrib-1.6/1016/testReport/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;junit.framework.AssertionFailedError: Sling services not available. Already checked in earlier tests.&lt;br/&gt;
	at junit.framework.Assert.fail(Assert.java:50)&lt;br/&gt;
	at org.apache.sling.commons.testing.integration.HttpTestBase.waitForSlingStartup(HttpTestBase.java:170)&lt;br/&gt;
	at org.apache.sling.commons.testing.integration.HttpTestBase.setUp(HttpTestBase.java:143)&lt;br/&gt;
	at org.apache.sling.launchpad.webapp.integrationtest.PathBasedResourceTypeTest.setUp(PathBasedResourceTypeTest.java:34)&lt;br/&gt;
	at junit.framework.TestCase.runBare(TestCase.java:132)&lt;br/&gt;
	at junit.framework.TestResult$1.protect(TestResult.java:110)&lt;br/&gt;
	at junit.framework.TestResult.runProtected(TestResult.java:128)&lt;br/&gt;
	at junit.framework.TestResult.run(TestResult.java:113)&lt;br/&gt;
	at junit.framework.TestCase.run(TestCase.java:124)&lt;br/&gt;
	at junit.framework.TestSuite.runTest(TestSuite.java:243)&lt;br/&gt;
	at junit.framework.TestSuite.run(TestSuite.java:238)&lt;br/&gt;
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:83)&lt;br/&gt;
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)&lt;br/&gt;
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)&lt;br/&gt;
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)&lt;br/&gt;
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)&lt;br/&gt;
	at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)&lt;br/&gt;
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)&lt;br/&gt;
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12657058">SLING-2960</key>
            <summary>Contrib integration tests fail: Sling services not available. Already checked in earlier tests.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 10 Jul 2013 11:53:45 +0000</created>
                <updated>Thu, 11 Jul 2013 08:51:18 +0000</updated>
                            <resolved>Wed, 10 Jul 2013 20:35:07 +0000</resolved>
                                                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13705013" author="rombert" created="Wed, 10 Jul 2013 20:19:44 +0000"  >&lt;p&gt;Fixed context path setup in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1501849&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1501849&lt;/a&gt; . Some tests still though.&lt;/p&gt;</comment>
                            <comment id="13705033" author="rombert" created="Wed, 10 Jul 2013 20:34:16 +0000"  >&lt;ul&gt;
	&lt;li&gt;Removed webdav URL in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1501973&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1501973&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;Removed obsolete workaround from ScalaScriptingTest in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1501974&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1501974&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;Removed System.out from XsltTest in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1501975&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1501975&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13705612" author="rombert" created="Thu, 11 Jul 2013 08:51:18 +0000"  >&lt;p&gt;Reactivated ScalaScriptingTest workaround in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1502146&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1502146&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>337281</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 17 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1m6d3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>337604</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2959] ErrorHandlingTest intermitent failures in setUp</title>
                <link>https://issues.apache.org/jira/browse/SLING-2959</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I believe that these failures happen because the tearDown method deletes to whole apps node, which triggers some sort of reconfiguration behind the scenes, which are visible mostly on Jenkins due to lower processing power. A typical stack trace is&lt;/p&gt;

&lt;p&gt;java.io.IOException: mkdir(&lt;a href=&quot;http://localhost:45228/apps&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:45228/apps&lt;/a&gt;) failed, status code=503&lt;br/&gt;
	at org.apache.sling.commons.testing.integration.SlingIntegrationTestClient.mkdir(SlingIntegrationTestClient.java:69)&lt;br/&gt;
	at org.apache.sling.commons.testing.integration.SlingIntegrationTestClient.mkdirs(SlingIntegrationTestClient.java:87)&lt;br/&gt;
	at org.apache.sling.launchpad.webapp.integrationtest.servlets.resolver.errorhandler.ErrorHandlingTest.setUp(ErrorHandlingTest.java:58)&lt;br/&gt;
	at junit.framework.TestCase.runBare(TestCase.java:132)&lt;br/&gt;
	at junit.framework.TestResult$1.protect(TestResult.java:110)&lt;br/&gt;
	at junit.framework.TestResult.runProtected(TestResult.java:128)&lt;br/&gt;
	at junit.framework.TestResult.run(TestResult.java:113)&lt;br/&gt;
	at junit.framework.TestCase.run(TestCase.java:124)&lt;br/&gt;
	at junit.framework.TestSuite.runTest(TestSuite.java:232)&lt;br/&gt;
	at junit.framework.TestSuite.run(TestSuite.java:227)&lt;br/&gt;
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:81)&lt;br/&gt;
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:36)&lt;br/&gt;
	at junit.framework.TestSuite.runTest(TestSuite.java:232)&lt;br/&gt;
	at org.apache.sling.launchpad.testing.LoggingSuite.runTest(LoggingSuite.java:56)&lt;br/&gt;
	at junit.framework.TestSuite.run(TestSuite.java:227)&lt;br/&gt;
	at org.apache.sling.launchpad.testing.LoggingSuite.run(LoggingSuite.java:46)&lt;br/&gt;
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:81)&lt;br/&gt;
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)&lt;br/&gt;
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)&lt;br/&gt;
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)&lt;br/&gt;
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)&lt;br/&gt;
	at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)&lt;br/&gt;
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)&lt;br/&gt;
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12657028">SLING-2959</key>
            <summary>ErrorHandlingTest intermitent failures in setUp</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 10 Jul 2013 08:33:39 +0000</created>
                <updated>Wed, 10 Jul 2013 08:42:54 +0000</updated>
                            <resolved>Wed, 10 Jul 2013 08:42:54 +0000</resolved>
                                                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13704317" author="rombert" created="Wed, 10 Jul 2013 08:42:54 +0000"  >&lt;p&gt;More conservative node deletion in tearDown() added in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1501673&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1501673&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>337251</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 17 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1m66n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>337574</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2958] Spurious test failures in GeneratedNodeNameTest</title>
                <link>https://issues.apache.org/jira/browse/SLING-2958</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;junit.framework.AssertionFailedError: Location &lt;a href=&quot;http://localhost:40478/GeneratedNodeNameTest/1373392381765/hello_there_1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:40478/GeneratedNodeNameTest/1373392381765/hello_there_1&lt;/a&gt; ends with hello_there&lt;br/&gt;
	at junit.framework.Assert.fail(Assert.java:47)&lt;br/&gt;
	at junit.framework.Assert.assertTrue(Assert.java:20)&lt;br/&gt;
	at org.apache.sling.launchpad.webapp.integrationtest.GeneratedNodeNameTest.testTitle(GeneratedNodeNameTest.java:38)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:601)&lt;br/&gt;
	at junit.framework.TestCase.runTest(TestCase.java:168)&lt;br/&gt;
	at junit.framework.TestCase.runBare(TestCase.java:134)&lt;br/&gt;
	at junit.framework.TestResult$1.protect(TestResult.java:110)&lt;br/&gt;
	at junit.framework.TestResult.runProtected(TestResult.java:128)&lt;br/&gt;
	at junit.framework.TestResult.run(TestResult.java:113)&lt;br/&gt;
	at junit.framework.TestCase.run(TestCase.java:124)&lt;br/&gt;
	at junit.framework.TestSuite.runTest(TestSuite.java:232)&lt;br/&gt;
	at junit.framework.TestSuite.run(TestSuite.java:227)&lt;br/&gt;
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:81)&lt;br/&gt;
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:36)&lt;br/&gt;
	at junit.framework.TestSuite.runTest(TestSuite.java:232)&lt;br/&gt;
	at org.apache.sling.launchpad.testing.LoggingSuite.runTest(LoggingSuite.java:56)&lt;br/&gt;
	at junit.framework.TestSuite.run(TestSuite.java:227)&lt;br/&gt;
	at org.apache.sling.launchpad.testing.LoggingSuite.run(LoggingSuite.java:46)&lt;br/&gt;
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:81)&lt;br/&gt;
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)&lt;br/&gt;
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)&lt;br/&gt;
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:601)&lt;br/&gt;
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)&lt;br/&gt;
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)&lt;br/&gt;
	at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)&lt;br/&gt;
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)&lt;br/&gt;
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12656936">SLING-2958</key>
            <summary>Spurious test failures in GeneratedNodeNameTest</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 9 Jul 2013 20:25:34 +0000</created>
                <updated>Tue, 9 Jul 2013 20:34:23 +0000</updated>
                            <resolved>Tue, 9 Jul 2013 20:34:23 +0000</resolved>
                                                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                    <workratio workratioPercent="0"/>
                                                                    <timeoriginalestimate seconds="0">0h</timeoriginalestimate>
                            <timeestimate seconds="0">0h</timeestimate>
                                        <comments>
                            <comment id="13703751" author="rombert" created="Tue, 9 Jul 2013 20:34:23 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1501532&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1501532&lt;/a&gt; by cleaning up content between test executions.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>337159</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 17 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1m5m7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>337482</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2957] IT failures in FailingServerTests</title>
                <link>https://issues.apache.org/jira/browse/SLING-2957</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I&apos;ve seen this happen intermitently in testing runs, e.g. &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;org.junit.ComparisonFailure: expected:&amp;lt;test&lt;span class=&quot;error&quot;&gt;&amp;#91;FailsEveryTime(org.apache.sling.testing.samples.failingtests.JUnit4FailingTest): This JUnit4 test fail&amp;#93;&lt;/span&gt;s every time&amp;gt; but was:&amp;lt;test&lt;span class=&quot;error&quot;&gt;&amp;#91;AssertsEveryTime(org.apache.sling.testing.samples.failingtests.JUnit4FailingTest): This JUnit4 test assert&amp;#93;&lt;/span&gt;s every time&amp;gt;&lt;br/&gt;
	at org.junit.Assert.assertEquals(Assert.java:123)&lt;br/&gt;
	at org.junit.Assert.assertEquals(Assert.java:145)&lt;br/&gt;
	at org.apache.sling.testing.samples.integrationtests.serverside.FailingTestsTest.testFailures(FailingTestsTest.java:82)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:601)&lt;br/&gt;
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)&lt;br/&gt;
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)&lt;br/&gt;
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)&lt;br/&gt;
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)&lt;br/&gt;
	at org.junit.runners.BlockJUnit4ClassRunner.runNotIgnored(BlockJUnit4ClassRunner.java:79)&lt;br/&gt;
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:71)&lt;br/&gt;
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:49)&lt;br/&gt;
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)&lt;br/&gt;
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)&lt;br/&gt;
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)&lt;br/&gt;
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)&lt;br/&gt;
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)&lt;br/&gt;
	at org.junit.runners.ParentRunner.run(ParentRunner.java:236)&lt;br/&gt;
	at org.apache.maven.surefire.junit4.JUnit4TestSet.execute(JUnit4TestSet.java:35)&lt;br/&gt;
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:115)&lt;br/&gt;
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:97)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:601)&lt;br/&gt;
	at org.apache.maven.surefire.booter.ProviderFactory$ClassLoaderProxy.invoke(ProviderFactory.java:103)&lt;br/&gt;
	at $Proxy0.invoke(Unknown Source)&lt;br/&gt;
	at org.apache.maven.surefire.booter.SurefireStarter.invokeProvider(SurefireStarter.java:150)&lt;br/&gt;
	at org.apache.maven.surefire.booter.SurefireStarter.runSuitesInProcess(SurefireStarter.java:91)&lt;br/&gt;
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:69)&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;: &lt;a href=&quot;https://builds.apache.org/job/sling-trunk-1.7/99/org.apache.sling$org.apache.sling.testing.samples.integrationtests/testReport/org.apache.sling.testing.samples.integrationtests.serverside/FailingTestsTest/testFailures/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/sling-trunk-1.7/99/org.apache.sling$org.apache.sling.testing.samples.integrationtests/testReport/org.apache.sling.testing.samples.integrationtests.serverside/FailingTestsTest/testFailures/&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12656879">SLING-2957</key>
            <summary>IT failures in FailingServerTests</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 9 Jul 2013 15:20:11 +0000</created>
                <updated>Tue, 9 Jul 2013 16:04:19 +0000</updated>
                            <resolved>Tue, 9 Jul 2013 16:04:19 +0000</resolved>
                                                    <fixVersion>Sample Integration Tests 1.0.8</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13703425" author="rombert" created="Tue, 9 Jul 2013 16:04:19 +0000"  >&lt;p&gt;Made the assertions more precise in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1501356&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1501356&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>337102</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 17 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1m59r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>337425</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2955] Unnecessary errors &quot;TopologyViewImpl addInstance: cannot add same instance twice&quot;</title>
                <link>https://issues.apache.org/jira/browse/SLING-2955</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Apparently, adding/removing/adding/removing of instances to/from the cluster cause the following unnecessary (and scary) error - while everything works fine:&lt;/p&gt;

&lt;p&gt;08.07.2013 17:09:36.513 &lt;b&gt;ERROR&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Apche Sling JCR Resource Event Queue Processor for path &amp;#39;/&amp;#39;&amp;#93;&lt;/span&gt; org.apache.sling.discovery.impl.topology.TopologyViewImpl addInstance: cannot add same instance twice: an InstanceDescription[slindId=23c62a57-2505-410a-9329-7a7f72bdffb4, isLeader=true, isOwn=false, clusterViewId=9249b4de-c6ae-4810-a107-efca0d024a7c, properties=&lt;/p&gt;
{com.adobe.granite.offloading.infrastructure.osgiconsole.path=/system/console, job.consumermanager.whitelist=*, org.apache.sling.instance.endpoints=http://...../,http://...../}
&lt;p&gt;]&lt;/p&gt;</description>
                <environment></environment>
        <key id="12656816">SLING-2955</key>
            <summary>Unnecessary errors &quot;TopologyViewImpl addInstance: cannot add same instance twice&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stefanegli">Stefan Egli</assignee>
                                    <reporter username="stefanegli">Stefan Egli</reporter>
                        <labels>
                    </labels>
                <created>Tue, 9 Jul 2013 08:08:02 +0000</created>
                <updated>Thu, 12 Nov 2015 11:38:17 +0000</updated>
                            <resolved>Mon, 22 Jul 2013 11:56:49 +0000</resolved>
                                    <version>Discovery Impl 1.0.0</version>
                                    <fixVersion>Discovery Impl 1.0.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13715135" author="egli" created="Mon, 22 Jul 2013 11:56:49 +0000"  >&lt;p&gt;log.error lowered to info&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>337039</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 15 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1m4vr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>337362</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2954] Event ITs spuriosly fail on Jenkins</title>
                <link>https://issues.apache.org/jira/browse/SLING-2954</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;For instance, &lt;a href=&quot;https://builds.apache.org/job/sling-trunk-1.6/org.apache.sling$org.apache.sling.event/1723/consoleText&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/sling-trunk-1.6/org.apache.sling$org.apache.sling.event/1723/consoleText&lt;/a&gt; failed. One guess is that it&apos;s caused by the org.apache.felix.http.jetty bundle failing to start due to the port being in use.&lt;/p&gt;

&lt;p&gt;09.07.2013 06:42:23.821 &lt;b&gt;WARN&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Jetty HTTP Service&amp;#93;&lt;/span&gt; org.apache.felix.http.jetty failed SelectChannelConnector@0.0.0.0:8080: java.net.BindException: Address already in use&lt;br/&gt;
09.07.2013 06:42:23.822 &lt;b&gt;WARN&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Jetty HTTP Service&amp;#93;&lt;/span&gt; org.apache.felix.http.jetty failed Server@3ec561: java.net.BindException: Address already in use&lt;br/&gt;
09.07.2013 06:42:23.822 &lt;b&gt;ERROR&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Jetty HTTP Service&amp;#93;&lt;/span&gt; org.apache.felix.http.jetty Exception while initializing Jetty. (java.net.BindException: Address already in use) java.net.BindException: Address already in use&lt;br/&gt;
	at sun.nio.ch.Net.bind(Native Method)&lt;br/&gt;
	at sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:124)&lt;br/&gt;
	at sun.nio.ch.ServerSocketAdaptor.bind(ServerSocketAdaptor.java:59)&lt;br/&gt;
	at org.mortbay.jetty.nio.SelectChannelConnector.open(SelectChannelConnector.java:216)&lt;br/&gt;
	at org.mortbay.jetty.nio.SelectChannelConnector.doStart(SelectChannelConnector.java:315)&lt;br/&gt;
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)&lt;br/&gt;
	at org.mortbay.jetty.Server.doStart(Server.java:235)&lt;br/&gt;
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)&lt;br/&gt;
	at org.apache.felix.http.jetty.internal.JettyService.initializeJetty(JettyService.java:164)&lt;br/&gt;
	at org.apache.felix.http.jetty.internal.JettyService.startJetty(JettyService.java:115)&lt;br/&gt;
	at org.apache.felix.http.jetty.internal.JettyService.run(JettyService.java:290)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:662)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12656814">SLING-2954</key>
            <summary>Event ITs spuriosly fail on Jenkins</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 9 Jul 2013 07:55:30 +0000</created>
                <updated>Mon, 12 Aug 2013 11:22:50 +0000</updated>
                            <resolved>Wed, 10 Jul 2013 15:14:07 +0000</resolved>
                                    <version>Event 3.1.4</version>
                                    <fixVersion>Event 3.2.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13703044" author="cziegeler" created="Tue, 9 Jul 2013 08:20:14 +0000"  >&lt;p&gt;I&apos;ve committed a change to the ITs which gets a free port and configures jetty to use this one instead of the default one - even if that&apos;s not our problem, doing this is better anyway&lt;/p&gt;</comment>
                            <comment id="13703059" author="rombert" created="Tue, 9 Jul 2013 08:39:05 +0000"  >&lt;p&gt;I just did the same ... configured a random port for the OSGi HTTP service in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1501133&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1501133&lt;/a&gt; . Anyway, this should fix it.&lt;/p&gt;</comment>
                            <comment id="13703523" author="rombert" created="Tue, 9 Jul 2013 17:23:05 +0000"  >&lt;p&gt;I&apos;ve updated the pax-exam and pax-url versions in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1501393&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1501393&lt;/a&gt; . &lt;em&gt;Maybe&lt;/em&gt; that does something.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegler&quot; class=&quot;user-hover&quot; rel=&quot;cziegler&quot;&gt;cziegler&lt;/a&gt; - we now have two ways of setting a random network port : maven-based and java-based. We should only have one - do you have a preference on which to keep?&lt;/p&gt;</comment>
                            <comment id="13703854" author="cziegeler" created="Tue, 9 Jul 2013 21:54:50 +0000"  >&lt;p&gt;I&apos;m fine with just keeping the maven based one&lt;/p&gt;</comment>
                            <comment id="13704235" author="cziegeler" created="Wed, 10 Jul 2013 05:44:34 +0000"  >&lt;p&gt;I&apos;ve removed the code from the it test again&lt;/p&gt;</comment>
                            <comment id="13704642" author="rombert" created="Wed, 10 Jul 2013 15:14:07 +0000"  >&lt;p&gt;The build now seems to be free from spurious failures after excluding ubuntu5 from the slave list ( see issue INFRA-6218 ). I will resolve this issue and track any further problems on the INFRA tracker.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>337037</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 17 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1m4vb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>337360</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2953] Healthcheck pax-exam setup does not check for maven.repo.local</title>
                <link>https://issues.apache.org/jira/browse/SLING-2953</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;To reproduce, run a build locally with -Dmaven.repo.local=/some/other/place. This is similar to &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2847&quot; title=&quot;Installer integration tests fail due to unresolvable artifacts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2847&quot;&gt;&lt;del&gt;SLING-2847&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2848&quot; title=&quot;Event integration tests fail due to unresolvable artifacts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2848&quot;&gt;&lt;del&gt;SLING-2848&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12656801">SLING-2953</key>
            <summary>Healthcheck pax-exam setup does not check for maven.repo.local</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 9 Jul 2013 07:09:43 +0000</created>
                <updated>Tue, 9 Jul 2013 07:23:39 +0000</updated>
                            <resolved>Tue, 9 Jul 2013 07:23:39 +0000</resolved>
                                                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13703012" author="rombert" created="Tue, 9 Jul 2013 07:23:39 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1501114&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1501114&lt;/a&gt; . Also filed upstream issue &lt;a href=&quot;https://ops4j1.jira.com/browse/PAXEXAM-543&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ops4j1.jira.com/browse/PAXEXAM-543&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>337024</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 17 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1m4sf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>337347</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2950] Disabling the distribution flag takes only effect after bundle restart</title>
                <link>https://issues.apache.org/jira/browse/SLING-2950</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If the disable distribution flag is changed, it only has an effect after a restart of the bundle&lt;/p&gt;</description>
                <environment></environment>
        <key id="12656790">SLING-2950</key>
            <summary>Disabling the distribution flag takes only effect after bundle restart</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Tue, 9 Jul 2013 05:52:48 +0000</created>
                <updated>Mon, 12 Aug 2013 11:22:51 +0000</updated>
                            <resolved>Wed, 7 Aug 2013 11:02:43 +0000</resolved>
                                                    <fixVersion>Event 3.2.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13731876" author="cziegeler" created="Wed, 7 Aug 2013 11:02:43 +0000"  >&lt;p&gt;This has been changed in rev 1501098&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>337013</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 13 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1m4pz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>337336</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2949] Remove plugin version hardcoding from the reactor pom</title>
                <link>https://issues.apache.org/jira/browse/SLING-2949</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;We declare version 2.2, but 2.4.1 is inherited from the Apache parent pom. At a minimum, we will benefit from the performance enhancements brought by &lt;a href=&quot;http://jira.codehaus.org/browse/MCLEAN-32&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jira.codehaus.org/browse/MCLEAN-32&lt;/a&gt; .&lt;/p&gt;</description>
                <environment></environment>
        <key id="12656626">SLING-2949</key>
            <summary>Remove plugin version hardcoding from the reactor pom</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 8 Jul 2013 15:58:29 +0000</created>
                <updated>Mon, 8 Jul 2013 16:01:33 +0000</updated>
                            <resolved>Mon, 8 Jul 2013 16:01:33 +0000</resolved>
                                                                    <component>General</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13702083" author="rombert" created="Mon, 8 Jul 2013 16:01:33 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1500809&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1500809&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>336849</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 17 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1m3pj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>337172</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2948] Servlet archetype - set encoding for generated project</title>
                <link>https://issues.apache.org/jira/browse/SLING-2948</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Currently the generated servlet archetype does not set the encoding for the generated project. This does not follow Maven best practices, and generates warning when building.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12656622">SLING-2948</key>
            <summary>Servlet archetype - set encoding for generated project</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 8 Jul 2013 15:25:20 +0000</created>
                <updated>Thu, 5 Jun 2014 07:59:40 +0000</updated>
                            <resolved>Mon, 8 Jul 2013 15:47:06 +0000</resolved>
                                    <version>Servlet Archetype 1.0.0</version>
                                    <fixVersion>Servlet Archetype 1.0.2</fixVersion>
                                    <component>Maven Plugins and Archetypes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13702075" author="rombert" created="Mon, 8 Jul 2013 15:46:33 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=r1500794&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=r1500794&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>336845</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 17 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1m3on:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>337168</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2946] IOOBE in TopicRoundRobinJobQueue</title>
                <link>https://issues.apache.org/jira/browse/SLING-2946</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The TopicRoundRobinJobQueue throws IndexOutOfBoundsException which fill the logs.&lt;br/&gt;
The reason is that the &apos;topicIndex&apos; is never decreased (or set to 0) when the &apos;topics&apos; array list can be decreased in two methods:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;clear&lt;/li&gt;
	&lt;li&gt;removeAllJobs&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12656573">SLING-2946</key>
            <summary>IOOBE in TopicRoundRobinJobQueue</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="marett">Timothee Maret</reporter>
                        <labels>
                    </labels>
                <created>Mon, 8 Jul 2013 08:52:04 +0000</created>
                <updated>Tue, 22 Dec 2015 13:50:06 +0000</updated>
                            <resolved>Mon, 8 Jul 2013 11:14:06 +0000</resolved>
                                    <version>Event 3.1.4</version>
                                    <fixVersion>Event 3.2.0</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13701894" author="marett" created="Mon, 8 Jul 2013 09:26:34 +0000"  >&lt;p&gt;Opened Pull request: &lt;a href=&quot;https://github.com/apache/sling/pull/7&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/7&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13701939" author="cziegeler" created="Mon, 8 Jul 2013 11:14:06 +0000"  >&lt;p&gt;Thanks for your patch, it&apos;s applied&lt;/p&gt;</comment>
                            <comment id="15068137" author="githubbot" created="Tue, 22 Dec 2015 13:50:06 +0000"  >&lt;p&gt;Github user tmaret closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/7&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/7&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12591192" name="SLING-2946.patch" size="1410" author="marett" created="Mon, 8 Jul 2013 09:21:31 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>336796</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 45 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1m3dr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>337119</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2945] ClusterLoadTest failures</title>
                <link>https://issues.apache.org/jira/browse/SLING-2945</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;This test has failed recently on Jenkins at &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;, with the message: &lt;/p&gt;

&lt;p&gt;-------------------------------------------------------&lt;br/&gt;
 T E S T S&lt;br/&gt;
-------------------------------------------------------&lt;br/&gt;
Running org.apache.sling.discovery.impl.cluster.ClusterLoadTest&lt;br/&gt;
Build timed out (after 150 minutes). Marking the build as failed.&lt;/p&gt;

&lt;p&gt;Results :&lt;/p&gt;

&lt;p&gt;Tests run: 0, Failures: 0, Errors: 0, Skipped: 0&lt;/p&gt;

&lt;p&gt;To debug infra issues, I&apos;ve also set up a Travis CI build at &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; . This test also fails there, but the error message is clearer: Caused by: javax.jcr.PathNotFoundException: /var/discovery/impl . The full build log is at &lt;span class=&quot;error&quot;&gt;&amp;#91;3&amp;#93;&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;I also have errors when repeatedly running the test locally, so it&apos;s not just CI flakiness.&lt;/p&gt;


&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; : &lt;a href=&quot;https://builds.apache.org/view/S-Z/view/Sling/job/sling-trunk-1.6/1715/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/view/S-Z/view/Sling/job/sling-trunk-1.6/1715/console&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt;: &lt;a href=&quot;http://travis-ci.org/rombert/sling/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://travis-ci.org/rombert/sling/&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;3&amp;#93;&lt;/span&gt;: &lt;a href=&quot;https://s3.amazonaws.com/archive.travis-ci.org/jobs/8746894/log.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://s3.amazonaws.com/archive.travis-ci.org/jobs/8746894/log.txt&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12656337">SLING-2945</key>
            <summary>ClusterLoadTest failures</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stefanegli">Stefan Egli</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 5 Jul 2013 08:17:22 +0000</created>
                <updated>Thu, 26 Sep 2019 12:38:23 +0000</updated>
                            <resolved>Thu, 29 Jan 2015 14:22:01 +0000</resolved>
                                                    <fixVersion>Discovery Impl 1.1.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13700515" author="rombert" created="Fri, 5 Jul 2013 08:18:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stefanegli&quot; class=&quot;user-hover&quot; rel=&quot;stefanegli&quot;&gt;stefanegli&lt;/a&gt; - any ideas about that would be causing the failures?&lt;/p&gt;</comment>
                            <comment id="13700612" author="egli" created="Fri, 5 Jul 2013 11:31:35 +0000"  >&lt;p&gt;First suspicion was that the tests interfere with each other: a shutdown of the former to be still running while a new test starts - and the shutdown would clear the repository while it was being used/created by the new testrun. To avoid this, I changed the tests so that each testrun uses a separate path in the repository.&lt;/p&gt;

&lt;p&gt;There still seems to be a problem though - that could be related to a deadlock. Following up on that one ..&lt;/p&gt;</comment>
                            <comment id="13700616" author="egli" created="Fri, 5 Jul 2013 11:38:56 +0000"  >&lt;p&gt;Indeed a deadlock - might be only test-related though..:&lt;/p&gt;

&lt;p&gt;Found one Java-level deadlock:&lt;br/&gt;
=============================&lt;br/&gt;
&quot;Test-Heartbeat-Runner&quot;:&lt;br/&gt;
  waiting to lock monitor 7fb9d4882a18 (object 7f6a80980, a org.apache.sling.discovery.impl.common.heartbeat.HeartbeatHandler),&lt;br/&gt;
  which is held by &quot;main&quot;&lt;br/&gt;
&quot;main&quot;:&lt;br/&gt;
  waiting to lock monitor 7fb9d4881710 (object 7f6bcaff8, a java.lang.Object),&lt;br/&gt;
  which is held by &quot;Test-Heartbeat-Runner&quot;&lt;br/&gt;
Java stack information for the threads listed above:&lt;br/&gt;
===================================================&lt;br/&gt;
&quot;Test-Heartbeat-Runner&quot;:&lt;br/&gt;
	at org.apache.sling.discovery.impl.common.heartbeat.HeartbeatHandler.doCheckView(HeartbeatHandler.java:454)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;waiting to lock &amp;lt;7f6a80980&amp;gt; (a org.apache.sling.discovery.impl.common.heartbeat.HeartbeatHandler)&lt;br/&gt;
	at org.apache.sling.discovery.impl.common.heartbeat.HeartbeatHandler.checkView(HeartbeatHandler.java:381)&lt;br/&gt;
	at org.apache.sling.discovery.impl.common.heartbeat.HeartbeatHandler.run(HeartbeatHandler.java:190)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;7f6bcaff8&amp;gt; (a java.lang.Object)&lt;br/&gt;
	at org.apache.sling.discovery.impl.setup.Instance.runHeartbeatOnce(Instance.java:310)&lt;br/&gt;
	at org.apache.sling.discovery.impl.setup.Instance$HeartbeatRunner.run(Instance.java:138)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:680)&lt;br/&gt;
&quot;main&quot;:&lt;br/&gt;
	at org.apache.sling.discovery.impl.common.heartbeat.HeartbeatHandler.activate(HeartbeatHandler.java:126)&lt;/li&gt;
	&lt;li&gt;waiting to lock &amp;lt;7f6bcaff8&amp;gt; (a java.lang.Object)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;7f6a80980&amp;gt; (a org.apache.sling.discovery.impl.common.heartbeat.HeartbeatHandler)&lt;br/&gt;
	at sun.reflect.GeneratedMethodAccessor7.invoke(Unknown Source)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at org.apache.sling.discovery.impl.setup.OSGiMock.activate(OSGiMock.java:71)&lt;br/&gt;
	at org.apache.sling.discovery.impl.setup.Instance.startHeartbeats(Instance.java:322)&lt;br/&gt;
	at org.apache.sling.discovery.impl.cluster.ClusterLoadTest.doTest(ClusterLoadTest.java:155)&lt;br/&gt;
	at org.apache.sling.discovery.impl.cluster.ClusterLoadTest.testFiveInstances(ClusterLoadTest.java:82)&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13700646" author="egli" created="Fri, 5 Jul 2013 13:05:32 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt;, Can you please test again with the latest state in trunk? I found some bugs and fixed. Also running tests locally now looked stable after a couple of loops.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Stefan&lt;/p&gt;</comment>
                            <comment id="13700661" author="rombert" created="Fri, 5 Jul 2013 13:30:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stefanegli&quot; class=&quot;user-hover&quot; rel=&quot;stefanegli&quot;&gt;stefanegli&lt;/a&gt; I see that the ClusterLoadTest still fails on Jenkins - &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; and on Travis - &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; . The sling-trunk-1.6 jobs passes now though. I&apos;m going to make a 10-execution run myself and see if they pass or fail.&lt;/p&gt;

&lt;p&gt;for run in $(seq 1 10); do echo &quot;Run #$run&quot; &amp;amp;&amp;amp;  mvn clean verify -q -pl :org.apache.sling.discovery.impl -Dtest=org.apache.sling.discovery.impl.cluster.ClusterLoadTest; done&lt;/p&gt;


&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;: &lt;a href=&quot;https://builds.apache.org/job/sling-trunk-1.7/org.apache.sling$org.apache.sling.discovery.impl/85/testReport/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/sling-trunk-1.7/org.apache.sling$org.apache.sling.discovery.impl/85/testReport/&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt;: &lt;a href=&quot;https://s3.amazonaws.com/archive.travis-ci.org/jobs/8765149/log.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://s3.amazonaws.com/archive.travis-ci.org/jobs/8765149/log.txt&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13700667" author="egli" created="Fri, 5 Jul 2013 13:45:33 +0000"  >&lt;p&gt;indeed - I&apos;ll have another look at the tests! :S&lt;/p&gt;</comment>
                            <comment id="13700676" author="egli" created="Fri, 5 Jul 2013 13:58:16 +0000"  >&lt;p&gt;It might be a case of higher load on the test machines compared to local machines - trying with increasing some test delays..&lt;/p&gt;</comment>
                            <comment id="13700680" author="egli" created="Fri, 5 Jul 2013 14:09:34 +0000"  >&lt;p&gt;added some delays - waiting for next test run to see effect&lt;/p&gt;</comment>
                            <comment id="13700928" author="rombert" created="Fri, 5 Jul 2013 15:10:11 +0000"  >&lt;p&gt;At least Travis tests are now passing &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;,&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt;,&lt;span class=&quot;error&quot;&gt;&amp;#91;3&amp;#93;&lt;/span&gt;, so it&apos;s definitely a sleep/delay problem. The Jenkins builds are still running.&lt;/p&gt;

&lt;p&gt;Perhaps you can use something like org.apache.sling.testing.tools.retry.RetryLoop with a large delay, to make the wait more flexible, and also faster in case the Condition is met earlier?&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;: &lt;a href=&quot;https://api.travis-ci.org/jobs/8767899/log.txt?deansi=true&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://api.travis-ci.org/jobs/8767899/log.txt?deansi=true&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt;: &lt;a href=&quot;https://s3.amazonaws.com/archive.travis-ci.org/jobs/8767898/log.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://s3.amazonaws.com/archive.travis-ci.org/jobs/8767898/log.txt&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;3&amp;#93;&lt;/span&gt;: &lt;a href=&quot;https://api.travis-ci.org/jobs/8767900/log.txt?deansi=true&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://api.travis-ci.org/jobs/8767900/log.txt?deansi=true&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13700943" author="egli" created="Fri, 5 Jul 2013 15:41:38 +0000"  >&lt;p&gt;Jenkins test re discovery.impl ran through successfully now (#88, &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;).&lt;/p&gt;

&lt;p&gt;Keeping this ticket open to continue monitoring jenkins results in the next days and to follow-up on &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt;&apos;s idea of using RetryLoop.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;: &lt;a href=&quot;https://builds.apache.org/job/sling-trunk-1.7/88/org.apache.sling$org.apache.sling.discovery.impl/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/sling-trunk-1.7/88/org.apache.sling$org.apache.sling.discovery.impl/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13701883" author="rombert" created="Mon, 8 Jul 2013 08:56:40 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stefanegli&quot; class=&quot;user-hover&quot; rel=&quot;stefanegli&quot;&gt;stefanegli&lt;/a&gt; - I&apos;ve taken a look at the tests and tried to implement them using the RetryLoop, for maximum flexibility. I&apos;m not sure if the semantics are preserved ( the RetryLoop waits for each instance on each iteration, instead of waiting for all instances once at the start of the iteration ).&lt;/p&gt;

&lt;p&gt;The tests consistently pass for me, tested with a heavy CPU/IO process running on the same time, whereas they were failing before.&lt;/p&gt;

&lt;p&gt;I also needed to add a try/catch to the dumpRepo calls, they failed probably due to concurrent session access ( will paste stack trace below ). Anyway, I&apos;d appreciate if you could take a look at the patch and let me know if I can apply it as-is or if it needs rework.&lt;/p&gt;

&lt;p&gt;javax.jcr.InvalidItemStateException: Item does not exist anymore: 4b3d508e-5e4c-4385-a6d4-68f07d8dce89&lt;br/&gt;
	at org.apache.jackrabbit.core.ItemImpl.itemSanityCheck(ItemImpl.java:116)&lt;br/&gt;
	at org.apache.jackrabbit.core.ItemImpl.perform(ItemImpl.java:90)&lt;br/&gt;
	at org.apache.jackrabbit.core.NodeImpl.getNodes(NodeImpl.java:2141)&lt;br/&gt;
	at org.apache.sling.discovery.impl.setup.Instance.dump(Instance.java:393)&lt;br/&gt;
	at org.apache.sling.discovery.impl.setup.Instance.dump(Instance.java:396)&lt;br/&gt;
	at org.apache.sling.discovery.impl.setup.Instance.dump(Instance.java:396)&lt;br/&gt;
	at org.apache.sling.discovery.impl.setup.Instance.dump(Instance.java:396)&lt;br/&gt;
	at org.apache.sling.discovery.impl.setup.Instance.dump(Instance.java:396)&lt;br/&gt;
	at org.apache.sling.discovery.impl.setup.Instance.dump(Instance.java:396)&lt;br/&gt;
	at org.apache.sling.discovery.impl.setup.Instance.dump(Instance.java:396)&lt;br/&gt;
	at org.apache.sling.discovery.impl.setup.Instance.dump(Instance.java:396)&lt;br/&gt;
	at org.apache.sling.discovery.impl.setup.Instance.dump(Instance.java:396)&lt;br/&gt;
	at org.apache.sling.discovery.impl.setup.Instance.dump(Instance.java:396)&lt;br/&gt;
	at org.apache.sling.discovery.impl.setup.Instance.dumpRepo(Instance.java:355)&lt;br/&gt;
	at org.apache.sling.discovery.impl.cluster.ClusterLoadTest.doTest(ClusterLoadTest.java:145)&lt;br/&gt;
	at org.apache.sling.discovery.impl.cluster.ClusterLoadTest.testSevenInstances(ClusterLoadTest.java:102)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:592)&lt;br/&gt;
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:45)&lt;br/&gt;
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)&lt;br/&gt;
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:42)&lt;br/&gt;
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)&lt;br/&gt;
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:30)&lt;br/&gt;
	at org.junit.rules.Verifier$1.evaluate(Verifier.java:33)&lt;br/&gt;
	at org.junit.rules.RunRules.evaluate(RunRules.java:18)&lt;br/&gt;
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)&lt;br/&gt;
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:68)&lt;br/&gt;
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:47)&lt;br/&gt;
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)&lt;br/&gt;
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)&lt;br/&gt;
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)&lt;br/&gt;
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)&lt;br/&gt;
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)&lt;br/&gt;
	at org.junit.runners.ParentRunner.run(ParentRunner.java:300)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)&lt;/p&gt;
</comment>
                            <comment id="13701899" author="egli" created="Mon, 8 Jul 2013 09:45:55 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt;, excellent. That patch looks good. I might add some more asserts to the Condition there to check not only the count but if the correct instances are visible. But I can apply that after patch.&lt;/p&gt;

&lt;p&gt;Re the exception: jup, I should probably have done some more safety-checks there - but the catch is fine for now.&lt;/p&gt;</comment>
                            <comment id="13701951" author="rombert" created="Mon, 8 Jul 2013 11:33:34 +0000"  >&lt;p&gt;Thanks for the review, I&apos;ve committed the changes in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=r1500670&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=r1500670&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14296907" author="egli" created="Thu, 29 Jan 2015 14:22:01 +0000"  >&lt;p&gt;Marking this resolved for now. There have been various timing issues in tests lately and some have already been followed up. ClusterLoadTest itself looked good recently.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12591190" name="SLING-2945-retry-loop.patch" size="4294" author="rombert" created="Mon, 8 Jul 2013 08:56:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>336560</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 39 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1m1xj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>336884</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2943] Classloader might not be invalidated in a cluster</title>
                <link>https://issues.apache.org/jira/browse/SLING-2943</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The jcr classloader is invalided based on the fact if a previous class file can be deleted (through the class loader writer).&lt;br/&gt;
In a clustered installation, usually only the first instance receiving the changed event for a jsp is able to remove the class file; the other instances can&apos;t delete it, as it is already gone&lt;/p&gt;</description>
                <environment></environment>
        <key id="12656060">SLING-2943</key>
            <summary>Classloader might not be invalidated in a cluster</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Wed, 3 Jul 2013 16:14:46 +0000</created>
                <updated>Thu, 18 Jul 2013 07:54:55 +0000</updated>
                            <resolved>Wed, 3 Jul 2013 16:18:37 +0000</resolved>
                                    <version>JCR Classloader 3.1.12</version>
                                    <fixVersion>JCR ClassLoader 3.2.0</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13699135" author="cziegeler" created="Wed, 3 Jul 2013 16:18:37 +0000"  >&lt;p&gt;Fixed in revision 1499459&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>336335</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 18 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1m0jj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>336659</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2942] &amp; symbol in OSGI config is resulting in an error at build time</title>
                <link>https://issues.apache.org/jira/browse/SLING-2942</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When an ampersand(&amp;amp;) is used in OSGI config string it is resulting in error on the maven at build time.&lt;br/&gt;
When the ampersand is removed from the OSGI config is making the build to pass.&lt;/p&gt;

&lt;p&gt;com.a.b.c.TestClass.xml&lt;br/&gt;
&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;&lt;br/&gt;
&amp;lt;jcr:root xmlns:sling=&quot;http://sling.apache.org/jcr/sling/1.0&quot; xmlns:jcr=&quot;http://www.jcp.org/jcr/1.0&quot;&lt;br/&gt;
    jcr:primaryType=&quot;sling:OsgiConfig&quot;&lt;br/&gt;
  login.url=&quot;https://aa.bb.com/external/auth/login.action?request_locale=en_US&amp;amp;url=&lt;a href=&quot;http://aaa.bbb.ccom&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://aaa.bbb.ccom&lt;/a&gt;&quot;/&amp;gt;&lt;/p&gt;

&lt;p&gt;maven-error:&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Failed to execute goal org.codehaus.mojo:xml-maven-plugin:1.0:validate (default) on project app: While parsing C:\sources\trunk\app\jcr_root\apps\aaa\config.author\com.a.b.c.TestClass.xml, at &lt;a href=&quot;file:/C/sources/trunk/app/aaa/jcr_root/apps/aaa/config.author/com.a.b.c.TestClass.xml&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:/C/sources/trunk/app/aaa/jcr_root/apps/aaa/config.author/com.a.b.c.TestClass.xml&lt;/a&gt;, line 6,  column 113: The entity name must immediately follow the &apos;&amp;amp;&apos; in the entity reference. -&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Help 1&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt;&lt;/p&gt;
</description>
                <environment>Using the latest Apache Sling that is bundled in CQ 5.6.1.20130606&lt;br/&gt;
</environment>
        <key id="12655781">SLING-2942</key>
            <summary>&amp; symbol in OSGI config is resulting in an error at build time</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bkondepudi">Bala Kondepudi</reporter>
                        <labels>
                            <label>osgi-config</label>
                            <label>sling</label>
                    </labels>
                <created>Tue, 2 Jul 2013 14:31:35 +0000</created>
                <updated>Tue, 2 Jul 2013 14:38:56 +0000</updated>
                            <resolved>Tue, 2 Jul 2013 14:38:56 +0000</resolved>
                                                                    <component>Maven Plugins and Archetypes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13697837" author="bdelacretaz" created="Tue, 2 Jul 2013 14:38:56 +0000"  >&lt;p&gt;Your XML is not well-formed, ampersand should be escaped:&lt;/p&gt;

&lt;p&gt;login.url=&quot;https://aa.bb.com/external/auth/login.action?request_locale=en_US&amp;amp;url=&lt;a href=&quot;http://aaa.bbb.ccom&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://aaa.bbb.ccom&lt;/a&gt;&quot;&lt;/p&gt;

&lt;p&gt;Resolving invalid - not a Sling problem.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>336056</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 18 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1lytr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>336380</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2938] AdapterMethods annotation and adapter proxy service</title>
                <link>https://issues.apache.org/jira/browse/SLING-2938</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Following up on an idea that Olaf Otto presented at CQCon last week, I&apos;ve been working on an @AdapterMethod annotation that makes it easier to create Sling adapters, as in&lt;/p&gt;

&lt;p&gt;  @Component&lt;br/&gt;
  @Service&lt;br/&gt;
  public class MyAdapters implements AdapterMethodProvider {&lt;br/&gt;
    @AdapterMethod&lt;br/&gt;
    public Bar toBar(Foo f) &lt;/p&gt;
{ ... adapt Foo to Bar ... }
&lt;p&gt;  }&lt;/p&gt;

&lt;p&gt;As this requires changes to the sling.api bundle, I&apos;ll commit to my whiteboard first, for review&lt;/p&gt;</description>
                <environment></environment>
        <key id="12655555">SLING-2938</key>
            <summary>AdapterMethods annotation and adapter proxy service</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Mon, 1 Jul 2013 08:43:01 +0000</created>
                <updated>Mon, 16 Nov 2020 13:18:13 +0000</updated>
                            <resolved>Mon, 16 Nov 2020 13:18:05 +0000</resolved>
                                    <version>Adapter 2.1.0</version>
                                    <fixVersion>Adapter Annotations 2.0.0</fixVersion>
                                    <component>Engine</component>
                    <component>Extensions</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>8</watches>
                                                                                                                <comments>
                            <comment id="13696664" author="bdelacretaz" created="Mon, 1 Jul 2013 09:07:16 +0000"  >&lt;p&gt;I have committed a prototype to my whiteboard, to test it build&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://svn.apache.org/repos/asf/sling/whiteboard/bdelacretaz/adapter-methods/sling-api&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/repos/asf/sling/whiteboard/bdelacretaz/adapter-methods/sling-api&lt;/a&gt;&lt;br/&gt;
and&lt;br/&gt;
&lt;a href=&quot;https://svn.apache.org/repos/asf/sling/whiteboard/bdelacretaz/adapter-methods/extensions-adapter&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/repos/asf/sling/whiteboard/bdelacretaz/adapter-methods/extensions-adapter&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;(both modules overwrite the current Sling trunk snapshots, make sure to rebuild the trunk ones after testing)&lt;/p&gt;

&lt;p&gt;The AdapterMethodManagerIT &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; contains two examples of services that provide AdapterMethods.&lt;/p&gt;

&lt;p&gt;TODO:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Do not activate http service in pax exam tests&lt;/li&gt;
	&lt;li&gt;Make sure the AdapterMethods are listed in the corresponding webconsole plugin&lt;/li&gt;
	&lt;li&gt;When testing, pax exam should take the current bundle from the filesystem, not Maven repo (it might not be updated there yet)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://svn.apache.org/repos/asf/sling/whiteboard/bdelacretaz/adapter-methods/extensions-adapter/src/test/java/org/apache/sling/adapter/internal/AdapterMethodManagerIT.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/repos/asf/sling/whiteboard/bdelacretaz/adapter-methods/extensions-adapter/src/test/java/org/apache/sling/adapter/internal/AdapterMethodManagerIT.java&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13696692" author="bdelacretaz" created="Mon, 1 Jul 2013 10:10:50 +0000"  >&lt;p&gt;Additional TODOs after dev@ feedback:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Rename @AdapterMethod to @Adapter, the annotation is for a method so the suffix is redundant&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;Put @Adapter  in a separate &quot;annotations&quot; package&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;Have AdapterMethodProxyManagerImpl validate the methods as discussed at &lt;a href=&quot;http://markmail.org/message/2tz3wwx4fotzmpel&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://markmail.org/message/2tz3wwx4fotzmpel&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13697808" author="bdelacretaz" created="Tue, 2 Jul 2013 14:06:24 +0000"  >&lt;p&gt;Here&apos;s my proposed &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2938&quot; title=&quot;AdapterMethods annotation and adapter proxy service&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2938&quot;&gt;&lt;del&gt;SLING-2938&lt;/del&gt;&lt;/a&gt;-api.patch to integrate this in trunk.&lt;/p&gt;

&lt;p&gt;The adapter bundle changes can be found under &lt;a href=&quot;https://svn.apache.org/repos/asf/sling/whiteboard/bdelacretaz/adapter-methods/extensions-adapter&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/repos/asf/sling/whiteboard/bdelacretaz/adapter-methods/extensions-adapter&lt;/a&gt;, it&apos;s 3 new classes (AdapterMethodsManagerImplTest, AdapterMethodManagerIT, AdapterMethodsManagerImpl) and changes to the pom to enable pax exam tests.&lt;/p&gt;


</comment>
                            <comment id="13697813" author="bdelacretaz" created="Tue, 2 Jul 2013 14:09:11 +0000"  >&lt;p&gt;Here&apos;s a screenshot of how an @Adapter method looks in the console plugin (at the bottom)&lt;/p&gt;</comment>
                            <comment id="13698933" author="bdelacretaz" created="Wed, 3 Jul 2013 13:12:59 +0000"  >&lt;p&gt;TODOs after integration in trunk:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Add an integration test&lt;/li&gt;
	&lt;li&gt;Add an optional condition like @Adapter(condition=&quot;if the resource type is slingbucks/list&quot;) that completes the webconsole description&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13698943" author="cziegeler" created="Wed, 3 Jul 2013 13:18:15 +0000"  >&lt;p&gt;Who is processing this annotation and when (build time, run time..) ?&lt;/p&gt;</comment>
                            <comment id="13698948" author="bdelacretaz" created="Wed, 3 Jul 2013 13:24:11 +0000"  >&lt;p&gt;The @Adapter annotation is processed at runtime, all the &quot;magic&quot; is in&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/repos/asf/sling/whiteboard/bdelacretaz/adapter-methods/extensions-adapter/src/main/java/org/apache/sling/adapter/internal/AdapterMethodsManagerImpl.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/repos/asf/sling/whiteboard/bdelacretaz/adapter-methods/extensions-adapter/src/main/java/org/apache/sling/adapter/internal/AdapterMethodsManagerImpl.java&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13878657" author="kwin" created="Wed, 22 Jan 2014 13:50:20 +0000"  >&lt;p&gt;Why isn&apos;t this a pure build time annotation (similar to @SlingServlet)?&lt;/p&gt;</comment>
                            <comment id="13878876" author="justinedelson" created="Wed, 22 Jan 2014 17:34:56 +0000"  >&lt;p&gt;Doing the same thing at build time would require additional code generation.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@Component 
  @Service 
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;MyAdapters &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; AdapterMethodProvider { 
    @AdapterMethod 
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Bar toBar(Foo f) { ... adapt Foo to Bar ... } 
  } 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;needs to become (in bytecode terms):&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;MyAdapters &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; AdapterFactory { 

    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &amp;lt;T&amp;gt; T getAdapter(&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; adaptable, &lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;&amp;lt;T&amp;gt; type) {
         &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; toBar(adaptable);
    }

    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Bar toBar(Foo f) { ... adapt Foo to Bar ... } 
} 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13878882" author="kwin" created="Wed, 22 Jan 2014 17:37:44 +0000"  >&lt;p&gt;I see, thanks for the explanation. When is that gonna be integrated?&lt;/p&gt;</comment>
                            <comment id="14033606" author="bdelacretaz" created="Tue, 17 Jun 2014 09:31:37 +0000"  >&lt;p&gt;I&apos;ll restart the discussion about this on the dev list, see also &lt;a href=&quot;http://markmail.org/message/ku6svfns46jvw5ik&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://markmail.org/message/ku6svfns46jvw5ik&lt;/a&gt; where we didn&apos;t really agree on whether the magic should happen at build time or runtime.&lt;/p&gt;</comment>
                            <comment id="17189289" author="henry kuijpers" created="Wed, 2 Sep 2020 14:54:47 +0000"  >&lt;p&gt;Any idea on when this will be merged in, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdelacretaz&quot; class=&quot;user-hover&quot; rel=&quot;bdelacretaz&quot;&gt;bdelacretaz&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;? I think with the newer OSGi annotations, this will become more important:&lt;/p&gt;

&lt;p&gt;Currently we&apos;ll have to register our adapters this way:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
@Component(
        service = AdapterFactory.class,
        immediate = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;,
        property = {
                &lt;span class=&quot;code-quote&quot;&gt;&quot;adaptables=org.apache.sling.api.resource.Resource&quot;&lt;/span&gt;,
                &lt;span class=&quot;code-quote&quot;&gt;&quot;adapters=my.custom.adapter.code.MyAdapterType&quot;&lt;/span&gt;
        }
)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Which is very errorprone, in case we rename or move `MyAdapterType` to a different package for example.&lt;/p&gt;</comment>
                            <comment id="17193585" author="cziegeler" created="Thu, 10 Sep 2020 12:25:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Henry+Kuijpers&quot; class=&quot;user-hover&quot; rel=&quot;Henry Kuijpers&quot;&gt;Henry Kuijpers&lt;/a&gt; I think this got never finished - the biggest concern is probably still the runtime scanning of the annotations which should be avoided - it is possible to implement this without runtime scanning, but it requires some effort. So this would require someone taking it up again and finishing the implementation&lt;/p&gt;</comment>
                            <comment id="17195070" author="kwin" created="Sun, 13 Sep 2020 16:35:02 +0000"  >&lt;p&gt;This should IMHO be just a custom component property type as defined in OSGi DS 1.4 (&lt;a href=&quot;https://docs.osgi.org/specification/osgi.cmpn/7.0.0/service.component.html#service.component-component.property.types&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://docs.osgi.org/specification/osgi.cmpn/7.0.0/service.component.html#service.component-component.property.types&lt;/a&gt;). This is slightly more verbose than the original proposal (as it requires implementing all adaptations with the same adaptTo method) but means zero overhead at run time. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Henry+Kuijpers&quot; class=&quot;user-hover&quot; rel=&quot;Henry Kuijpers&quot;&gt;Henry Kuijpers&lt;/a&gt; WDYT?&lt;/p&gt;

&lt;p&gt;A similar approach was used in &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-servlets-annotations&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-servlets-annotations&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17195239" author="henry kuijpers" created="Mon, 14 Sep 2020 07:03:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt;, I definitely agree! Indeed, generics can&apos;t easily be used, but this is how I see defining the adaptions. We shouldn&apos;t be defining &quot;internal&quot; property names all over the place, we should indeed be using a dedicated annotation for this. &lt;/p&gt;

&lt;p&gt;I&apos;d be willing to make this work with the ComponentPropertyType and make a PR for it. Unless someone else has this ready to go in a matter of minutes. &lt;/p&gt;</comment>
                            <comment id="17196211" author="henry kuijpers" created="Tue, 15 Sep 2020 14:58:20 +0000"  >&lt;p&gt;Ehrr. You know what&apos;s funny? This is already in place?!&#160;&lt;a href=&quot;https://github.com/apache/sling-adapter-annotations/blob/master/src/main/java/org/apache/sling/adapter/annotations/Adaptables.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-adapter-annotations/blob/master/src/main/java/org/apache/sling/adapter/annotations/Adaptables.java&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17196213" author="kwin" created="Tue, 15 Sep 2020 15:06:38 +0000"  >&lt;p&gt;This is a misunderstanding: &lt;a href=&quot;https://github.com/apache/sling-adapter-annotations&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-adapter-annotations&lt;/a&gt; is used by &lt;a href=&quot;https://sling.apache.org/components/sling-maven-plugin/generate-adapter-metadata-mojo.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/components/sling-maven-plugin/generate-adapter-metadata-mojo.html&lt;/a&gt; to build JSON metadata (only evaluated in the Felix WebConsole). It won&apos;t generate the actual SCR definitions. Compare also with &lt;a href=&quot;https://sling.apache.org/documentation/the-sling-engine/adapters.html#implementing-adaptable&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/documentation/the-sling-engine/adapters.html#implementing-adaptable&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;In the long run I would also like to replace generating that JSON in the dedicated goal of the &lt;tt&gt;maven-sling-plugin&lt;/tt&gt; by a custom bnd plugin (similar to &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-caconfig-bnd-plugin&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-caconfig-bnd-plugin&lt;/a&gt;) .&lt;/p&gt;</comment>
                            <comment id="17196221" author="henry kuijpers" created="Tue, 15 Sep 2020 15:12:04 +0000"  >&lt;p&gt;I see, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt;. Would it be possible to create a dedicated &quot;annotations&quot;-project for this one?&#160;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-adapter&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-adapter&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I&apos;d like to submit a PR then, to get this merged in and released.&lt;/p&gt;</comment>
                            <comment id="17196222" author="kwin" created="Tue, 15 Sep 2020 15:15:49 +0000"  >&lt;p&gt;Please create a repo in your personal github space. Once that is done we can easily push that repo to a new repo location beneath Apache Sling. Alternatively feel free to fork &lt;a href=&quot;https://github.com/apache/sling-whiteboard&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-whiteboard&lt;/a&gt; and create a new project in it.&lt;/p&gt;</comment>
                            <comment id="17199095" author="henry kuijpers" created="Sun, 20 Sep 2020 22:05:22 +0000"  >&lt;p&gt;Added the annotations here:&#160;&lt;a href=&quot;https://github.com/henrykuijpers/sling-org-apache-sling-adapter-annotations&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/henrykuijpers/sling-org-apache-sling-adapter-annotations&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Added IT here:&#160;&lt;a href=&quot;https://github.com/henrykuijpers/sling-org-apache-sling-adapter-annotations-it/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/henrykuijpers/sling-org-apache-sling-adapter-annotations-it/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;TODO: Add Javadoc above the annotations. But I don&apos;t want to start with this before the annotations are approved.&#160;&lt;/p&gt;

&lt;p&gt;I created 3 dedicated annotations:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;&lt;b&gt;@SlingAdapter&lt;/b&gt; - Can be used to specify the &quot;adaptables&quot;- &amp;amp; &quot;adapters&quot;-property. I couldn&apos;t figure out how to make specifying a value required. Defining the 2 fields is required, but they can still be defined as empty arrays (as can be seen in the ITs as well, the consequence is that those adapter factories don&apos;t get picked up, so this could very well be fine already);&lt;/li&gt;
	&lt;li&gt;&lt;b&gt;@AdapterCondition&lt;/b&gt; - Can be used to specify the &quot;adapter.condition&quot;-property. It is an annotation with only a value-field, so that the property name will be derived from the class name and therefore becomes &quot;adapter.condition&quot;. If not done this way, I had to create an optional parameter to the @SlingAdapter annotation, with name &quot;adapter_condition&quot;, which wasn&apos;t very sexy;&lt;/li&gt;
	&lt;li&gt;&lt;b&gt;@AdapterDeprecated&lt;/b&gt; - Can be used to specify the &quot;adapter.deprecated&quot;-property. It is a marker annotation so that the property name will become &quot;adapter.deprecated&quot; and the value will always be (boolean) true. If not done this way, I had to create an optional parameter to the @SlingAdapter annotation, with name &quot;adapter_deprecated&quot;, which wasn&apos;t very sexy + a developer could also specify false, which doesn&apos;t make sense.&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt;&#160;can you please have a look and let me know what you think? Also, if this would be good to go I&apos;ll do another commit with updated Javadoc and we&apos;ll have to see how we can push this into Sling?&lt;/p&gt;</comment>
                            <comment id="17199448" author="kwin" created="Mon, 21 Sep 2020 15:28:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Henry+Kuijpers&quot; class=&quot;user-hover&quot; rel=&quot;Henry Kuijpers&quot;&gt;Henry Kuijpers&lt;/a&gt; Project looks good to me. I would still add the condition as optional element to &lt;tt&gt;@SlingAdapter&lt;/tt&gt; (despite the weird name). That way a developer has to remember less annotations.&lt;/p&gt;</comment>
                            <comment id="17199671" author="henry kuijpers" created="Mon, 21 Sep 2020 21:23:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt;, I don&apos;t 100% agree with that reasoning; I think in 80% of the cases, the &quot;adapter.condition&quot;-property is not specified so I don&apos;t have a problem with it being in a dedicated annotation (just like &quot;adapter.deprecated&quot;, which is even lesser used). But I think this all comes down to a matter of taste. I&apos;m also not against it being in the same annotation.&lt;/p&gt;

&lt;p&gt;However, there&apos;s one important issue that prevents us from adding the &quot;adapter.condition&quot;-member in the @SlingAdapter annotation: There is afaik no way to define a default value for the annotation-method that results in the property being omitted, instead of being added with the value being an empty string. Example:&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
@SlingAdapter { ... &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; adapter_condition() &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; &quot;&quot;; }&#160;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;Both&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
@SlingAdapter(adaptables = A.class, adapters = B.class)&#160;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;and&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
@SlingAdapter(adaptables = A.class, adapters = B.class, adapter_condition = &quot;&quot;)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;result in the same adapter.condition property with an empty string as value being added.&lt;/p&gt;

&lt;p&gt;It will also be listed in the adapter status page as &quot;Condition: &quot;, instead of having the condition omitted.&lt;/p&gt;

&lt;p&gt;I also don&apos;t want to use &quot;String[] adapter_condition() default {}&quot;, as it does not make sense to be able to specify multiple conditions, which could still be acceptable, but it will also specify the property as being a string array, instead of a string, which is also not so sexy.&lt;/p&gt;

&lt;p&gt;Do you know of a way to work around this issue? If there is no obvious way to do this, I&apos;d suggest to move further with the 3 annotations.&lt;/p&gt;

&lt;p&gt;TBH, I think component property types has some serious limitations (but those are probably very much backed by the limitations of Java annotations and also the Java language spec itself). I do however think it&apos;s a very neat way of achieving some sort of &quot;API&quot; around often-used configuration metadata.&lt;/p&gt;</comment>
                            <comment id="17199879" author="kwin" created="Tue, 22 Sep 2020 07:01:32 +0000"  >&lt;p&gt;According to OSGi spec &lt;a href=&quot;https://docs.osgi.org/specification/osgi.cmpn/7.0.0/service.component.html#service.component-component.property.value.coercion&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://docs.osgi.org/specification/osgi.cmpn/7.0.0/service.component.html#service.component-component.property.value.coercion&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;If there is no corresponding component property for a component property type method, the component property type method must:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;...&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Return null for String, Class, and enum.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Please try out if a default value of &lt;tt&gt;null&lt;/tt&gt; fixes the issue with the empty condition.&lt;/p&gt;</comment>
                            <comment id="17199888" author="henry kuijpers" created="Tue, 22 Sep 2020 07:19:17 +0000"  >&lt;p&gt;Unfortunately that&apos;s exactly the problem: It&apos;s not possible to specfiy a default of null for a constant member of type String. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17201145" author="henry kuijpers" created="Wed, 23 Sep 2020 22:36:59 +0000"  >&lt;p&gt;Are we all OK&#160;with the annotations as defined, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;? If so, I&apos;d like to continue with providing javadoc etc. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;/p&gt;</comment>
                            <comment id="17201319" author="cziegeler" created="Thu, 24 Sep 2020 07:09:14 +0000"  >&lt;p&gt;Lgtm, thanks!&lt;/p&gt;</comment>
                            <comment id="17203514" author="henry kuijpers" created="Mon, 28 Sep 2020 20:41:54 +0000"  >&lt;p&gt;I just updated the branches with additional Javadoc. Can you please have a look?&lt;/p&gt;

&lt;p&gt;Also, I couldn&apos;t figure out if there is an action to be done for me, for making the repos available for Sling. Maybe it&apos;s already enough that they&apos;re there, so that someone else can do the required actions to pull them into Sling and also release them?&lt;/p&gt;

&lt;p&gt;There&apos;s also a dependency (at least for running the integration tests) on this PR: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-testing-clients/pull/18&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-testing-clients/pull/18&lt;/a&gt;&#160;for which I just created the unit test that &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt;&#160;requested.&lt;/p&gt;</comment>
                            <comment id="17203726" author="kwin" created="Tue, 29 Sep 2020 06:56:29 +0000"  >&lt;p&gt;Thanks for your efforts &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Henry+Kuijpers&quot; class=&quot;user-hover&quot; rel=&quot;Henry Kuijpers&quot;&gt;Henry Kuijpers&lt;/a&gt;. I started the git repo creation process in &lt;a href=&quot;https://lists.apache.org/thread.html/r080147dcdb23548ee19685441762b6786a98c1ad01b1ca65d8d16acf%40%3Cdev.sling.apache.org%3E&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://lists.apache.org/thread.html/r080147dcdb23548ee19685441762b6786a98c1ad01b1ca65d8d16acf%40%3Cdev.sling.apache.org%3E&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Maybe you can also provide a PR for the documentation at &lt;a href=&quot;https://sling.apache.org/documentation/the-sling-engine/adapters.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/documentation/the-sling-engine/adapters.html&lt;/a&gt; which is maintained at &lt;a href=&quot;https://github.com/apache/sling-site/blob/master/src/main/jbake/content/documentation/the-sling-engine/adapters.md&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-site/blob/master/src/main/jbake/content/documentation/the-sling-engine/adapters.md&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="17203791" author="henry kuijpers" created="Tue, 29 Sep 2020 08:46:08 +0000"  >&lt;p&gt;I&apos;ll update that documentation as well, in the coming days. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&#160; It was my intention to do that, after everything was merged.&lt;/p&gt;</comment>
                            <comment id="17206153" author="henry kuijpers" created="Fri, 2 Oct 2020 13:07:48 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; No objections! \o/&lt;/p&gt;</comment>
                            <comment id="17208854" author="henry kuijpers" created="Tue, 6 Oct 2020 15:45:15 +0000"  >&lt;p&gt;Is there anything I can do to make this progress a bit faster, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt;? &lt;/p&gt;</comment>
                            <comment id="17208870" author="kwin" created="Tue, 6 Oct 2020 16:03:27 +0000"  >&lt;p&gt;Repositories created now at &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-adapter-annotations-it&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-adapter-annotations-it&lt;/a&gt; and &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-adapter-annotations&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-adapter-annotations&lt;/a&gt;. Can you create PRs towards those?&lt;/p&gt;</comment>
                            <comment id="17208978" author="henry kuijpers" created="Tue, 6 Oct 2020 17:26:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt;,&#160;no, I&apos;m afraid not. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Github doesn&apos;t allow me to create a PR to an empty repo and also doesn&apos;t allow me to create a fork of an empty repo. &lt;/p&gt;

&lt;p&gt;Apparently it&apos;s needed to commit some initial file, in order to fork and create PRs. Does that sound familiar? If so, can you please create an initial file in both repositories, so I can then provide 2 PRs?&lt;/p&gt;</comment>
                            <comment id="17208987" author="kwin" created="Tue, 6 Oct 2020 17:36:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Henry+Kuijpers&quot; class=&quot;user-hover&quot; rel=&quot;Henry Kuijpers&quot;&gt;Henry Kuijpers&lt;/a&gt; I just pushed your master branches to the two new Apache Sling repositories. Please cross-check.&lt;/p&gt;</comment>
                            <comment id="17209007" author="henry kuijpers" created="Tue, 6 Oct 2020 17:55:33 +0000"  >&lt;p&gt;Yes, this looks OK to me! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Next steps: &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Setting up CI/CD (I believe a build is running?)&lt;/li&gt;
	&lt;li&gt;Creating the 1.0.0 release of the adapter annotations so it could be used in projects&lt;/li&gt;
	&lt;li&gt;Providing site documentation update PR&lt;/li&gt;
	&lt;li&gt;Fixing the badge in the readme.md&lt;/li&gt;
	&lt;li&gt;Set up SonarCloud for the new projects&lt;/li&gt;
	&lt;li&gt;...?&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I&apos;ll be working on the documentation PR in the coming days, would it be possible to work towards releasing the 1.0.0 in the meantime? &lt;/p&gt;</comment>
                            <comment id="17209008" author="kwin" created="Tue, 6 Oct 2020 17:57:21 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bellingard&quot; class=&quot;user-hover&quot; rel=&quot;bellingard&quot;&gt;bellingard&lt;/a&gt; Can you onboard  &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-adapter-annotations-it&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-adapter-annotations-it&lt;/a&gt; and &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-adapter-annotations&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-adapter-annotations&lt;/a&gt; to SonarQube?&lt;/p&gt;</comment>
                            <comment id="17209468" author="kwin" created="Wed, 7 Oct 2020 11:03:10 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Henry+Kuijpers&quot; class=&quot;user-hover&quot; rel=&quot;Henry Kuijpers&quot;&gt;Henry Kuijpers&lt;/a&gt; The IT is failing on Jenkins: &lt;a href=&quot;https://ci-builds.apache.org/blue/organizations/jenkins/Sling%2Fmodules%2Fsling-org-apache-sling-adapter-annotations-it/detail/master/1/pipeline&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-builds.apache.org/blue/organizations/jenkins/Sling%2Fmodules%2Fsling-org-apache-sling-adapter-annotations-it/detail/master/1/pipeline&lt;/a&gt;. Can you have a look?&lt;/p&gt;</comment>
                            <comment id="17213682" author="bellingard" created="Wed, 14 Oct 2020 07:20:34 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; Projects set up on SonarCloud at &lt;a href=&quot;https://sonarcloud.io/project/configuration?id=apache_sling-org-apache-sling-adapter-annotations&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sonarcloud.io/project/configuration?id=apache_sling-org-apache-sling-adapter-annotations&lt;/a&gt; and &lt;a href=&quot;https://sonarcloud.io/project/configuration?id=apache_sling-org-apache-sling-adapter-annotations-it&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sonarcloud.io/project/configuration?id=apache_sling-org-apache-sling-adapter-annotations-it&lt;/a&gt;. Enjoy!&lt;/p&gt;</comment>
                            <comment id="17224886" author="henry kuijpers" created="Mon, 2 Nov 2020 18:57:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; with &lt;a href=&quot;https://ci-builds.apache.org/job/Sling/job/modules/job/sling-org-apache-sling-adapter-annotations-it/job/PR-1/3/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-builds.apache.org/job/Sling/job/modules/job/sling-org-apache-sling-adapter-annotations-it/job/PR-1/3/console&lt;/a&gt; the build was failing again due to the problem being described here: &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-8080&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SLING-8080&lt;/a&gt; This happens every now and then with my local build as well. I don&apos;t know how to fix this.&lt;/p&gt;

&lt;p&gt;However, with &lt;a href=&quot;https://ci-builds.apache.org/job/Sling/job/modules/job/sling-org-apache-sling-adapter-annotations-it/job/PR-1/4/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-builds.apache.org/job/Sling/job/modules/job/sling-org-apache-sling-adapter-annotations-it/job/PR-1/4/console&lt;/a&gt; the tests are passing. It however triggered an error from SonarCloud due to a deprecated Java version (it says it should be updated to Java 11). Not sure how to fix that, any ideas?&lt;/p&gt;

&lt;p&gt;PR here: &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-adapter-annotations-it/pull/1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-adapter-annotations-it/pull/1&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17225952" author="henry kuijpers" created="Wed, 4 Nov 2020 09:41:51 +0000"  >&lt;p&gt;Also, would it be possible to already create a release in advance? The annotations are working and it would be very beneficial to use them already in projects. I don&apos;t think I am able to create a release. Would it be possible to do that for you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; or &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; or &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdelacretaz&quot; class=&quot;user-hover&quot; rel=&quot;bdelacretaz&quot;&gt;bdelacretaz&lt;/a&gt;? &lt;/p&gt;</comment>
                            <comment id="17226824" author="bdelacretaz" created="Thu, 5 Nov 2020 16:50:49 +0000"  >&lt;blockquote&gt;&lt;p&gt;It however triggered an error from SonarCloud due to a deprecated Java version (it says it should be updated to Java 11)...&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I have created &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-9880&quot; title=&quot;Run SonarQube analysis with JDK 11&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-9880&quot;&gt;&lt;del&gt;SLING-9880&lt;/del&gt;&lt;/a&gt; for that, &lt;del&gt;I think I have a fix&lt;/del&gt;.&lt;/p&gt;

&lt;p&gt;Also applied Henry&apos;s PR to &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-adapter-annotations-it/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-adapter-annotations-it/&lt;/a&gt; , the tests pass now except for the &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-9880&quot; title=&quot;Run SonarQube analysis with JDK 11&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-9880&quot;&gt;&lt;del&gt;SLING-9880&lt;/del&gt;&lt;/a&gt; failure.&lt;/p&gt;</comment>
                            <comment id="17227401" author="bdelacretaz" created="Fri, 6 Nov 2020 13:24:40 +0000"  >&lt;p&gt;I have tried moving the integration tests in the main module, running them with maven-invoker-plugin and I think that looks good, what do people think?&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-adapter-annotations/pull/1/files&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-adapter-annotations/pull/1/files&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Having the tests in the same repository provides quicker feedback when making changes, and with the invoker plugin they remain decoupled from the main code.&lt;/p&gt;

&lt;p&gt;If we agree we can merge that PR and deprecate the annotations-it module.&lt;/p&gt;</comment>
                            <comment id="17227407" author="bdelacretaz" created="Fri, 6 Nov 2020 13:44:18 +0000"  >&lt;blockquote&gt;&lt;p&gt;would it be possible to already create a release in advance? &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I&apos;d like to merge the above PR1 if people agree, and we might then release the adapter-annotations module and drop the adapter-annotations-it module.&lt;/p&gt;

&lt;p&gt;I don&apos;t think &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-9839&quot; title=&quot;Jenkins: Sonarcloud analysis with Java 11&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-9839&quot;&gt;&lt;del&gt;SLING-9839&lt;/del&gt;&lt;/a&gt; will be a problem in this case, at least not right now, as the adapter-annotations build passes, with just a warning from Sonar about jdk8.&lt;/p&gt;</comment>
                            <comment id="17227485" author="bdelacretaz" created="Fri, 6 Nov 2020 16:35:21 +0000"  >&lt;p&gt;I have committed a (hopeful) workaround for &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-8080&quot; title=&quot;Almost all ITs fail after the Starter 11 release&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-8080&quot;&gt;&lt;del&gt;SLING-8080&lt;/del&gt;&lt;/a&gt; to the PR, by explicitly adding the artifact versions in it-model.txt&lt;/p&gt;</comment>
                            <comment id="17227635" author="henry kuijpers" created="Fri, 6 Nov 2020 22:02:21 +0000"  >&lt;p&gt;I like what you have done with regards to combining the IT with the actual production code, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdelacretaz&quot; class=&quot;user-hover&quot; rel=&quot;bdelacretaz&quot;&gt;bdelacretaz&lt;/a&gt;! I completely agree that the 2 should be tied together, as of course they strictly depend on each other. Currently on my mobile phone, so I&apos;ll try to have a look tomorrow on my laptop as well. As long as the tests run properly, then here&apos;s already my +1. &lt;/p&gt;

&lt;p&gt;The reason I put them in a separate repository, is because that was more in line with the sling servlet annotations tests. So we might consider doing the same thing over there as well then. &lt;/p&gt;

&lt;p&gt;I&apos;m also very glad that the Sling starter hanging issue seems to be solved! &lt;/p&gt;

&lt;p&gt;I&apos;m however afraid that the build that you&apos;re referencing (adapter-annotations) is the wrong one: This is a module that is used to generate the SLING-INF/adapters.json file inside the bundle. &lt;/p&gt;</comment>
                            <comment id="17227985" author="henry kuijpers" created="Sun, 8 Nov 2020 13:03:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdelacretaz&quot; class=&quot;user-hover&quot; rel=&quot;bdelacretaz&quot;&gt;bdelacretaz&lt;/a&gt;, I had a quick look over the changes you did and they look very good to me. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; I&apos;m also happy with the fact that the IT and the annotations are now in the same project, this makes much more sense.&lt;/p&gt;

&lt;p&gt;With regards to the build that you were referencing, indeed, somehow this project was &quot;right in time&quot; added to Sonar, it seems? &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;As I said in the PR: +1 from me to merge in the changes and put out a release very soon. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
(Unfortunately I do not have write access to the repository, so I can&apos;t do the merge.) &lt;/p&gt;</comment>
                            <comment id="17228474" author="bdelacretaz" created="Mon, 9 Nov 2020 09:56:06 +0000"  >&lt;p&gt;I have merged the PR, deprecated the &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-adapter-annotations-it/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-adapter-annotations-it/&lt;/a&gt; module and set &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-adapter-annotations&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-adapter-annotations&lt;/a&gt; to build hourly to check if the ITs are stable (not sure of my &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-8080&quot; title=&quot;Almost all ITs fail after the Starter 11 release&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-8080&quot;&gt;&lt;del&gt;SLING-8080&lt;/del&gt;&lt;/a&gt; workaround). &lt;/p&gt;

&lt;p&gt;I&apos;ll observe the tests for a bit a plan to make a release tomorrow.&lt;/p&gt;</comment>
                            <comment id="17228491" author="henry kuijpers" created="Mon, 9 Nov 2020 10:18:04 +0000"  >&lt;p&gt;Awesome! I will make time this week to work on a documentation PR as well. But this should not hold back the release of these annotations, IMHO.&lt;/p&gt;</comment>
                            <comment id="17229140" author="bdelacretaz" created="Tue, 10 Nov 2020 11:25:41 +0000"  >&lt;p&gt;The integration tests still fails infrequently, even though I tweaked them to use a more recent provisioning model, I have created &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-9892&quot; title=&quot;adapter-annotations integration tests sometimes fail&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-9892&quot;&gt;&lt;del&gt;SLING-9892&lt;/del&gt;&lt;/a&gt; for that. &lt;/p&gt;

&lt;p&gt;Also created &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-9890&quot; title=&quot;Document the new adapter-annotations module&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-9890&quot;&gt;SLING-9890&lt;/a&gt; for the documentation, with this I think we can go ahead with a release, I don&apos;t think &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-9892&quot; title=&quot;adapter-annotations integration tests sometimes fail&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-9892&quot;&gt;&lt;del&gt;SLING-9892&lt;/del&gt;&lt;/a&gt; is a blocker for that (though it might get in the way of the release process due to failing tests).&lt;/p&gt;</comment>
                            <comment id="17229147" author="henry kuijpers" created="Tue, 10 Nov 2020 11:31:06 +0000"  >&lt;p&gt;I agree! I don&apos;t think the sporadically failing IT should be in the way, since it&apos;s obvious that it does not have to do with the testing code, nor with an error in the annotations. &lt;/p&gt;

&lt;p&gt;I will make time (probably tomorrow) to update the documentation and also provide a PR for that. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;/p&gt;</comment>
                            <comment id="17229157" author="bdelacretaz" created="Tue, 10 Nov 2020 11:47:57 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt; wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;(the existing) &lt;a href=&quot;https://github.com/apache/sling-adapter-annotations&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-adapter-annotations&lt;/a&gt; is used by &lt;a href=&quot;https://sling.apache.org/components/sling-maven-plugin/generate-adapter-metadata-mojo.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/components/sling-maven-plugin/generate-adapter-metadata-mojo.html&lt;/a&gt; to build JSON metadata (only evaluated in the Felix WebConsole). It won&apos;t generate the actual SCR definitions. Compare also with &lt;a href=&quot;https://sling.apache.org/documentation/the-sling-engine/adapters.html#implementing-adaptable&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/documentation/the-sling-engine/adapters.html#implementing-adaptable&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Turns out that &lt;a href=&quot;https://github.com/apache/sling-adapter-annotations&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;that old module&lt;/a&gt; was already released as &quot;Adapter Annotations 1.0.0&quot; so we need at least to bump the version to 2.0.0 for the &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-adapter-annotations&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;new module&lt;/a&gt;, or change its name to avoid confusion. I&apos;ll &lt;a href=&quot;https://lists.apache.org/thread.html/rc9ddd78b8cebf501e24c064afaa4c3cd152589f22480837aeb1c741a%40%3Cdev.sling.apache.org%3E&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;discuss on our dev list&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;I had already created the staging repo at &lt;a href=&quot;https://repository.apache.org/content/repositories/orgapachesling-2371&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/repositories/orgapachesling-2371&lt;/a&gt; when I noticed that potential confusion, will delete it once we agree on how to release the new module.&lt;/p&gt;</comment>
                            <comment id="17229413" author="bdelacretaz" created="Tue, 10 Nov 2020 18:12:23 +0000"  >&lt;p&gt;I have now started the release vote for Sling Adapter Annotations 2.0.0 and renamed the older module with a &quot;(JSON)&quot; suffix for clarity, in the pom and README at &lt;a href=&quot;https://github.com/apache/sling-adapter-annotations&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-adapter-annotations&lt;/a&gt; and at &lt;a href=&quot;https://sling.apache.org/downloads.cgi&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sling.apache.org/downloads.cgi&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17232750" author="bdelacretaz" created="Mon, 16 Nov 2020 13:18:05 +0000"  >&lt;p&gt;I have now released Sling Adapter Annotations 2.0.0, thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Henry+Kuijpers&quot; class=&quot;user-hover&quot; rel=&quot;Henry Kuijpers&quot;&gt;Henry Kuijpers&lt;/a&gt; for this contribution!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13339056">SLING-9880</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13339717">SLING-9890</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13339721">SLING-9892</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12590435" name="SLING-2938-api.patch" size="6079" author="bdelacretaz" created="Tue, 2 Jul 2013 14:06:24 +0000"/>
                            <attachment id="12590436" name="console.jpg" size="90032" author="bdelacretaz" created="Tue, 2 Jul 2013 14:09:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>335830</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 49 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1lxfj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>336154</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2937] Sling JSONObject getlong incorrect parsing</title>
                <link>https://issues.apache.org/jira/browse/SLING-2937</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;org.apache.sling.commons.json.JSONObject&lt;/p&gt;

&lt;p&gt;try {&lt;br/&gt;
        String jsonStr1 = &quot;&lt;/p&gt;
{\&quot;longvalue\&quot;:\&quot;13857270119014401\&quot;}
&lt;p&gt;&quot;;&lt;br/&gt;
        JSONObject json1 = new JSONObject(jsonStr1);&lt;br/&gt;
        System.out.println(json1.getLong(&quot;longvalue&quot;));&lt;br/&gt;
    } catch (JSONException e) &lt;/p&gt;
{
        e.printStackTrace();
    }


&lt;p&gt;returns &lt;/p&gt;

&lt;p&gt;13857270119014400&lt;/p&gt;


&lt;p&gt;Expected value:13857270119014401&lt;/p&gt;</description>
                <environment></environment>
        <key id="12655202">SLING-2937</key>
            <summary>Sling JSONObject getlong incorrect parsing</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="justinedelson">Justin Edelson</assignee>
                                    <reporter username="nirmal_mani">Nirmal</reporter>
                        <labels>
                    </labels>
                <created>Thu, 27 Jun 2013 19:02:39 +0000</created>
                <updated>Thu, 28 Aug 2014 19:57:08 +0000</updated>
                            <resolved>Thu, 27 Jun 2013 19:29:54 +0000</resolved>
                                    <version>Commons JSON 2.0.6</version>
                                    <fixVersion>Commons JSON 2.0.8</fixVersion>
                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13694976" author="justinedelson" created="Thu, 27 Jun 2013 19:28:19 +0000"  >&lt;p&gt;Don&apos;t you mean&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; jsonStr1 = &lt;span class=&quot;code-quote&quot;&gt;&quot;{\&quot;&lt;/span&gt;longvalue\&lt;span class=&quot;code-quote&quot;&gt;&quot;:13857270119014401}&quot;&lt;/span&gt;; 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;?&lt;/p&gt;</comment>
                            <comment id="13694981" author="justinedelson" created="Thu, 27 Jun 2013 19:29:54 +0000"  >&lt;p&gt;fixed in 1497518&lt;/p&gt;

&lt;p&gt;But I would really suggest using properly formed JSON.&lt;/p&gt;</comment>
                            <comment id="13695039" author="nirmal_mani" created="Thu, 27 Jun 2013 20:38:50 +0000"  >&lt;p&gt;Yes, you are correct. Yet if this is long parsable string, we can address it rather than returning an incorrect value.  Thanks for the fix Justin.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>335479</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 18 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1lv9r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>335803</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2934] Wasted work in ValidateVisitor.checkXmlAttributes()</title>
                <link>https://issues.apache.org/jira/browse/SLING-2934</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The problem appears in version 6 and in revision 1495454.  I attached&lt;br/&gt;
a one-line patch that fixes it.&lt;/p&gt;

&lt;p&gt;In method &quot;ValidateVisitor.checkXmlAttributes&quot;, the loop over &quot;nodes&quot;&lt;br/&gt;
should break immediately after &quot;elExpression&quot; and&lt;br/&gt;
&quot;deferredValueIsLiteral&quot; are set to &quot;true&quot;.  All the iterations after&lt;br/&gt;
&quot;elExpression&quot; and &quot;deferredValueIsLiteral&quot; are set to &quot;true&quot; do not&lt;br/&gt;
perform any useful work, at best they just set &quot;elExpression&quot; and&lt;br/&gt;
&quot;deferredValueIsLiteral&quot; again to &quot;true&quot;.&lt;/p&gt;

&lt;p&gt;Method &quot;isLive&quot; in class &quot;ResourceResolverContext&quot; has a similar loop&lt;br/&gt;
(over &quot;dynamicProviders&quot;), and this loop breaks immediately after&lt;br/&gt;
&quot;result&quot; is set to &quot;false&quot;, just like in the proposed patch.  Other&lt;br/&gt;
methods (e.g., &quot;FactoryPreconditions.checkPreconditions&quot;,&lt;br/&gt;
&quot;JspUtil.checkAttributes&quot;, &quot;EclipseJavaCompiler.compile&quot;,&lt;br/&gt;
&quot;SecondPassVisitor.appendPageDirective&quot;) also have similar loops with&lt;br/&gt;
similar breaks, just like in the proposed patch.&lt;/p&gt;</description>
                <environment>any</environment>
        <key id="12654193">SLING-2934</key>
            <summary>Wasted work in ValidateVisitor.checkXmlAttributes()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="adriannistor">Adrian Nistor</reporter>
                        <labels>
                            <label>patch</label>
                            <label>performance</label>
                    </labels>
                <created>Fri, 21 Jun 2013 16:10:26 +0000</created>
                <updated>Tue, 20 May 2014 06:02:44 +0000</updated>
                            <resolved>Thu, 4 Jul 2013 08:44:38 +0000</resolved>
                                                    <fixVersion>Scripting JSP 2.1.0</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13699850" author="cziegeler" created="Thu, 4 Jul 2013 08:44:38 +0000"  >&lt;p&gt;Thanks for your patch, it&apos;s applied&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12589101" name="patch.diff" size="865" author="adriannistor" created="Fri, 21 Jun 2013 16:10:45 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>334470</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 18 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1lp3j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>334796</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2933] Wasted work in ValidateVisitor.getJspAttribute()</title>
                <link>https://issues.apache.org/jira/browse/SLING-2933</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The problem appears in version 6 and in revision 1495454.  I attached&lt;br/&gt;
a one-line patch that fixes it.&lt;/p&gt;

&lt;p&gt;In method &quot;ValidateVisitor.getJspAttribute&quot;, the loop over &quot;nodes&quot;&lt;br/&gt;
should break immediately after &quot;deferred&quot; is set to &quot;true&quot;.  All the&lt;br/&gt;
iterations after &quot;deferred&quot; is set to &quot;true&quot; do not perform any useful&lt;br/&gt;
work, at best they just set &quot;deferred&quot; again to &quot;true&quot;.&lt;/p&gt;

&lt;p&gt;Method &quot;isLive&quot; in class &quot;ResourceResolverContext&quot; has a similar loop&lt;br/&gt;
(over &quot;dynamicProviders&quot;), and this loop breaks immediately after&lt;br/&gt;
&quot;result&quot; is set to &quot;false&quot;, just like in the proposed patch.  Other&lt;br/&gt;
methods (e.g., &quot;FactoryPreconditions.checkPreconditions&quot;,&lt;br/&gt;
&quot;JspUtil.checkAttributes&quot;, &quot;EclipseJavaCompiler.compile&quot;,&lt;br/&gt;
&quot;SecondPassVisitor.appendPageDirective&quot;) also have similar loops with&lt;br/&gt;
similar breaks, just like in the proposed patch.&lt;/p&gt;</description>
                <environment>any</environment>
        <key id="12654191">SLING-2933</key>
            <summary>Wasted work in ValidateVisitor.getJspAttribute()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="adriannistor">Adrian Nistor</reporter>
                        <labels>
                            <label>patch</label>
                            <label>performance</label>
                    </labels>
                <created>Fri, 21 Jun 2013 16:03:59 +0000</created>
                <updated>Tue, 20 May 2014 06:02:44 +0000</updated>
                            <resolved>Thu, 4 Jul 2013 08:46:36 +0000</resolved>
                                                    <fixVersion>Scripting JSP 2.1.0</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13699854" author="cziegeler" created="Thu, 4 Jul 2013 08:46:36 +0000"  >&lt;p&gt;Thanks for your patch. I&apos;ve applied a slightly modified version&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12589098" name="patch.diff" size="738" author="adriannistor" created="Fri, 21 Jun 2013 16:04:10 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>334468</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 18 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1lp33:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>334794</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2932] Wasted work in BundleEventListener.assertNoBundleEvents()</title>
                <link>https://issues.apache.org/jira/browse/SLING-2932</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The problem appears in version 6 and in revision 1495454.  I attached&lt;br/&gt;
a one-line patch that fixes it.&lt;/p&gt;

&lt;p&gt;In method &quot;BundleEventListener.assertNoBundleEvents&quot;, the loop over&lt;br/&gt;
&quot;events&quot; should break immediately after &quot;found&quot; is set to &quot;true&quot;.  All&lt;br/&gt;
the iterations after &quot;found&quot; is set to &quot;true&quot; do not perform any&lt;br/&gt;
useful work, at best they just set &quot;found&quot; again to &quot;true&quot;.&lt;/p&gt;

&lt;p&gt;Method &quot;isLive&quot; in class &quot;ResourceResolverContext&quot; has a similar loop&lt;br/&gt;
(over &quot;dynamicProviders&quot;), and this loop breaks immediately after&lt;br/&gt;
&quot;result&quot; is set to &quot;false&quot;, just like in the proposed patch.  Other&lt;br/&gt;
methods (e.g., &quot;FactoryPreconditions.checkPreconditions&quot;,&lt;br/&gt;
&quot;JspUtil.checkAttributes&quot;, &quot;EclipseJavaCompiler.compile&quot;,&lt;br/&gt;
&quot;SecondPassVisitor.appendPageDirective&quot;) also have similar loops with&lt;br/&gt;
similar breaks, just like in the proposed patch.&lt;/p&gt;</description>
                <environment>any</environment>
        <key id="12654190">SLING-2932</key>
            <summary>Wasted work in BundleEventListener.assertNoBundleEvents()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="adriannistor">Adrian Nistor</reporter>
                        <labels>
                            <label>patch</label>
                            <label>performance</label>
                    </labels>
                <created>Fri, 21 Jun 2013 15:59:47 +0000</created>
                <updated>Sat, 18 Jan 2014 19:35:57 +0000</updated>
                            <resolved>Thu, 4 Jul 2013 08:53:06 +0000</resolved>
                                                    <fixVersion>Installer Core 3.5.0</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13699861" author="cziegeler" created="Thu, 4 Jul 2013 08:53:06 +0000"  >&lt;p&gt;Thanks for your patch, it&apos;s applied&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12589097" name="patch.diff" size="664" author="adriannistor" created="Fri, 21 Jun 2013 15:59:59 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>334467</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 18 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1lp2v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>334793</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2931] Wasted work in SlingServletResolver.activate()</title>
                <link>https://issues.apache.org/jira/browse/SLING-2931</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The problem appears in version 6 and in revision 1495454.  I attached&lt;br/&gt;
a one-line patch that fixes it.&lt;/p&gt;

&lt;p&gt;In method &quot;SlingServletResolver.activate&quot;, the loop over&lt;br/&gt;
&quot;executionPaths&quot; should break immediately after &quot;hasRoot&quot; is set to&lt;br/&gt;
&quot;true&quot;.  All the iterations after &quot;hasRoot&quot; is set to &quot;true&quot; do not&lt;br/&gt;
perform any useful work, at best they just set &quot;hasRoot&quot; again to&lt;br/&gt;
&quot;true&quot;.&lt;/p&gt;

&lt;p&gt;Method &quot;isLive&quot; in class &quot;ResourceResolverContext&quot; has a similar loop&lt;br/&gt;
(over &quot;dynamicProviders&quot;), and this loop breaks immediately after&lt;br/&gt;
&quot;result&quot; is set to &quot;false&quot;, just like in the proposed patch.  Other&lt;br/&gt;
methods (e.g., &quot;FactoryPreconditions.checkPreconditions&quot;,&lt;br/&gt;
&quot;JspUtil.checkAttributes&quot;, &quot;EclipseJavaCompiler.compile&quot;,&lt;br/&gt;
&quot;SecondPassVisitor.appendPageDirective&quot;) also have similar loops with&lt;br/&gt;
similar breaks, just like in the proposed patch.&lt;/p&gt;</description>
                <environment>any</environment>
        <key id="12654188">SLING-2931</key>
            <summary>Wasted work in SlingServletResolver.activate()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="adriannistor">Adrian Nistor</reporter>
                        <labels>
                            <label>patch</label>
                            <label>perfomance</label>
                    </labels>
                <created>Fri, 21 Jun 2013 15:54:53 +0000</created>
                <updated>Mon, 24 Feb 2014 10:19:17 +0000</updated>
                            <resolved>Thu, 4 Jul 2013 08:54:53 +0000</resolved>
                                                    <fixVersion>Servlets Resolver 2.3.0</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13699865" author="cziegeler" created="Thu, 4 Jul 2013 08:54:53 +0000"  >&lt;p&gt;Thanks for your patch, it&apos;s applied&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12589095" name="patch.diff" size="766" author="adriannistor" created="Fri, 21 Jun 2013 15:55:19 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>334465</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 18 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1lp2f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>334791</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2930] Wasted work in ClusterViewServiceImpl.getClusterView()</title>
                <link>https://issues.apache.org/jira/browse/SLING-2930</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The problem appears in revision 1495454.  I attached a one-line patch&lt;br/&gt;
that fixes it.&lt;/p&gt;

&lt;p&gt;In method &quot;ClusterViewServiceImpl.getClusterView&quot;, the loop over&lt;br/&gt;
&quot;clusterViewImpl.getInstances()&quot; should break immediately after&lt;br/&gt;
&quot;foundLocal&quot; is set to &quot;true&quot;.  All the iterations after &quot;foundLocal&quot;&lt;br/&gt;
is set to &quot;true&quot; do not perform any useful work, at best they just set&lt;br/&gt;
&quot;foundLocal&quot; again to &quot;true&quot;.&lt;/p&gt;

&lt;p&gt;Method &quot;isLive&quot; in class &quot;ResourceResolverContext&quot; has a similar loop&lt;br/&gt;
(over &quot;dynamicProviders&quot;), and this loop breaks immediately after&lt;br/&gt;
&quot;result&quot; is set to &quot;false&quot;, just like in the proposed patch.  Other&lt;br/&gt;
methods (e.g., &quot;FactoryPreconditions.checkPreconditions&quot;,&lt;br/&gt;
&quot;JspUtil.checkAttributes&quot;, &quot;EclipseJavaCompiler.compile&quot;,&lt;br/&gt;
&quot;SecondPassVisitor.appendPageDirective&quot;) also have similar loops with&lt;br/&gt;
similar breaks, just like in the proposed patch.&lt;/p&gt;</description>
                <environment>any</environment>
        <key id="12654185">SLING-2930</key>
            <summary>Wasted work in ClusterViewServiceImpl.getClusterView()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="adriannistor">Adrian Nistor</reporter>
                        <labels>
                            <label>patch</label>
                            <label>performance</label>
                    </labels>
                <created>Fri, 21 Jun 2013 15:46:17 +0000</created>
                <updated>Mon, 12 Aug 2013 11:21:47 +0000</updated>
                            <resolved>Thu, 4 Jul 2013 08:57:00 +0000</resolved>
                                                    <fixVersion>Discovery Impl 1.0.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13699868" author="cziegeler" created="Thu, 4 Jul 2013 08:57:00 +0000"  >&lt;p&gt;Thanks for your patch, it&apos;s applied&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12589094" name="patch.diff" size="720" author="adriannistor" created="Fri, 21 Jun 2013 15:46:29 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>334462</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 18 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1lp1r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>334788</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2929] Wasted work in ClassDescriptor.validate()</title>
                <link>https://issues.apache.org/jira/browse/SLING-2929</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The problem appears in revision 1495454.  I attached a one-line patch&lt;br/&gt;
that fixes it.&lt;/p&gt;

&lt;p&gt;In method &quot;ClassDescriptor.validate&quot;, the loop over &quot;children&quot; should&lt;br/&gt;
break immediately after &quot;valid&quot; becomes &quot;false&quot;.  All the iterations&lt;br/&gt;
after &quot;valid&quot; becomes &quot;false&quot; do not perform any useful work, at best&lt;br/&gt;
they just set &quot;valid&quot; again to &quot;false&quot;.&lt;/p&gt;

&lt;p&gt;Method &quot;isLive&quot; in class &quot;ResourceResolverContext&quot; has a similar loop&lt;br/&gt;
(over &quot;dynamicProviders&quot;), and this loop breaks immediately after&lt;br/&gt;
&quot;result&quot; is set to &quot;false&quot;, just like in the proposed patch.  Other&lt;br/&gt;
methods (e.g., &quot;FactoryPreconditions.checkPreconditions&quot;,&lt;br/&gt;
&quot;JspUtil.checkAttributes&quot;, &quot;EclipseJavaCompiler.compile&quot;,&lt;br/&gt;
&quot;SecondPassVisitor.appendPageDirective&quot;) also have similar loops with&lt;br/&gt;
similar breaks, just like in the proposed patch.&lt;/p&gt;</description>
                <environment>any</environment>
        <key id="12654182">SLING-2929</key>
            <summary>Wasted work in ClassDescriptor.validate()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="adriannistor">Adrian Nistor</reporter>
                        <labels>
                            <label>patch</label>
                            <label>perfomance</label>
                    </labels>
                <created>Fri, 21 Jun 2013 15:40:33 +0000</created>
                <updated>Mon, 22 Jul 2013 08:07:36 +0000</updated>
                            <resolved>Mon, 22 Jul 2013 08:07:36 +0000</resolved>
                                                    <fixVersion>Maven JCROCM Plugin 2.0.6</fixVersion>
                                    <component>Maven Plugins and Archetypes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13715000" author="rombert" created="Mon, 22 Jul 2013 08:07:36 +0000"  >&lt;p&gt;Patch applied in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1505618&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1505618&lt;/a&gt; , thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12589090" name="patch.diff" size="711" author="adriannistor" created="Fri, 21 Jun 2013 15:40:46 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>334459</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 15 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1lp13:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>334785</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2928] Wasted work in LaunchpadConfigInstaller.isActive()</title>
                <link>https://issues.apache.org/jira/browse/SLING-2928</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The problem appears in revision 1495454.  I attached a one-line patch&lt;br/&gt;
that fixes it.&lt;/p&gt;

&lt;p&gt;In method &quot;LaunchpadConfigInstaller.isActive&quot;, the loop over&lt;br/&gt;
&quot;runModes&quot; should break immediately after &quot;active&quot; is set to &quot;false&quot;.&lt;br/&gt;
All the iterations after &quot;active&quot; is set to &quot;false&quot; do not perform any&lt;br/&gt;
useful work, at best they just set &quot;active&quot; again to &quot;false&quot;.&lt;/p&gt;

&lt;p&gt;Method &quot;isLive&quot; in class &quot;ResourceResolverContext&quot; has a similar loop&lt;br/&gt;
(over &quot;dynamicProviders&quot;), and this loop breaks immediately after&lt;br/&gt;
&quot;result&quot; is set to &quot;false&quot;, just like in the proposed patch.  Other&lt;br/&gt;
methods (e.g., &quot;FactoryPreconditions.checkPreconditions&quot;,&lt;br/&gt;
&quot;JspUtil.checkAttributes&quot;, &quot;EclipseJavaCompiler.compile&quot;,&lt;br/&gt;
&quot;SecondPassVisitor.appendPageDirective&quot;) also have similar loops with&lt;br/&gt;
similar breaks, just like in the proposed patch.&lt;/p&gt;</description>
                <environment>any</environment>
        <key id="12654180">SLING-2928</key>
            <summary>Wasted work in LaunchpadConfigInstaller.isActive()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="adriannistor">Adrian Nistor</reporter>
                        <labels>
                            <label>patch</label>
                            <label>perfomance</label>
                    </labels>
                <created>Fri, 21 Jun 2013 15:32:21 +0000</created>
                <updated>Mon, 12 Jan 2015 13:00:11 +0000</updated>
                            <resolved>Thu, 4 Jul 2013 09:02:31 +0000</resolved>
                                                    <fixVersion>Launchpad Installer 1.2.2</fixVersion>
                                    <component>Launchpad</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13699871" author="cziegeler" created="Thu, 4 Jul 2013 09:02:31 +0000"  >&lt;p&gt;Thanks for your patch, it&apos;s applied&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12589088" name="patch.diff" size="638" author="adriannistor" created="Fri, 21 Jun 2013 15:32:34 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>334457</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 18 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1lp0n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>334783</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2927] Wasted work in ValidateVisitor.isExpression()</title>
                <link>https://issues.apache.org/jira/browse/SLING-2927</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The problem appears in version 6 and in revision 1495454.  I attached&lt;br/&gt;
a two-line patch that fixes it.&lt;/p&gt;

&lt;p&gt;In method &quot;ValidateVisitor.isExpression&quot;, the loop over &quot;nodes&quot; should&lt;br/&gt;
break immediately after &quot;elExpression&quot; is set to &quot;true&quot;.  All the&lt;br/&gt;
iterations after &quot;elExpression&quot; is set to &quot;true&quot; do not perform any&lt;br/&gt;
useful work, at best they just set &quot;elExpression&quot; again to &quot;true&quot;.&lt;/p&gt;

&lt;p&gt;Method &quot;isLive&quot; in class &quot;ResourceResolverContext&quot; has a similar loop&lt;br/&gt;
(over &quot;dynamicProviders&quot;), and this loop breaks immediately after&lt;br/&gt;
&quot;result&quot; is set to &quot;false&quot;, just like in the proposed patch.  Other&lt;br/&gt;
methods (e.g., &quot;FactoryPreconditions.checkPreconditions&quot;,&lt;br/&gt;
&quot;JspUtil.checkAttributes&quot;, &quot;EclipseJavaCompiler.compile&quot;,&lt;br/&gt;
&quot;SecondPassVisitor.appendPageDirective&quot;) also have similar loops with&lt;br/&gt;
similar breaks, just like in the proposed patch.&lt;/p&gt;</description>
                <environment>any</environment>
        <key id="12654179">SLING-2927</key>
            <summary>Wasted work in ValidateVisitor.isExpression()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="adriannistor">Adrian Nistor</reporter>
                        <labels>
                            <label>patch</label>
                            <label>performance</label>
                    </labels>
                <created>Fri, 21 Jun 2013 15:28:04 +0000</created>
                <updated>Tue, 20 May 2014 06:02:44 +0000</updated>
                            <resolved>Thu, 4 Jul 2013 08:40:19 +0000</resolved>
                                                    <fixVersion>Scripting JSP 2.1.0</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13699846" author="cziegeler" created="Thu, 4 Jul 2013 08:40:19 +0000"  >&lt;p&gt;Thanks for your patch, I&apos;ve applied a slightly different version&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12589086" name="patch.diff" size="977" author="adriannistor" created="Fri, 21 Jun 2013 15:28:23 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>334456</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 18 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1lp0f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>334782</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2926] Wasted work in AbstractGetAclServlet.doGet()</title>
                <link>https://issues.apache.org/jira/browse/SLING-2926</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The problem appears in revision 1495454.  I attached a one-line patch&lt;br/&gt;
that fixes it.&lt;/p&gt;

&lt;p&gt;In method &quot;AbstractGetAclServlet.doGet&quot;, the loop over &quot;selectors&quot;&lt;br/&gt;
should break immediately after &quot;isTidy&quot; is set to &quot;true&quot;.  All the&lt;br/&gt;
iterations after &quot;isTidy&quot; is set to &quot;true&quot; do not perform any useful&lt;br/&gt;
work, at best they just set &quot;isTidy&quot; again to &quot;true&quot;.&lt;/p&gt;

&lt;p&gt;Method &quot;isLive&quot; in class &quot;ResourceResolverContext&quot; has a similar loop&lt;br/&gt;
(over &quot;dynamicProviders&quot;), and this loop breaks immediately after&lt;br/&gt;
&quot;result&quot; is set to &quot;false&quot;, just like in the proposed patch.  Other&lt;br/&gt;
methods (e.g., &quot;FactoryPreconditions.checkPreconditions&quot;,&lt;br/&gt;
&quot;JspUtil.checkAttributes&quot;, &quot;EclipseJavaCompiler.compile&quot;,&lt;br/&gt;
&quot;SecondPassVisitor.appendPageDirective&quot;) also have similar loops with&lt;br/&gt;
similar breaks, just like in the proposed patch.&lt;/p&gt;</description>
                <environment>any</environment>
        <key id="12654173">SLING-2926</key>
            <summary>Wasted work in AbstractGetAclServlet.doGet()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="adriannistor">Adrian Nistor</reporter>
                        <labels>
                            <label>patch</label>
                            <label>perfomance</label>
                    </labels>
                <created>Fri, 21 Jun 2013 15:06:45 +0000</created>
                <updated>Fri, 19 Sep 2014 15:59:39 +0000</updated>
                            <resolved>Thu, 4 Jul 2013 08:37:46 +0000</resolved>
                                                    <fixVersion>JCR Jackrabbit Access Manager 2.1.2</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13699844" author="cziegeler" created="Thu, 4 Jul 2013 08:37:46 +0000"  >&lt;p&gt;Thanks for your patch, it&apos;s applied&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12589082" name="patch.diff" size="704" author="adriannistor" created="Fri, 21 Jun 2013 15:07:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>334450</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 18 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1loz3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>334776</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2925] Wasted work in InternalQueueConfiguration.checkIsValid()</title>
                <link>https://issues.apache.org/jira/browse/SLING-2925</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The problem appears in version 6 and in revision 1495454.  I attached&lt;br/&gt;
a one-line patch that fixes it.&lt;/p&gt;

&lt;p&gt;In method &quot;InternalQueueConfiguration.checkIsValid&quot;, the loop over&lt;br/&gt;
&quot;matchers&quot; should break immediately after &quot;hasMatchers&quot; is set to&lt;br/&gt;
&quot;true&quot;.  All the iterations after &quot;hasMatchers&quot; is set to &quot;true&quot; do&lt;br/&gt;
not perform any useful work, at best they just set &quot;hasMatchers&quot; again&lt;br/&gt;
to &quot;true&quot;.&lt;/p&gt;

&lt;p&gt;Method &quot;isLive&quot; in class &quot;ResourceResolverContext&quot; has a similar loop&lt;br/&gt;
(over &quot;dynamicProviders&quot;), and this loop breaks immediately after&lt;br/&gt;
&quot;result&quot; is set to &quot;false&quot;, just like in the proposed patch.  Other&lt;br/&gt;
methods (e.g., &quot;FactoryPreconditions.checkPreconditions&quot;,&lt;br/&gt;
&quot;JspUtil.checkAttributes&quot;, &quot;EclipseJavaCompiler.compile&quot;,&lt;br/&gt;
&quot;SecondPassVisitor.appendPageDirective&quot;) also have similar loops with&lt;br/&gt;
similar breaks, just like in the proposed patch.&lt;/p&gt;</description>
                <environment>any</environment>
        <key id="12654169">SLING-2925</key>
            <summary>Wasted work in InternalQueueConfiguration.checkIsValid()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="adriannistor">Adrian Nistor</reporter>
                        <labels>
                            <label>patch</label>
                            <label>performance</label>
                    </labels>
                <created>Fri, 21 Jun 2013 14:50:19 +0000</created>
                <updated>Mon, 12 Aug 2013 11:22:49 +0000</updated>
                            <resolved>Wed, 3 Jul 2013 13:13:03 +0000</resolved>
                                                    <fixVersion>Event 3.2.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13698934" author="cziegeler" created="Wed, 3 Jul 2013 13:13:03 +0000"  >&lt;p&gt;Thanks for your patch Adrian, it&apos;s applied&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12589079" name="patch.diff" size="678" author="adriannistor" created="Fri, 21 Jun 2013 14:50:39 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>334446</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 18 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1loy7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>334772</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2924] Full text extraction issue with Tika v1.0 under OSGi environment</title>
                <link>https://issues.apache.org/jira/browse/SLING-2924</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The latest stable build (I checked out revision 1487628) of Sling is using Jackrabbit version 2.4.2 and it uses Tika version 1.0 for extracting metatdata and text for indexing purpose.  Jackrabbit v2.4.2 deployed as a separate web application extracts metadata and text from the uploaded documents perfectly fine, but when deployed in Sling (OSGi environment), full text extraction doesn&apos;t work.&lt;/p&gt;

&lt;p&gt;Updating the Tika dependency to Version 1.2 in Sling resolved the above issue.&lt;/p&gt;

&lt;p&gt;Secondly, if the indexes are deleted from the repository and the server is restarted, indexes are not rebuilt for the existing documents.  The Tika bundles were not ready by the time Jackrabbit starts to rebuild the indexes during the Sling server start up.  Updating the startlevel from 15 to 10 for the Tika bundles helps to resolve the issue.&lt;/p&gt;

&lt;p&gt;The changes related to above fixes are in &amp;lt;sling&amp;gt;/launchpad/builder/src/main/bundles/list.xml file.&lt;/p&gt;

&lt;p&gt;Currently Tika bundles are at start level 15 as shown below:&lt;/p&gt;

&lt;p&gt;&amp;lt;startLevel level=&quot;15&quot;&amp;gt;&lt;br/&gt;
..........&lt;br/&gt;
&amp;lt;bundle&amp;gt;&lt;br/&gt;
            &amp;lt;groupId&amp;gt;org.apache.tika&amp;lt;/groupId&amp;gt;&lt;br/&gt;
            &amp;lt;artifactId&amp;gt;tika-core&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
            &amp;lt;version&amp;gt;1.0&amp;lt;/version&amp;gt;&lt;br/&gt;
        &amp;lt;/bundle&amp;gt;&lt;br/&gt;
        &amp;lt;bundle&amp;gt;&lt;br/&gt;
            &amp;lt;groupId&amp;gt;org.apache.tika&amp;lt;/groupId&amp;gt;&lt;br/&gt;
            &amp;lt;artifactId&amp;gt;tika-bundle&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
            &amp;lt;version&amp;gt;1.0&amp;lt;/version&amp;gt;&lt;br/&gt;
        &amp;lt;/bundle&amp;gt;&lt;br/&gt;
..........&lt;br/&gt;
&amp;lt;/startLevel&amp;gt;&lt;/p&gt;

&lt;p&gt;Moved the above bundles to start level 10 and also the version is changed to 1.2&lt;/p&gt;

&lt;p&gt;&amp;lt;startLevel level=&quot;10&quot;&amp;gt;&lt;br/&gt;
..........&lt;br/&gt;
&amp;lt;bundle&amp;gt;&lt;br/&gt;
            &amp;lt;groupId&amp;gt;org.apache.tika&amp;lt;/groupId&amp;gt;&lt;br/&gt;
            &amp;lt;artifactId&amp;gt;tika-core&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
            &amp;lt;version&amp;gt;1.2&amp;lt;/version&amp;gt;&lt;br/&gt;
        &amp;lt;/bundle&amp;gt;&lt;br/&gt;
        &amp;lt;bundle&amp;gt;&lt;br/&gt;
            &amp;lt;groupId&amp;gt;org.apache.tika&amp;lt;/groupId&amp;gt;&lt;br/&gt;
            &amp;lt;artifactId&amp;gt;tika-bundle&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
            &amp;lt;version&amp;gt;1.2&amp;lt;/version&amp;gt;&lt;br/&gt;
        &amp;lt;/bundle&amp;gt;&lt;br/&gt;
..........&lt;br/&gt;
&amp;lt;/startLevel&amp;gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12654131">SLING-2924</key>
            <summary>Full text extraction issue with Tika v1.0 under OSGi environment</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="anjan">Anjan</reporter>
                        <labels>
                            <label>tika,text-extraction</label>
                    </labels>
                <created>Fri, 21 Jun 2013 12:17:04 +0000</created>
                <updated>Wed, 20 Sep 2017 12:18:34 +0000</updated>
                            <resolved>Tue, 9 Jul 2013 14:44:54 +0000</resolved>
                                                    <fixVersion>Launchpad Builder 7</fixVersion>
                                    <component>Launchpad</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13703314" author="rombert" created="Tue, 9 Jul 2013 14:19:37 +0000"  >&lt;p&gt;I&apos;ve updated the bundles to tika-1.2 and verified the behaviour using an integration test in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1501285&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1501285&lt;/a&gt; .&lt;/p&gt;</comment>
                            <comment id="13703334" author="rombert" created="Tue, 9 Jul 2013 14:44:54 +0000"  >&lt;p&gt;I&apos;ve updated the start levels following your suggestion in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1501298&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1501298&lt;/a&gt; .&lt;/p&gt;

&lt;p&gt;This issue should be completely fixed, thanks for debugging this in detail and for providing the fixes.&lt;/p&gt;</comment>
                            <comment id="13704428" author="rombert" created="Wed, 10 Jul 2013 10:57:35 +0000"  >&lt;p&gt;Updated the test timeout to 10 seconds to address Jenkins failures in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1501716&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1501716&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13710999" author="olli" created="Wed, 17 Jul 2013 11:56:43 +0000"  >&lt;p&gt;Please use Provide-Capability and Require-Capability instead of start levels.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://wiki.osgi.org/wiki/Provide-Capability&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://wiki.osgi.org/wiki/Provide-Capability&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;http://wiki.osgi.org/wiki/Require-Capability&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://wiki.osgi.org/wiki/Require-Capability&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;http://blog.osgi.org/2012/03/requirements-and-capabilities.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://blog.osgi.org/2012/03/requirements-and-capabilities.html&lt;/a&gt;&lt;/p&gt;
</comment>
                            <comment id="13715013" author="rombert" created="Mon, 22 Jul 2013 08:34:42 +0000"  >&lt;p&gt;You&apos;re perfectly right, that&apos;s a much better solution. I&apos;ve looked at the Tika bundles and at version 1.4 they don&apos;t provide the metadata we need.&lt;/p&gt;

&lt;p&gt;I suggest you file a bug against Tika for this and if they agree file a bug here so that we can consume the fix.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>334408</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 15 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1lopr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>334734</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2922] ResourceResolver.findResources Broken In ResourceResolver 1.0.7-SNAPSHOT</title>
                <link>https://issues.apache.org/jira/browse/SLING-2922</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I am getting some strange errors in the TagLib integration tests which seem to  be point into to issues with the ResourceResolver.findResources method.  It seems like the Find Resource JSP Tag is passing up an exception being thrown deep down in the implementation of Find Resources.  As far as I can tell the code is valid and the query being execute should work.&lt;/p&gt;

&lt;p&gt;Please find the error I am receiving below:&lt;/p&gt;

&lt;p&gt;(500)&lt;/p&gt;

&lt;p&gt;The requested URL /SlingJSPTaglibTest/1371581300642/48_1371581300645.html resulted in an error in /apps/integration-test/taglib-test/taglib-test.jsp.&lt;/p&gt;

&lt;p&gt;Exception:&lt;/p&gt;

&lt;p&gt;org.apache.sling.api.SlingException: &lt;br/&gt;
	at org.apache.sling.scripting.jsp.jasper.servlet.JspServletWrapper.handleJspExceptionInternal(JspServletWrapper.java:672)&lt;br/&gt;
	at org.apache.sling.scripting.jsp.jasper.servlet.JspServletWrapper.handleJspException(JspServletWrapper.java:608)&lt;br/&gt;
	at org.apache.sling.scripting.jsp.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:533)&lt;br/&gt;
	at org.apache.sling.scripting.jsp.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:449)&lt;br/&gt;
	at org.apache.sling.scripting.jsp.JspScriptEngineFactory.callJsp(JspScriptEngineFactory.java:263)&lt;br/&gt;
	at org.apache.sling.scripting.jsp.JspScriptEngineFactory.access$100(JspScriptEngineFactory.java:87)&lt;br/&gt;
	at org.apache.sling.scripting.jsp.JspScriptEngineFactory$JspScriptEngine.eval(JspScriptEngineFactory.java:450)&lt;br/&gt;
	at org.apache.sling.scripting.core.impl.DefaultSlingScript.call(DefaultSlingScript.java:361)&lt;br/&gt;
	at org.apache.sling.scripting.core.impl.DefaultSlingScript.eval(DefaultSlingScript.java:171)&lt;br/&gt;
	at org.apache.sling.scripting.core.impl.DefaultSlingScript.service(DefaultSlingScript.java:463)&lt;br/&gt;
	at org.apache.sling.engine.impl.request.RequestData.service(RequestData.java:508)&lt;br/&gt;
	at org.apache.sling.engine.impl.SlingRequestProcessorImpl.processComponent(SlingRequestProcessorImpl.java:261)&lt;br/&gt;
	at org.apache.sling.engine.impl.filter.RequestSlingFilterChain.render(RequestSlingFilterChain.java:49)&lt;br/&gt;
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:64)&lt;br/&gt;
	at org.apache.sling.launchpad.testservices.filters.TestFilter.doFilter(TestFilter.java:47)&lt;br/&gt;
	at org.apache.sling.launchpad.testservices.filters.NoPropertyFilter.doFilter(NoPropertyFilter.java:25)&lt;br/&gt;
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:60)&lt;br/&gt;
	at org.apache.sling.launchpad.testservices.filters.TestFilter.doFilter(TestFilter.java:47)&lt;br/&gt;
	at org.apache.sling.launchpad.testservices.filters.SlingFilter.doFilter(SlingFilter.java:25)&lt;br/&gt;
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:60)&lt;br/&gt;
	at org.apache.sling.engine.impl.debug.RequestProgressTrackerLogFilter.doFilter(RequestProgressTrackerLogFilter.java:64)&lt;br/&gt;
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:60)&lt;br/&gt;
	at org.apache.sling.engine.impl.SlingRequestProcessorImpl.processRequest(SlingRequestProcessorImpl.java:151)&lt;br/&gt;
	at org.apache.sling.engine.impl.SlingMainServlet.service(SlingMainServlet.java:207)&lt;br/&gt;
	at org.apache.felix.http.base.internal.handler.ServletHandler.doHandle(ServletHandler.java:96)&lt;br/&gt;
	at org.apache.felix.http.base.internal.handler.ServletHandler.handle(ServletHandler.java:79)&lt;br/&gt;
	at org.apache.felix.http.base.internal.dispatch.ServletPipeline.handle(ServletPipeline.java:42)&lt;br/&gt;
	at org.apache.felix.http.base.internal.dispatch.InvocationFilterChain.doFilter(InvocationFilterChain.java:49)&lt;br/&gt;
	at org.apache.felix.http.base.internal.dispatch.HttpFilterChain.doFilter(HttpFilterChain.java:33)&lt;br/&gt;
	at org.apache.sling.launchpad.testservices.filters.TestFilter.doFilter(TestFilter.java:47)&lt;br/&gt;
	at org.apache.sling.launchpad.testservices.filters.HttpServiceExtFilter.doFilter(HttpServiceExtFilter.java:27)&lt;br/&gt;
	at org.apache.felix.http.base.internal.handler.FilterHandler.doHandle(FilterHandler.java:88)&lt;br/&gt;
	at org.apache.felix.http.base.internal.handler.FilterHandler.handle(FilterHandler.java:76)&lt;br/&gt;
	at org.apache.felix.http.base.internal.dispatch.InvocationFilterChain.doFilter(InvocationFilterChain.java:47)&lt;br/&gt;
	at org.apache.felix.http.base.internal.dispatch.HttpFilterChain.doFilter(HttpFilterChain.java:33)&lt;br/&gt;
	at org.apache.sling.engine.impl.log.RequestLoggerFilter.doFilter(RequestLoggerFilter.java:75)&lt;br/&gt;
	at org.apache.felix.http.base.internal.handler.FilterHandler.doHandle(FilterHandler.java:88)&lt;br/&gt;
	at org.apache.felix.http.base.internal.handler.FilterHandler.handle(FilterHandler.java:76)&lt;br/&gt;
	at org.apache.felix.http.base.internal.dispatch.InvocationFilterChain.doFilter(InvocationFilterChain.java:47)&lt;br/&gt;
	at org.apache.felix.http.base.internal.dispatch.HttpFilterChain.doFilter(HttpFilterChain.java:33)&lt;br/&gt;
	at org.apache.felix.http.base.internal.dispatch.FilterPipeline.dispatch(FilterPipeline.java:48)&lt;br/&gt;
	at org.apache.felix.http.base.internal.dispatch.Dispatcher.dispatch(Dispatcher.java:39)&lt;br/&gt;
	at org.apache.felix.http.base.internal.DispatcherServlet.service(DispatcherServlet.java:67)&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)&lt;br/&gt;
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)&lt;br/&gt;
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:390)&lt;br/&gt;
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)&lt;br/&gt;
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)&lt;br/&gt;
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)&lt;br/&gt;
	at org.mortbay.jetty.Server.handle(Server.java:326)&lt;br/&gt;
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)&lt;br/&gt;
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:926)&lt;br/&gt;
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:549)&lt;br/&gt;
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)&lt;br/&gt;
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)&lt;br/&gt;
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:410)&lt;br/&gt;
	at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)&lt;br/&gt;
Caused by: java.lang.NullPointerException&lt;br/&gt;
	at org.apache.sling.resourceresolver.impl.tree.ResourceProviderFactoryHandler.getResourceProvider(ResourceProviderFactoryHandler.java:82)&lt;br/&gt;
	at org.apache.sling.resourceresolver.impl.helper.SortedProviderList.getProviderHandler(SortedProviderList.java:199)&lt;br/&gt;
	at org.apache.sling.resourceresolver.impl.tree.RootResourceProviderEntry$2.seek(RootResourceProviderEntry.java:149)&lt;br/&gt;
	at org.apache.sling.resourceresolver.impl.tree.RootResourceProviderEntry$2.&amp;lt;init&amp;gt;(RootResourceProviderEntry.java:134)&lt;br/&gt;
	at org.apache.sling.resourceresolver.impl.tree.RootResourceProviderEntry.findResources(RootResourceProviderEntry.java:132)&lt;br/&gt;
	at org.apache.sling.resourceresolver.impl.ResourceResolverImpl.findResources(ResourceResolverImpl.java:645)&lt;br/&gt;
	at org.apache.sling.scripting.jsp.taglib.FindResourcesTag.doEndTag(FindResourcesTag.java:65)&lt;br/&gt;
	at org.apache.jsp.apps.integration_002dtest.taglib_002dtest.taglib_002dtest_jsp._jspx_meth_sling_005ffindResources_005f0(taglib_002dtest_jsp.java:1025)&lt;br/&gt;
	at org.apache.jsp.apps.integration_002dtest.taglib_002dtest.taglib_002dtest_jsp._jspService(taglib_002dtest_jsp.java:182)&lt;br/&gt;
	at org.apache.sling.scripting.jsp.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)&lt;br/&gt;
	at org.apache.sling.scripting.jsp.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:502)&lt;br/&gt;
	... 54 more&lt;/p&gt;</description>
                <environment></environment>
        <key id="12653562">SLING-2922</key>
            <summary>ResourceResolver.findResources Broken In ResourceResolver 1.0.7-SNAPSHOT</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mykee">Mike M&#252;ller</assignee>
                                    <reporter username="klcodanr">Dan Klco</reporter>
                        <labels>
                    </labels>
                <created>Tue, 18 Jun 2013 20:02:20 +0000</created>
                <updated>Wed, 19 Jun 2013 16:10:09 +0000</updated>
                            <resolved>Wed, 19 Jun 2013 16:10:09 +0000</resolved>
                                    <version>Resource Resolver 1.1.0</version>
                                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13687696" author="fmeschbe" created="Wed, 19 Jun 2013 07:06:20 +0000"  >&lt;p&gt;This looks suspiciosly similar to &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2916&quot; title=&quot;NPE when updating sling:vanityPath property&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2916&quot;&gt;&lt;del&gt;SLING-2916&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13688098" author="mykee" created="Wed, 19 Jun 2013 16:04:26 +0000"  >&lt;p&gt;Yes, it&apos;s the same problem. I will have a look at it...&lt;/p&gt;</comment>
                            <comment id="13688107" author="mykee" created="Wed, 19 Jun 2013 16:10:09 +0000"  >&lt;p&gt;Committed a fix in r1494674.&lt;br/&gt;
Please make a check and let me know, if the exception is gone in your case.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>333839</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 20 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ll7j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>334166</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2920] Wrong handling of Sling Filter ordering</title>
                <link>https://issues.apache.org/jira/browse/SLING-2920</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;It looks like the ordering of Sling Filters is not implemented as it is documented on &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;The documented intent is:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;service.ranking ordering with higher numbers being higher preference over lower numbers&lt;/li&gt;
	&lt;li&gt;filter.order ordering with lower numbers being higher preference over higher numbers&lt;/li&gt;
	&lt;li&gt;filter.order is ignored if service.ranking is defined&lt;/li&gt;
	&lt;li&gt;higher preferenced filters called before lower preferenced filters&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Actual implementation:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;service.ranking ordering with lower numbers being higher preference over higher numbers&lt;/li&gt;
	&lt;li&gt;filter.order ordering with lower numbers being higher preference over higher numbers&lt;/li&gt;
	&lt;li&gt;filter.order is ignored if service.ranking is defined&lt;/li&gt;
	&lt;li&gt;higher preferenced filters called before lower preferenced filters&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;As one can see, the service.ranking ordering is not properly implemented. It looks like this has been wrong since the first implementation as of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-1735&quot; title=&quot;Properly support service.ranking, service.id and filter.order for filter ordering&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-1735&quot;&gt;&lt;del&gt;SLING-1735&lt;/del&gt;&lt;/a&gt; (Jan 2011).&lt;/p&gt;

&lt;p&gt;We can either live with this actual implementation and fix the documentation or fix the implementation at the cost of having to also fix any down-stream filter providers using service.ranking values as implemented (and not as documented).&lt;/p&gt;

&lt;p&gt;Discussion at &lt;a href=&quot;http://sling.markmail.org/thread/h6uiveb2udw6y46q&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sling.markmail.org/thread/h6uiveb2udw6y46q&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://sling.apache.org/documentation/the-sling-engine/filters.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sling.apache.org/documentation/the-sling-engine/filters.html&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12653422">SLING-2920</key>
            <summary>Wrong handling of Sling Filter ordering</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Tue, 18 Jun 2013 11:55:22 +0000</created>
                <updated>Thu, 24 Dec 2015 11:37:30 +0000</updated>
                            <resolved>Thu, 22 May 2014 12:52:11 +0000</resolved>
                                    <version>Engine 2.2.8</version>
                                    <fixVersion>Engine 2.3.4</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="13686619" author="fmeschbe" created="Tue, 18 Jun 2013 11:56:48 +0000"  >&lt;p&gt;Proposed patch fixing the service.ranking problem.&lt;/p&gt;</comment>
                            <comment id="14005879" author="cziegeler" created="Thu, 22 May 2014 12:52:11 +0000"  >&lt;p&gt;I&apos;ve applied the patch as I think the implementation was just wrong.&lt;br/&gt;
In addition I&apos;ve added simple test case for the filter chain and removed the need to sync access to the filters on each request&lt;/p&gt;</comment>
                            <comment id="14363074" author="bdelacretaz" created="Mon, 16 Mar 2015 11:13:04 +0000"  >&lt;p&gt;I just realized that this patch doesn&apos;t match the discussion we had at &lt;a href=&quot;http://sling.markmail.org/thread/h6uiveb2udw6y46q&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sling.markmail.org/thread/h6uiveb2udw6y46q&lt;/a&gt; where there was consensus to keep the &quot;wrong&quot; code and fix the docs instead. So unless I missed another discussion we shouldn&apos;t have applied this patch.&lt;/p&gt;

&lt;p&gt;It is too late to change back so we&apos;ll leave it as is, but note that this means the Sling engine 2.2.8 introduces an incompatible change with previous versions, the order of executing of Sling filters is reversed compared to earlier versions.&lt;/p&gt;</comment>
                            <comment id="14363119" author="cziegeler" created="Mon, 16 Mar 2015 12:05:41 +0000"  >&lt;p&gt;This looks like a case of amnesia on my side. Sorry for the mess, somehow I had the impression we decided the other way and went ahead like that. Still not sure why I came to that conclusion and unfortunately no one else noticed this at the time &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14363122" author="bdelacretaz" created="Mon, 16 Mar 2015 12:10:05 +0000"  >&lt;p&gt;I&apos;m not blaming you, catching such things is our collective responsibility &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14379455" author="bdelacretaz" created="Wed, 25 Mar 2015 07:57:48 +0000"  >&lt;p&gt;I&apos;m wondering if we should implement a configurable flag to revert to the old behavior - this is rather annoying in existing applications.&lt;/p&gt;</comment>
                            <comment id="14379535" author="cziegeler" created="Wed, 25 Mar 2015 09:13:25 +0000"  >&lt;p&gt;I don&apos;t think such a flag really helps - as soon as you have two bundles, one expecting the correct and the other one the wrong order, it fails.&lt;/p&gt;

&lt;p&gt;I think, if you upgrade from a bundle version with the old behaviour to a version with the new behaviour, you can check the service registrations and change the filter settings by multiplying with -1.&lt;/p&gt;</comment>
                            <comment id="14574410" author="o.otto" created="Fri, 5 Jun 2015 12:16:35 +0000"  >&lt;p&gt;I am afraid the change is a bigger issue then it may seem. It means that anyone upgrading to this version - AEM 6.1 users, in particular - will very likely experience issues. Moreover, code may have to be changed that is not under the control of the users. For instance, our customers are using feature packages provided by Adobe, the OSS community and various vendors, all of which would have to provide updated versions.&lt;/p&gt;

&lt;p&gt;I would thus strongly suggest to revert this change and provide a fix package to the upgrading users.&lt;/p&gt;
</comment>
                            <comment id="14574518" author="bdelacretaz" created="Fri, 5 Jun 2015 13:58:09 +0000"  >&lt;p&gt;As Carsten said above, reverting to the old behavior (by configuration or hardcoded) might not fix things as people might have a mix of filters that use one or the other convention.&lt;/p&gt;

&lt;p&gt;To fix this for cases where people cannot modify the source code of some filters I guess the only way is to implement a utility that can change the ranking of specific filters once they&apos;re registered. That utility would be configured with a list of LDAP filters (to select which service to change) associated with their new service rankings. It can actually be generic, not limited to filter services.&lt;/p&gt;

&lt;p&gt;Not very nice but I don&apos;t see a better solution given that both conventions have been out for some time now.&lt;/p&gt;</comment>
                            <comment id="14574754" author="cziegeler" created="Fri, 5 Jun 2015 16:12:30 +0000"  >&lt;p&gt;Right, and that tool can be written fairly easy, it just needs to check the service registry for filters and then do it&apos;s magic&lt;/p&gt;</comment>
                            <comment id="14681854" author="bdelacretaz" created="Tue, 11 Aug 2015 14:17:43 +0000"  >&lt;p&gt;I have played a bit with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bosschaert&quot; class=&quot;user-hover&quot; rel=&quot;bosschaert&quot;&gt;bosschaert&lt;/a&gt;&apos;s service jockey tool and that looks to me like a nice generic solution for manipulating service properties and/or hiding services. See &lt;a href=&quot;https://github.com/bdelacretaz/sling-filters-jockey-poc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/bdelacretaz/sling-filters-jockey-poc&lt;/a&gt; for a proof of concept which changes the ordering of some Sling filters.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12651310">SLING-2911</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12588336" name="SLING-2920.patch" size="7527" author="fmeschbe" created="Tue, 18 Jun 2013 11:56:48 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>333700</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 12 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1lkcv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>334028</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2917] parent node descriptor (ROOT) gets installed twice</title>
                <link>https://issues.apache.org/jira/browse/SLING-2917</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;check of processedEntries fails due to not calling #toString() on URLs&lt;/p&gt;</description>
                <environment></environment>
        <key id="12652004">SLING-2917</key>
            <summary>parent node descriptor (ROOT) gets installed twice</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="olli">Oliver Lietz</assignee>
                                    <reporter username="olli">Oliver Lietz</reporter>
                        <labels>
                    </labels>
                <created>Mon, 10 Jun 2013 10:15:26 +0000</created>
                <updated>Wed, 3 May 2017 15:54:47 +0000</updated>
                            <resolved>Mon, 28 Apr 2014 07:51:22 +0000</resolved>
                                    <version>JCR ContentLoader 2.1.6</version>
                                    <fixVersion>JCR ContentLoader 2.1.8</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13679419" author="olli" created="Mon, 10 Jun 2013 10:28:00 +0000"  >&lt;p&gt;plain fix: &lt;a href=&quot;https://github.com/oliverlietz/sling/commit/0859287b1f8a83ed748c753ecdf26ddf0a0f4155&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/oliverlietz/sling/commit/0859287b1f8a83ed748c753ecdf26ddf0a0f4155&lt;/a&gt;&lt;br/&gt;
integration test: &lt;a href=&quot;https://github.com/oliverlietz/sling/commit/44853d5f39d1fe5161dae190232cccb897f36f06&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/oliverlietz/sling/commit/44853d5f39d1fe5161dae190232cccb897f36f06&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13738531" author="olli" created="Tue, 13 Aug 2013 17:32:59 +0000"  >&lt;p&gt;moved test to &lt;a href=&quot;https://github.com/oliverlietz/sling-tests/tree/master/org.apache.sling.tests/SLING-2917&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/oliverlietz/sling-tests/tree/master/org.apache.sling.tests/SLING-2917&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="13068812">SLING-6825</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12587047" name="SLING-2917.patch" size="83722" author="olli" created="Mon, 10 Jun 2013 10:16:39 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>332328</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 12 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1lbwn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>332657</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2916] NPE when updating sling:vanityPath property</title>
                <link>https://issues.apache.org/jira/browse/SLING-2916</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;(resource resolver version used: 1.0.7-SNAPSHOT)&lt;/p&gt;

&lt;p&gt;When updating the sling:vanityPath property on a node two things happen:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;the resolver map is not updated&lt;/li&gt;
	&lt;li&gt;the following error shows up in error.log&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;07.06.2013 17:41:25.184 &lt;b&gt;WARN&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;MapEntries Update&amp;#93;&lt;/span&gt; org.apache.sling.resourceresolver.impl.mapping.MapEntries doInit: Unexpected problem during initialization java.lang.NullPointerException&lt;br/&gt;
	at org.apache.sling.resourceresolver.impl.tree.ResourceProviderFactoryHandler.getResourceProvider(ResourceProviderFactoryHandler.java:80)&lt;br/&gt;
	at org.apache.sling.resourceresolver.impl.helper.SortedProviderList.getProviderHandler(SortedProviderList.java:199)&lt;br/&gt;
	at org.apache.sling.resourceresolver.impl.tree.RootResourceProviderEntry$2.seek(RootResourceProviderEntry.java:149)&lt;br/&gt;
	at org.apache.sling.resourceresolver.impl.tree.RootResourceProviderEntry$2.&amp;lt;init&amp;gt;(RootResourceProviderEntry.java:134)&lt;br/&gt;
	at org.apache.sling.resourceresolver.impl.tree.RootResourceProviderEntry.findResources(RootResourceProviderEntry.java:132)&lt;br/&gt;
	at org.apache.sling.resourceresolver.impl.ResourceResolverImpl.findResources(ResourceResolverImpl.java:645)&lt;br/&gt;
	at org.apache.sling.resourceresolver.impl.mapping.MapEntries.loadVanityPaths(MapEntries.java:545)&lt;br/&gt;
	at org.apache.sling.resourceresolver.impl.mapping.MapEntries.doInit(MapEntries.java:206)&lt;br/&gt;
	at org.apache.sling.resourceresolver.impl.mapping.MapEntries.init(MapEntries.java:175)&lt;br/&gt;
	at org.apache.sling.resourceresolver.impl.mapping.MapEntries.access$000(MapEntries.java:63)&lt;br/&gt;
	at org.apache.sling.resourceresolver.impl.mapping.MapEntries$1.run(MapEntries.java:149)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:722)&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12651713">SLING-2916</key>
            <summary>NPE when updating sling:vanityPath property</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mykee">Mike M&#252;ller</assignee>
                                    <reporter username="jollyca">Dan Platon</reporter>
                        <labels>
                    </labels>
                <created>Fri, 7 Jun 2013 15:06:14 +0000</created>
                <updated>Wed, 19 Jun 2013 16:07:45 +0000</updated>
                            <resolved>Wed, 19 Jun 2013 16:07:45 +0000</resolved>
                                                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13678079" author="jollyca" created="Fri, 7 Jun 2013 15:09:06 +0000"  >&lt;p&gt;I found the problem:&lt;/p&gt;

&lt;p&gt;In org.apache.sling.resourceresolver.impl.tree.RootResourceProviderEntry, line 115 - this.seek() uses rrCtx which is not initialized until two lines of code later.&lt;/p&gt;</comment>
                            <comment id="13688105" author="mykee" created="Wed, 19 Jun 2013 16:07:45 +0000"  >&lt;p&gt;Committed a fix in r1494674.&lt;br/&gt;
Please make a check and let me know, if the NPE is gone in your case.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>332038</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 20 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1la47:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>332367</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2915] Infrequent NPE in resourceresolver</title>
                <link>https://issues.apache.org/jira/browse/SLING-2915</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;From time to time we see NPE in RootResourceProviderEntry.java:154&lt;/p&gt;</description>
                <environment></environment>
        <key id="12651639">SLING-2915</key>
            <summary>Infrequent NPE in resourceresolver</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mykee">Mike M&#252;ller</assignee>
                                    <reporter username="mykee">Mike M&#252;ller</reporter>
                        <labels>
                    </labels>
                <created>Fri, 7 Jun 2013 07:26:58 +0000</created>
                <updated>Fri, 7 Jun 2013 07:29:39 +0000</updated>
                            <resolved>Fri, 7 Jun 2013 07:29:39 +0000</resolved>
                                                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13677876" author="mykee" created="Fri, 7 Jun 2013 07:29:39 +0000"  >&lt;p&gt;Fixed in r1490527&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>331965</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 21 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1l9on:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>332294</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2913] Issue in AbstractCreateOperation#deepGetOrCreateNode</title>
                <link>https://issues.apache.org/jira/browse/SLING-2913</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;While updating the AbstractCreateOperation to use new CRUD support in POST servlet has been some lost in translation.&lt;/p&gt;

&lt;p&gt;The previous code looked like &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; Node deepGetOrCreateNode(Session session, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; path,
            Map&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, RequestProperty&amp;gt; reqProperties, List&amp;lt;Modification&amp;gt; changes,
            VersioningConfiguration versioningConfiguration)
            &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; RepositoryException {
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (log.isDebugEnabled()) {
            log.debug(&lt;span class=&quot;code-quote&quot;&gt;&quot;Deep-creating Node &lt;span class=&quot;code-quote&quot;&gt;&apos;{}&apos;&lt;/span&gt;&quot;&lt;/span&gt;, path);
        }
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (path == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; || !path.startsWith(&lt;span class=&quot;code-quote&quot;&gt;&quot;/&quot;&lt;/span&gt;)) {
            &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IllegalArgumentException(&lt;span class=&quot;code-quote&quot;&gt;&quot;path must be an absolute path.&quot;&lt;/span&gt;);
        }
        &lt;span class=&quot;code-comment&quot;&gt;// get the starting node
&lt;/span&gt;        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; startingNodePath = path;
        Node startingNode = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
        &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; (startingNode == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (startingNodePath.equals(&lt;span class=&quot;code-quote&quot;&gt;&quot;/&quot;&lt;/span&gt;)) {
                startingNode = session.getRootNode();
            } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (session.itemExists(startingNodePath)) {
                startingNode = (Node) session.getItem(startingNodePath);
                updateNodeType(session, startingNodePath, reqProperties, changes, versioningConfiguration);
                updateMixins(session, startingNodePath, reqProperties, changes, versioningConfiguration);
            } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
                &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; pos = startingNodePath.lastIndexOf(&lt;span class=&quot;code-quote&quot;&gt;&apos;/&apos;&lt;/span&gt;);
                &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (pos &amp;gt; 0) {
                    startingNodePath = startingNodePath.substring(0, pos);
                } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
                    startingNodePath = &lt;span class=&quot;code-quote&quot;&gt;&quot;/&quot;&lt;/span&gt;;
                }
            }
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;while the updated is &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; Resource deepGetOrCreateNode(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; ResourceResolver resolver,
                    &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; path,
                    &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Map&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, RequestProperty&amp;gt; reqProperties,
                    &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; List&amp;lt;Modification&amp;gt; changes,
                    &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; VersioningConfiguration versioningConfiguration)
    &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; PersistenceException, RepositoryException {
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (log.isDebugEnabled()) {
            log.debug(&lt;span class=&quot;code-quote&quot;&gt;&quot;Deep-creating resource &lt;span class=&quot;code-quote&quot;&gt;&apos;{}&apos;&lt;/span&gt;&quot;&lt;/span&gt;, path);
        }
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (path == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; || !path.startsWith(&lt;span class=&quot;code-quote&quot;&gt;&quot;/&quot;&lt;/span&gt;)) {
            &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IllegalArgumentException(&lt;span class=&quot;code-quote&quot;&gt;&quot;path must be an absolute path.&quot;&lt;/span&gt;);
        }
        &lt;span class=&quot;code-comment&quot;&gt;// get the starting resource
&lt;/span&gt;        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; startingResourcePath = path;
        Resource startingResource = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
        &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; (startingResource == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (startingResourcePath.equals(&lt;span class=&quot;code-quote&quot;&gt;&quot;/&quot;&lt;/span&gt;)) {
                startingResource = resolver.getResource(&lt;span class=&quot;code-quote&quot;&gt;&quot;/&quot;&lt;/span&gt;);
            } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (resolver.getResource(startingResourcePath) != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
                startingResource = resolver.getResource(startingResourcePath);
                updateNodeType(resolver, startingResourcePath, reqProperties, changes, versioningConfiguration);
                updateMixins(resolver, startingResourcePath, reqProperties, changes, versioningConfiguration);
            } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
                &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; pos = startingResourcePath.lastIndexOf(&lt;span class=&quot;code-quote&quot;&gt;&apos;/&apos;&lt;/span&gt;);
                &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (pos &amp;gt; 0) {
                    startingResourcePath = startingResourcePath.substring(0, pos);
                } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
                    startingResourcePath = &lt;span class=&quot;code-quote&quot;&gt;&quot;/&quot;&lt;/span&gt;;
                }
            }
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The main difference is in that the &lt;/p&gt;

&lt;p&gt; startingNode = session.getRootNode(); could throw a RepositoryException e.g. if the session did not have enough permission while startingResource = resolver.getResource(&quot;/&quot;); would just return null.&lt;/p&gt;

&lt;p&gt;This might cause a theoretical infinite loop.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12651337">SLING-2913</key>
            <summary>Issue in AbstractCreateOperation#deepGetOrCreateNode</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="asanso">Antonio Sanso</reporter>
                        <labels>
                    </labels>
                <created>Thu, 6 Jun 2013 14:21:42 +0000</created>
                <updated>Thu, 18 Jul 2013 07:55:38 +0000</updated>
                            <resolved>Tue, 9 Jul 2013 07:22:58 +0000</resolved>
                                                    <fixVersion>Servlets Post 2.3.2</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13677092" author="asanso" created="Thu, 6 Jun 2013 15:20:16 +0000"  >&lt;p&gt;attaching proposed patch.&lt;/p&gt;

&lt;p&gt;Tests to follow&lt;/p&gt;</comment>
                            <comment id="13703009" author="cziegeler" created="Tue, 9 Jul 2013 07:22:58 +0000"  >&lt;p&gt;Thanks for the patch, Antonio. I&apos;ve applied it (but tweaked the exception message a little bit)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12586515" name="SLING-2913-patch.txt" size="1097" author="asanso" created="Thu, 6 Jun 2013 15:20:16 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>331663</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 17 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1l7tz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>331994</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2911] Wrong explanation of filter order based on service.ranking</title>
                <link>https://issues.apache.org/jira/browse/SLING-2911</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;a href=&quot;http://sling.apache.org/documentation/the-sling-engine/filters.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sling.apache.org/documentation/the-sling-engine/filters.html&lt;/a&gt; contains the following as an explanation for &lt;tt&gt;service.ranking&lt;/tt&gt;:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Indication of where to place the filter in the filter chain. The higher the number the earlier in the filter chain. This value may span the whole range of integer values. &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;It seems the opposite is true (the lower the numer, the earlier in the filter chain).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12651310">SLING-2911</key>
            <summary>Wrong explanation of filter order based on service.ranking</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="benpeter">Ben Peter</reporter>
                        <labels>
                    </labels>
                <created>Thu, 6 Jun 2013 11:50:08 +0000</created>
                <updated>Thu, 24 Dec 2015 11:38:29 +0000</updated>
                            <resolved>Thu, 24 Dec 2015 11:38:29 +0000</resolved>
                                                    <fixVersion>Engine 2.3.4</fixVersion>
                                    <component>Documentation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                    <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12653422">SLING-2920</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>331636</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 21 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1l7nz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>331967</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2906] Queue might be outdated and closed while still processing</title>
                <link>https://issues.apache.org/jira/browse/SLING-2906</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Though this might rarely happen, there is a potential that a queue gets outdated and closed although it&apos;s still processing:&lt;br/&gt;
There is a little time window, once the last job is taken from the queue until the processing starts - during this window, the queue is empty and the list of jobs in processing is empty as well. If the call for marking the queue arrives during exactly this window, the queue will be outdated. Now if the next call to close the queue arrives in a similar window, the queue will be closed although there are still jobs in processing&lt;/p&gt;</description>
                <environment></environment>
        <key id="12651141">SLING-2906</key>
            <summary>Queue might be outdated and closed while still processing</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Wed, 5 Jun 2013 15:54:53 +0000</created>
                <updated>Mon, 12 Aug 2013 11:22:50 +0000</updated>
                            <resolved>Thu, 4 Jul 2013 09:30:52 +0000</resolved>
                                    <version>Event 3.1.4</version>
                                    <fixVersion>Event 3.2.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13676061" author="cziegeler" created="Wed, 5 Jun 2013 15:57:34 +0000"  >&lt;p&gt;I&apos;ve committed a first implementation in rev 1489934 - it uses a new flag which is set to false if the queue is not waiting for a new job. As long as this flag is set to false, the queue will not be marked for closing.&lt;br/&gt;
In addition I simplified the handling of closing a queue by moving it completely into the queue (tryToClose())&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>331467</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 22 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1l6mn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>331799</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2905] Providing extra properties via sling_install.properties does not work</title>
                <link>https://issues.apache.org/jira/browse/SLING-2905</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;For my case I need to add extra packages to Sling Bootdelegation package list without modifying the Sling based application. Sling enables providing extra properties during startup by adding sling_install.properties under Sling Home directory. This logic however does not work currently as expected.&lt;/p&gt;

&lt;p&gt;As per Sling#loadIncludes &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; the inclusion logic would remove the keys referring to includes irrespective of the fact that include has been resolved or not. Currently following sequence happens at startup&lt;/p&gt;

&lt;p&gt;1. Sling.loadConfigProperties invokes  this.loadIncludes(staticProps, null /&lt;b&gt;Sling Home&lt;/b&gt;/); passing null for Sling Home as it has not been resolved by now&lt;br/&gt;
2. The Sling.loadIncludes would try to resolve the include. However as the Sling Home is not set the inclusion would not work and key itself would also be removed from the config&lt;br/&gt;
3. Sling.loadConfigProperties again invokes this.loadIncludes(runtimeProps, slingHome); this time passing the Sling Home. However by now the include properties have already been removed and this inclusion would not work again.&lt;/p&gt;

&lt;p&gt;One possible fix is to remove the inclusion key only if the file is included.&lt;/p&gt;

&lt;p&gt;As a workaround I had to specify the extra packages via system property &lt;/p&gt;

&lt;p&gt;-Dorg.apache.sling.launcher.bootdelegation=,sun.misc&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/sling/blob/trunk/launchpad/base/src/main/java/org/apache/sling/launchpad/base/impl/Sling.java#L761&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/blob/trunk/launchpad/base/src/main/java/org/apache/sling/launchpad/base/impl/Sling.java#L761&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12651062">SLING-2905</key>
            <summary>Providing extra properties via sling_install.properties does not work</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="chetanm">Chetan Mehrotra</reporter>
                        <labels>
                    </labels>
                <created>Wed, 5 Jun 2013 09:24:10 +0000</created>
                <updated>Fri, 14 Apr 2023 07:50:08 +0000</updated>
                            <resolved>Fri, 14 Apr 2023 07:50:08 +0000</resolved>
                                    <version> Launchpad Base 2.2.0</version>
                                                    <component>Launchpad</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13675739" author="bdelacretaz" created="Wed, 5 Jun 2013 09:27:59 +0000"  >&lt;p&gt;Can&apos;t you use fragment bundles instead of adding bootdelegation entries? &lt;/p&gt;

&lt;p&gt;This doesn&apos;t make this issue invalid of course, but it&apos;s usually cleaner.&lt;/p&gt;</comment>
                            <comment id="13675747" author="chetanm" created="Wed, 5 Jun 2013 09:38:23 +0000"  >&lt;p&gt;Not sure if fragment bundles can be used to add bootdelegation entries. I can go that route if required. However for doing some POC and investigation I need to modify the bootdelegation list temporarily and also need to restart Sling from scratch to see the result. Hence was looking for a way to use the sling include feature. For now the system property approach works fine for me.&lt;/p&gt;

&lt;p&gt;However this feature would be useful for me in some other scenarios also when I need to provide some extra system properties which are to be used in first startup itself.&lt;/p&gt;
</comment>
                            <comment id="13675753" author="bdelacretaz" created="Wed, 5 Jun 2013 09:44:22 +0000"  >&lt;p&gt;Forgot to mention that we have a few framework extension bundles under &lt;a href=&quot;https://svn.apache.org/repos/asf/sling/trunk/bundles/extensions&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/repos/asf/sling/trunk/bundles/extensions&lt;/a&gt; , that you could use as examples.&lt;/p&gt;</comment>
                            <comment id="13675760" author="chetanm" created="Wed, 5 Jun 2013 09:50:27 +0000"  >&lt;p&gt;Patch to fix the issue. The key is now only removed if the included file is actually found. It takes care of key referring to multiple files also&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12586282" name="SLING-2905.patch" size="3057" author="chetanm" created="Wed, 5 Jun 2013 09:50:27 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>331388</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 22 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1l653:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>331720</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2903] launchpad/testing TestSuite fails with JUnit 4 tests</title>
                <link>https://issues.apache.org/jira/browse/SLING-2903</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I changed the ServerSideScriptsTest to JUnit 4 style yesterday and failed to notice that this breaks the launchpad/testing test suite:&lt;/p&gt;

&lt;p&gt;junit.framework.AssertionFailedError: org.apache.sling.launchpad.webapp.integrationtest.ServerSideScriptsTest.ScriptableTest does not extend TestCase&lt;br/&gt;
	at junit.framework.Assert.fail(Assert.java:50)&lt;br/&gt;
...&lt;br/&gt;
	at junit.framework.TestSuite.runTest(TestSuite.java:243)&lt;br/&gt;
	at org.apache.sling.launchpad.testing.LoggingSuite.runTest(LoggingSuite.java:77)&lt;br/&gt;
	at junit.framework.TestSuite.run(TestSuite.java:238)&lt;br/&gt;
	at org.apache.sling.launchpad.testing.LoggingSuite.run(LoggingSuite.java:65)&lt;br/&gt;
...&lt;/p&gt;</description>
                <environment></environment>
        <key id="12651052">SLING-2903</key>
            <summary>launchpad/testing TestSuite fails with JUnit 4 tests</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Wed, 5 Jun 2013 08:19:06 +0000</created>
                <updated>Wed, 7 Jun 2017 08:27:16 +0000</updated>
                            <resolved>Wed, 7 Jun 2017 08:27:16 +0000</resolved>
                                                    <fixVersion>Launchpad Testing 10</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13675723" author="bdelacretaz" created="Wed, 5 Jun 2013 09:00:54 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;http://svn.apache.org/r1489749&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1489749&lt;/a&gt; using a JUnit4TestAdapter&lt;/p&gt;</comment>
                            <comment id="13702072" author="rombert" created="Mon, 8 Jul 2013 15:43:00 +0000"  >&lt;p&gt;This seems to still happen in Jenkins, see &lt;a href=&quot;https://builds.apache.org/view/S-Z/view/Sling/job/sling-trunk-1.6/1720/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/view/S-Z/view/Sling/job/sling-trunk-1.6/1720/console&lt;/a&gt; .&lt;/p&gt;</comment>
                            <comment id="13702505" author="rombert" created="Mon, 8 Jul 2013 21:58:01 +0000"  >&lt;p&gt;The failure I mentioned above was rooted in the launchpad/testing-war directory. I&apos;ve applied a similar fix to launchpad/testing-war in  &lt;a href=&quot;http://svn.apache.org/r1500984&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1500984&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="15050531" author="bdelacretaz" created="Thu, 10 Dec 2015 10:22:14 +0000"  >&lt;p&gt;Unassigning tickets on which I&apos;m not currently working&lt;/p&gt;</comment>
                            <comment id="16040494" author="rombert" created="Wed, 7 Jun 2017 08:27:16 +0000"  >&lt;p&gt;This is no longer an issue&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12462675">SLING-1495</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>331378</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 21 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1l62v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>331710</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2902] Post processor cache is not updated when a post processor is unbound</title>
                <link>https://issues.apache.org/jira/browse/SLING-2902</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;In addition to the list of post processors, the post servlet has a cache of these processors and the cache is used during request processing.&lt;br/&gt;
While the cache is updated during binding a processor, it is not updated during unbind&lt;/p&gt;</description>
                <environment></environment>
        <key id="12651049">SLING-2902</key>
            <summary>Post processor cache is not updated when a post processor is unbound</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Wed, 5 Jun 2013 08:07:55 +0000</created>
                <updated>Thu, 18 Jul 2013 07:55:38 +0000</updated>
                            <resolved>Wed, 5 Jun 2013 09:21:47 +0000</resolved>
                                    <version>Servlets Post 2.3.0</version>
                                    <fixVersion>Servlets Post 2.3.2</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13675733" author="cziegeler" created="Wed, 5 Jun 2013 09:21:47 +0000"  >&lt;p&gt;Fixed in revision 1489764 as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2904&quot; title=&quot;Simplify handling of multiple references (post processors, node name generators, post operations)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2904&quot;&gt;&lt;del&gt;SLING-2904&lt;/del&gt;&lt;/a&gt;. The whole handling of post processors is now simplified&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>331375</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 22 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1l627:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>331707</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2898] Failed integration tests for the new Resource Access Tags</title>
                <link>https://issues.apache.org/jira/browse/SLING-2898</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The org.apache.sling.launchpad.webapp.integrationtest.scripting.SlingJSPTaglibTest.testTaglib test fails with 2 different errors:&lt;/p&gt;

&lt;p&gt;1. mkdir(&lt;a href=&quot;http://localhost:59005/apps/integration-test/taglib-test&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:59005/apps/integration-test/taglib-test&lt;/a&gt;) failed, status code=409&lt;/p&gt;

&lt;p&gt;   &amp;#8211; this happens when the tests don&apos;t run in a specific order.  Some of the parent folders don&apos;t exist yet, so it reports an error.  Changing the code to use testClient.mkdirs(..) intstead of testClient.mkdir(..) seems to resolve this issue.&lt;/p&gt;

&lt;p&gt;2. java.lang.IllegalAccessException: Class javax.el.BeanELResolver can not access a member of class org.apache.sling.jcr.resource.internal.helper.jcr.JcrItemResource with modifiers &quot;public&quot;&lt;/p&gt;

&lt;p&gt;  &amp;#8211; this happens because the EL implementation uses reflection to retrieve the getPath method for the JcrNodeResource class.  However the declaring class for the method (JcrItemResource) was not declared as public, so the reflection code could not read it.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12650532">SLING-2898</key>
            <summary>Failed integration tests for the new Resource Access Tags</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="enorman">Eric Norman</assignee>
                                    <reporter username="enorman">Eric Norman</reporter>
                        <labels>
                    </labels>
                <created>Sun, 2 Jun 2013 20:54:09 +0000</created>
                <updated>Fri, 20 Sep 2019 11:34:35 +0000</updated>
                            <resolved>Sun, 2 Jun 2013 20:56:23 +0000</resolved>
                                    <version>Launchpad Testing 10</version>
                                    <fixVersion>Launchpad Testing 10</fixVersion>
                    <fixVersion>JCR Resource 2.3.0</fixVersion>
                                    <component>API</component>
                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13672675" author="enorman" created="Sun, 2 Jun 2013 20:56:23 +0000"  >&lt;p&gt;fixed in revision 1488784.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>330859</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 22 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1l2vz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>331192</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2896] Job might be executed twice if a topology event occurs</title>
                <link>https://issues.apache.org/jira/browse/SLING-2896</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If a parallel queue is used (either parallel or round robing) with a limit of N parallel jobs and there are X &amp;gt; N jobs in the queue, the (N+1) job might get processed twice if a topology change occurs:&lt;/p&gt;

&lt;p&gt;Assume we have a parallel queue with max parallel processing set to 8 and 15 jobs entering the queue.&lt;br/&gt;
The AbstractParallelJobQueue.start is called with the first 8 jobs - all fine, limit is not yet hit, those jobs are started&lt;br/&gt;
When AbstractParallelJobQueue.start is called with job #9 the acquireSlot() method waits, since the queue is full/busy: The waiting is done in acquireSlot(), in the syncLock.wait() (line 78 of AbstractParallelJobQueue). The calling method - start(JobHandler) - keeps a reference to job #9 !&lt;/p&gt;

&lt;p&gt;In the meantime a TopologyEvent occurs. AFAICS this triggers &apos;outdating&apos; the existing and recreating a new queue.&lt;/p&gt;

&lt;p&gt;The BackgroundLoader.loadJobsInTheBackground starts filling the new queue.&lt;br/&gt;
    Unfortunatelly, this Backgroundloader schedules job #9 too - since it is not yet marked in the repository in any way (there&apos;s only the previous queue which has a reference to it in above mentioned start(JobHandler) method - but the job #9 is not yet marked as running in the repository).&lt;br/&gt;
    =&amp;gt; Thus job #9 is executed the first time by the new queue.&lt;/p&gt;

&lt;p&gt;Eventually the outdated queue is finished with execution. The above acquireSlot() method returns, and:&lt;br/&gt;
=&amp;gt; job #9 is executed the second time (by the outdated queue).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12650495">SLING-2896</key>
            <summary>Job might be executed twice if a topology event occurs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Sun, 2 Jun 2013 08:53:47 +0000</created>
                <updated>Mon, 12 Aug 2013 11:22:52 +0000</updated>
                            <resolved>Wed, 5 Jun 2013 16:00:21 +0000</resolved>
                                    <version>Event 3.2.0</version>
                                    <fixVersion>Event 3.2.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13672350" author="cziegeler" created="Sun, 2 Jun 2013 09:28:19 +0000"  >&lt;p&gt;I&apos;ve committed a potential fix in rev 1488653&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>330822</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 22 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1l2nr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>331155</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2895] NPE in VotingHelper.getWinningVoting</title>
                <link>https://issues.apache.org/jira/browse/SLING-2895</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;On shutdown of a Felix container, I get the following stack trace:&lt;/p&gt;

&lt;p&gt;31.05.2013 13:27:29.632 &lt;b&gt;ERROR&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;pool-6-thread-4&amp;#93;&lt;/span&gt; org.apache.sling.commons.scheduler.impl.QuartzScheduler Exception during job execution of org.apache.sling.discovery.impl.common.heartbeat.HeartbeatHandler@4366e290 : null java.lang.NullPointerException&lt;br/&gt;
	at org.apache.sling.discovery.impl.cluster.voting.VotingHelper.getWinningVoting(VotingHelper.java:145)&lt;br/&gt;
	at org.apache.sling.discovery.impl.common.heartbeat.HeartbeatHandler.doCheckView(HeartbeatHandler.java:307)&lt;br/&gt;
	at org.apache.sling.discovery.impl.common.heartbeat.HeartbeatHandler.checkView(HeartbeatHandler.java:277)&lt;br/&gt;
	at org.apache.sling.discovery.impl.common.heartbeat.HeartbeatHandler.run(HeartbeatHandler.java:153)&lt;br/&gt;
	at org.apache.sling.commons.scheduler.impl.QuartzJobExecutor.execute(QuartzJobExecutor.java:56)&lt;br/&gt;
	at org.quartz.core.JobRunShell.run(JobRunShell.java:213)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:680)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12650315">SLING-2895</key>
            <summary>NPE in VotingHelper.getWinningVoting</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stefanegli">Stefan Egli</assignee>
                                    <reporter username="dpfister">Dominique Pfister</reporter>
                        <labels>
                    </labels>
                <created>Fri, 31 May 2013 11:34:42 +0000</created>
                <updated>Thu, 12 Nov 2015 11:38:18 +0000</updated>
                            <resolved>Mon, 3 Jun 2013 14:39:12 +0000</resolved>
                                    <version>Discovery Impl 1.0.0</version>
                                    <fixVersion>Discovery Impl 1.0.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13673159" author="egli" created="Mon, 3 Jun 2013 14:39:12 +0000"  >&lt;p&gt;fixed. Not issuing heartbeats anymore after deactivation&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>330642</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 22 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1l1jz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>330976</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2894] ResourceUtil.getOrCreateResource doesn&apos;t commit changes if an intermediate exception occurs</title>
                <link>https://issues.apache.org/jira/browse/SLING-2894</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If an exception occurs during resource creation, creation is retried but never committed&lt;/p&gt;</description>
                <environment></environment>
        <key id="12650269">SLING-2894</key>
            <summary>ResourceUtil.getOrCreateResource doesn&apos;t commit changes if an intermediate exception occurs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Fri, 31 May 2013 03:49:07 +0000</created>
                <updated>Fri, 24 Jan 2014 16:23:01 +0000</updated>
                            <resolved>Fri, 31 May 2013 03:52:10 +0000</resolved>
                                    <version>API 2.4.2</version>
                                    <fixVersion>API 2.5.0</fixVersion>
                                    <component>API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>330596</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 22 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1l19r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>330930</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2891] java.util.Locale requires sun.util.locale.BaseLocale with Oracle java 7</title>
                <link>https://issues.apache.org/jira/browse/SLING-2891</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When trying to instantiate the &lt;tt&gt;java.util.Locale&lt;/tt&gt; using the 2-args ctor from a JSP, the compilation fails:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Unable to compile class for JSP: An error occurred at line: 2 in the jsp file: /apps/test/test.jsp The type sun.util.locale.LocaleExtensions cannot be resolved. It is indirectly referenced from required .class files 1: &amp;lt;% 2: java.util.Locale loc = new java.util.Locale(&quot;en&quot;, &quot;us&quot;); 3: 4: %&amp;gt; 5: An error occurred at line: 2 in the jsp file: /apps/test/test.jsp The type sun.util.locale.BaseLocale cannot be resolved. It is indirectly referenced from required .class files 1: &amp;lt;% 2: java.util.Locale loc = new java.util.Locale(&quot;en&quot;, &quot;us&quot;); 3: 4: %&amp;gt; 5: (500)
The requested URL /content/test.html resulted in an error in /apps/test/test.jsp.
Exception:
org.apache.sling.scripting.jsp.jasper.JasperException: Unable to compile class for JSP:
An error occurred at line: 2 in the jsp file: /apps/test/test.jsp
The type sun.util.locale.LocaleExtensions cannot be resolved. It is indirectly referenced from required .class files
1: &amp;lt;%
2: java.util.Locale loc = new java.util.Locale(&quot;en&quot;, &quot;us&quot;);
3: 
4: %&amp;gt;
5:
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Same code compiles with earlier jdk versions.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12649938">SLING-2891</key>
            <summary>java.util.Locale requires sun.util.locale.BaseLocale with Oracle java 7</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="simone.tripodi">Simone Tripodi</reporter>
                        <labels>
                    </labels>
                <created>Wed, 29 May 2013 14:41:15 +0000</created>
                <updated>Sat, 26 Jul 2014 17:35:29 +0000</updated>
                            <resolved>Wed, 29 May 2013 20:10:11 +0000</resolved>
                                    <version>Launchpad Base 2.5.0</version>
                                    <fixVersion>Launchpad Base 2.5.2</fixVersion>
                                    <component>Launchpad</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13669312" author="simone.tripodi" created="Wed, 29 May 2013 14:42:37 +0000"  >&lt;p&gt;Look like the &lt;tt&gt;sun.*&lt;/tt&gt; packages have to be added to the boot delegation packages. E.g. by setting the &lt;tt&gt;org.apache.sling.launcher.bootdelegation&lt;/tt&gt; Sling property in jre-1.7.properties:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.sling.launcher.bootdelegation=sun.*,com.sun.*
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13669599" author="simone.tripodi" created="Wed, 29 May 2013 19:30:59 +0000"  >&lt;p&gt;The proposed patch fixes the Locale 2-args ctor issue with Java7.&lt;/p&gt;

&lt;p&gt;Please note that the launchpad-maven-plugin needs to be updated to latest launchpad-base&lt;/p&gt;</comment>
                            <comment id="13669648" author="fmeschbe" created="Wed, 29 May 2013 20:05:56 +0000"  >&lt;p&gt;Thanks for reporting the issue.&lt;/p&gt;

&lt;p&gt;Yes, I agree that adding the sun.* and com.sun.* packages to boot delegation is probably a good idea. But I think we should do that in the global properties file, not in the Java 7 related one.&lt;/p&gt;

&lt;p&gt;As for the launchpad bundle update: I don&apos;t think we should do that. The actual Launchpad Base version used building the launchpad is IIRC just the launchpad base dependency.&lt;/p&gt;</comment>
                            <comment id="13669652" author="fmeschbe" created="Wed, 29 May 2013 20:10:11 +0000"  >&lt;p&gt;Replaced the existing sun.reflection boot delegation with a more general sun.* and com.sun.* boot delegation&lt;br/&gt;
in Rev. 1487628.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12585280" name="SLING-2891.patch" size="1716" author="simone.tripodi" created="Wed, 29 May 2013 19:30:59 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>330265</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 23 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1kz8f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>330599</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2890] Intermittent NullPointerException in ClassLoaderWriterImpl when running org.apache.sling.launchpad.webapp.integrationtest.servlets.resolver.errorhandler.ErrorHandlingTest</title>
                <link>https://issues.apache.org/jira/browse/SLING-2890</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I&apos;ve seen this error about 50% of the times when running the launchpad tests. The complete stack trace is&lt;/p&gt;

&lt;p&gt;org.apache.sling.api.SlingException: org.apache.sling.scripting.jsp.jasper.JasperException: Unable to compile class for JSP&lt;br/&gt;
	at org.apache.sling.scripting.jsp.jasper.servlet.JspServletWrapper.handleJspExceptionInternal(JspServletWrapper.java:691)&lt;br/&gt;
	at org.apache.sling.scripting.jsp.jasper.servlet.JspServletWrapper.handleJspException(JspServletWrapper.java:608)&lt;br/&gt;
	at org.apache.sling.scripting.jsp.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:525)&lt;br/&gt;
	at org.apache.sling.scripting.jsp.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:449)&lt;br/&gt;
	at org.apache.sling.scripting.jsp.JspScriptEngineFactory.callJsp(JspScriptEngineFactory.java:265)&lt;br/&gt;
	at org.apache.sling.scripting.jsp.JspScriptEngineFactory.access$100(JspScriptEngineFactory.java:87)&lt;br/&gt;
	at org.apache.sling.scripting.jsp.JspScriptEngineFactory$JspScriptEngine.eval(JspScriptEngineFactory.java:465)&lt;br/&gt;
	at org.apache.sling.scripting.core.impl.DefaultSlingScript.call(DefaultSlingScript.java:361)&lt;br/&gt;
	at org.apache.sling.scripting.core.impl.DefaultSlingScript.eval(DefaultSlingScript.java:171)&lt;br/&gt;
	at org.apache.sling.scripting.core.impl.DefaultSlingScript.service(DefaultSlingScript.java:463)&lt;br/&gt;
	at org.apache.sling.engine.impl.request.RequestData.service(RequestData.java:508)&lt;br/&gt;
	at org.apache.sling.engine.impl.SlingRequestProcessorImpl.processComponent(SlingRequestProcessorImpl.java:259)&lt;br/&gt;
	at org.apache.sling.engine.impl.filter.RequestSlingFilterChain.render(RequestSlingFilterChain.java:49)&lt;br/&gt;
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:64)&lt;br/&gt;
	at org.apache.sling.launchpad.testservices.filters.TestFilter.doFilter(TestFilter.java:47)&lt;br/&gt;
	at org.apache.sling.launchpad.testservices.filters.NoPropertyFilter.doFilter(NoPropertyFilter.java:25)&lt;br/&gt;
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:60)&lt;br/&gt;
	at org.apache.sling.launchpad.testservices.filters.TestFilter.doFilter(TestFilter.java:47)&lt;br/&gt;
	at org.apache.sling.launchpad.testservices.filters.SlingFilter.doFilter(SlingFilter.java:25)&lt;br/&gt;
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:60)&lt;br/&gt;
	at org.apache.sling.engine.impl.debug.RequestProgressTrackerLogFilter.doFilter(RequestProgressTrackerLogFilter.java:64)&lt;br/&gt;
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:60)&lt;br/&gt;
	at org.apache.sling.engine.impl.SlingRequestProcessorImpl.processRequest(SlingRequestProcessorImpl.java:151)&lt;br/&gt;
	at org.apache.sling.engine.impl.SlingMainServlet.service(SlingMainServlet.java:206)&lt;br/&gt;
	at org.apache.felix.http.base.internal.handler.ServletHandler.doHandle(ServletHandler.java:96)&lt;br/&gt;
	at org.apache.felix.http.base.internal.handler.ServletHandler.handle(ServletHandler.java:79)&lt;br/&gt;
	at org.apache.felix.http.base.internal.dispatch.ServletPipeline.handle(ServletPipeline.java:42)&lt;br/&gt;
	at org.apache.felix.http.base.internal.dispatch.InvocationFilterChain.doFilter(InvocationFilterChain.java:49)&lt;br/&gt;
	at org.apache.felix.http.base.internal.dispatch.HttpFilterChain.doFilter(HttpFilterChain.java:33)&lt;br/&gt;
	at org.apache.sling.launchpad.testservices.filters.TestFilter.doFilter(TestFilter.java:47)&lt;br/&gt;
	at org.apache.sling.launchpad.testservices.filters.HttpServiceExtFilter.doFilter(HttpServiceExtFilter.java:27)&lt;br/&gt;
	at org.apache.felix.http.base.internal.handler.FilterHandler.doHandle(FilterHandler.java:88)&lt;br/&gt;
	at org.apache.felix.http.base.internal.handler.FilterHandler.handle(FilterHandler.java:76)&lt;br/&gt;
	at org.apache.felix.http.base.internal.dispatch.InvocationFilterChain.doFilter(InvocationFilterChain.java:47)&lt;br/&gt;
	at org.apache.felix.http.base.internal.dispatch.HttpFilterChain.doFilter(HttpFilterChain.java:33)&lt;br/&gt;
	at org.apache.sling.engine.impl.log.RequestLoggerFilter.doFilter(RequestLoggerFilter.java:75)&lt;br/&gt;
	at org.apache.felix.http.base.internal.handler.FilterHandler.doHandle(FilterHandler.java:88)&lt;br/&gt;
	at org.apache.felix.http.base.internal.handler.FilterHandler.handle(FilterHandler.java:76)&lt;br/&gt;
	at org.apache.felix.http.base.internal.dispatch.InvocationFilterChain.doFilter(InvocationFilterChain.java:47)&lt;br/&gt;
	at org.apache.felix.http.base.internal.dispatch.HttpFilterChain.doFilter(HttpFilterChain.java:33)&lt;br/&gt;
	at org.apache.felix.http.base.internal.dispatch.FilterPipeline.dispatch(FilterPipeline.java:48)&lt;br/&gt;
	at org.apache.felix.http.base.internal.dispatch.Dispatcher.dispatch(Dispatcher.java:39)&lt;br/&gt;
	at org.apache.felix.http.base.internal.DispatcherServlet.service(DispatcherServlet.java:67)&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)&lt;br/&gt;
	at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)&lt;br/&gt;
	at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:390)&lt;br/&gt;
	at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)&lt;br/&gt;
	at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)&lt;br/&gt;
	at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)&lt;br/&gt;
	at org.mortbay.jetty.Server.handle(Server.java:326)&lt;br/&gt;
	at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)&lt;br/&gt;
	at org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:926)&lt;br/&gt;
	at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:549)&lt;br/&gt;
	at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)&lt;br/&gt;
	at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)&lt;br/&gt;
	at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:410)&lt;br/&gt;
	at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)&lt;br/&gt;
Caused by: java.lang.NullPointerException: Specified service reference cannot be null.&lt;br/&gt;
	at org.apache.felix.framework.BundleContextImpl.getService(BundleContextImpl.java:458)&lt;br/&gt;
	at org.apache.sling.jcr.classloader.internal.ClassLoaderWriterImpl.getOrCreateClassLoader(ClassLoaderWriterImpl.java:215)&lt;br/&gt;
	at org.apache.sling.jcr.classloader.internal.ClassLoaderWriterImpl.getClassLoader(ClassLoaderWriterImpl.java:523)&lt;br/&gt;
	at org.apache.sling.scripting.jsp.SlingIOProvider.getClassLoader(SlingIOProvider.java:163)&lt;br/&gt;
	at org.apache.sling.scripting.jsp.jasper.JspCompilationContext.getClassLoader(JspCompilationContext.java:134)&lt;br/&gt;
	at org.apache.sling.scripting.jsp.jasper.compiler.JDTCompiler$1.findType(JDTCompiler.java:193)&lt;br/&gt;
	at org.apache.sling.scripting.jsp.jasper.compiler.JDTCompiler$1.findType(JDTCompiler.java:178)&lt;br/&gt;
	at org.eclipse.jdt.internal.compiler.lookup.LookupEnvironment.askForType(LookupEnvironment.java:123)&lt;br/&gt;
	at org.eclipse.jdt.internal.compiler.lookup.PackageBinding.getType(PackageBinding.java:126)&lt;br/&gt;
	at org.eclipse.jdt.internal.compiler.lookup.Scope.findType(Scope.java:1327)&lt;br/&gt;
	at org.eclipse.jdt.internal.compiler.lookup.Scope.getTypeOrPackage(Scope.java:2351)&lt;br/&gt;
	at org.eclipse.jdt.internal.compiler.lookup.Scope.getType(Scope.java:2074)&lt;br/&gt;
	at org.eclipse.jdt.internal.compiler.ast.SingleTypeReference.getTypeBinding(SingleTypeReference.java:44)&lt;br/&gt;
	at org.eclipse.jdt.internal.compiler.ast.TypeReference.resolveType(TypeReference.java:130)&lt;br/&gt;
	at org.eclipse.jdt.internal.compiler.ast.LocalDeclaration.resolve(LocalDeclaration.java:138)&lt;br/&gt;
	at org.eclipse.jdt.internal.compiler.ast.AbstractMethodDeclaration.resolveStatements(AbstractMethodDeclaration.java:432)&lt;br/&gt;
	at org.eclipse.jdt.internal.compiler.ast.MethodDeclaration.resolveStatements(MethodDeclaration.java:190)&lt;br/&gt;
	at org.eclipse.jdt.internal.compiler.ast.AbstractMethodDeclaration.resolve(AbstractMethodDeclaration.java:403)&lt;br/&gt;
	at org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve(TypeDeclaration.java:1047)&lt;br/&gt;
	at org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve(TypeDeclaration.java:1094)&lt;br/&gt;
	at org.eclipse.jdt.internal.compiler.ast.CompilationUnitDeclaration.resolve(CompilationUnitDeclaration.java:353)&lt;br/&gt;
	at org.eclipse.jdt.internal.compiler.Compiler.process(Compiler.java:596)&lt;br/&gt;
	at org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:411)&lt;br/&gt;
	at org.apache.sling.scripting.jsp.jasper.compiler.JDTCompiler.generateClass(JDTCompiler.java:412)&lt;br/&gt;
	at org.apache.sling.scripting.jsp.jasper.compiler.Compiler.compile(Compiler.java:312)&lt;br/&gt;
	at org.apache.sling.scripting.jsp.jasper.compiler.Compiler.compile(Compiler.java:290)&lt;br/&gt;
	at org.apache.sling.scripting.jsp.jasper.compiler.Compiler.compile(Compiler.java:277)&lt;br/&gt;
	at org.apache.sling.scripting.jsp.jasper.JspCompilationContext.compile(JspCompilationContext.java:501)&lt;br/&gt;
	at org.apache.sling.scripting.jsp.jasper.servlet.JspServletWrapper.prepareServlet(JspServletWrapper.java:427)&lt;br/&gt;
	at org.apache.sling.scripting.jsp.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:486)&lt;br/&gt;
	... 54 more&lt;/p&gt;

&lt;p&gt;By looking at the code I noticed that access to the dynamicClassLoaderManager field is synchronized some of the time, but not in the bindDynamicClassLoaderManager and unbindDynamicClassLoaderManager methods. However, making them synchronized does not solve the problem.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12649898">SLING-2890</key>
            <summary>Intermittent NullPointerException in ClassLoaderWriterImpl when running org.apache.sling.launchpad.webapp.integrationtest.servlets.resolver.errorhandler.ErrorHandlingTest</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                            <label>sling-IT</label>
                    </labels>
                <created>Wed, 29 May 2013 12:32:26 +0000</created>
                <updated>Mon, 19 Dec 2016 11:38:58 +0000</updated>
                            <resolved>Mon, 19 Dec 2016 11:38:57 +0000</resolved>
                                    <version>JCR Classloader 3.1.12</version>
                                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15760938" author="rombert" created="Mon, 19 Dec 2016 11:38:57 +0000"  >&lt;p&gt;Considering fixed, did not fail since we moved to per-module jobs.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>330225</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 45 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1kyzj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>330559</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2889] StartupManager.getTimeStampOfClass always returns selfStamp argument</title>
                <link>https://issues.apache.org/jira/browse/SLING-2889</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;There&apos;s a wrong assignement in that method, I&apos;ll commit a fix + test&lt;/p&gt;</description>
                <environment></environment>
        <key id="12649729">SLING-2889</key>
            <summary>StartupManager.getTimeStampOfClass always returns selfStamp argument</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 May 2013 15:43:38 +0000</created>
                <updated>Sat, 26 Jul 2014 17:35:28 +0000</updated>
                            <resolved>Tue, 28 May 2013 15:46:57 +0000</resolved>
                                    <version>Launchpad Base 2.5.0</version>
                                    <fixVersion>Launchpad Base 2.5.2</fixVersion>
                                    <component>Launchpad</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13668382" author="bdelacretaz" created="Tue, 28 May 2013 15:46:57 +0000"  >&lt;p&gt;Fix committed in &lt;a href=&quot;http://svn.apache.org/r1486973&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1486973&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>330056</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 23 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1kxy7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>330391</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2888] Downgrade SCR to 1.6.0</title>
                <link>https://issues.apache.org/jira/browse/SLING-2888</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The SlingPostServlet is broken by changes in SCR 1.6.2. The Felix issue is &lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-3754&quot; title=&quot;Services registered from within the activate method may not be bound&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-3754&quot;&gt;&lt;del&gt;FELIX-3754&lt;/del&gt;&lt;/a&gt; , which is fixed in SCR 1.8.0 . Until 1.8.0 is released, we must downgrade to SCR 1.6.0.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12649723">SLING-2888</key>
            <summary>Downgrade SCR to 1.6.0</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 May 2013 15:03:35 +0000</created>
                <updated>Wed, 20 Sep 2017 12:18:36 +0000</updated>
                            <resolved>Tue, 28 May 2013 15:08:40 +0000</resolved>
                                    <version>Launchpad Builder 6</version>
                                    <fixVersion>Launchpad Builder 7</fixVersion>
                                    <component>Launchpad</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13668357" author="rombert" created="Tue, 28 May 2013 15:08:53 +0000"  >&lt;p&gt;Fixed in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1486953&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1486953&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12648654">SLING-2876</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>330050</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 23 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1kxwv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>330385</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2885] Race condition in VotingHandler.promote()</title>
                <link>https://issues.apache.org/jira/browse/SLING-2885</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Sometimes on initial startup of Sling Discovery it happens that two threads try to promote the same winning vote at the same time. This leads to a failed commit in the repository. The system seems to be OK after the exception. There is an established view and the (single) cluster node is the leader.&lt;/p&gt;

&lt;p&gt;Please note, this is running on Jackrabbit Oak, but might also happen on Jackrabbit 2.x because the basic issue is two sessions trying to add the same child node.&lt;/p&gt;

&lt;p&gt;See attached log excerpt for more details.&lt;/p&gt;</description>
                <environment>Discovery Impl version: 0.1.0.R1484784</environment>
        <key id="12649531">SLING-2885</key>
            <summary>Race condition in VotingHandler.promote()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stefanegli">Stefan Egli</assignee>
                                    <reporter username="mreutegg">Marcel Reutegger</reporter>
                        <labels>
                    </labels>
                <created>Mon, 27 May 2013 09:08:30 +0000</created>
                <updated>Thu, 12 Nov 2015 11:38:18 +0000</updated>
                            <resolved>Mon, 27 May 2013 12:15:07 +0000</resolved>
                                    <version>Discovery Impl 1.0.0</version>
                                    <fixVersion>Discovery Impl 1.0.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13667644" author="mreutegg" created="Mon, 27 May 2013 09:09:25 +0000"  >&lt;p&gt;error.log with debug messages for VotingHandler.&lt;/p&gt;</comment>
                            <comment id="13667718" author="egli" created="Mon, 27 May 2013 12:15:07 +0000"  >&lt;p&gt;fixed. synchronizing VotingHandler.analyzeVotings as it can be called concurrencly&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12584905" name="error.log" size="11316" author="mreutegg" created="Mon, 27 May 2013 09:09:25 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>329858</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 23 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1kwq7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>330193</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2883] deal with - eg encode - &quot;/&quot; in property names (was: proper encode properties - and filter anything like jcr:created...)</title>
                <link>https://issues.apache.org/jira/browse/SLING-2883</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;properties provided by PropertyProviders in discovery.impl are currently handed 1:1 as name (key) to jcr/repository. This will not work for special characters. A proper encoding must be implemented.&lt;/p&gt;

&lt;p&gt;Similarly, any jcr name including &apos;:&apos; (eg &apos;jcr:created&apos; etc) must not be treated as a property and not be made visible to the users of the discovery.api - the filter done as a hotfix in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2880&quot; title=&quot;ignore properties that contain &amp;#39;:&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2880&quot;&gt;&lt;del&gt;SLING-2880&lt;/del&gt;&lt;/a&gt; is not sufficient.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12649295">SLING-2883</key>
            <summary>deal with - eg encode - &quot;/&quot; in property names (was: proper encode properties - and filter anything like jcr:created...)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stefanegli">Stefan Egli</assignee>
                                    <reporter username="stefanegli">Stefan Egli</reporter>
                        <labels>
                    </labels>
                <created>Fri, 24 May 2013 10:39:16 +0000</created>
                <updated>Thu, 12 Nov 2015 11:38:19 +0000</updated>
                            <resolved>Mon, 27 May 2013 12:08:13 +0000</resolved>
                                    <version>Discovery Impl 1.0.0</version>
                                    <fixVersion>Discovery Impl 1.0.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13666251" author="cziegeler" created="Fri, 24 May 2013 12:22:01 +0000"  >&lt;p&gt;The resource implementation should already encode all illegal characters - the only exception I know is a slash. And if key should contain a &quot;:&quot; or maybe start with &quot;jcr:...&quot; - you never know what users are using&lt;/p&gt;</comment>
                            <comment id="13666270" author="egli" created="Fri, 24 May 2013 12:55:19 +0000"  >&lt;p&gt;Good to know! I confirmed this: using a &quot;:&quot; gets properly encoded - a &quot;/&quot; though causes troubles. So we should deal with &quot;/&quot; in some way. Filtering &quot;jcr:created&quot; and &quot;jcr:createdBy&quot; (which are now newly showing up since it&apos;s now a sling:Folder since &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2879&quot; title=&quot;Avoid concurrency issues in a cluster by using ResourceUtil.getOrCreateResource&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2879&quot;&gt;&lt;del&gt;SLING-2879&lt;/del&gt;&lt;/a&gt; - vs an nt:unstructured before) is not critical IMO.&lt;/p&gt;</comment>
                            <comment id="13667682" author="egli" created="Mon, 27 May 2013 10:27:37 +0000"  >&lt;p&gt;PropertyProvider.PROPERTY_PROPERTIES already states that  &lt;br/&gt;
  &quot;A property name must only contain alphanumeric characters plus ., _, -.&quot;&lt;/p&gt;

&lt;p&gt;Hence there&apos;s no need to handle anything else indeed.&lt;/p&gt;

&lt;p&gt;Except what is better is to filter out any invalid properties (at bindPropertyProvider time) and issue a warn instead. Plus dont deliver &apos;jcr:created&apos; and &apos;jcr:createdBy&apos; in the InstanceDescription property getters..&lt;/p&gt;</comment>
                            <comment id="13667714" author="egli" created="Mon, 27 May 2013 12:08:13 +0000"  >&lt;p&gt;fixed by filtering for: name.matches(&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;a-zA-Z0-9._-&amp;#93;&lt;/span&gt;+&quot;);&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12649123">SLING-2880</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12649077">SLING-2879</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>329622</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 23 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1kv9r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>329957</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2882] too much logging of discovery.impl connector with connection errors</title>
                <link>https://issues.apache.org/jira/browse/SLING-2882</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;A topology connector (in the discovery.impl) will be pinged every heartbeat interval. If the connector cannot successfully connect - for example because the URL points to nowhere - there are log.warns issued. These loggings occur too often and should be reduced after a while.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12649271">SLING-2882</key>
            <summary>too much logging of discovery.impl connector with connection errors</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stefanegli">Stefan Egli</assignee>
                                    <reporter username="stefanegli">Stefan Egli</reporter>
                        <labels>
                    </labels>
                <created>Fri, 24 May 2013 07:36:18 +0000</created>
                <updated>Thu, 12 Nov 2015 11:38:17 +0000</updated>
                            <resolved>Mon, 27 May 2013 12:34:34 +0000</resolved>
                                    <version>Discovery Impl 1.0.0</version>
                                    <fixVersion>Discovery Impl 1.0.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13667727" author="egli" created="Mon, 27 May 2013 12:34:34 +0000"  >&lt;p&gt;fixed. only showing the first unsuccessful connection attempt (after a successful one) as a WARN - suppressing subsequent exceptions (and logging those only at DEBUG)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>329598</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 23 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1kv4f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>329933</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2881] [I18N][Performance] JcrResourceBundleProvider clears the cache on mix:language changes</title>
                <link>https://issues.apache.org/jira/browse/SLING-2881</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Performance of an appplication using Sling i18n JcrResourceBundleProvider suffers drastically if nodes with mixin type mix:language are modified frequently.&lt;/p&gt;

&lt;p&gt;The reason for the performance degradation is that JcrResourceBundleProvider registers a JCR event listener for node types: mix:language and sling:Message. It then clears the i18n resource bundle cache whenever a node with these types appears in an event.&lt;/p&gt;

&lt;p&gt;The JCR 2.0 spec indicates applications should use a mix:language type as the standard way to provide a property specifying the natural language which the content of a  node is expressed.&lt;/p&gt;

&lt;p&gt;Therefore clearing the resource bundle cache on a change to &lt;b&gt;any&lt;/b&gt; node with a mix:language type is inappropriately broad.&lt;/p&gt;
</description>
                <environment>CQ5.6</environment>
        <key id="12649167">SLING-2881</key>
            <summary>[I18N][Performance] JcrResourceBundleProvider clears the cache on mix:language changes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="rryan@adobe.com">Rob Ryan</reporter>
                        <labels>
                            <label>performance</label>
                    </labels>
                <created>Thu, 23 May 2013 18:58:07 +0000</created>
                <updated>Sat, 8 Mar 2014 16:19:05 +0000</updated>
                            <resolved>Fri, 24 Jan 2014 09:05:47 +0000</resolved>
                                    <version>i18n 2.2.4</version>
                                    <fixVersion>i18n 2.2.8</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13666162" author="alexander.klimetschek" created="Fri, 24 May 2013 09:37:23 +0000"  >&lt;p&gt;I think listening for sling:Message should be enough. But... mix:language modifications are probably necessary to catch changing the language of a dictionary (which I can imagine happens when you create/copy a dictionary, and then change the language to the &quot;new&quot; one).&lt;/p&gt;

&lt;p&gt;Maybe we have two event listeners:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;sling:Message modification =&amp;gt; full reload&lt;/li&gt;
	&lt;li&gt;mix:language modification =&amp;gt; quick check if path is already covered in a cached dictionary and only reload (everything) in this case; if it&apos;s a new dictionary and has no strings yet (= no sling:message), we don&apos;t have to care, and as soon as a string is added, you get the sling:Message event above&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13851197" author="tripod" created="Wed, 18 Dec 2013 00:59:29 +0000"  >&lt;p&gt;proposed patch that implements alex&apos;s suggestion.&lt;/p&gt;

&lt;p&gt;however, it might be better to not go this way and implement the new dictionary approach as discussed on the list: &lt;a href=&quot;http://www.mail-archive.com/dev@sling.apache.org/msg25686.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.mail-archive.com/dev@sling.apache.org/msg25686.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13880840" author="fmeschbe" created="Fri, 24 Jan 2014 09:05:47 +0000"  >&lt;p&gt;Thanks for providing the patch. I have applied it in Rev. 1560925 along with these additions:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Completely disabled the integration test due to unavailability of the pax test support (as well as the launchpad snapshot reference)&lt;/li&gt;
	&lt;li&gt;Updated requirement to Java 6 due to use of Collections.newSetFromMap&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12619210" name="sling-2881.r1551665.patch" size="21520" author="tripod" created="Wed, 18 Dec 2013 00:59:29 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>329494</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 40 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1kuhb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>329829</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2880] ignore properties that contain &apos;:&apos;</title>
                <link>https://issues.apache.org/jira/browse/SLING-2880</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;In DiscoveryServiceImpl.doUpdateProperties filter any properties that contain &apos;:&apos; instead of just &apos;jcr:primaryType&apos;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12649123">SLING-2880</key>
            <summary>ignore properties that contain &apos;:&apos;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stefanegli">Stefan Egli</assignee>
                                    <reporter username="stefanegli">Stefan Egli</reporter>
                        <labels>
                    </labels>
                <created>Thu, 23 May 2013 14:43:19 +0000</created>
                <updated>Thu, 12 Nov 2015 11:38:18 +0000</updated>
                            <resolved>Thu, 23 May 2013 16:08:59 +0000</resolved>
                                    <version>Discovery Impl 1.0.0</version>
                                    <fixVersion>Discovery Impl 1.0.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13665301" author="egli" created="Thu, 23 May 2013 16:08:59 +0000"  >&lt;p&gt;fixed.&lt;/p&gt;</comment>
                            <comment id="13665374" author="egli" created="Thu, 23 May 2013 17:17:48 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2880&quot; title=&quot;ignore properties that contain &amp;#39;:&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2880&quot;&gt;&lt;del&gt;SLING-2880&lt;/del&gt;&lt;/a&gt; is a follow-up bug of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2879&quot; title=&quot;Avoid concurrency issues in a cluster by using ResourceUtil.getOrCreateResource&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2879&quot;&gt;&lt;del&gt;SLING-2879&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12649295">SLING-2883</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12649077">SLING-2879</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>329450</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ku7j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>329785</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2879] Avoid concurrency issues in a cluster by using ResourceUtil.getOrCreateResource</title>
                <link>https://issues.apache.org/jira/browse/SLING-2879</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;org.apache.sling.discovery.impl.common.resource.ResourceHelper.getOrCreateResource/createResource use own code to create a resource. This code is not as stable/fault-tolerant as the ResourceUtil.getOrCreateResource. The latter deals with situations where the underlying repository throws stale item exceptions and such. The ResourceHelper should use ResourceUtil.getOrCreateResource and not reinvent it.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12649077">SLING-2879</key>
            <summary>Avoid concurrency issues in a cluster by using ResourceUtil.getOrCreateResource</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stefanegli">Stefan Egli</assignee>
                                    <reporter username="stefanegli">Stefan Egli</reporter>
                        <labels>
                    </labels>
                <created>Thu, 23 May 2013 09:42:36 +0000</created>
                <updated>Thu, 12 Nov 2015 11:38:18 +0000</updated>
                            <resolved>Thu, 23 May 2013 11:31:52 +0000</resolved>
                                    <version>Discovery Impl 1.0.0</version>
                                    <fixVersion>Discovery Impl 1.0.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13665083" author="egli" created="Thu, 23 May 2013 11:31:52 +0000"  >&lt;p&gt;fixed and tested using snapshot&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12649123">SLING-2880</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12649295">SLING-2883</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>329404</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ktxj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>329739</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2878] NPE in JobConsumerManager</title>
                <link>https://issues.apache.org/jira/browse/SLING-2878</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If a job consumer is bound to the manager before the manager is activate this leads to a null pointer exception later on, when the consumer is tried to be get:&lt;br/&gt;
22.05.2013 16:37:41.147 ERROR &lt;span class=&quot;error&quot;&gt;&amp;#91;Apache Sling Job Background Loader&amp;#93;&lt;/span&gt; org.apache.sling.extensions.threaddump.internal.Activator Uncaught exception in Thread Thread&lt;span class=&quot;error&quot;&gt;&amp;#91;Apache Sling Job Background Loader,5,main&amp;#93;&lt;/span&gt; java.lang.NullPointerException&lt;br/&gt;
at org.apache.sling.event.impl.jobs.JobConsumerManager$ConsumerInfo.getConsumer(JobConsumerManager.java:357)&lt;br/&gt;
at org.apache.sling.event.impl.jobs.JobConsumerManager.getConsumer(JobConsumerManager.java:172)&lt;br/&gt;
at org.apache.sling.event.impl.jobs.JobManagerImpl.process(JobManagerImpl.java:283)&lt;br/&gt;
at org.apache.sling.event.impl.jobs.BackgroundLoader.run(BackgroundLoader.java:228)&lt;br/&gt;
at java.lang.Thread.run(Unknown Source)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12649047">SLING-2878</key>
            <summary>NPE in JobConsumerManager</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Thu, 23 May 2013 06:52:55 +0000</created>
                <updated>Mon, 12 Aug 2013 11:22:51 +0000</updated>
                            <resolved>Thu, 23 May 2013 06:55:20 +0000</resolved>
                                                    <fixVersion>Event 3.2.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13664927" author="cziegeler" created="Thu, 23 May 2013 06:55:20 +0000"  >&lt;p&gt;Fixed in 1485539&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>329375</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 24 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ktrb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>329710</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2877] Regression: changes off SLING-2775 fail to set jcr:lastModified property on existing nodes</title>
                <link>https://issues.apache.org/jira/browse/SLING-2877</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Posting to an existing node with empty jcr:lastModified value does not set the date value if the property is autocreated and the node already exists. another bug is that it looks for property definitions in all NodeType subtypes (instead of the super types).&lt;/p&gt;

</description>
                <environment></environment>
        <key id="12648983">SLING-2877</key>
            <summary>Regression: changes off SLING-2775 fail to set jcr:lastModified property on existing nodes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="tripod">Tobias Bocanegra</reporter>
                        <labels>
                    </labels>
                <created>Wed, 22 May 2013 22:37:54 +0000</created>
                <updated>Thu, 18 Jul 2013 07:55:38 +0000</updated>
                            <resolved>Thu, 23 May 2013 06:16:28 +0000</resolved>
                                    <version>Servlets Post 2.2.0</version>
                                    <fixVersion>Servlets Post 2.3.2</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13664629" author="tripod" created="Wed, 22 May 2013 22:41:47 +0000"  >&lt;p&gt;another bug is, that the search for the property definition does not include the property type, but this is a detail, as non of the auto-props is ambiguous.&lt;/p&gt;</comment>
                            <comment id="13664634" author="tripod" created="Wed, 22 May 2013 22:47:52 +0000"  >&lt;p&gt;proposed patch (untested)&lt;/p&gt;</comment>
                            <comment id="13664912" author="cziegeler" created="Thu, 23 May 2013 06:16:28 +0000"  >&lt;p&gt;Thanks for your patch, Tobias - it&apos;s applied&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="12635607">SLING-2775</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12584397" name="sling_2877.r1485465.patch" size="1598" author="tripod" created="Wed, 22 May 2013 22:47:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>329312</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 24 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ktdj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>329648</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2876] Integration tests fail in large numbers following changes for SLING-2869</title>
                <link>https://issues.apache.org/jira/browse/SLING-2876</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;To minimize the time needed, I have executed mvn clean install in just the launchpad/testing module ( after rebuilding the launchpad ).&lt;/p&gt;

&lt;p&gt;Test results with current trunk at revision 1484769:&lt;/p&gt;

&lt;p&gt;Failed tests:   testModifyAceForUser(org.apache.sling.launchpad.webapp.integrationtest.accessManager.ModifyAceTest): expected:&amp;lt;200&amp;gt; but was:&amp;lt;500&amp;gt;&lt;br/&gt;
  testModifyAceForGroup(org.apache.sling.launchpad.webapp.integrationtest.accessManager.ModifyAceTest): expected:&amp;lt;200&amp;gt; but was:&amp;lt;500&amp;gt;&lt;br/&gt;
  testMergeAceForUser(org.apache.sling.launchpad.webapp.integrationtest.accessManager.ModifyAceTest): expected:&amp;lt;200&amp;gt; but was:&amp;lt;500&amp;gt;&lt;br/&gt;
  testMergeAceForUserSplitAggregatePrincipal(org.apache.sling.launchpad.webapp.integrationtest.accessManager.ModifyAceTest): expected:&amp;lt;200&amp;gt; but was:&amp;lt;500&amp;gt;&lt;br/&gt;
  testMergeAceForUserCombineAggregatePrivilege(org.apache.sling.launchpad.webapp.integrationtest.accessManager.ModifyAceTest): expected:&amp;lt;200&amp;gt; but was:&amp;lt;500&amp;gt;&lt;br/&gt;
  testMergeAceForUserDenyPrivilegeAfterGrantPrivilege(org.apache.sling.launchpad.webapp.integrationtest.accessManager.ModifyAceTest): expected:&amp;lt;200&amp;gt; but was:&amp;lt;500&amp;gt;&lt;br/&gt;
  testAddAceOrderByFirst(org.apache.sling.launchpad.webapp.integrationtest.accessManager.ModifyAceTest): expected:&amp;lt;200&amp;gt; but was:&amp;lt;500&amp;gt;&lt;br/&gt;
  testAddAceOrderByLast(org.apache.sling.launchpad.webapp.integrationtest.accessManager.ModifyAceTest): expected:&amp;lt;200&amp;gt; but was:&amp;lt;500&amp;gt;&lt;br/&gt;
  testAddAceOrderByBefore(org.apache.sling.launchpad.webapp.integrationtest.accessManager.ModifyAceTest): expected:&amp;lt;200&amp;gt; but was:&amp;lt;500&amp;gt;&lt;br/&gt;
  testAddAceOrderByAfter(org.apache.sling.launchpad.webapp.integrationtest.accessManager.ModifyAceTest): expected:&amp;lt;200&amp;gt; but was:&amp;lt;500&amp;gt;&lt;br/&gt;
  testAddAceOrderByNumeric(org.apache.sling.launchpad.webapp.integrationtest.accessManager.ModifyAceTest): expected:&amp;lt;200&amp;gt; but was:&amp;lt;500&amp;gt;&lt;br/&gt;
  testUpdateAcePreservePosition(org.apache.sling.launchpad.webapp.integrationtest.accessManager.ModifyAceTest): expected:&amp;lt;200&amp;gt; but was:&amp;lt;500&amp;gt;&lt;br/&gt;
  testModifyAceResponseAsJSON(org.apache.sling.launchpad.webapp.integrationtest.accessManager.ModifyAceTest): expected:&amp;lt;200&amp;gt; but was:&amp;lt;500&amp;gt;&lt;br/&gt;
  testDeniedWriteForUser(org.apache.sling.launchpad.webapp.integrationtest.accessManager.PrivilegesInfoTest): expected:&amp;lt;200&amp;gt; but was:&amp;lt;500&amp;gt;&lt;br/&gt;
  testGrantedWriteForUser(org.apache.sling.launchpad.webapp.integrationtest.accessManager.PrivilegesInfoTest): expected:&amp;lt;200&amp;gt; but was:&amp;lt;500&amp;gt;&lt;br/&gt;
  testDeniedWriteForGroup(org.apache.sling.launchpad.webapp.integrationtest.accessManager.PrivilegesInfoTest): expected:&amp;lt;200&amp;gt; but was:&amp;lt;500&amp;gt;&lt;br/&gt;
  testGrantedWriteForGroup(org.apache.sling.launchpad.webapp.integrationtest.accessManager.PrivilegesInfoTest): expected:&amp;lt;200&amp;gt; but was:&amp;lt;500&amp;gt;&lt;br/&gt;
  testSLING_1090(org.apache.sling.launchpad.webapp.integrationtest.accessManager.PrivilegesInfoTest): expected:&amp;lt;200&amp;gt; but was:&amp;lt;500&amp;gt;&lt;br/&gt;
  testDelete(org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletDeleteTest): Delete must return expected status (3) expected:&amp;lt;200&amp;gt; but was:&amp;lt;500&amp;gt;&lt;br/&gt;
  testDeleteMultiple(org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletDeleteTest): Delete must return expected status (3) expected:&amp;lt;200&amp;gt; but was:&amp;lt;500&amp;gt;&lt;br/&gt;
  testDeleteAllChildren(org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletDeleteTest): Delete must return expected status expected:&amp;lt;200&amp;gt; but was:&amp;lt;500&amp;gt;&lt;br/&gt;
  testDeleteAllChildrenByPath(org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletDeleteTest): Delete must return expected status expected:&amp;lt;200&amp;gt; but was:&amp;lt;500&amp;gt;&lt;br/&gt;
  testDeleteAllChildrenOfSubNode(org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletDeleteTest): Delete must return expected status expected:&amp;lt;200&amp;gt; but was:&amp;lt;500&amp;gt;&lt;br/&gt;
  testDeleteOnly(org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletAtDeleteTest): &lt;a href=&quot;http://localhost:39898/sling-tests/PostServletAtDeleteTest/1369152220354/some_value&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:39898/sling-tests/PostServletAtDeleteTest/1369152220354/some_value&lt;/a&gt; must be deleted expected:&amp;lt;200&amp;gt; but was:&amp;lt;500&amp;gt;&lt;br/&gt;
  testDeleteWithModify(org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletAtDeleteTest): &lt;a href=&quot;http://localhost:39898/sling-tests/PostServletAtDeleteTest/1369152220399/some_value&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:39898/sling-tests/PostServletAtDeleteTest/1369152220399/some_value&lt;/a&gt; must be deleted expected:&amp;lt;200&amp;gt; but was:&amp;lt;500&amp;gt;&lt;br/&gt;
  test_500_errorhandling(org.apache.sling.launchpad.webapp.integrationtest.servlets.resolver.errorhandler.ErrorHandlingTest): Content does not contain &apos;Internal Server Error (500) - custom error page&apos; (content=&amp;lt;!--(..)&lt;br/&gt;
  testCopyNodeAbsoluteBelowDest(org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletCopyTest): Expecting Copy Failure (dest must exist) expected:&amp;lt;412&amp;gt; but was:&amp;lt;500&amp;gt;&lt;br/&gt;
  testCopyNodeMultipleSourceValid(org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletCopyTest): Expecting Copy Failure: dest parent does not exist expected:&amp;lt;412&amp;gt; but was:&amp;lt;500&amp;gt;&lt;br/&gt;
  testCopyNodeMultipleSourceInValid(org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletCopyTest): Expecting Copy Failure (dest already exists) expected:&amp;lt;412&amp;gt; but was:&amp;lt;500&amp;gt;&lt;br/&gt;
  testCopyNodeMultipleSourcePartial(org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletCopyTest): Expecting Copy Failure: dest parent does not exist expected:&amp;lt;412&amp;gt; but was:&amp;lt;500&amp;gt;&lt;br/&gt;
  testCopyNodeMultipleSourceReplace(org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletCopyTest): Expecting Copy Failure: dest parent does not exist expected:&amp;lt;412&amp;gt; but was:&amp;lt;500&amp;gt;&lt;br/&gt;
  testCopyAllChildren(org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletCopyTest): Expecting Copy Success expected:&amp;lt;200&amp;gt; but was:&amp;lt;500&amp;gt;&lt;br/&gt;
  testCopyAllChildrenByPath(org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletCopyTest): Expecting Copy Success expected:&amp;lt;200&amp;gt; but was:&amp;lt;500&amp;gt;&lt;br/&gt;
  testCopyAllChildrenOfSubNode(org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletCopyTest): Expecting Copy Success expected:&amp;lt;200&amp;gt; but was:&amp;lt;500&amp;gt;&lt;br/&gt;
  testMoveNodeAbsoluteBelowDest(org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletMoveTest): Expecting Move Failure (dest must exist) expected:&amp;lt;412&amp;gt; but was:&amp;lt;500&amp;gt;&lt;br/&gt;
  testMoveNodeMultipleSourceValid(org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletMoveTest): Expecting Move Failure: dest parent does not exist expected:&amp;lt;412&amp;gt; but was:&amp;lt;500&amp;gt;&lt;br/&gt;
  testMoveNodeMultipleSourceInValid(org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletMoveTest): Expecting Move Failure (dest already exists) expected:&amp;lt;412&amp;gt; but was:&amp;lt;500&amp;gt;&lt;br/&gt;
  testMoveNodeMultipleSourcePartial(org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletMoveTest): Expecting Move Failure: dest parent does not exist expected:&amp;lt;412&amp;gt; but was:&amp;lt;500&amp;gt;&lt;br/&gt;
  testMoveNodeMultipleSourceReplace(org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletMoveTest): Expecting Move Failure: dest parent does not exist expected:&amp;lt;412&amp;gt; but was:&amp;lt;500&amp;gt;&lt;br/&gt;
  testMoveAllChildren(org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletMoveTest): Expecting Move Success expected:&amp;lt;200&amp;gt; but was:&amp;lt;500&amp;gt;&lt;br/&gt;
  testMoveAllChildrenByPath(org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletMoveTest): Expecting Move Success expected:&amp;lt;200&amp;gt; but was:&amp;lt;500&amp;gt;&lt;br/&gt;
  testMoveAllChildrenOfSubNode(org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletMoveTest): Expecting Move Success expected:&amp;lt;200&amp;gt; but was:&amp;lt;500&amp;gt;&lt;br/&gt;
  testRemoveAce(org.apache.sling.launchpad.webapp.integrationtest.accessManager.RemoveAcesTest): expected:&amp;lt;200&amp;gt; but was:&amp;lt;500&amp;gt;&lt;br/&gt;
  testRemoveAces(org.apache.sling.launchpad.webapp.integrationtest.accessManager.RemoveAcesTest): expected:&amp;lt;200&amp;gt; but was:&amp;lt;500&amp;gt;&lt;br/&gt;
  testRemoveAcesResponseAsJSON(org.apache.sling.launchpad.webapp.integrationtest.accessManager.RemoveAcesTest): expected:&amp;lt;200&amp;gt; but was:&amp;lt;500&amp;gt;&lt;br/&gt;
  testDefault(org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletNopTest): expected:&amp;lt;200&amp;gt; but was:&amp;lt;500&amp;gt;&lt;br/&gt;
  testStatus200(org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletNopTest): expected:&amp;lt;200&amp;gt; but was:&amp;lt;500&amp;gt;&lt;br/&gt;
  testStatus708(org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletNopTest): expected:&amp;lt;708&amp;gt; but was:&amp;lt;500&amp;gt;&lt;br/&gt;
  testStatus88(org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletNopTest): expected:&amp;lt;200&amp;gt; but was:&amp;lt;500&amp;gt;&lt;br/&gt;
  testStatus1234(org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletNopTest): expected:&amp;lt;200&amp;gt; but was:&amp;lt;500&amp;gt;&lt;br/&gt;
  testStatusNonNumeric(org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletNopTest): expected:&amp;lt;200&amp;gt; but was:&amp;lt;500&amp;gt;&lt;br/&gt;
  testRedirectOnPathWithExtension(org.apache.sling.launchpad.webapp.integrationtest.VanityPathTest): Could not move created node from &lt;a href=&quot;http://localhost:39898/VanityPathTest_1369152235240/101_1369152235242&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:39898/VanityPathTest_1369152235240/101_1369152235242&lt;/a&gt; expected:&amp;lt;201&amp;gt; but was:&amp;lt;500&amp;gt;&lt;/p&gt;

&lt;p&gt;Tests in error: &lt;br/&gt;
  testEffectiveAclForUser(org.apache.sling.launchpad.webapp.integrationtest.accessManager.GetAclTest): Expected status code 302 for POST, got 200, URL=&lt;a href=&quot;http://localhost:39898/sling-tests&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:39898/sling-tests&lt;/a&gt;, Content=[&amp;lt;html&amp;gt;(..)&lt;br/&gt;
  testEffectiveAclMergeForUser_ReplacePrivilegeOnChild(org.apache.sling.launchpad.webapp.integrationtest.accessManager.GetAclTest): Expected status code 302 for POST, got 200, URL=&lt;a href=&quot;http://localhost:39898/sling-tests&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:39898/sling-tests&lt;/a&gt;, Content=[&amp;lt;html&amp;gt;(..)&lt;br/&gt;
  testEffectiveAclMergeForUser_FewerPrivilegesGrantedOnChild(org.apache.sling.launchpad.webapp.integrationtest.accessManager.GetAclTest): Expected status code 302 for POST, got 200, URL=&lt;a href=&quot;http://localhost:39898/sling-tests&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:39898/sling-tests&lt;/a&gt;, Content=[&amp;lt;html&amp;gt;(..)&lt;br/&gt;
  testEffectiveAclMergeForUser_MorePrivilegesGrantedOnChild(org.apache.sling.launchpad.webapp.integrationtest.accessManager.GetAclTest): Expected status code 302 for POST, got 200, URL=&lt;a href=&quot;http://localhost:39898/sling-tests&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:39898/sling-tests&lt;/a&gt;, Content=[&amp;lt;html&amp;gt;(..)&lt;br/&gt;
  testEffectiveAclMergeForUser_SubsetOfPrivilegesDeniedOnChild(org.apache.sling.launchpad.webapp.integrationtest.accessManager.GetAclTest): Expected status code 302 for POST, got 200, URL=&lt;a href=&quot;http://localhost:39898/sling-tests&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:39898/sling-tests&lt;/a&gt;, Content=[&amp;lt;html&amp;gt;(..)&lt;br/&gt;
  testEffectiveAclMergeForUser_SubsetOfPrivilegesDeniedOnChild2(org.apache.sling.launchpad.webapp.integrationtest.accessManager.GetAclTest): Expected status code 302 for POST, got 200, URL=&lt;a href=&quot;http://localhost:39898/sling-tests&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:39898/sling-tests&lt;/a&gt;, Content=[&amp;lt;html&amp;gt;(..)&lt;br/&gt;
  testEffectiveAclMergeForUser_SupersetOfPrivilegesDeniedOnChild(org.apache.sling.launchpad.webapp.integrationtest.accessManager.GetAclTest): Expected status code 302 for POST, got 200, URL=&lt;a href=&quot;http://localhost:39898/sling-tests&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:39898/sling-tests&lt;/a&gt;, Content=[&amp;lt;html&amp;gt;(..)&lt;br/&gt;
  testEffectiveAclMergeForUser_SupersetOfPrivilegesDeniedOnChild2(org.apache.sling.launchpad.webapp.integrationtest.accessManager.GetAclTest): Expected status code 302 for POST, got 200, URL=&lt;a href=&quot;http://localhost:39898/sling-tests&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:39898/sling-tests&lt;/a&gt;, Content=[&amp;lt;html&amp;gt;(..)&lt;br/&gt;
  testImportReplace(org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletImportTest): Expected status code 302 for POST, got 200, URL=&lt;a href=&quot;http://localhost:39898/sling-import-tests&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:39898/sling-import-tests&lt;/a&gt;, Content=[&amp;lt;html&amp;gt;(..)&lt;br/&gt;
  testImportReplaceProperties(org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletImportTest): Expected status code 302 for POST, got 200, URL=&lt;a href=&quot;http://localhost:39898/sling-import-tests&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:39898/sling-import-tests&lt;/a&gt;, Content=[&amp;lt;html&amp;gt;(..)&lt;br/&gt;
  testImportCheckinNodes(org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletImportTest): Expected status code 302 for POST, got 200, URL=&lt;a href=&quot;http://localhost:39898/sling-import-tests&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:39898/sling-import-tests&lt;/a&gt;, Content=[&amp;lt;html&amp;gt;(..)&lt;br/&gt;
  testImportAutoCheckoutNodes(org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletImportTest): Expected status code 302 for POST, got 200, URL=&lt;a href=&quot;http://localhost:39898/sling-import-tests&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:39898/sling-import-tests&lt;/a&gt;, Content=[&amp;lt;html&amp;gt;(..)&lt;br/&gt;
  testImportJSONFromFile(org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletImportTest): Expected status code 302 for POST, got 200, URL=&lt;a href=&quot;http://localhost:39898/sling-import-tests&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:39898/sling-import-tests&lt;/a&gt;, Content=[&amp;lt;html&amp;gt;(..)&lt;br/&gt;
  testImportJSONFromFileWithoutOptionalName(org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletImportTest): Expected status code 302 for POST, got 200, URL=&lt;a href=&quot;http://localhost:39898/sling-import-tests&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:39898/sling-import-tests&lt;/a&gt;, Content=[&amp;lt;html&amp;gt;(..)&lt;br/&gt;
  testImportJSONFromRequestParam(org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletImportTest): Expected status code 302 for POST, got 200, URL=&lt;a href=&quot;http://localhost:39898/sling-import-tests&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:39898/sling-import-tests&lt;/a&gt;, Content=[&amp;lt;html&amp;gt;(..)&lt;br/&gt;
  testImportJSONFromRequestParamWithoutOptionalName(org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletImportTest): Expected status code 302 for POST, got 200, URL=&lt;a href=&quot;http://localhost:39898/sling-import-tests&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:39898/sling-import-tests&lt;/a&gt;, Content=[&amp;lt;html&amp;gt;(..)&lt;br/&gt;
  testImportXMLFromFile(org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletImportTest): Expected status code 302 for POST, got 200, URL=&lt;a href=&quot;http://localhost:39898/sling-import-tests&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:39898/sling-import-tests&lt;/a&gt;, Content=[&amp;lt;html&amp;gt;(..)&lt;br/&gt;
  testImportXMLFromFileWithoutOptionalName(org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletImportTest): Expected status code 302 for POST, got 200, URL=&lt;a href=&quot;http://localhost:39898/sling-import-tests&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:39898/sling-import-tests&lt;/a&gt;, Content=[&amp;lt;html&amp;gt;(..)&lt;br/&gt;
  testImportXMLFromRequestParam(org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletImportTest): Expected status code 302 for POST, got 200, URL=&lt;a href=&quot;http://localhost:39898/sling-import-tests&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:39898/sling-import-tests&lt;/a&gt;, Content=[&amp;lt;html&amp;gt;(..)&lt;br/&gt;
  testImportXMLFromRequestParamWithoutOptionalName(org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletImportTest): Expected status code 302 for POST, got 200, URL=&lt;a href=&quot;http://localhost:39898/sling-import-tests&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:39898/sling-import-tests&lt;/a&gt;, Content=[&amp;lt;html&amp;gt;(..)&lt;br/&gt;
  testImportZipFromFile(org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletImportTest): Expected status code 302 for POST, got 200, URL=&lt;a href=&quot;http://localhost:39898/sling-import-tests&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:39898/sling-import-tests&lt;/a&gt;, Content=[&amp;lt;html&amp;gt;(..)&lt;br/&gt;
  testImportJarFromFile(org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletImportTest): Expected status code 302 for POST, got 200, URL=&lt;a href=&quot;http://localhost:39898/sling-import-tests&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:39898/sling-import-tests&lt;/a&gt;, Content=[&amp;lt;html&amp;gt;(..)&lt;br/&gt;
  testImportJCRXMLFromFile(org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletImportTest): Expected status code 302 for POST, got 200, URL=&lt;a href=&quot;http://localhost:39898/sling-import-tests&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:39898/sling-import-tests&lt;/a&gt;, Content=[&amp;lt;html&amp;gt;(..)&lt;br/&gt;
  testImportNodeWithExactName(org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletImportTest): Expected status code 302 for POST, got 200, URL=&lt;a href=&quot;http://localhost:39898/sling-import-tests&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:39898/sling-import-tests&lt;/a&gt;, Content=[&amp;lt;html&amp;gt;(..)&lt;br/&gt;
  testImportNodeWithAlreadyUsedExactName(org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletImportTest): Expected status code 302 for POST, got 200, URL=&lt;a href=&quot;http://localhost:39898/sling-import-tests&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:39898/sling-import-tests&lt;/a&gt;, Content=[&amp;lt;html&amp;gt;(..)&lt;br/&gt;
  testImportJSONWithUTF8Content(org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletImportTest): Expected status code 302 for POST, got 200, URL=&lt;a href=&quot;http://localhost:39898/sling-import-tests&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:39898/sling-import-tests&lt;/a&gt;, Content=[&amp;lt;html&amp;gt;(..)&lt;br/&gt;
  testCopyNodeAbsolute(org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletCopyTest): Expected status code 302 for POST, got 200, URL=&lt;a href=&quot;http://localhost:39898/sling-copy-tests/abs/1369152225748/src&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:39898/sling-copy-tests/abs/1369152225748/src&lt;/a&gt;, Content=[&amp;lt;html&amp;gt;(..)&lt;br/&gt;
  testCopyNodeRelative(org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletCopyTest): Expected status code 302 for POST, got 200, URL=&lt;a href=&quot;http://localhost:39898/sling-copy-tests/rel/1369152225760/src&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:39898/sling-copy-tests/rel/1369152225760/src&lt;/a&gt;, Content=[&amp;lt;html&amp;gt;(..)&lt;br/&gt;
  testCopyNodeExistingReplace(org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletCopyTest): Expected status code 302 for POST, got 200, URL=&lt;a href=&quot;http://localhost:39898/sling-copy-tests/replace/1369152225771/src&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:39898/sling-copy-tests/replace/1369152225771/src&lt;/a&gt;, Content=[&amp;lt;html&amp;gt;(..)&lt;br/&gt;
  testCopySibling(org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletCopyTest): Expected status code 302 for POST, got 200, URL=&lt;a href=&quot;http://localhost:39898/sling-copy-tests/csp/1369152225837/a/1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:39898/sling-copy-tests/csp/1369152225837/a/1&lt;/a&gt;, Content=[&amp;lt;html&amp;gt;(..)&lt;br/&gt;
  testMoveNodeAbsolute(org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletMoveTest): Expected status code 302 for POST, got 200, URL=&lt;a href=&quot;http://localhost:39898/sling-move-tests/abs/1369152226392/src&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:39898/sling-move-tests/abs/1369152226392/src&lt;/a&gt;, Content=[&amp;lt;html&amp;gt;(..)&lt;br/&gt;
  testMoveNodeRelative(org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletMoveTest): Expected status code 302 for POST, got 200, URL=&lt;a href=&quot;http://localhost:39898/sling-move-tests/rel/1369152226412/src&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:39898/sling-move-tests/rel/1369152226412/src&lt;/a&gt;, Content=[&amp;lt;html&amp;gt;(..)&lt;br/&gt;
  testMoveNodeExistingReplace(org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletMoveTest): Expected status code 302 for POST, got 200, URL=&lt;a href=&quot;http://localhost:39898/sling-move-tests/replace/1369152226442/src&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:39898/sling-move-tests/replace/1369152226442/src&lt;/a&gt;, Content=[&amp;lt;html&amp;gt;(..)&lt;br/&gt;
  testMoveAtRoot(org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletMoveTest): Expected status code 302 for POST, got 200, URL=&lt;a href=&quot;http://localhost:39898/PostServletMoveTest_A&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:39898/PostServletMoveTest_A&lt;/a&gt;, Content=[&amp;lt;html&amp;gt;(..)&lt;br/&gt;
  testCheckingInACheckOutNode(org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletVersionableTest): Expected status code 302 for POST, got 200, URL=&lt;a href=&quot;http://localhost:39898/sling-tests/1369152227841/84_1369152227843&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:39898/sling-tests/1369152227841/84_1369152227843&lt;/a&gt;, Content=[&amp;lt;html&amp;gt;(..)&lt;br/&gt;
  testCheckingOutACheckedInNode(org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletVersionableTest): Expected status code 302 for POST, got 200, URL=&lt;a href=&quot;http://localhost:39898/sling-tests/1369152227867/85_1369152227870&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:39898/sling-tests/1369152227867/85_1369152227870&lt;/a&gt;, Content=[&amp;lt;html&amp;gt;(..)&lt;br/&gt;
  testCheckingOutAnAlreadyCheckedOutNodeIsANoOp(org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletVersionableTest): Expected status code 302 for POST, got 200, URL=&lt;a href=&quot;http://localhost:39898/sling-tests/1369152227900/86_1369152227902&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:39898/sling-tests/1369152227900/86_1369152227902&lt;/a&gt;, Content=[&amp;lt;html&amp;gt;(..)&lt;br/&gt;
  testCheckingInAnAlreadyCheckedInNodeIsANoOp(org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletVersionableTest): Expected status code 302 for POST, got 200, URL=&lt;a href=&quot;http://localhost:39898/sling-tests/1369152227922/87_1369152227924&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:39898/sling-tests/1369152227922/87_1369152227924&lt;/a&gt;, Content=[&amp;lt;html&amp;gt;(..)&lt;br/&gt;
  testDeletingChildNodeOfACheckedInNodeByOp(org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletVersionableTest): Expected status code 302 for POST, got 200, URL=&lt;a href=&quot;http://localhost:39898/sling-tests/1369152228007/89_1369152228010/child&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:39898/sling-tests/1369152228007/89_1369152228010/child&lt;/a&gt;, Content=[&amp;lt;html&amp;gt;(..)&lt;br/&gt;
  testMovingAChildNodeOfACheckedInNodeToACheckedInNodeByOp(org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletVersionableTest): Expected status code 302 for POST, got 200, URL=&lt;a href=&quot;http://localhost:39898/sling-tests/abs/1369152228798/src/child&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:39898/sling-tests/abs/1369152228798/src/child&lt;/a&gt;, Content=[&amp;lt;html&amp;gt;(..)&lt;br/&gt;
  testCopyingANodeToACheckedInNodeByOp(org.apache.sling.launchpad.webapp.integrationtest.servlets.post.PostServletVersionableTest): Expected status code 302 for POST, got 200, URL=&lt;a href=&quot;http://localhost:39898/sling-tests/abs/1369152228880/src/child&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:39898/sling-tests/abs/1369152228880/src/child&lt;/a&gt;, Content=[&amp;lt;html&amp;gt;(..)&lt;/p&gt;

&lt;p&gt;Test results for current trunk after reverting revision 1481919:&lt;/p&gt;

&lt;p&gt;Results :&lt;/p&gt;

&lt;p&gt;Failed tests:   test_500_errorhandling(org.apache.sling.launchpad.webapp.integrationtest.servlets.resolver.errorhandler.ErrorHandlingTest): Content does not contain &apos;Internal Server Error (500) - custom error page&apos; (content=&amp;lt;!--(..)&lt;/p&gt;

&lt;p&gt;Tests in error: &lt;br/&gt;
  test_401_errorhandling(org.apache.sling.launchpad.webapp.integrationtest.servlets.resolver.errorhandler.ErrorHandlingTest): mkdir(&lt;a href=&quot;http://localhost:45089/apps&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:45089/apps&lt;/a&gt;) failed, status code=503&lt;/p&gt;</description>
                <environment></environment>
        <key id="12648654">SLING-2876</key>
            <summary>Integration tests fail in large numbers following changes for SLING-2869</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 21 May 2013 16:05:30 +0000</created>
                <updated>Fri, 14 Jun 2013 05:13:10 +0000</updated>
                            <resolved>Wed, 29 May 2013 12:36:37 +0000</resolved>
                                                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13664094" author="rombert" created="Wed, 22 May 2013 13:23:22 +0000"  >&lt;p&gt;Reverting the org.apache.felix.scr dependency to 1.6.0 makes just one test fail. Reverting the org.apache.felix.eventadmin dependency has no impact. So the root cause is in one of the 81 fixed issuse from the org.apache.felix.scr 1.6.2 release &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; .&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;: &lt;a href=&quot;https://issues.apache.org/jira/issues/?jql=project%20%3D%20FELIX%20AND%20fixVersion%20%3D%20%22scr-1.6.2%22&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/issues/?jql=project%20%3D%20FELIX%20AND%20fixVersion%20%3D%20%22scr-1.6.2%22&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13668337" author="rombert" created="Tue, 28 May 2013 14:36:40 +0000"  >&lt;p&gt;Going a bit further with the investigation, I noticed that the internal operations of the SlingPostServlet are no longer registered. Even if I can see that all the SlingOperations are properly registered as services, they are not bound to the SlingPostServlet.&lt;/p&gt;

&lt;p&gt;The probable cause is that these operations are registered in the activate method.&lt;/p&gt;</comment>
                            <comment id="13668343" author="fmeschbe" created="Tue, 28 May 2013 14:51:09 +0000"  >&lt;p&gt;This is fixed in SCR trunk. It has been a timing issue calling the activate method. See &lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-3754&quot; title=&quot;Services registered from within the activate method may not be bound&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-3754&quot;&gt;&lt;del&gt;FELIX-3754&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13669192" author="rmuntean" created="Wed, 29 May 2013 12:36:37 +0000"  >&lt;p&gt;Already fixed by the changes in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2888&quot; title=&quot;Downgrade SCR to 1.6.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2888&quot;&gt;&lt;del&gt;SLING-2888&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12649723">SLING-2888</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="12615977">FELIX-3754</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>329009</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 23 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1krjj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>329351</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2874] JcrResourceProvider.create/JobMangerImpl.writeJob can cause inconsistent behavior</title>
                <link>https://issues.apache.org/jira/browse/SLING-2874</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I have been debugging an issue with sling jobs and finally found that current implementation JobMangerImpl.writeJob can cause inconsistent behaviour (root cause is JcrResourceProvider.create)&lt;/p&gt;

&lt;p&gt;Issue that led to this:&lt;br/&gt;
I observed that sometime all of my event properties were not being written to the job node. Though the job node was being created. But ultimately JobManager would error out giving following messages:&lt;br/&gt;
17.05.2013 16:41:57.578 &lt;b&gt;WARN&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Apache Sling Job Background Loader&amp;#93;&lt;/span&gt; org.apache.sling.event.impl.jobs.JobManagerImpl Discarding job - job topic is missing : /var/eventing/jobs/assigned/826cd21a-6a8f-48cb-b112-768b421af572/slingevent:eventadmin/2013/5/17/16/39/com.adobe.cq.collection.update.job_826cd21a-6a8f-48cb-b112-768b421af572_2&lt;br/&gt;
Sometime, my job handler would be called, but event won&apos;t have enough properties that I sent to jobManager.&lt;br/&gt;
Problem:&lt;br/&gt;
There was an issue in my code that was adding a property to the event, which had invalid key i.e. /a/b/c/a.txt and JcrResourceProvider can not persist it. Hence the issue. This is fine, I can correct it.&lt;/p&gt;

&lt;p&gt;But the main problem is that this persistence error was never reported in error logs, and job got persisted event though JcrResourceProvider.create threw a PersistenceException. But the job was created with fewer properties with what I intended. This resulted in sometime, my JobHandler being called, but not getting enough properties.&lt;/p&gt;

&lt;p&gt;With the debugging, I found that JobManagerImpl.writeJob can cause some inconsistent behaviour due to the way, ResourceUtil.getOrCreateResource and JcrResourceProvider.create.&lt;/p&gt;

&lt;p&gt;In this case following happened:&lt;br/&gt;
JcrResourceProvider.create threw PE while persisting the property, but the node was already by this time.&lt;br/&gt;
ResourceUtil.getOrCreateResource caught the PE, but checked for the existence of resource and hence ignored it.&lt;/p&gt;

&lt;p&gt;Now, above implementation is wrong, either JcrResourceProvider should ensure that operation is atomic. Or ResourceUtil.getOrCreateResource should be changed revert changes in case of exception.&lt;/p&gt;

&lt;p&gt;I think that JcrResourceProvider should remove the node if addition of properties fails.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12648166">SLING-2874</key>
            <summary>JcrResourceProvider.create/JobMangerImpl.writeJob can cause inconsistent behavior</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="amitxlnc">Amit Gupta</reporter>
                        <labels>
                    </labels>
                <created>Fri, 17 May 2013 12:03:11 +0000</created>
                <updated>Mon, 17 Feb 2014 15:48:02 +0000</updated>
                            <resolved>Fri, 17 May 2013 12:09:56 +0000</resolved>
                                    <version>JCR Resource 2.2.8</version>
                                    <fixVersion>JCR Resource 2.3.0</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13660659" author="amitxlnc" created="Fri, 17 May 2013 12:08:44 +0000"  >&lt;p&gt;Patch for JcrResourceProvider&lt;/p&gt;</comment>
                            <comment id="13660660" author="cziegeler" created="Fri, 17 May 2013 12:09:56 +0000"  >&lt;p&gt;Removing the node now if an exception within create() occurs. Revision 1483758&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12583646" name="SLING-2874" size="1174" author="amitxlnc" created="Fri, 17 May 2013 12:08:44 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>328522</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 24 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1kojz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>328866</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2872] StringIndexOutOfBoundsException in resource resolver</title>
                <link>https://issues.apache.org/jira/browse/SLING-2872</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;on a blank Sling instance, create a  mapping with ResourceResolver URL Mapping like following :&lt;/p&gt;

&lt;p&gt;/content.html-/$&lt;/p&gt;

&lt;p&gt;call Resolver Map on  &quot;/content.html&quot; will give java.lang.StringIndexOutOfBoundsException: String index out of range: 2&lt;/p&gt;</description>
                <environment></environment>
        <key id="12647729">SLING-2872</key>
            <summary>StringIndexOutOfBoundsException in resource resolver</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="asanso">Antonio Sanso</assignee>
                                    <reporter username="asanso">Antonio Sanso</reporter>
                        <labels>
                    </labels>
                <created>Wed, 15 May 2013 11:44:21 +0000</created>
                <updated>Fri, 4 Apr 2014 09:05:50 +0000</updated>
                            <resolved>Thu, 16 May 2013 11:32:07 +0000</resolved>
                                                    <fixVersion>Resource Resolver 1.1.0</fixVersion>
                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13658264" author="asanso" created="Wed, 15 May 2013 11:46:18 +0000"  >&lt;p&gt;patch that reproduce the issue in one unit test&lt;/p&gt;</comment>
                            <comment id="13658267" author="asanso" created="Wed, 15 May 2013 11:48:49 +0000"  >&lt;p&gt;Stacktrace would be&lt;/p&gt;

&lt;p&gt;java.lang.StringIndexOutOfBoundsException: String index out of range: 2&lt;br/&gt;
	at java.lang.String.charAt(String.java:686)&lt;br/&gt;
	at java.util.regex.Matcher.appendReplacement(Matcher.java:711)&lt;br/&gt;
	at java.util.regex.Matcher.replaceFirst(Matcher.java:861)&lt;br/&gt;
	at org.apache.sling.resourceresolver.impl.mapping.MapEntry.replace(MapEntry.java:269)&lt;br/&gt;
	at org.apache.sling.resourceresolver.impl.ResourceResolverImpl.map(ResourceResolverImpl.java:471)&lt;br/&gt;
	at org.apache.sling.resourceresolver.impl.ResourceResolverImpl.map(ResourceResolverImpl.java:361)&lt;br/&gt;
	at org.apache.sling.resourceresolver.impl.MockedResourceResolverImplTest.testMapping(MockedResourceResolverImplTest.java:468)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:45)&lt;br/&gt;
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)&lt;br/&gt;
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:42)&lt;br/&gt;
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)&lt;br/&gt;
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)&lt;br/&gt;
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:30)&lt;br/&gt;
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)&lt;br/&gt;
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:68)&lt;br/&gt;
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:47)&lt;br/&gt;
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)&lt;br/&gt;
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)&lt;br/&gt;
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)&lt;br/&gt;
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)&lt;br/&gt;
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)&lt;br/&gt;
	at org.junit.runners.ParentRunner.run(ParentRunner.java:300)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:49)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)&lt;/p&gt;</comment>
                            <comment id="13658270" author="asanso" created="Wed, 15 May 2013 11:51:34 +0000"  >&lt;p&gt;attaching simple proposed patch&lt;/p&gt;</comment>
                            <comment id="13658334" author="bdelacretaz" created="Wed, 15 May 2013 13:08:56 +0000"  >&lt;p&gt;Patch looks ok to me but it might be good to log info about which entry caused the problem, I suggest adding the MapEntry.toString() to the log message&lt;/p&gt;</comment>
                            <comment id="13659444" author="asanso" created="Thu, 16 May 2013 11:31:41 +0000"  >&lt;p&gt;Thanks for reviewing &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdelacretaz&quot; class=&quot;user-hover&quot; rel=&quot;bdelacretaz&quot;&gt;bdelacretaz&lt;/a&gt; I have applied the slightly improved patch and the unit test in rev. 1483299&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12583318" name="SLING-2872-test.txt" size="1410" author="asanso" created="Wed, 15 May 2013 11:48:21 +0000"/>
                            <attachment id="12583319" name="SLING-2872.txt" size="1588" author="asanso" created="Wed, 15 May 2013 11:51:34 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>328085</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 24 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1kluv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>328429</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2866] Implement configuration printer for web console</title>
                <link>https://issues.apache.org/jira/browse/SLING-2866</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The web console plugin should register itself as a configuration printer and provide all information within the configuration zip&lt;/p&gt;</description>
                <environment></environment>
        <key id="12647051">SLING-2866</key>
            <summary>Implement configuration printer for web console</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Fri, 10 May 2013 17:06:39 +0000</created>
                <updated>Mon, 12 Aug 2013 11:21:46 +0000</updated>
                            <resolved>Fri, 10 May 2013 17:16:44 +0000</resolved>
                                                    <fixVersion>Discovery Impl 1.0.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13654617" author="cziegeler" created="Fri, 10 May 2013 17:16:44 +0000"  >&lt;p&gt;Added a simple configuration printer which prints out the same as the web console plugin&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>327408</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 25 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1khof:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>327752</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2865] Topology web console is not context path aware</title>
                <link>https://issues.apache.org/jira/browse/SLING-2865</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If a context path is configured, the links in the topolgy web console do not work anymore&lt;/p&gt;</description>
                <environment></environment>
        <key id="12647034">SLING-2865</key>
            <summary>Topology web console is not context path aware</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Fri, 10 May 2013 16:18:44 +0000</created>
                <updated>Mon, 12 Aug 2013 11:21:46 +0000</updated>
                            <resolved>Tue, 14 May 2013 06:05:18 +0000</resolved>
                                                    <fixVersion>Discovery Impl 1.0.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13654576" author="cziegeler" created="Fri, 10 May 2013 16:26:30 +0000"  >&lt;p&gt;Added context path to all link&lt;/p&gt;</comment>
                            <comment id="13656539" author="fmeschbe" created="Mon, 13 May 2013 23:43:36 +0000"  >&lt;p&gt;I think the solution is not optimal: not only may the context path be different, also the Web Console URL &amp;#8211; /system/console &amp;#8211; is not cast in stone.&lt;/p&gt;

&lt;p&gt;Rather you should use the &quot;appRoot&quot; variable to get the properly resolve path to the web console. The variable is available as a request attribute or as a translation property. So you when you write the HTML you could to &quot;${appRoot}/confMgr&quot; to get the correct path.&lt;/p&gt;</comment>
                            <comment id="13656840" author="cziegeler" created="Tue, 14 May 2013 05:54:51 +0000"  >&lt;p&gt;D&apos;oh - yeah totally right, I didn&apos;t notice that...&lt;/p&gt;

&lt;p&gt;I think we can even make this simpler and use relative paths&lt;/p&gt;</comment>
                            <comment id="13656846" author="cziegeler" created="Tue, 14 May 2013 06:05:18 +0000"  >&lt;p&gt;I&apos;ve made the link to the topology plugin relative, and the one to the configMgr now uses the ${appRoot} variable&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>327391</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 25 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1khkn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>327735</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2864] taglib 1.3 function&apos;s signature is invalid</title>
                <link>https://issues.apache.org/jira/browse/SLING-2864</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;when using taglib 1.3 function e.g.&lt;/p&gt;

&lt;p&gt;&amp;lt;%@taglib prefix=&quot;sling&quot; uri=&quot;http://sling.apache.org/taglibs/sling/1.3&quot; %&amp;gt;&lt;br/&gt;
&amp;lt;c:set var=&quot;currentResource&quot; value=&quot;${sling:getResource(resourceResolver,&apos;/&apos;)}&quot; /&amp;gt;&lt;/p&gt;

&lt;p&gt;I am getting exception:&lt;br/&gt;
Invalid syntax for function signature in TLD. Tag Library: sling, Function: getResource (500)&lt;/p&gt;

&lt;p&gt;====&lt;br/&gt;
this is cased by invalid signature declarations in the tld file.&lt;br/&gt;
for example:&lt;br/&gt;
		&amp;lt;function-signature&amp;gt;org.apache.sling.api.resource.Resource&lt;br/&gt;
			getResource(org.apache.sling.api.resource.ResourceResolver,&lt;br/&gt;
			java.lang.String)&lt;br/&gt;
		&amp;lt;/function-signature&amp;gt;&lt;/p&gt;

&lt;p&gt;should be defined without any white space characters&lt;/p&gt;

&lt;p&gt;&amp;lt;function-signature&amp;gt;org.apache.sling.api.resource.Resource getResource(org.apache.sling.api.resource.ResourceResolver,java.lang.String)&amp;lt;/function-signature&amp;gt;&lt;/p&gt;

&lt;p&gt;NOTE: the JIRA appears to wrap the line anyways, basically the signature should be on one line, no nice printing&lt;/p&gt;</description>
                <environment></environment>
        <key id="12646794">SLING-2864</key>
            <summary>taglib 1.3 function&apos;s signature is invalid</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="klcodanr">Dan Klco</assignee>
                                    <reporter username="oflorian">Ondrej Florian</reporter>
                        <labels>
                    </labels>
                <created>Thu, 9 May 2013 13:01:49 +0000</created>
                <updated>Mon, 12 Aug 2013 15:17:30 +0000</updated>
                            <resolved>Thu, 23 May 2013 19:05:05 +0000</resolved>
                                                    <fixVersion>Scripting JSP-Taglib 2.2.0</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13652936" author="oflorian" created="Thu, 9 May 2013 13:07:13 +0000"  >&lt;p&gt;This patch contains all necessary changes to the taglib13.tld file , including fixed header from &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2863&quot; title=&quot;unable to use taglib version 1.3 out of the box&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2863&quot;&gt;&lt;del&gt;SLING-2863&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13665500" author="oflorian" created="Thu, 23 May 2013 19:05:05 +0000"  >&lt;p&gt;attached patch has been applied&lt;/p&gt;</comment>
                            <comment id="13736939" author="klcodanr" created="Mon, 12 Aug 2013 15:17:30 +0000"  >&lt;p&gt;Closed with the release of Sling JSP Taglib 2.2.0&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12646792">SLING-2863</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12582466" name="taglib13.tld.patch" size="3748" author="oflorian" created="Thu, 9 May 2013 13:07:13 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>327152</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 12 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1kg3j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>327496</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2863] unable to use taglib version 1.3 out of the box</title>
                <link>https://issues.apache.org/jira/browse/SLING-2863</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;while trying to use taglib 1.3 :&lt;br/&gt;
&amp;lt;%@taglib prefix=&quot;sling&quot; uri=&quot;http://sling.apache.org/taglibs/sling/1.3&quot; %&amp;gt;&lt;/p&gt;

&lt;p&gt;I am getting error:&lt;br/&gt;
The absolute uri: &lt;a href=&quot;http://sling.apache.org/taglibs/sling/1.3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sling.apache.org/taglibs/sling/1.3&lt;/a&gt; cannot be resolved in either web.xml or the jar files deployed with this application (500)&lt;br/&gt;
&amp;#8212;&lt;/p&gt;

&lt;p&gt;the problem seems to be in the header of the taglib13.tld definition (please see the attached patch)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12646792">SLING-2863</key>
            <summary>unable to use taglib version 1.3 out of the box</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="klcodanr">Dan Klco</assignee>
                                    <reporter username="oflorian">Ondrej Florian</reporter>
                        <labels>
                    </labels>
                <created>Thu, 9 May 2013 12:50:57 +0000</created>
                <updated>Mon, 12 Aug 2013 15:17:55 +0000</updated>
                            <resolved>Fri, 31 May 2013 15:15:45 +0000</resolved>
                                                    <fixVersion>Scripting JSP-Taglib 2.2.0</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13652940" author="oflorian" created="Thu, 9 May 2013 13:08:29 +0000"  >&lt;p&gt;the patch attached to the &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2864&quot; title=&quot;taglib 1.3 function&amp;#39;s signature is invalid&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2864&quot;&gt;&lt;del&gt;SLING-2864&lt;/del&gt;&lt;/a&gt; contains all necessary changes to make taglib 1.3 work&lt;/p&gt;</comment>
                            <comment id="13665491" author="oflorian" created="Thu, 23 May 2013 18:56:31 +0000"  >&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;adds org.apache.sling.scripting.jsp.jstl&lt;/li&gt;
	&lt;li&gt;changes version of org.apache.sling.scripting.jsp.taglib from 2.1.8 to 2.1.9-SNAPSHOT&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13671559" author="klcodanr" created="Fri, 31 May 2013 15:15:45 +0000"  >&lt;p&gt;I used Geranimo&apos;s JSTL implementation instead of the Sling one, since that has already been released.  Otherwise, the list is updated and should be good to go now.  Once the next TagLib release is complete, I will update the release with the new TagLib version.&lt;/p&gt;</comment>
                            <comment id="13736941" author="klcodanr" created="Mon, 12 Aug 2013 15:17:55 +0000"  >&lt;p&gt;Closed with the release of Sling JSP Taglib 2.2.0&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12646794">SLING-2864</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12584550" name="list.xml.patch" size="813" author="oflorian" created="Thu, 23 May 2013 18:56:31 +0000"/>
                            <attachment id="12582463" name="taglib13.tld.patch" size="998" author="oflorian" created="Thu, 9 May 2013 12:54:41 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>327150</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 12 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1kg33:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>327494</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2862] Firefox browser send text file mime type as plain/text instead of text/plain</title>
                <link>https://issues.apache.org/jira/browse/SLING-2862</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When uploading a text file, Firebug browser sets mime type to plain/text instead of text/plain.&lt;br/&gt;
This cases a text files not be handled correctly (e.g. during indexing).&lt;/p&gt;

&lt;p&gt;Although this is problem of a browser rather then Sling itself, it should be handled &apos;somehow&apos;.&lt;br/&gt;
I added quick hack to change the mime mapping in upload servlet itself, however proper solution would be to just ignore the mime type send by a browser and try to guess it from the data itself.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12646786">SLING-2862</key>
            <summary>Firefox browser send text file mime type as plain/text instead of text/plain</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="oflorian">Ondrej Florian</reporter>
                        <labels>
                            <label>patch</label>
                    </labels>
                <created>Thu, 9 May 2013 11:39:18 +0000</created>
                <updated>Fri, 14 Apr 2023 07:49:57 +0000</updated>
                            <resolved>Fri, 14 Apr 2023 07:49:57 +0000</resolved>
                                                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                            <attachment id="12582454" name="SlingFileUploadHandler.java.patch" size="1023" author="oflorian" created="Thu, 9 May 2013 11:46:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>327144</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 25 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1kg1r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>327488</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2858] Maven build fails after upgrading to parent 16: No annotation processors found in classpath</title>
                <link>https://issues.apache.org/jira/browse/SLING-2858</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;A couple of projects are missing explicity dependencies to org.apache.felix.scr.annotations.&lt;/p&gt;

&lt;p&gt;The error message are similar to&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Failed to execute goal org.apache.felix:maven-scr-plugin:1.12.0:scr (generate-scr-scrdescriptor) on project org.apache.sling.commons.threads: No annotation processors found in classpath. -&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Help 1&amp;#93;&lt;/span&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12646419">SLING-2858</key>
            <summary>Maven build fails after upgrading to parent 16: No annotation processors found in classpath</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 7 May 2013 14:58:29 +0000</created>
                <updated>Fri, 14 Jun 2013 05:11:07 +0000</updated>
                            <resolved>Tue, 7 May 2013 20:53:45 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13650942" author="cziegeler" created="Tue, 7 May 2013 15:09:03 +0000"  >&lt;p&gt;I think we should add the annotations (and also the bnd lib) as dependencies to the parent pom, so they get inherited by all modules&lt;/p&gt;</comment>
                            <comment id="13650949" author="rmuntean" created="Tue, 7 May 2013 15:14:23 +0000"  >&lt;p&gt;Updated the main reactor in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1479937&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1479937&lt;/a&gt; .&lt;/p&gt;</comment>
                            <comment id="13650955" author="rmuntean" created="Tue, 7 May 2013 15:20:50 +0000"  >&lt;p&gt;&amp;gt; I think we should add the annotations (and also the bnd lib) as dependencies to the parent pom, so they get inherited by all modules&lt;/p&gt;

&lt;p&gt;I somehow missed your comment and started changing the dependencies... Feel free to update the parent pom to contain the needed the dependencies, it makes sense IMO. Then we can remove the extra declarations from the child poms so the versions get updated automatically.&lt;/p&gt;</comment>
                            <comment id="13650958" author="cziegeler" created="Tue, 7 May 2013 15:23:09 +0000"  >&lt;p&gt;I think your changes are good for now, and for the future we can update the parent pom to include the stuff&lt;/p&gt;</comment>
                            <comment id="13651278" author="rmuntean" created="Tue, 7 May 2013 20:43:29 +0000"  >&lt;p&gt;Updated the contrib reactor in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1479939&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1479939&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13651294" author="rmuntean" created="Tue, 7 May 2013 20:53:33 +0000"  >&lt;p&gt;Updated the samples reactor in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1480072&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1480072&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13660953" author="rombert" created="Fri, 17 May 2013 18:59:58 +0000"  >&lt;p&gt;Updated the launchpad/testing-war module in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1483951&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1483951&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>326777</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 24 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1kdif:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>327122</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2857] Fix the name of the members resource in ResourceCollection</title>
                <link>https://issues.apache.org/jira/browse/SLING-2857</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Chnage the name of the node to sling:members, it members currently. &lt;/p&gt;

&lt;p&gt;Also fix the property name from sling:references to sling:resources to make it consistent with sling:resource.&lt;/p&gt;

&lt;p&gt;I have extracted out the properties in a Constants in impl. This removed duplicate hard coded &quot;members&quot; string literal in ResourceCollectionManagerImpl.&lt;/p&gt;

&lt;p&gt;Also, fixed a issue where while creating collection, path was wrong. Added test case for the same.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12646280">SLING-2857</key>
            <summary>Fix the name of the members resource in ResourceCollection</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="amitxlnc">Amit Gupta</reporter>
                        <labels>
                    </labels>
                <created>Mon, 6 May 2013 20:00:49 +0000</created>
                <updated>Sat, 8 Mar 2014 16:20:21 +0000</updated>
                            <resolved>Tue, 7 May 2013 11:19:26 +0000</resolved>
                                    <version>Resource Collections 1.0.0</version>
                                    <fixVersion>Resource Collections 1.0.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13650051" author="amitxlnc" created="Mon, 6 May 2013 20:01:42 +0000"  >&lt;p&gt;attaching a patch file&lt;/p&gt;</comment>
                            <comment id="13650518" author="amitxlnc" created="Tue, 7 May 2013 05:07:24 +0000"  >&lt;p&gt;Updating a new patch with more tests and one more minor fix in orderRelation&lt;/p&gt;</comment>
                            <comment id="13650546" author="cziegeler" created="Tue, 7 May 2013 06:10:21 +0000"  >&lt;p&gt;Thanks for your patch, Amit. I&apos;ve applied it with revision 1479500&lt;/p&gt;</comment>
                            <comment id="13650575" author="cziegeler" created="Tue, 7 May 2013 07:25:10 +0000"  >&lt;p&gt;It seems the constants class is missing in this patch. ResourceCollectionConstants&lt;/p&gt;</comment>
                            <comment id="13650576" author="amitxlnc" created="Tue, 7 May 2013 07:30:09 +0000"  >&lt;p&gt;updated patch&lt;/p&gt;</comment>
                            <comment id="13650726" author="cziegeler" created="Tue, 7 May 2013 11:19:26 +0000"  >&lt;p&gt;I&apos;ve added the missing class&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12582053" name="SLING-2857" size="13439" author="amitxlnc" created="Tue, 7 May 2013 07:30:09 +0000"/>
                            <attachment id="12582041" name="SLING-2857" size="11556" author="amitxlnc" created="Tue, 7 May 2013 05:07:24 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>326638</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 26 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1kcnr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>326983</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2856] NPE in JobManagerImpl to read priority for Job</title>
                <link>https://issues.apache.org/jira/browse/SLING-2856</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;There seems to be an issue with JobManagerImpl in sling&lt;br/&gt;
jobProperties.put(Job.PROPERTY_JOB_PRIORITY, JobPriority.valueOf(vm.get(Job.PROPERTY_JOB_PRIORITY, String.class)));&lt;br/&gt;
if job priority is null, then you get a null pointer, and this event does not have any job priority.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12646192">SLING-2856</key>
            <summary>NPE in JobManagerImpl to read priority for Job</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="amalhotr">Ankush Malhotra</reporter>
                        <labels>
                    </labels>
                <created>Mon, 6 May 2013 10:37:29 +0000</created>
                <updated>Mon, 12 Aug 2013 11:22:49 +0000</updated>
                            <resolved>Mon, 6 May 2013 11:53:51 +0000</resolved>
                                                    <fixVersion>Event 3.2.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13649676" author="cziegeler" created="Mon, 6 May 2013 11:53:51 +0000"  >&lt;p&gt;Fixed, old jobs don&apos;t have the priority set. In this case, a default is now applied. The queue running the job will overwrite the value anyway&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>326550</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 26 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1kc47:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>326895</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2855] Integrate Mock extensions to Commons Testing</title>
                <link>https://issues.apache.org/jira/browse/SLING-2855</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;As discussed in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2853&quot; title=&quot;Add ResourceCollection to Sling&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2853&quot;&gt;&lt;del&gt;SLING-2853&lt;/del&gt;&lt;/a&gt;, it should be considered to move the Mock extensions of the new Resource Collection bundle to the Commons Testing module&lt;/p&gt;</description>
                <environment></environment>
        <key id="12646168">SLING-2855</key>
            <summary>Integrate Mock extensions to Commons Testing</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Mon, 6 May 2013 07:35:44 +0000</created>
                <updated>Tue, 7 May 2013 05:49:59 +0000</updated>
                            <resolved>Tue, 7 May 2013 05:49:49 +0000</resolved>
                                    <version>Commons Testing 2.0.14</version>
                                                    <component>Commons</component>
                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13649709" author="cziegeler" created="Mon, 6 May 2013 12:48:26 +0000"  >&lt;p&gt;What&apos;s the difference to the testing resourceresolver mock module we have?&lt;/p&gt;</comment>
                            <comment id="13649755" author="fmeschbe" created="Mon, 6 May 2013 13:44:15 +0000"  >&lt;p&gt;Maybe its the same. In this case the Resource Collection bundle should probably be adapted to make use of those.&lt;/p&gt;</comment>
                            <comment id="13649756" author="bdelacretaz" created="Mon, 6 May 2013 13:45:42 +0000"  >&lt;p&gt;I briefly tried using the commons mocks in resourcecollection when reviewing that code this morning, and it didn&apos;t work out of the box - but that probably requires only minor changes. +1 to using the commons mocks.&lt;/p&gt;</comment>
                            <comment id="13650505" author="amitxlnc" created="Tue, 7 May 2013 04:33:09 +0000"  >&lt;p&gt;I don&apos;t think that this is needed any more, can be closed.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12645930">SLING-2853</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>326526</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 26 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1kbyv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>326871</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2854] Move the ResourceCollectionUtil.createUniqueChildName method to ResourceUtils</title>
                <link>https://issues.apache.org/jira/browse/SLING-2854</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;As discussed in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2853&quot; title=&quot;Add ResourceCollection to Sling&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2853&quot;&gt;&lt;del&gt;SLING-2853&lt;/del&gt;&lt;/a&gt;, it should be considered to move the utility method to the ResourceUtils helper class.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12646167">SLING-2854</key>
            <summary>Move the ResourceCollectionUtil.createUniqueChildName method to ResourceUtils</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Mon, 6 May 2013 07:34:37 +0000</created>
                <updated>Fri, 24 Jan 2014 16:23:01 +0000</updated>
                            <resolved>Tue, 3 Sep 2013 06:57:53 +0000</resolved>
                                    <version>API 2.4.0</version>
                                    <fixVersion>API 2.5.0</fixVersion>
                    <fixVersion>Resource Collections 1.0.0</fixVersion>
                                    <component>API</component>
                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13654348" author="amitxlnc" created="Fri, 10 May 2013 10:40:41 +0000"  >&lt;p&gt;Uploading patch for new method in ResourceUtil and removing ResourceCollectionUtil&lt;/p&gt;</comment>
                            <comment id="13756401" author="cziegeler" created="Tue, 3 Sep 2013 06:57:53 +0000"  >&lt;p&gt;I&apos;ve applied the patch with a minor change: instead of throwing a runtimeexception I changed this to throw a PersistenceException&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12645930">SLING-2853</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12582599" name="SLING-2854" size="7174" author="amitxlnc" created="Fri, 10 May 2013 10:40:41 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>326525</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 9 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1kbyn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>326870</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2852] Sling Launchpad Testing WAR - ClassCircularityError when executed in a reactor</title>
                <link>https://issues.apache.org/jira/browse/SLING-2852</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The the launchpad/testing-war project is executed as part of a reactor build it fails with a CCE. However, when run standalone does have this problem. The problem can be seen for instance at &lt;a href=&quot;https://builds.apache.org/view/S-Z/view/Sling/job/sling-trunk-1.6/1640/consoleText&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/view/S-Z/view/Sling/job/sling-trunk-1.6/1640/consoleText&lt;/a&gt; . I don&apos;t know about Java 7 tests since they fail earlier.&lt;/p&gt;

&lt;p&gt;2013-05-02 14:04:54.986:INFO:/:sling: Starting Apache Sling in /home/jenkins/jenkins-slave/workspace/sling-trunk-1.6/trunk/launchpad/testing-war/target/sling-cargo-test/sling&lt;br/&gt;
java.lang.reflect.InvocationTargetException&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at org.apache.felix.framework.util.SecureAction.invoke(SecureAction.java:840)&lt;br/&gt;
	at org.apache.felix.framework.URLHandlers.getFrameworkFromContext(URLHandlers.java:722)&lt;br/&gt;
	at org.apache.felix.framework.URLHandlersStreamHandlerProxy.getStreamHandlerService(URLHandlersStreamHandlerProxy.java:574)&lt;br/&gt;
	at org.apache.felix.framework.URLHandlersStreamHandlerProxy.parseURL(URLHandlersStreamHandlerProxy.java:369)&lt;br/&gt;
	at java.net.URL.&amp;lt;init&amp;gt;(URL.java:596)&lt;br/&gt;
	at java.net.URL.&amp;lt;init&amp;gt;(URL.java:464)&lt;br/&gt;
	at sun.misc.URLClassPath$JarLoader.checkResource(URLClassPath.java:674)&lt;br/&gt;
	at sun.misc.URLClassPath$JarLoader.getResource(URLClassPath.java:759)&lt;br/&gt;
	at sun.misc.URLClassPath.getResource(URLClassPath.java:169)&lt;br/&gt;
	at java.net.URLClassLoader$1.run(URLClassLoader.java:194)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(Native Method)&lt;br/&gt;
	at java.net.URLClassLoader.findClass(URLClassLoader.java:190)&lt;br/&gt;
	at org.apache.sling.launchpad.base.shared.LauncherClassLoader.loadClass(LauncherClassLoader.java:131)&lt;br/&gt;
	at java.lang.ClassLoader.loadClass(ClassLoader.java:247)&lt;br/&gt;
	at java.lang.Class.getDeclaredMethods0(Native Method)&lt;br/&gt;
	at java.lang.Class.privateGetDeclaredMethods(Class.java:2436)&lt;br/&gt;
	at java.lang.Class.getDeclaredMethod(Class.java:1937)&lt;br/&gt;
	at org.apache.sling.launchpad.base.impl.SlingFelix.getBundle(SlingFelix.java:114)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at org.apache.felix.framework.util.SecureAction.invoke(SecureAction.java:840)&lt;br/&gt;
	at org.apache.felix.framework.URLHandlers.getFrameworkFromContext(URLHandlers.java:722)&lt;br/&gt;
	at org.apache.felix.framework.URLHandlersStreamHandlerProxy.getStreamHandlerService(URLHandlersStreamHandlerProxy.java:574)&lt;br/&gt;
	at org.apache.felix.framework.URLHandlersStreamHandlerProxy.parseURL(URLHandlersStreamHandlerProxy.java:369)&lt;br/&gt;
	at java.net.URL.&amp;lt;init&amp;gt;(URL.java:596)&lt;br/&gt;
	at java.net.URL.&amp;lt;init&amp;gt;(URL.java:464)&lt;br/&gt;
	at sun.misc.URLClassPath$JarLoader.checkResource(URLClassPath.java:674)&lt;br/&gt;
	at sun.misc.URLClassPath$JarLoader.getResource(URLClassPath.java:759)&lt;br/&gt;
	at sun.misc.URLClassPath.getResource(URLClassPath.java:169)&lt;br/&gt;
	at java.net.URLClassLoader$1.run(URLClassLoader.java:194)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(Native Method)&lt;br/&gt;
	at java.net.URLClassLoader.findClass(URLClassLoader.java:190)&lt;br/&gt;
	at org.apache.sling.launchpad.base.shared.LauncherClassLoader.loadClass(LauncherClassLoader.java:131)&lt;br/&gt;
	at java.lang.ClassLoader.loadClass(ClassLoader.java:247)&lt;br/&gt;
	at org.apache.felix.framework.BundleWiringImpl.findResourcesByDelegation(BundleWiringImpl.java:1202)&lt;br/&gt;
	at org.apache.felix.framework.BundleWiringImpl.getResourcesByDelegation(BundleWiringImpl.java:1076)&lt;br/&gt;
	at org.apache.felix.framework.BundleWiringImpl.findResourcesByDelegation(BundleWiringImpl.java:1127)&lt;br/&gt;
	at org.apache.felix.framework.BundleWiringImpl.getResourcesByDelegation(BundleWiringImpl.java:1076)&lt;br/&gt;
	at org.apache.felix.framework.BundleWiringImpl$BundleClassLoaderJava5.getResources(BundleWiringImpl.java:1838)&lt;br/&gt;
	at org.slf4j.LoggerFactory.singleImplementationSanityCheck(LoggerFactory.java:219)&lt;br/&gt;
	at org.slf4j.LoggerFactory.performInitialization(LoggerFactory.java:107)&lt;br/&gt;
	at org.slf4j.LoggerFactory.getILoggerFactory(LoggerFactory.java:279)&lt;br/&gt;
	at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:252)&lt;br/&gt;
	at org.apache.sling.commons.logservice.internal.LogSupport.getLogger(LogSupport.java:413)&lt;br/&gt;
	at org.apache.sling.commons.logservice.internal.LogSupport.logOut(LogSupport.java:441)&lt;br/&gt;
	at org.apache.sling.commons.logservice.internal.LogSupport.fireLogEvent(LogSupport.java:212)&lt;br/&gt;
	at org.apache.sling.commons.logservice.internal.LogSupport.serviceChanged(LogSupport.java:301)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.invokeServiceListenerCallback(EventDispatcher.java:932)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.fireEventImmediately(EventDispatcher.java:793)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.fireServiceEvent(EventDispatcher.java:543)&lt;br/&gt;
	at org.apache.felix.framework.Felix.fireServiceEvent(Felix.java:4401)&lt;br/&gt;
	at org.apache.felix.framework.Felix.registerService(Felix.java:3411)&lt;br/&gt;
	at org.apache.felix.framework.BundleContextImpl.registerService(BundleContextImpl.java:346)&lt;br/&gt;
	at org.apache.felix.framework.BundleContextImpl.registerService(BundleContextImpl.java:320)&lt;br/&gt;
	at org.apache.sling.commons.logservice.internal.Activator.start(Activator.java:54)&lt;br/&gt;
	at org.apache.felix.framework.util.SecureAction.startActivator(SecureAction.java:645)&lt;br/&gt;
	at org.apache.felix.framework.Felix.activateBundle(Felix.java:2134)&lt;br/&gt;
	at org.apache.felix.framework.Felix.startBundle(Felix.java:2052)&lt;br/&gt;
	at org.apache.felix.framework.Felix.setActiveStartLevel(Felix.java:1279)&lt;br/&gt;
	at org.apache.felix.framework.FrameworkStartLevelImpl.run(FrameworkStartLevelImpl.java:304)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:662)&lt;br/&gt;
Caused by: java.lang.ClassCircularityError: org/osgi/service/packageadmin/ExportedPackage&lt;br/&gt;
	at java.lang.Class.getDeclaredMethods0(Native Method)&lt;br/&gt;
	at java.lang.Class.privateGetDeclaredMethods(Class.java:2436)&lt;br/&gt;
	at java.lang.Class.getDeclaredMethod(Class.java:1937)&lt;br/&gt;
	at org.apache.sling.launchpad.base.impl.SlingFelix.getBundle(SlingFelix.java:114)&lt;br/&gt;
	... 67 more&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12645830">SLING-2852</key>
            <summary>Sling Launchpad Testing WAR - ClassCircularityError when executed in a reactor</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="rombert">Robert Munteanu</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 2 May 2013 16:08:58 +0000</created>
                <updated>Thu, 13 Jun 2019 14:29:36 +0000</updated>
                            <resolved>Thu, 13 Jun 2019 14:29:36 +0000</resolved>
                                                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13703421" author="rombert" created="Tue, 9 Jul 2013 16:02:18 +0000"  >&lt;p&gt;Minor pom.xml cleanups in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1501355&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1501355&lt;/a&gt; , just to make it easier to understand.&lt;/p&gt;</comment>
                            <comment id="16863129" author="rombert" created="Thu, 13 Jun 2019 14:29:36 +0000"  >&lt;p&gt;We no longer have a reactor so this is not a problem anymore&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12591831" name="error.log" size="141533" author="rombert" created="Thu, 11 Jul 2013 11:13:07 +0000"/>
                            <attachment id="12591818" name="system-out-errors.txt" size="54424" author="rombert" created="Thu, 11 Jul 2013 09:40:24 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>326189</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 19 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1k9vz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>326534</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2851] Topic Round Robin Queue is not correctly marked for removal</title>
                <link>https://issues.apache.org/jira/browse/SLING-2851</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The canBeMarkedForRemoval() method wrongly checks whether the queue is waiting for a new topic to arrive. If it is waiting, it can be marked for removal&lt;/p&gt;</description>
                <environment></environment>
        <key id="12645806">SLING-2851</key>
            <summary>Topic Round Robin Queue is not correctly marked for removal</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Thu, 2 May 2013 13:14:54 +0000</created>
                <updated>Mon, 12 Aug 2013 11:22:50 +0000</updated>
                            <resolved>Thu, 2 May 2013 13:16:26 +0000</resolved>
                                    <version>Event 3.1.4</version>
                                    <fixVersion>Event 3.2.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13647507" author="cziegeler" created="Thu, 2 May 2013 13:16:26 +0000"  >&lt;p&gt;Fixed in revision 1478359 by reverting the boolean test for the waiting flag.&lt;/p&gt;

&lt;p&gt;I&apos;ve also added a check to see whether a queue is already outdated. This avoids outdating a queue more than once&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>326165</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 26 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1k9qn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>326510</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2850] launchpad/builder bunde list is missing the discovery bundle</title>
                <link>https://issues.apache.org/jira/browse/SLING-2850</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The latest launchpad/builder bundle fails to start&lt;/p&gt;

&lt;p&gt;01.05.2013 23:16:52.213 &lt;b&gt;ERROR&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;FelixStartLevel&amp;#93;&lt;/span&gt; ERROR: Error starting slinginstall:org.apache.sling.event-3.1.5-SNAPSHOT.jar (org.osgi.framework.BundleException: Unresolved constraint in bundle org.apache.sling.event &lt;span class=&quot;error&quot;&gt;&amp;#91;40&amp;#93;&lt;/span&gt;: Unable to resolve 40.0: missing requirement &lt;span class=&quot;error&quot;&gt;&amp;#91;40.0&amp;#93;&lt;/span&gt; osgi.wiring.package; (&amp;amp;(osgi.wiring.package=org.apache.sling.discovery)(version&amp;gt;=1.0.0)(!(version&amp;gt;=2.0.0))))&lt;br/&gt;
org.osgi.framework.BundleException: Unresolved constraint in bundle org.apache.sling.event &lt;span class=&quot;error&quot;&gt;&amp;#91;40&amp;#93;&lt;/span&gt;: Unable to resolve 40.0: missing requirement &lt;span class=&quot;error&quot;&gt;&amp;#91;40.0&amp;#93;&lt;/span&gt; osgi.wiring.package; (&amp;amp;(osgi.wiring.package=org.apache.sling.discovery)(version&amp;gt;=1.0.0)(!(version&amp;gt;=2.0.0)))&lt;/p&gt;</description>
                <environment></environment>
        <key id="12645693">SLING-2850</key>
            <summary>launchpad/builder bunde list is missing the discovery bundle</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 1 May 2013 20:19:39 +0000</created>
                <updated>Wed, 20 Sep 2017 12:18:32 +0000</updated>
                            <resolved>Wed, 5 Jun 2013 16:01:32 +0000</resolved>
                                                    <fixVersion>Launchpad Builder 7</fixVersion>
                                    <component>Launchpad</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13647321" author="cziegeler" created="Thu, 2 May 2013 05:43:38 +0000"  >&lt;p&gt;Maybe we should move the discovery stuff from contrib to bundles; I have the feeling that this is a very central piece for the future of Sling&lt;/p&gt;</comment>
                            <comment id="13647556" author="rmuntean" created="Thu, 2 May 2013 14:11:28 +0000"  >&lt;p&gt;I think it&apos;s a good think to move them to bundles. Anyway, we have a bundle from &apos;bundles&apos; depending on a bundle from &apos;contrib&apos; which doesn&apos;t seem right.&lt;/p&gt;

&lt;p&gt;Anyway, I tried updating the launchpad to include the discovery bundles and I got some SCR XML parsing error and did not have time to investigate. I hope to do this a bit later.&lt;/p&gt;</comment>
                            <comment id="13656019" author="cziegeler" created="Mon, 13 May 2013 14:55:26 +0000"  >&lt;p&gt;Added those bundles&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>326054</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 25 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1k91z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>326399</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2849] Sample integration tests fail on Java 7</title>
                <link>https://issues.apache.org/jira/browse/SLING-2849</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;All tests fail since Sling does not start. It seems we&apos;re using an older version of Felix ( or Launchpad? ) which does not support Java 7. The following log entry indicates that:&lt;/p&gt;

&lt;p&gt;01.05.2013 09:38:05.230 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; Starting launcher ...&lt;br/&gt;
01.05.2013 09:38:05.232 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; HTTP server port: 45188&lt;br/&gt;
01.05.2013 09:38:05.301 &lt;b&gt;ERROR&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; Failed to Start OSGi framework&lt;br/&gt;
org.osgi.framework.BundleException: Uncaught Instantiation Issue: java.lang.ArrayIndexOutOfBoundsException: -1&lt;br/&gt;
	at org.apache.sling.launchpad.base.impl.Sling.&amp;lt;init&amp;gt;(Sling.java:245)&lt;br/&gt;
	at org.apache.sling.launchpad.base.app.MainDelegate$1.&amp;lt;init&amp;gt;(MainDelegate.java:159)&lt;br/&gt;
	at org.apache.sling.launchpad.base.app.MainDelegate.start(MainDelegate.java:159)&lt;br/&gt;
	at org.apache.sling.launchpad.app.Main.startSling(Main.java:244)&lt;br/&gt;
	at org.apache.sling.launchpad.app.Main.&amp;lt;init&amp;gt;(Main.java:107)&lt;br/&gt;
	at org.apache.sling.launchpad.app.Main.main(Main.java:56)&lt;br/&gt;
Caused by: java.lang.ArrayIndexOutOfBoundsException: -1&lt;br/&gt;
	at java.util.ArrayList.elementData(ArrayList.java:371)&lt;br/&gt;
	at java.util.ArrayList.get(ArrayList.java:384)&lt;br/&gt;
	at org.apache.felix.framework.BundleImpl.getCurrentModule(BundleImpl.java:1046)&lt;br/&gt;
	at org.apache.felix.framework.BundleImpl.getSymbolicName(BundleImpl.java:863)&lt;br/&gt;
	at org.apache.sling.launchpad.base.impl.SlingFelix.getSymbolicName(SlingFelix.java:32)&lt;br/&gt;
	at org.apache.felix.framework.Felix.toString(Felix.java:1012)&lt;br/&gt;
	at org.apache.felix.framework.Logger.doLog(Logger.java:128)&lt;br/&gt;
	at org.apache.felix.framework.Logger._log(Logger.java:181)&lt;br/&gt;
	at org.apache.felix.framework.Logger.log(Logger.java:114)&lt;br/&gt;
	at org.apache.felix.framework.ExtensionManager.&amp;lt;init&amp;gt;(ExtensionManager.java:201)&lt;br/&gt;
	at org.apache.felix.framework.Felix.&amp;lt;init&amp;gt;(Felix.java:374)&lt;br/&gt;
	at org.apache.sling.launchpad.base.impl.SlingFelix.&amp;lt;init&amp;gt;(SlingFelix.java:39)&lt;br/&gt;
	at org.apache.sling.launchpad.base.impl.Sling.&amp;lt;init&amp;gt;(Sling.java:235)&lt;br/&gt;
	... 5 more&lt;br/&gt;
01.05.2013 09:38:05.303 &lt;b&gt;ERROR&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; There was a problem launching Sling&lt;/p&gt;

&lt;p&gt;All tests fail afterwards.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12645623">SLING-2849</key>
            <summary>Sample integration tests fail on Java 7</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 1 May 2013 10:37:19 +0000</created>
                <updated>Wed, 7 Aug 2013 07:46:13 +0000</updated>
                            <resolved>Sat, 18 May 2013 13:55:09 +0000</resolved>
                                                                    <component>Samples</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                    <workratio workratioPercent="0"/>
                                                                    <timeoriginalestimate seconds="0">0h</timeoriginalestimate>
                            <timeestimate seconds="0">0h</timeestimate>
                                        <comments>
                            <comment id="13646508" author="rombert" created="Wed, 1 May 2013 11:20:47 +0000"  >&lt;p&gt;Hopefully fixed in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1477948&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1477948&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Use the 7-SNAPSHOT version of the launchpad for integration tests since&lt;br/&gt;
it supports Java 7. Also removed the /system/console/shell check from&lt;br/&gt;
OsgiConsoleTest since it doesn&apos;t seem to be included in the launchpad&lt;br/&gt;
anymore.&lt;/p&gt;

&lt;p&gt;Keeping open until I have verified that the tests no longer fail on builds.apache.org.&lt;/p&gt;</comment>
                            <comment id="13661362" author="rombert" created="Sat, 18 May 2013 13:55:01 +0000"  >&lt;p&gt;The launchpad starts up fine now, although we have a systemic problem with launchpad-based tests.&lt;/p&gt;

&lt;p&gt;I&apos;ll close this one since the specific problem I opened the bug for is fixed.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12536785">SLING-2348</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>325984</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 24 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1k8mf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>326329</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2848] Event integration tests fail due to unresolvable artifacts</title>
                <link>https://issues.apache.org/jira/browse/SLING-2848</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Similar to issue &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2847&quot; title=&quot;Installer integration tests fail due to unresolvable artifacts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2847&quot;&gt;&lt;del&gt;SLING-2847&lt;/del&gt;&lt;/a&gt; , just that this time the error is &quot;Could not find artifact org.apache.sling:org.apache.sling.discovery.api:jar:0.1.0-SNAPSHOT in central (&lt;a href=&quot;http://repo1.maven.org/maven2/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://repo1.maven.org/maven2/&lt;/a&gt;)&quot;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12645608">SLING-2848</key>
            <summary>Event integration tests fail due to unresolvable artifacts</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 1 May 2013 07:44:01 +0000</created>
                <updated>Thu, 2 May 2013 12:51:13 +0000</updated>
                            <resolved>Wed, 1 May 2013 18:29:34 +0000</resolved>
                                                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                    <workratio workratioPercent="0"/>
                                                                    <timeoriginalestimate seconds="0">0h</timeoriginalestimate>
                            <timeestimate seconds="0">0h</timeestimate>
                                        <comments>
                            <comment id="13646446" author="rombert" created="Wed, 1 May 2013 07:54:22 +0000"  >&lt;p&gt;Added support for the maven.repo.local system property in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1477924&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1477924&lt;/a&gt; . Leaving open until tests are verified to pass.&lt;/p&gt;</comment>
                            <comment id="13646799" author="rombert" created="Wed, 1 May 2013 18:29:34 +0000"  >&lt;p&gt;Event ITs now run succesfully. There is one test failure ( org.apache.sling.event.it.IgnoreQueueTest.testIgnoreQueue ) but it&apos;s unrelated to the pax-exam setup.&lt;/p&gt;</comment>
                            <comment id="13647480" author="cziegeler" created="Thu, 2 May 2013 12:51:13 +0000"  >&lt;p&gt;I hope the failure is related to statistics caching inside the job manager. I changed the test to wait for a fresh statistics, let&apos;s see if this helps&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>325969</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 26 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1k8j3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>326314</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2847] Installer integration tests fail due to unresolvable artifacts</title>
                <link>https://issues.apache.org/jira/browse/SLING-2847</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Pax-Exam does not resolve dependencies which are generated using the reactor build. Tthe -Dmaven.repo.local argument is not supported for locating the default Maven repository, according to&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://ops4j1.jira.com/wiki/display/paxurl/Mvn+Protocol#MvnProtocol-local&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ops4j1.jira.com/wiki/display/paxurl/Mvn+Protocol#MvnProtocol-local&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;What happens is that the reactor build installs the -SNAPSHOT artifacts in the repository specified by the maven.repo.local system property, but pax is looking for them somewhere else.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12645547">SLING-2847</key>
            <summary>Installer integration tests fail due to unresolvable artifacts</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 30 Apr 2013 23:04:36 +0000</created>
                <updated>Wed, 1 May 2013 07:29:50 +0000</updated>
                            <resolved>Wed, 1 May 2013 07:29:50 +0000</resolved>
                                                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                    <workratio workratioPercent="0"/>
                                                                    <timeoriginalestimate seconds="0">0h</timeoriginalestimate>
                            <timeestimate seconds="0">0h</timeestimate>
                                        <comments>
                            <comment id="13646140" author="rombert" created="Tue, 30 Apr 2013 23:18:45 +0000"  >&lt;p&gt;Added support for the maven.repo.local property in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1477870&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1477870&lt;/a&gt; . Leaving open until tests are verified to pass.&lt;/p&gt;</comment>
                            <comment id="13646440" author="rombert" created="Wed, 1 May 2013 07:29:49 +0000"  >&lt;p&gt;Verified fixed in &lt;a href=&quot;https://builds.apache.org/job/sling-trunk-1.6/org.apache.sling$org.apache.sling.installer.it/1638/changes&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/sling-trunk-1.6/org.apache.sling$org.apache.sling.installer.it/1638/changes&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>325909</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 27 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1k85r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>326254</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2845] ResourceUtil.getOrCreateResource should catch PersistenceException when calling create</title>
                <link>https://issues.apache.org/jira/browse/SLING-2845</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If a resource is created concurrently, the call to ResourceResolver#create() might throw a persistence exception. In that case we should retry&lt;/p&gt;</description>
                <environment></environment>
        <key id="12645384">SLING-2845</key>
            <summary>ResourceUtil.getOrCreateResource should catch PersistenceException when calling create</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Tue, 30 Apr 2013 07:39:09 +0000</created>
                <updated>Wed, 20 Sep 2017 13:08:32 +0000</updated>
                            <resolved>Tue, 30 Apr 2013 07:46:05 +0000</resolved>
                                    <version>API 2.4.0</version>
                                    <fixVersion>API 2.4.2</fixVersion>
                                    <component>API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13645356" author="cziegeler" created="Tue, 30 Apr 2013 07:46:05 +0000"  >&lt;p&gt;Catching exception now and checking if the resource is available (revision 1477494)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>325746</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 27 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1k75r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>326091</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2844] ResourceUtil.isA() and findResourceSuperType()  should check for null resource</title>
                <link>https://issues.apache.org/jira/browse/SLING-2844</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;ResourceUitl.isA() delegates to the resource resolver of the resource however if the resource is null, this results in a NPE&lt;br/&gt;
THe method should first check th resource for null and return false if it is null&lt;/p&gt;</description>
                <environment></environment>
        <key id="12645383">SLING-2844</key>
            <summary>ResourceUtil.isA() and findResourceSuperType()  should check for null resource</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Tue, 30 Apr 2013 07:31:10 +0000</created>
                <updated>Wed, 20 Sep 2017 13:08:26 +0000</updated>
                            <resolved>Tue, 30 Apr 2013 07:36:46 +0000</resolved>
                                    <version>API 2.4.0</version>
                                    <fixVersion>API 2.4.2</fixVersion>
                                    <component>API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13645348" author="cziegeler" created="Tue, 30 Apr 2013 07:33:31 +0000"  >&lt;p&gt;The same applies for findResourceSuperType()&lt;/p&gt;</comment>
                            <comment id="13645351" author="cziegeler" created="Tue, 30 Apr 2013 07:36:46 +0000"  >&lt;p&gt;Added extra null checks in revision 1477492, and added simple tests for checking this&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>325745</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 27 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1k75j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>326090</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2843] Launchpad plugin should check if configuration directory exists</title>
                <link>https://issues.apache.org/jira/browse/SLING-2843</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If the configuration directory (src/main/config) does not exist, the PreparePackageMojo will fail as it expects this directory to exist&lt;/p&gt;</description>
                <environment></environment>
        <key id="12645152">SLING-2843</key>
            <summary>Launchpad plugin should check if configuration directory exists</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Mon, 29 Apr 2013 05:38:21 +0000</created>
                <updated>Thu, 6 Mar 2014 07:48:38 +0000</updated>
                            <resolved>Mon, 29 Apr 2013 05:43:34 +0000</resolved>
                                    <version>Maven Launchpad Plugin 2.2.0</version>
                                    <fixVersion>Maven Launchpad Plugin 2.3.0</fixVersion>
                                    <component>Maven Plugins and Archetypes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13644284" author="cziegeler" created="Mon, 29 Apr 2013 05:43:34 +0000"  >&lt;p&gt;Added an extra existence check before starting the copying&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12698176">SLING-3425</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>325514</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 27 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1k5q7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>325859</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2841] Dynamic classloader is not set for first resource from the jcr iterator</title>
                <link>https://issues.apache.org/jira/browse/SLING-2841</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The JcrNodeResourceIterator constructor is first calling seek() before setting it&apos;s classloader. Therefore during the first seek() call, the classloader is still null and the first returned resource has no classloader set.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12644604">SLING-2841</key>
            <summary>Dynamic classloader is not set for first resource from the jcr iterator</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Thu, 25 Apr 2013 14:18:53 +0000</created>
                <updated>Fri, 10 May 2013 05:56:08 +0000</updated>
                            <resolved>Thu, 25 Apr 2013 14:24:39 +0000</resolved>
                                    <version>JCR Resource 2.2.6</version>
                                    <fixVersion>JCR Resource 2.2.8</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13641850" author="cziegeler" created="Thu, 25 Apr 2013 14:24:39 +0000"  >&lt;p&gt;Fixed in revision: 1475793&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>324969</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 27 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1k2db:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>325314</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2840] JcrPropertyMap should returned correct array type for multivalue properties</title>
                <link>https://issues.apache.org/jira/browse/SLING-2840</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Current the JcrPropertyMap always returns a object array when the jcr property is a multivalue property.&lt;br/&gt;
It should rather return a Boolean array for boolean values, a String array for String values and so on.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12644598">SLING-2840</key>
            <summary>JcrPropertyMap should returned correct array type for multivalue properties</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Thu, 25 Apr 2013 13:40:20 +0000</created>
                <updated>Fri, 10 May 2013 05:56:08 +0000</updated>
                            <resolved>Thu, 25 Apr 2013 14:25:38 +0000</resolved>
                                    <version>JCR Resource 2.2.6</version>
                                    <fixVersion>JCR Resource 2.2.8</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13641852" author="cziegeler" created="Thu, 25 Apr 2013 14:25:38 +0000"  >&lt;p&gt;Fixed in revision 1475795&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>324963</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 27 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1k2bz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>325308</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2838] Broken Links Throughout Site</title>
                <link>https://issues.apache.org/jira/browse/SLING-2838</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I ran a link checker against the Sling Site as I was curious regarding some of the issues reported regarding broken links.  The report returned a number of links being broken due to invalid markdown.  &lt;/p&gt;

&lt;p&gt;Certain links use references, even though they are to external pages.  This results in a blank URL.  Additionally, there are links to resources which no longer exist.  &lt;/p&gt;

&lt;p&gt;I resolved the issues as well as:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Fixing broken links to the nabble mailing list&lt;/li&gt;
	&lt;li&gt;Some minor spelling fixes&lt;/li&gt;
	&lt;li&gt;Removed an unnecessary, broken link to localhost:8080 (should these be removed in general?)&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12644193">SLING-2838</key>
            <summary>Broken Links Throughout Site</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="klcodanr">Dan Klco</assignee>
                                    <reporter username="klcodanr">Dan Klco</reporter>
                        <labels>
                            <label>documentation</label>
                    </labels>
                <created>Tue, 23 Apr 2013 20:24:00 +0000</created>
                <updated>Mon, 29 Apr 2013 00:58:42 +0000</updated>
                            <resolved>Mon, 29 Apr 2013 00:58:42 +0000</resolved>
                                                                    <component>Site</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13639591" author="klcodanr" created="Tue, 23 Apr 2013 20:28:35 +0000"  >&lt;p&gt;Adding a patch containing the changes.&lt;/p&gt;</comment>
                            <comment id="13641913" author="klcodanr" created="Thu, 25 Apr 2013 16:03:50 +0000"  >&lt;p&gt;After the initial push to Staging I found the following additional issues:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;mailto: links on the security page not working&lt;/li&gt;
	&lt;li&gt;Links to the Apache Con PDFs on the links page not working&lt;/li&gt;
	&lt;li&gt;Reference links to the download page are broken&lt;/li&gt;
	&lt;li&gt;Anchors within the page content are broken&lt;/li&gt;
	&lt;li&gt;Table on the Sling Plugin is broken&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13641917" author="bdelacretaz" created="Thu, 25 Apr 2013 16:07:49 +0000"  >&lt;p&gt;I wouldn&apos;t waste much time on mailto links if they are problematic, someone () apache.org in text form is good enough for me.&lt;/p&gt;</comment>
                            <comment id="13641971" author="klcodanr" created="Thu, 25 Apr 2013 17:22:19 +0000"  >&lt;p&gt;Fair enough, I&apos;ll just replace the mailto links with security(at)sling.apache.org.&lt;/p&gt;</comment>
                            <comment id="13642100" author="klcodanr" created="Thu, 25 Apr 2013 19:13:16 +0000"  >&lt;p&gt;Found a few more issues:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;site.css links to incorrect location for check icon&lt;/li&gt;
	&lt;li&gt;Link to OpenID Auth project incorrect in Authentication Actors&lt;/li&gt;
	&lt;li&gt;SLF4J URL has comma on logging page&lt;/li&gt;
	&lt;li&gt;Maven Launchpad Plugin has issues with tables and lists&lt;/li&gt;
	&lt;li&gt;Link to JackRabbit page broken on the Repository Development page&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13644185" author="klcodanr" created="Mon, 29 Apr 2013 00:58:42 +0000"  >&lt;p&gt;The broken links found with the link checker have been resolved, except for a few which link to articles which no longer exist.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12580123" name="SLING-2838.diff" size="88838" author="klcodanr" created="Tue, 23 Apr 2013 20:28:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>324560</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 27 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1jzuf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>324905</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2837] Broken links on main project page</title>
                <link>https://issues.apache.org/jira/browse/SLING-2837</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Page &lt;a href=&quot;http://sling.apache.org/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sling.apache.org/&lt;/a&gt;&lt;br/&gt;
contains two broken links: both links in the Getting started section don&apos;t work.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&quot;Discover Sling in 15 minutes&quot; points to &lt;a href=&quot;http://sling.apache.org/discover-sling-in-15-minutes.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sling.apache.org/discover-sling-in-15-minutes.html&lt;/a&gt;&lt;br/&gt;
  should be &lt;a href=&quot;http://sling.apache.org/documentation/getting-started/discover-sling-in-15-minutes.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sling.apache.org/documentation/getting-started/discover-sling-in-15-minutes.html&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&quot;Getting started&quot; points to &lt;a href=&quot;http://sling.apache.org/getting-started.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sling.apache.org/getting-started.html&lt;/a&gt;&lt;br/&gt;
  should be &lt;a href=&quot;http://sling.apache.org/documentation/getting-started.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sling.apache.org/documentation/getting-started.html&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;There may be other broken links, I did not check them all...&lt;br/&gt;
Hope this is useful. -Remko&lt;/p&gt;</description>
                <environment></environment>
        <key id="12644048">SLING-2837</key>
            <summary>Broken links on main project page</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="rpopma">Remko Popma</reporter>
                        <labels>
                    </labels>
                <created>Tue, 23 Apr 2013 04:46:44 +0000</created>
                <updated>Tue, 23 Apr 2013 08:52:53 +0000</updated>
                            <resolved>Tue, 23 Apr 2013 08:52:53 +0000</resolved>
                                                                    <component>Site</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13638893" author="bdelacretaz" created="Tue, 23 Apr 2013 08:52:53 +0000"  >&lt;p&gt;Thanks for reporting, I have fixed the links (that&apos;s the ones in the main text of the page, the ones in the left side navigation were already ok)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>324415</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 28 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1jyyf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>324760</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2836] Missing @(De)Activate annotations in ReferrerFilter#(de)activate() methods cause Sling Referrer Filter Tab clones</title>
                <link>https://issues.apache.org/jira/browse/SLING-2836</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;As per subject, &lt;tt&gt;ReferrerFilter#activate()&lt;/tt&gt; and &lt;tt&gt;ReferrerFilter#deactivate()&lt;/tt&gt; methods are not annotated with &lt;tt&gt;@Activate&lt;/tt&gt; and &lt;tt&gt;@Deactivate&lt;/tt&gt; annotations, that causes the &lt;em&gt;Sling Referrer Filter&lt;/em&gt; tab in the &lt;em&gt;Configuration Status&lt;/em&gt; is cloned.&lt;br/&gt;
I&apos;d assume that it is because the &lt;tt&gt;ReferrerFilter&lt;/tt&gt; is never deactivated so multiple &lt;tt&gt;ReferrerFilter&lt;/tt&gt; instances exist.&lt;/p&gt;

&lt;p&gt;Patch is following!&lt;/p&gt;</description>
                <environment></environment>
        <key id="12643881">SLING-2836</key>
            <summary>Missing @(De)Activate annotations in ReferrerFilter#(de)activate() methods cause Sling Referrer Filter Tab clones</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="simone.tripodi">Simone Tripodi</reporter>
                        <labels>
                    </labels>
                <created>Mon, 22 Apr 2013 07:36:46 +0000</created>
                <updated>Wed, 22 May 2013 08:25:52 +0000</updated>
                            <resolved>Mon, 22 Apr 2013 08:05:00 +0000</resolved>
                                    <version>Security 1.0.2</version>
                                    <fixVersion>Security 1.0.4</fixVersion>
                                    <component>Console</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13637813" author="simone.tripodi" created="Mon, 22 Apr 2013 07:40:35 +0000"  >&lt;p&gt;The proposed patch fixes the reported issue&lt;/p&gt;</comment>
                            <comment id="13637823" author="cziegeler" created="Mon, 22 Apr 2013 08:05:00 +0000"  >&lt;p&gt;Thanks for your patch. I&apos;ve applied it.&lt;/p&gt;

&lt;p&gt;While the @Activate annotation is not really necessary as that method is using the default method name + signature, @Deactive is required. However, for claritiy I added both annotations&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12579795" name="SLING-2836.patch" size="1403" author="simone.tripodi" created="Mon, 22 Apr 2013 07:40:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>324248</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 28 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1jxxj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>324593</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2833] org.apache.sling.auth.form update dependency version of org.apache.sling.auth.core</title>
                <link>https://issues.apache.org/jira/browse/SLING-2833</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The dependency from org.apache.sling.auth.form 1.0.3-SNAPSHOT (trunk) to org.apache.sling.auth.core uses the old 1.0.7-SNAPSHOT version instead of a newer released one. Should be updated to 1.1.2.&lt;/p&gt;

&lt;p&gt;        &amp;lt;dependency&amp;gt;&lt;br/&gt;
            &amp;lt;groupId&amp;gt;org.apache.sling&amp;lt;/groupId&amp;gt;&lt;br/&gt;
            &amp;lt;artifactId&amp;gt;org.apache.sling.auth.core&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
            &amp;lt;version&amp;gt;1.1.2&amp;lt;/version&amp;gt;&lt;br/&gt;
            &amp;lt;scope&amp;gt;provided&amp;lt;/scope&amp;gt;&lt;br/&gt;
        &amp;lt;/dependency&amp;gt;&lt;/p&gt;

&lt;p&gt;This works in my local setup without problems.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12643517">SLING-2833</key>
            <summary>org.apache.sling.auth.form update dependency version of org.apache.sling.auth.core</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="fchrist">Fabian Christ</reporter>
                        <labels>
                    </labels>
                <created>Fri, 19 Apr 2013 07:42:14 +0000</created>
                <updated>Wed, 20 Sep 2017 12:30:48 +0000</updated>
                            <resolved>Fri, 24 May 2013 09:37:04 +0000</resolved>
                                                    <fixVersion>Form Based Authentication 1.0.4</fixVersion>
                                    <component>Authentication</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13666161" author="bdelacretaz" created="Fri, 24 May 2013 09:37:04 +0000"  >&lt;p&gt;Has been fixed in &lt;a href=&quot;http://svn.apache.org/r1470410&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1470410&lt;/a&gt; by setting the dependency to 1.1.0 which is good enough considering we want to depend on the oldest possible version of APIs.&lt;/p&gt;

&lt;p&gt;Thanks Fabian for reporting this!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>323884</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1jvon:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>324229</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2828] TenantRoot folder fails to get created</title>
                <link>https://issues.apache.org/jira/browse/SLING-2828</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;TenantProviderImpl fails to create the tenantRoot folder in createTenantResource. See attached patch for a possible fix.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12643002">SLING-2828</key>
            <summary>TenantRoot folder fails to get created</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="fwandele">Florentin Wandeler</reporter>
                        <labels>
                    </labels>
                <created>Wed, 17 Apr 2013 18:59:03 +0000</created>
                <updated>Sun, 17 Nov 2013 01:38:01 +0000</updated>
                            <resolved>Thu, 18 Apr 2013 08:49:03 +0000</resolved>
                                    <version>Tenant 1.0.0</version>
                                    <fixVersion>Tenant 1.0.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13635000" author="cziegeler" created="Thu, 18 Apr 2013 08:49:03 +0000"  >&lt;p&gt;Thanks for the patch, Florentin. It&apos;s applied&lt;/p&gt;</comment>
                            <comment id="13824699" author="fmeschbe" created="Sun, 17 Nov 2013 01:38:01 +0000"  >&lt;p&gt;Tenant 1.0 has been released, hence closing issues now.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12579176" name="TenantProvider__fix_creation_of_tenantRoot_folder.patch" size="608" author="fwandele" created="Wed, 17 Apr 2013 18:59:34 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>323412</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 50 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1jsrr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>323757</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2821] Logging the cookie value in a custom request log pattern does not work</title>
                <link>https://issues.apache.org/jira/browse/SLING-2821</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When using the&lt;/p&gt;

&lt;p&gt;   &quot;%&lt;/p&gt;
{cookie-name}
&lt;p&gt;C&quot;&lt;/p&gt;

&lt;p&gt;pattern in a custom log format, not the cookie&apos;s value but something like &lt;/p&gt;

&lt;p&gt;   &quot;javax.servlet.http.Cookie@157ce2e3&quot;&lt;/p&gt;

&lt;p&gt;is logged.&lt;/p&gt;

&lt;p&gt;The right value to log is not Cookie.toString() but Cookie.getValue()&lt;/p&gt;</description>
                <environment></environment>
        <key id="12642243">SLING-2821</key>
            <summary>Logging the cookie value in a custom request log pattern does not work</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Fri, 12 Apr 2013 14:47:15 +0000</created>
                <updated>Thu, 18 Apr 2013 14:14:26 +0000</updated>
                            <resolved>Fri, 12 Apr 2013 14:48:40 +0000</resolved>
                                    <version>Engine 2.2.6</version>
                                    <fixVersion>Engine 2.2.8</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13630117" author="fmeschbe" created="Fri, 12 Apr 2013 14:48:40 +0000"  >&lt;p&gt;Fixed in Rev. 1467291&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>322657</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 29 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1jo47:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>323002</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2820] Resource set should be sorted on demand</title>
                <link>https://issues.apache.org/jira/browse/SLING-2820</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The EntityResourceList stores a sorted set of TaskResources - however, this is sorted on modifications of the set only but the TaskResources are changed underneath which has an effect on the sort order.&lt;br/&gt;
This might lead to a wrong sorting.&lt;br/&gt;
We should rather sort the set on demand - the other option would be to do a trigger based sort, but this would make the code ugly as all modifications of a TaskResource need to be propagated to the containing set.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12642227">SLING-2820</key>
            <summary>Resource set should be sorted on demand</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Fri, 12 Apr 2013 11:46:18 +0000</created>
                <updated>Sat, 18 Jan 2014 19:35:58 +0000</updated>
                            <resolved>Fri, 12 Apr 2013 12:28:10 +0000</resolved>
                                    <version>Installer Core 3.4.6</version>
                                    <fixVersion>Installer Core 3.5.0</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13630013" author="cziegeler" created="Fri, 12 Apr 2013 12:28:10 +0000"  >&lt;p&gt;Fixed in revision 1467250&lt;br/&gt;
I switched from a set to a list which is now sorted on demand. Given that usually the list contains a single entry and in some cases maybe two or three, the extra sorting doesn&apos;t really make a difference in terms of performance&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>322641</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 29 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1jo0n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>322986</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2819] NPE in ResourceResolverImpl.mangleNamespaces when attempting to map http://example.com</title>
                <link>https://issues.apache.org/jira/browse/SLING-2819</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The following JSP script (used as foo.jsp in the below example) throws an NPE with the current launchpad/builder which uses org.apache.sling.resourceresolver 1.0.5.SNAPSHOT:&lt;/p&gt;

&lt;p&gt;&amp;lt;%@taglib prefix=&quot;sling&quot; uri=&quot;http://sling.apache.org/taglibs/sling/1.0&quot;%&amp;gt;&lt;br/&gt;
&amp;lt;sling:defineObjects/&amp;gt;&lt;br/&gt;
&amp;lt;%= resource.getResourceResolver().map(request, &quot;http://example.com&quot;) %&amp;gt;&lt;/p&gt;

&lt;p&gt;Full failure scenario:&lt;/p&gt;

&lt;p&gt;export P=8080&lt;br/&gt;
curl -u admin:admin -Fsling:resourceType=foo &lt;a href=&quot;http://localhost:$P/tmp/foo&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:$P/tmp/foo&lt;/a&gt;&lt;br/&gt;
curl -u admin:admin -XMKCOL &lt;a href=&quot;http://localhost:$P/apps/foo&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:$P/apps/foo&lt;/a&gt;&lt;br/&gt;
curl -u admin:admin -T foo.jsp &lt;a href=&quot;http://localhost:$P/apps/foo/foo.jsp&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:$P/apps/foo/foo.jsp&lt;/a&gt;&lt;br/&gt;
curl -u admin:admin &lt;a href=&quot;http://localhost:$P/tmp/foo.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:$P/tmp/foo.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The last request causes java.lang.NullPointerException&lt;br/&gt;
	at org.apache.sling.resourceresolver.impl.ResourceResolverImpl.mangleNamespaces(ResourceResolverImpl.java:969)&lt;br/&gt;
	at org.apache.sling.resourceresolver.impl.ResourceResolverImpl.map(ResourceResolverImpl.java:524)&lt;br/&gt;
	at org.apache.jsp.apps.foo.foo_jsp._jspService(foo_jsp.java:90)&lt;/p&gt;

</description>
                <environment></environment>
        <key id="12641638">SLING-2819</key>
            <summary>NPE in ResourceResolverImpl.mangleNamespaces when attempting to map http://example.com</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Tue, 9 Apr 2013 15:00:36 +0000</created>
                <updated>Thu, 18 Apr 2013 14:12:29 +0000</updated>
                            <resolved>Wed, 10 Apr 2013 11:45:43 +0000</resolved>
                                    <version>Resource Resolver 1.0.4</version>
                                    <fixVersion>Resource Resolver 1.0.6</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13626973" author="cziegeler" created="Tue, 9 Apr 2013 19:16:36 +0000"  >&lt;p&gt;As the used url does not have a path, it&apos;s fine that in line 524 uri.getPath() returns null. Not 100% sure, but I guess we should just check this&lt;/p&gt;</comment>
                            <comment id="13627677" author="alexander.klimetschek" created="Wed, 10 Apr 2013 11:03:30 +0000"  >&lt;p&gt;map() expects a path for the 2nd argument, so I think it should simply throw an IllegalArgumentException &quot;not a path&quot; in case uri.getPath() returns null or simply return the original string unmodified. Depending on what we want. &lt;/p&gt;</comment>
                            <comment id="13627697" author="bdelacretaz" created="Wed, 10 Apr 2013 11:45:43 +0000"  >&lt;p&gt;Fixed in revision 1466430, after adding ResourceResolverMangleNamespacesTest in revision 1466432&lt;/p&gt;

&lt;p&gt;The fix to ResourceResolverImpl simply checks for a null path and does no mangling in this case, which is correct as mangling applies only to paths anyway.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12538360">SLING-2367</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>322054</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 30 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1jke7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>322399</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2818] ErrorHandlingTest often fails</title>
                <link>https://issues.apache.org/jira/browse/SLING-2818</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;At least at &lt;a href=&quot;https://builds.apache.org/view/S-Z/view/Sling/job/sling-trunk-1.6&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/view/S-Z/view/Sling/job/sling-trunk-1.6&lt;/a&gt; the org.apache.sling.launchpad.webapp.integrationtest.servlets.resolver.errorhandler.ErrorHandlingTest often fails, sometimes for unclear reasons (timing?).&lt;/p&gt;

&lt;p&gt;Recent error messages include&lt;/p&gt;

&lt;p&gt;At ErrorHandlingTest.setUp:&lt;br/&gt;
mkdir(&lt;a href=&quot;http://localhost:42232/apps/servlets/errorhandler&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:42232/apps/servlets/errorhandler&lt;/a&gt;) failed, status code=503&lt;/p&gt;

&lt;p&gt;At ErrorHandlingTest.test_500_errorhandling:&lt;br/&gt;
Error 503 AuthenticationSupport service missing. Cannot authenticate request&lt;/p&gt;

&lt;p&gt;It looks like something (maybe the test&apos;s setup itself) causes Sling to go 503 just before the test.&lt;/p&gt;

&lt;p&gt;The test that runs just before is org.apache.sling.launchpad.webapp.integrationtest.CreateNodeTest which shouldn&apos;t cause a 503 status.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12641550">SLING-2818</key>
            <summary>ErrorHandlingTest often fails</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Tue, 9 Apr 2013 09:24:57 +0000</created>
                <updated>Mon, 3 Jun 2013 12:25:59 +0000</updated>
                            <resolved>Mon, 3 Jun 2013 12:21:09 +0000</resolved>
                                                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13647904" author="rombert" created="Thu, 2 May 2013 21:01:29 +0000"  >&lt;p&gt;The error seems to be that a JSP can&apos;t be compiled due to a missing ServiceReference.&lt;/p&gt;</comment>
                            <comment id="13648225" author="bdelacretaz" created="Fri, 3 May 2013 06:46:00 +0000"  >&lt;p&gt;Indeed, thanks for the stack trace:&lt;/p&gt;

&lt;p&gt;java.lang.NullPointerException: Specified service reference cannot be null.&lt;br/&gt;
	at org.apache.felix.framework.BundleContextImpl.getService(BundleContextImpl.java:458)&lt;br/&gt;
	at org.apache.sling.jcr.classloader.internal.ClassLoaderWriterImpl.getOrCreateClassLoader(ClassLoaderWriterImpl.java:215)&lt;br/&gt;
...&lt;/p&gt;

&lt;p&gt;Looks like something causes the DynamicClassLoaderManager that the ClassLoaderWriterImpl uses to go away before the test runs.&lt;/p&gt;</comment>
                            <comment id="13648308" author="bdelacretaz" created="Fri, 3 May 2013 10:31:21 +0000"  >&lt;p&gt;The cause was an uploaded script changing the JSP engine config before running the first JSP test. Depending on timing, the engine wasn&apos;t ready when the test executes.&lt;/p&gt;

&lt;p&gt;I have moved the JSP engine config to initial content in &lt;a href=&quot;http://svn.apache.org/r1478715&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1478715&lt;/a&gt; , so that it&apos;s configured at startup to avoid timing issues.&lt;/p&gt;</comment>
                            <comment id="13673048" author="bdelacretaz" created="Mon, 3 Jun 2013 12:01:49 +0000"  >&lt;p&gt;This test still fails semi-randomly, with different error messages than before the previous fix.&lt;/p&gt;

&lt;p&gt;I suspect there&apos;s some delay until an error handler script is activated after it is uploaded, I&apos;ll add retries to the tests to see if that helps.&lt;/p&gt;</comment>
                            <comment id="13673063" author="bdelacretaz" created="Mon, 3 Jun 2013 12:21:09 +0000"  >&lt;p&gt;I have added retries (up to 10 seconds) to each test of the ErrorHandling class in &lt;a href=&quot;http://svn.apache.org/r1488972&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1488972&lt;/a&gt; - the hard way as those are still JUnit3-style tests, @Rule is not supported.&lt;/p&gt;

&lt;p&gt;Let&apos;s see if that helps.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12631219">SLING-2724</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12581604" name="error-message.txt" size="14077" author="rombert" created="Thu, 2 May 2013 21:01:28 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>321966</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 22 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1jjun:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>322311</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2817] JcrResourceUtil#createValue should treat integer and short as long and not as double</title>
                <link>https://issues.apache.org/jira/browse/SLING-2817</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Currently if an integer or a short is written to the repository, it is written as a double value which makes converting it back way too hard.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12641527">SLING-2817</key>
            <summary>JcrResourceUtil#createValue should treat integer and short as long and not as double</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Tue, 9 Apr 2013 06:36:04 +0000</created>
                <updated>Thu, 18 Apr 2013 14:13:03 +0000</updated>
                            <resolved>Tue, 9 Apr 2013 06:37:01 +0000</resolved>
                                    <version>JCR Resource 2.2.4</version>
                                    <fixVersion>JCR Resource 2.2.6</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13626300" author="cziegeler" created="Tue, 9 Apr 2013 06:37:01 +0000"  >&lt;p&gt;I&apos;ve added extra checks for integer and short in revision 1465904&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>321943</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 30 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1jjpj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>322288</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2816] ConfigPrioritiesTest does not behave as expected</title>
                <link>https://issues.apache.org/jira/browse/SLING-2816</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The ConfigPrioritiesTest in installer/it does not behave as I&apos;d expect it, I&apos;ll add TODOs to explain the details.&lt;/p&gt;

&lt;p&gt;It probably hasn&apos;t been run in a long time, as before my &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2815&quot; title=&quot;Run installer integration tests with latest pax exam&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2815&quot;&gt;&lt;del&gt;SLING-2815&lt;/del&gt;&lt;/a&gt; changes the @Test annotation was missing, and the version of JUnit used then didn&apos;t complain.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12641374">SLING-2816</key>
            <summary>ConfigPrioritiesTest does not behave as expected</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Mon, 8 Apr 2013 14:32:59 +0000</created>
                <updated>Sun, 31 Aug 2014 08:48:58 +0000</updated>
                            <resolved>Fri, 22 Aug 2014 12:11:30 +0000</resolved>
                                                    <fixVersion>Installer Core 3.5.4</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13625416" author="bdelacretaz" created="Mon, 8 Apr 2013 14:37:53 +0000"  >&lt;p&gt;Test re-activated with TODOs in revision 1465653 - my impression is that the installer just considers the last config resource provided and ignores other candidates which have the same PID and different priorities. Not sure if that&apos;s what we want.&lt;/p&gt;</comment>
                            <comment id="14106749" author="cziegeler" created="Fri, 22 Aug 2014 12:07:32 +0000"  >&lt;p&gt;Actually the test is wrong and the code is right &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
The test is using the same id for the different resources which means it does not provide three different resources, but the same resource three times with different contents. In that case, priority does of course not play a role&lt;/p&gt;</comment>
                            <comment id="14106755" author="cziegeler" created="Fri, 22 Aug 2014 12:11:30 +0000"  >&lt;p&gt;Corrected the test in rev 1619772&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>321790</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 10 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1jirj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>322135</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2815] Run installer integration tests with latest pax exam</title>
                <link>https://issues.apache.org/jira/browse/SLING-2815</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The installer/it tests use an old version of Pax Exam, which sometimes hangs for a very long time at startup.&lt;/p&gt;

&lt;p&gt;Also, that old pax exam cannot use version 4.x of the Felix framework.&lt;/p&gt;

&lt;p&gt;I&apos;ll &quot;port&quot; the tests to the latest pax exam.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12641373">SLING-2815</key>
            <summary>Run installer integration tests with latest pax exam</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Mon, 8 Apr 2013 14:00:10 +0000</created>
                <updated>Mon, 8 Apr 2013 14:03:31 +0000</updated>
                            <resolved>Mon, 8 Apr 2013 14:03:31 +0000</resolved>
                                    <version>Installer Core 3.4.6</version>
                                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13625386" author="bdelacretaz" created="Mon, 8 Apr 2013 14:03:31 +0000"  >&lt;p&gt;Revision 1465642 uses pax exam V3.0.3. &lt;/p&gt;

&lt;p&gt;I have removed the remote debugging port property in the pom, the tests run in the main JVM process now and can be debugged remotely using the maven.surefire.debug&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>321789</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 30 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1jirb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>322134</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2814] JcrResourceProvider should ignore auto properties when creating a resource</title>
                <link>https://issues.apache.org/jira/browse/SLING-2814</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When e.g. copying a jcr resource through the resource api by copying the returned value map, the new properties map contains some auto generated properties like &quot;jcr:created&quot; and &quot;jcr:createdBy&quot;. If these are specified during resource generation, an empty node is generated without any error notice.&lt;br/&gt;
Regardless of the jcr behaviour, we should ignore such auto managed properties anyway&lt;/p&gt;</description>
                <environment></environment>
        <key id="12641253">SLING-2814</key>
            <summary>JcrResourceProvider should ignore auto properties when creating a resource</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Sun, 7 Apr 2013 15:14:40 +0000</created>
                <updated>Thu, 18 Apr 2013 14:13:03 +0000</updated>
                            <resolved>Sun, 7 Apr 2013 15:19:59 +0000</resolved>
                                    <version>JCR Resource 2.2.4</version>
                                    <fixVersion>JCR Resource 2.2.6</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13624939" author="cziegeler" created="Sun, 7 Apr 2013 15:19:59 +0000"  >&lt;p&gt;Added the two properties to the ignore list&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>321669</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 30 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ji0n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>322014</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2813] Add helper method for creating a path of resources</title>
                <link>https://issues.apache.org/jira/browse/SLING-2813</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;With the CRUD API it makes sense to have some utility method in ResourceUtil which creates a path of resources (if they are not existing) to make it easier creating structures in the resource tree&lt;/p&gt;</description>
                <environment></environment>
        <key id="12640949">SLING-2813</key>
            <summary>Add helper method for creating a path of resources</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Fri, 5 Apr 2013 07:10:58 +0000</created>
                <updated>Thu, 18 Apr 2013 14:11:19 +0000</updated>
                            <resolved>Fri, 12 Apr 2013 14:28:52 +0000</resolved>
                                    <version>API 2.3.0</version>
                                    <fixVersion>API 2.4.0</fixVersion>
                                    <component>API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13623451" author="cziegeler" created="Fri, 5 Apr 2013 08:22:30 +0000"  >&lt;p&gt;Added two new methods in revision 1464885 - I&apos;ll leave this issue open for some days for potential feedback/adjustments&lt;/p&gt;</comment>
                            <comment id="13623459" author="bdelacretaz" created="Fri, 5 Apr 2013 08:39:37 +0000"  >&lt;p&gt;I don&apos;t see any tests in revision 1464885 - but maybe I missed something &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13623460" author="cziegeler" created="Fri, 5 Apr 2013 08:42:20 +0000"  >&lt;p&gt;There are none, feel free to add them &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>321408</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 30 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1jgen:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>321753</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2812] Access to handler map is not correctly synchronized</title>
                <link>https://issues.apache.org/jira/browse/SLING-2812</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The bindAuthHandler method does not synchronize the modification to the handler map correctly. It uses the handler object to sync - which is always different&lt;/p&gt;</description>
                <environment></environment>
        <key id="12640760">SLING-2812</key>
            <summary>Access to handler map is not correctly synchronized</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Thu, 4 Apr 2013 12:43:39 +0000</created>
                <updated>Thu, 18 Apr 2013 14:11:54 +0000</updated>
                            <resolved>Thu, 4 Apr 2013 12:46:40 +0000</resolved>
                                    <version>Auth Core 1.1.0</version>
                                    <fixVersion>Auth Core 1.1.2</fixVersion>
                                    <component>Authentication</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13622107" author="cziegeler" created="Thu, 4 Apr 2013 12:46:40 +0000"  >&lt;p&gt;Fixed by syncing on the handler map itself&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>321219</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 30 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1jf93:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>321564</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2811] Sling documentation exposes commercial product classes</title>
                <link>https://issues.apache.org/jira/browse/SLING-2811</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;While checking the documentation of Sling Servlet Filter Support &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;, I figured out it references some commercial product classes:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;com.day.cq.wcm.core.impl.WCMComponentFilter&lt;/li&gt;
	&lt;li&gt;com.day.cq.theme.impl.ThemeResolverFilter&lt;/li&gt;
	&lt;li&gt;com.day.cq.wcm.foundation.forms.impl.FormsHandlingServlet&lt;br/&gt;
...&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;An open-source project should not reference commercial products&apos; classes in its documentation.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://sling.apache.org/site/filters.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sling.apache.org/site/filters.html&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12640730">SLING-2811</key>
            <summary>Sling documentation exposes commercial product classes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="gknob">Gilles Knobloch</reporter>
                        <labels>
                    </labels>
                <created>Thu, 4 Apr 2013 08:59:50 +0000</created>
                <updated>Thu, 4 Apr 2013 09:53:19 +0000</updated>
                            <resolved>Thu, 4 Apr 2013 09:25:18 +0000</resolved>
                                                                    <component>Documentation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13621966" author="ianeboston" created="Thu, 4 Apr 2013 09:25:18 +0000"  >&lt;p&gt;Removed references, thanks for the report.&lt;/p&gt;</comment>
                            <comment id="13621975" author="bdelacretaz" created="Thu, 4 Apr 2013 09:49:19 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ianeboston&quot; class=&quot;user-hover&quot; rel=&quot;ianeboston&quot;&gt;ianeboston&lt;/a&gt; - looks like we made some changes simultaneously...I have also redirected &lt;a href=&quot;http://sling.apache.org/site/filters.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sling.apache.org/site/filters.html&lt;/a&gt; to the new page which is &lt;a href=&quot;http://sling.apache.org/documentation/the-sling-engine/filters.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sling.apache.org/documentation/the-sling-engine/filters.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The latter page looks good to me, but please cross-check that we didn&apos;t lose any important changes.&lt;/p&gt;
</comment>
                            <comment id="13621978" author="bdelacretaz" created="Thu, 4 Apr 2013 09:53:19 +0000"  >&lt;p&gt;FWIW, Ian&apos;s changes to site/filters.html were revision 1464388 - I have now deleted that file as it&apos;s hidden by the redirect that I just added to site/.htaccess anyway.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>321189</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 30 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1jf2f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>321534</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2809] broken link</title>
                <link>https://issues.apache.org/jira/browse/SLING-2809</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;There is a broken link, it&apos;s anchor(named Development) can be found here: &lt;a href=&quot;http://sling.apache.org/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sling.apache.org/&lt;/a&gt; at the section Contents. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12640496">SLING-2809</key>
            <summary>broken link</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="klcodanr">Dan Klco</assignee>
                                    <reporter username="calinb">Blaga Calin</reporter>
                        <labels>
                    </labels>
                <created>Wed, 3 Apr 2013 11:50:27 +0000</created>
                <updated>Fri, 31 May 2013 15:18:20 +0000</updated>
                            <resolved>Fri, 31 May 2013 15:18:20 +0000</resolved>
                                                                    <component>Site</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13671561" author="klcodanr" created="Fri, 31 May 2013 15:18:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=calinb&quot; class=&quot;user-hover&quot; rel=&quot;calinb&quot;&gt;calinb&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I believe this issue is resolved, I was also able to fix a number of other broken links on the new site.  Please check and let me know if you are still having the issue.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>320956</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 22 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1jdlr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>321297</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2808] Scripts might not see classes provided by fragment bundles (Felix framework issue)</title>
                <link>https://issues.apache.org/jira/browse/SLING-2808</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Due to &lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-3239&quot; title=&quot;PackageAdmin#getExportedPackages does not work on packages exported by attached fragments&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-3239&quot;&gt;&lt;del&gt;FELIX-3239&lt;/del&gt;&lt;/a&gt;, when running with some 4.x (at least 4.0.1 and 4.0.2) of the Felix framework the PackageAdminClassLoader does not see classes that are provided by fragment bundles, which makes such classes unavailable to scripts.&lt;/p&gt;

&lt;p&gt;There&apos;s nothing to fix in Sling - creating this issue to document the problem until it is fixed in Felix.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12640311">SLING-2808</key>
            <summary>Scripts might not see classes provided by fragment bundles (Felix framework issue)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Tue, 2 Apr 2013 14:26:25 +0000</created>
                <updated>Tue, 10 Dec 2024 10:40:21 +0000</updated>
                            <resolved>Wed, 30 Jul 2014 09:03:32 +0000</resolved>
                                                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13619907" author="bdelacretaz" created="Tue, 2 Apr 2013 15:07:48 +0000"  >&lt;p&gt;Added an integration test in revision 1463585, we can enable the DISABLED_ test in ExportedPackagesTest once this is fixed.&lt;/p&gt;</comment>
                            <comment id="13877606" author="bdelacretaz" created="Tue, 21 Jan 2014 16:55:37 +0000"  >&lt;p&gt;Still not fixed, no progress on &lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-3239&quot; title=&quot;PackageAdmin#getExportedPackages does not work on packages exported by attached fragments&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-3239&quot;&gt;&lt;del&gt;FELIX-3239&lt;/del&gt;&lt;/a&gt; and the ExportedPackagesTest.testPackageFromFragment still fails if enabled.&lt;/p&gt;</comment>
                            <comment id="14079089" author="bdelacretaz" created="Wed, 30 Jul 2014 09:03:32 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-3239&quot; title=&quot;PackageAdmin#getExportedPackages does not work on packages exported by attached fragments&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-3239&quot;&gt;&lt;del&gt;FELIX-3239&lt;/del&gt;&lt;/a&gt; has been fixed, test reactivated in &lt;a href=&quot;http://svn.apache.org/r1614588&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1614588&lt;/a&gt;, all 3 ExportedPackagesTest tests pass now.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12532467">FELIX-3239</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13601535">SLING-12535</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>320774</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 14 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1jchb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>321115</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2806] JEXL Scripting engine cause an exception in ScriptEngineManagerFactory</title>
                <link>https://issues.apache.org/jira/browse/SLING-2806</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When Commons JEXLorg.apache.commons.jexl	2.1.1 bundle is added the ScriptEngineFactory throw the following exception:&lt;/p&gt;

&lt;p&gt;2013-03-30_01:41:19.629 ERROR o.a.s.s.c.i.ScriptEngineManagerFactory - Cannot register ScriptEngineFactory &lt;br/&gt;
java.lang.ClassNotFoundException:  not found by org.apache.commons.jexl &lt;span class=&quot;error&quot;&gt;&amp;#91;15&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.felix.framework.ModuleImpl.findClassOrResourceByDelegation(ModuleImpl.java:787) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;na:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.felix.framework.ModuleImpl.access$400(ModuleImpl.java:71) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;na:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.felix.framework.ModuleImpl$ModuleClassLoader.loadClass(ModuleImpl.java:1768) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;na:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at java.lang.ClassLoader.loadClass(ClassLoader.java:247) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;na:1.6.0_43&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.felix.framework.ModuleImpl.getClassByDelegation(ModuleImpl.java:645) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;na:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.felix.framework.Felix.loadBundleClass(Felix.java:1612) &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.launchpad.base.jar:2.3.1-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.felix.framework.BundleImpl.loadClass(BundleImpl.java:904) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;na:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.sling.scripting.core.impl.ScriptEngineManagerFactory.registerFactories(ScriptEngineManagerFactory.java:145) &lt;span class=&quot;error&quot;&gt;&amp;#91;null:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.sling.scripting.core.impl.ScriptEngineManagerFactory.refreshScriptEngineManager(ScriptEngineManagerFactory.java:103) &lt;span class=&quot;error&quot;&gt;&amp;#91;null:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.sling.scripting.core.impl.ScriptEngineManagerFactory.bindScriptEngineFactory(ScriptEngineManagerFactory.java:260) &lt;span class=&quot;error&quot;&gt;&amp;#91;null:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;na:1.6.0_43&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;na:1.6.0_43&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;na:1.6.0_43&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;na:1.6.0_43&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.felix.scr.impl.helper.BaseMethod.invokeMethod(BaseMethod.java:227) &lt;span class=&quot;error&quot;&gt;&amp;#91;null:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.felix.scr.impl.helper.BaseMethod.access$500(BaseMethod.java:38) &lt;span class=&quot;error&quot;&gt;&amp;#91;null:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.felix.scr.impl.helper.BaseMethod$Resolved.invoke(BaseMethod.java:591) &lt;span class=&quot;error&quot;&gt;&amp;#91;null:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.felix.scr.impl.helper.BaseMethod$NotResolved.invoke(BaseMethod.java:548) &lt;span class=&quot;error&quot;&gt;&amp;#91;null:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.felix.scr.impl.helper.BaseMethod.invoke(BaseMethod.java:472) &lt;span class=&quot;error&quot;&gt;&amp;#91;null:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.DependencyManager.invokeBindMethod(DependencyManager.java:1028) &lt;span class=&quot;error&quot;&gt;&amp;#91;null:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.DependencyManager.serviceAdded(DependencyManager.java:308) &lt;span class=&quot;error&quot;&gt;&amp;#91;null:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.DependencyManager.serviceChanged(DependencyManager.java:170) &lt;span class=&quot;error&quot;&gt;&amp;#91;null:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.invokeServiceListenerCallback(EventDispatcher.java:871) &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.launchpad.base.jar:2.3.1-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.fireEventImmediately(EventDispatcher.java:733) &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.launchpad.base.jar:2.3.1-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.fireServiceEvent(EventDispatcher.java:662) &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.launchpad.base.jar:2.3.1-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.felix.framework.Felix.fireServiceEvent(Felix.java:3769) &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.launchpad.base.jar:2.3.1-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.felix.framework.Felix.access$000(Felix.java:80) &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.launchpad.base.jar:2.3.1-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.felix.framework.Felix$2.serviceChanged(Felix.java:722) &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.launchpad.base.jar:2.3.1-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.felix.framework.ServiceRegistry.registerService(ServiceRegistry.java:107) &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.launchpad.base.jar:2.3.1-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.felix.framework.Felix.registerService(Felix.java:2854) &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.launchpad.base.jar:2.3.1-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.felix.framework.BundleContextImpl.registerService(BundleContextImpl.java:251) &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.launchpad.base.jar:2.3.1-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.registerService(AbstractComponentManager.java:449) &lt;span class=&quot;error&quot;&gt;&amp;#91;null:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.registerComponentService(AbstractComponentManager.java:460) &lt;span class=&quot;error&quot;&gt;&amp;#91;null:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.AbstractComponentManager$Unsatisfied.activate(AbstractComponentManager.java:1009) &lt;span class=&quot;error&quot;&gt;&amp;#91;null:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.activateInternal(AbstractComponentManager.java:333) &lt;span class=&quot;error&quot;&gt;&amp;#91;null:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.enable(AbstractComponentManager.java:157) &lt;span class=&quot;error&quot;&gt;&amp;#91;null:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.felix.scr.impl.config.ConfiguredComponentHolder.enableComponents(ConfiguredComponentHolder.java:256) &lt;span class=&quot;error&quot;&gt;&amp;#91;null:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.felix.scr.impl.BundleComponentActivator.loadDescriptor(BundleComponentActivator.java:253) &lt;span class=&quot;error&quot;&gt;&amp;#91;null:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.felix.scr.impl.BundleComponentActivator.initialize(BundleComponentActivator.java:147) &lt;span class=&quot;error&quot;&gt;&amp;#91;null:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.felix.scr.impl.BundleComponentActivator.&amp;lt;init&amp;gt;(BundleComponentActivator.java:111) &lt;span class=&quot;error&quot;&gt;&amp;#91;null:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.felix.scr.impl.Activator.loadComponents(Activator.java:285) &lt;span class=&quot;error&quot;&gt;&amp;#91;null:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.felix.scr.impl.Activator.bundleChanged(Activator.java:203) &lt;span class=&quot;error&quot;&gt;&amp;#91;null:na&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.invokeBundleListenerCallback(EventDispatcher.java:807) &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.launchpad.base.jar:2.3.1-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.fireEventImmediately(EventDispatcher.java:729) &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.launchpad.base.jar:2.3.1-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.fireBundleEvent(EventDispatcher.java:610) &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.launchpad.base.jar:2.3.1-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.felix.framework.Felix.fireBundleEvent(Felix.java:3758) &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.launchpad.base.jar:2.3.1-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.felix.framework.Felix.startBundle(Felix.java:1780) &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.launchpad.base.jar:2.3.1-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.felix.framework.Felix.setActiveStartLevel(Felix.java:1156) &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.launchpad.base.jar:2.3.1-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.felix.framework.StartLevelImpl.run(StartLevelImpl.java:264) &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.launchpad.base.jar:2.3.1-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:680) &lt;span class=&quot;error&quot;&gt;&amp;#91;na:1.6.0_43&amp;#93;&lt;/span&gt;&lt;/p&gt;</description>
                <environment>java 1.6, Osx</environment>
        <key id="12639904">SLING-2806</key>
            <summary>JEXL Scripting engine cause an exception in ScriptEngineManagerFactory</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="robson@semmi.se">R&#243;bert Cs&#225;k&#225;ny</reporter>
                        <labels>
                    </labels>
                <created>Sat, 30 Mar 2013 00:42:24 +0000</created>
                <updated>Fri, 7 Mar 2014 08:52:41 +0000</updated>
                            <resolved>Tue, 2 Apr 2013 09:20:08 +0000</resolved>
                                    <version>Scripting Core 2.0.24</version>
                                    <fixVersion>Scripting Core 2.0.26</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13617926" author="robson@semmi.se" created="Sat, 30 Mar 2013 00:47:14 +0000"  >&lt;p&gt;The problem is the loading of javax.script.ScriptEngineFactory file. By default the config loader handles the # comments, but the empty lines isn&apos;t, so trying to load invalid class (empty name).&lt;/p&gt;

&lt;p&gt;The fix is attached.&lt;/p&gt;</comment>
                            <comment id="13619650" author="fmeschbe" created="Tue, 2 Apr 2013 09:20:08 +0000"  >&lt;p&gt;Thanks for providing the patch. I have applied it in Rev. 1463457&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12576207" name="SLING-2806-fix.diff" size="841" author="robson@semmi.se" created="Sat, 30 Mar 2013 00:47:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>320373</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 31 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ja07:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>320714</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2804] fixcrlf breaks build when skipping tests. </title>
                <link>https://issues.apache.org/jira/browse/SLING-2804</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;INFO] Final Memory: 45M/161M&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Failed to execute goal org.apache.maven.plugins:maven-antrun-plugin:1.7:run (fix-crlfs) on project sling-taglib-archetype: An Ant BuildException has occured: &amp;lt;fixcrlf&amp;gt; error: srcdir does not exist: &apos;/Users/ieb/Apache/sling/trunk/maven/archetypes/taglib/target/test-classes&apos;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; around Ant part ...&amp;lt;fixcrlf srcdir=&quot;/Users/ieb/Apache/sling/trunk/maven/archetypes/taglib/target/test-classes&quot;/&amp;gt;... @ 4:96 in /Users/ieb/Apache/sling/trunk/maven/archetypes/taglib/target/antrun/build-main.xml&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; -&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Help 1&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; &lt;/p&gt;</description>
                <environment>-Dmaven.test.skip=true</environment>
        <key id="12639700">SLING-2804</key>
            <summary>fixcrlf breaks build when skipping tests. </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="ianeboston">Ian Boston</reporter>
                        <labels>
                    </labels>
                <created>Thu, 28 Mar 2013 22:44:26 +0000</created>
                <updated>Wed, 24 Jul 2013 07:48:11 +0000</updated>
                            <resolved>Wed, 24 Jul 2013 07:48:11 +0000</resolved>
                                    <version>Taglib Archetype 1.0.0</version>
                                    <fixVersion>Taglib Archetype 1.0.0</fixVersion>
                                    <component>General</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13718093" author="cziegeler" created="Wed, 24 Jul 2013 07:48:11 +0000"  >&lt;p&gt;Solved by creating the dir if it doesn&apos;t exists (rev 1506420)&lt;/p&gt;

&lt;p&gt;The more correct solution would be to run the ant task only if tests are enabled, but I think doing that is way too complicated and bloats the pom&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>320169</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 15 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1j8qv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>320510</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2801] Sling GET servlet fails to export JSON when property contains a Double.NaN value</title>
                <link>https://issues.apache.org/jira/browse/SLING-2801</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;exporting a JSON of a node that contains a Double.NaN value returns a 500:&lt;/p&gt;

&lt;p&gt;JSON does not allow non-finite numbers&lt;/p&gt;

&lt;p&gt;Cannot serve request to /metadata.json in org.apache.sling.servlets.get.DefaultGetServlet&lt;/p&gt;

&lt;p&gt;Exception:&lt;/p&gt;

&lt;p&gt;org.apache.sling.commons.json.JSONException: JSON does not allow non-finite numbers&lt;br/&gt;
	at org.apache.sling.commons.json.JSONObject.testValidity(JSONObject.java:997)&lt;br/&gt;
	at org.apache.sling.commons.json.JSONObject.put(JSONObject.java:885)&lt;br/&gt;
	at org.apache.sling.servlets.get.impl.helpers.JsonObjectCreator.createProperty(JsonObjectCreator.java:199)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12639453">SLING-2801</key>
            <summary>Sling GET servlet fails to export JSON when property contains a Double.NaN value</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="tripod">Tobias Bocanegra</reporter>
                        <labels>
                    </labels>
                <created>Wed, 27 Mar 2013 20:59:22 +0000</created>
                <updated>Sun, 11 Nov 2018 09:42:46 +0000</updated>
                            <resolved>Sun, 11 Nov 2018 09:42:46 +0000</resolved>
                                    <version>Servlets Get 2.1.4</version>
                                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>319923</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 32 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1j787:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>320264</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2800] Test and Fix Apache Oak Integration with Sling: GSoC2013</title>
                <link>https://issues.apache.org/jira/browse/SLING-2800</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;This is a proposal for GSoC2013: &lt;br/&gt;
Apache Oak&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; is creating the next version of Apache Jackrabbit. It will be highly scalable, capable of web scale deployment. Apache Sling will use Apache Oak as its central repository, however, this work is very new. The taks of making Sling available on Oak&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; is almost complete, however the task of integration testing has not been started.&lt;/p&gt;

&lt;p&gt;Within Sling there are a large number of integration tests that verify the operation of Sling. This GSoC project is to work with Apache Sling ontop of Apache Oak and fix the integration tests providing patches to Apache Sling and potentially to Apache Oak. &lt;/p&gt;

&lt;p&gt;Who ever gets accepted to work on this project will learn an immense amount about the internals of both Sling and Oak and, assuming there are bugs will provide an extremely valuable contribution Sling and potentially Oak.&lt;/p&gt;

&lt;p&gt;There is some risk in applying for this project, as Sling may work perfectly ontop of Oak first time, although I think this is unlikely.&lt;/p&gt;

&lt;p&gt;Advanced Java skills are required, knowledge of Integration testing, JUnit and OSGi are also required.&lt;br/&gt;
Some knowledge of JCR, Jackrabbit, Sling and Oak will be advantageous.&lt;/p&gt;

&lt;p&gt;The following pages give more information about GSoC @apache: &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;http://www.google-melange.com/gsoc/homepage/google/gsoc2013&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.google-melange.com/gsoc/homepage/google/gsoc2013&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;http://community.apache.org/gsoc.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://community.apache.org/gsoc.html&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;http://s.apache.org/gsoc2013ideas&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://s.apache.org/gsoc2013ideas&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;1 &lt;a href=&quot;http://jackrabbit.apache.org/oak/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jackrabbit.apache.org/oak/&lt;/a&gt;&lt;br/&gt;
2 &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2788&quot; title=&quot;Optionally run Sling on Apache OAK&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2788&quot;&gt;&lt;del&gt;SLING-2788&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12639206">SLING-2800</key>
            <summary>Test and Fix Apache Oak Integration with Sling: GSoC2013</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ianeboston">Ian Boston</reporter>
                        <labels>
                            <label>gsoc</label>
                            <label>gsoc2013</label>
                            <label>java</label>
                            <label>oak</label>
                            <label>osgi</label>
                    </labels>
                <created>Tue, 26 Mar 2013 21:47:23 +0000</created>
                <updated>Wed, 7 Oct 2015 19:10:06 +0000</updated>
                            <resolved>Wed, 7 Oct 2015 19:10:06 +0000</resolved>
                                                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="13632813" author="elnuma" created="Tue, 16 Apr 2013 13:03:36 +0000"  >&lt;p&gt;Hello, &lt;/p&gt;

&lt;p&gt;Is this project still available to take up at Google summer of code 2013?? I&apos;m interested in this project because I have experience in testing(Junit), I have skill in Java (For me this project it&#180;s great to improve my skill besides I contribute to the open source and Google summer of code). &lt;/p&gt;

&lt;p&gt;I wait news about it.&lt;/p&gt;</comment>
                            <comment id="13644141" author="mvcs" created="Sun, 28 Apr 2013 21:18:39 +0000"  >&lt;p&gt;Hi everyone,&lt;/p&gt;

&lt;p&gt;I&apos;m interested to contribute for this project under GSOC 2013. &lt;br/&gt;
How can I talk with the mentor of the project to know more about it and expose my doubts?&lt;br/&gt;
This are my experiences that I think are relevant for the project:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Java (almost 4 year&apos;s of experience)&lt;/li&gt;
	&lt;li&gt;JUnit&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I have no experience with OSGi but I already started to read about it. &lt;br/&gt;
I&apos;m a very motivated student and I&apos;m looking for a challenge to improve my skills. I think that GSOC is a great opportunity for me to learn more.&lt;/p&gt;

&lt;p&gt;Best regards,&lt;br/&gt;
Marcus Santos&lt;/p&gt;</comment>
                            <comment id="13644302" author="bdelacretaz" created="Mon, 29 Apr 2013 06:28:35 +0000"  >&lt;p&gt;Hi, the best is to get in touch via the Sling developers mailing list, see &lt;a href=&quot;http://sling.apache.org/project-information.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sling.apache.org/project-information.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13644469" author="mvcs" created="Mon, 29 Apr 2013 13:12:48 +0000"  >&lt;p&gt;Thanks Bertrand Delacretaz. &lt;/p&gt;</comment>
                            <comment id="13646025" author="ianeboston" created="Tue, 30 Apr 2013 21:45:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mvcs&quot; class=&quot;user-hover&quot; rel=&quot;mvcs&quot;&gt;mvcs&lt;/a&gt; Dont forget the deadline for student applications is 3rd May. ie This Friday.&lt;/p&gt;</comment>
                            <comment id="14947400" author="rombert" created="Wed, 7 Oct 2015 19:10:06 +0000"  >&lt;p&gt;No longer necessary as we already have good integration with Oak&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>319676</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1j5pb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>320017</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2798] Apache Cassandra backend for Sling: GSoC2013 Project</title>
                <link>https://issues.apache.org/jira/browse/SLING-2798</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;This is a proposal for GSoC2013: create an Resource Provider that allows resources stored in Apache Cassandra to be exposed as Sling Resources. &lt;/p&gt;

&lt;p&gt;Resources&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; are the basic building blocks of Sling.&lt;/p&gt;

&lt;p&gt;ResourceProviders&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; allow data sources to be added to the core ResourceProvider within Sling allowing those data sources to provide Resources at pre-determined locations in the resource tree. To put it in more familiar terms, implementing and adding a Resource provider is like mounting or mapping a network drive.&lt;/p&gt;

&lt;p&gt;A more recent addition to the facilities available in Sling include updatable ResourceProviders.&lt;/p&gt;

&lt;p&gt;Apache Cassandra&lt;span class=&quot;error&quot;&gt;&amp;#91;3&amp;#93;&lt;/span&gt; is a column database (NoSQL) which aims to provide linear scalability to web scale. It is used by many of the best known names on the internet.&lt;/p&gt;

&lt;p&gt;Initially this will provide read only resource access, but if there is time in the project will allow read write access to a cassandra cluster.&lt;/p&gt;

&lt;p&gt;Advanced Java skills are required, some knowledge of OSGi, Sling, Cassandra will be valuable.&lt;/p&gt;

&lt;p&gt;The following pages give more information about GSoC @apache: &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;http://www.google-melange.com/gsoc/homepage/google/gsoc2013&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.google-melange.com/gsoc/homepage/google/gsoc2013&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;http://community.apache.org/gsoc.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://community.apache.org/gsoc.html&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;http://s.apache.org/gsoc2013ideas&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://s.apache.org/gsoc2013ideas&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;1 &lt;a href=&quot;http://sling.apache.org/site/resources.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sling.apache.org/site/resources.html&lt;/a&gt;&lt;br/&gt;
2 &lt;a href=&quot;http://sling.apache.org/apidocs/sling6/org/apache/sling/api/resource/ResourceProvider.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sling.apache.org/apidocs/sling6/org/apache/sling/api/resource/ResourceProvider.html&lt;/a&gt;&lt;br/&gt;
3 &lt;a href=&quot;http://cassandra.apache.org/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://cassandra.apache.org/&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12639197">SLING-2798</key>
            <summary>Apache Cassandra backend for Sling: GSoC2013 Project</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="11">Done</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ianeboston">Ian Boston</reporter>
                        <labels>
                            <label>cassandra</label>
                            <label>gsoc</label>
                            <label>gsoc2013</label>
                            <label>java</label>
                            <label>osgi</label>
                            <label>sling</label>
                    </labels>
                <created>Tue, 26 Mar 2013 21:26:20 +0000</created>
                <updated>Thu, 10 Nov 2016 08:36:11 +0000</updated>
                            <resolved>Thu, 10 Nov 2016 08:36:08 +0000</resolved>
                                                                    <component>Samples</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="13616733" author="ianeboston" created="Thu, 28 Mar 2013 22:22:21 +0000"  >&lt;p&gt;Dishara Wijewardana emailed list.&lt;/p&gt;</comment>
                            <comment id="13616737" author="ianeboston" created="Thu, 28 Mar 2013 22:25:18 +0000"  >&lt;p&gt;Ishan Thilina emailed list with interest.&lt;/p&gt;</comment>
                            <comment id="13617262" author="bdelacretaz" created="Fri, 29 Mar 2013 11:36:21 +0000"  >&lt;p&gt;Note that IMO students would improve their chances of being accepted if they choose distinct projects instead of competing for the same one. &lt;br/&gt;
We might get two GSoC slots for Sling but even if that happens we&apos;re not going to have two students working on the same project. &lt;/p&gt;</comment>
                            <comment id="13618573" author="ianeboston" created="Mon, 1 Apr 2013 03:18:55 +0000"  >&lt;p&gt;Agreed. &lt;br/&gt;
Each of the projects posted here are 1 person projects and we wont be able to award a GSoC place to 2 students doing the same project, so if both Ishan and Dishara really want to do this project we will have to choose the best candidate.&lt;/p&gt;</comment>
                            <comment id="13646030" author="ianeboston" created="Tue, 30 Apr 2013 21:47:42 +0000"  >&lt;p&gt;Dishara submitted  a proposal see &lt;a href=&quot;http://www.google-melange.com/gsoc/proposal/review/google/gsoc2013/ddwijewardana/18001&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.google-melange.com/gsoc/proposal/review/google/gsoc2013/ddwijewardana/18001&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13771658" author="bdelacretaz" created="Thu, 19 Sep 2013 07:28:51 +0000"  >&lt;p&gt;Dishara&apos;s code is at &lt;a href=&quot;https://code.google.com/p/cassandra-backend-for-sling/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://code.google.com/p/cassandra-backend-for-sling/&lt;/a&gt; - it is currently lacking instructions on how to setup Cassandra for testing, ideally a Vagrant config should be provided to have a reproducible Cassandra test setup.&lt;/p&gt;</comment>
                            <comment id="13775578" author="ddwijewardana" created="Mon, 23 Sep 2013 19:12:12 +0000"  >&lt;p&gt;Attaching the source archive in order to donate the GSoC source code to Apache Sling.&lt;/p&gt;</comment>
                            <comment id="13850757" author="rombert" created="Tue, 17 Dec 2013 18:42:04 +0000"  >&lt;p&gt;Two comments here:&lt;/p&gt;

&lt;p&gt;1. The code was donated, but still not included in the source repo. What is missing to make this happen?&lt;br/&gt;
2. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdelacretaz&quot; class=&quot;user-hover&quot; rel=&quot;bdelacretaz&quot;&gt;bdelacretaz&lt;/a&gt; mentioned Cassandra testing. We can use the Cassandra Maven plugin ( &lt;a href=&quot;http://mojo.codehaus.org/cassandra-maven-plugin/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://mojo.codehaus.org/cassandra-maven-plugin/&lt;/a&gt; ) to set up integrations tests. But maybe we can get the first point solved &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13855676" author="bdelacretaz" created="Mon, 23 Dec 2013 15:07:31 +0000"  >&lt;p&gt;I have committed the code at &lt;a href=&quot;http://svn.apache.org/r1553124&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/r1553124&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Checked the dependency tree, looks to me like all licenses are ok. I checked the licences of the following dependencies in particular, the others where familiar.&lt;/p&gt;

&lt;p&gt;me.prettyprint:hector-core:jar:1.0-2&lt;br/&gt;
&lt;a href=&quot;https://github.com/rantav/hector&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/rantav/hector&lt;/a&gt; - MIT License&lt;/p&gt;

&lt;p&gt;org.ccil.cowan.tagsoup:tagsoup:jar:1.2&lt;br/&gt;
&lt;a href=&quot;http://ccil.org/~cowan/XML/tagsoup/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ccil.org/~cowan/XML/tagsoup/&lt;/a&gt; -  Apache License&lt;/p&gt;

&lt;p&gt;com.drewnoakes:metadata-extractor:jar:2.4.0-beta-1&lt;br/&gt;
&lt;a href=&quot;https://drewnoakes.com/code/exif/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://drewnoakes.com/code/exif/&lt;/a&gt; - Apache License,&lt;/p&gt;

&lt;p&gt;com.github.stephenc.eaio-uuid:uuid:jar:3.2.0&lt;br/&gt;
&lt;a href=&quot;http://johannburkard.de/software/uuid/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://johannburkard.de/software/uuid/&lt;/a&gt; - MIT License&lt;/p&gt;

&lt;p&gt;com.ecyrd.speed4j:speed4j:jar:0.9&lt;br/&gt;
&lt;a href=&quot;https://github.com/jalkanen/speed4j&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/jalkanen/speed4j&lt;/a&gt; - Apache License&lt;/p&gt;</comment>
                            <comment id="15050522" author="bdelacretaz" created="Thu, 10 Dec 2015 10:22:12 +0000"  >&lt;p&gt;Unassigning tickets on which I&apos;m not currently working&lt;/p&gt;</comment>
                            <comment id="15653436" author="ianeboston" created="Thu, 10 Nov 2016 08:36:09 +0000"  >&lt;p&gt;GSOC2013 long passed.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12665170">SLING-3026</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12579842" name="Sling Cassandra backend Architecture.jpg" size="35866" author="ddwijewardana" created="Mon, 22 Apr 2013 14:53:12 +0000"/>
                            <attachment id="12604652" name="cassandra-backend-for-sling.tar.gz" size="20088" author="ddwijewardana" created="Mon, 23 Sep 2013 19:12:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>319667</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 51 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1j5nb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>320008</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2797] Null dynamicClassLoaderManager in ClassLoaderWriterImpl.getOrCreateClassLoader()</title>
                <link>https://issues.apache.org/jira/browse/SLING-2797</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I got this just once when running integration tests on revision 1460730:&lt;/p&gt;

&lt;p&gt;NullPointerException: Specified service reference cannot be null.&lt;br/&gt;
	at org.apache.felix.framework.BundleContextImpl.getService(BundleContextImpl.java:458)&lt;br/&gt;
	at org.apache.sling.jcr.classloader.internal.ClassLoaderWriterImpl.getOrCreateClassLoader(ClassLoaderWriterImpl.java:215)&lt;/p&gt;

&lt;p&gt;and that line 215 is:&lt;/p&gt;

&lt;p&gt;final DynamicClassLoaderManager dclm = (DynamicClassLoaderManager) this.callerBundle.getBundleContext().getService(&lt;br/&gt;
                this.dynamicClassLoaderManager);&lt;/p&gt;

&lt;p&gt;looks like this.dynamicClassLoaderManager is unexpectedly null. &lt;/p&gt;

&lt;p&gt;This happened while running org.apache.sling.launchpad.webapp.integrationtest.servlets.resolver.errorhandler.ErrorHandlingTest which installs JSP error scripts just before running, there might be a race condition here.&lt;/p&gt;

&lt;p&gt;I won&apos;t investigate further right now, cannot reliably reproduce, saving this info in case we see this again.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12638898">SLING-2797</key>
            <summary>Null dynamicClassLoaderManager in ClassLoaderWriterImpl.getOrCreateClassLoader()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Mon, 25 Mar 2013 15:53:24 +0000</created>
                <updated>Sun, 25 Aug 2013 00:00:17 +0000</updated>
                            <resolved>Sun, 25 Aug 2013 00:00:01 +0000</resolved>
                                                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13612755" author="bdelacretaz" created="Mon, 25 Mar 2013 15:54:47 +0000"  >&lt;p&gt;stack trace&lt;/p&gt;</comment>
                            <comment id="13749502" author="cziegeler" created="Sun, 25 Aug 2013 00:00:01 +0000"  >&lt;p&gt;Looks like a duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2732&quot; title=&quot;NPE when getting new repository class loader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2732&quot;&gt;&lt;del&gt;SLING-2732&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12575328" name="error.txt" size="11041" author="bdelacretaz" created="Mon, 25 Mar 2013 15:54:47 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>319368</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 10 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1j3sn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>319709</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2796] Support refreshing of resource providers</title>
                <link>https://issues.apache.org/jira/browse/SLING-2796</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;We should add a method refresh() to the resource resolver which delegates this call to all resource providers implementing the RefreshableResourceProvider (or is there a better name?)&lt;/p&gt;

&lt;p&gt;Some data storages like JCR (especially with the upcoming Oak implementation) might give you the state of the storage from the time the login happened. Therefore we need a way to get the latest state. In JCR this is done through the refresh method. With adding this for resource providers we can support this for all resource providers.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12638720">SLING-2796</key>
            <summary>Support refreshing of resource providers</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Sun, 24 Mar 2013 12:56:30 +0000</created>
                <updated>Thu, 18 Apr 2013 14:11:18 +0000</updated>
                            <resolved>Sun, 24 Mar 2013 19:01:33 +0000</resolved>
                                    <version>JCR Resource 2.2.4</version>
                    <version>API 2.3.0</version>
                    <version>Resource Resolver 1.0.4</version>
                                    <fixVersion>JCR Resource 2.2.6</fixVersion>
                    <fixVersion>API 2.4.0</fixVersion>
                    <fixVersion>Resource Resolver 1.0.6</fixVersion>
                                    <component>API</component>
                    <component>JCR</component>
                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13612193" author="cziegeler" created="Sun, 24 Mar 2013 19:01:33 +0000"  >&lt;p&gt;Added the new interface and method to the resource resolver&lt;br/&gt;
JCR Resource Provider implements this interface&lt;br/&gt;
Revision 1460424&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>319195</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 32 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1j2qf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>319536</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2794] Sling._replaceExtension() Javascript function tries to replace the path extension twice</title>
                <link>https://issues.apache.org/jira/browse/SLING-2794</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The Sling._replaceExtension() Javascript function, in /system/sling.js , tries to replace the path extension twice, so the URL &quot;http://192.168.1.2/content/blog/mypost.html&quot; becomes something like &quot;http://192.168.1.json&quot;, causing problems in the &quot;46 lines blog example&quot;.&lt;/p&gt;

&lt;p&gt;Firebug shows me:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; &lt;span class=&quot;code-comment&quot;&gt;/** Replace extension in a path */&lt;/span&gt;
Sling._replaceExtension = function(path,newExtension) {
&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt; i = path.lastIndexOf(&lt;span class=&quot;code-quote&quot;&gt;&quot;.&quot;&lt;/span&gt;);
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(i &amp;gt;= 0) path = path.substring(0,i);
i = path.lastIndexOf(&lt;span class=&quot;code-quote&quot;&gt;&quot;.&quot;&lt;/span&gt;);
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(i &amp;gt;= 0) path = path.substring(0,i);
&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; path + newExtension;
} 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>org.apache.sling.launchpad-6-standalone.jar</environment>
        <key id="12638224">SLING-2794</key>
            <summary>Sling._replaceExtension() Javascript function tries to replace the path extension twice</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="felippo">Filippo Del Trappeto</reporter>
                        <labels>
                    </labels>
                <created>Thu, 21 Mar 2013 12:40:01 +0000</created>
                <updated>Fri, 14 Apr 2023 07:49:31 +0000</updated>
                            <resolved>Fri, 14 Apr 2023 07:49:31 +0000</resolved>
                                    <version>Servlets Post 2.1.0</version>
                                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>318700</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 32 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1izof:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>319041</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2793] MediaRangeList.MediaRange incorrectly implements equals(), hashCode(), compareTo()</title>
                <link>https://issues.apache.org/jira/browse/SLING-2793</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The type MediaRangeList.MediaRange doesn&apos;t adhere to the general contracts for equals(), hashCode(), and compareTo(). As MediaRange is inserted in Sets, this might lead to strange, unexpected effects.&lt;/p&gt;

&lt;p&gt;See the attached patch, adding a Unit test for equals(), hashCode(), and compareTo() behaviour.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12637563">SLING-2793</key>
            <summary>MediaRangeList.MediaRange incorrectly implements equals(), hashCode(), compareTo()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="lukas.eder">Lukas Eder</reporter>
                        <labels>
                    </labels>
                <created>Mon, 18 Mar 2013 16:28:59 +0000</created>
                <updated>Fri, 14 Apr 2023 07:49:25 +0000</updated>
                            <resolved>Fri, 14 Apr 2023 07:49:25 +0000</resolved>
                                    <version>Servlets Post 2.2.0</version>
                                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                            <attachment id="12574163" name="MediaRangeListTest.java.patch" size="1966" author="lukas.eder" created="Mon, 18 Mar 2013 16:31:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>318054</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 33 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ivov:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>318395</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2792] Typo in Javadoc link of PersistableValueMap</title>
                <link>https://issues.apache.org/jira/browse/SLING-2792</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The deprecated PersistableValueMap type contains a bad Javadoc link annotation. See the attached patch for a fix.&lt;br/&gt;
Note, this is only a problem on SVN trunk. It hasn&apos;t been published to the Sling 6 API Docs&lt;/p&gt;</description>
                <environment></environment>
        <key id="12637526">SLING-2792</key>
            <summary>Typo in Javadoc link of PersistableValueMap</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="lukas.eder">Lukas Eder</reporter>
                        <labels>
                    </labels>
                <created>Mon, 18 Mar 2013 12:56:46 +0000</created>
                <updated>Tue, 22 Dec 2015 13:43:50 +0000</updated>
                            <resolved>Mon, 18 Mar 2013 13:36:18 +0000</resolved>
                                    <version>API 2.3.0</version>
                                    <fixVersion>API 2.4.0</fixVersion>
                                    <component>API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13605117" author="bdelacretaz" created="Mon, 18 Mar 2013 13:36:18 +0000"  >&lt;p&gt;Patch applied in revision 1457759, thanks!&lt;/p&gt;</comment>
                            <comment id="15068130" author="githubbot" created="Tue, 22 Dec 2015 13:43:50 +0000"  >&lt;p&gt;Github user lukaseder closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/2&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12574139" name="PersistableValueMap.java.patch" size="699" author="lukas.eder" created="Mon, 18 Mar 2013 12:57:18 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>318017</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 45 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ivgn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>318358</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2791] No way for graceful server shutdown</title>
                <link>https://issues.apache.org/jira/browse/SLING-2791</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The main class of the launchpad-base will register a shutdown hook on the JVM to tear down the felix framework properly (Framework#shutdown). There are certain situation where a client wants to have a different behaviour, i.e. to implement a graceful server shutdown.&lt;br/&gt;
In Felix itself you can set the &quot;felix.shutdown.hook=false&quot; to prevent Felix from registering its own shutdown hook. It would be great if Sling would provide the same functionality.&lt;/p&gt;

&lt;p&gt;I have already a patch in place which will search for the same property as Felix and in case this is set to true will not create its own shutdown hook but will rely on the client to properly shutdown the framework. I know there are more actions which Sling is doing upon JVM shutdown but since there is also a listener on the Framework shutdown itself these actions will still be performed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12637007">SLING-2791</key>
            <summary>No way for graceful server shutdown</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="pmarx">Philipp Marx</reporter>
                        <labels>
                    </labels>
                <created>Thu, 14 Mar 2013 12:27:40 +0000</created>
                <updated>Sat, 26 Jul 2014 17:35:27 +0000</updated>
                            <resolved>Fri, 15 Mar 2013 10:35:42 +0000</resolved>
                                    <version>Launchpad Base 2.5.0</version>
                                    <fixVersion>Launchpad Base 2.5.2</fixVersion>
                                    <component>Launchpad</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13602231" author="fmeschbe" created="Thu, 14 Mar 2013 12:53:02 +0000"  >&lt;p&gt;Is your problem, that you have you own shutdown hook which may or may not be called before the Sling shutdown hook ?&lt;/p&gt;</comment>
                            <comment id="13602235" author="pmarx" created="Thu, 14 Mar 2013 12:58:53 +0000"  >&lt;p&gt;Yes, we have our own shutdown hook which should be called before the one of sling. But all JVM shutdown hooks are called in parallel.&lt;/p&gt;

&lt;p&gt;Basically what we want to archive is to gracefully shutdown our Jetty-Server, i.e. all current connections will be handled and only after that the server should continue to shutdown. As part of our own shutdown hook we will shutdown the Framework as well.&lt;/p&gt;

&lt;p&gt;Basically this is what we have in our Shutdown Hook:&lt;/p&gt;

&lt;p&gt;Runtime.getRuntime().addShutdownHook(new Thread(&quot;Custom Shutdown Hook&quot;)&lt;br/&gt;
{&lt;br/&gt;
	@Override&lt;br/&gt;
	public void run()&lt;/p&gt;
	{
		stopWebApi();
		stopMessaging();
		shutdownFramework();
	}
&lt;p&gt;}&lt;/p&gt;</comment>
                            <comment id="13602273" author="fmeschbe" created="Thu, 14 Mar 2013 13:47:08 +0000"  >&lt;p&gt;Proposed patch.&lt;/p&gt;

&lt;p&gt;Adds new -n command line option to prevent installation of a shutdown hook.&lt;/p&gt;

&lt;p&gt;Adds support for a new system/configuration property sling.shutdown.hook: If set to true or not set at all, the hook is installed, otherwise the hook is not installed.&lt;/p&gt;</comment>
                            <comment id="13602281" author="pmarx" created="Thu, 14 Mar 2013 13:56:15 +0000"  >&lt;p&gt;Looks good, thank you&lt;/p&gt;</comment>
                            <comment id="13603276" author="fmeschbe" created="Fri, 15 Mar 2013 10:19:36 +0000"  >&lt;p&gt;Applied a slightly modified patch in Rev. 1456861:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;New command line option -n to not install shutdown hook&lt;/li&gt;
	&lt;li&gt;New system property sling.shutdown.hook to control shutdown hook installation&lt;/li&gt;
	&lt;li&gt;New property sling.shutdown.hook to Main constructor to control shutdown hook installation (constructor property overwrites system property)&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13603280" author="fmeschbe" created="Fri, 15 Mar 2013 10:35:42 +0000"  >&lt;p&gt;Published documentation on this new option in &lt;a href=&quot;http://sling.apache.org/documentation/the-sling-engine/the-sling-launchpad.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sling.apache.org/documentation/the-sling-engine/the-sling-launchpad.html&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12573716" name="SLING-2791.patch" size="5350" author="fmeschbe" created="Thu, 14 Mar 2013 13:47:08 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317499</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 33 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1is9j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317840</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2789] deploying Sling 7-SNAPSHOT on Karaf fails</title>
                <link>https://issues.apache.org/jira/browse/SLING-2789</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;$ ./apache-karaf-3.0.0-SNAPSHOT/bin/start&lt;br/&gt;
$ ssh -p 8101 karaf@localhost&lt;br/&gt;
karaf@root()&amp;gt; feature:install http&lt;br/&gt;
karaf@root()&amp;gt; feature:install webconsole&lt;br/&gt;
karaf@root()&amp;gt; feature:repo-add mvn:org.apache.sling/org.apache.sling.launchpad/7-SNAPSHOT/xml/features&lt;br/&gt;
karaf@root()&amp;gt; feature:install sling&lt;/p&gt;

&lt;p&gt;no errors on startup but JCR is nearly empty&lt;/p&gt;

&lt;p&gt;to prevent errors:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;add missing org.apache.sling/org.apache.sling.launchpad.api/1.1.0 to features.xml&lt;/li&gt;
	&lt;li&gt;remove org.apache.felix/org.apache.felix.webconsole.plugins.* from features.xml&lt;/li&gt;
	&lt;li&gt;remove management from featuresBoot in org.apache.karaf.features.cfg or remove org.apache.aries.* from features.xml&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;setting respectStartLvlDuringFeatureStartup=true and ds.factory.enabled=true does not help&lt;/p&gt;</description>
                <environment>Karaf 3.0.0.*</environment>
        <key id="12636631">SLING-2789</key>
            <summary>deploying Sling 7-SNAPSHOT on Karaf fails</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="olli">Oliver Lietz</reporter>
                        <labels>
                    </labels>
                <created>Tue, 12 Mar 2013 18:31:50 +0000</created>
                <updated>Mon, 29 Jul 2013 15:31:39 +0000</updated>
                            <resolved>Mon, 29 Jul 2013 15:31:39 +0000</resolved>
                                    <version>Launchpad Builder 7</version>
                                                    <component>Launchpad</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                                                            <comments>
                            <comment id="13618380" author="olli" created="Sun, 31 Mar 2013 16:19:45 +0000"  >&lt;p&gt;remove non-working formatting&lt;/p&gt;</comment>
                            <comment id="13618382" author="olli" created="Sun, 31 Mar 2013 16:20:56 +0000"  >&lt;p&gt;a startup handler is missing&lt;/p&gt;</comment>
                            <comment id="13618384" author="olli" created="Sun, 31 Mar 2013 16:27:20 +0000"  >&lt;p&gt;initial startup handler for Apache Karaf&lt;/p&gt;</comment>
                            <comment id="13618385" author="olli" created="Sun, 31 Mar 2013 16:28:20 +0000"  >&lt;p&gt;GitHub pull request: &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2789&quot; title=&quot;deploying Sling 7-SNAPSHOT on Karaf fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2789&quot;&gt;&lt;del&gt;SLING-2789&lt;/del&gt;&lt;/a&gt; add initial startup handler for Karaf&lt;/p&gt;</comment>
                            <comment id="13631077" author="olli" created="Sat, 13 Apr 2013 15:46:26 +0000"  >&lt;p&gt;GitHub pull request: &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2789&quot; title=&quot;deploying Sling 7-SNAPSHOT on Karaf fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2789&quot;&gt;&lt;del&gt;SLING-2789&lt;/del&gt;&lt;/a&gt; add simple bootstrap test&lt;/p&gt;</comment>
                            <comment id="13637857" author="cziegeler" created="Mon, 22 Apr 2013 09:17:20 +0000"  >&lt;p&gt;Many thanks for taking this up and working on integration with Karaf. I&apos;ve applied your provided patch, however &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; I disabled the build of these modules for now.&lt;/p&gt;

&lt;p&gt;I&apos;ve some questions (really just curious):&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Why are you using the version 0.1.0.BUILD-SNAPSHOT ?&lt;/li&gt;
	&lt;li&gt;There are currently snapshot dependencies to Karaf tooling. What are the release plans for that?&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="13638965" author="olli" created="Tue, 23 Apr 2013 11:25:24 +0000"  >&lt;p&gt;version: This is my first shot and far from perfect. There was no feedback on the list &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; nor on this issue and I had to find out what fails/misses myself. I&apos;ve added comments/TODOs in code to mark points where I have to look again to improve things. Maybe using requirements and capabilities &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; is a better approach. I&apos;m used to mark stuff which is under development with BUILD-SNAPSHOT &lt;span class=&quot;error&quot;&gt;&amp;#91;3&amp;#93;&lt;/span&gt; (however I&apos;m running this code in production and it works).&lt;/p&gt;

&lt;p&gt;snapshots: Karaf testing stuff is moving from Apache Karaf to OPS4J Pax Exam &lt;span class=&quot;error&quot;&gt;&amp;#91;4&amp;#93;&lt;/span&gt; and both (Karaf 3.0 and Pax Exam 3.1) should be released in near future.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/sling-dev/201301.mbox/%3c201301231045.36201.apache@oliverlietz.de%3e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://mail-archives.apache.org/mod_mbox/sling-dev/201301.mbox/%3c201301231045.36201.apache@oliverlietz.de%3e&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://blog.osgi.org/2012/03/requirements-and-capabilities.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://blog.osgi.org/2012/03/requirements-and-capabilities.html&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;3&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://ebr.springsource.com/repository/app/faq#q12&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ebr.springsource.com/repository/app/faq#q12&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;4&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/ops4j/org.ops4j.pax.exam2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/ops4j/org.ops4j.pax.exam2&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13674362" author="olli" created="Tue, 4 Jun 2013 13:21:32 +0000"  >&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;update bundles to latest releases&lt;/li&gt;
	&lt;li&gt;add discovery bundles&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13674366" author="olli" created="Tue, 4 Jun 2013 13:26:24 +0000"  >&lt;p&gt;empty trunk/contrib/launchpad/karaf/src can be removed&lt;/p&gt;</comment>
                            <comment id="13711276" author="olli" created="Wed, 17 Jul 2013 16:54:45 +0000"  >&lt;p&gt;dependencies, plugins, NOTICE and README.txt updated&lt;/p&gt;</comment>
                            <comment id="13715176" author="rombert" created="Mon, 22 Jul 2013 12:51:36 +0000"  >&lt;p&gt;The patch adds the discovery bundles but has them commented out. Is that intended?&lt;/p&gt;</comment>
                            <comment id="13715193" author="olli" created="Mon, 22 Jul 2013 13:23:54 +0000"  >&lt;p&gt;Yes, it&apos;s a reminder. They are not on Maven Central yet (but in Launchpads&apos; list.xml) and I want to keep the number of SNAPSHOT bundles as low a possible.&lt;/p&gt;</comment>
                            <comment id="13715595" author="rombert" created="Mon, 22 Jul 2013 20:19:31 +0000"  >&lt;p&gt;Patch applied in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1505793&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1505793&lt;/a&gt; .&lt;/p&gt;</comment>
                            <comment id="13716155" author="olli" created="Tue, 23 Jul 2013 06:38:40 +0000"  >&lt;p&gt;Thanks, Robert. Can you remove empty trunk/contrib/launchpad/karaf/src from SVN?&lt;/p&gt;</comment>
                            <comment id="13716195" author="rombert" created="Tue, 23 Jul 2013 07:21:47 +0000"  >&lt;p&gt;Removed empty src directory in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1505921&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1505921&lt;/a&gt;&lt;br/&gt;
Added svn:ignore in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1505922&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1505922&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;What is still missing to mark this bug complete?&lt;/p&gt;</comment>
                            <comment id="13716392" author="olli" created="Tue, 23 Jul 2013 13:45:02 +0000"  >&lt;p&gt;launchpad/karaf should be enabled in build again (contrib/pom.xml)&lt;/p&gt;</comment>
                            <comment id="13718609" author="rombert" created="Wed, 24 Jul 2013 17:33:42 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegler&quot; class=&quot;user-hover&quot; rel=&quot;cziegler&quot;&gt;cziegler&lt;/a&gt; - you had some comments about this submission. Is it OK now to include the karaf launchpad in the contrib reactor build and close this bug?&lt;/p&gt;</comment>
                            <comment id="13719368" author="cziegeler" created="Thu, 25 Jul 2013 08:16:21 +0000"  >&lt;p&gt;I think we should follow our own conventions, and use 0.1.0-SNAPSHOT and not 0.1.0.BUILD-SNAPSHOT and we shouldn&apos;t rely on snapshots of external stuff - as this might break on some machines and causes unnecessary trouble. So once these two things are resolved, we can apply the patch&lt;/p&gt;</comment>
                            <comment id="13719454" author="olli" created="Thu, 25 Jul 2013 09:54:22 +0000"  >&lt;p&gt;adjust/update versions&lt;/p&gt;</comment>
                            <comment id="13719610" author="rombert" created="Thu, 25 Jul 2013 13:32:05 +0000"  >&lt;p&gt;I&apos;ve applied the patch but we still have the BUILD part referenced in snapshots. I&apos;ve removed them and the build works, but can you double-check the attached diff?&lt;/p&gt;</comment>
                            <comment id="13719663" author="olli" created="Thu, 25 Jul 2013 14:40:40 +0000"  >&lt;p&gt;What do you mean with &quot;BUILD part referenced in snapshots&quot;?&lt;/p&gt;

&lt;p&gt;some more minor tweaks in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2789&quot; title=&quot;deploying Sling 7-SNAPSHOT on Karaf fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2789&quot;&gt;&lt;del&gt;SLING-2789&lt;/del&gt;&lt;/a&gt;.2013-07-25.a.patch:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;use ${project.version} in features.xml&lt;/li&gt;
	&lt;li&gt;update parent from 16 to 17&lt;/li&gt;
	&lt;li&gt;use org.apache.sling/org.apache.sling.jcr.contentloader/2.1.6 (please see &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2917&quot; title=&quot;parent node descriptor (ROOT) gets installed twice&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2917&quot;&gt;&lt;del&gt;SLING-2917&lt;/del&gt;&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13722538" author="rombert" created="Mon, 29 Jul 2013 15:30:41 +0000"  >&lt;ul&gt;
	&lt;li&gt;Patch applied in &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1508099&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1508099&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;Module added to the contrib reactor &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1508100&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1508100&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12594179" name="SLING-2789-remove-BUILD-from-version.patch" size="3171" author="rombert" created="Thu, 25 Jul 2013 13:31:57 +0000"/>
                            <attachment id="12586099" name="SLING-2789.2013-06-04.patch" size="6377" author="olli" created="Tue, 4 Jun 2013 13:21:32 +0000"/>
                            <attachment id="12592796" name="SLING-2789.2013-07-17.patch" size="15096" author="olli" created="Wed, 17 Jul 2013 16:54:45 +0000"/>
                            <attachment id="12594185" name="SLING-2789.2013-07-25.a.patch" size="7625" author="olli" created="Thu, 25 Jul 2013 14:40:40 +0000"/>
                            <attachment id="12594146" name="SLING-2789.2013-07-25.patch" size="4596" author="olli" created="Thu, 25 Jul 2013 09:54:22 +0000"/>
                            <attachment id="12579322" name="SLING-2789.patch" size="42301" author="olli" created="Thu, 18 Apr 2013 14:15:43 +0000"/>
                            <attachment id="12576291" name="sling-launchpad-karaf.tar.gz" size="9454" author="olli" created="Sun, 31 Mar 2013 16:27:20 +0000"/>
                    </attachments>
                <subtasks>
                            <subtask id="12639989">SLING-2807</subtask>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317123</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 14 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ipxz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317464</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2787] Inefficient array conversion in ValueMapDecorator.convertToArray()</title>
                <link>https://issues.apache.org/jira/browse/SLING-2787</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The method ValueMapDecorator.convertToArray() seems to have a rather canonical implementation, which can be improved significantly. The roundtrip via a temporary LinkedList seems unnecessary and leads to a significant performance loss in &quot;high throughput&quot; test scenarios. Attached, you&apos;ll find a test case leading to the below results:&lt;/p&gt;

&lt;p&gt;Run with 10000000 repetitions.&lt;br/&gt;
String[] -&amp;gt; Integer[]: 1464.146 ms&lt;br/&gt;
String   -&amp;gt; Integer[]: 826.171 ms&lt;/p&gt;

&lt;p&gt;After applying the attached patch, the results improve significantly:&lt;/p&gt;

&lt;p&gt;Run with 10000000 repetitions.&lt;br/&gt;
String[] -&amp;gt; Integer[]: 1010.143 ms&lt;br/&gt;
String   -&amp;gt; Integer[]: 524.219 ms&lt;/p&gt;

&lt;p&gt;While the effect of the improvement is less significant in a &quot;real-world&quot; scenario, I still think it is worth improving this central API class&lt;/p&gt;</description>
                <environment></environment>
        <key id="12636564">SLING-2787</key>
            <summary>Inefficient array conversion in ValueMapDecorator.convertToArray()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="lukas.eder">Lukas Eder</reporter>
                        <labels>
                    </labels>
                <created>Tue, 12 Mar 2013 12:53:52 +0000</created>
                <updated>Thu, 18 Apr 2013 14:11:19 +0000</updated>
                            <resolved>Tue, 19 Mar 2013 17:49:35 +0000</resolved>
                                    <version>API 2.3.0</version>
                                    <fixVersion>API 2.4.0</fixVersion>
                                    <component>API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13606583" author="cziegeler" created="Tue, 19 Mar 2013 17:49:35 +0000"  >&lt;p&gt;Thanks for your patch, Lukas - I&apos;ve applied it.&lt;/p&gt;

&lt;p&gt;While I agree that this is a non-issue in real-world scenarios, the change is pretty simple and straight forward.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12573314" name="ValueMapDecorator.java.patch" size="1340" author="lukas.eder" created="Tue, 12 Mar 2013 12:55:43 +0000"/>
                            <attachment id="12573315" name="ValueMapTest.java" size="979" author="lukas.eder" created="Tue, 12 Mar 2013 12:55:43 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317056</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 33 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ipj3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317397</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2786] ResourceMetadata contains stale unmodifiableMap cache after clone()</title>
                <link>https://issues.apache.org/jira/browse/SLING-2786</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Super types of ResourceMetadata (java.util.HashMap and java.util.AbstractMap) correctly implement caching for members such as entrySet, keySet, values, etc. Two things should be considered:&lt;/p&gt;

&lt;p&gt;1. The cache should be marked transient. It is not desireable to serialise / deserialise the &quot;unmodifiableMap&quot; cache. Only the isReadOnly flag should be serialised&lt;br/&gt;
2. clone() should be overridden in order to reset the cache on cloned instances&lt;/p&gt;

&lt;p&gt;Consider the following code:&lt;/p&gt;

&lt;p&gt;    	ResourceMetadata map1 = new ResourceMetadata();&lt;br/&gt;
    	map1.put(&quot;key1&quot;, &quot;value1&quot;);&lt;br/&gt;
    	map1.lock();&lt;br/&gt;
    	map1.values(); // Enforce the creation of the cache&lt;br/&gt;
    	ResourceMetadata map2 = (ResourceMetadata) map1.clone();&lt;/p&gt;

&lt;p&gt;Now, map2 contains an unmodifiable wrapper of map1. While this generally behaves correctly, there are two problems:&lt;/p&gt;

&lt;p&gt;a) This is a potential memory leak as clones hold a reference to the original map.&lt;br/&gt;
b) If unlock() is ever added, this might lead to a subtle bug when (after the above code):&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;map1.unlock() is called&lt;/li&gt;
	&lt;li&gt;map1 is modified&lt;/li&gt;
	&lt;li&gt;map2 will reflect map1&apos;s modifications, even if map2 should still be locked&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12636554">SLING-2786</key>
            <summary>ResourceMetadata contains stale unmodifiableMap cache after clone()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="lukas.eder">Lukas Eder</reporter>
                        <labels>
                    </labels>
                <created>Tue, 12 Mar 2013 11:41:15 +0000</created>
                <updated>Fri, 24 Jan 2014 16:23:02 +0000</updated>
                            <resolved>Fri, 3 Jan 2014 15:24:43 +0000</resolved>
                                    <version>API 2.3.0</version>
                                    <fixVersion>API 2.5.0</fixVersion>
                                    <component>API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13599952" author="cziegeler" created="Tue, 12 Mar 2013 11:54:02 +0000"  >&lt;p&gt;We&apos;ll never add an unlock operation&lt;/p&gt;</comment>
                            <comment id="13600028" author="bdelacretaz" created="Tue, 12 Mar 2013 13:26:05 +0000"  >&lt;p&gt;I agree about clone(), feel free to submit a patch and enhance the tests that I added for &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2785&quot; title=&quot;ResourceMetadata.entrySet() and related methods cause stack overflow when locked&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2785&quot;&gt;&lt;del&gt;SLING-2785&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Transient is fine as well, we don&apos;t expect these things to be serialized AFAIK but we don&apos;t prevent that either.&lt;/p&gt;

&lt;p&gt;I agree with Carsten that we don&apos;t want an unlock() method - the use case is that resource providers create ResourceMetadata, set them up and then turn them into immutable objects.&lt;/p&gt;</comment>
                            <comment id="13600963" author="lukas.eder" created="Wed, 13 Mar 2013 09:02:02 +0000"  >&lt;p&gt;Thanks for the feedback. I was just going to implement these modifications:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Override clone(), resetting the three new cache objects introduced in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2785&quot; title=&quot;ResourceMetadata.entrySet() and related methods cause stack overflow when locked&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2785&quot;&gt;&lt;del&gt;SLING-2785&lt;/del&gt;&lt;/a&gt;: lockedEntrySet, lockedKeySet, lockedValues&lt;/li&gt;
	&lt;li&gt;Marking them all as transient&lt;/li&gt;
	&lt;li&gt;Marking lockedEntrySet as volatile to enforce correct behaviour of double-checked locking in getLockedData()&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;But then, I&apos;ve noticed that the current implementation might still be wrong. Consider this piece of code:&lt;/p&gt;

&lt;p&gt;    	final ResourceMetadata m = new ResourceMetadata();&lt;br/&gt;
    	m.put(&quot;key&quot;, &quot;value&quot;);&lt;br/&gt;
    	Set&amp;lt;String&amp;gt; keys = m.keySet();&lt;br/&gt;
    	m.lock();&lt;br/&gt;
    	keys.remove(&quot;key1&quot;); // This shouldn&apos;t work anymore, as the view&apos;s referenced map has been locked&lt;/p&gt;

&lt;p&gt;This implies that ResourceMetadata should probably return inner class implementations for keySet(), entrySet(), and values(), referencing the outer instance and its isReadOnly flag. Attached is a patch with more (currently failing) test cases&lt;/p&gt;</comment>
                            <comment id="13600974" author="bdelacretaz" created="Wed, 13 Mar 2013 09:22:30 +0000"  >&lt;p&gt;I agree with the modifications that you suggest.&lt;/p&gt;

&lt;p&gt;And of course you&apos;re right about locking keySet etc. after clients have acquired copies of them. &lt;/p&gt;

&lt;p&gt;If using inner class implementations is not too problematic, why not...we could also just document in the javadocs that the return values of entrySet() etc. should never be stored, to avoid that problem. I don&apos;t think it&apos;s a common use case so documenting might be enough.&lt;/p&gt;</comment>
                            <comment id="13600999" author="lukas.eder" created="Wed, 13 Mar 2013 09:58:54 +0000"  >&lt;p&gt;I agree that a Javadoc disclaimer is the path of least resistance &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Issues tend to pile up because of the fact that ResourceMetadata &lt;b&gt;extends&lt;/b&gt; HashMap instead of implementing Map and delegating to an internal HashMap. Of course, removing HashMap from the type hierarchy would introduce a backwards-incompatibility in the Sling API, so I&apos;m not sure if that&apos;s a viable approach. Anyway, fixing these Map views is off-topic for this issue, which is about clone(). I&apos;ll let you decide how to proceed with the Map views.&lt;/p&gt;

&lt;p&gt;I have attached a patch containing a fix for clone(). The failing test cases for invalid Map view manipulation are also contained in the patch. Feel free to remove those test cases.&lt;/p&gt;</comment>
                            <comment id="13861592" author="cziegeler" created="Fri, 3 Jan 2014 15:24:36 +0000"  >&lt;p&gt;Thanks for the patch, Lukas. I&apos;ve applied your patch and changed the tests to pass as this issue is about clone() &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
While your observations are totally correct, I think in general this issue is minor as this class is not intended to be instantiated directly by client code &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12573501" name="ResourceMetadata.java.clone.patch" size="4202" author="lukas.eder" created="Wed, 13 Mar 2013 09:58:54 +0000"/>
                            <attachment id="12573495" name="ResourceMetadataTest.java.patch" size="1913" author="lukas.eder" created="Wed, 13 Mar 2013 09:02:56 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317046</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 43 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ipgv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317387</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2785] ResourceMetadata.entrySet() and related methods cause stack overflow when locked</title>
                <link>https://issues.apache.org/jira/browse/SLING-2785</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Code like below causes an infinite loop (maybe depending on JVM/java libs):&lt;/p&gt;

&lt;p&gt;    @Override&lt;br/&gt;
    public Set&amp;lt;java.util.Map.Entry&amp;lt;String, Object&amp;gt;&amp;gt; entrySet() {&lt;br/&gt;
        if ( this.isReadOnly ) &lt;/p&gt;
{
            return this.getUnmodifiableMap().entrySet();
        }
&lt;p&gt;        return super.entrySet();&lt;br/&gt;
    }&lt;/p&gt;

&lt;p&gt;I&apos;ll add tests and suggest a fix.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12636549">SLING-2785</key>
            <summary>ResourceMetadata.entrySet() and related methods cause stack overflow when locked</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Tue, 12 Mar 2013 10:58:03 +0000</created>
                <updated>Thu, 18 Apr 2013 14:11:20 +0000</updated>
                            <resolved>Tue, 12 Mar 2013 12:47:19 +0000</resolved>
                                    <version>API 2.3.0</version>
                    <version>Resource Resolver 1.0.4</version>
                                    <fixVersion>API 2.4.0</fixVersion>
                    <fixVersion>Resource Resolver 1.0.6</fixVersion>
                                    <component>API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13599994" author="bdelacretaz" created="Tue, 12 Mar 2013 12:47:19 +0000"  >&lt;p&gt;Fixed in revision 1455511. &lt;/p&gt;

&lt;p&gt;P.S. I like Wittekop, and generally Ambers are good as well.&lt;/p&gt;</comment>
                            <comment id="13600966" author="lukas.eder" created="Wed, 13 Mar 2013 09:08:22 +0000"  >&lt;p&gt;Note, as mentioned in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2786&quot; title=&quot;ResourceMetadata contains stale unmodifiableMap cache after clone()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2786&quot;&gt;&lt;del&gt;SLING-2786&lt;/del&gt;&lt;/a&gt;, for correct double-checked locking in &quot;getLockedData()&quot;, the new lockedEntrySet should be marked &quot;volatile&quot;. See attached patch&lt;/p&gt;</comment>
                            <comment id="13600967" author="lukas.eder" created="Wed, 13 Mar 2013 09:09:02 +0000"  >&lt;p&gt;Patch containing fix to correct double-checked locking when initialising lockedEntrySet et al.&lt;/p&gt;</comment>
                            <comment id="13600983" author="bdelacretaz" created="Wed, 13 Mar 2013 09:31:27 +0000"  >&lt;p&gt;Applied the &quot;volatile&quot; patch in revision 1455847, thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12573496" name="ResourceMetadata.java.patch" size="687" author="lukas.eder" created="Wed, 13 Mar 2013 09:09:02 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317041</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 34 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ipfz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317382</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2784] JcrResourceListener might deliver wrong remove events</title>
                <link>https://issues.apache.org/jira/browse/SLING-2784</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;For add/change events, the resource listener checks whether this node is accessible via the resource api, however for remove events it is not. We should find a way to check whether the path is accessible using the resource api or shadowed by another resource provider. We have similar requirements for &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2783&quot; title=&quot;Search implementation does not respect resource providers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2783&quot;&gt;&lt;del&gt;SLING-2783&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12636240">SLING-2784</key>
            <summary>JcrResourceListener might deliver wrong remove events</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Sun, 10 Mar 2013 13:17:58 +0000</created>
                <updated>Mon, 8 Feb 2016 22:12:47 +0000</updated>
                            <resolved>Fri, 30 Oct 2015 08:29:37 +0000</resolved>
                                    <version>JCR Resource 2.2.4</version>
                                    <fixVersion>JCR Resource 2.7.0</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14982147" author="cziegeler" created="Fri, 30 Oct 2015 08:29:37 +0000"  >&lt;p&gt;Due to the new resource provider api we can easily filter out the events. Added the check&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>316732</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1injj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317074</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2783] Search implementation does not respect resource providers</title>
                <link>https://issues.apache.org/jira/browse/SLING-2783</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If a search is performed by the JCR Resource Provider the returned set is not checked whether these resources/nodes are accessible through the resource tree.&lt;br/&gt;
For example a different resource provider might be mounted at /libs - therefore all results for this sub tree need to be discarded.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12636239">SLING-2783</key>
            <summary>Search implementation does not respect resource providers</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Sun, 10 Mar 2013 13:16:35 +0000</created>
                <updated>Mon, 8 Nov 2021 13:21:31 +0000</updated>
                            <resolved>Fri, 30 Oct 2015 08:17:06 +0000</resolved>
                                    <version>JCR Resource 2.2.4</version>
                                    <fixVersion>JCR Resource 2.7.0</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13598603" author="fmeschbe" created="Mon, 11 Mar 2013 07:21:39 +0000"  >&lt;p&gt;I kind of disagree: I think only the JCR results referring to JCR nodes which are hidden by the other resource provider need to be removed. Not the complete result set from the respective tree.&lt;/p&gt;</comment>
                            <comment id="13598691" author="bdelacretaz" created="Mon, 11 Mar 2013 10:32:52 +0000"  >&lt;p&gt;I&apos;m not sure if I understand the use case - do you mean that some /libs content is duplicated in both the JCR resource provider and another one? &lt;/p&gt;

&lt;p&gt;The performance impact of filtering all search results sounds worrying as well.&lt;/p&gt;</comment>
                            <comment id="13598692" author="cziegeler" created="Mon, 11 Mar 2013 10:33:07 +0000"  >&lt;p&gt;No you don&apos;t disagree &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; we agree; this depends on how the resource provider is mounted, I thought of the situation where a provider claims to own the sub tree while you&apos;re thinking about the shadowing case.&lt;/p&gt;

&lt;p&gt;So, the search should not return resources which are not accessible via ResourceResolver#getResource&lt;/p&gt;</comment>
                            <comment id="13598699" author="fmeschbe" created="Mon, 11 Mar 2013 10:40:51 +0000"  >&lt;p&gt;Ok, got it. Thanks.&lt;/p&gt;</comment>
                            <comment id="13598700" author="cziegeler" created="Mon, 11 Mar 2013 10:41:05 +0000"  >&lt;p&gt;Ok, forget about the example /libs &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; it was a bad choice...&lt;/p&gt;

&lt;p&gt;It&apos;s possible to mount resource providers at any path, these shadow potential resources from the JCR. That&apos;s a fairly common scenario. In those case we have to filter, otherwise you get a resource from a search and try to get the same resource from the resource resolver using the path and you get something different. Returning something which is actually not in the resource tree is wrong and might create very hard to trace problems.&lt;/p&gt;</comment>
                            <comment id="13598709" author="bdelacretaz" created="Mon, 11 Mar 2013 10:51:59 +0000"  >&lt;p&gt;Do you have a concrete use case where shadowing JCR paths with other resource providers is actually useful and not a mistake? &lt;/p&gt;

&lt;p&gt;Having to evaluate all paths returned by JCR searches with access control from various Sling providers will kill search performance, especially as AFAIK JCR repositories optimize searches with caches and lazy loading.&lt;/p&gt;

&lt;p&gt;Another option, to make sure the JCR repository doesn&apos;t find anything under a patch that&apos;s shadowed by a resource provider, is to set an ACL that denies access to everybody on that path (assuming that works for admin as well, not sure about that).&lt;/p&gt;
</comment>
                            <comment id="13598810" author="cziegeler" created="Mon, 11 Mar 2013 13:32:37 +0000"  >&lt;p&gt;This is the default setup: the jcr provider is mounted at /, all other providers are mounted at some paths, ootb these are bundle resource providers and the servlet provider. So as soon as you search for something which is hidden by them, you hit the problem.&lt;/p&gt;

&lt;p&gt;But even more problematic, we have many users using the file system provider and mounting stuff at some points.&lt;/p&gt;

&lt;p&gt;It is way too easy to say this is a wrong setup, we have the resource abstraction with the way the providers work and we should stick to this theme and implement everything correctly.&lt;/p&gt;

&lt;p&gt;And I don&apos;t think that this has a huge performance impact as the check should be pretty fast. This is a bug which needs to be fixed anyway.&lt;/p&gt;</comment>
                            <comment id="14982107" author="cziegeler" created="Fri, 30 Oct 2015 08:17:06 +0000"  >&lt;p&gt;Due to the new resource provider implementation/api, we have now a very simple/fast check to test whether a path is from the jcr provider. I&apos;ve added the check to the query implementation&lt;/p&gt;</comment>
                            <comment id="17440443" author="henry kuijpers" created="Mon, 8 Nov 2021 13:08:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt;, while profiling our application, we notice that for all servlets we have registered (roughly 2800) an entry is made in the `excludedPaths` &quot;PathSet&quot;.  It means that for every result that comes back from the query, that check is executed and there are 2800 iterations per result. Our resultset is 1800 resources, which means we&apos;re doing 1800x2800=alot iterations. We see quite an impact in the performance.&lt;/p&gt;

&lt;p&gt;Was this intended? Or was the assumption, back in the day, that there were a handful of those entries in the &quot;excludedPaths&quot;-field?&lt;/p&gt;</comment>
                            <comment id="17440451" author="cziegeler" created="Mon, 8 Nov 2021 13:21:31 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Henry+Kuijpers&quot; class=&quot;user-hover&quot; rel=&quot;Henry Kuijpers&quot;&gt;Henry Kuijpers&lt;/a&gt; All resource providers need to be listed to guarantee a correct result from a resource tree perspective. I think in the past the thinking was that there are not many resource providers overlapping, especially not for scripts. And in the end resource providers for each servlet are somehow a special case.&lt;br/&gt;
Today, it is much easier to provide scripts out of bundles.&lt;br/&gt;
Therefore, there is since some time an option on the servlets resolver to disable registering servlets as resource provider (for compatibility it is enabled by default). Disabling this, makes the problem go away (and should have no other negativ impact)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>316731</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 50 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1injb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317073</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2781] JcrNodeResource is caching resource type</title>
                <link>https://issues.apache.org/jira/browse/SLING-2781</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The JcrNodeResource caches the resource type, it gets the value in the constructor. If the resource type is changed, for example by setting the sling:resourceType property, the resource object is not updated.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12636237">SLING-2781</key>
            <summary>JcrNodeResource is caching resource type</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Sun, 10 Mar 2013 13:10:29 +0000</created>
                <updated>Fri, 14 Apr 2023 07:49:18 +0000</updated>
                            <resolved>Fri, 14 Apr 2023 07:49:18 +0000</resolved>
                                    <version>JCR Resource 2.2.4</version>
                                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13598605" author="fmeschbe" created="Mon, 11 Mar 2013 07:24:41 +0000"  >&lt;p&gt;I am not sure, we should go down this route: Because you would also have to consider &quot;updating&quot; the resource metadata, which is also currently locked at resource object creation time.&lt;/p&gt;

&lt;p&gt;In fact, the node underlying the JcrNodeResource might not even &quot;see&quot; updates to its properties after having been retrieved from the repository - it just so happens in the current Jackrabbit 2 implementation.&lt;/p&gt;</comment>
                            <comment id="13598695" author="cziegeler" created="Mon, 11 Mar 2013 10:36:48 +0000"  >&lt;p&gt;Ok, my description is too brief - I&apos;m not refering to changes done by other sessions - I&apos;m talking about a change through the same resource resolver, for example:&lt;br/&gt;
1. get a resource from the resource resolver&lt;br/&gt;
2. adapt it to ModifiableValueMap&lt;br/&gt;
3. set the resource type on the modifiable map&lt;br/&gt;
4. get the resource type from the resource above - it contains the old rt&lt;br/&gt;
5. commit the changes done in 3&lt;br/&gt;
6. get the resource type from the resource above - it contains the old rt&lt;/p&gt;

&lt;p&gt;This doesn&apos;t look right&lt;/p&gt;
</comment>
                            <comment id="13598701" author="fmeschbe" created="Mon, 11 Mar 2013 10:42:49 +0000"  >&lt;p&gt;Hmm, ok, but this also applies to the data in the ResourceMetadata: Consider you update the file content or change the last modification time stamp ?&lt;/p&gt;</comment>
                            <comment id="13598710" author="cziegeler" created="Mon, 11 Mar 2013 10:53:44 +0000"  >&lt;p&gt;Yes, I agree...now, I always wanted to implement the ResourceMetadata to be fetched lazy as right now these props are read for each and every resource but are rarely used. This has some performance impact which could be neglected. Of course that would not make this problem go away, but reduce and would also allow to update the metadata.&lt;br/&gt;
I just realized that the implementation of the jcr value map caches as well, so if you adapt the jcr resource to a ValueMap, fetch some values, then adapt to a ModifiableValue map, change the previously fetched values, the first value map will still return the old values.&lt;br/&gt;
This all sounds wrong to me, and all objects returned in some way from the resource resolver should display the same state. But that might be a little bit more work than I thought - the only other option I see is that we clearly document it. However I prefer fixing it as this might lead to interesting errors/problems over time&lt;/p&gt;</comment>
                            <comment id="15242745" author="githubbot" created="Fri, 15 Apr 2016 10:12:47 +0000"  >&lt;p&gt;GitHub user mmanski opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/133&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/133&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2781&quot; title=&quot;JcrNodeResource is caching resource type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2781&quot;&gt;&lt;del&gt;SLING-2781&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Now valuemaps hold the same state by sharing a common cache. Unit test have been added to test the common state of ValueMap and JcrModifialbeValueMap, other unit tests are passing ofc&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/mmanski/sling&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/mmanski/sling&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2781&quot; title=&quot;JcrNodeResource is caching resource type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2781&quot;&gt;&lt;del&gt;SLING-2781&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/sling/pull/133.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/pull/133.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #133&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 71ab1df006d9ef4eead90798ef4874bcbfbf41af&lt;br/&gt;
Author: Miko&#322;aj Ma&#324;ski &amp;lt;rasgrass@users.noreply.github.com&amp;gt;&lt;br/&gt;
Date:   2015-11-23T09:51:31Z&lt;/p&gt;

&lt;p&gt;    Merge pull request #1 from apache/trunk&lt;/p&gt;

&lt;p&gt;    trunk update&lt;/p&gt;

&lt;p&gt;commit 3176b0274020cf3751f3f9e45888b54f41336125&lt;br/&gt;
Author: Mikolaj Manski &amp;lt;mikolaj.manski@cognifide.com&amp;gt;&lt;br/&gt;
Date:   2015-11-27T16:59:37Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2781&quot; title=&quot;JcrNodeResource is caching resource type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2781&quot;&gt;&lt;del&gt;SLING-2781&lt;/del&gt;&lt;/a&gt; now valumaps hold the same state for their entries&lt;/p&gt;

&lt;p&gt;commit 270d63d688c0f489964acc9dc25dbfb694572051&lt;br/&gt;
Author: Mikolaj Manski &amp;lt;mikolaj.manski@cognifide.com&amp;gt;&lt;br/&gt;
Date:   2015-11-30T09:47:15Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2781&quot; title=&quot;JcrNodeResource is caching resource type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2781&quot;&gt;&lt;del&gt;SLING-2781&lt;/del&gt;&lt;/a&gt; removed code duplication&lt;/p&gt;

&lt;p&gt;commit 28c18afdeb8a01d59fb79e91ac055ecefb73abc5&lt;br/&gt;
Author: Mikolaj Manski &amp;lt;mikolaj.manski@cognifide.com&amp;gt;&lt;br/&gt;
Date:   2015-11-30T11:31:12Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2781&quot; title=&quot;JcrNodeResource is caching resource type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2781&quot;&gt;&lt;del&gt;SLING-2781&lt;/del&gt;&lt;/a&gt; some cleaning up&lt;/p&gt;

&lt;p&gt;commit 270ff94892db92003d5436854140dc411f2176fc&lt;br/&gt;
Author: Mikolaj Manski &amp;lt;mikolaj.manski@cognifide.com&amp;gt;&lt;br/&gt;
Date:   2016-04-14T15:23:37Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2781&quot; title=&quot;JcrNodeResource is caching resource type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2781&quot;&gt;&lt;del&gt;SLING-2781&lt;/del&gt;&lt;/a&gt; introduced fixes and updated unit tests&lt;/p&gt;

&lt;p&gt;commit 5f4320892edf689cf8ec8564f867cfa0c1a2c6f9&lt;br/&gt;
Author: Mikolaj Manski &amp;lt;mikolaj.manski@cognifide.com&amp;gt;&lt;br/&gt;
Date:   2016-04-15T07:22:50Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2781&quot; title=&quot;JcrNodeResource is caching resource type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2781&quot;&gt;&lt;del&gt;SLING-2781&lt;/del&gt;&lt;/a&gt; some cleaning up&lt;/p&gt;

&lt;p&gt;commit 5ac88a052221c8f9db825f6d81c41652bf04c250&lt;br/&gt;
Author: Mikolaj Manski &amp;lt;mikolaj.manski@cognifide.com&amp;gt;&lt;br/&gt;
Date:   2016-04-15T07:25:36Z&lt;/p&gt;

&lt;p&gt;    Merge remote-tracking branch &apos;upstream/trunk&apos; into trunk&lt;/p&gt;

&lt;p&gt;commit 47528e2cccb2cd153e7667239fc9b094d70aac61&lt;br/&gt;
Author: Mikolaj Manski &amp;lt;mikolaj.manski@cognifide.com&amp;gt;&lt;br/&gt;
Date:   2016-04-15T10:00:48Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2781&quot; title=&quot;JcrNodeResource is caching resource type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2781&quot;&gt;&lt;del&gt;SLING-2781&lt;/del&gt;&lt;/a&gt; merge with trunk&lt;/p&gt;

&lt;p&gt;commit 8004bccf7c532a13b94d95a706639572b3083e86&lt;br/&gt;
Author: Mikolaj Manski &amp;lt;mikolaj.manski@cognifide.com&amp;gt;&lt;br/&gt;
Date:   2016-04-15T10:10:15Z&lt;/p&gt;

&lt;p&gt;    BAR-2781 formatting fixes&lt;/p&gt;

&lt;hr /&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>316729</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 28 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1iniv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317071</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2776] A POST that runs into an AccessDeniedException returns a 500 instead of a 403</title>
                <link>https://issues.apache.org/jira/browse/SLING-2776</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If you POST to an url that you are not allowed to POST to, a 500 is returned. &lt;/p&gt;

&lt;p&gt;Here is my suggested fix:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;host:~/Downloads/sling $ svn diff
Index: bundles/servlets/post/src/main/java/org/apache/sling/servlets/post/AbstractPostResponse.java
===================================================================
--- bundles/servlets/post/src/main/java/org/apache/sling/servlets/post/AbstractPostResponse.java	(revision 1453750)
+++ bundles/servlets/post/src/main/java/org/apache/sling/servlets/post/AbstractPostResponse.java	(working copy)
@@ -292,7 +292,11 @@
         &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; path = getPath();
         &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (getProperty(PN_STATUS_CODE) == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
             &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (getError() != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
-                setStatus(500, getError().toString());
+		&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (getError() &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; javax.jcr.AccessDeniedException) {
+		    setStatus(403, getError.toString());
+		} &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
+                    setStatus(500, getError().toString());
+                }
                 setTitle(&lt;span class=&quot;code-quote&quot;&gt;&quot;Error &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; processing &quot;&lt;/span&gt; + path);
             } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
                 &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (isCreateRequest()) {
@@ -376,4 +380,4 @@
         doSend(response);
     }

-}
\ No newline at end of file
+}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>CQ5</environment>
        <key id="12635763">SLING-2776</key>
            <summary>A POST that runs into an AccessDeniedException returns a 500 instead of a 403</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="thorbenheins">Thorben Heins</reporter>
                        <labels>
                    </labels>
                <created>Thu, 7 Mar 2013 10:08:33 +0000</created>
                <updated>Fri, 14 Apr 2023 07:49:11 +0000</updated>
                            <resolved>Fri, 14 Apr 2023 07:49:11 +0000</resolved>
                                    <version>Servlets Post 2.2.0</version>
                                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="15845166" author="jpinho" created="Mon, 30 Jan 2017 13:12:31 +0000"  >&lt;p&gt;Would like to pick this up &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thorbenheins&quot; class=&quot;user-hover&quot; rel=&quot;thorbenheins&quot;&gt;thorbenheins&lt;/a&gt; can you assign it to me?&lt;br/&gt;
Thanks.&lt;/p&gt;</comment>
                            <comment id="15845207" author="olli" created="Mon, 30 Jan 2017 13:53:13 +0000"  >&lt;p&gt;The &lt;tt&gt;500&lt;/tt&gt; may be intentional for security reasons, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fmeschbe&quot; class=&quot;user-hover&quot; rel=&quot;fmeschbe&quot;&gt;fmeschbe&lt;/a&gt; please have a look.&lt;/p&gt;</comment>
                            <comment id="15845911" author="fmeschbe" created="Mon, 30 Jan 2017 20:58:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olli&quot; class=&quot;user-hover&quot; rel=&quot;olli&quot;&gt;olli&lt;/a&gt; I agree that &lt;tt&gt;500&lt;/tt&gt; is correct here, but not for security reasons but for conceptual reasons: If &lt;tt&gt;setError&lt;/tt&gt; is called this means the caller is catching an unexpected problem which normally results in a &lt;tt&gt;500/Internal Server Error&lt;/tt&gt; status.&lt;/p&gt;

&lt;p&gt;If in this case a &lt;tt&gt;403/Forbidden&lt;/tt&gt; would be desired the &lt;tt&gt;AccessControlException&lt;/tt&gt; would have to be caught and handled appropriately.&lt;/p&gt;

&lt;p&gt;Yet, I also agree that I am not sure a &lt;tt&gt;403/Forbidden&lt;/tt&gt; is really a good idea to return here. Maybe in this particular case a &lt;tt&gt;403/Forbidden&lt;/tt&gt; is ok.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>316255</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 39 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1iklr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>316598</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2775] Setting of auto properties depends on specific Jackrabbit behviour</title>
                <link>https://issues.apache.org/jira/browse/SLING-2775</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The post servlet ignores a ConstraintViolationException when trying to set an auto property (SlingPropertyValueHandler#setProperty method. This has been introduced by &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-1619&quot; title=&quot;attempting to automatically set a protected property shouldn&amp;#39;t cause a failure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-1619&quot;&gt;&lt;del&gt;SLING-1619&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;According to &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2763&quot; title=&quot;Tweak PostServletCreateTest.testCreatingNodeUnderFile test to allow the presence of a PersistenceException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2763&quot;&gt;&lt;del&gt;SLING-2763&lt;/del&gt;&lt;/a&gt; this is specific Jackrabbit behaviour and might fail with other implementations (e.g. Oak) as the check might not occur when setting the property but when saving.&lt;/p&gt;

&lt;p&gt;Looking at the comments of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-1619&quot; title=&quot;attempting to automatically set a protected property shouldn&amp;#39;t cause a failure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-1619&quot;&gt;&lt;del&gt;SLING-1619&lt;/del&gt;&lt;/a&gt;, I&apos;m not sure if adding this check for the ConstraintViolationException was the right thing to do anyway.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12635607">SLING-2775</key>
            <summary>Setting of auto properties depends on specific Jackrabbit behviour</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Wed, 6 Mar 2013 16:56:47 +0000</created>
                <updated>Wed, 22 May 2013 22:41:06 +0000</updated>
                            <resolved>Tue, 30 Apr 2013 15:40:19 +0000</resolved>
                                    <version>Servlets Post 2.2.0</version>
                                    <fixVersion>Servlets Post 2.3.0</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13645674" author="cziegeler" created="Tue, 30 Apr 2013 15:39:24 +0000"  >&lt;p&gt;Instead of simply ignoring a potential exception when setting the property - which will fail with Oak (or other JCR implementations), I went to long way and do a nodetype check, find the property definiton for the auto property and see if it is managed by the repository. If so, the value is ignored.&lt;/p&gt;

&lt;p&gt;Revision: 1477692&lt;/p&gt;</comment>
                            <comment id="13645675" author="cziegeler" created="Tue, 30 Apr 2013 15:40:19 +0000"  >&lt;p&gt;Tests pass, I think we can set this to fixed&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="12648983">SLING-2877</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>316100</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 27 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ijnb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>316443</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2774] Bad initialisation of a cache in SlingPostServlet</title>
                <link>https://issues.apache.org/jira/browse/SLING-2774</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;This issue is intended to track the problems mentioned in this thread from the developer list:&lt;br/&gt;
&lt;a href=&quot;http://www.mail-archive.com/dev@sling.apache.org/msg18940.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.mail-archive.com/dev@sling.apache.org/msg18940.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;An extract of the original mail:&lt;br/&gt;
--------------------------------------------------------&lt;br/&gt;
I&apos;ve been stepping through the SlingPostServlet, having a look at its&lt;br/&gt;
code. I feel that there is a potential &quot;code smell&quot; in some of its&lt;br/&gt;
methods. As I&apos;m unsure how the Sling project deals with such&lt;br/&gt;
situations, I felt that posting a mail here before creating an issue&lt;br/&gt;
might be better.&lt;/p&gt;

&lt;p&gt;The code I&apos;m talking about is contained in&lt;br/&gt;
registerPostResponseCreator(), where the cachedPostResponseCreators&lt;br/&gt;
attribute is initialised. There are two issues here:&lt;/p&gt;

&lt;p&gt;1. The cachedPostResponseCreators array is re-initialised every time&lt;br/&gt;
this method is invoked. This leads to an unnecessary O(n^2)&lt;br/&gt;
initialisation complexity on componentContext.locateService() method.&lt;br/&gt;
I guess that this cache&apos;s whole purpose is to avoid expensive&lt;br/&gt;
locateService() calls, so this should probably be fixed.&lt;/p&gt;

&lt;p&gt;2. A first loop initialises this cachedPostResponseCreators array. In&lt;br/&gt;
a second step, &quot;null&quot; entries are &quot;removed&quot; by copying the array. This&lt;br/&gt;
behaviour is hard to read from the existing code, which is a bit&lt;br/&gt;
verbose. In order to avoid the potential for bugs, I&apos;d like to suggest&lt;br/&gt;
using the (untested) behaviour from the attached patch. Note that&lt;br/&gt;
other methods, such as registerPostProcessor(),&lt;br/&gt;
registerNodeNameGenerator() suffers from similar &quot;verbosity problems&quot;.&lt;br/&gt;
--------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Also, attached the .patch file that was blocked in the mail on the mailing list&lt;/p&gt;</description>
                <environment></environment>
        <key id="12635568">SLING-2774</key>
            <summary>Bad initialisation of a cache in SlingPostServlet</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="lukas.eder">Lukas Eder</reporter>
                        <labels>
                    </labels>
                <created>Wed, 6 Mar 2013 13:25:43 +0000</created>
                <updated>Thu, 13 Apr 2023 05:08:04 +0000</updated>
                            <resolved>Thu, 13 Apr 2023 05:08:04 +0000</resolved>
                                    <version>Servlets Post 2.2.0</version>
                                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                            <attachment id="12572315" name="SlingPostServlet.java.patch" size="1674" author="lukas.eder" created="Wed, 6 Mar 2013 13:26:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>316061</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 35 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ijen:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>316404</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2773] NPE in JcrResourceListener on missing user id</title>
                <link>https://issues.apache.org/jira/browse/SLING-2773</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The Oak repository impl doesn&apos;t yet provide user id information on events which makes for a NPE on the sling side (See &lt;a href=&quot;https://issues.apache.org/jira/browse/OAK-675&quot; title=&quot;Observation generates NPE in an existing EventListener&quot; class=&quot;issue-link&quot; data-issue-key=&quot;OAK-675&quot;&gt;&lt;del&gt;OAK-675&lt;/del&gt;&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;Providing null as user id is considered legal , so probably a null guard is in order &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;.&lt;/p&gt;


&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://svn.apache.org/viewvc/sling/trunk/bundles/jcr/resource/src/main/java/org/apache/sling/jcr/resource/internal/JcrResourceListener.java?view=markup#l298&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc/sling/trunk/bundles/jcr/resource/src/main/java/org/apache/sling/jcr/resource/internal/JcrResourceListener.java?view=markup#l298&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;06.03.2013 11:33:13.866 *ERROR* [pool-4-thread-1] org.apache.jackrabbit.oak.plugins.observation.ChangeProcessor Unable to generate or send events java.lang.NullPointerException
at java.util.Hashtable.put(Hashtable.java:394)
at org.apache.sling.jcr.resource.internal.JcrResourceListener.sendOsgiEvent(JcrResourceListener.java:298)
at org.apache.sling.jcr.resource.internal.JcrResourceListener.onEvent(JcrResourceListener.java:218)
at org.apache.jackrabbit.oak.plugins.observation.ChangeProcessor$EventGeneratingNodeStateDiff.sendEvents(ChangeProcessor.java:154)
at org.apache.jackrabbit.oak.plugins.observation.ChangeProcessor.run(ChangeProcessor.java:117)
at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)
at java.util.concurrent.FutureTask$Sync.innerRunAndReset(FutureTask.java:317)
at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:150)
at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(ScheduledThreadPoolExecutor.java:98)
at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(ScheduledThreadPoolExecutor.java:180)
at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:204)
at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:662)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12635551">SLING-2773</key>
            <summary>NPE in JcrResourceListener on missing user id</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="stillalex">Alex Deparvu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 6 Mar 2013 11:27:46 +0000</created>
                <updated>Fri, 24 Jan 2014 15:43:57 +0000</updated>
                            <resolved>Wed, 6 Mar 2013 11:52:07 +0000</resolved>
                                    <version>JCR Resource 2.2.4</version>
                                    <fixVersion>JCR Resource 2.2.6</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13594634" author="cziegeler" created="Wed, 6 Mar 2013 11:52:07 +0000"  >&lt;p&gt;Thanks for reporting, Alex - I&apos;ve added an extra null check for the user id&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12636606">SLING-2788</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12635546">OAK-675</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12691055">SLING-3339</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>316044</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 35 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ijav:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>316387</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2772] The simple-demo sample doesn&apos;t seem to run out of the box</title>
                <link>https://issues.apache.org/jira/browse/SLING-2772</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I&apos;m trying to run the &quot;Simple Demo&quot; sample, but it doesn&apos;t seem to run out-of-the-box, as I&apos;m getting this exception, when accessing this resource &lt;a href=&quot;http://localhost:8888/sample/content/home/content.html:&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8888/sample/content/home/content.html:&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;org.apache.sling.api.SlingException: javax.servlet.ServletException: java.lang.NoClassDefFoundError: org/apache/sling/sample/SampleContent&lt;br/&gt;
	at org.apache.sling.scripting.jsp.jasper.servlet.JspServletWrapper.handleJspExceptionInternal(JspServletWrapper.java:691)&lt;br/&gt;
Caused by: java.lang.NoClassDefFoundError: org/apache/sling/sample/SampleContent&lt;br/&gt;
	at org.apache.jsp.apps.sling.SampleContent.html_jsp._jspService(html_jsp.java:104)&lt;br/&gt;
	at org.apache.sling.scripting.jsp.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)&lt;br/&gt;
	at org.apache.sling.scripting.jsp.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:502)&lt;/p&gt;

&lt;p&gt;The full error page is attached to this issue&lt;/p&gt;

&lt;p&gt;Note, it might as well be me, misunderstanding the example. In this sample, it would be useful to add some hints regarding how to access the sample resources&lt;/p&gt;</description>
                <environment></environment>
        <key id="12635321">SLING-2772</key>
            <summary>The simple-demo sample doesn&apos;t seem to run out of the box</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="lukas.eder">Lukas Eder</reporter>
                        <labels>
                    </labels>
                <created>Tue, 5 Mar 2013 11:00:52 +0000</created>
                <updated>Tue, 26 Aug 2014 09:39:01 +0000</updated>
                            <resolved>Tue, 26 Aug 2014 09:39:01 +0000</resolved>
                                    <version>Samples Simple Demo 2.0.2</version>
                                                    <component>Samples</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13959787" author="bosschaert" created="Fri, 4 Apr 2014 09:06:57 +0000"  >&lt;p&gt;I&apos;m getting that error too. Besides, there have been discussions to remove the simple demo:&lt;br/&gt;
&lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/sling-dev/200904.mbox/%3C49DC86F8.4030002%40gmail.com%3E&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://mail-archives.apache.org/mod_mbox/sling-dev/200904.mbox/%3C49DC86F8.4030002%40gmail.com%3E&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Should we maybe do this? I personally find the simple-demo fairly confusing &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14108191" author="origin" created="Sat, 23 Aug 2014 23:03:51 +0000"  >&lt;p&gt;Any update on this ticket? I am also not able to get the demo to work, I get following exception:&lt;/p&gt;

&lt;p&gt;&quot;Internal Server Error (500)&lt;br/&gt;
The requested URL /sample/content/home.html resulted in an error in /apps/sling/SamplePage/html.jsp.&lt;br/&gt;
Exception: java.lang.NullPointerException at org.apache.jsp.apps.sling.SamplePage.html_jsp._jspService(html_jsp.java:117)&quot;&lt;/p&gt;

&lt;p&gt;It is the only demo showing how to use jsp pages backed by java objects, and I am not really able to find any other demo&apos;s online where they really use jsp pages together with the underlying resource, so it would be nice if it could be restored to work!&lt;/p&gt;</comment>
                            <comment id="14109076" author="cziegeler" created="Mon, 25 Aug 2014 12:52:04 +0000"  >&lt;p&gt;This sample requires OCM for the mapping of resources to objects; however the implementation we have is pretty old and no one maintained it. Even worse, it doesn&apos;t run (the bundle doesn&apos;t resolve) with latest Sling. We moved the OCM part recently out of the Sling launchpad because of those reasons. &lt;br/&gt;
Unless someone spends significant time into getting OCM running again, this sample will continue to fail and we should remove it&lt;br/&gt;
There are samples for using jsps with resources - the jsps usually adapt the resource to a value map and use that for rendering. For object mapping I suggest to look into the new Sling models : &lt;a href=&quot;http://sling.apache.org/documentation/bundles/models.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sling.apache.org/documentation/bundles/models.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14109319" author="origin" created="Mon, 25 Aug 2014 17:08:52 +0000"  >&lt;p&gt;Ok thanks I will definitely have a look at that then, I was trying to convert the ocm in the simple demo to slice resources (&lt;a href=&quot;https://github.com/Cognifide/Slice&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/Cognifide/Slice&lt;/a&gt;), but maybe I can just use standard sling models then.&lt;/p&gt;</comment>
                            <comment id="14110548" author="cziegeler" created="Tue, 26 Aug 2014 09:39:01 +0000"  >&lt;p&gt;As discussed in the mailing list, we removed this sample&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12572072" name="error.html" size="7734" author="lukas.eder" created="Tue, 5 Mar 2013 11:01:23 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>315814</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 10 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ihvr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>316157</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2771] mvn validate doesn&apos;t work if local Maven repo is empty</title>
                <link>https://issues.apache.org/jira/browse/SLING-2771</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The workaround is to build launchpad/base first, and the cause seems to be &lt;a href=&quot;https://jira.codehaus.org/browse/MNG-1911&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://jira.codehaus.org/browse/MNG-1911&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;$ cd sling&lt;br/&gt;
$ mv $HOME/.m2/repository/org/apache/sling /tmp/keep-it-somewhere&lt;br/&gt;
$ mvn validate&lt;/p&gt;

&lt;p&gt;INFO] Scanning for projects...&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;WARNING&amp;#93;&lt;/span&gt; The POM for org.apache.sling:org.apache.sling.launchpad.base:jar:2.5.1-SNAPSHOT is missing, no dependency information available&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;WARNING&amp;#93;&lt;/span&gt; The POM for org.apache.sling:org.apache.sling.launchpad.base:jar:app:2.5.1-SNAPSHOT is missing, no dependency information available&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; The build could not read 1 project -&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Help 1&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt;   &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt;   The project org.apache.sling:org.apache.sling.launchpad.testing:7-SNAPSHOT (/Users/bert/workspace/apache/sling/launchpad/testing/pom.xml) has 1 error&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt;     Unresolveable build extension: Plugin org.apache.sling:maven-launchpad-plugin:2.1.2 or one of its dependencies could not be resolved: The following artifacts could not be resolved: org.apache.sling:org.apache.sling.launchpad.base:jar:2.5.1-SNAPSHOT, org.apache.sling:org.apache.sling.launchpad.base:jar:app:2.5.1-SNAPSHOT...&lt;/p&gt;
</description>
                <environment>macosx with java version &amp;quot;1.6.0_37&amp;quot; and Apache Maven 3.0.5</environment>
        <key id="12635138">SLING-2771</key>
            <summary>mvn validate doesn&apos;t work if local Maven repo is empty</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Mon, 4 Mar 2013 15:32:23 +0000</created>
                <updated>Mon, 4 Mar 2013 15:53:13 +0000</updated>
                            <resolved>Mon, 4 Mar 2013 15:50:23 +0000</resolved>
                                                                    <component>General</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13592305" author="bdelacretaz" created="Mon, 4 Mar 2013 15:50:23 +0000"  >&lt;p&gt;Deploying the launchpad/base snapshot to the Apache snapshots Maven repository works around the issue, &quot;mvn clean install&quot; now works with a local Maven repo that doesn&apos;t have any sling artifacts initially.&lt;/p&gt;

&lt;p&gt;Marking this won&apos;t fix for now, there&apos;s probably nothing we can do on our side besides deploying such snapshots to work around the issue.&lt;/p&gt;</comment>
                            <comment id="13592307" author="justinedelson" created="Mon, 4 Mar 2013 15:53:13 +0000"  >&lt;p&gt;Agreed. The other thing we can do is not depend upon a SNAPSHOT version of launchpad.base.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12635106">SLING-2770</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>315631</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 35 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1igr3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>315974</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2770] Building Launchpad from trunk fails due to unresolvable SNAPSHOT dependencies</title>
                <link>https://issues.apache.org/jira/browse/SLING-2770</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Building Launchpad from trunk fails as there seem to be some SNAPSHOT versions missing from the Apache snapshot repositories.&lt;/p&gt;

&lt;p&gt;Below is the output from a mvn install command (-X -e output attached in a file):&lt;/p&gt;

&lt;p&gt;SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.&lt;br/&gt;
SLF4J: Defaulting to no-operation (NOP) logger implementation&lt;br/&gt;
SLF4J: See &lt;a href=&quot;http://www.slf4j.org/codes.html#StaticLoggerBinder&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.slf4j.org/codes.html#StaticLoggerBinder&lt;/a&gt; for further details.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Scanning for projects...&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;                                                                         &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Building Apache Sling Launchpad Application Builder 7-SNAPSHOT&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;WARNING&amp;#93;&lt;/span&gt; The POM for org.apache.sling:org.apache.sling.resourceresolver:jar:1.0.5-SNAPSHOT is missing, no dependency information available&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;WARNING&amp;#93;&lt;/span&gt; The POM for org.apache.sling:org.apache.sling.servlets.resolver:jar:2.2.3-SNAPSHOT is missing, no dependency information available&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;WARNING&amp;#93;&lt;/span&gt; The POM for org.apache.sling:org.apache.sling.jcr.resource:jar:2.2.5-SNAPSHOT is missing, no dependency information available&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;WARNING&amp;#93;&lt;/span&gt; The POM for org.apache.sling:org.apache.sling.scripting.jsp:jar:2.0.27-SNAPSHOT is missing, no dependency information available&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; BUILD FAILURE&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Total time: 5.804s&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Finished at: Mon Mar 04 12:21:02 CET 2013&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Final Memory: 10M/81M&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Failed to execute goal on project org.apache.sling.launchpad: Could not resolve dependencies for project org.apache.sling:org.apache.sling.launchpad:war:7-SNAPSHOT: The following artifacts could not be resolved: org.apache.sling:org.apache.sling.resourceresolver:jar:1.0.5-SNAPSHOT, org.apache.sling:org.apache.sling.servlets.resolver:jar:2.2.3-SNAPSHOT, org.apache.sling:org.apache.sling.jcr.resource:jar:2.2.5-SNAPSHOT, org.apache.sling:org.apache.sling.scripting.jsp:jar:2.0.27-SNAPSHOT: Failure to find org.apache.sling:org.apache.sling.resourceresolver:jar:1.0.5-SNAPSHOT in &lt;a href=&quot;http://repository.apache.org/snapshots&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://repository.apache.org/snapshots&lt;/a&gt; was cached in the local repository, resolution will not be reattempted until the update interval of apache.snapshots has elapsed or updates are forced -&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Help 1&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; To see the full stack trace of the errors, re-run Maven with the -e switch.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Re-run Maven using the -X switch to enable full debug logging.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; For more information about the errors and possible solutions, please read the following articles:&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Help 1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12635106">SLING-2770</key>
            <summary>Building Launchpad from trunk fails due to unresolvable SNAPSHOT dependencies</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="lukas.eder">Lukas Eder</reporter>
                        <labels>
                    </labels>
                <created>Mon, 4 Mar 2013 11:22:32 +0000</created>
                <updated>Wed, 20 Sep 2017 12:18:45 +0000</updated>
                            <resolved>Wed, 4 Mar 2015 07:34:40 +0000</resolved>
                                    <version>Launchpad Builder 7</version>
                                    <fixVersion>Launchpad Builder 7</fixVersion>
                                    <component>Launchpad</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13592136" author="lukas.eder" created="Mon, 4 Mar 2013 11:24:23 +0000"  >&lt;p&gt;Maven debug and error output&lt;/p&gt;</comment>
                            <comment id="13592142" author="bdelacretaz" created="Mon, 4 Mar 2013 11:43:56 +0000"  >&lt;p&gt;We should fix that of course, but in the meantime you might be able to work around this by building the corresponding modules manually first.&lt;/p&gt;

&lt;p&gt;All the Sling core modules are found in the bundles folder, and you can search names like org.apache.sling.resourceresolver in their pom.xml to find where which module is.&lt;/p&gt;</comment>
                            <comment id="13592148" author="lukas.eder" created="Mon, 4 Mar 2013 12:05:29 +0000"  >&lt;p&gt;You&apos;re right of course, that is one option. That way, I got the Launchpad Builder running. Did I maybe miss some Maven option that allows to trigger those depending builds automatically? Or is that going to be part of the fix?&lt;/p&gt;

&lt;p&gt;Anyway, thanks for your help!&lt;/p&gt;</comment>
                            <comment id="13592149" author="bdelacretaz" created="Mon, 4 Mar 2013 12:08:30 +0000"  >&lt;p&gt;Note also that I don&apos;t get the same errors if building against a local Maven repo that has no previous Sling stuff, the following works for me without anything special in my Maven settings.xml:&lt;/p&gt;

&lt;p&gt;cd &amp;lt;top of the Sling source code tree&amp;gt;&lt;br/&gt;
mv $HOME/.m2/repository/org/apache/sling /tmp/keep-it-around&lt;br/&gt;
cd launchpad/base/&lt;br/&gt;
mvn clean install&lt;br/&gt;
cd -&lt;br/&gt;
mvn clean install&lt;/p&gt;

&lt;p&gt;Having to build launchpad/base first shouldn&apos;t be needed, but I don&apos;t get the missing modules that you get.&lt;/p&gt;

&lt;p&gt;Tested on macosx with java version &quot;1.6.0_37&quot; and Apache Maven 3.0.3&lt;/p&gt;</comment>
                            <comment id="13593219" author="bdelacretaz" created="Tue, 5 Mar 2013 08:18:58 +0000"  >&lt;p&gt;I have created &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2771&quot; title=&quot;mvn validate doesn&amp;#39;t work if local Maven repo is empty&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2771&quot;&gt;&lt;del&gt;SLING-2771&lt;/del&gt;&lt;/a&gt; for my &quot;build launchpad/base&quot; first issue. &lt;/p&gt;

&lt;p&gt;If you can still reproduce your issue with missing snapshots please let me know how to reproduce it, as it doesn&apos;t happen on my box.&lt;/p&gt;</comment>
                            <comment id="13593252" author="lukas.eder" created="Tue, 5 Mar 2013 09:07:52 +0000"  >&lt;p&gt;Yes, I can still reproduce it, although I&apos;m not quite sure what specific things lead to this problem. Here are a couple of things I did right now (after manual building of the aforementioned dependencies worked around the problem):&lt;/p&gt;

&lt;p&gt;$ pwd&lt;br/&gt;
/Users/lukaseder/Documents/workspace/sling/launchpad/builder&lt;/p&gt;

&lt;p&gt;$ rm -Rf /Users/lukaseder/.m2/repository/org/apache/sling/org.apache.sling.servlets.resolver&lt;br/&gt;
$ mvn install&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;...&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Failed to execute goal on project org.apache.sling.launchpad: Could not resolve dependencies for project org.apache.sling:org.apache.sling.launchpad:war:7-SNAPSHOT: Could not find artifact org.apache.sling:org.apache.sling.servlets.resolver:jar:2.2.3-SNAPSHOT in apache.snapshots (&lt;a href=&quot;http://repository.apache.org/snapshots&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://repository.apache.org/snapshots&lt;/a&gt;) -&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Help 1&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;...&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;I don&apos;t have anything specific in the settings.xml file, either. Feel free to close this as &quot;cannot reproduce&quot;, though...&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12635138">SLING-2771</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12571870" name="mvn-install-X-e.txt" size="80022" author="lukas.eder" created="Mon, 4 Mar 2013 11:26:46 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>315599</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 35 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1igjz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>315942</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2769] Broken sample: post-servlet-extensions</title>
                <link>https://issues.apache.org/jira/browse/SLING-2769</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I&apos;m learning about Sling and I&apos;m trying to build and run the Sling samples within my Launchpad instance. For instance, I&apos;m trying to run &quot;samples/post-servlet-extensions&quot;. However, it seems that this sample depends on JCR 1.0, transitively, as I&apos;m getting this error in the Sling Console, after loading the bundle:&lt;/p&gt;

&lt;p&gt;Imported Packages javax.jcr,version=[1.0,2) &amp;#8211; Cannot be resolved&lt;/p&gt;

&lt;p&gt;The Launchpad (version 6), however includes JCR 2.0. Is this sample outdated? How can this be fixed? Note:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;I&apos;ve tried upgrading the JCR dependency in ../../../parent/pom.xml before building the samples (with mvn clean install) - without success&lt;/li&gt;
	&lt;li&gt;I&apos;ve tried upgrading the sample&apos;s dependencies on org.apache.sling.servlets.post from 2.0.4-incubator to 2.2.0 and on org.apache.sling.jcr.resource from 2.0.6 to 2.2.4 - without success&lt;/li&gt;
	&lt;li&gt;I&apos;ve tried building Sling from trunk - without success, as many artefacts seem to be missing from the Apache SNAPSHOT repositories.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I&apos;m not having such issues with the &quot;samples/urlfilter&quot; sample&lt;/p&gt;</description>
                <environment></environment>
        <key id="12635097">SLING-2769</key>
            <summary>Broken sample: post-servlet-extensions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="lukas.eder">Lukas Eder</reporter>
                        <labels>
                    </labels>
                <created>Mon, 4 Mar 2013 10:25:41 +0000</created>
                <updated>Wed, 16 Oct 2013 13:45:53 +0000</updated>
                            <resolved>Mon, 4 Mar 2013 11:10:44 +0000</resolved>
                                    <version>Launchpad Base 2.5.0</version>
                                                    <component>Launchpad</component>
                    <component>Samples</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13592120" author="bdelacretaz" created="Mon, 4 Mar 2013 11:00:16 +0000"  >&lt;p&gt;This is similar to &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2557&quot; title=&quot;o.a.s.samples.path-based.rtp bundle does not resolve on trunk&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2557&quot;&gt;&lt;del&gt;SLING-2557&lt;/del&gt;&lt;/a&gt;, I&apos;ll fix the pom in a similar way.&lt;/p&gt;</comment>
                            <comment id="13592127" author="bdelacretaz" created="Mon, 4 Mar 2013 11:10:44 +0000"  >&lt;p&gt;Fixed in revision 1452252, the bundle now starts on Sling launchpad 6.&lt;/p&gt;

&lt;p&gt;Note that this wouldn&apos;t be needed for trunk as the org.apache.sling.jcr.jcr-wrapper bundle exports javax.jcr,version=1.1.0&lt;/p&gt;

&lt;p&gt;Building Sling from trunk should work, if not please give us more details about what fails.&lt;/p&gt;</comment>
                            <comment id="13592129" author="lukas.eder" created="Mon, 4 Mar 2013 11:17:48 +0000"  >&lt;p&gt;Great, thanks for fixing the OSGi import. I&apos;ll create a new issue for the failing trunk build, with more info...&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2770&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SLING-2770&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13795566" author="henkjanc" created="Tue, 15 Oct 2013 20:03:44 +0000"  >&lt;p&gt;Hello,&lt;br/&gt;
I&apos;m having the same kind of  error on the trunk-checkout.  I try to run the  the /samples/simple-demo&lt;br/&gt;
The bundle is installed but won&apos;t start;&lt;br/&gt;
This is what i see in the console:&lt;br/&gt;
Apache Sling Sample Applicationorg.apache.sling.samples.simple-demo&lt;br/&gt;
Symbolic Name	org.apache.sling.samples.simple-demo&lt;br/&gt;
...&lt;br/&gt;
Imported Packages	javax.el,version=[2.1,3) from org.apache.sling.scripting.jsp (38)&lt;br/&gt;
javax.jcr,version=[1.0,2) &amp;#8211; Cannot be resolved (red)&lt;br/&gt;
javax.servlet from org.apache.felix.http.jetty (65)&lt;/p&gt;

&lt;p&gt;I&apos;m I doing something wrong or is this some kind of bug?&lt;/p&gt;

&lt;p&gt;Kind regards,&lt;br/&gt;
Henk-Jan&lt;/p&gt;</comment>
                            <comment id="13796796" author="bdelacretaz" created="Wed, 16 Oct 2013 13:45:53 +0000"  >&lt;p&gt;The org.apache.sling.samples.simple-demo bundle, built from trunk, works for me when installed in a Sling instance built from the launchpad/builder trunk. Let&apos;s discuss on the Sling users list if you&apos;re still seeing this issue.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12602045">SLING-2557</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>315590</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 3 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ighz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>315933</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2768] Broken link in launchpad-base&apos;s pom.xml</title>
                <link>https://issues.apache.org/jira/browse/SLING-2768</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The pom.xml of the Launchpad Base project references an obsolete Wiki page. Please see the attached patch for a fix&lt;/p&gt;</description>
                <environment></environment>
        <key id="12635093">SLING-2768</key>
            <summary>Broken link in launchpad-base&apos;s pom.xml</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="lukas.eder">Lukas Eder</reporter>
                        <labels>
                    </labels>
                <created>Mon, 4 Mar 2013 09:38:39 +0000</created>
                <updated>Sat, 26 Jul 2014 17:35:29 +0000</updated>
                            <resolved>Mon, 4 Mar 2013 09:52:26 +0000</resolved>
                                    <version>Launchpad Base 2.5.0</version>
                                    <fixVersion>Launchpad Base 2.5.2</fixVersion>
                                    <component>Launchpad</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13592090" author="bdelacretaz" created="Mon, 4 Mar 2013 09:52:26 +0000"  >&lt;p&gt;The canonical documentation page is actually &lt;a href=&quot;http://sling.apache.org/site/the-sling-launchpad.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sling.apache.org/site/the-sling-launchpad.html&lt;/a&gt; now, I have fixed this in revision 1452225, thanks very much for spotting this error!&lt;/p&gt;</comment>
                            <comment id="13592091" author="lukas.eder" created="Mon, 4 Mar 2013 09:55:35 +0000"  >&lt;p&gt;Yes, you&apos;re right. I&apos;ve noticed that there were &quot;static&quot; and &quot;wiki&quot; pages, containing similar content. Thanks for fixing this&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12571861" name="sling-launchpad-base-pom.xml.patch" size="621" author="lukas.eder" created="Mon, 4 Mar 2013 09:39:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>315586</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 35 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1igh3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>315929</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2767] Typos in documentation eventing-and-jobs.html</title>
                <link>https://issues.apache.org/jira/browse/SLING-2767</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;There are two trivial typos on the eventing-and-jobs.html page for the Sling documentation. I will attach a patch to fix them&lt;/p&gt;</description>
                <environment></environment>
        <key id="12634836">SLING-2767</key>
            <summary>Typos in documentation eventing-and-jobs.html</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="lukas.eder">Lukas Eder</reporter>
                        <labels>
                    </labels>
                <created>Fri, 1 Mar 2013 16:04:59 +0000</created>
                <updated>Thu, 13 Apr 2023 05:07:51 +0000</updated>
                            <resolved>Thu, 13 Apr 2023 05:07:51 +0000</resolved>
                                                                    <component>Documentation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13590658" author="lukas.eder" created="Fri, 1 Mar 2013 16:05:28 +0000"  >&lt;p&gt;Patch fixing the typos&lt;/p&gt;</comment>
                            <comment id="13590675" author="lukas.eder" created="Fri, 1 Mar 2013 16:27:31 +0000"  >&lt;p&gt;Some more typo fixes for architecture.html&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12571604" name="architecture.html.patch" size="3550" author="lukas.eder" created="Fri, 1 Mar 2013 16:27:31 +0000"/>
                            <attachment id="12571594" name="eventing-and-jobs.html.patch" size="1005" author="lukas.eder" created="Fri, 1 Mar 2013 16:05:28 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>315329</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 35 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1iewf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>315673</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2762] AbstractSlingRepository#login violates JCR spec</title>
                <link>https://issues.apache.org/jira/browse/SLING-2762</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;AbstractSlingRepository#login seems to violate the javax.jcr.Repository spec.&lt;/p&gt;

&lt;p&gt;The API &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; says&lt;/p&gt;

&lt;p&gt;&quot; If credentials is null, it is assumed that authentication is handled by a mechanism external to the repository itself (for example, through the JAAS framework) and that the repository implementation exists within a context (for example, an application server) that allows it to handle authorization of the request for access to the specified workspace.&quot;&lt;/p&gt;

&lt;p&gt;while the implementation looks like&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;...
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (credentials == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
    credentials = getAnonCredentials(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.anonUser);
}
...

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://www.day.com/maven/jsr170/javadocs/jcr-2.0/javax/jcr/Repository.html#login%28javax.jcr.Credentials,%20java.lang.String%29&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.day.com/maven/jsr170/javadocs/jcr-2.0/javax/jcr/Repository.html#login%28javax.jcr.Credentials,%20java.lang.String%29&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12634780">SLING-2762</key>
            <summary>AbstractSlingRepository#login violates JCR spec</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="asanso">Antonio Sanso</assignee>
                                    <reporter username="asanso">Antonio Sanso</reporter>
                        <labels>
                    </labels>
                <created>Fri, 1 Mar 2013 09:42:56 +0000</created>
                <updated>Fri, 14 Apr 2023 07:48:53 +0000</updated>
                            <resolved>Fri, 14 Apr 2023 07:48:53 +0000</resolved>
                                                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13590525" author="anchela" created="Fri, 1 Mar 2013 13:55:57 +0000"  >&lt;p&gt;apart from violating the spec this also pretty awkward as the &apos;anonymous&apos; in sling represents the unauthenticated user.&lt;br/&gt;
login as such with other credentials that javax.jcr.GuestCredentials doesn&apos;t make sense IMHO.&lt;/p&gt;

&lt;p&gt;it&apos;s actually an oddity (or bug) in jackrabbit core that it was (actually is) possible to login with SimpleCredentials build for the&lt;br/&gt;
anonymous user that has not been fixed in order not to break backwards compatibility.&lt;/p&gt;

&lt;p&gt;as of oak that special handling for the anonymous user will not be supported any more and the built-in anonymous user&lt;br/&gt;
will not have a password property any more... so login(new SimpleCredentials(&quot;anonymous&quot;, &quot;&quot;) will no longer work.&lt;br/&gt;
instead login(new GuestCredentials) will succeed if a valid anonymous user exists.&lt;/p&gt;

&lt;p&gt;similarly, login(null) will no longer be converted into an anonymous-login by default. to ease migration and provide a&lt;br/&gt;
backwards compatible setup there exists a separate loginmodule implementation that will populate the shared-state &lt;br/&gt;
with guestcredentials in case of null-login.&lt;/p&gt;

&lt;p&gt;hope that helps&lt;/p&gt;</comment>
                            <comment id="13590609" author="fmeschbe" created="Fri, 1 Mar 2013 15:09:05 +0000"  >&lt;p&gt;&amp;gt; GuestCredentials&lt;/p&gt;

&lt;p&gt;Remember this Sling implementations dates back to JCR 1 where there was no GuestCredentials and we never adapted this code.&lt;/p&gt;

&lt;p&gt;&amp;gt; login(null) support&lt;/p&gt;

&lt;p&gt;Thanks for the update. For Sling which wraps its own Repository wrapper around the actual Repository we can still implement the support.&lt;/p&gt;

&lt;p&gt;As I tried to bring the discussion to the list, I propose replace the respective code with something similar to this:&lt;/p&gt;

&lt;p&gt;    if (credentials == null) {&lt;br/&gt;
        if (!hasAccessControlContext || !hasSubject) &lt;/p&gt;
{
            credentials = new GuestCredentials();
        }
&lt;p&gt;    }&lt;/p&gt;

&lt;p&gt;This allows for backwards compatibility (where generally there will be no AccessControlContext with a Subject) while at the same time allow for Subject based authentication.&lt;/p&gt;</comment>
                            <comment id="13796529" author="fmeschbe" created="Wed, 16 Oct 2013 08:07:34 +0000"  >&lt;p&gt;Linking to the generic issue implementing the preauthentication problem proposal (&lt;a href=&quot;https://cwiki.apache.org/confluence/display/SLING/Solving+the+Authentication+Handler+Credential+Validation+Problem&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://cwiki.apache.org/confluence/display/SLING/Solving+the+Authentication+Handler+Credential+Validation+Problem&lt;/a&gt;)&lt;/p&gt;</comment>
                            <comment id="13846274" author="asanso" created="Thu, 12 Dec 2013 12:41:04 +0000"  >&lt;p&gt;I&apos;d be inclined to apply the patch included by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fmeschbe&quot; class=&quot;user-hover&quot; rel=&quot;fmeschbe&quot;&gt;fmeschbe&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anchela&quot; class=&quot;user-hover&quot; rel=&quot;anchela&quot;&gt;anchela&lt;/a&gt; in &lt;a href=&quot;https://cwiki.apache.org/confluence/display/SLING/Solving+the+Authentication+Handler+Credential+Validation+Problem&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://cwiki.apache.org/confluence/display/SLING/Solving+the+Authentication+Handler+Credential+Validation+Problem&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;namely &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (credentials == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (Subject.getSubject(AccessController.getContext()) != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; getRepository().login(&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, workspace);
    } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
        &lt;span class=&quot;code-comment&quot;&gt;// TODO: getAnonCredentials(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.anonUser) should not be used &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; anonymous access
&lt;/span&gt;        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; getRepository().login(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; GuestCredentials(), workspace);
    }
} &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; getRepository().login(credentials, workspace);
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;WDYT?&lt;/p&gt;</comment>
                            <comment id="13846283" author="fmeschbe" created="Thu, 12 Dec 2013 12:47:31 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=asanso&quot; class=&quot;user-hover&quot; rel=&quot;asanso&quot;&gt;asanso&lt;/a&gt; Yes. Will you also take care of the patch provided by Tim for &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3179&quot; title=&quot;Implement solution to the Authentication Handler Credential Validation Problem&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3179&quot;&gt;&lt;del&gt;SLING-3179&lt;/del&gt;&lt;/a&gt; ? Thanks.&lt;/p&gt;</comment>
                            <comment id="13846290" author="asanso" created="Thu, 12 Dec 2013 13:01:31 +0000"  >&lt;blockquote&gt;&lt;p&gt;Will you also take care of the patch provided by Tim for &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-3179&quot; title=&quot;Implement solution to the Authentication Handler Credential Validation Problem&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-3179&quot;&gt;&lt;del&gt;SLING-3179&lt;/del&gt;&lt;/a&gt; ? &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;yes I can try &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13868615" author="alexander.klimetschek" created="Sat, 11 Jan 2014 02:20:43 +0000"  >&lt;p&gt;BTW, regarding the null login in JCR allowing the context to define the user freely: I hope Jackrabbit/Oak has an option to turn that off and it is off by default. Otherwise things like loginByService() are not adding any security, just a little convenience to configure the mappings in a central place (which probably will evolve into a pluggable setting anyway, since otherwise a deployment of a new feature would always require update of that central configuration anyway or you are forced to add a fallback to &quot;admin&quot; for unconfigured services, which would be a bad outcome...).&lt;/p&gt;</comment>
                            <comment id="13868919" author="fmeschbe" created="Sun, 12 Jan 2014 01:38:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alexander.klimetschek&quot; class=&quot;user-hover&quot; rel=&quot;alexander.klimetschek&quot;&gt;alexander.klimetschek&lt;/a&gt; I fear Sling is not in a position to answer you question &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12674081">SLING-3179</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>315273</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 42 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1iejz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>315617</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2761] JcrResourceProvider.create should filter protected properties</title>
                <link>https://issues.apache.org/jira/browse/SLING-2761</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;While running some of the integration tests using Oak as a repository impl, I ran into some ConstraintViolationExceptions with the PostServletVersionableTest.&lt;/p&gt;

&lt;p&gt;This uncovered an issue in Jackrabbit &lt;a href=&quot;https://issues.apache.org/jira/browse/JCR-3526&quot; title=&quot;Protected properties of new items are not being checked properly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JCR-3526&quot;&gt;JCR-3526&lt;/a&gt; where you can change protected properties on new items, which is in fact considered illegal.&lt;/p&gt;

&lt;p&gt;Coming back to the PostServletVersionableTest, the test setup uses this trick to set up the content and I think it should be changed.&lt;/p&gt;

&lt;p&gt;On a more general note fixing &lt;a href=&quot;https://issues.apache.org/jira/browse/JCR-3526&quot; title=&quot;Protected properties of new items are not being checked properly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JCR-3526&quot;&gt;JCR-3526&lt;/a&gt; could turn up even more problems that the aforementioned test, so it would be nice to have some more thoughts on this on how big the problem could really be.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12634594">SLING-2761</key>
            <summary>JcrResourceProvider.create should filter protected properties</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="stillalex">Alex Deparvu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 28 Feb 2013 11:29:41 +0000</created>
                <updated>Thu, 18 Apr 2013 14:13:03 +0000</updated>
                            <resolved>Fri, 1 Mar 2013 09:58:26 +0000</resolved>
                                    <version>JCR Resource 2.2.4</version>
                                    <fixVersion>JCR Resource 2.2.6</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13589455" author="alex.parvulescu" created="Thu, 28 Feb 2013 11:30:56 +0000"  >&lt;p&gt;Link to the mentioned code&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc/sling/trunk/launchpad/integration-tests/src/main/java/org/apache/sling/launchpad/webapp/integrationtest/servlets/post/PostServletVersionableTest.java?view=markup#l44&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc/sling/trunk/launchpad/integration-tests/src/main/java/org/apache/sling/launchpad/webapp/integrationtest/servlets/post/PostServletVersionableTest.java?view=markup#l44&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13589461" author="fmeschbe" created="Thu, 28 Feb 2013 11:41:31 +0000"  >&lt;p&gt;I don&apos;t think this test is wrong: If you look at the code, this pre-fills a Map of request parameters which are sent to the POST Servlet. This servlet walks the parameters and properly handles the jcr:mixinTypes by calling the appropriate addMixin and removeMixin methods.&lt;/p&gt;

&lt;p&gt;See &lt;a href=&quot;http://svn.apache.org/viewvc/sling/trunk/bundles/servlets/post/src/main/java/org/apache/sling/servlets/post/impl/operations/ModifyOperation.java?view=markup&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc/sling/trunk/bundles/servlets/post/src/main/java/org/apache/sling/servlets/post/impl/operations/ModifyOperation.java?view=markup&lt;/a&gt;&lt;br/&gt;
and &lt;a href=&quot;http://svn.apache.org/viewvc/sling/trunk/bundles/servlets/post/src/main/java/org/apache/sling/servlets/post/impl/operations/AbstractCreateOperation.java?view=markup&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc/sling/trunk/bundles/servlets/post/src/main/java/org/apache/sling/servlets/post/impl/operations/AbstractCreateOperation.java?view=markup&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13589473" author="alex.parvulescu" created="Thu, 28 Feb 2013 12:05:41 +0000"  >&lt;p&gt;I forgot to paste in the stack-trace, maybe that would shed some more light on the issue &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt;:&lt;/p&gt;

&lt;p&gt;The ModifyOperation checks the mixins on #processDeletes and #writeContent, on new item the execution path goes directly into the AbstractCreateOperation: #processCreate, next #deepGetOrCreateNode where is sets the mixinTypes property &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;:&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;props.put(&quot;jcr:mixinTypes&quot;, mixinTypes);&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;... only to have the JcrModifiableValueMap persist it directly (no api calls) &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;am I following the code correctly here?&lt;/p&gt;


&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://svn.apache.org/viewvc/sling/trunk/bundles/servlets/post/src/main/java/org/apache/sling/servlets/post/impl/operations/AbstractCreateOperation.java?view=markup#l534&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc/sling/trunk/bundles/servlets/post/src/main/java/org/apache/sling/servlets/post/impl/operations/AbstractCreateOperation.java?view=markup#l534&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://svn.apache.org/viewvc/sling/trunk/bundles/jcr/resource/src/main/java/org/apache/sling/jcr/resource/internal/JcrModifiableValueMap.java?view=markup#626&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc/sling/trunk/bundles/jcr/resource/src/main/java/org/apache/sling/jcr/resource/internal/JcrModifiableValueMap.java?view=markup#626&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;b&gt;ERROR&lt;/b&gt; [127.0.0.1 &lt;span class=&quot;error&quot;&gt;&amp;#91;1361809216898&amp;#93;&lt;/span&gt; POST /sling-tests/1361809216888/ HTTP/1.1] org.apache.sling.servlets.post.impl.operations.ModifyOperation Exception during response processing. javax.jcr.RepositoryException: org.apache.sling.api.resource.PersistenceException: Value for key jcr:mixinTypes can&apos;t be put into node: [Ljava.lang.String;@b59a28&lt;br/&gt;
	at org.apache.sling.servlets.post.impl.operations.ModifyOperation.doRun(ModifyOperation.java:113)&lt;br/&gt;
	at org.apache.sling.servlets.post.AbstractPostOperation.run(AbstractPostOperation.java:92)&lt;br/&gt;
	at org.apache.sling.servlets.post.impl.SlingPostServlet.doPost(SlingPostServlet.java:202)&lt;br/&gt;
	at org.apache.sling.api.servlets.SlingAllMethodsServlet.mayService(SlingAllMethodsServlet.java:148)&lt;br/&gt;
.........&lt;br/&gt;
Caused by: org.apache.sling.api.resource.PersistenceException: Value for key jcr:mixinTypes can&apos;t be put into node: [Ljava.lang.String;@b59a28&lt;br/&gt;
	at org.apache.sling.jcr.resource.internal.helper.jcr.JcrResourceProvider.create(JcrResourceProvider.java:415)&lt;br/&gt;
	at org.apache.sling.resourceresolver.impl.ResourceResolverImpl.create(ResourceResolverImpl.java:1063)&lt;br/&gt;
	at org.apache.sling.servlets.post.impl.operations.AbstractCreateOperation.deepGetOrCreateNode(AbstractCreateOperation.java:537)&lt;br/&gt;
	at org.apache.sling.servlets.post.impl.operations.AbstractCreateOperation.processCreate(AbstractCreateOperation.java:109)&lt;br/&gt;
	at org.apache.sling.servlets.post.impl.operations.ModifyOperation.doRun(ModifyOperation.java:91)&lt;br/&gt;
	... 64 more&lt;br/&gt;
Caused by: java.lang.IllegalArgumentException: Value for key jcr:mixinTypes can&apos;t be put into node: [Ljava.lang.String;@b59a28&lt;br/&gt;
	at org.apache.sling.jcr.resource.internal.JcrModifiableValueMap.put(JcrModifiableValueMap.java:631)&lt;br/&gt;
	at org.apache.sling.jcr.resource.internal.helper.jcr.JcrResourceProvider.create(JcrResourceProvider.java:413)&lt;br/&gt;
	... 68 more&lt;br/&gt;
Caused by: javax.jcr.nodetype.ConstraintViolationException: Item is protected.&lt;br/&gt;
	at org.apache.jackrabbit.oak.jcr.ItemImpl.checkProtected(ItemImpl.java:185)&lt;br/&gt;
	at org.apache.jackrabbit.oak.jcr.NodeImpl$33.perform(NodeImpl.java:1513)&lt;br/&gt;
	at org.apache.jackrabbit.oak.jcr.NodeImpl$33.perform(NodeImpl.java:1493)&lt;br/&gt;
	at org.apache.jackrabbit.oak.jcr.SessionDelegate.perform(SessionDelegate.java:136)&lt;br/&gt;
	at org.apache.jackrabbit.oak.jcr.NodeImpl.internalSetProperty(NodeImpl.java:1493)&lt;br/&gt;
	at org.apache.jackrabbit.oak.jcr.NodeImpl.setProperty(NodeImpl.java:343)&lt;br/&gt;
	at org.apache.sling.jcr.resource.internal.JcrModifiableValueMap.put(JcrModifiableValueMap.java:626)&lt;br/&gt;
	... 69 more&lt;/p&gt;</comment>
                            <comment id="13589540" author="fmeschbe" created="Thu, 28 Feb 2013 13:46:46 +0000"  >&lt;p&gt;Thanks for the update.&lt;/p&gt;

&lt;p&gt;It looks like the introduction of CRUD for the Resource API and the respective conversion of the JCR support did not properly account for protected properties. Particularly I think, the JCR based ResourceProvider implementation should account for the following:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;ResourceProvider.create to should filter the properties&lt;/li&gt;
	&lt;li&gt;ModifiableValueMap.put should filter the properties&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I would assume that the jcr:primaryType and jcr:mixinTypes properties should be mapped to the respective setters.&lt;/p&gt;

&lt;p&gt;Carsten can you take care of this ? Thanks.&lt;/p&gt;</comment>
                            <comment id="13589545" author="alex.parvulescu" created="Thu, 28 Feb 2013 13:59:17 +0000"  >&lt;p&gt;perfect, thanks for clarifying the issue!&lt;/p&gt;</comment>
                            <comment id="13590388" author="cziegeler" created="Fri, 1 Mar 2013 09:58:15 +0000"  >&lt;p&gt;I&apos;ve fixed the problem, the properties are now checked and handled correctly. (I created a new utility class to avoid duplicate code)&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12634589">JCR-3526</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>315087</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 35 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1iden:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>315431</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2760] org.apache.sling.auth.openid bundle has dependencies not available on Maven central</title>
                <link>https://issues.apache.org/jira/browse/SLING-2760</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The org.apache.sling.auth.openid bundle includes the following repository definition in its pom.xml file&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &amp;lt;repositories&amp;gt;
            &amp;lt;repository&amp;gt;
              &amp;lt;releases&amp;gt;
                &amp;lt;enabled&amp;gt;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;lt;/enabled&amp;gt;
              &amp;lt;/releases&amp;gt;
              &amp;lt;id&amp;gt;dyuproject-repo&amp;lt;/id&amp;gt;
              &amp;lt;name&amp;gt;dyuproject-repo&amp;lt;/name&amp;gt;
              &amp;lt;url&amp;gt;http:&lt;span class=&quot;code-comment&quot;&gt;//dyuproject.googlecode.com/svn/repos/maven2&amp;lt;/url&amp;gt;
&lt;/span&gt;            &amp;lt;/repository&amp;gt;
    &amp;lt;/repositories&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and the following dependencies&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;                &amp;lt;dependency&amp;gt;
                        &amp;lt;groupId&amp;gt;com.dyuproject&amp;lt;/groupId&amp;gt;
                        &amp;lt;artifactId&amp;gt;dyuproject-openid&amp;lt;/artifactId&amp;gt;
                        &amp;lt;version&amp;gt;1.1.7&amp;lt;/version&amp;gt;
            &amp;lt;/dependency&amp;gt;
            &amp;lt;dependency&amp;gt;
                        &amp;lt;groupId&amp;gt;com.dyuproject&amp;lt;/groupId&amp;gt;
                        &amp;lt;artifactId&amp;gt;dyuproject-util&amp;lt;/artifactId&amp;gt;
                        &amp;lt;version&amp;gt;1.1.7&amp;lt;/version&amp;gt;
            &amp;lt;/dependency&amp;gt;
            &amp;lt;dependency&amp;gt;
                        &amp;lt;groupId&amp;gt;com.dyuproject&amp;lt;/groupId&amp;gt;
                        &amp;lt;artifactId&amp;gt;dyuproject-json&amp;lt;/artifactId&amp;gt;
                        &amp;lt;version&amp;gt;1.1.7&amp;lt;/version&amp;gt;
            &amp;lt;/dependency&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Since we sync/upload these artifacts to maven central &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; we should consider following the recommendation of not adding repositories to POMs &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; . There is an open request in the dyuproject tracker &lt;span class=&quot;error&quot;&gt;&amp;#91;3&amp;#93;&lt;/span&gt; to upload the openid artifacts to Maven Central, but it&apos;s been there for almost two years, and the project hasn&apos;t seen much activity ( no commits since June 2011 ).&lt;/p&gt;

&lt;p&gt;I see two ways around this issue:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Use the sonatype service for uploading 3rd party bundles to Maven Central &lt;span class=&quot;error&quot;&gt;&amp;#91;4&amp;#93;&lt;/span&gt;&lt;/li&gt;
	&lt;li&gt;Replace the com.dyuproject dependency with something different&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Thoughts?&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;: &lt;a href=&quot;http://search.maven.org/#search&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://search.maven.org/#search&lt;/a&gt;|ga|1|org.apache.sling.auth.openid&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt;: &lt;a href=&quot;https://docs.sonatype.org/display/Repository/Sonatype+OSS+Maven+Repository+Usage+Guide#SonatypeOSSMavenRepositoryUsageGuide-6.CentralSyncRequirement&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://docs.sonatype.org/display/Repository/Sonatype+OSS+Maven+Repository+Usage+Guide#SonatypeOSSMavenRepositoryUsageGuide-6.CentralSyncRequirement&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;3&amp;#93;&lt;/span&gt;: &lt;a href=&quot;http://code.google.com/p/dyuproject/issues/detail?id=32&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://code.google.com/p/dyuproject/issues/detail?id=32&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;4&amp;#93;&lt;/span&gt;: &lt;a href=&quot;https://docs.sonatype.org/display/Repository/Uploading+3rd-party+Artifacts+to+The+Central+Repository&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://docs.sonatype.org/display/Repository/Uploading+3rd-party+Artifacts+to+The+Central+Repository&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12634582">SLING-2760</key>
            <summary>org.apache.sling.auth.openid bundle has dependencies not available on Maven central</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 28 Feb 2013 09:49:06 +0000</created>
                <updated>Thu, 12 Sep 2019 15:38:21 +0000</updated>
                            <resolved>Thu, 12 Sep 2019 15:38:17 +0000</resolved>
                                    <version>OpenID Authentication 1.0.2</version>
                                                    <component>Authentication</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="13589544" author="fmeschbe" created="Thu, 28 Feb 2013 13:56:45 +0000"  >&lt;p&gt;I see a third option: As Antonio to convert the bundle to use Apache Oltu instead of DYU &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13589550" author="asanso" created="Thu, 28 Feb 2013 14:08:30 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fmeschbe&quot; class=&quot;user-hover&quot; rel=&quot;fmeschbe&quot;&gt;fmeschbe&lt;/a&gt; I can easily understand the &quot;confusion&quot; since the names are too similar but OpenId Connect &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; is a complete different specification than openId &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;IMHO Open Id is kind of legacy spec and we might think to move the bundle directly to attic and focus on the new Open Id Connect .&lt;/p&gt;

&lt;p&gt;WDYT?&lt;/p&gt;


&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://openid.net/connect/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://openid.net/connect/&lt;/a&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://openid.net/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://openid.net/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13590336" author="fmeschbe" created="Fri, 1 Mar 2013 08:42:23 +0000"  >&lt;p&gt;Sounds like a good option to me.&lt;/p&gt;</comment>
                            <comment id="15342160" author="sseifert@pro-vision.de" created="Tue, 21 Jun 2016 16:52:28 +0000"  >&lt;p&gt;in rev. 1749573  i removed &lt;tt&gt;contrib/auth/selector&lt;/tt&gt; from the contrib build, because it depends on &lt;tt&gt;org.apache.sling.auth.openid&lt;/tt&gt;, and the main contrib jenkins build is currently failing due to this missing dyuproject dependencies not available in maven central.&lt;/p&gt;</comment>
                            <comment id="15344109" author="olli" created="Wed, 22 Jun 2016 10:53:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseifert%40pro-vision.de&quot; class=&quot;user-hover&quot; rel=&quot;sseifert@pro-vision.de&quot;&gt;sseifert@pro-vision.de&lt;/a&gt;: I&apos;ve removed &lt;tt&gt;org.apache.sling.auth.openid&lt;/tt&gt; from build in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-5780&quot; title=&quot;Remove org.apache.sling.auth.openid from build&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-5780&quot;&gt;&lt;del&gt;SLING-5780&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16928671" author="rombert" created="Thu, 12 Sep 2019 15:38:17 +0000"  >&lt;p&gt;Project is in the attic, resolving WONTFIX&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12977735">SLING-5780</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>315075</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 6 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1idbz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>315419</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2756] Document sling:OsgiConfig format and properties format </title>
                <link>https://issues.apache.org/jira/browse/SLING-2756</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Depending on the implementation approach chosen for &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2477&quot; title=&quot;Configuration via sling:OsgiConfig nodes does not support all types&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2477&quot;&gt;&lt;del&gt;SLING-2477&lt;/del&gt;&lt;/a&gt;:&lt;/p&gt;

&lt;p&gt;If the name&lt;/p&gt;
{type} configuration format is chosen for the properties of an sling:OsgiConfig node, then document both the name{type}
&lt;p&gt; format and the I&quot;1000&quot; format.&lt;/p&gt;

&lt;p&gt;If the I&quot;1000&quot; format is chosen document it including details of JCR mappings.&lt;/p&gt;

&lt;p&gt;(The reason we need to document both for name&lt;/p&gt;
{type} is that there are downstream properties files in the I&quot;1000&quot; format already which we need to support. Requiring migration of those properties and unifying on the name{type}
&lt;p&gt; format for both file and sling:OsgiConfig would be a major effort, and probably not worth it.)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12634325">SLING-2756</key>
            <summary>Document sling:OsgiConfig format and properties format </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ianeboston">Ian Boston</reporter>
                        <labels>
                    </labels>
                <created>Wed, 27 Feb 2013 00:46:09 +0000</created>
                <updated>Fri, 7 Oct 2016 08:09:31 +0000</updated>
                            <resolved>Fri, 7 Oct 2016 08:09:29 +0000</resolved>
                                    <version>JCR Installer 3.1.6</version>
                                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15554485" author="cziegeler" created="Fri, 7 Oct 2016 08:09:31 +0000"  >&lt;p&gt;As &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2477&quot; title=&quot;Configuration via sling:OsgiConfig nodes does not support all types&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2477&quot;&gt;&lt;del&gt;SLING-2477&lt;/del&gt;&lt;/a&gt; has been set to won&apos;t fix, we can do the same here&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12555116">SLING-2477</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314818</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 3 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ibqv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>315162</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2755] incorrect double null check in org.apache.sling.installer.it.OsgiInstallerTestBase</title>
                <link>https://issues.apache.org/jira/browse/SLING-2755</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Incorrect double null check in waitForConfigAdmin.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12634065">SLING-2755</key>
            <summary>incorrect double null check in org.apache.sling.installer.it.OsgiInstallerTestBase</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ianeboston">Ian Boston</assignee>
                                    <reporter username="ianeboston">Ian Boston</reporter>
                        <labels>
                    </labels>
                <created>Tue, 26 Feb 2013 05:42:00 +0000</created>
                <updated>Sat, 18 Jan 2014 19:35:57 +0000</updated>
                            <resolved>Tue, 26 Feb 2013 05:43:43 +0000</resolved>
                                    <version>Installer Core 3.4.6</version>
                                    <fixVersion>Installer Core 3.5.0</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13586807" author="ianeboston" created="Tue, 26 Feb 2013 05:43:43 +0000"  >&lt;p&gt;Fixed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314558</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 36 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ia53:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314902</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2754] org.apache.sling.installer.core.impl.tasks.RefreshOptionalPackagesTask has NPE</title>
                <link>https://issues.apache.org/jira/browse/SLING-2754</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;In org.apache.sling.installer.core.impl.tasks.RefreshOptionalPackagesTask there is &lt;/p&gt;

&lt;p&gt;line 62&lt;br/&gt;
        final PackageAdmin packageAdmin = null;&lt;/p&gt;

&lt;p&gt;followed by&lt;/p&gt;

&lt;p&gt;line 78&lt;br/&gt;
        exports = packageAdmin.getExportedPackages( ( Bundle ) null );&lt;br/&gt;
line 117&lt;br/&gt;
            packageAdmin.refreshPackages(refreshBundles.toArray(new Bundle&lt;span class=&quot;error&quot;&gt;&amp;#91;refreshBundles.size()&amp;#93;&lt;/span&gt;));&lt;/p&gt;


&lt;p&gt;Which can only cause a NPE when its executed.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12634062">SLING-2754</key>
            <summary>org.apache.sling.installer.core.impl.tasks.RefreshOptionalPackagesTask has NPE</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ianeboston">Ian Boston</reporter>
                        <labels>
                    </labels>
                <created>Tue, 26 Feb 2013 05:36:01 +0000</created>
                <updated>Mon, 29 Dec 2014 10:33:11 +0000</updated>
                            <resolved>Mon, 29 Dec 2014 10:33:11 +0000</resolved>
                                    <version>Installer Core 3.4.6</version>
                                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13586800" author="ianeboston" created="Tue, 26 Feb 2013 05:36:28 +0000"  >&lt;p&gt;Not entirely certain how this should be fixed. Anyone ?&lt;/p&gt;</comment>
                            <comment id="13586864" author="cziegeler" created="Tue, 26 Feb 2013 06:44:57 +0000"  >&lt;p&gt;This code is not used, it&apos;s a first implementation for &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2060&quot; title=&quot;Refresh bundles with optional dependencies if such dependency is installed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2060&quot;&gt;&lt;del&gt;SLING-2060&lt;/del&gt;&lt;/a&gt; but due to some refactoring of the refresh package handling within the installer, I didn&apos;t update this task but just made the source code compile &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;So nothing to fix here for now, but I made this depending on &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2060&quot; title=&quot;Refresh bundles with optional dependencies if such dependency is installed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2060&quot;&gt;&lt;del&gt;SLING-2060&lt;/del&gt;&lt;/a&gt; to not forget this one&lt;/p&gt;</comment>
                            <comment id="14260020" author="cziegeler" created="Mon, 29 Dec 2014 10:33:11 +0000"  >&lt;p&gt;The code has been removed some time ago&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12505396">SLING-2060</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314555</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 44 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ia4f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314899</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2753] Apt servlet passes null to InputStreamReader, return missing,</title>
                <link>https://issues.apache.org/jira/browse/SLING-2753</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Missing return in APT servlet after sendError.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12634059">SLING-2753</key>
            <summary>Apt servlet passes null to InputStreamReader, return missing,</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ianeboston">Ian Boston</assignee>
                                    <reporter username="ianeboston">Ian Boston</reporter>
                        <labels>
                    </labels>
                <created>Tue, 26 Feb 2013 05:18:36 +0000</created>
                <updated>Tue, 26 Feb 2013 05:22:01 +0000</updated>
                            <resolved>Tue, 26 Feb 2013 05:22:01 +0000</resolved>
                                    <version>Extensions APT Server 2.0.2</version>
                                    <fixVersion>Extensions APT Server 2.0.4</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13586787" author="ianeboston" created="Tue, 26 Feb 2013 05:22:01 +0000"  >&lt;p&gt;fixed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314552</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 36 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ia3r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314896</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2752] Revisit re-saving of config settings in light of support for wider range of types.</title>
                <link>https://issues.apache.org/jira/browse/SLING-2752</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Post &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2477&quot; title=&quot;Configuration via sling:OsgiConfig nodes does not support all types&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2477&quot;&gt;&lt;del&gt;SLING-2477&lt;/del&gt;&lt;/a&gt; we need to revisit &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-1971&quot; title=&quot;Persist configuration changes not made through the installer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-1971&quot;&gt;&lt;del&gt;SLING-1971&lt;/del&gt;&lt;/a&gt; to ensure that anything done there to enable write back of configuration settings still works. Exactly what needs to be worked out.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12634056">SLING-2752</key>
            <summary>Revisit re-saving of config settings in light of support for wider range of types.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ianeboston">Ian Boston</reporter>
                        <labels>
                    </labels>
                <created>Tue, 26 Feb 2013 05:05:59 +0000</created>
                <updated>Fri, 7 Oct 2016 07:51:41 +0000</updated>
                            <resolved>Fri, 7 Oct 2016 07:51:40 +0000</resolved>
                                    <version>JCR Installer 3.1.6</version>
                                                    <component>Installer</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="13588065" author="cziegeler" created="Wed, 27 Feb 2013 06:42:51 +0000"  >&lt;p&gt;I think once &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2477&quot; title=&quot;Configuration via sling:OsgiConfig nodes does not support all types&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2477&quot;&gt;&lt;del&gt;SLING-2477&lt;/del&gt;&lt;/a&gt; is implemented we should:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;if a configuration is read from a config node, changed and then written back, it should be written back to a config node again&lt;/li&gt;
	&lt;li&gt;if a configuration is read from a file, changed and then written back, it should be written back to a config file again&lt;/li&gt;
	&lt;li&gt;we add a configuration property which defines whether new configurations are written back as a config node or a config file&lt;/li&gt;
	&lt;li&gt;for me, it doesn&apos;t matter what the default of that property is, I guess many people will vote for config nodes, so let&apos;s use that&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15094286" author="santiagozky" created="Tue, 12 Jan 2016 17:00:24 +0000"  >&lt;p&gt;Just as a note for anyone looking into this. Currently if you deliver configuration using sling:OsgiConfig nodes and have the config write back activated, when the configuration is changes (through the web console, for example), the config file will be created and the config node will be deleted. Im not sure this is good or bad, but I was not expecting it.&lt;/p&gt;

&lt;p&gt;org.apache.sling.installer.factory.configuration: 1.0.12&lt;br/&gt;
org.apache.sling.installer.core: 3.5.4&lt;/p&gt;</comment>
                            <comment id="15554441" author="cziegeler" created="Fri, 7 Oct 2016 07:51:40 +0000"  >&lt;p&gt;As &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2477&quot; title=&quot;Configuration via sling:OsgiConfig nodes does not support all types&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2477&quot;&gt;&lt;del&gt;SLING-2477&lt;/del&gt;&lt;/a&gt; is set to won&apos;t fix, we can resolve this one as well&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12555116">SLING-2477</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314549</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 3 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ia33:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314893</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2751] Queue JMX names have incorrect nesting.</title>
                <link>https://issues.apache.org/jira/browse/SLING-2751</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The names of the JMX objects under extensions event are incorrect causing them to be represented in their own tree. For all Sling JMX beans the domain part should be org.apache.sling&lt;br/&gt;
Then a type property should represent the type and a name property represent the name.&lt;/p&gt;

&lt;p&gt;eg&lt;br/&gt;
org.apache.sling:type=queues,name=AllQueues&lt;br/&gt;
org.apache.sling:type=queues,name=QueueNames&lt;br/&gt;
org.apache.sling:type=queues,name=&amp;lt;queue name&amp;gt;&lt;/p&gt;

&lt;p&gt;That should result in objects being grouped correctly.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12634053">SLING-2751</key>
            <summary>Queue JMX names have incorrect nesting.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ianeboston">Ian Boston</assignee>
                                    <reporter username="ianeboston">Ian Boston</reporter>
                        <labels>
                    </labels>
                <created>Tue, 26 Feb 2013 04:44:20 +0000</created>
                <updated>Mon, 12 Aug 2013 11:22:51 +0000</updated>
                            <resolved>Tue, 26 Feb 2013 04:55:05 +0000</resolved>
                                    <version>Event 3.1.4</version>
                                    <fixVersion>Event 3.2.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13586756" author="ianeboston" created="Tue, 26 Feb 2013 04:55:05 +0000"  >&lt;p&gt;Fixed&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314546</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 36 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ia2f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314890</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2750] Commons testing has some multithreaded issues</title>
                <link>https://issues.apache.org/jira/browse/SLING-2750</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Cloned from &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2746&quot; title=&quot;Commons threading contains a few minor multithreaded correctness bugs. (FindBugs)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2746&quot;&gt;&lt;del&gt;SLING-2746&lt;/del&gt;&lt;/a&gt;,&lt;br/&gt;
Issues in commons testing that were in the patch for that issue.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12634043">SLING-2750</key>
            <summary>Commons testing has some multithreaded issues</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ianeboston">Ian Boston</assignee>
                                    <reporter username="ianeboston">Ian Boston</reporter>
                        <labels>
                    </labels>
                <created>Tue, 26 Feb 2013 02:50:33 +0000</created>
                <updated>Wed, 20 Sep 2017 13:06:28 +0000</updated>
                            <resolved>Tue, 26 Feb 2013 03:06:25 +0000</resolved>
                                    <version>Commons Testing 2.0.14</version>
                                    <fixVersion>Commons Testing 2.0.16</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13586666" author="ianeboston" created="Tue, 26 Feb 2013 03:06:25 +0000"  >&lt;p&gt;fixed by moving the null checks inside the sync block.&lt;br/&gt;
see &lt;a href=&quot;http://en.wikipedia.org/wiki/Double-checked_locking&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://en.wikipedia.org/wiki/Double-checked_locking&lt;/a&gt; for an explanation.&lt;br/&gt;
Might consider changing to the safe, efficient version if possible.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314536</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 36 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ia07:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314880</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2749] Inconsistent synchronization in org.apache.sling.event.impl.jobs.jcr.LockManager surrounding backgroundSession and backgroundLock</title>
                <link>https://issues.apache.org/jira/browse/SLING-2749</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;There are 2 areas of inconsistent synchronisation. First not all writes to to backgroundSession are synchronized and in the activate method, synchronization is on the private field background session which is created new moments before, making the synchronization ineffective.&lt;/p&gt;

&lt;p&gt;I think the intention was to use backgroundLock throughout.&lt;/p&gt;

&lt;p&gt;In addition the deactivate method has the potential to generate NPEs if more than one thread deactivates concurrently.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12633846">SLING-2749</key>
            <summary>Inconsistent synchronization in org.apache.sling.event.impl.jobs.jcr.LockManager surrounding backgroundSession and backgroundLock</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ianeboston">Ian Boston</assignee>
                                    <reporter username="ianeboston">Ian Boston</reporter>
                        <labels>
                    </labels>
                <created>Mon, 25 Feb 2013 05:56:33 +0000</created>
                <updated>Mon, 12 Aug 2013 11:22:52 +0000</updated>
                            <resolved>Mon, 25 Feb 2013 06:13:32 +0000</resolved>
                                    <version>Event 3.1.4</version>
                                    <fixVersion>Event 3.2.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13585651" author="ianeboston" created="Mon, 25 Feb 2013 06:13:32 +0000"  >&lt;p&gt;Fixed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314340</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 36 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1i8sv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314685</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2748] Checking on results of comparison doesnt conform to API in org.apache.sling.event.impl.jobs.DefaultJobManager</title>
                <link>https://issues.apache.org/jira/browse/SLING-2748</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;doing x.compareTo&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/thumbs_up.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; == -1 assumes all implementations of Comparables return -1, 0, 1. Some dont.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12633845">SLING-2748</key>
            <summary>Checking on results of comparison doesnt conform to API in org.apache.sling.event.impl.jobs.DefaultJobManager</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ianeboston">Ian Boston</assignee>
                                    <reporter username="ianeboston">Ian Boston</reporter>
                        <labels>
                    </labels>
                <created>Mon, 25 Feb 2013 05:43:57 +0000</created>
                <updated>Mon, 12 Aug 2013 11:22:50 +0000</updated>
                            <resolved>Mon, 25 Feb 2013 05:45:40 +0000</resolved>
                                    <version>Event 3.1.4</version>
                                    <fixVersion>Event 3.2.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13585644" author="ianeboston" created="Mon, 25 Feb 2013 05:45:40 +0000"  >&lt;p&gt;Fixed&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314339</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 36 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1i8sn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314684</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2747] Only the first request log format char is ignored.</title>
                <link>https://issues.apache.org/jira/browse/SLING-2747</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;In org.apache.sling.engine.impl.log.CustomLogFormat&lt;/p&gt;

&lt;p&gt;} else if (c == &apos;&amp;gt;&apos; || c == &apos;&amp;gt;&apos;) &lt;/p&gt;
{

should be 

}
&lt;p&gt; else if (c == &apos;&amp;gt;&apos; || c == &apos;&amp;lt;&apos;) {&lt;/p&gt;</description>
                <environment></environment>
        <key id="12633842">SLING-2747</key>
            <summary>Only the first request log format char is ignored.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ianeboston">Ian Boston</assignee>
                                    <reporter username="ianeboston">Ian Boston</reporter>
                        <labels>
                    </labels>
                <created>Mon, 25 Feb 2013 05:19:19 +0000</created>
                <updated>Thu, 18 Apr 2013 14:14:27 +0000</updated>
                            <resolved>Mon, 25 Feb 2013 05:22:12 +0000</resolved>
                                    <version>Engine 2.2.6</version>
                                    <fixVersion>Engine 2.2.8</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13585631" author="ianeboston" created="Mon, 25 Feb 2013 05:21:16 +0000"  >&lt;p&gt;Also, a custom equals is used without an appropriate hashcode violating the equals contract. (just in case anyone ever puts SlingFilterChainHelper into a map)&lt;/p&gt;</comment>
                            <comment id="13585632" author="ianeboston" created="Mon, 25 Feb 2013 05:22:13 +0000"  >&lt;p&gt;fixed&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314336</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 36 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1i8rz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314681</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2746] Commons threading contains a few minor multithreaded correctness bugs. (FindBugs)</title>
                <link>https://issues.apache.org/jira/browse/SLING-2746</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Some invalid double null checks and static value initialisations.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12633841">SLING-2746</key>
            <summary>Commons threading contains a few minor multithreaded correctness bugs. (FindBugs)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="ianeboston">Ian Boston</assignee>
                                    <reporter username="ianeboston">Ian Boston</reporter>
                        <labels>
                    </labels>
                <created>Mon, 25 Feb 2013 04:58:55 +0000</created>
                <updated>Thu, 24 Oct 2013 07:30:32 +0000</updated>
                            <resolved>Tue, 26 Feb 2013 02:58:42 +0000</resolved>
                                    <version>Commons Threads 3.1.0</version>
                                    <fixVersion>Commons Threads 3.2.0</fixVersion>
                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13585627" author="ianeboston" created="Mon, 25 Feb 2013 05:06:35 +0000"  >&lt;p&gt;I chickened out applying this patch as the synchronized required to get multithreaded correctness requires wrapping a bundle.registerService call which might have side effects as the thread is used to activate other bundles. Needs some more eyes on it. (its the patch to WebConsolePrinter thats of concern)&lt;/p&gt;</comment>
                            <comment id="13585813" author="cziegeler" created="Mon, 25 Feb 2013 11:55:17 +0000"  >&lt;p&gt;I think this should be split up into two issues, as the larger part of the patch is for commons testing.&lt;/p&gt;

&lt;p&gt;For the threading change: a thread should not hold a lock when calling into the framework - in this case, I think there is no syncing required, as these static methods are called from the BundleActivator which has a defined order. Maybe we shoudln&apos;t use a static field to store the information and make this an object field to be sure to avoid any potential problems.&lt;/p&gt;</comment>
                            <comment id="13586656" author="ianeboston" created="Tue, 26 Feb 2013 02:51:04 +0000"  >&lt;p&gt;Created new issue  &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2750&quot; title=&quot;Commons testing has some multithreaded issues&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2750&quot;&gt;&lt;del&gt;SLING-2750&lt;/del&gt;&lt;/a&gt; to cover the commons testing issues.&lt;/p&gt;</comment>
                            <comment id="13586663" author="ianeboston" created="Tue, 26 Feb 2013 02:58:42 +0000"  >&lt;p&gt;Methods in question are synchronised by the container so no risk and no patch required.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12570727" name="SLING-2746.patch" size="6988" author="ianeboston" created="Mon, 25 Feb 2013 05:06:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314335</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 36 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1i8rr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314680</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2745] ungetService sets service parameter to null when it should set this.service to null</title>
                <link>https://issues.apache.org/jira/browse/SLING-2745</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;service = null when it should have been this.service = null&lt;/p&gt;</description>
                <environment></environment>
        <key id="12633839">SLING-2745</key>
            <summary>ungetService sets service parameter to null when it should set this.service to null</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ianeboston">Ian Boston</assignee>
                                    <reporter username="ianeboston">Ian Boston</reporter>
                        <labels>
                    </labels>
                <created>Mon, 25 Feb 2013 04:34:12 +0000</created>
                <updated>Wed, 20 Sep 2017 13:04:52 +0000</updated>
                            <resolved>Tue, 26 Feb 2013 04:57:06 +0000</resolved>
                                    <version>Commons Log 3.0.0</version>
                                    <fixVersion>Commons Log 3.0.2</fixVersion>
                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13586759" author="ianeboston" created="Tue, 26 Feb 2013 04:57:06 +0000"  >&lt;p&gt;fixed in r1449599&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314333</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 36 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1i8rb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314678</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2744] AbderaActivator uses invalid double check pattern</title>
                <link>https://issues.apache.org/jira/browse/SLING-2744</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;There is a if ( x == null); syncronized(lock) {; if (x == null ) check which violates Java memory model.&lt;br/&gt;
see: &lt;a href=&quot;http://www.cs.umd.edu/~pugh/java/memoryModel/DoubleCheckedLocking.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.cs.umd.edu/~pugh/java/memoryModel/DoubleCheckedLocking.html&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12633834">SLING-2744</key>
            <summary>AbderaActivator uses invalid double check pattern</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ianeboston">Ian Boston</reporter>
                        <labels>
                    </labels>
                <created>Mon, 25 Feb 2013 03:38:18 +0000</created>
                <updated>Mon, 25 Feb 2013 03:52:00 +0000</updated>
                            <resolved>Mon, 25 Feb 2013 03:52:00 +0000</resolved>
                                    <version>Scripting JSP-Atom-Taglib 1.0.0</version>
                                    <fixVersion>Scripting JSP-Atom-Taglib 1.0.0</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13585604" author="ianeboston" created="Mon, 25 Feb 2013 03:49:04 +0000"  >&lt;p&gt;Other issues noticed in this bundle:&lt;/p&gt;

&lt;p&gt;org.apache.sling.atom.taglib.media.MediaTextTagHandler.type &lt;br/&gt;
org.apache.sling.atom.taglib.media.MediaHashTagHandler.algo&lt;br/&gt;
are set but never used.&lt;/p&gt;</comment>
                            <comment id="13585605" author="ianeboston" created="Mon, 25 Feb 2013 03:52:00 +0000"  >&lt;p&gt;Fixed issue. The unused fields has been left since its lower priority and may impact other things.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314328</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 36 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1i8q7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314673</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2743] Activator.getLoginModules in Jackrabbit server bundle should be synchronized</title>
                <link>https://issues.apache.org/jira/browse/SLING-2743</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Findbugs is reporting that the initialization of the static moduleCache, loginModuleTracker is unsafe in a threaded environment. The method should probably be synchronized to ensure that only one thread accesses the method at a time.&lt;/p&gt;

&lt;p&gt;FindBug Report:&lt;br/&gt;
Bug: Incorrect lazy initialization and update of static field org.apache.sling.jcr.jackrabbit.server.impl.Activator.moduleCache in org.apache.sling.jcr.jackrabbit.server.impl.Activator.getLoginModules()&lt;br/&gt;
This method contains an unsynchronized lazy initialization of a static field. After the field is set, the object stored into that location is further updated or accessed. The setting of the field is visible to other threads as soon as it is set. If the futher accesses in the method that set the field serve to initialize the object, then you have a very serious multithreading bug, unless something else prevents any other thread from accessing the stored object until it is fully initialized.&lt;/p&gt;

&lt;p&gt;Even if you feel confident that the method is never called by multiple threads, it might be better to not set the static field until the value you are setting it to is fully populated/initialized.&lt;/p&gt;

&lt;p&gt;Confidence: High, Rank: Scary (6)&lt;br/&gt;
Pattern: LI_LAZY_INIT_UPDATE_STATIC &lt;br/&gt;
Type: LI, Category: MT_CORRECTNESS (Multithreaded correctness)&lt;/p&gt;

</description>
                <environment></environment>
        <key id="12633822">SLING-2743</key>
            <summary>Activator.getLoginModules in Jackrabbit server bundle should be synchronized</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="ianeboston">Ian Boston</assignee>
                                    <reporter username="ianeboston">Ian Boston</reporter>
                        <labels>
                    </labels>
                <created>Mon, 25 Feb 2013 00:45:50 +0000</created>
                <updated>Mon, 25 Feb 2013 09:40:15 +0000</updated>
                            <resolved>Mon, 25 Feb 2013 09:40:15 +0000</resolved>
                                    <version>JCR Jackrabbit Server 2.1.0</version>
                                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13585551" author="ianeboston" created="Mon, 25 Feb 2013 01:03:57 +0000"  >&lt;p&gt;Potential fix.&lt;/p&gt;</comment>
                            <comment id="13585731" author="fmeschbe" created="Mon, 25 Feb 2013 08:54:05 +0000"  >&lt;p&gt;This is IMHO not required because the bundle activator is never concurrently called by more than one thread.&lt;/p&gt;

&lt;p&gt;Also the lock is dangerous because the start method is called by the framework which itself holds a lock on the bundle while starting it and the start method calls back into the framework.&lt;/p&gt;</comment>
                            <comment id="13585751" author="fmeschbe" created="Mon, 25 Feb 2013 09:40:15 +0000"  >&lt;p&gt;As discussed: This is not needed (BundleActivators are called in controlled contexts by the framework) and dangerous for deadlocks (Framework holds lock when calling, the start method holds a lock when calling back into the framework).&lt;/p&gt;

&lt;p&gt;Thus closing wontfix&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12570695" name="SLING-2743.patch" size="8181" author="ianeboston" created="Mon, 25 Feb 2013 01:03:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314316</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 36 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1i8nj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314661</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2742] Expose RepositoryStatistics as a JMX Bean </title>
                <link>https://issues.apache.org/jira/browse/SLING-2742</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Jackrabbit comes with reasonably extensive stats which should be exposed via JMX for monitoring. Searching the current code base indicates that this has not been done already.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12633821">SLING-2742</key>
            <summary>Expose RepositoryStatistics as a JMX Bean </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ianeboston">Ian Boston</assignee>
                                    <reporter username="ianeboston">Ian Boston</reporter>
                        <labels>
                    </labels>
                <created>Mon, 25 Feb 2013 00:19:21 +0000</created>
                <updated>Fri, 9 Aug 2013 13:41:21 +0000</updated>
                            <resolved>Wed, 27 Feb 2013 04:19:32 +0000</resolved>
                                    <version>JCR Jackrabbit Server 2.1.0</version>
                                    <fixVersion>JCR Jackrabbit Server 2.1.2</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13585552" author="ianeboston" created="Mon, 25 Feb 2013 01:06:24 +0000"  >&lt;p&gt;Potential fix that exposes stats in JMX.&lt;/p&gt;</comment>
                            <comment id="13585727" author="fmeschbe" created="Mon, 25 Feb 2013 08:48:51 +0000"  >&lt;p&gt;I like the idea very much, but I am not comfortable with the patch:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;I don&apos;t think we should expose the RepositoryStatistics as a service. These statistics pertain to a repository and should be related to the repository only, thus retrieved from the appropriate repository.&lt;/li&gt;
	&lt;li&gt;The MBean interface should define the MBean API for the benefit of JMX Management Agents. Otherwise the MBean is useless. Probably having the MBean just extend the Jackrabbit RepositoryStatistics would suffice it &amp;#8211; probably not, though, due to the non-JMX API used by RepositoryStatistics.&lt;/li&gt;
	&lt;li&gt;The MBean should probably be registered when the repository instance is registered as a service: Probably SlingServerRepository should overwrite the registerService and unregisterService methods to register/unregister the MBean service appropriately. This also makes the setup easier because there is no reflection required.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13586751" author="ianeboston" created="Tue, 26 Feb 2013 04:52:52 +0000"  >&lt;p&gt;Fixed.&lt;br/&gt;
The statistics beans are now registered when the repository comes up and de-registered when the repository is destroyed. Each bean gets the name of the repository (using the name from the repositories config).&lt;br/&gt;
If the repository does not support statistics in the expected way, then no statistics are registered.&lt;/p&gt;</comment>
                            <comment id="13586755" author="ianeboston" created="Tue, 26 Feb 2013 04:54:43 +0000"  >&lt;p&gt;And the JMX beans resister as a service exposing the RespositoryStatisticsMBean interface.&lt;/p&gt;</comment>
                            <comment id="13587970" author="ianeboston" created="Wed, 27 Feb 2013 03:47:47 +0000"  >&lt;p&gt;Reopening to remove the RepositoryStatisticsMBean interface as discussed on list.&lt;/p&gt;</comment>
                            <comment id="13587987" author="ianeboston" created="Wed, 27 Feb 2013 04:19:32 +0000"  >&lt;p&gt;unnecessary interface removed, marking as fixed.&lt;/p&gt;</comment>
                            <comment id="13734783" author="fmeschbe" created="Fri, 9 Aug 2013 13:41:21 +0000"  >&lt;p&gt;Closing after release of Jackrabbit Server 2.1.2 bundle&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12570696" name="SLING-2742.patch" size="17954" author="ianeboston" created="Mon, 25 Feb 2013 01:06:24 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314315</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 12 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1i8nb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314660</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2741] Bad Vanity URL  breaks whole Sling Resource Resolver</title>
                <link>https://issues.apache.org/jira/browse/SLING-2741</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;*Configure a vanity url with this string:&lt;br/&gt;
&quot;/content/mypage/en-us-{132&quot;&lt;br/&gt;
*After saving you will see &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; in the logs.&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Restart Sling, there is warning &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt;&lt;br/&gt;
*Go to OSGi console and Sling Resource Resolver tab (&lt;a href=&quot;http://localhost:4502/system/console/jcrresolver&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:4502/system/console/jcrresolver&lt;/a&gt;)&lt;/li&gt;
	&lt;li&gt;Observe the no mapping is loaded.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;&lt;br/&gt;
18.02.2013 16:00:15.210 WARN &lt;span class=&quot;error&quot;&gt;&amp;#91;MapEntries Update&amp;#93;&lt;/span&gt; org.apache.sling.jcr.resource.internal.helper.MapEntries doInit: Unexpected problem during initialization java.util.regex.PatternSyntaxException: Unclosed counted closure near index 38&lt;br/&gt;
^&lt;span class=&quot;error&quot;&gt;&amp;#91;^/&amp;#93;&lt;/span&gt;/&lt;span class=&quot;error&quot;&gt;&amp;#91;^/&amp;#93;&lt;/span&gt;/content/mypage/en-us-{132$&lt;br/&gt;
^&lt;br/&gt;
at java.util.regex.Pattern.error(Pattern.java:1713)&lt;br/&gt;
at java.util.regex.Pattern.closure(Pattern.java:2759)&lt;br/&gt;
at java.util.regex.Pattern.sequence(Pattern.java:1889)&lt;br/&gt;
at java.util.regex.Pattern.expr(Pattern.java:1752)&lt;br/&gt;
at java.util.regex.Pattern.compile(Pattern.java:1460)&lt;br/&gt;
at java.util.regex.Pattern.&amp;lt;init&amp;gt;(Pattern.java:1133)&lt;br/&gt;
at java.util.regex.Pattern.compile(Pattern.java:823)&lt;br/&gt;
at org.apache.sling.jcr.resource.internal.helper.MapEntry.&amp;lt;init&amp;gt;(MapEntry.java:234)&lt;br/&gt;
at org.apache.sling.jcr.resource.internal.helper.MapEntries.loadVanityPaths(MapEntries.java:559)&lt;br/&gt;
at org.apache.sling.jcr.resource.internal.helper.MapEntries.doInit(MapEntries.java:198)&lt;br/&gt;
at org.apache.sling.jcr.resource.internal.helper.MapEntries.init(MapEntries.java:167)&lt;br/&gt;
at org.apache.sling.jcr.resource.internal.helper.MapEntries$1.run(MapEntries.java:140)&lt;br/&gt;
at java.lang.Thread.run(Thread.java:680)&lt;/p&gt;


&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; 	2.02.2013 13:53:15.537 &lt;b&gt;WARN&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;FelixStartLevel&amp;#93;&lt;/span&gt; org.apache.sling.resourceresolver.impl.mapping.MapEntries doInit: Unexpected problem during initialization java.util.regex.PatternSyntaxException: Unclosed counted closure near index 38&lt;br/&gt;
^&lt;span class=&quot;error&quot;&gt;&amp;#91;^/&amp;#93;&lt;/span&gt;&lt;ins&gt;/&lt;span class=&quot;error&quot;&gt;&amp;#91;^/&amp;#93;&lt;/span&gt;&lt;/ins&gt;/content/mypage/en-us-{132$&lt;br/&gt;
                                      ^&lt;br/&gt;
	at java.util.regex.Pattern.error(Pattern.java:1713)&lt;br/&gt;
	at java.util.regex.Pattern.closure(Pattern.java:2759)&lt;br/&gt;
	at java.util.regex.Pattern.sequence(Pattern.java:1889)&lt;br/&gt;
	at java.util.regex.Pattern.expr(Pattern.java:1752)&lt;br/&gt;
	at java.util.regex.Pattern.compile(Pattern.java:1460)&lt;br/&gt;
	at java.util.regex.Pattern.&amp;lt;init&amp;gt;(Pattern.java:1133)&lt;br/&gt;
	at java.util.regex.Pattern.compile(Pattern.java:823)&lt;br/&gt;
	at org.apache.sling.resourceresolver.impl.mapping.MapEntry.&amp;lt;init&amp;gt;(MapEntry.java:241)&lt;br/&gt;
	at org.apache.sling.resourceresolver.impl.mapping.MapEntries.loadVanityPaths(MapEntries.java:600)&lt;br/&gt;
	at org.apache.sling.resourceresolver.impl.mapping.MapEntries.doInit(MapEntries.java:206)&lt;br/&gt;
	at org.apache.sling.resourceresolver.impl.mapping.MapEntries.&amp;lt;init&amp;gt;(MapEntries.java:138)&lt;br/&gt;
	at org.apache.sling.resourceresolver.impl.ResourceResolverFactoryImpl.activate(ResourceResolverFactoryImpl.java:116)&lt;br/&gt;
	at org.apache.sling.resourceresolver.impl.ResourceResolverFactoryActivator.checkFactoryPreconditions(ResourceResolverFactoryActivator.java:319)&lt;br/&gt;
	at org.apache.sling.resourceresolver.impl.ResourceResolverFactoryActivator.activate(ResourceResolverFactoryActivator.java:282)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at org.apache.felix.scr.impl.helper.BaseMethod.invokeMethod(BaseMethod.java:236)&lt;br/&gt;
	at org.apache.felix.scr.impl.helper.BaseMethod.access$500(BaseMethod.java:37)&lt;br/&gt;
	at org.apache.felix.scr.impl.helper.BaseMethod$Resolved.invoke(BaseMethod.java:613)&lt;br/&gt;
	at org.apache.felix.scr.impl.helper.BaseMethod.invoke(BaseMethod.java:496)&lt;br/&gt;
	at org.apache.felix.scr.impl.helper.ActivateMethod.invoke(ActivateMethod.java:149)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.ImmediateComponentManager.createImplementationObject(ImmediateComponentManager.java:251)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.ImmediateComponentManager.createComponent(ImmediateComponentManager.java:119)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.AbstractComponentManager$Unsatisfied.activate(AbstractComponentManager.java:1518)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.activateInternal(AbstractComponentManager.java:550)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.enable(AbstractComponentManager.java:261)&lt;br/&gt;
	at org.apache.felix.scr.impl.config.ImmediateComponentHolder.enableComponents(ImmediateComponentHolder.java:328)&lt;br/&gt;
	at org.apache.felix.scr.impl.BundleComponentActivator.initialize(BundleComponentActivator.java:158)&lt;br/&gt;
	at org.apache.felix.scr.impl.BundleComponentActivator.&amp;lt;init&amp;gt;(BundleComponentActivator.java:113)&lt;br/&gt;
	at org.apache.felix.scr.impl.Activator.loadComponents(Activator.java:261)&lt;br/&gt;
	at org.apache.felix.scr.impl.Activator.bundleChanged(Activator.java:179)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.invokeBundleListenerCallback(EventDispatcher.java:868)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.fireEventImmediately(EventDispatcher.java:789)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.fireBundleEvent(EventDispatcher.java:514)&lt;br/&gt;
	at org.apache.felix.framework.Felix.fireBundleEvent(Felix.java:4319)&lt;br/&gt;
	at org.apache.felix.framework.Felix.startBundle(Felix.java:1993)&lt;br/&gt;
	at org.apache.felix.framework.Felix.setActiveStartLevel(Felix.java:1261)&lt;br/&gt;
	at org.apache.felix.framework.FrameworkStartLevelImpl.run(FrameworkStartLevelImpl.java:298)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:637)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12633616">SLING-2741</key>
            <summary>Bad Vanity URL  breaks whole Sling Resource Resolver</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="asanso">Antonio Sanso</assignee>
                                    <reporter username="asanso">Antonio Sanso</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Feb 2013 13:50:49 +0000</created>
                <updated>Thu, 18 Apr 2013 14:12:30 +0000</updated>
                            <resolved>Mon, 25 Feb 2013 08:55:36 +0000</resolved>
                                    <version>Resource Resolver 1.0.6</version>
                                    <fixVersion>Resource Resolver 1.0.6</fixVersion>
                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13584270" author="asanso" created="Fri, 22 Feb 2013 13:52:25 +0000"  >&lt;p&gt;patch to reproduce the issue using unit test&lt;/p&gt;

&lt;p&gt;#P org.apache.sling.resourceresolver&lt;br/&gt;
Index: src/test/java/org/apache/sling/resourceresolver/impl/mapping/MapEntriesTest.java&lt;br/&gt;
===================================================================&lt;br/&gt;
&amp;#8212; src/test/java/org/apache/sling/resourceresolver/impl/mapping/MapEntriesTest.java	(revision 1449037)&lt;br/&gt;
+++ src/test/java/org/apache/sling/resourceresolver/impl/mapping/MapEntriesTest.java	(working copy)&lt;br/&gt;
@@ -150,6 +150,13 @@&lt;br/&gt;
         when(justVanityPath.getName()).thenReturn(&quot;justVanityPath&quot;);&lt;br/&gt;
         when(justVanityPath.adaptTo(ValueMap.class)).thenReturn(buildValueMap(&quot;sling:vanityPath&quot;, &quot;/target/justVanityPath&quot;));&lt;br/&gt;
         resources.add(justVanityPath);&lt;br/&gt;
+        &lt;br/&gt;
+        Resource badVanityPath = mock(Resource.class);&lt;br/&gt;
+        when(badVanityPath.getPath()).thenReturn(&quot;/badVanityPath&quot;);&lt;br/&gt;
+        when(badVanityPath.getName()).thenReturn(&quot;badVanityPath&quot;);&lt;br/&gt;
+        when(badVanityPath.adaptTo(ValueMap.class)).thenReturn(buildValueMap(&quot;sling:vanityPath&quot;, &quot;/content/mypage/en-us-{132&quot;));&lt;br/&gt;
+        resources.add(badVanityPath);&lt;br/&gt;
+                &lt;/p&gt;

&lt;p&gt;         Resource redirectingVanityPath = mock(Resource.class);&lt;br/&gt;
         when(redirectingVanityPath.getPath()).thenReturn(&quot;/redirectingVanityPath&quot;);&lt;/p&gt;</comment>
                            <comment id="13584315" author="asanso" created="Fri, 22 Feb 2013 14:41:44 +0000"  >&lt;p&gt;Attaching patch.&lt;br/&gt;
I have wrapped the exception to IllegalArgumentException catch it externally and ignored for a single entry.&lt;/p&gt;

&lt;p&gt;WDYT?&lt;/p&gt;</comment>
                            <comment id="13585735" author="asanso" created="Mon, 25 Feb 2013 08:55:36 +0000"  >&lt;p&gt;fixed in rev. 1449619&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12570476" name="SLING-2741-patch.txt" size="6698" author="asanso" created="Fri, 22 Feb 2013 14:41:44 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314111</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 36 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1i7dz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314456</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2736] Not able to build the launchpad/builder module </title>
                <link>https://issues.apache.org/jira/browse/SLING-2736</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;While trying to just build the latest snapshot of Sling war/app from launchpad/builder the build fails with following error&lt;/p&gt;

&lt;p&gt;======&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Failed to execute goal on project org.apache.sling.launchpad: Could not resolve dependencies for project org.apache.sling:org.apache.sling.launchpad:war:7-SNAPSHOT: The following artifacts could not be resolved: org.apache.sling:org.apache.sling.resourceresolver:jar:1.0.3-SNAPSHOT,&lt;br/&gt;
org.apache.sling:org.apache.sling.jcr.resource:jar:2.2.3-SNAPSHOT,&lt;br/&gt;
org.apache.sling:org.apache.sling.jcr.classloader:jar:3.1.11-SNAPSHOT,&lt;br/&gt;
org.apache.sling:org.apache.sling.scripting.jsp:jar:2.0.27-SNAPSHOT:&lt;/p&gt;

&lt;p&gt;Could not find artifact org.apache.sling:org.apache.sling.resourceresolver:jar:1.0.3-SNAPSHOT in apache.snapshots (&lt;a href=&quot;http://repository.apache.org/snapshots&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://repository.apache.org/snapshots&lt;/a&gt;)&lt;br/&gt;
=======&lt;/p&gt;

&lt;p&gt;Note that I have not build the complete Sling trunk but I expect the builder build to fetch dependent module snapshots from Apache maven repo. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12633373">SLING-2736</key>
            <summary>Not able to build the launchpad/builder module </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="chetanm">Chetan Mehrotra</reporter>
                        <labels>
                    </labels>
                <created>Thu, 21 Feb 2013 10:43:48 +0000</created>
                <updated>Thu, 21 Feb 2013 11:04:19 +0000</updated>
                            <resolved>Thu, 21 Feb 2013 11:04:19 +0000</resolved>
                                                                    <component>Launchpad</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13583103" author="chetanm" created="Thu, 21 Feb 2013 11:02:25 +0000"  >&lt;p&gt;Looks like there is some issue with the Git mirrors as the code there does not reflect the current codebase. Checking the list.xml from &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; and &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; reveal that &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; is quite stale (last change 13 days older). I also checked from apache git &lt;span class=&quot;error&quot;&gt;&amp;#91;3&amp;#93;&lt;/span&gt; and it also has stale files&lt;/p&gt;

&lt;p&gt;Also if someone just wants to grab the latest build from Apache Maven repo use following url &lt;a href=&quot;https://repository.apache.org/service/local/artifact/maven/content?g=org.apache.sling&amp;amp;a=org.apache.sling.launchpad&amp;amp;v=7-SNAPSHOT&amp;amp;e=war&amp;amp;r=snapshots&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/service/local/artifact/maven/content?g=org.apache.sling&amp;amp;a=org.apache.sling.launchpad&amp;amp;v=7-SNAPSHOT&amp;amp;e=war&amp;amp;r=snapshots&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Build works fine now with svn checkout. The bug can be closed&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://svn.apache.org/viewvc/sling/trunk/launchpad/builder/src/main/bundles/list.xml?view=markup&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc/sling/trunk/launchpad/builder/src/main/bundles/list.xml?view=markup&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/sling/blob/trunk/launchpad/builder/src/main/bundles/list.xml&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/blob/trunk/launchpad/builder/src/main/bundles/list.xml&lt;/a&gt;  &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;3&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://git.apache.org/sling.git&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://git.apache.org/sling.git&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13583104" author="chetanm" created="Thu, 21 Feb 2013 11:04:19 +0000"  >&lt;p&gt;Problem with Git mirrors as noted above. Hence not a problem with current code&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>313869</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 36 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1i5w7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>314214</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2732] NPE when getting new repository class loader</title>
                <link>https://issues.apache.org/jira/browse/SLING-2732</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;An NPE can occur during getting a new classloader:&lt;/p&gt;

&lt;p&gt;Caused by: java.lang.NullPointerException: Specified service reference cannot be null.&lt;br/&gt;
	at org.apache.felix.framework.BundleContextImpl.getService(BundleContextImpl.java:458)&lt;br/&gt;
	at org.apache.sling.jcr.classloader.internal.ClassLoaderWriterImpl.getOrCreateClassLoader(ClassLoaderWriterImpl.java:216)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12632397">SLING-2732</key>
            <summary>NPE when getting new repository class loader</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Thu, 14 Feb 2013 15:51:14 +0000</created>
                <updated>Mon, 18 Feb 2013 13:42:44 +0000</updated>
                            <resolved>Thu, 14 Feb 2013 17:09:18 +0000</resolved>
                                    <version>JCR Classloader 3.1.10</version>
                                    <fixVersion>JCR Classloader 3.1.12</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13578500" author="cziegeler" created="Thu, 14 Feb 2013 17:09:18 +0000"  >&lt;p&gt;There were some copy paste errors in the code, I&apos;Ve cleaned them up&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>312893</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 37 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1hzvj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>313239</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2731] Bundle is sometimes not downgraded</title>
                <link>https://issues.apache.org/jira/browse/SLING-2731</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If a bundle downgrade is detected, the bundle is sometimes not updated to the lower version, however the lower version is marked as installed.&lt;br/&gt;
The installer uses an attr to mark a bundle resource to be started in the next phase (BundleUtil.ATTR_START). It seems that in previous versions of the installer, this attribute has not been cleared correctly. Therefore during a downgrade, the code first checks for this attr before it checks for the downgrade version. If the attribute is still present, the bundle is just started and marked as installed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12632203">SLING-2731</key>
            <summary>Bundle is sometimes not downgraded</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Wed, 13 Feb 2013 13:18:59 +0000</created>
                <updated>Mon, 18 Feb 2013 07:51:55 +0000</updated>
                            <resolved>Wed, 13 Feb 2013 13:20:29 +0000</resolved>
                                    <version>Installer Core 3.4.4</version>
                                    <fixVersion>Installer Core 3.4.6</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13577543" author="cziegeler" created="Wed, 13 Feb 2013 13:20:29 +0000"  >&lt;p&gt;The attr is now cleared when a downgrade is detected. This should solve the problem&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>312699</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 38 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1hyo7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>313045</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2725] Improve Unit Test coverage inside the resource resolver bundle</title>
                <link>https://issues.apache.org/jira/browse/SLING-2725</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Coverage inside this bundle is low. Although it is covered by integration tests, it should be higher.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12631387">SLING-2725</key>
            <summary>Improve Unit Test coverage inside the resource resolver bundle</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ianeboston">Ian Boston</assignee>
                                    <reporter username="ianeboston">Ian Boston</reporter>
                        <labels>
                    </labels>
                <created>Fri, 8 Feb 2013 06:16:54 +0000</created>
                <updated>Thu, 18 Apr 2013 14:12:30 +0000</updated>
                            <resolved>Tue, 12 Feb 2013 01:25:15 +0000</resolved>
                                    <version>Resource Resolver 1.0.2</version>
                                    <fixVersion>Resource Resolver 1.0.6</fixVersion>
                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13576278" author="ianeboston" created="Tue, 12 Feb 2013 01:25:15 +0000"  >&lt;p&gt;Coverage now at 68% overall with the major areas covered by unit tests. Although this is not perfect it is better than it was. Integration tests cover the edge use cases that are hard to cover without a full repository.&lt;/p&gt;

&lt;p&gt;In general Mockito was used to minimise the cost of changes to the call patterns.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>311883</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 38 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1htn3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>312229</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2724] Error handling doesn&apos;t respect servlet spec</title>
                <link>https://issues.apache.org/jira/browse/SLING-2724</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If there is some servlet that is sending a 500 error (response.sendError(500)) and output something after e.g. &quot;All good&quot; (maybe this is the wrong part...) and a 500.jsp exists, Sling will &quot;shows&quot; both:&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;the error page 500.jsp&lt;/li&gt;
	&lt;li&gt;and the the extra output (e.g. All good)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;This seems to violate the spec:&lt;/p&gt;

&lt;p&gt;&quot;These methods &lt;span class=&quot;error&quot;&gt;&amp;#91;sendError, sendRedirect&amp;#93;&lt;/span&gt; will have the side effect of committing the response, if it has not already been committed, and terminating it. No further output to the client should be made by the servlet after these methods are called. If data is written to the response after these methods are called, the data is ignored.&quot;&lt;/p&gt;

&lt;p&gt;Integration test showing the issue in &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;&lt;br/&gt;
Mailing list thread in &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;&lt;/p&gt;


&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://svn.apache.org/repos/asf/sling/trunk/launchpad/integration-tests/src/main/java/org/apache/sling/launchpad/webapp/integrationtest/servlets/resolver/errorhandler/ErrorHandlingTest.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/repos/asf/sling/trunk/launchpad/integration-tests/src/main/java/org/apache/sling/launchpad/webapp/integrationtest/servlets/resolver/errorhandler/ErrorHandlingTest.java&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; sling.markmail.org/thread/k2t7p5mhi4hgelwb&lt;/p&gt;</description>
                <environment></environment>
        <key id="12631219">SLING-2724</key>
            <summary>Error handling doesn&apos;t respect servlet spec</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="asanso">Antonio Sanso</reporter>
                        <labels>
                    </labels>
                <created>Thu, 7 Feb 2013 08:52:42 +0000</created>
                <updated>Tue, 15 Aug 2023 12:45:19 +0000</updated>
                            <resolved>Wed, 7 Aug 2013 11:08:30 +0000</resolved>
                                                    <fixVersion>Servlets Resolver 2.3.0</fixVersion>
                    <fixVersion>Engine 2.2.10</fixVersion>
                                    <component>Engine</component>
                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13574171" author="cziegeler" created="Fri, 8 Feb 2013 02:19:41 +0000"  >&lt;p&gt;I checked the code and it seems that a flushBuffer() is not making it to the original response and therefore the response does not get committed. But I need to further investigate&lt;/p&gt;</comment>
                            <comment id="13574213" author="cziegeler" created="Fri, 8 Feb 2013 04:01:15 +0000"  >&lt;p&gt;Actually this is a little bit complicated and I&apos;m not sure if we can/should do anything about it:&lt;/p&gt;

&lt;p&gt;The original jsp handling the request calls sendError(). As the error handling is done by custom scripts (error handler jsps), such a script e.g. the 500.jsp is called. These scripts do not use the sendError() command. Rather, they write output (the error message or whatever) to the jsp writer. So once the error handler is finished, the response does not get flagged as committed as this is normal jsp output. So the original jsp which called sendError() continues and can append content to the writer.&lt;/p&gt;

&lt;p&gt;Now we could in such cases buffer the whole output of the error handling script within the script resolver error handler, and then call internal sendError() with the buffered output as the content body.&lt;/p&gt;

&lt;p&gt;This sounds like a lot of work for a rare developer error: the developer who called the sendError() should have read the servlet spec and actually avoid any output afterwards &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; So I&apos;m inclined to close this as wontfix&lt;/p&gt;

&lt;p&gt;Opinions?&lt;/p&gt;</comment>
                            <comment id="13574232" author="fmeschbe" created="Fri, 8 Feb 2013 04:36:29 +0000"  >&lt;p&gt;Thanks for tracking. I have the impression, we can fix this ...&lt;/p&gt;

&lt;p&gt;Error handling is basically funneled through the SlingRequestProcessorImpl.handleError methods. Those call the registered ErrorHandler servlet &amp;#8211; either the DefaultErrorHandler which does a response.flushBuffer() at the end &amp;#8211; or more probable the SlingServletResolver which does &lt;b&gt;not&lt;/b&gt; flush the response.&lt;/p&gt;

&lt;p&gt;I think we have two options: (a) flush the response in the SlingServletResolver after calling the error handler servlet (which may be a wrapped script) or (b) in the SlingRequestProcessorImpl.handleError methods. I am inclined to propose that we do both.&lt;/p&gt;</comment>
                            <comment id="13574247" author="cziegeler" created="Fri, 8 Feb 2013 04:56:00 +0000"  >&lt;p&gt;Calling flushBuffer() doesn&apos;t help - as this only sends the first bytes to the client and a reset() is not possible. But the script can still output additional bytes. (I tried this in the SlingServletResolver)&lt;/p&gt;</comment>
                            <comment id="13574254" author="fmeschbe" created="Fri, 8 Feb 2013 05:03:41 +0000"  >&lt;p&gt;Ok, but the SlingRequestProcessorImpl class as part of the engine bundle has access to the actual ServletContainer&apos;s response object and could fiddle this to prevent further output ?&lt;/p&gt;

&lt;p&gt;How about calling close() on the servlet container&apos;s writer ?&lt;/p&gt;</comment>
                            <comment id="13574259" author="cziegeler" created="Fri, 8 Feb 2013 05:14:22 +0000"  >&lt;p&gt;Not sure, what happens if we call close() - I remember some years ago calling close() on the writer to throw an exception in some app server; but that might have been a bug there. Afaik, it&apos;s not specified what happens if you call close (other than the javadocs for the writer).&lt;br/&gt;
I think we could handle this somehow in our response wrapper - the first sling response wrapper we create, set a flag if an error handler has been called and then throw an exception if content is written after the error handler has been called.&lt;br/&gt;
However, we have to be aware that this is a change in behaviour: previously if sendError is called and content is written after that, the content of the error handler plus the additional content is sent to the client.&lt;br/&gt;
Now, if we throw an exception like IllegalStateException - this is escalated up to the servlet engine and the engine is sending an error response - or if we don&apos;t throw an exception (although we should if we follow the spec) we could ignore any additional output (fail gracefully).&lt;/p&gt;</comment>
                            <comment id="13574274" author="fmeschbe" created="Fri, 8 Feb 2013 05:44:23 +0000"  >&lt;p&gt;I agree about the change, but the current behaviour is probably wrong, so relying on this wrong behaviour is wrong, too.&lt;/p&gt;

&lt;p&gt;We could catch such an IllegalStateException in the SlingMainServlet and not propagate it to the servlet container but instead just terminate request processing (of course logging this situation).&lt;/p&gt;</comment>
                            <comment id="13575266" author="cziegeler" created="Sat, 9 Feb 2013 21:07:10 +0000"  >&lt;p&gt;Ok, I think what we could do is:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;the first response wrapper we create, returns a special print writer for getWriter()&lt;/li&gt;
	&lt;li&gt;after the error handler is called from either DefaultErrorHandler or SlingServletResolver, the code calling the error handlers calls flushBuffer() to write bytes to the output stream, followed by close() on the writer&lt;/li&gt;
	&lt;li&gt;the writer keeps track if it is closed and checks in every method the flag&lt;/li&gt;
	&lt;li&gt;if the flag is set (by calling close() ) and someone tries to append content, an illegal state exception is thrown from within the writer&lt;/li&gt;
	&lt;li&gt;such an exception would be caught by the sling main servlet and just logged, so it&apos;s not propagated to the servlet engine&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;This should solve the problem - as we first call flushBuffer() the response is flagged as committed, so calls to the response like setting a header etc. would throw an exception anyway.&lt;/p&gt;

&lt;p&gt;WDYT?&lt;/p&gt;</comment>
                            <comment id="13575272" author="cziegeler" created="Sat, 9 Feb 2013 21:36:38 +0000"  >&lt;p&gt;It seems when a script is called to process the error, no reset() is called on the response and it is left up to the script. I&apos;ll write a test case for this and if we should update the docs and check our error handler scripts.&lt;br/&gt;
We already have documented that a script should check isCommitted(), we should add here that the script should call reset().&lt;/p&gt;</comment>
                            <comment id="13575275" author="fmeschbe" created="Sat, 9 Feb 2013 21:51:57 +0000"  >&lt;p&gt;&amp;gt; and if we should update the docs&lt;/p&gt;

&lt;p&gt;I have added a section about resetting the response: &lt;a href=&quot;http://sling.apache.org/documentation/the-sling-engine/errorhandling.html#resetting-the-response&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sling.apache.org/documentation/the-sling-engine/errorhandling.html#resetting-the-response&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13676099" author="cziegeler" created="Wed, 5 Jun 2013 16:46:06 +0000"  >&lt;p&gt;I&apos;Ve added a first implementation in revision 1489950 - it works as outlined above&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12641550">SLING-2818</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13547354">SLING-12003</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>311715</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 22 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1hslr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>312061</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2719] Deadlock in ResourceResolverFactoryActivator.checkFactoryPreconditions</title>
                <link>https://issues.apache.org/jira/browse/SLING-2719</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;We are seeing intermittent issues of deadlock while running a Sling based webapp in an app server like JBoss. The deadlock is being seen between the FelixFrameworkWiring and FelixStartLevel threads. &lt;/p&gt;

&lt;p&gt;For example analyzing the order of locks taken in the threaddump-1.log (shown below). Here the FelixFrameworkWiring thread has the Global bundle lock at Felix level &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; and is waiting for the lock in ResourceResolverFactoryActivator.checkFactoryPreconditions. While the FelixStartLevel thread has the lock on RRF and is waiting for global lock. Thus resulting in a deadlock&lt;/p&gt;

&lt;p&gt;The FelixFrameworkWiring &lt;span class=&quot;error&quot;&gt;&amp;#91;5&amp;#93;&lt;/span&gt; is busy in deactivating components because of a package refresh earlier (which lead to repository getting shutdown and thus triggering deactivation of ResourceResolverFactoryActivator). While the FelixStartLevel &lt;span class=&quot;error&quot;&gt;&amp;#91;6&amp;#93;&lt;/span&gt; thread has activated ResourceResolverFactoryActivator (thus hold the lock) and later requires global lock for some operation.&lt;/p&gt;

&lt;p&gt;Looking at the code for ResourceResolverFactoryActivator.checkFactoryPreconditions &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; it appears to take and hold a lock (on this) while making a call to OSGi container. Such a usage &lt;b&gt;might&lt;/b&gt; cause issues like deadlock. So it would be better if the ResourceResolverFactoryActivator does not hold any lock while making the call to container services &lt;span class=&quot;error&quot;&gt;&amp;#91;3&amp;#93;&lt;/span&gt;&lt;/p&gt;


&lt;p&gt;&quot;FelixFrameworkWiring&quot;&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;locked &amp;lt;0x00000007944da478&amp;gt; (a java.util.concurrent.atomic.AtomicReference) org.apache.felix.scr.impl.manager.AbstractComponentManager.unregisterComponentService(AbstractComponentManager.java:702)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;0x00000007944da9b0&amp;gt; (a java.util.concurrent.atomic.AtomicReference) org.apache.felix.scr.impl.manager.AbstractComponentManager.unregisterComponentService(AbstractComponentManager.java:702)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;0x00000007944dae38&amp;gt; (a java.util.concurrent.atomic.AtomicReference) org.apache.felix.scr.impl.manager.AbstractComponentManager.unregisterComponentService(AbstractComponentManager.java:702)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;0x0000000796d5d030&amp;gt; (a java.util.concurrent.atomic.AtomicReference) org.apache.felix.scr.impl.manager.AbstractComponentManager.unregisterComponentService(AbstractComponentManager.java:702)&lt;/li&gt;
	&lt;li&gt;waiting to lock &amp;lt;0x000000079624ff08&amp;gt; (a org.apache.sling.resourceresolver.impl.ResourceResolverFactoryActivator) org.apache.sling.resourceresolver.impl.ResourceResolverFactoryActivator.checkFactoryPreconditions(ResourceResolverFactoryActivator.java:330)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;FelixStartLevel&quot;&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;locked &amp;lt;0x000000079624ff08&amp;gt; (a org.apache.sling.resourceresolver.impl.ResourceResolverFactoryActivator) org.apache.sling.resourceresolver.impl.ResourceResolverFactoryActivator.checkFactoryPreconditions(ResourceResolverFactoryActivator.java:324)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;0x0000000796959bc8&amp;gt; (a java.util.concurrent.atomic.AtomicReference) org.apache.felix.scr.impl.manager.AbstractComponentManager.registerService(AbstractComponentManager.java:660)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;0x0000000796959eb8&amp;gt; (a java.util.concurrent.atomic.AtomicReference) org.apache.felix.scr.impl.manager.AbstractComponentManager.registerService(AbstractComponentManager.java:660)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;0x000000079695a188&amp;gt; (a java.util.concurrent.atomic.AtomicReference) org.apache.felix.scr.impl.manager.AbstractComponentManager.registerService(AbstractComponentManager.java:660)&lt;/li&gt;
	&lt;li&gt;waiting &amp;lt;0x000000079415eca0&amp;gt; (a [Ljava.lang.Object&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; org.apache.felix.framework.Felix.acquireGlobalLock(Felix.java:5019)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; This has been confirmed via the value for m_globalLockThread of Felix instance in Heap Dump&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/sling/blob/trunk/bundles/resourceresolver/src/main/java/org/apache/sling/resourceresolver/impl/ResourceResolverFactoryActivator.java#L313&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling/blob/trunk/bundles/resourceresolver/src/main/java/org/apache/sling/resourceresolver/impl/ResourceResolverFactoryActivator.java#L313&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;3&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://njbartlett.name/files/osgibook_preview_20091217.pdf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://njbartlett.name/files/osgibook_preview_20091217.pdf&lt;/a&gt; (Section 6.4 Don&#8217;t Hold Locks when Calling Foreign Code)&lt;/p&gt;
</description>
                <environment>JBoss</environment>
        <key id="12630134">SLING-2719</key>
            <summary>Deadlock in ResourceResolverFactoryActivator.checkFactoryPreconditions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="chetanm">Chetan Mehrotra</reporter>
                        <labels>
                            <label>deadlock</label>
                    </labels>
                <created>Thu, 31 Jan 2013 13:58:15 +0000</created>
                <updated>Fri, 15 Feb 2013 07:35:41 +0000</updated>
                            <resolved>Thu, 31 Jan 2013 16:59:31 +0000</resolved>
                                    <version>Resource Resolver 1.0.2</version>
                                    <fixVersion>Resource Resolver 1.0.4</fixVersion>
                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13567643" author="chetanm" created="Thu, 31 Jan 2013 13:58:59 +0000"  >&lt;p&gt;Thread stacks referred in notes&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;5&amp;#93;&lt;/span&gt;&lt;br/&gt;
&quot;FelixFrameworkWiring&quot; daemon prio=6 tid=0x0000000009749000 nid=0xfd4 waiting for monitor entry &lt;span class=&quot;error&quot;&gt;&amp;#91;0x0000000038bcb000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: BLOCKED (on object monitor)&lt;br/&gt;
	at org.apache.sling.resourceresolver.impl.ResourceResolverFactoryActivator.checkFactoryPreconditions(ResourceResolverFactoryActivator.java:330)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;waiting to lock &amp;lt;0x000000079624ff08&amp;gt; (a org.apache.sling.resourceresolver.impl.ResourceResolverFactoryActivator)&lt;br/&gt;
	at org.apache.sling.resourceresolver.impl.ResourceResolverFactoryActivator.unbindResourceProviderFactory(ResourceResolverFactoryActivator.java:371)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at org.apache.felix.scr.impl.helper.BaseMethod.invokeMethod(BaseMethod.java:236)&lt;br/&gt;
	at org.apache.felix.scr.impl.helper.BaseMethod.access$500(BaseMethod.java:37)&lt;br/&gt;
	at org.apache.felix.scr.impl.helper.BaseMethod$Resolved.invoke(BaseMethod.java:613)&lt;br/&gt;
	at org.apache.felix.scr.impl.helper.BaseMethod$NotResolved.invoke(BaseMethod.java:572)&lt;br/&gt;
	at org.apache.felix.scr.impl.helper.BaseMethod.invoke(BaseMethod.java:496)&lt;br/&gt;
	at org.apache.felix.scr.impl.helper.BindMethod.invoke(BindMethod.java:38)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.DependencyManager.invokeUnbindMethod(DependencyManager.java:1404)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.ImmediateComponentManager.invokeUnbindMethod(ImmediateComponentManager.java:327)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.DependencyManager.serviceRemoved(DependencyManager.java:530)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.DependencyManager.serviceChanged(DependencyManager.java:274)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.invokeServiceListenerCallback(EventDispatcher.java:932)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.fireEventImmediately(EventDispatcher.java:793)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.fireServiceEvent(EventDispatcher.java:543)&lt;br/&gt;
	at org.apache.felix.framework.Felix.fireServiceEvent(Felix.java:4335)&lt;br/&gt;
	at org.apache.felix.framework.Felix.access$000(Felix.java:74)&lt;br/&gt;
	at org.apache.felix.framework.Felix$1.serviceChanged(Felix.java:390)&lt;br/&gt;
	at org.apache.felix.framework.ServiceRegistry.unregisterService(ServiceRegistry.java:148)&lt;br/&gt;
	at org.apache.felix.framework.ServiceRegistrationImpl.unregister(ServiceRegistrationImpl.java:127)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.unregisterComponentService(AbstractComponentManager.java:702)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;0x0000000796d5d030&amp;gt; (a java.util.concurrent.atomic.AtomicReference)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.AbstractComponentManager$State.doDeactivate(AbstractComponentManager.java:1301)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.AbstractComponentManager$Satisfied.deactivate(AbstractComponentManager.java:1599)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.deactivateInternal(AbstractComponentManager.java:555)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.DependencyManager.serviceRemoved(DependencyManager.java:451)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.DependencyManager.serviceChanged(DependencyManager.java:274)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.invokeServiceListenerCallback(EventDispatcher.java:932)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.fireEventImmediately(EventDispatcher.java:793)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.fireServiceEvent(EventDispatcher.java:543)&lt;br/&gt;
	at org.apache.felix.framework.Felix.fireServiceEvent(Felix.java:4335)&lt;br/&gt;
	at org.apache.felix.framework.Felix.access$000(Felix.java:74)&lt;br/&gt;
	at org.apache.felix.framework.Felix$1.serviceChanged(Felix.java:390)&lt;br/&gt;
	at org.apache.felix.framework.ServiceRegistry.unregisterService(ServiceRegistry.java:148)&lt;br/&gt;
	at org.apache.felix.framework.ServiceRegistrationImpl.unregister(ServiceRegistrationImpl.java:127)&lt;br/&gt;
	at com.day.crx.sling.server.impl.jmx.ManagedRepository.deactivate(ManagedRepository.java:328)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at org.apache.felix.scr.impl.helper.BaseMethod.invokeMethod(BaseMethod.java:236)&lt;br/&gt;
	at org.apache.felix.scr.impl.helper.BaseMethod.access$500(BaseMethod.java:37)&lt;br/&gt;
	at org.apache.felix.scr.impl.helper.BaseMethod$Resolved.invoke(BaseMethod.java:613)&lt;br/&gt;
	at org.apache.felix.scr.impl.helper.BaseMethod.invoke(BaseMethod.java:496)&lt;br/&gt;
	at org.apache.felix.scr.impl.helper.ActivateMethod.invoke(ActivateMethod.java:149)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.ImmediateComponentManager.disposeImplementationObject(ImmediateComponentManager.java:286)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.ImmediateComponentManager.deleteComponent(ImmediateComponentManager.java:160)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.AbstractComponentManager$Active.ungetService(AbstractComponentManager.java:1661)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.ImmediateComponentManager.ungetService(ImmediateComponentManager.java:717)&lt;br/&gt;
	at org.apache.felix.framework.ServiceRegistrationImpl.ungetFactoryUnchecked(ServiceRegistrationImpl.java:349)&lt;br/&gt;
	at org.apache.felix.framework.ServiceRegistrationImpl.ungetService(ServiceRegistrationImpl.java:258)&lt;br/&gt;
	at org.apache.felix.framework.ServiceRegistry.ungetService(ServiceRegistry.java:389)&lt;br/&gt;
	at org.apache.felix.framework.Felix.ungetService(Felix.java:3502)&lt;br/&gt;
	at org.apache.felix.framework.BundleContextImpl.ungetService(BundleContextImpl.java:486)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.DependencyManager.ungetService(DependencyManager.java:961)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.DependencyManager.unbind(DependencyManager.java:1204)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.DependencyManager.close(DependencyManager.java:1031)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.ImmediateComponentManager.disposeImplementationObject(ImmediateComponentManager.java:298)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.ImmediateComponentManager.deleteComponent(ImmediateComponentManager.java:160)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.AbstractComponentManager$State.doDeactivate(AbstractComponentManager.java:1305)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.AbstractComponentManager$Satisfied.deactivate(AbstractComponentManager.java:1599)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.deactivateInternal(AbstractComponentManager.java:555)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.DependencyManager.serviceRemoved(DependencyManager.java:451)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.DependencyManager.serviceChanged(DependencyManager.java:274)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.invokeServiceListenerCallback(EventDispatcher.java:932)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.fireEventImmediately(EventDispatcher.java:793)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.fireServiceEvent(EventDispatcher.java:543)&lt;br/&gt;
	at org.apache.felix.framework.Felix.fireServiceEvent(Felix.java:4335)&lt;br/&gt;
	at org.apache.felix.framework.Felix.access$000(Felix.java:74)&lt;br/&gt;
	at org.apache.felix.framework.Felix$1.serviceChanged(Felix.java:390)&lt;br/&gt;
	at org.apache.felix.framework.ServiceRegistry.unregisterService(ServiceRegistry.java:148)&lt;br/&gt;
	at org.apache.felix.framework.ServiceRegistrationImpl.unregister(ServiceRegistrationImpl.java:127)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.unregisterComponentService(AbstractComponentManager.java:702)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;0x00000007944dae38&amp;gt; (a java.util.concurrent.atomic.AtomicReference)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.AbstractComponentManager$State.doDeactivate(AbstractComponentManager.java:1301)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.AbstractComponentManager$Satisfied.deactivate(AbstractComponentManager.java:1599)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.deactivateInternal(AbstractComponentManager.java:555)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.DependencyManager.serviceRemoved(DependencyManager.java:451)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.DependencyManager.serviceChanged(DependencyManager.java:274)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.invokeServiceListenerCallback(EventDispatcher.java:932)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.fireEventImmediately(EventDispatcher.java:793)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.fireServiceEvent(EventDispatcher.java:543)&lt;br/&gt;
	at org.apache.felix.framework.Felix.fireServiceEvent(Felix.java:4335)&lt;br/&gt;
	at org.apache.felix.framework.Felix.access$000(Felix.java:74)&lt;br/&gt;
	at org.apache.felix.framework.Felix$1.serviceChanged(Felix.java:390)&lt;br/&gt;
	at org.apache.felix.framework.ServiceRegistry.unregisterService(ServiceRegistry.java:148)&lt;br/&gt;
	at org.apache.felix.framework.ServiceRegistrationImpl.unregister(ServiceRegistrationImpl.java:127)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.unregisterComponentService(AbstractComponentManager.java:702)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;0x00000007944da9b0&amp;gt; (a java.util.concurrent.atomic.AtomicReference)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.AbstractComponentManager$State.doDeactivate(AbstractComponentManager.java:1301)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.AbstractComponentManager$Satisfied.deactivate(AbstractComponentManager.java:1599)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.deactivateInternal(AbstractComponentManager.java:555)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.DependencyManager.serviceRemoved(DependencyManager.java:451)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.DependencyManager.serviceChanged(DependencyManager.java:274)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.invokeServiceListenerCallback(EventDispatcher.java:932)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.fireEventImmediately(EventDispatcher.java:793)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.fireServiceEvent(EventDispatcher.java:543)&lt;br/&gt;
	at org.apache.felix.framework.Felix.fireServiceEvent(Felix.java:4335)&lt;br/&gt;
	at org.apache.felix.framework.Felix.access$000(Felix.java:74)&lt;br/&gt;
	at org.apache.felix.framework.Felix$1.serviceChanged(Felix.java:390)&lt;br/&gt;
	at org.apache.felix.framework.ServiceRegistry.unregisterService(ServiceRegistry.java:148)&lt;br/&gt;
	at org.apache.felix.framework.ServiceRegistrationImpl.unregister(ServiceRegistrationImpl.java:127)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.unregisterComponentService(AbstractComponentManager.java:702)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;0x00000007944da478&amp;gt; (a java.util.concurrent.atomic.AtomicReference)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.AbstractComponentManager$State.doDeactivate(AbstractComponentManager.java:1301)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.AbstractComponentManager$Satisfied.dispose(AbstractComponentManager.java:1617)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.disposeInternal(AbstractComponentManager.java:574)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.dispose(AbstractComponentManager.java:404)&lt;br/&gt;
	at org.apache.felix.scr.impl.config.ImmediateComponentHolder.disposeComponents(ImmediateComponentHolder.java:371)&lt;br/&gt;
	at org.apache.felix.scr.impl.BundleComponentActivator.dispose(BundleComponentActivator.java:320)&lt;br/&gt;
	at org.apache.felix.scr.impl.Activator.disposeComponents(Activator.java:316)&lt;br/&gt;
	at org.apache.felix.scr.impl.Activator.bundleChanged(Activator.java:183)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.invokeBundleListenerCallback(EventDispatcher.java:868)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.fireEventImmediately(EventDispatcher.java:789)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.fireBundleEvent(EventDispatcher.java:514)&lt;br/&gt;
	at org.apache.felix.framework.Felix.fireBundleEvent(Felix.java:4319)&lt;br/&gt;
	at org.apache.felix.framework.Felix.stopBundle(Felix.java:2421)&lt;br/&gt;
	at org.apache.felix.framework.Felix$RefreshHelper.stop(Felix.java:4704)&lt;br/&gt;
	at org.apache.felix.framework.Felix.refreshPackages(Felix.java:4026)&lt;br/&gt;
	at org.apache.felix.framework.FrameworkWiringImpl.run(FrameworkWiringImpl.java:172)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:662)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;6&amp;#93;&lt;/span&gt; &quot;FelixStartLevel&quot; daemon prio=6 tid=0x000000002c81a800 nid=0x96c in Object.wait() &lt;span class=&quot;error&quot;&gt;&amp;#91;0x000000003557c000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: WAITING (on object monitor)&lt;br/&gt;
	at java.lang.Object.wait(Native Method)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;waiting on &amp;lt;0x000000079415eca0&amp;gt; (a [Ljava.lang.Object&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
	at java.lang.Object.wait(Object.java:485)&lt;br/&gt;
	at org.apache.felix.framework.Felix.acquireGlobalLock(Felix.java:5019)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;0x000000079415eca0&amp;gt; (a [Ljava.lang.Object&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
	at org.apache.felix.framework.StatefulResolver.resolve(StatefulResolver.java:451)&lt;br/&gt;
	at org.apache.felix.framework.BundleWiringImpl.searchDynamicImports(BundleWiringImpl.java:1578)&lt;br/&gt;
	at org.apache.felix.framework.BundleWiringImpl.findClassOrResourceByDelegation(BundleWiringImpl.java:1478)&lt;br/&gt;
	at org.apache.felix.framework.BundleWiringImpl.access$400(BundleWiringImpl.java:75)&lt;br/&gt;
	at org.apache.felix.framework.BundleWiringImpl$BundleClassLoader.loadClass(BundleWiringImpl.java:1882)&lt;br/&gt;
	at java.lang.ClassLoader.loadClass(ClassLoader.java:247)&lt;br/&gt;
	at org.apache.felix.framework.BundleWiringImpl.getClassByDelegation(BundleWiringImpl.java:1356)&lt;br/&gt;
	at org.apache.felix.framework.ServiceRegistrationImpl$ServiceReferenceImpl.isAssignableTo(ServiceRegistrationImpl.java:548)&lt;br/&gt;
	at org.apache.felix.framework.util.Util.isServiceAssignable(Util.java:280)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.invokeServiceListenerCallback(EventDispatcher.java:916)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.fireEventImmediately(EventDispatcher.java:793)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.fireServiceEvent(EventDispatcher.java:543)&lt;br/&gt;
	at org.apache.felix.framework.Felix.fireServiceEvent(Felix.java:4335)&lt;br/&gt;
	at org.apache.felix.framework.Felix.registerService(Felix.java:3345)&lt;br/&gt;
	at org.apache.felix.framework.BundleContextImpl.registerService(BundleContextImpl.java:346)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.registerService(AbstractComponentManager.java:660)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;0x000000079695a188&amp;gt; (a java.util.concurrent.atomic.AtomicReference)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.registerService(AbstractComponentManager.java:644)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.registerComponentService(AbstractComponentManager.java:688)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.AbstractComponentManager$Unsatisfied.activate(AbstractComponentManager.java:1481)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.activateInternal(AbstractComponentManager.java:550)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.DependencyManager.serviceAdded(DependencyManager.java:333)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.DependencyManager.serviceChanged(DependencyManager.java:159)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.invokeServiceListenerCallback(EventDispatcher.java:932)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.fireEventImmediately(EventDispatcher.java:793)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.fireServiceEvent(EventDispatcher.java:543)&lt;br/&gt;
	at org.apache.felix.framework.Felix.fireServiceEvent(Felix.java:4335)&lt;br/&gt;
	at org.apache.felix.framework.Felix.registerService(Felix.java:3345)&lt;br/&gt;
	at org.apache.felix.framework.BundleContextImpl.registerService(BundleContextImpl.java:346)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.registerService(AbstractComponentManager.java:660)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;0x0000000796959eb8&amp;gt; (a java.util.concurrent.atomic.AtomicReference)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.registerService(AbstractComponentManager.java:644)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.registerComponentService(AbstractComponentManager.java:688)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.AbstractComponentManager$Unsatisfied.activate(AbstractComponentManager.java:1481)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.activateInternal(AbstractComponentManager.java:550)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.DependencyManager.serviceAdded(DependencyManager.java:333)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.DependencyManager.serviceChanged(DependencyManager.java:159)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.invokeServiceListenerCallback(EventDispatcher.java:932)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.fireEventImmediately(EventDispatcher.java:793)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.fireServiceEvent(EventDispatcher.java:543)&lt;br/&gt;
	at org.apache.felix.framework.Felix.fireServiceEvent(Felix.java:4335)&lt;br/&gt;
	at org.apache.felix.framework.Felix.registerService(Felix.java:3345)&lt;br/&gt;
	at org.apache.felix.framework.BundleContextImpl.registerService(BundleContextImpl.java:346)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.registerService(AbstractComponentManager.java:660)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;0x0000000796959bc8&amp;gt; (a java.util.concurrent.atomic.AtomicReference)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.registerService(AbstractComponentManager.java:644)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.registerComponentService(AbstractComponentManager.java:688)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.AbstractComponentManager$Unsatisfied.activate(AbstractComponentManager.java:1481)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.activateInternal(AbstractComponentManager.java:550)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.DependencyManager.serviceAdded(DependencyManager.java:333)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.DependencyManager.serviceChanged(DependencyManager.java:159)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.invokeServiceListenerCallback(EventDispatcher.java:932)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.fireEventImmediately(EventDispatcher.java:793)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.fireServiceEvent(EventDispatcher.java:543)&lt;br/&gt;
	at org.apache.felix.framework.Felix.fireServiceEvent(Felix.java:4335)&lt;br/&gt;
	at org.apache.felix.framework.Felix.registerService(Felix.java:3345)&lt;br/&gt;
	at org.apache.felix.framework.BundleContextImpl.registerService(BundleContextImpl.java:346)&lt;br/&gt;
	at org.apache.felix.framework.BundleContextImpl.registerService(BundleContextImpl.java:320)&lt;br/&gt;
	at org.apache.sling.resourceresolver.impl.ResourceResolverFactoryActivator.checkFactoryPreconditions(ResourceResolverFactoryActivator.java:324)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;0x000000079624ff08&amp;gt; (a org.apache.sling.resourceresolver.impl.ResourceResolverFactoryActivator)&lt;br/&gt;
	at org.apache.sling.resourceresolver.impl.ResourceResolverFactoryActivator.activate(ResourceResolverFactoryActivator.java:282)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at org.apache.felix.scr.impl.helper.BaseMethod.invokeMethod(BaseMethod.java:236)&lt;br/&gt;
	at org.apache.felix.scr.impl.helper.BaseMethod.access$500(BaseMethod.java:37)&lt;br/&gt;
	at org.apache.felix.scr.impl.helper.BaseMethod$Resolved.invoke(BaseMethod.java:613)&lt;br/&gt;
	at org.apache.felix.scr.impl.helper.BaseMethod.invoke(BaseMethod.java:496)&lt;br/&gt;
	at org.apache.felix.scr.impl.helper.ActivateMethod.invoke(ActivateMethod.java:149)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.ImmediateComponentManager.createImplementationObject(ImmediateComponentManager.java:251)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.ImmediateComponentManager.createComponent(ImmediateComponentManager.java:119)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.AbstractComponentManager$Unsatisfied.activate(AbstractComponentManager.java:1518)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.activateInternal(AbstractComponentManager.java:550)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.enable(AbstractComponentManager.java:261)&lt;br/&gt;
	at org.apache.felix.scr.impl.config.ImmediateComponentHolder.enableComponents(ImmediateComponentHolder.java:328)&lt;br/&gt;
	at org.apache.felix.scr.impl.BundleComponentActivator.initialize(BundleComponentActivator.java:158)&lt;br/&gt;
	at org.apache.felix.scr.impl.BundleComponentActivator.&amp;lt;init&amp;gt;(BundleComponentActivator.java:113)&lt;br/&gt;
	at org.apache.felix.scr.impl.Activator.loadComponents(Activator.java:261)&lt;br/&gt;
	at org.apache.felix.scr.impl.Activator.bundleChanged(Activator.java:179)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.invokeBundleListenerCallback(EventDispatcher.java:868)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.fireEventImmediately(EventDispatcher.java:789)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.fireBundleEvent(EventDispatcher.java:514)&lt;br/&gt;
	at org.apache.felix.framework.Felix.fireBundleEvent(Felix.java:4319)&lt;br/&gt;
	at org.apache.felix.framework.Felix.startBundle(Felix.java:1993)&lt;br/&gt;
	at org.apache.felix.framework.Felix.setActiveStartLevel(Felix.java:1261)&lt;br/&gt;
	at org.apache.felix.framework.FrameworkStartLevelImpl.run(FrameworkStartLevelImpl.java:298)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:662)&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13567645" author="chetanm" created="Thu, 31 Jan 2013 14:01:03 +0000"  >&lt;p&gt;Attached is a zip which contains the two set of logs&lt;/p&gt;

&lt;p&gt;1. threaddump-X.log&lt;br/&gt;
2. error-log-X.log&lt;/p&gt;

&lt;p&gt;The two sets are taken from two different system where the issue has been observed so far&lt;/p&gt;</comment>
                            <comment id="13567805" author="cziegeler" created="Thu, 31 Jan 2013 16:59:31 +0000"  >&lt;p&gt;I rewrote the whole register/unregister code to not hold any locks when calling into the framework anymore.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12567360" name="error-log-threaddump.zip" size="130785" author="chetanm" created="Thu, 31 Jan 2013 14:01:02 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>310630</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 39 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1hlwn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>310975</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2717] SlingMainServlet: changing config without providing a path pattern disables requests recording</title>
                <link>https://issues.apache.org/jira/browse/SLING-2717</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;After saving the SlingMainServlet config from /system/console/configMgr, leaving the &quot;Recorded Request Path Patterns&quot; parameter empty, the plugin at /system/console/requests always says &quot;recorded 0 requests&quot; and does not show any new requests.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12629666">SLING-2717</key>
            <summary>SlingMainServlet: changing config without providing a path pattern disables requests recording</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Tue, 29 Jan 2013 10:04:30 +0000</created>
                <updated>Thu, 18 Apr 2013 14:14:27 +0000</updated>
                            <resolved>Tue, 29 Jan 2013 10:21:19 +0000</resolved>
                                    <version>Engine 2.2.6</version>
                                    <fixVersion>Engine 2.2.8</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13565253" author="bdelacretaz" created="Tue, 29 Jan 2013 10:21:19 +0000"  >&lt;p&gt;Fixed in revision 1439814&lt;/p&gt;

&lt;p&gt;Until that fix is released, the workaround is to specify a pattern in the &quot;Recorded Request Path Patterns&quot; parameter when changing the configuration, the bug is exposed by having a blank value there.&lt;/p&gt;

&lt;p&gt;Use .*html for example, to record only .html requests&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>310162</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 40 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1hj0v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>310507</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2716] JCR Installer does not handle move events</title>
                <link>https://issues.apache.org/jira/browse/SLING-2716</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The jcr observation listener does not handle move events, therefore moving artifacts in the repository get the installer in a corrupt state&lt;/p&gt;</description>
                <environment></environment>
        <key id="12629545">SLING-2716</key>
            <summary>JCR Installer does not handle move events</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Mon, 28 Jan 2013 15:52:03 +0000</created>
                <updated>Mon, 18 Feb 2013 07:51:15 +0000</updated>
                            <resolved>Wed, 13 Feb 2013 13:23:58 +0000</resolved>
                                    <version>JCR Installer 3.1.4</version>
                                    <fixVersion>JCR Installer 3.1.6</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13577547" author="cziegeler" created="Wed, 13 Feb 2013 13:23:58 +0000"  >&lt;p&gt;I&apos;ve added an additional observation listener just listening to move events and then invalidating potential watchers for source and dest&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>310041</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 38 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1hi9z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>310386</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2715] Script List does not get populated in Script Console plugin with newer WebConsole </title>
                <link>https://issues.apache.org/jira/browse/SLING-2715</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The Sling Script Console (&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2463&quot; title=&quot;Sling Script Console Plugin&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2463&quot;&gt;&lt;del&gt;SLING-2463&lt;/del&gt;&lt;/a&gt;) does not work with newer WebConsole which use jQuery 1.8.x. In newer WebConsole the Script drop down list does not get populated.&lt;/p&gt;

&lt;p&gt;In JS Console following error is shown&lt;/p&gt;

&lt;p&gt;TypeError: options is undefined&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Break On This Error&amp;#93;&lt;/span&gt; 	&lt;/p&gt;

&lt;p&gt;options&lt;span class=&quot;error&quot;&gt;&amp;#91;options.length&amp;#93;&lt;/span&gt; = opt&lt;/p&gt;</description>
                <environment></environment>
        <key id="12629440">SLING-2715</key>
            <summary>Script List does not get populated in Script Console plugin with newer WebConsole </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="chetanm">Chetan Mehrotra</reporter>
                        <labels>
                    </labels>
                <created>Sun, 27 Jan 2013 17:01:33 +0000</created>
                <updated>Tue, 9 Apr 2013 08:48:15 +0000</updated>
                            <resolved>Mon, 28 Jan 2013 13:45:20 +0000</resolved>
                                                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13563846" author="chetanm" created="Sun, 27 Jan 2013 17:28:17 +0000"  >&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;var options = codeLang.attr(&apos;options&apos;);&lt;br/&gt;
+    var options = codeLang.prop ? codeLang.prop(&apos;options&apos;) : codeLang.attr(&apos;options&apos;);&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Using the &apos;prop&apos; method instead of &apos;attr&apos;. Probably the behaviour of attr method changed with jQuery 1.6 &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;. As a bug fix we first use prop if present otherwise fallback to attr &lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://ejohn.org/blog/jquery-16-and-attr/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ejohn.org/blog/jquery-16-and-attr/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13564281" author="bdelacretaz" created="Mon, 28 Jan 2013 13:45:20 +0000"  >&lt;p&gt;Patch applied in revision 1439401, thanks!&lt;/p&gt;

&lt;p&gt;Verified that the languages dropdown is correctly populated when using the felix webconsole 4.0.1-SNAPSHOT&lt;/p&gt;</comment>
                            <comment id="13565229" author="chetanm" created="Tue, 29 Jan 2013 09:48:56 +0000"  >&lt;p&gt;There was another issue with Syntax highlighting also as the langMode property was not getting read. So providing another patch which fixes both the issues&lt;/p&gt;

&lt;p&gt;Should I open another issue or this issue can be opened and the patch applied. Note that the second issue is not blocker just that syntax highlighting does not work&lt;/p&gt;</comment>
                            <comment id="13565234" author="bdelacretaz" created="Tue, 29 Jan 2013 09:53:48 +0000"  >&lt;p&gt;Looks to me like the &quot;lang&quot; variable is not used in&lt;/p&gt;

&lt;p&gt; function updateWithOption(opt)&lt;/p&gt;
{
    var lang = getProp(opt,&apos;langMode&apos;)
    setLangMode(inputEditor,opt.prop(&apos;langMode&apos;))
     $(&apos;[name=lang]&apos;).val(opt.val())
 }

&lt;p&gt;and yes, creating a new issue is better IMO as it&apos;s a different problem&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12566933" name="SLING-2715-v2.patch" size="1126" author="chetanm" created="Tue, 29 Jan 2013 09:48:56 +0000"/>
                            <attachment id="12566674" name="SLING-2715.patch" size="778" author="chetanm" created="Sun, 27 Jan 2013 17:28:17 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>309936</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 40 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1hhmf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>310280</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2713] java.lang.IllegalStateException: Service already unregistered during unregistering of resource resolver</title>
                <link>https://issues.apache.org/jira/browse/SLING-2713</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When unregistering, the following stacktrace shows that ResourceResolverFactoryActivator#unregisterFactory is invoked recursively causing unregister() to be called more than once on the same registration object&lt;/p&gt;

&lt;p&gt;23.01.2013 16:19:17.428 &lt;b&gt;ERROR&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;FelixFrameworkWiring&amp;#93;&lt;/span&gt; org.apache.sling.resourceresolver &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.jcr.resource.internal.JcrResourceResolverFactoryImpl&amp;#93;&lt;/span&gt; The unbindResourceProvider method has thrown an exception (java.lang.IllegalStateException: Service already unregistered.) java.lang.IllegalStateException: Service already unregistered.&lt;br/&gt;
	at org.apache.felix.framework.ServiceRegistrationImpl.unregister(ServiceRegistrationImpl.java:123)&lt;br/&gt;
	at org.apache.sling.resourceresolver.impl.ResourceResolverFactoryActivator.unregisterFactory(ResourceResolverFactoryActivator.java:302)&lt;br/&gt;
	at org.apache.sling.resourceresolver.impl.ResourceResolverFactoryActivator.checkFactoryPreconditions(ResourceResolverFactoryActivator.java:331)&lt;br/&gt;
	at org.apache.sling.resourceresolver.impl.ResourceResolverFactoryActivator.unbindResourceProvider(ResourceResolverFactoryActivator.java:353)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at org.apache.felix.scr.impl.helper.BaseMethod.invokeMethod(BaseMethod.java:236)&lt;br/&gt;
	at org.apache.felix.scr.impl.helper.BaseMethod.access$500(BaseMethod.java:37)&lt;br/&gt;
	at org.apache.felix.scr.impl.helper.BaseMethod$Resolved.invoke(BaseMethod.java:613)&lt;br/&gt;
	at org.apache.felix.scr.impl.helper.BaseMethod.invoke(BaseMethod.java:496)&lt;br/&gt;
	at org.apache.felix.scr.impl.helper.BindMethod.invoke(BindMethod.java:38)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.DependencyManager.invokeUnbindMethod(DependencyManager.java:1404)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.ImmediateComponentManager.invokeUnbindMethod(ImmediateComponentManager.java:327)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.DependencyManager.serviceRemoved(DependencyManager.java:530)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.DependencyManager.serviceChanged(DependencyManager.java:274)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.invokeServiceListenerCallback(EventDispatcher.java:932)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.fireEventImmediately(EventDispatcher.java:793)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.fireServiceEvent(EventDispatcher.java:543)&lt;br/&gt;
	at org.apache.felix.framework.Felix.fireServiceEvent(Felix.java:4335)&lt;br/&gt;
	at org.apache.felix.framework.Felix.access$000(Felix.java:74)&lt;br/&gt;
	at org.apache.felix.framework.Felix$1.serviceChanged(Felix.java:390)&lt;br/&gt;
	at org.apache.felix.framework.ServiceRegistry.unregisterService(ServiceRegistry.java:148)&lt;br/&gt;
	at org.apache.felix.framework.ServiceRegistrationImpl.unregister(ServiceRegistrationImpl.java:127)&lt;br/&gt;
	at org.apache.sling.servlets.resolver.internal.SlingServletResolver.destroyServlet(SlingServletResolver.java:1050)&lt;br/&gt;
	at org.apache.sling.servlets.resolver.internal.SlingServletResolver.destroyAllServlets(SlingServletResolver.java:1039)&lt;br/&gt;
	at org.apache.sling.servlets.resolver.internal.SlingServletResolver.deactivate(SlingServletResolver.java:921)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at org.apache.felix.scr.impl.helper.BaseMethod.invokeMethod(BaseMethod.java:236)&lt;br/&gt;
	at org.apache.felix.scr.impl.helper.BaseMethod.access$500(BaseMethod.java:37)&lt;br/&gt;
	at org.apache.felix.scr.impl.helper.BaseMethod$Resolved.invoke(BaseMethod.java:613)&lt;br/&gt;
	at org.apache.felix.scr.impl.helper.BaseMethod.invoke(BaseMethod.java:496)&lt;br/&gt;
	at org.apache.felix.scr.impl.helper.ActivateMethod.invoke(ActivateMethod.java:149)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.ImmediateComponentManager.disposeImplementationObject(ImmediateComponentManager.java:286)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.ImmediateComponentManager.deleteComponent(ImmediateComponentManager.java:160)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.AbstractComponentManager$Active.ungetService(AbstractComponentManager.java:1661)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.ImmediateComponentManager.ungetService(ImmediateComponentManager.java:717)&lt;br/&gt;
	at org.apache.felix.framework.ServiceRegistrationImpl.ungetFactoryUnchecked(ServiceRegistrationImpl.java:349)&lt;br/&gt;
	at org.apache.felix.framework.ServiceRegistrationImpl.ungetService(ServiceRegistrationImpl.java:258)&lt;br/&gt;
	at org.apache.felix.framework.ServiceRegistry.ungetService(ServiceRegistry.java:389)&lt;br/&gt;
	at org.apache.felix.framework.Felix.ungetService(Felix.java:3502)&lt;br/&gt;
	at org.apache.felix.framework.BundleContextImpl.ungetService(BundleContextImpl.java:486)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.DependencyManager.ungetService(DependencyManager.java:961)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.DependencyManager.serviceRemoved(DependencyManager.java:534)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.DependencyManager.serviceChanged(DependencyManager.java:274)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.invokeServiceListenerCallback(EventDispatcher.java:932)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.fireEventImmediately(EventDispatcher.java:793)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.fireServiceEvent(EventDispatcher.java:543)&lt;br/&gt;
	at org.apache.felix.framework.Felix.fireServiceEvent(Felix.java:4335)&lt;br/&gt;
	at org.apache.felix.framework.Felix.access$000(Felix.java:74)&lt;br/&gt;
	at org.apache.felix.framework.Felix$1.serviceChanged(Felix.java:390)&lt;br/&gt;
	at org.apache.felix.framework.ServiceRegistry.unregisterService(ServiceRegistry.java:148)&lt;br/&gt;
	at org.apache.felix.framework.ServiceRegistrationImpl.unregister(ServiceRegistrationImpl.java:127)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.unregisterComponentService(AbstractComponentManager.java:702)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.AbstractComponentManager$State.doDeactivate(AbstractComponentManager.java:1301)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.AbstractComponentManager$Satisfied.deactivate(AbstractComponentManager.java:1599)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.AbstractComponentManager.deactivateInternal(AbstractComponentManager.java:555)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.DependencyManager.serviceRemoved(DependencyManager.java:451)&lt;br/&gt;
	at org.apache.felix.scr.impl.manager.DependencyManager.serviceChanged(DependencyManager.java:274)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.invokeServiceListenerCallback(EventDispatcher.java:932)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.fireEventImmediately(EventDispatcher.java:793)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.fireServiceEvent(EventDispatcher.java:543)&lt;br/&gt;
	at org.apache.felix.framework.Felix.fireServiceEvent(Felix.java:4335)&lt;br/&gt;
	at org.apache.felix.framework.Felix.access$000(Felix.java:74)&lt;br/&gt;
	at org.apache.felix.framework.Felix$1.serviceChanged(Felix.java:390)&lt;br/&gt;
	at org.apache.felix.framework.ServiceRegistry.unregisterService(ServiceRegistry.java:148)&lt;br/&gt;
	at org.apache.felix.framework.ServiceRegistrationImpl.unregister(ServiceRegistrationImpl.java:127)&lt;br/&gt;
	at org.apache.sling.resourceresolver.impl.ResourceResolverFactoryActivator.unregisterFactory(ResourceResolverFactoryActivator.java:302)&lt;br/&gt;
	at org.apache.sling.resourceresolver.impl.ResourceResolverFactoryActivator.checkFactoryPreconditions(ResourceResolverFactoryActivator.java:331)&lt;br/&gt;
	at org.apache.sling.resourceresolver.impl.ResourceResolverFactoryActivator.unbindResourceProviderFactory(ResourceResolverFactoryActivator.java:371)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12628918">SLING-2713</key>
            <summary>java.lang.IllegalStateException: Service already unregistered during unregistering of resource resolver</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Wed, 23 Jan 2013 17:03:54 +0000</created>
                <updated>Fri, 15 Feb 2013 07:35:41 +0000</updated>
                            <resolved>Wed, 23 Jan 2013 17:08:53 +0000</resolved>
                                    <version>Resource Resolver 1.0.0</version>
                                    <fixVersion>Resource Resolver 1.0.4</fixVersion>
                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>308414</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 41 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1c7c7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>279319</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2711] JcrResourceProvider.delete always throws PersistenceException</title>
                <link>https://issues.apache.org/jira/browse/SLING-2711</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The JcrResourceProvider.delete method always throws a PersistenceException regardless of whether removal succeeded or not.&lt;/p&gt;

&lt;p&gt;In any case an exception must not be thrown if the item has been removed. The question is whether an exception should be thrown if the item does not exist or is not visible ? Maybe the delete method should just silently terminate since the goal is to not have the item any longer after delete and if this is already the case before, this might be considered success ?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12628511">SLING-2711</key>
            <summary>JcrResourceProvider.delete always throws PersistenceException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Mon, 21 Jan 2013 06:26:24 +0000</created>
                <updated>Fri, 15 Feb 2013 07:36:18 +0000</updated>
                            <resolved>Mon, 21 Jan 2013 07:43:06 +0000</resolved>
                                    <version>JCR Resource 2.2.2</version>
                                    <fixVersion>JCR Resource 2.2.4</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13558581" author="asanso" created="Mon, 21 Jan 2013 07:13:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fmeschbe&quot; class=&quot;user-hover&quot; rel=&quot;fmeschbe&quot;&gt;fmeschbe&lt;/a&gt; looks like a duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2709&quot; title=&quot;JcrResourceProvider.delete throws PersistenceException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2709&quot;&gt;&lt;del&gt;SLING-2709&lt;/del&gt;&lt;/a&gt; to me &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; isn&apos;t it?&lt;/p&gt;</comment>
                            <comment id="13558624" author="fmeschbe" created="Mon, 21 Jan 2013 08:48:58 +0000"  >&lt;p&gt;ACK. Thanks.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12627649">SLING-2709</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>306437</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 41 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i19oin:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>264606</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2709] JcrResourceProvider.delete throws PersistenceException</title>
                <link>https://issues.apache.org/jira/browse/SLING-2709</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;JcrResourceProvider.delete always throws a PersistentException, regardless of the success of the delete operation. This change was introduced in Rev. 1361122 (&lt;a href=&quot;http://svn.apache.org/viewvc/sling/trunk/bundles/jcr/resource/src/main/java/org/apache/sling/jcr/resource/internal/helper/jcr/JcrResourceProvider.java?r1=1360715&amp;amp;r2=1361122&amp;amp;diff_format=h&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc/sling/trunk/bundles/jcr/resource/src/main/java/org/apache/sling/jcr/resource/internal/helper/jcr/JcrResourceProvider.java?r1=1360715&amp;amp;r2=1361122&amp;amp;diff_format=h&lt;/a&gt;) and looks like an unintended change to me.&lt;/p&gt;</description>
                <environment>independent of environment</environment>
        <key id="12627649">SLING-2709</key>
            <summary>JcrResourceProvider.delete throws PersistenceException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="mirko@zeiban.de">Mirko Zeibig</reporter>
                        <labels>
                    </labels>
                <created>Tue, 15 Jan 2013 14:12:29 +0000</created>
                <updated>Fri, 15 Feb 2013 07:36:18 +0000</updated>
                            <resolved>Mon, 21 Jan 2013 07:48:02 +0000</resolved>
                                    <version>JCR Resource 2.2.2</version>
                                    <fixVersion>JCR Resource 2.2.4</fixVersion>
                                    <component>JCR</component>
                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13556203" author="asanso" created="Thu, 17 Jan 2013 14:24:39 +0000"  >&lt;p&gt;Hi Mirko,&lt;/p&gt;

&lt;p&gt;to me looks you are right. looks like something unintended to always throws exception&lt;/p&gt;</comment>
                            <comment id="13557095" author="asanso" created="Fri, 18 Jan 2013 09:53:39 +0000"  >&lt;p&gt;attaching integration test showing the issue.&lt;/p&gt;

&lt;p&gt;Thanks mirko for spotting it&lt;/p&gt;</comment>
                            <comment id="13558594" author="cziegeler" created="Mon, 21 Jan 2013 07:48:02 +0000"  >&lt;p&gt;Thanks for reporting, I&apos;ve fixed this in trunk now: the exception is only thrown if an error occurs or the node/resource does not exist&lt;/p&gt;</comment>
                            <comment id="13558609" author="asanso" created="Mon, 21 Jan 2013 08:19:57 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; , for adding integration tests should we use a different JIRA?&lt;/p&gt;</comment>
                            <comment id="13558655" author="cziegeler" created="Mon, 21 Jan 2013 09:43:06 +0000"  >&lt;p&gt;Ah right, forgot to commit that &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; I&apos;ve added a slightly modified version to our integration tests.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12628511">SLING-2711</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12565454" name="sling-2709-it.txt" size="8662" author="asanso" created="Fri, 18 Jan 2013 09:53:39 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>304435</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 41 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i17mhz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>252614</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2708] ResourceUtil.isA() fails for adapted Resources unless user is admin</title>
                <link>https://issues.apache.org/jira/browse/SLING-2708</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Summary - adapting a Resource to a specified type, loses the ability to test the Resources super types using ResourceUtil.isA(), UNLESS user is admin&lt;/p&gt;

&lt;p&gt;1. TypeA is defined as:&lt;br/&gt;
class TypeA {&lt;br/&gt;
    private Resource res;&lt;br/&gt;
    public boolean isTypeB()&lt;/p&gt;
{
        return ResourceUtil.isA(res, &quot;some/type&quot;);
    }
&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;2. TypeA adapter is an AdapterFactory to adapt Resource -&amp;gt; TypeA&lt;/p&gt;

&lt;p&gt;3. /some/res/path is a resource whose sling:resourceSuperType 2 levels up is &quot;/apps/some/type&quot;&lt;/p&gt;

&lt;p&gt;4. In a JSP, we use code like:&lt;br/&gt;
TypeA typeA = resource.adaptTo(TypeA)&lt;br/&gt;
if (!typeA.isTypeB()){&lt;br/&gt;
    //FAIL: typeA.isTypeB() is actually true&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;Note that:&lt;br/&gt;
ResourceUtil.isA(resource, &quot;some/type&quot;) == true&lt;br/&gt;
but&lt;br/&gt;
ResourceUtil.isA(typeA.resource, &quot;some/type&quot;) == false&lt;br/&gt;
(unless user is admin)&lt;/p&gt;



</description>
                <environment></environment>
        <key id="12627126">SLING-2708</key>
            <summary>ResourceUtil.isA() fails for adapted Resources unless user is admin</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="tysonnorris">Tyson Norris</reporter>
                        <labels>
                    </labels>
                <created>Fri, 11 Jan 2013 05:04:55 +0000</created>
                <updated>Thu, 18 Apr 2013 14:12:29 +0000</updated>
                            <resolved>Tue, 26 Feb 2013 12:22:55 +0000</resolved>
                                                    <fixVersion>Resource Resolver 1.0.6</fixVersion>
                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="13550829" author="tysonnorris" created="Fri, 11 Jan 2013 05:10:31 +0000"  >&lt;p&gt;I think other Resource methods may expose Resource objects that have similar behavior &lt;/p&gt;

&lt;p&gt;e.g. parent Resource can be tested for super types in ResourceUtil.isA(), but resource returned via parent.getChildren() probably cannot tested for super types.&lt;/p&gt;

&lt;p&gt;I haven&apos;t tested this yet though.&lt;/p&gt;</comment>
                            <comment id="13550844" author="tysonnorris" created="Fri, 11 Jan 2013 05:38:15 +0000"  >&lt;p&gt;I&apos;m not sure how to avoid this, other than isolating a service with proper admin rights just for testing super types.  Changing SlingAdaptable to provide the decorated resource to an AdapterFactory sounds appealing, but I&apos;m not sure if or how that could be done.&lt;/p&gt;</comment>
                            <comment id="13550915" author="fmeschbe" created="Fri, 11 Jan 2013 07:19:40 +0000"  >&lt;p&gt;&amp;gt; Note that:&lt;br/&gt;
&amp;gt; ResourceUtil.isA(resource, &quot;some/type&quot;) == true&lt;br/&gt;
&amp;gt; but&lt;br/&gt;
&amp;gt; ResourceUtil.isA(typeA.resource, &quot;some/type&quot;) == false&lt;br/&gt;
&amp;gt; (unless user is admin)&lt;/p&gt;

&lt;p&gt;The only explanation I can come up with for this behaviour is that resource and typeA.resource are not the same. Can you find out, what resources these are ?&lt;/p&gt;

&lt;p&gt;Also: What exactly does your AdapterFactory do ? I would assume the AdapterFactory just does a &quot;new TypeA(resource)&quot; for the resource given to adapt. If not, this might explain the behaviour.&lt;/p&gt;</comment>
                            <comment id="13550935" author="tysonnorris" created="Fri, 11 Jan 2013 07:39:44 +0000"  >&lt;p&gt;I think the reason the super type test works for unadapted Resource is that SlingServletResolver creates a ResourceWrapper with an admin resolver, so the admin resolver has visibility of the super types. &lt;br/&gt;
However it when the wrapped Resource adaptTo() is called, it delegates to the non-wrapped resource, and ultimately it is the non-wrapped resource that ends up at the AdapterFactory, without any admin resolver to use for testing super types. &lt;/p&gt;

&lt;p&gt;For now I added the same decorating (as in SlingServletResolver) to my AdapterFactory, passing the wrapped Resource to my adaptertype, and it works, but I think there may still some oddities if you ever get the children of the resource that was wrapped, etc.&lt;/p&gt;</comment>
                            <comment id="13551050" author="fmeschbe" created="Fri, 11 Jan 2013 11:22:22 +0000"  >&lt;p&gt;This is an access control problem which we cannot solve in the Resoure or ResourceUtil.isA method: Since resource types are actually paths in the repository (most of the time), they may be protected by ACL and thus not visible.&lt;/p&gt;</comment>
                            <comment id="13551357" author="tysonnorris" created="Fri, 11 Jan 2013 18:28:17 +0000"  >&lt;p&gt;How about making it more clean in ResourceUtil that type testing needs special handling? &lt;/p&gt;

&lt;p&gt;Some new methods:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; Resource decorateForTypeTesting(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Resource resource, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; ResourceResolver resolver){
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ResourceWrapper(resource) {
            @Override
            &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isResourceType(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; type) {
                &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; ResourceUtil.isA(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; AbstractResource() {

                    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; getResourceType() {
                        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; resource.getResourceType();
                    }

                    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; getResourceSuperType() {
                        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; resource.getResourceSuperType();
                    }

                    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; ResourceResolver getResourceResolver() {
                        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; resolver;
                    }

                    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; ResourceMetadata getResourceMetadata() {
                        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; resource.getResourceMetadata();
                    }

                    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; getPath() {
                        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; resource.getPath();
                    }
                }, type);
            }
        };
    }
    
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isA(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Resource resource, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; ResourceResolver resolver, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; resourceType) {
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (resource == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; || resourceType == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
        }
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; decorateForTypeTesting(resource, resolver).isResourceType(resourceType);
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The decorateForTypeTesting() method could be used within SlingServletResolver.decorate()&lt;/p&gt;</comment>
                            <comment id="13558599" author="cziegeler" created="Mon, 21 Jan 2013 07:54:16 +0000"  >&lt;p&gt;I have no good idea yet how to solve this, but at first look it seems that the trick we used to make the isA() check internally using an admin resource resolver was not the best idea as this case shows it only helps in some cases. Maybe we can come up with a better solution than using a resource decorator in the first place?&lt;/p&gt;</comment>
                            <comment id="13558629" author="fmeschbe" created="Mon, 21 Jan 2013 08:58:31 +0000"  >&lt;p&gt;I think the isA check is problematic with respect to access control and repository visibility &amp;#8211; another reason why &quot;read&quot; visibility and &quot;exec&quot;-ability should not be mixed.&lt;/p&gt;

&lt;p&gt;The only solution I could come up with for the general case, would be to always use an admin resource resolver for the isA method. But how would we do that ? Or do we add a new method (probably on the ResourceUtil class), which takes a ResourceResolver and a Resource and which does the isA test with the supplied resource resolver instead of the Resource&apos;s one ?&lt;/p&gt;</comment>
                            <comment id="13558739" author="cziegeler" created="Mon, 21 Jan 2013 13:05:19 +0000"  >&lt;p&gt;Yepp, we already use the decorator to be able to use an admin resource resolver for the isA check. I think a isA check with a session/resolver which does not have the required permission is useless, so adding a isA method which takes a resource resolver does not provide a real benefit. I guess we need to come up with a better way to implement the isA method to insure that always an admin resource resolver is used (or at least one with required permissions). If we are able to come up with an implementation for the AbstractResource class, I guess we would be fine.&lt;/p&gt;</comment>
                            <comment id="13558745" author="alexander.klimetschek" created="Mon, 21 Jan 2013 13:18:05 +0000"  >&lt;p&gt;I think this isA() needs to move into a separate service, which can ensure (and hide) the use of an admin session, while not complicating things with the ResourceDecorator (which AFAICS gets added to all resource usages, even if there is no isA() use &quot;on&quot; them).&lt;/p&gt;

&lt;p&gt;Something like a ResourceTypeLibrary or -Manager? Or another service that&apos;s already there?&lt;/p&gt;</comment>
                            <comment id="13574433" author="jsedding" created="Fri, 8 Feb 2013 12:51:16 +0000"  >&lt;p&gt;I have implemented a possible solution based on the adapter functionality, see attached patch. In a nutshell, the resource can be adapted to an immutable EffectiveResourceType object, which internally holds a list of all resource-types in the inheritance chain of the resource.&lt;/p&gt;

&lt;p&gt;As Carsten suggested, this functionality is used in AbstractResource via adaptTo(EffectiveResourceType.class).&lt;/p&gt;

&lt;p&gt;This moves the implementation to a dedicated service, like Alex said, namely the AdapterFactory.&lt;/p&gt;

&lt;p&gt;Furthermore, I decided that resource-types are mostly related to script resolution and it would probably be sensible to (re)use the script-user configured for the SlingServletResolver. I believe that having a consistent view on the resource-types and scripts is beneficial. Also, the ResourceDecorator approach seems to follow the same rationale. In order not to overload the SlingServletResolver, this functionality mostly resides in the EffectiveResourceTypeFactory, which is created by the SlingServletResolver.&lt;/p&gt;

&lt;p&gt;I&apos;m not sure if the addition of the EffectiveResourceType interface to o.a.sling.api is desirable, however, adding it to another package would create a dependency. Maybe the EffectiveResourceType could also be made more useful. At the moment it is very simple and only solves the &quot;isA&quot; use-case.&lt;/p&gt;</comment>
                            <comment id="13574565" author="jsedding" created="Fri, 8 Feb 2013 16:00:14 +0000"  >&lt;p&gt;I just realized there was a bug in my previous patch. A new version of the patch is attached, which should fix the issue. &lt;/p&gt;</comment>
                            <comment id="13587066" author="cziegeler" created="Tue, 26 Feb 2013 12:22:55 +0000"  >&lt;p&gt;As we have changed the whole handling now, I think we can set this to fixed as well&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12633424">SLING-2739</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12568589" name="SLING-2708-using-adaptTo.patch" size="18489" author="jsedding" created="Fri, 8 Feb 2013 16:00:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>303895</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 36 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i17gqf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>251680</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2705] I18n filter not called for error scripts</title>
                <link>https://issues.apache.org/jira/browse/SLING-2705</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I18n cannot be used in error handlers such as a 404.jsp as the I18nFilter does not have the ERROR scope:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://svn.apache.org/repos/asf/sling/trunk/contrib/extensions/i18n/src/main/java/org/apache/sling/i18n/impl/I18NFilter.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/repos/asf/sling/trunk/contrib/extensions/i18n/src/main/java/org/apache/sling/i18n/impl/I18NFilter.java&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12626553">SLING-2705</key>
            <summary>I18n filter not called for error scripts</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="justinedelson">Justin Edelson</assignee>
                                    <reporter username="alexander.klimetschek">Alexander Klimetschek</reporter>
                        <labels>
                    </labels>
                <created>Tue, 8 Jan 2013 14:05:13 +0000</created>
                <updated>Fri, 19 Sep 2014 09:18:44 +0000</updated>
                            <resolved>Tue, 8 Jan 2013 23:44:59 +0000</resolved>
                                    <version>i18n 2.2.4</version>
                                    <fixVersion>i18n 2.2.6</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13547426" author="justinedelson" created="Tue, 8 Jan 2013 23:44:59 +0000"  >&lt;p&gt;fixed in r1430633&lt;/p&gt;</comment>
                            <comment id="13547793" author="alexander.klimetschek" created="Wed, 9 Jan 2013 09:30:15 +0000"  >&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12742678">SLING-3954</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>303160</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 43 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i178d3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>250323</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2704] NPE in JspScriptEngineFactory in case JSP bundle restart while servicing request</title>
                <link>https://issues.apache.org/jira/browse/SLING-2704</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If a jsp perform some operation (some admin function) which results in restart of various bundle then its possible that org.apache.sling.scripting.jsp bundle also gets restarted. Due to which following NPE is seen in logs. This happens because the &apos;jspFactoryHandler&apos; in JspScriptEngineFactory becomes null by the time service call returns (due to component deactivation)&lt;/p&gt;

&lt;p&gt;A simple fix might be to create a local copy of jspFactoryHandler and use that (Thanks to Felix for suggesting this!!). Would attach a patch also with the fix&lt;/p&gt;

&lt;p&gt;Uncaught SlingException java.lang.NullPointerException&lt;br/&gt;
	at org.apache.sling.scripting.jsp.JspScriptEngineFactory.callJsp(JspScriptEngineFactory.java:243)&lt;br/&gt;
	at org.apache.sling.scripting.jsp.JspScriptEngineFactory.access$100(JspScriptEngineFactory.java:86)&lt;br/&gt;
	at org.apache.sling.scripting.jsp.JspScriptEngineFactory$JspScriptEngine.eval(JspScriptEngineFactory.java:441)&lt;br/&gt;
	at org.apache.sling.scripting.core.impl.DefaultSlingScript.call(DefaultSlingScript.java:361)&lt;br/&gt;
	at org.apache.sling.scripting.core.impl.DefaultSlingScript.eval(DefaultSlingScript.java:171)&lt;br/&gt;
	at org.apache.sling.scripting.core.impl.DefaultSlingScript.service(DefaultSlingScript.java:463)&lt;br/&gt;
	at org.apache.sling.engine.impl.request.RequestData.service(RequestData.java:508)&lt;br/&gt;
	at org.apache.sling.engine.impl.filter.SlingComponentFilterChain.render(SlingComponentFilterChain.java:45)&lt;br/&gt;
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:64)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12626549">SLING-2704</key>
            <summary>NPE in JspScriptEngineFactory in case JSP bundle restart while servicing request</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="chetanm">Chetan Mehrotra</reporter>
                        <labels>
                    </labels>
                <created>Tue, 8 Jan 2013 13:20:45 +0000</created>
                <updated>Thu, 16 May 2013 13:55:04 +0000</updated>
                            <resolved>Tue, 22 Jan 2013 13:50:23 +0000</resolved>
                                    <version>Scripting JSP 2.0.26</version>
                                    <fixVersion>Scripting JSP 2.0.28</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13546885" author="chetanm" created="Tue, 8 Jan 2013 13:37:25 +0000"  >&lt;p&gt;Patch which stores the instance variables in local variables so as to avoid them getting nullified in component deactivation&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12563750" name="SLING-2704.patch" size="3444" author="chetanm" created="Tue, 8 Jan 2013 13:37:25 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>303156</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 43 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i178c7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>250319</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2703] [SlingPostServlet] PathNotFoundException logged when uploading file using slingpostservlet</title>
                <link>https://issues.apache.org/jira/browse/SLING-2703</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The nt:file node along with content is created successfully. &lt;/p&gt;

&lt;p&gt;Complete exception trace:&lt;br/&gt;
03.01.2013 18:40:53.686 &lt;b&gt;INFO&lt;/b&gt; [127.0.0.1 &lt;span class=&quot;error&quot;&gt;&amp;#91;1357218653685&amp;#93;&lt;/span&gt; POST /content/page HTTP/1.1] org.apache.sling.jcr.resource.internal.helper.jcr.JcrNodeResource setMetaData: Problem extracting metadata information for /content/page/image javax.jcr.PathNotFoundException: jcr:content&lt;br/&gt;
	at org.apache.jackrabbit.core.NodeImpl$8.perform(NodeImpl.java:2151)&lt;br/&gt;
	at org.apache.jackrabbit.core.NodeImpl$8.perform(NodeImpl.java:2145)&lt;br/&gt;
	at org.apache.jackrabbit.core.session.SessionState.perform(SessionState.java:216)&lt;br/&gt;
	at org.apache.jackrabbit.core.ItemImpl.perform(ItemImpl.java:91)&lt;br/&gt;
	at org.apache.jackrabbit.core.NodeImpl.getNode(NodeImpl.java:2145)&lt;br/&gt;
	at org.apache.sling.jcr.resource.internal.helper.jcr.JcrNodeResource.setMetaData(JcrNodeResource.java:276)&lt;br/&gt;
	at org.apache.sling.jcr.resource.internal.helper.jcr.JcrNodeResource.&amp;lt;init&amp;gt;(JcrNodeResource.java:97)&lt;br/&gt;
	at org.apache.sling.jcr.resource.internal.helper.jcr.JcrResourceProvider.create(JcrResourceProvider.java:421)&lt;br/&gt;
	at org.apache.sling.resourceresolver.impl.ResourceResolverImpl.create(ResourceResolverImpl.java:1063)&lt;br/&gt;
	at org.apache.sling.servlets.post.impl.helper.SlingFileUploadHandler.createWithChanges(SlingFileUploadHandler.java:305)&lt;br/&gt;
	at org.apache.sling.servlets.post.impl.helper.SlingFileUploadHandler.getOrCreateChildResource(SlingFileUploadHandler.java:287)&lt;br/&gt;
	at org.apache.sling.servlets.post.impl.helper.SlingFileUploadHandler.setFile(SlingFileUploadHandler.java:144)&lt;br/&gt;
	at org.apache.sling.servlets.post.impl.helper.SlingFileUploadHandler.setFile(SlingFileUploadHandler.java:269)&lt;br/&gt;
	at org.apache.sling.servlets.post.impl.operations.ModifyOperation.writeContent(ModifyOperation.java:409)&lt;br/&gt;
	at org.apache.sling.servlets.post.impl.operations.ModifyOperation.doRun(ModifyOperation.java:101)&lt;br/&gt;
	at org.apache.sling.servlets.post.AbstractPostOperation.run(AbstractPostOperation.java:92)&lt;br/&gt;
	at org.apache.sling.servlets.post.impl.SlingPostServlet.doPost(SlingPostServlet.java:202)&lt;br/&gt;
	at org.apache.sling.api.servlets.SlingAllMethodsServlet.mayService(SlingAllMethodsServlet.java:148)&lt;br/&gt;
	at org.apache.sling.api.servlets.SlingSafeMethodsServlet.service(SlingSafeMethodsServlet.java:344)&lt;br/&gt;
	at org.apache.sling.api.servlets.SlingSafeMethodsServlet.service(SlingSafeMethodsServlet.java:375)&lt;br/&gt;
	at org.apache.sling.engine.impl.request.RequestData.service(RequestData.java:508)&lt;br/&gt;
	at org.apache.sling.engine.impl.filter.SlingComponentFilterChain.render(SlingComponentFilterChain.java:45)&lt;br/&gt;
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:64)&lt;br/&gt;
	at com.day.cq.wcm.core.impl.WCMDebugFilter.doFilter(WCMDebugFilter.java:148)&lt;br/&gt;
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:60)&lt;br/&gt;
	at com.day.cq.wcm.core.impl.WCMComponentFilter.filterRootInclude(WCMComponentFilter.java:333)&lt;br/&gt;
	at com.day.cq.wcm.core.impl.WCMComponentFilter.doFilter(WCMComponentFilter.java:160)&lt;br/&gt;
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:60)&lt;br/&gt;
	at org.apache.sling.engine.impl.SlingRequestProcessorImpl.processComponent(SlingRequestProcessorImpl.java:254)&lt;br/&gt;
	at org.apache.sling.engine.impl.filter.RequestSlingFilterChain.render(RequestSlingFilterChain.java:49)&lt;br/&gt;
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:64)&lt;br/&gt;
	at com.day.cq.wcm.core.impl.warp.TimeWarpFilter.doFilter(TimeWarpFilter.java:106)&lt;br/&gt;
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:60)&lt;br/&gt;
	at com.day.cq.wcm.mobile.core.impl.redirect.RedirectFilter.doFilter(RedirectFilter.java:290)&lt;br/&gt;
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:60)&lt;br/&gt;
	at org.apache.sling.engine.impl.debug.RequestProgressTrackerLogFilter.doFilter(RequestProgressTrackerLogFilter.java:59)&lt;br/&gt;
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:60)&lt;br/&gt;
	at com.day.cq.wcm.foundation.forms.impl.FormsHandlingServlet.doFilter(FormsHandlingServlet.java:220)&lt;br/&gt;
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:60)&lt;br/&gt;
	at com.day.cq.theme.impl.ThemeResolverFilter.doFilter(ThemeResolverFilter.java:76)&lt;br/&gt;
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:60)&lt;br/&gt;
	at com.adobe.granite.optout.impl.OptOutFilter.doFilter(OptOutFilter.java:74)&lt;br/&gt;
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:60)&lt;br/&gt;
	at com.day.cq.wcm.core.impl.WCMRequestFilter.doFilter(WCMRequestFilter.java:90)&lt;br/&gt;
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:60)&lt;br/&gt;
	at com.day.cq.wcm.designimporter.CanvasPageDeleteRequestFilter.doFilter(CanvasPageDeleteRequestFilter.java:87)&lt;br/&gt;
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:60)&lt;br/&gt;
	at org.apache.sling.rewriter.impl.RewriterFilter.doFilter(RewriterFilter.java:83)&lt;br/&gt;
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:60)&lt;br/&gt;
	at org.apache.sling.i18n.impl.I18NFilter.doFilter(I18NFilter.java:127)&lt;br/&gt;
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:60)&lt;br/&gt;
	at org.apache.sling.bgservlets.impl.BackgroundServletStarterFilter.doFilter(BackgroundServletStarterFilter.java:135)&lt;br/&gt;
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:60)&lt;br/&gt;
	at org.apache.sling.engine.impl.SlingRequestProcessorImpl.processRequest(SlingRequestProcessorImpl.java:151)&lt;br/&gt;
	at org.apache.sling.engine.impl.SlingMainServlet.service(SlingMainServlet.java:206)&lt;br/&gt;
	at org.apache.felix.http.base.internal.handler.ServletHandler.doHandle(ServletHandler.java:96)&lt;br/&gt;
	at org.apache.felix.http.base.internal.handler.ServletHandler.handle(ServletHandler.java:79)&lt;br/&gt;
	at org.apache.felix.http.base.internal.dispatch.ServletPipeline.handle(ServletPipeline.java:42)&lt;br/&gt;
	at org.apache.felix.http.base.internal.dispatch.InvocationFilterChain.doFilter(InvocationFilterChain.java:49)&lt;br/&gt;
	at org.apache.felix.http.base.internal.dispatch.HttpFilterChain.doFilter(HttpFilterChain.java:33)&lt;br/&gt;
	at org.apache.sling.i18n.impl.I18NFilter.doFilter(I18NFilter.java:127)&lt;br/&gt;
	at org.apache.felix.http.base.internal.handler.FilterHandler.doHandle(FilterHandler.java:88)&lt;br/&gt;
	at org.apache.felix.http.base.internal.handler.FilterHandler.handle(FilterHandler.java:76)&lt;br/&gt;
	at org.apache.felix.http.base.internal.dispatch.InvocationFilterChain.doFilter(InvocationFilterChain.java:47)&lt;br/&gt;
	at org.apache.felix.http.base.internal.dispatch.HttpFilterChain.doFilter(HttpFilterChain.java:33)&lt;br/&gt;
	at com.adobe.granite.license.impl.LicenseCheckFilter.doFilter(LicenseCheckFilter.java:179)&lt;br/&gt;
	at org.apache.felix.http.base.internal.handler.FilterHandler.doHandle(FilterHandler.java:88)&lt;br/&gt;
	at org.apache.felix.http.base.internal.handler.FilterHandler.handle(FilterHandler.java:76)&lt;br/&gt;
	at org.apache.felix.http.base.internal.dispatch.InvocationFilterChain.doFilter(InvocationFilterChain.java:47)&lt;br/&gt;
	at org.apache.felix.http.base.internal.dispatch.HttpFilterChain.doFilter(HttpFilterChain.java:33)&lt;br/&gt;
	at org.apache.sling.security.impl.ReferrerFilter.doFilter(ReferrerFilter.java:259)&lt;br/&gt;
	at org.apache.felix.http.base.internal.handler.FilterHandler.doHandle(FilterHandler.java:88)&lt;br/&gt;
	at org.apache.felix.http.base.internal.handler.FilterHandler.handle(FilterHandler.java:76)&lt;br/&gt;
	at org.apache.felix.http.base.internal.dispatch.InvocationFilterChain.doFilter(InvocationFilterChain.java:47)&lt;br/&gt;
	at org.apache.felix.http.base.internal.dispatch.HttpFilterChain.doFilter(HttpFilterChain.java:33)&lt;br/&gt;
	at org.apache.felix.http.sslfilter.internal.SslFilter.doFilter(SslFilter.java:55)&lt;br/&gt;
	at org.apache.felix.http.base.internal.handler.FilterHandler.doHandle(FilterHandler.java:88)&lt;br/&gt;
	at org.apache.felix.http.base.internal.handler.FilterHandler.handle(FilterHandler.java:76)&lt;br/&gt;
	at org.apache.felix.http.base.internal.dispatch.InvocationFilterChain.doFilter(InvocationFilterChain.java:47)&lt;br/&gt;
	at org.apache.felix.http.base.internal.dispatch.HttpFilterChain.doFilter(HttpFilterChain.java:33)&lt;br/&gt;
	at org.apache.sling.engine.impl.log.RequestLoggerFilter.doFilter(RequestLoggerFilter.java:75)&lt;br/&gt;
	at org.apache.felix.http.base.internal.handler.FilterHandler.doHandle(FilterHandler.java:88)&lt;br/&gt;
	at org.apache.felix.http.base.internal.handler.FilterHandler.handle(FilterHandler.java:76)&lt;br/&gt;
	at org.apache.felix.http.base.internal.dispatch.InvocationFilterChain.doFilter(InvocationFilterChain.java:47)&lt;br/&gt;
	at org.apache.felix.http.base.internal.dispatch.HttpFilterChain.doFilter(HttpFilterChain.java:33)&lt;br/&gt;
	at org.apache.felix.http.base.internal.dispatch.FilterPipeline.dispatch(FilterPipeline.java:48)&lt;br/&gt;
	at org.apache.felix.http.base.internal.dispatch.Dispatcher.dispatch(Dispatcher.java:39)&lt;br/&gt;
	at org.apache.felix.http.base.internal.DispatcherServlet.service(DispatcherServlet.java:67)&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)&lt;br/&gt;
	at com.day.j2ee.servletengine.ServletRuntimeEnvironment.service(ServletRuntimeEnvironment.java:250)&lt;br/&gt;
	at com.day.j2ee.servletengine.RequestDispatcherImpl.doFilter(RequestDispatcherImpl.java:321)&lt;br/&gt;
	at com.day.j2ee.servletengine.RequestDispatcherImpl.service(RequestDispatcherImpl.java:340)&lt;br/&gt;
	at com.day.j2ee.servletengine.RequestDispatcherImpl.service(RequestDispatcherImpl.java:383)&lt;br/&gt;
	at com.day.j2ee.servletengine.ServletHandlerImpl.process(ServletHandlerImpl.java:360)&lt;br/&gt;
	at com.day.j2ee.servletengine.HttpListener$Worker.run(HttpListener.java:644)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:662)&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12625850">SLING-2703</key>
            <summary>[SlingPostServlet] PathNotFoundException logged when uploading file using slingpostservlet</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="shgupta">Shashank Gupta</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 Jan 2013 13:34:53 +0000</created>
                <updated>Fri, 10 May 2013 05:56:08 +0000</updated>
                            <resolved>Tue, 30 Apr 2013 16:49:53 +0000</resolved>
                                    <version>JCR Resource 2.2.6</version>
                                    <fixVersion>JCR Resource 2.2.8</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13542944" author="bdelacretaz" created="Thu, 3 Jan 2013 14:05:22 +0000"  >&lt;p&gt;Looking at the code, this would happen if there&apos;s an nt:file node at /content/page/image that does not have a jcr:content child node.&lt;/p&gt;

&lt;p&gt;What&apos;s the output of curl &lt;a href=&quot;http://localhost:PORT/content/page/image.tidy.5.json&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:PORT/content/page/image.tidy.5.json&lt;/a&gt; before you do your POST?&lt;/p&gt;</comment>
                            <comment id="13542976" author="shgupta" created="Thu, 3 Jan 2013 15:14:24 +0000"  >&lt;p&gt;in my case the path that exist before post is till /content. page (sling:orderedFolder) and image(nt:file) nodes are created in post invocation. even if i try to create nt:file under /content same exception is logged. &lt;/p&gt;</comment>
                            <comment id="13542986" author="bdelacretaz" created="Thu, 3 Jan 2013 15:26:08 +0000"  >&lt;p&gt;Can you supply a curl command or other http request description that allows us to reproduce the problem?&lt;/p&gt;</comment>
                            <comment id="13543662" author="shgupta" created="Fri, 4 Jan 2013 07:11:35 +0000"  >&lt;p&gt;curl -X POST --user admin:admin -F &amp;lt;node_name&amp;gt;=@&amp;lt;file_path&amp;gt; &lt;a href=&quot;http://localhost:4502/content&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:4502/content&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;node_name&amp;gt; = name of nt:file node e.g. Koala.jpg&lt;br/&gt;
&amp;lt;file_path&amp;gt;=  path of file to be uploaded e.g /a/b/Koala.jpg&lt;/p&gt;

&lt;p&gt;nt:file at /content/&amp;lt;node_name&amp;gt; would be created with exception logged in logs.&lt;/p&gt;

</comment>
                            <comment id="13543717" author="bdelacretaz" created="Fri, 4 Jan 2013 09:03:14 +0000"  >&lt;p&gt;Thanks, I was able to reproduce the issue with your curl command (after deleting /content/Koala.jpg if it already exists).&lt;/p&gt;

&lt;p&gt;The exception that&apos;s logged at INFO level is harmless - the same JcrNodeResource.setMetaData method is called again later from an event handler, after creating the jcr:content node, and the metadata (mime type, creation date etc.) is set correctly which you can check by requesting /content.tidy.2.json&lt;/p&gt;

&lt;p&gt;Not sure if we need to change anything - this is only an INFO message, and it&apos;s harmless. If you have a suggestion for a better phrasing of the log message, that might help avoiding confusion. Maybe something like &quot;cannot compute metadata on {}, missing jcr:content child node&quot; would be less worrying?&lt;/p&gt;</comment>
                            <comment id="13543747" author="shgupta" created="Fri, 4 Jan 2013 09:57:45 +0000"  >&lt;p&gt;Yes it is harmless exception but given that upload file is very frequent operation, it becomes ugly. &lt;br/&gt;
Can&apos;t we distinguish between erroneous and harmless scenarios for this exception and avoid logging in harmless case( or log at debug level). &lt;br/&gt;
afaics, this exception was not logged in previous version and is introduced recently. &lt;/p&gt;</comment>
                            <comment id="13549645" author="shgupta" created="Thu, 10 Jan 2013 13:51:43 +0000"  >&lt;p&gt;imo, this issue should be resolved as it unnecessary clutter logs. &lt;/p&gt;</comment>
                            <comment id="13645713" author="cziegeler" created="Tue, 30 Apr 2013 16:49:53 +0000"  >&lt;p&gt;I changed the code to check whether the node is new (transient) or not. If it is new, it first checks whether jcr:content is available. Otherwise same behaviour as before&lt;/p&gt;

&lt;p&gt;Revision: 1477722&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>302396</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 27 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i170l3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>249062</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2702] NPE as repository class loader might not have been instantiated</title>
                <link>https://issues.apache.org/jira/browse/SLING-2702</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Some methods in the ClassLoaderWriterImpl like delete or close directly access the instance variable repositoryClassLoader which might be still null as the repository class loader might not have been needed before.&lt;br/&gt;
This results in NPEs in some cases&lt;/p&gt;

&lt;p&gt;The methods should not directly access the instance variable but use the getOrCreateClassLoader method.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12625338">SLING-2702</key>
            <summary>NPE as repository class loader might not have been instantiated</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Thu, 27 Dec 2012 15:26:30 +0000</created>
                <updated>Mon, 18 Feb 2013 13:42:44 +0000</updated>
                            <resolved>Thu, 27 Dec 2012 15:27:11 +0000</resolved>
                                    <version>JCR Classloader 3.1.10</version>
                                    <fixVersion>JCR Classloader 3.1.12</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>301880</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 44 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i16x6f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>248507</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2701] SlingAuthenticator is volatile to multithreaded auth path updates.</title>
                <link>https://issues.apache.org/jira/browse/SLING-2701</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;SlingAuthenticator has a registered listener on services that share sling.auth.requirements service attributes.&lt;br/&gt;
These paths serve as basis to PathBasedHolders that decide what request paths need to be authenticated.&lt;br/&gt;
When the listener is called from multiple threads on the same service SlingAuthenticator PathBasedHolders cache gets corrupted due to insufficient synchronization. The effect is artificial multiplication of records.&lt;br/&gt;
This patch adds synchronized block within the listener.&lt;/p&gt;
</description>
                <environment>CQ 5.4</environment>
        <key id="12624299">SLING-2701</key>
            <summary>SlingAuthenticator is volatile to multithreaded auth path updates.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="dsmogor">Dominik Smog&#243;r</reporter>
                        <labels>
                    </labels>
                <created>Mon, 17 Dec 2012 15:29:09 +0000</created>
                <updated>Mon, 7 Oct 2013 14:04:47 +0000</updated>
                            <resolved>Tue, 16 Jul 2013 09:41:03 +0000</resolved>
                                    <version>Auth Core 1.0.6</version>
                                    <fixVersion>Auth Core 1.1.4</fixVersion>
                                    <component>Authentication</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13533997" author="dsmogor" created="Mon, 17 Dec 2012 15:33:29 +0000"  >&lt;p&gt;A patch adding necessary synchrinizations.&lt;/p&gt;</comment>
                            <comment id="13628067" author="cziegeler" created="Wed, 10 Apr 2013 18:24:03 +0000"  >&lt;p&gt;I&apos;m not 100% sure but I think your patch is syncing too much and reading the current code, I think it does the right syncing. However, I recently found a bug in some other place (&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2812&quot; title=&quot;Access to handler map is not correctly synchronized&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2812&quot;&gt;&lt;del&gt;SLING-2812&lt;/del&gt;&lt;/a&gt;). Maybe your problem is related to that?&lt;br/&gt;
Or can you further explain, why a larger sync block is needed?&lt;br/&gt;
Thanks&lt;/p&gt;</comment>
                            <comment id="13676992" author="dsmogor" created="Thu, 6 Jun 2013 13:07:42 +0000"  >&lt;p&gt;I&apos;m not sure, the &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2812&quot; title=&quot;Access to handler map is not correctly synchronized&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2812&quot;&gt;&lt;del&gt;SLING-2812&lt;/del&gt;&lt;/a&gt; deals with tracking AuthenticationHandlers while this one synchronizes changes in services delivering sling.auth.requirements. The bug in question has shown up in connection with entries from CugSupportImpl service from CQ5.4, one which isn&apos;t an AuthenticationHandler.&lt;/p&gt;</comment>
                            <comment id="13677009" author="cziegeler" created="Thu, 6 Jun 2013 13:31:35 +0000"  >&lt;p&gt;Thanks Dominik, I suggest to use the new version with &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2812&quot; title=&quot;Access to handler map is not correctly synchronized&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2812&quot;&gt;&lt;del&gt;SLING-2812&lt;/del&gt;&lt;/a&gt; and if the problem persists, we can reopen this issue&lt;/p&gt;</comment>
                            <comment id="13677012" author="dsmogor" created="Thu, 6 Jun 2013 13:35:25 +0000"  >&lt;p&gt;Imagine the following: (lines valid for r1021641)&lt;br/&gt;
thread X calls serviceChanged -&amp;gt; #1451 removeService now, authReq are not any more in props but still in the cache.&lt;br/&gt;
now thread Y drops in with serviceChanged -&amp;gt; first calls removeService but the key is no longer there, then calls addService with all the keys once again. Now you have authRequs duplicated.&lt;br/&gt;
Besides, access to props should be synchronized anyway.&lt;/p&gt;</comment>
                            <comment id="13709644" author="cziegeler" created="Tue, 16 Jul 2013 09:41:03 +0000"  >&lt;p&gt;While investigating for &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2966&quot; title=&quot;Insufficient synchronization in SlingAuthenticator&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2966&quot;&gt;&lt;del&gt;SLING-2966&lt;/del&gt;&lt;/a&gt; I realized that your bug report is of course totally correct - sorry for being blind. It&apos;s now fixed as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2966&quot; title=&quot;Insufficient synchronization in SlingAuthenticator&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2966&quot;&gt;&lt;del&gt;SLING-2966&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12657953">SLING-2966</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12561298" name="authcore-SLING-2701.patch" size="2620" author="dsmogor" created="Mon, 17 Dec 2012 15:33:29 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>299072</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 16 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i15ye7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>242872</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2699] FormatFlagsConversionMismatchException in RequestHistoryConsolePlugin  with Java 7</title>
                <link>https://issues.apache.org/jira/browse/SLING-2699</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I haven&apos;t tried it myself but a colleague reports getting the below stack trace with Java7:&lt;/p&gt;

&lt;p&gt;0.10.2012 04:40:09.447 INFO [0:0:0:0:0:0:0:1 &lt;span class=&quot;error&quot;&gt;&amp;#91;1349869209447&amp;#93;&lt;/span&gt; GET /system/console/requests HTTP/1.1] servletengine Servlet threw exception: java.util.FormatFlagsConversionMismatchException: Conversion = s, Flags = #&lt;br/&gt;
at java.util.Formatter$FormatSpecifier.failMismatch(Unknown Source)&lt;br/&gt;
at java.util.Formatter$FormatSpecifier.printString(Unknown Source)&lt;br/&gt;
at java.util.Formatter$FormatSpecifier.print(Unknown Source)&lt;br/&gt;
at java.util.Formatter.format(Unknown Source)&lt;br/&gt;
at java.util.Formatter.format(Unknown Source)&lt;br/&gt;
at java.lang.String.format(Unknown Source)&lt;br/&gt;
at org.apache.sling.engine.impl.request.RequestHistoryConsolePlugin$Plugin.getLinksTable(RequestHistoryConsolePlugin.java:168)&lt;br/&gt;
at org.apache.sling.engine.impl.request.RequestHistoryConsolePlugin$Plugin.doGet(RequestHistoryConsolePlugin.java:239)&lt;/p&gt;</description>
                <environment>java version &amp;quot;1.7.0_07&amp;quot;&lt;br/&gt;
Java(TM) SE Runtime Environment (build 1.7.0_07-b11)&lt;br/&gt;
Java HotSpot(TM) 64-Bit Server VM (build 23.3-b01, mixed mode)</environment>
        <key id="12623972">SLING-2699</key>
            <summary>FormatFlagsConversionMismatchException in RequestHistoryConsolePlugin  with Java 7</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Fri, 14 Dec 2012 13:58:53 +0000</created>
                <updated>Thu, 18 Apr 2013 14:14:26 +0000</updated>
                            <resolved>Thu, 10 Jan 2013 08:22:58 +0000</resolved>
                                    <version>Engine 2.2.6</version>
                                    <fixVersion>Engine 2.2.8</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13533073" author="fmeschbe" created="Sat, 15 Dec 2012 16:26:16 +0000"  >&lt;p&gt;Looking at the code, the # flag as no effect in string arguments &amp;#8211; in fact this only may have an effect for arguments implementing the Formattable interface (which String doesn&apos;t).&lt;/p&gt;

&lt;p&gt;In Java 6 there is no effect, while in Java 7 (and current Java 8 builds), using # with an argument not implementing the Formattable interface throws an exception. Looks like this is implied by the description &quot;Depends on the definition of Formattable.&quot; in the Formatter JavaDoc.&lt;/p&gt;</comment>
                            <comment id="13549426" author="fmeschbe" created="Thu, 10 Jan 2013 08:22:58 +0000"  >&lt;p&gt;Fixed in Rev. 1431203 by removing the &apos;#&apos; from the format.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>297871</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 43 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i14vr3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>236609</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2697] ResourceWrapper.toString may return empty class name</title>
                <link>https://issues.apache.org/jira/browse/SLING-2697</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The ResourceWrapper.toString checks whether the class.getSimpleName() method returns a null value and uses the full class name in this case. For anonymous classes, though, the method returns an empty string and thus the output of a wrapped resource starts with a comma instead of a class name.&lt;/p&gt;

&lt;p&gt;Fix is to not only check for null (does this make sense at all) but for an empty string.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12623113">SLING-2697</key>
            <summary>ResourceWrapper.toString may return empty class name</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Mon, 10 Dec 2012 09:47:45 +0000</created>
                <updated>Thu, 18 Apr 2013 14:11:19 +0000</updated>
                            <resolved>Mon, 10 Dec 2012 09:50:30 +0000</resolved>
                                    <version>API 2.3.0</version>
                                    <fixVersion>API 2.4.0</fixVersion>
                                    <component>API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13527808" author="fmeschbe" created="Mon, 10 Dec 2012 09:50:30 +0000"  >&lt;p&gt;Fixed in Rev. 1419297&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>296708</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 47 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i14fe7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>233957</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2693]  ResourceUtil.isA() fails if resource has a type, whose super type is not readable </title>
                <link>https://issues.apache.org/jira/browse/SLING-2693</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2457&quot; title=&quot;ResourceUtil.isA() fails if resource has a type, whose super type is not readable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2457&quot;&gt;&lt;del&gt;SLING-2457&lt;/del&gt;&lt;/a&gt; did actually not fix this problem&lt;/p&gt;</description>
                <environment></environment>
        <key id="12618843">SLING-2693</key>
            <summary> ResourceUtil.isA() fails if resource has a type, whose super type is not readable </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Wed, 5 Dec 2012 08:43:17 +0000</created>
                <updated>Thu, 18 Apr 2013 14:13:49 +0000</updated>
                            <resolved>Wed, 5 Dec 2012 08:54:04 +0000</resolved>
                                    <version>Servlets Resolver 2.2.0</version>
                                    <fixVersion>Servlets Resolver 2.2.4</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>296102</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 48 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1461j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>232442</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2691] Correctly update mapping if a jcr:content node is removed</title>
                <link>https://issues.apache.org/jira/browse/SLING-2691</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;We have a special handling for jcr:content nodes, if an alias is defined on a jcr:content node, this alias is applied to the parent node.&lt;br/&gt;
If now the jcr:content node is removed, it currently isn&apos;t found in the alias list as only the parent is in this list.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12618564">SLING-2691</key>
            <summary>Correctly update mapping if a jcr:content node is removed</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Mon, 3 Dec 2012 13:56:35 +0000</created>
                <updated>Thu, 20 Dec 2012 06:40:08 +0000</updated>
                            <resolved>Mon, 3 Dec 2012 13:57:27 +0000</resolved>
                                    <version>Resource Resolver 1.0.0</version>
                                    <fixVersion>Resource Resolver 1.0.2</fixVersion>
                                    <component>ResourceResolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13508739" author="cziegeler" created="Mon, 3 Dec 2012 13:57:27 +0000"  >&lt;p&gt;Added a special handling for resource removal of resources with name &quot;jcr:content&quot;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>293400</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 48 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0szi7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>167229</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2690] bad log message in DefaultTransformer</title>
                <link>https://issues.apache.org/jira/browse/SLING-2690</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;org.apache.sling.installer.core.impl.DefaultTransformer appends a Object array to a String rather than passing it to slf4j.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12618389">SLING-2690</key>
            <summary>bad log message in DefaultTransformer</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="justinedelson">Justin Edelson</assignee>
                                    <reporter username="justinedelson">Justin Edelson</reporter>
                        <labels>
                    </labels>
                <created>Fri, 30 Nov 2012 22:01:08 +0000</created>
                <updated>Thu, 20 Dec 2012 06:41:44 +0000</updated>
                            <resolved>Fri, 30 Nov 2012 22:02:29 +0000</resolved>
                                    <version>Installer Core 3.4.2</version>
                                    <fixVersion>Installer Core 3.4.4</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13507693" author="justinedelson" created="Fri, 30 Nov 2012 22:02:23 +0000"  >&lt;p&gt;fixed in r1415869&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>293175</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 48 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0sum7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>166437</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2689] Document SlingServlet</title>
                <link>https://issues.apache.org/jira/browse/SLING-2689</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The @SlingServlet annotation should have some documentation on the Sling site, it seems like a better way of registering servlets.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12618388">SLING-2689</key>
            <summary>Document SlingServlet</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="klcodanr">Dan Klco</assignee>
                                    <reporter username="klcodanr">Dan Klco</reporter>
                        <labels>
                    </labels>
                <created>Fri, 30 Nov 2012 21:56:29 +0000</created>
                <updated>Thu, 2 May 2013 14:48:27 +0000</updated>
                            <resolved>Thu, 2 May 2013 14:48:27 +0000</resolved>
                                                                    <component>Documentation</component>
                    <component>Servlets</component>
                    <component>Site</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13507692" author="klcodanr" created="Fri, 30 Nov 2012 22:02:16 +0000"  >&lt;p&gt;Attaching a new copy of the page with the relevant documentation.  I also documented an unexpected feature with the SlingServletResolver where every servlet must have one of the following properties set: sling.core.servletName, component.name, service.pid or service.id&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/sling/trunk/bundles/servlets/resolver/src/main/java/org/apache/sling/servlets/resolver/internal/SlingServletResolver.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/repos/asf/sling/trunk/bundles/servlets/resolver/src/main/java/org/apache/sling/servlets/resolver/internal/SlingServletResolver.java&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13647582" author="klcodanr" created="Thu, 2 May 2013 14:48:27 +0000"  >&lt;p&gt;This was fixed by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdelacretaz&quot; class=&quot;user-hover&quot; rel=&quot;bdelacretaz&quot;&gt;bdelacretaz&lt;/a&gt; in revision 1453820&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12555572" name="SLING-2689.diff" size="9228" author="klcodanr" created="Fri, 30 Nov 2012 22:02:16 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>293174</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 26 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0sulz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>166436</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2684] Disable install to local OBR</title>
                <link>https://issues.apache.org/jira/browse/SLING-2684</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Each artifact is currently deployed to the local OBR which doesn&apos;t provide any benefit and even worse often the repository.xml is corrupted and a lot of warnings/errors are displayed&lt;/p&gt;

&lt;p&gt;So we should rather disable this by default&lt;/p&gt;</description>
                <environment></environment>
        <key id="12617950">SLING-2684</key>
            <summary>Disable install to local OBR</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Wed, 28 Nov 2012 09:18:34 +0000</created>
                <updated>Thu, 20 Dec 2012 06:41:11 +0000</updated>
                            <resolved>Wed, 28 Nov 2012 09:20:14 +0000</resolved>
                                    <version>Parent 13</version>
                                    <fixVersion>Parent 14</fixVersion>
                                    <component>General</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>292548</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 49 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0s8z3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>162930</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2683] File locations are absolute and don&apos;t work anymore if launchpad folder is moved</title>
                <link>https://issues.apache.org/jira/browse/SLING-2683</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The installer saves the full path of a data file and also the full uri of a resource.&lt;br/&gt;
If the launchpad folder is moved to a different location, this information still points to the old location which might be invalid. &lt;br/&gt;
As the new resources provided at the rendezvous point contain the new information, we can simply update the information&lt;/p&gt;</description>
                <environment></environment>
        <key id="12617945">SLING-2683</key>
            <summary>File locations are absolute and don&apos;t work anymore if launchpad folder is moved</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Wed, 28 Nov 2012 08:25:19 +0000</created>
                <updated>Thu, 20 Dec 2012 06:41:44 +0000</updated>
                            <resolved>Wed, 28 Nov 2012 08:55:38 +0000</resolved>
                                    <version>Installer Core 3.4.2</version>
                                    <fixVersion>Installer Core 3.4.4</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13505311" author="cziegeler" created="Wed, 28 Nov 2012 08:55:38 +0000"  >&lt;p&gt;Fixed - the new provided hint is used and the data store files are updated on restart&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>292528</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 49 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0s3gf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>162036</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2682] JarExecutor should take java.home into account</title>
                <link>https://issues.apache.org/jira/browse/SLING-2682</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The JarExecutor should prepend the value of the java.home system property to the name of the java executable - currently it simply executes java or java.exe and as such always gets the default JVM, even if the JarExecutor was started from a different VM&lt;/p&gt;</description>
                <environment></environment>
        <key id="12617806">SLING-2682</key>
            <summary>JarExecutor should take java.home into account</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Tue, 27 Nov 2012 15:37:53 +0000</created>
                <updated>Mon, 18 Feb 2013 13:41:47 +0000</updated>
                            <resolved>Tue, 27 Nov 2012 15:43:28 +0000</resolved>
                                    <version>org.apache.sling.testing.tools 1.0.4</version>
                                    <fixVersion>org.apache.sling.testing.tools 1.0.6</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13504681" author="rmuntean" created="Tue, 27 Nov 2012 15:41:07 +0000"  >&lt;p&gt;See also &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2551&quot; title=&quot;JarExecutor should obey JAVA_HOME&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2551&quot;&gt;&lt;del&gt;SLING-2551&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;
</comment>
                            <comment id="13504685" author="bdelacretaz" created="Tue, 27 Nov 2012 15:43:28 +0000"  >&lt;p&gt;Fixed in revision 1414230&lt;/p&gt;</comment>
                            <comment id="13504693" author="bdelacretaz" created="Tue, 27 Nov 2012 15:51:03 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt; sorry I was too quick, and fixed this in a contrary way than what I suggested in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2551&quot; title=&quot;JarExecutor should obey JAVA_HOME&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2551&quot;&gt;&lt;del&gt;SLING-2551&lt;/del&gt;&lt;/a&gt; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Does this fix work for you? If so, can we mark &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-2551&quot; title=&quot;JarExecutor should obey JAVA_HOME&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-2551&quot;&gt;&lt;del&gt;SLING-2551&lt;/del&gt;&lt;/a&gt; as won&apos;t fix?&lt;/p&gt;</comment>
                            <comment id="13504695" author="rmuntean" created="Tue, 27 Nov 2012 15:52:35 +0000"  >&lt;p&gt;Yes, this is fine for me.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>292370</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 49 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rxi7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>161072</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2679] JcrJavaCompiler should use class writer</title>
                <link>https://issues.apache.org/jira/browse/SLING-2679</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Instead of doing class writing magic by itself, the JcrJavaCompiler should rely on the class loader writer service&lt;/p&gt;</description>
                <environment></environment>
        <key id="12617638">SLING-2679</key>
            <summary>JcrJavaCompiler should use class writer</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Mon, 26 Nov 2012 16:10:49 +0000</created>
                <updated>Fri, 30 Nov 2012 17:57:58 +0000</updated>
                            <resolved>Mon, 26 Nov 2012 16:19:17 +0000</resolved>
                                    <version>JCR Compiler 2.0.4</version>
                                    <fixVersion>JCR Compiler 2.1.0</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>292143</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 49 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rs27:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>160190</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-2678] Parallel compilation if same jsp is requested in parallel</title>
                <link>https://issues.apache.org/jira/browse/SLING-2678</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If the same jsp is requested in parallel for the first time, it might happen that two wrappers are created and the second request actually destroys the runtime context as well&lt;/p&gt;</description>
                <environment></environment>
        <key id="12617613">SLING-2678</key>
            <summary>Parallel compilation if same jsp is requested in parallel</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Mon, 26 Nov 2012 14:30:31 +0000</created>
                <updated>Fri, 30 Nov 2012 17:57:19 +0000</updated>
                            <resolved>Mon, 26 Nov 2012 14:32:36 +0000</resolved>
                                    <version>Scripting JSP 2.0.24</version>
                                    <fixVersion>Scripting JSP 2.0.26</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13503800" author="cziegeler" created="Mon, 26 Nov 2012 14:31:05 +0000"  >&lt;p&gt;This leads to parallel compilation attempts which further down the road might lead to jcr exceptions when the class file is tried to be written to the repository in parallel&lt;/p&gt;</comment>
                            <comment id="13503803" author="cziegeler" created="Mon, 26 Nov 2012 14:32:36 +0000"  >&lt;p&gt;I&apos;ve corrected the isValid check&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>292116</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 49 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rrvz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>160162</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>