diff --git a/CHANGES.txt b/CHANGES.txt
index d89cbcd15..0e467ee43 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -1,5 +1,10 @@
 Release 2.8.0 - ???
 
+   * Turn on the CompositeExternalParser in tika-app and tika-server-standard.
+     This will call exiftool and ffmpeg if those are installed as was
+     the behavior in Tika 1.x. Exclude org.apache.tika.parser.external.CompositeExternalParser
+     if you do not want this behavior (TIKA-4022).
+
    * Add magic detection for canon raw file types: crw, cr2 and cr3 (TIKA-3991).
 
    * Add detection for ONIX message files (TIKA-4011).
diff --git a/tika-app/pom.xml b/tika-app/pom.xml
index 3894a3a9b..29ec82c07 100644
--- a/tika-app/pom.xml
+++ b/tika-app/pom.xml
@@ -44,7 +44,7 @@
       <version>${project.version}</version>
     </dependency>
     <dependency>
-      <groupId>org.apache.tika</groupId>
+      <groupId>${project.groupId}</groupId>
       <artifactId>tika-parser-html-commons</artifactId>
       <version>${project.version}</version>
     </dependency>
diff --git a/tika-app/src/main/resources/META-INF/services/org.apache.tika.parser.Parser b/tika-app/src/main/resources/META-INF/services/org.apache.tika.parser.Parser
new file mode 100644
index 000000000..37f87a459
--- /dev/null
+++ b/tika-app/src/main/resources/META-INF/services/org.apache.tika.parser.Parser
@@ -0,0 +1,16 @@
+#  Licensed to the Apache Software Foundation (ASF) under one or more
+#  contributor license agreements.  See the NOTICE file distributed with
+#  this work for additional information regarding copyright ownership.
+#  The ASF licenses this file to You under the Apache License, Version 2.0
+#  (the "License"); you may not use this file except in compliance with
+#  the License.  You may obtain a copy of the License at
+#
+#       http://www.apache.org/licenses/LICENSE-2.0
+#
+#  Unless required by applicable law or agreed to in writing, software
+#  distributed under the License is distributed on an "AS IS" BASIS,
+#  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+#  See the License for the specific language governing permissions and
+#  limitations under the License.
+
+org.apache.tika.parser.external.CompositeExternalParser
\ No newline at end of file
diff --git a/tika-parsers/tika-parsers-standard/tika-parsers-standard-package/pom.xml b/tika-parsers/tika-parsers-standard/tika-parsers-standard-package/pom.xml
index b764d11fc..8e2b1aed2 100644
--- a/tika-parsers/tika-parsers-standard/tika-parsers-standard-package/pom.xml
+++ b/tika-parsers/tika-parsers-standard/tika-parsers-standard-package/pom.xml
@@ -405,6 +405,7 @@
                   <include>org.apache.tika:tika-parser-pdf-module</include>
                   <include>org.apache.tika:tika-parser-pkg-module</include>
                   <include>org.apache.tika:tika-parser-text-module</include>
+                  <include>org.apache.tika:tika-parser-webarchive-module</include>
                   <include>org.apache.tika:tika-parser-xml-module</include>
                   <include>org.apache.tika:tika-parser-xmp-commons</include>
                   <include>org.apache.tika:tika-parser-zip-commons</include>
@@ -435,18 +436,7 @@
                     <Automatic-Module-Name>org.apache.tika.parsers</Automatic-Module-Name>
                   </manifestEntries>
                 </transformer>
-                <transformer implementation="org.apache.maven.plugins.shade.resource.AppendingTransformer">
-                  <resource>META-INF/services/org.apache.tika.detect.Detector</resource>
-                </transformer>
-                <transformer implementation="org.apache.maven.plugins.shade.resource.AppendingTransformer">
-                  <resource>META-INF/services/org.apache.tika.detect.EncodingDetector</resource>
-                </transformer>
-                <transformer implementation="org.apache.maven.plugins.shade.resource.AppendingTransformer">
-                  <resource>META-INF/services/org.apache.tika.parser.Parser</resource>
-                </transformer>
-                <transformer implementation="org.apache.maven.plugins.shade.resource.AppendingTransformer">
-                  <resource>META-INF/services/org.apache.tika.detect.zip.ZipContainerDetector</resource>
-                </transformer>
+                <transformer implementation="org.apache.maven.plugins.shade.resource.ServicesResourceTransformer" />
               </transformers>
             </configuration>
           </execution>
diff --git a/tika-server/tika-server-standard/src/main/resources/META-INF/services/org.apache.tika.parser.Parser b/tika-server/tika-server-standard/src/main/resources/META-INF/services/org.apache.tika.parser.Parser
new file mode 100644
index 000000000..37f87a459
--- /dev/null
+++ b/tika-server/tika-server-standard/src/main/resources/META-INF/services/org.apache.tika.parser.Parser
@@ -0,0 +1,16 @@
+#  Licensed to the Apache Software Foundation (ASF) under one or more
+#  contributor license agreements.  See the NOTICE file distributed with
+#  this work for additional information regarding copyright ownership.
+#  The ASF licenses this file to You under the Apache License, Version 2.0
+#  (the "License"); you may not use this file except in compliance with
+#  the License.  You may obtain a copy of the License at
+#
+#       http://www.apache.org/licenses/LICENSE-2.0
+#
+#  Unless required by applicable law or agreed to in writing, software
+#  distributed under the License is distributed on an "AS IS" BASIS,
+#  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+#  See the License for the specific language governing permissions and
+#  limitations under the License.
+
+org.apache.tika.parser.external.CompositeExternalParser
\ No newline at end of file
