diff --git a/johnzon-mapper/src/main/java/org/apache/johnzon/mapper/MapperBuilder.java b/johnzon-mapper/src/main/java/org/apache/johnzon/mapper/MapperBuilder.java
index 5075ed43..56b8fa25 100644
--- a/johnzon-mapper/src/main/java/org/apache/johnzon/mapper/MapperBuilder.java
+++ b/johnzon-mapper/src/main/java/org/apache/johnzon/mapper/MapperBuilder.java
@@ -127,6 +127,9 @@ public class MapperBuilder {
             if (bufferStrategy != null) {
                 config.put("org.apache.johnzon.buffer-strategy", bufferStrategy);
             }
+            if (encoding != null) {
+                config.put("org.apache.johnzon.encoding", encoding.name());
+            }
 
             if (generatorFactory == null) {
                 if (pretty) {
@@ -149,9 +152,6 @@ public class MapperBuilder {
                 if (autoAdjustStringBuffers) {
                     config.put("org.apache.johnzon.auto-adjust-buffer", true);
                 }
-                if (encoding != null) {
-                    config.put("org.apache.johnzon.encoding", encoding.name());
-                }
                 readerFactory = provider.createReaderFactory(config);
             }
         } else if (this.provider == null) {
