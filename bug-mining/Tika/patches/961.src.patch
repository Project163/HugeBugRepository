diff --git a/tika-dl/src/test/java/org/apache/tika/dl/imagerec/DL4JVGG16NetTest.java b/tika-dl/src/test/java/org/apache/tika/dl/imagerec/DL4JVGG16NetTest.java
index dbea7f78f..df5c57277 100644
--- a/tika-dl/src/test/java/org/apache/tika/dl/imagerec/DL4JVGG16NetTest.java
+++ b/tika-dl/src/test/java/org/apache/tika/dl/imagerec/DL4JVGG16NetTest.java
@@ -39,16 +39,20 @@ public class DL4JVGG16NetTest {
                 return;
             }
         }
-        Tika tika = new Tika(config);
-        Metadata md = new Metadata();
-        tika.parse(getClass().getResourceAsStream("lion.jpg"), md);
-        String[] objects = md.getValues("OBJECT");
-        boolean found = false;
-        for (String object : objects) {
-            if (object.contains("lion")){
-                found = true;
+        
+        if(config != null)
+        {
+        	Tika tika = new Tika(config);
+            Metadata md = new Metadata();
+            tika.parse(getClass().getResourceAsStream("lion.jpg"), md);
+            String[] objects = md.getValues("OBJECT");
+            boolean found = false;
+            for (String object : objects) {
+                if (object.contains("lion")){
+                    found = true;
+                }
             }
+            assertTrue(found);
         }
-        assertTrue(found);
     }
 }
\ No newline at end of file
