<!--
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Thu Oct 23 09:38:49 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+%22SLING%22+AND+issuetype+%3D+Bug+ORDER+BY+key+DESC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="4400" end="4600" total="4707"/>
                <build-info>
            <version>8.20.10</version>
            <build-number>820010</build-number>
            <build-date>22-06-2022</build-date>
        </build-info>

<item>
            <title>[SLING-761] ResourceResolver.getResource(String) returns null even if child resources exist for the requested path</title>
                <link>https://issues.apache.org/jira/browse/SLING-761</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Using ResourceProviders it is possible to add resources to the resource tree, which do not exist in the repository. This mechanism is for example used to inject Bundle resources or Servlets into the resource tree.&lt;/p&gt;

&lt;p&gt;Currently the JcrResourceResolver implementing the ResourceResolver interface returns null for any resources not reflected by a JCR item but being semantically parents of such non-JCR resources.&lt;/p&gt;

&lt;p&gt;For example: A servlet is registered as /apps/sling/sample/GET.servlet. Requesting the /apps/sling/sample resource would return null if no JCR item would exist at that path. This is kind of unexpected.&lt;/p&gt;

&lt;p&gt;Actually the JcrResourceResolver should return a synthetic resource in cases, where a ResourceProvider provides resources a descendant location of a requested path but no actual resource exists at the requested path.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12410183">SLING-761</key>
            <summary>ResourceResolver.getResource(String) returns null even if child resources exist for the requested path</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Mon, 8 Dec 2008 11:24:16 +0000</created>
                <updated>Sun, 13 Sep 2009 13:42:00 +0000</updated>
                            <resolved>Mon, 8 Dec 2008 11:42:32 +0000</resolved>
                                    <version>Servlets Resolver 2.0.4</version>
                    <version>JCR Resource 2.0.2</version>
                                    <fixVersion> Servlets Resolver 2.0.6</fixVersion>
                    <fixVersion>JCR Resource 2.0.4</fixVersion>
                                    <component>JCR</component>
                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12654376" author="fmeschbe" created="Mon, 8 Dec 2008 11:32:38 +0000"  >&lt;p&gt;Extended the implementation of accessing actual resources from the resource tree through the ResourceProviderEntry instances in Rev. 724311.&lt;/p&gt;

&lt;p&gt;Now a SyntheticResource is returned for non-existing resources along the path to lower provided resources.&lt;/p&gt;</comment>
                            <comment id="12654377" author="fmeschbe" created="Mon, 8 Dec 2008 11:38:02 +0000"  >&lt;p&gt;This issue also affects the ResourceProvider implementation of the servlet resolver since the ServletResourceIterator should return what the resource resolver returns otherwise some resources may go unnoticed in the child resource iterators.&lt;/p&gt;</comment>
                            <comment id="12654378" author="fmeschbe" created="Mon, 8 Dec 2008 11:39:10 +0000"  >&lt;p&gt;Adaped the Servlet Resolver ServletResourceIterator to return what the ResourceResolver brings in Rev. 724312. We still keep the check for the null resource because JcrResourceResolver prior to Rev. 724311 still return null for such intermediate resources.&lt;/p&gt;</comment>
                            <comment id="12654381" author="fmeschbe" created="Mon, 8 Dec 2008 11:42:32 +0000"  >&lt;p&gt;Functionality reported by this issue is now implemented as commented above.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175719</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 48 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rkun:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>159022</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-760] Filter characters in http error messages</title>
                <link>https://issues.apache.org/jira/browse/SLING-760</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The default get servlet includes the supplied extension as is in the &quot;No renderer for extension&quot; error page, it should filter it to avoid garbling the error page depending on the extension.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12409967">SLING-760</key>
            <summary>Filter characters in http error messages</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Thu, 4 Dec 2008 16:00:08 +0000</created>
                <updated>Sun, 13 Sep 2009 13:39:09 +0000</updated>
                            <resolved>Mon, 5 Jan 2009 16:18:14 +0000</resolved>
                                    <version>Engine 2.0.2</version>
                                    <fixVersion> Servlets Resolver 2.0.6</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12653347" author="bdelacretaz" created="Thu, 4 Dec 2008 16:39:28 +0000"  >&lt;p&gt;Fixed in revision 723372, in a more generic way: SlingHttpServletResponseImpl.sendError(...) now escapes XML characters in error messages, so that applies to any such messages.&lt;/p&gt;</comment>
                            <comment id="12653409" author="fmeschbe" created="Thu, 4 Dec 2008 18:59:49 +0000"  >&lt;p&gt;I am not sure, whether it is the task fo the sendError method to escape the message. Given that the message might also be logged or such just xml escaping it might not be really correct at this location.&lt;/p&gt;
</comment>
                            <comment id="12653712" author="tripod" created="Fri, 5 Dec 2008 09:33:50 +0000"  >&lt;p&gt;me neither - i think it&apos;s the task of the respective error handler.&lt;br/&gt;
otherwise you&apos;ll have to unescape the message again, in order to get the correct one.&lt;/p&gt;</comment>
                            <comment id="12653716" author="bdelacretaz" created="Fri, 5 Dec 2008 09:45:28 +0000"  >&lt;p&gt;In retrospect I agree about moving that to the error handler, I&apos;ll do that next week unless someone beats me to it&lt;/p&gt;</comment>
                            <comment id="12660805" author="bdelacretaz" created="Mon, 5 Jan 2009 16:18:14 +0000"  >&lt;p&gt;In revision 731608, removed the xml escaping code from the SlingHttpServletResponseImpl, and implemented it in the DefaultErrorHandlerServlet.&lt;/p&gt;

&lt;p&gt;I have also added a getXmlEscapingWriter(Writer w) method to ResponseUtil, to provide an escaping Writer that can be used for stack trace dumps, etc.&lt;/p&gt;</comment>
                            <comment id="12696095" author="fmeschbe" created="Mon, 6 Apr 2009 14:02:36 +0000"  >&lt;p&gt;I think, this can be closed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175718</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 31 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rkan:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>158932</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-759] Don&apos;t synchronize on jcr sessions</title>
                <link>https://issues.apache.org/jira/browse/SLING-759</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;As some jcr implementations synchronize themselves on the jcr session it&apos;s better to not base own sync code on a session.&lt;br/&gt;
(However as the session is wrapped in Sling this shouldn&apos;t be a problem, but as soon as it is not wrapped anymore, it becomes one,&lt;br/&gt;
so it&apos;s better to avoid this potential problem upfront)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12409964">SLING-759</key>
            <summary>Don&apos;t synchronize on jcr sessions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Thu, 4 Dec 2008 15:36:57 +0000</created>
                <updated>Sun, 13 Sep 2009 13:15:12 +0000</updated>
                            <resolved>Thu, 4 Dec 2008 15:48:16 +0000</resolved>
                                    <version>Event 2.0.2</version>
                                    <fixVersion>Event 2.0.4</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12653334" author="cziegeler" created="Thu, 4 Dec 2008 15:48:16 +0000"  >&lt;p&gt;Fixed in revision723362&lt;/p&gt;</comment>
                            <comment id="12754689" author="fmeschbe" created="Sun, 13 Sep 2009 13:15:12 +0000"  >&lt;p&gt;obviously wrong fix version&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175717</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 8 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rk87:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>158921</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-758] Thread Pool Policy is always abort</title>
                <link>https://issues.apache.org/jira/browse/SLING-758</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Regardless of the thread pool block policy, always the abort handler is used.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12409953">SLING-758</key>
            <summary>Thread Pool Policy is always abort</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Thu, 4 Dec 2008 13:09:39 +0000</created>
                <updated>Sun, 13 Sep 2009 13:04:15 +0000</updated>
                            <resolved>Thu, 4 Dec 2008 13:13:43 +0000</resolved>
                                    <version>Commons Threads 2.0.2</version>
                                    <fixVersion>Commons Threads 2.0.4</fixVersion>
                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12653291" author="cziegeler" created="Thu, 4 Dec 2008 13:13:43 +0000"  >&lt;p&gt;Fixed in revision 723309&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175716</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 48 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rl3b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>159061</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-757] Cannot configure SlingAuthenticator &quot;anonymous access&quot; setting, need webconsole update</title>
                <link>https://issues.apache.org/jira/browse/SLING-757</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Trying to change the default access rights is not possible in the Sling console.&lt;/p&gt;

&lt;p&gt;Go to&lt;br/&gt;
&lt;a href=&quot;http://localhost:8888/system/console/configMgr/org.apache.sling.engine.impl.auth.SlingAuthenticator&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8888/system/console/configMgr/org.apache.sling.engine.impl.auth.SlingAuthenticator&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Untick &quot;auth.annonymous.name&quot;,&lt;br/&gt;
hit &quot;save&quot;&lt;/p&gt;

&lt;p&gt;-&amp;gt; result: option still ticked&lt;/p&gt;

&lt;p&gt;(btw: &quot;auth.annonymous.name&quot; is a bit cryptic &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; )&lt;/p&gt;</description>
                <environment>vista</environment>
        <key id="12409944">SLING-757</key>
            <summary>Cannot configure SlingAuthenticator &quot;anonymous access&quot; setting, need webconsole update</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="mmarth">Michael Marth</reporter>
                        <labels>
                    </labels>
                <created>Thu, 4 Dec 2008 11:24:48 +0000</created>
                <updated>Tue, 6 Jan 2009 09:50:24 +0000</updated>
                            <resolved>Tue, 6 Jan 2009 09:50:24 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12653311" author="cziegeler" created="Thu, 4 Dec 2008 14:26:44 +0000"  >&lt;p&gt;I guess this is an old bug of the webconsole which is fixed in newer versions. Which webconsole version are you using?&lt;/p&gt;</comment>
                            <comment id="12653313" author="mmarth" created="Thu, 4 Dec 2008 14:36:50 +0000"  >&lt;p&gt;did an update and clean build today&lt;/p&gt;</comment>
                            <comment id="12653319" author="cziegeler" created="Thu, 4 Dec 2008 14:49:13 +0000"  >&lt;p&gt;Ah so you&apos;re using the version bundled with Sling, right?&lt;br/&gt;
I suggest to try latest webconsole form Apache Felix&lt;/p&gt;</comment>
                            <comment id="12653320" author="mmarth" created="Thu, 4 Dec 2008 14:58:24 +0000"  >&lt;p&gt;Yes, I am using the console that comes along when I build Sling. I was not aware that this is problematic. Is Sling&apos;s version outdated or even obsolete? In that case we should maybe remove it altogether - or ensure that a current console is built.&lt;/p&gt;

&lt;p&gt;(My specific problem was solved by changing the parameter in source. However, one of the samples did not work without changing this setting.)&lt;/p&gt;</comment>
                            <comment id="12653323" author="cziegeler" created="Thu, 4 Dec 2008 15:06:07 +0000"  >&lt;p&gt;There is no official release yet of the sling web console, so that&apos;s why we still refer to the old version in sling. We don&apos;t want to depend on snapshots...but maybe that&apos;s the better solution for know.&lt;br/&gt;
However, can you try with the latest webconsole from trunk if that solves your problem?&lt;/p&gt;</comment>
                            <comment id="12653324" author="mmarth" created="Thu, 4 Dec 2008 15:13:59 +0000"  >&lt;p&gt;OK, can try. If I understand correctly I need to build Apache Felix separately and get its console into Sling. Is that correct? If so, are there some instructions on how to do that?&lt;/p&gt;</comment>
                            <comment id="12653333" author="mmarth" created="Thu, 4 Dec 2008 15:44:28 +0000"  >&lt;p&gt;the problem is gone with the latest Felix console.&lt;/p&gt;

&lt;p&gt;Leaving this open as a reminder to upgrade the console.&lt;/p&gt;</comment>
                            <comment id="12655954" author="bdelacretaz" created="Fri, 12 Dec 2008 10:20:06 +0000"  >&lt;p&gt;I talked to (our) Felix and he says he&apos;ll try to make a Felix webconsole release happen soon, so that we can upgrade it in Sling.&lt;/p&gt;

&lt;p&gt;For now, the workaround is to build the webconsole from the source at  &lt;a href=&quot;http://svn.apache.org/repos/asf/felix/trunk/webconsole&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/repos/asf/felix/trunk/webconsole&lt;/a&gt;, and install the resulting jar in Sling via &lt;a href=&quot;http://localhost:8888/system/console/bundles&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8888/system/console/bundles&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12661092" author="bdelacretaz" created="Tue, 6 Jan 2009 09:50:24 +0000"  >&lt;p&gt;Updated launchpad modules to Felix webconsole 1.2.2 (which now requires the org.apache.felix.shell bundle) in revision 731899.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175715</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 44 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i113hb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>214530</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-756] Bundle startup becomes very slow with many bundles present</title>
                <link>https://issues.apache.org/jira/browse/SLING-756</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When running the jcrinstall integration tests with a few hundreds of very simple bundles, the bundle.start call in the BundleResourceProcessor class becomes very slow. With a few bundles it takes only a few milliseconds, and goes up to the 500 msec range with about 500 installed bundles.&lt;/p&gt;

&lt;p&gt;Seems like most of that time is spent in the Felix R4SearchPolicyCore.resolve() method, but I haven&apos;t investigated that in detail yet.&lt;/p&gt;

&lt;p&gt;To reproduce, run &quot;mvn clean install&quot; in extensions/jcrinstall/testing, with these parameters:&lt;/p&gt;

&lt;p&gt;-D sling.test.scale.factor = 20&lt;br/&gt;
-D sling.test.bundles.wait.seconds = 200&lt;/p&gt;

&lt;p&gt;With these values, the StopAndChangeBundlesTest installs 140 bundles by copying them into the repository, disables jcrinstall, replaces the bundles with 260 new ones and reactivates jcrinstall. &lt;/p&gt;

&lt;p&gt;When reactivated, jcrinstall uninistalls the 140 bundles and then installs and starts the 260 new ones - this is when the bundle.start becomes very slow.&lt;/p&gt;

&lt;p&gt;All bundles are clones of the extensions/jcrinstall/testbundles/observer bundle, same code but unique bundle symbolic name and name. This causes warnings from the Felix framework as all bundle clones contain a component with the same name. I don&apos;t think that&apos;s related to the long start time though.&lt;/p&gt;

&lt;p&gt;As it seems like the problem has to do with resolving the bundle, here are the package exports/imports of the test bundle:&lt;/p&gt;

&lt;p&gt;exports: none&lt;/p&gt;

&lt;p&gt;imports:&lt;br/&gt;
javax.jcr,version=1.0.0 from org.apache.sling.jcr.api (16)&lt;br/&gt;
javax.jcr.observation,version=1.0.0 from org.apache.sling.jcr.api (16)&lt;br/&gt;
org.apache.sling.jcr.api,version=2.0.3.incubator-SNAPSHOT from org.apache.sling.jcr.api (16)&lt;br/&gt;
org.osgi.framework,version=1.4.0 from System Bundle (0)&lt;br/&gt;
org.osgi.service.component,version=1.0.0 from System Bundle (0)&lt;br/&gt;
org.slf4j,version=1.5.2 from org.apache.sling.commons.log (19)&lt;/p&gt;

</description>
                <environment></environment>
        <key id="12409921">SLING-756</key>
            <summary>Bundle startup becomes very slow with many bundles present</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Thu, 4 Dec 2008 10:02:50 +0000</created>
                <updated>Tue, 14 Sep 2010 15:46:43 +0000</updated>
                            <resolved>Tue, 11 Aug 2009 11:55:19 +0000</resolved>
                                                    <fixVersion>JCR Installer 3.0.0</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12653242" author="cziegeler" created="Thu, 4 Dec 2008 10:12:41 +0000"  >&lt;p&gt;Not sure if this is the problem, but I think resolving has improved in the latest Felix releases, so upgrading to 1.4.x might already make a difference&lt;/p&gt;</comment>
                            <comment id="12653255" author="bdelacretaz" created="Thu, 4 Dec 2008 10:51:22 +0000"  >&lt;p&gt;Thanks foir the info, will try that.&lt;/p&gt;

&lt;p&gt;To be able to measure progress I have added a log of bundle startup time in revision 723284.&lt;/p&gt;

&lt;p&gt;With this, running the extensions/jcrinstall/testing test as follows:&lt;/p&gt;

&lt;p&gt;export MAVEN_OPTS=&quot;-Xmx384M&quot;&lt;br/&gt;
mvn clean install -D sling.test.scale.factor=20 -D sling.test.bundles.wait.seconds=200 &lt;/p&gt;

&lt;p&gt;Produces the following results (bundle.start() duration) when filtering the target/it/sling/logs/error.log with the attached script:&lt;/p&gt;

&lt;p&gt;0...100 msec: 433 samples&lt;br/&gt;
100...200 msec: 216 samples&lt;br/&gt;
200...300 msec: 91 samples&lt;br/&gt;
300...400 msec: 38 samples&lt;br/&gt;
400...500 msec: 10 samples&lt;br/&gt;
500...600 msec: 5 samples&lt;br/&gt;
600...700 msec: 1 samples&lt;br/&gt;
Total 800 samples&lt;/p&gt;

&lt;p&gt;800 samples seems double what we&apos;d need (140 + 260), but that&apos;s another story - about 50% of the bundle.start() calls take more than 100 msec, that&apos;s slow.&lt;/p&gt;</comment>
                            <comment id="12741819" author="bdelacretaz" created="Tue, 11 Aug 2009 11:55:19 +0000"  >&lt;p&gt;Fixed as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-904&quot; title=&quot;jcrinstall - take three&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-904&quot;&gt;&lt;del&gt;SLING-904&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12395281" name="SLING-756-graph.sh" size="597" author="bdelacretaz" created="Thu, 4 Dec 2008 10:51:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175714</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 13 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10x1z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>213489</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-754] Servlets registered with selectors and methods are not found</title>
                <link>https://issues.apache.org/jira/browse/SLING-754</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;After the implementation of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-748&quot; title=&quot;Consider request selectors for all requests (not just GET/HEAD)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-748&quot;&gt;&lt;del&gt;SLING-748&lt;/del&gt;&lt;/a&gt;, servlets registered with selectors and with method names are not resolved any more.&lt;/p&gt;

&lt;p&gt;A Servlet is registered as a resource at a path derieved from the selectors with the method name appended. For example a servlet registered with  selectors &quot;sample.selector&quot; and method &quot;POST&quot; is registered as &quot;..../sample/selector.POST.servlet&quot;&lt;/p&gt;

&lt;p&gt;The new servlet resolver does not check for the &quot;selector.POST&quot; pattern of script names and hence misses servlets thus registered.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12409737">SLING-754</key>
            <summary>Servlets registered with selectors and methods are not found</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Wed, 3 Dec 2008 12:54:09 +0000</created>
                <updated>Sun, 13 Sep 2009 13:39:13 +0000</updated>
                            <resolved>Mon, 6 Apr 2009 13:54:49 +0000</resolved>
                                    <version> Servlets Resolver 2.0.6</version>
                                    <fixVersion> Servlets Resolver 2.0.6</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12652773" author="fmeschbe" created="Wed, 3 Dec 2008 12:55:51 +0000"  >&lt;p&gt;Applied fix in Rev. 722872 which should now consider this registration pattern.&lt;/p&gt;</comment>
                            <comment id="12696090" author="fmeschbe" created="Mon, 6 Apr 2009 13:54:49 +0000"  >&lt;p&gt;Considering this problem fixed. Closing issue.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175712</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 31 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rkx3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>159033</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-752] JcrResourceResolver2 resolve(String) method not API conform</title>
                <link>https://issues.apache.org/jira/browse/SLING-752</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Affected is the JcrResourceResolver2#resolve(abspath) method.&lt;/p&gt;

&lt;p&gt;If abspath argument doesn&apos;t  point to an Item, the resolver returns a Resource of type non-existing.&lt;br/&gt;
The API according its JAVA-Doc requires to return &amp;lt;null&amp;gt; in this case&lt;/p&gt;</description>
                <environment></environment>
        <key id="12409666">SLING-752</key>
            <summary>JcrResourceResolver2 resolve(String) method not API conform</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="chrisk">christian</reporter>
                        <labels>
                    </labels>
                <created>Tue, 2 Dec 2008 17:32:32 +0000</created>
                <updated>Wed, 18 Feb 2009 14:31:07 +0000</updated>
                            <resolved>Wed, 18 Feb 2009 14:31:07 +0000</resolved>
                                    <version>JCR Resource 2.0.4</version>
                                    <fixVersion>JCR Resource 2.0.4</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12652710" author="fmeschbe" created="Wed, 3 Dec 2008 07:24:45 +0000"  >&lt;p&gt;Proposed patch to JavaDoc&lt;/p&gt;</comment>
                            <comment id="12652785" author="fmeschbe" created="Wed, 3 Dec 2008 13:43:57 +0000"  >&lt;p&gt;As pointed out by Carsten in the thread at &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;, it is more important to be backwards compatible in this case.&lt;/p&gt;

&lt;p&gt;So I will modify the JavaDoc as follows:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;resolve(HttpServletRequest) never returns null (has always been like that)&lt;/li&gt;
	&lt;li&gt;resolve(HttpServletRequest, String) never returns null (is a new method anyway)&lt;/li&gt;
	&lt;li&gt;resolve(String) will return null if no resource can be resolved&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://markmail.org/message/ulqwzjilp6prq75m&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://markmail.org/message/ulqwzjilp6prq75m&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12652786" author="fmeschbe" created="Wed, 3 Dec 2008 13:52:13 +0000"  >&lt;p&gt;Modified API doc patch:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Allows resolve(String) to return null for compatibility&lt;/li&gt;
	&lt;li&gt;Documents optional SlingException may be thrown&lt;/li&gt;
	&lt;li&gt;Requires parameters to resolve(String) and resolve(HttpServletRequest)&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12652793" author="fmeschbe" created="Wed, 3 Dec 2008 14:09:59 +0000"  >&lt;p&gt;Applied the JavaDoc clarification of the second patch in Rev. 722892&lt;/p&gt;

&lt;p&gt;Adapted the old JcrResourceResolver in Rev. 722886&lt;/p&gt;</comment>
                            <comment id="12653433" author="fmeschbe" created="Thu, 4 Dec 2008 19:43:45 +0000"  >&lt;p&gt;In Rev. 723408 added more correct implementation of the ResourceResolver.map methods using the configuration and /etc/map entries. Also extended unit tests.&lt;/p&gt;</comment>
                            <comment id="12674632" author="fmeschbe" created="Wed, 18 Feb 2009 14:31:07 +0000"  >&lt;p&gt;This can be closed by now.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12395183" name="SLING-752-2.patch" size="6765" author="fmeschbe" created="Wed, 3 Dec 2008 13:52:13 +0000"/>
                            <attachment id="12395167" name="SLING-752.patch" size="7344" author="fmeschbe" created="Wed, 3 Dec 2008 07:24:45 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175710</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 38 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rkgn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>158959</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-750] JcrResourceResolver2 incorrectly loads existing configuration into its map entries</title>
                <link>https://issues.apache.org/jira/browse/SLING-750</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;After the implementation of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-249&quot; title=&quot;Allow mapping nodes to internet domains&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-249&quot;&gt;&lt;del&gt;SLING-249&lt;/del&gt;&lt;/a&gt; the new JcrResourceResolver2 class is expected to read existing JcrResourceResolverFactory configuration into its internal map entry list. This has a series of problems though:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;The .&lt;b&gt;/.&lt;/b&gt;/ pattern to match any scheme and any host is too greedy. The pattern should be &lt;span class=&quot;error&quot;&gt;&amp;#91;^/&amp;#93;&lt;/span&gt;&lt;ins&gt;/&lt;span class=&quot;error&quot;&gt;&amp;#91;^/&amp;#93;&lt;/span&gt;&lt;/ins&gt;/ to not swallow slashes&lt;/li&gt;
	&lt;li&gt;Virtual Host entries were treated as prefix matches. They should rather be defined as hooked patterns using the ^ and $ charaters&lt;/li&gt;
	&lt;li&gt;URL Mapping entries were added the wrong way around, such that instead of mapping /* to /content/* etc. the mapping was /content/* to /* etc.&lt;/li&gt;
	&lt;li&gt;Multiple replacement of matched URL parts with replacement failed due to wrong java.util.Matcher use&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12409645">SLING-750</key>
            <summary>JcrResourceResolver2 incorrectly loads existing configuration into its map entries</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Tue, 2 Dec 2008 13:25:28 +0000</created>
                <updated>Sun, 13 Sep 2009 13:22:39 +0000</updated>
                            <resolved>Sun, 14 Dec 2008 20:52:27 +0000</resolved>
                                    <version>JCR Resource 2.0.4</version>
                                    <fixVersion>JCR Resource 2.0.4</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12652359" author="fmeschbe" created="Tue, 2 Dec 2008 13:27:14 +0000"  >&lt;p&gt;Applied fix to these issues in Rev. 722453&lt;/p&gt;</comment>
                            <comment id="12652367" author="fmeschbe" created="Tue, 2 Dec 2008 13:57:07 +0000"  >&lt;p&gt;And Rev. 722458 provides the fix for the multiple pattern replacement&lt;/p&gt;</comment>
                            <comment id="12656456" author="fmeschbe" created="Sun, 14 Dec 2008 20:52:27 +0000"  >&lt;p&gt;This issue is fixed and can be closed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175708</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 47 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rkgf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>158958</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-749] No renderer for extension=&apos;t&apos; (500)</title>
                <link>https://issues.apache.org/jira/browse/SLING-749</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;just checked out Sling from trunk and built it (without running the tests), then did&lt;/p&gt;

&lt;p&gt;mvn jetty:run&lt;br/&gt;
curl -F&quot;sling:resourceType=foo/bar&quot; -F&quot;title=some title&quot; &lt;a href=&quot;http://admin:admin@localhost:8888/content/mynode&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://admin:admin@localhost:8888/content/mynode&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Hitting &lt;a href=&quot;http://localhost:8888/content/mynode&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8888/content/mynode&lt;/a&gt;&lt;br/&gt;
gives me:&lt;/p&gt;

&lt;p&gt;No renderer for extension=&apos;t&apos; (500)&lt;br/&gt;
The requested URL /content/mynode resulted in an error in org.apache.sling.servlets.get.DefaultGetServlet.&lt;/p&gt;


&lt;p&gt;(cannot see anything in the error.log though)&lt;/p&gt;</description>
                <environment>windows</environment>
        <key id="12409644">SLING-749</key>
            <summary>No renderer for extension=&apos;t&apos; (500)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="mmarth">Michael Marth</reporter>
                        <labels>
                    </labels>
                <created>Tue, 2 Dec 2008 12:54:36 +0000</created>
                <updated>Mon, 6 Apr 2009 13:59:35 +0000</updated>
                            <resolved>Mon, 6 Apr 2009 13:59:35 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12652357" author="mmarth" created="Tue, 2 Dec 2008 13:20:05 +0000"  >&lt;p&gt;the issue was introduced in rev 722089 it seems. rev 722065 works ok.&lt;/p&gt;</comment>
                            <comment id="12696094" author="fmeschbe" created="Mon, 6 Apr 2009 13:59:35 +0000"  >&lt;p&gt;Cannot reproduce this with latest checkout, Rev. 762337.&lt;/p&gt;

&lt;p&gt;I get the correct response as expected: 403/FORBIDDEN if auto-indexing is switched off or a &quot;listing&quot; if auto-indexing is enabled.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175707</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 31 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ed1r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>292043</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-748] Consider request selectors for all requests (not just GET/HEAD)</title>
                <link>https://issues.apache.org/jira/browse/SLING-748</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;From &lt;a href=&quot;http://markmail.org/message/r4pbv5ksiwse4gbk:&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://markmail.org/message/r4pbv5ksiwse4gbk:&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;After the big reorganization of servlet resolution in April of this year and some more experiences with using Sling, I propose the extension of our servlet/script resolution process.&lt;/p&gt;

&lt;p&gt;Actually it is a single change only: Consider request selectors for all requests. Currently request selectors are only considered for GET or&lt;br/&gt;
HEAD requests and ignored for any other requests.&lt;/p&gt;

&lt;p&gt;Over time use cases arose, which would be easier implementable if we would support using selectors to influence servlet/script resolution for all methods.&lt;/p&gt;

&lt;p&gt;Example: Say you are building an application providing a configurable input form system. The most important configuration would be the action upon form submission. Submitted forms are sent back to the resource providing the form. The actual action would be encoded as a request selector:&lt;/p&gt;

&lt;p&gt;For example we would like to be able to send a form based mail message. We would have script &quot;/apps/myapp/form/mail/POST.esp&quot;, which handles the &quot;myapp/form&quot; resource type and is called using the &quot;mail&quot; selector. The form itself together with some nice GUI surroundings etc. would be stored in the /content/feedback resource.&lt;/p&gt;

&lt;p&gt;Now updating the /content/feedback resource should be handled by Sling&apos;s default POST servlet. Thus POSTing to /content/feedback would update the content. Submitting the form would POST to /content/feedback.mail.html and should thus not store any form input but trigger the mail/POST.esp script.&lt;/p&gt;

&lt;p&gt;I have prepared a prototype implementation of this new mechanism in my sandbox at &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;A nice side effect of this prototype is, that it is much simpler codewise.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://svn.apache.org/repos/asf/incubator/sling/whiteboard/fmeschbe/servlet_resolver&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/repos/asf/incubator/sling/whiteboard/fmeschbe/servlet_resolver&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12409556">SLING-748</key>
            <summary>Consider request selectors for all requests (not just GET/HEAD)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Mon, 1 Dec 2008 14:59:17 +0000</created>
                <updated>Sun, 13 Sep 2009 13:39:14 +0000</updated>
                            <resolved>Mon, 1 Dec 2008 15:07:08 +0000</resolved>
                                    <version>Servlets Resolver 2.0.4</version>
                                    <fixVersion> Servlets Resolver 2.0.6</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12652021" author="fmeschbe" created="Mon, 1 Dec 2008 15:07:08 +0000"  >&lt;p&gt;Applied the changes from my whiteboard to trunk in Rev. 722089.&lt;/p&gt;

&lt;p&gt;Closing this now. Any failures should be reported with new issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175706</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 49 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rk67:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>158912</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-746] Failed to start Bundle...rescheduling should be logged as INFO, not ERROR</title>
                <link>https://issues.apache.org/jira/browse/SLING-746</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When installing several bundles at the same time, jcrinstall might log several messages at the ERROR level, saying &quot;Failed to start bundle foo, rescheduling for start&quot;. Usually because of missing dependencies that will be provided later.&lt;/p&gt;

&lt;p&gt;These messages should be logged at the INFO level, not ERROR.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12409535">SLING-746</key>
            <summary>Failed to start Bundle...rescheduling should be logged as INFO, not ERROR</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Mon, 1 Dec 2008 09:43:46 +0000</created>
                <updated>Mon, 1 Dec 2008 09:47:24 +0000</updated>
                            <resolved>Mon, 1 Dec 2008 09:47:24 +0000</resolved>
                                                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12651950" author="bdelacretaz" created="Mon, 1 Dec 2008 09:47:24 +0000"  >&lt;p&gt;Fixed in revision 722013&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175704</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 49 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ed27:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>292045</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-745] Bundle installation fails if manifest is larger than 2K bytes</title>
                <link>https://issues.apache.org/jira/browse/SLING-745</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Currently the BundleResourceProcessor marks the bundle input stream for 2048 bytes of read-head to read the MANIFEST.MF file. Unfortunately, this &quot;limits&quot; supprt for MANIFEST.MF files to 2048 bytes. We have one situation, where the actual MANIFEST.MF file is more than 64&apos;000 bytes. Reading the MANIFEST.MF file succeeds but resetting the input stream fails.&lt;/p&gt;

&lt;p&gt;I propose to modify the BundleResourceProcessor and the FileInstallableData as follows:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;BundleResourceProcessor.getMatchingBundle gets the InstallableData object and gets the InputStream directly from that one and also closes that &quot;private&quot; stream after reading the MANIFEST.MF file.&lt;/li&gt;
	&lt;li&gt;FileInstallableData is modified to not open the InputStream before hand but to keep the JCR Property and open the stream on demand in the adaptTo method.&lt;/li&gt;
	&lt;li&gt;BundleResourceProcessor.installOrUpdate is modified in the finally close to catch IOException on closing the input stream. In addition the null-check is not required because the data variable will never be null in the finally clause.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;BTW: Opening the InputStream upfront in the FileInstallableData constructor may even leave this input stream open, should that stream not be retrieved to be closed !&lt;/p&gt;</description>
                <environment></environment>
        <key id="12409530">SLING-745</key>
            <summary>Bundle installation fails if manifest is larger than 2K bytes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Mon, 1 Dec 2008 07:33:41 +0000</created>
                <updated>Tue, 14 Sep 2010 15:46:21 +0000</updated>
                            <resolved>Mon, 1 Dec 2008 09:44:20 +0000</resolved>
                                    <version>JCR Installer 3.0.0</version>
                                    <fixVersion>JCR Installer 3.0.0</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12651924" author="fmeschbe" created="Mon, 1 Dec 2008 07:40:26 +0000"  >&lt;p&gt;Proposed patch against Rev. 721989&lt;/p&gt;</comment>
                            <comment id="12651933" author="bdelacretaz" created="Mon, 1 Dec 2008 08:32:22 +0000"  >&lt;p&gt;Patch looks good to me.&lt;/p&gt;</comment>
                            <comment id="12651949" author="fmeschbe" created="Mon, 1 Dec 2008 09:44:20 +0000"  >&lt;p&gt;Applied the patch in Rev. 722011.&lt;/p&gt;

&lt;p&gt;This should fix the problem, thus closing this issue now.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12394998" name="SLING-745.patch" size="6880" author="fmeschbe" created="Mon, 1 Dec 2008 07:40:26 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175703</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 49 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10kb3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>211424</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-744] jcrinstall tests fail on Windows XP</title>
                <link>https://issues.apache.org/jira/browse/SLING-744</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I did the following:&lt;/p&gt;

&lt;p&gt;svn checkout &lt;a href=&quot;http://svn.apache.org/repos/asf/incubator/sling/trunk&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/repos/asf/incubator/sling/trunk&lt;/a&gt; sling&lt;br/&gt;
cd sling&lt;br/&gt;
mvn -s settings.xml clean install. &lt;/p&gt;

&lt;p&gt;Note: I don&apos;t know the XP equivalent of /dev/null so I created a settings.xml file in sling folder with just an empty &amp;lt;settings/&amp;gt; tag to override local settings.&lt;/p&gt;

&lt;p&gt;I got a build failure on org.apache.sling.jcr.jcrinstall.jcr.impl.ResourceDetectionTest.  I have attached the test report.&lt;/p&gt;</description>
                <environment>Windows XP, java 1.6.0_03</environment>
        <key id="12409507">SLING-744</key>
            <summary>jcrinstall tests fail on Windows XP</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="darrell.pittman">Darrell Pittman</reporter>
                        <labels>
                    </labels>
                <created>Sun, 30 Nov 2008 15:29:10 +0000</created>
                <updated>Fri, 9 Oct 2009 08:34:12 +0000</updated>
                            <resolved>Fri, 9 Oct 2009 08:34:12 +0000</resolved>
                                                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12651838" author="darrell.pittman" created="Sun, 30 Nov 2008 15:33:55 +0000"  >&lt;p&gt;surefire-test report&lt;/p&gt;</comment>
                            <comment id="12651957" author="bdelacretaz" created="Mon, 1 Dec 2008 10:13:30 +0000"  >&lt;p&gt;Confirmed, I also got test errors in the jcrinstall module when trying to build under Windows XP (mvn 2.09, java 1.6.0_06).&lt;/p&gt;

&lt;p&gt;As a workaround until this is fixed, if you don&apos;t need jcrinstall you can disable its build by commenting it in the main sling pom.xml file:&lt;/p&gt;

&lt;p&gt;...&lt;br/&gt;
        &amp;lt;module&amp;gt;extensions/apt/parser&amp;lt;/module&amp;gt;&lt;br/&gt;
        &amp;lt;module&amp;gt;extensions/apt/servlet&amp;lt;/module&amp;gt;&lt;br/&gt;
&amp;lt;!--&lt;br/&gt;
        &amp;lt;module&amp;gt;extensions/jcrinstall&amp;lt;/module&amp;gt;&lt;br/&gt;
--&amp;gt;&lt;br/&gt;
        &amp;lt;module&amp;gt;extensions/runmode&amp;lt;/module&amp;gt;&lt;br/&gt;
...&lt;/p&gt;</comment>
                            <comment id="12763909" author="bdelacretaz" created="Fri, 9 Oct 2009 08:34:12 +0000"  >&lt;p&gt;Issues refers to old jcrinstall code that will be removed (&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-1141&quot; title=&quot;Remove old jcrinstall codebase&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-1141&quot;&gt;&lt;del&gt;SLING-1141&lt;/del&gt;&lt;/a&gt;), marking won&apos;t fix.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12394963" name="TEST-org.apache.sling.jcr.jcrinstall.jcr.impl.ResourceDetectionTest.xml" size="22101" author="darrell.pittman" created="Sun, 30 Nov 2008 15:33:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175702</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 4 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10h5b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>210912</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-743] JSP ScriptEngine should set/reset the Thread context ClassLoader while executing JSP scripts</title>
                <link>https://issues.apache.org/jira/browse/SLING-743</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;To ensure successfully compilation and execution of JSP scripts, it is essential to set the thread context class loader before calling (and thus compiling) the script and resetting the class loader afterwards. This is most important for compilation to be able to get the XML parser required for compilation.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12409220">SLING-743</key>
            <summary>JSP ScriptEngine should set/reset the Thread context ClassLoader while executing JSP scripts</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Tue, 25 Nov 2008 21:35:36 +0000</created>
                <updated>Sun, 13 Sep 2009 13:46:09 +0000</updated>
                            <resolved>Tue, 25 Nov 2008 21:44:34 +0000</resolved>
                                    <version>Scripting JSP 2.0.2</version>
                                    <fixVersion>Scripting JSP 2.0.6</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12650751" author="fmeschbe" created="Tue, 25 Nov 2008 21:44:34 +0000"  >&lt;p&gt;Fixed in Rev. 720611.&lt;/p&gt;

&lt;p&gt;Please note, that setting and resetting the thread context class loader is not required per-se to execute the JSP scripts. Rather it is required for functionality using the thread context class loader like XML parser factories and others.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175701</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 50 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rkf3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>158952</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-736] Ensure getPathInfo returns correct (expected) value</title>
                <link>https://issues.apache.org/jira/browse/SLING-736</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;According to the servlet specification, a servlet registered with path &quot;/&quot; in its web application is considered a default servlet. For such a default servlet  the HttpServletRequest.getServletPath() and HttpServletRequest.getPathInfo() methods return different results as would be expected: getServletPath() returns the request URI path (minus the servlet context path) and getPathInfo() always returns null.&lt;/p&gt;

&lt;p&gt;When Sling is deployed using the PAX Web 0.5.1 this situation happens since the SlingMainServlet is registered with path &quot;/&quot; with the HttpService.&lt;/p&gt;

&lt;p&gt;To fix this situation for Sling and ensuring the expected getServletPath() (of minor use in Sling) and getPathInfo() (very important for all authentication as well as resource resolution), the Sling engine is modified as follows:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;The SlingMainServlet is always registered with the HttpService with the servlet path &quot;/&quot;. This cannot be configurable.&lt;/li&gt;
	&lt;li&gt;The SlingHttpServletRequestImpl, which is instantiated by the SlingMainServlet to provide the SlingHttpServletRequest interface, is modified to overwrite the getServletPath() and getPathInfo() methods as follows (see also Section SRV.4.4 in Servlet API 2.4 spec) :&lt;/li&gt;
	&lt;li&gt;getServletPath() always returns &quot;&quot;&lt;/li&gt;
	&lt;li&gt;getPathInfo() always returns the getServletPath()+getPathInfo()&lt;br/&gt;
        called on the servlet container (or HttpService provided)&lt;br/&gt;
        HttpServletRequest object&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;More information on this issue is available in the Mail Thread &lt;a href=&quot;http://markmail.org/message/34cithemwzadolw3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://markmail.org/message/34cithemwzadolw3&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12408712">SLING-736</key>
            <summary>Ensure getPathInfo returns correct (expected) value</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jvazquez">Juan Vazquez</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Tue, 18 Nov 2008 07:11:53 +0000</created>
                <updated>Fri, 3 Apr 2009 12:20:18 +0000</updated>
                            <resolved>Tue, 24 Mar 2009 17:01:17 +0000</resolved>
                                    <version>Engine 2.0.2</version>
                                    <fixVersion>Engine 2.0.4</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                    <workratio workratioPercent="0"/>
                                                                    <timeoriginalestimate seconds="0">0h</timeoriginalestimate>
                            <timeestimate seconds="0">0h</timeestimate>
                                        <comments>
                            <comment id="12648518" author="fmeschbe" created="Tue, 18 Nov 2008 07:16:31 +0000"  >&lt;p&gt;Proposed patch&lt;/p&gt;</comment>
                            <comment id="12667783" author="fmeschbe" created="Tue, 27 Jan 2009 20:06:18 +0000"  >&lt;p&gt;Applied the patch in Rev. 738209.&lt;/p&gt;</comment>
                            <comment id="12688665" author="jvazquez" created="Tue, 24 Mar 2009 12:43:18 +0000"  >&lt;p&gt;Issue reopened because of behaviour reported in &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://markmail.org/thread/2afkni7anhc7eujv&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://markmail.org/thread/2afkni7anhc7eujv&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12688683" author="jvazquez" created="Tue, 24 Mar 2009 13:30:11 +0000"  >&lt;p&gt;The path info was overwritten when &quot;servletRequest.getPathInfo() != null&quot;. Although, we were using the underlying  &quot;HttpServletRequest&quot;, instead of &quot;SlingHttpServletRequest&quot;, in RequestData.initResource, so path info was still the original one.&lt;/p&gt;

&lt;p&gt;Patch applied in revision 757774.&lt;/p&gt;

&lt;p&gt;Feedback about this change would be appreciate.&lt;/p&gt;
</comment>
                            <comment id="12688748" author="jvazquez" created="Tue, 24 Mar 2009 17:01:17 +0000"  >&lt;p&gt;At first sight, everything seems to be ok. Close this issue.&lt;/p&gt;</comment>
                            <comment id="12695357" author="fmeschbe" created="Fri, 3 Apr 2009 12:11:14 +0000"  >&lt;p&gt;Looks good, I think we can close this again, right ?&lt;/p&gt;

&lt;p&gt;Thanks tracking this down and fixing.&lt;/p&gt;</comment>
                            <comment id="12695361" author="jvazquez" created="Fri, 3 Apr 2009 12:20:18 +0000"  >&lt;p&gt;Right, I think it&#180;s fixed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12394146" name="SLING-736.patch" size="4674" author="fmeschbe" created="Tue, 18 Nov 2008 07:16:31 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175695</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 31 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rk9b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>158926</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-731] Active bundles queue must be reprocessed if bundle.start() fails</title>
                <link>https://issues.apache.org/jira/browse/SLING-731</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;In BundleResourceProcessor.startBundles, if Bundle.start() fails the bundle is re-added to the activeBundles queue, but the needsRefresh flag is not set.&lt;/p&gt;

&lt;p&gt;If several bundles which depend on each other fill this queue, it might happen that the first one does not start because it needs another one that&apos;s in the queue.&lt;/p&gt;

&lt;p&gt;When that happens, the queue remains non-empty, but is never refresh if no new bundles are detected.&lt;/p&gt;

&lt;p&gt;The consequence is that some bundles might not be started until a new bundle arrives which causes the needsRefresh flag to be set.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12408439">SLING-731</key>
            <summary>Active bundles queue must be reprocessed if bundle.start() fails</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Thu, 13 Nov 2008 17:29:45 +0000</created>
                <updated>Fri, 14 Nov 2008 14:02:44 +0000</updated>
                            <resolved>Fri, 14 Nov 2008 14:02:44 +0000</resolved>
                                                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12647342" author="bdelacretaz" created="Thu, 13 Nov 2008 17:33:01 +0000"  >&lt;p&gt;Fixed in revision 713758, and the Exception that causes bundle.start to fail is now also logged.&lt;/p&gt;

&lt;p&gt;The drawback is that if a bundle is really missing a dependency, jcrinstall will try to restart it every second, until the dependency is available.&lt;/p&gt;

&lt;p&gt;We should probably use a retry count on the bundle restart, or slow down the queue processing when this happens - so leaving this issue open.&lt;/p&gt;</comment>
                            <comment id="12647609" author="bdelacretaz" created="Fri, 14 Nov 2008 14:02:44 +0000"  >&lt;p&gt;After more testing and looking more closely at the code I have reverted the change of  revision 713758 (except logging which is good) - refreshing packages is not needed in this case, restarting the bundles will happen anyway when processResourceQueue() is called.&lt;/p&gt;

&lt;p&gt;I did some manual tests by repeatedly removing and re-adding about 50 bundles with the code of revision 714005 (which also includes the changes of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-733&quot; title=&quot;Process resource detection and installation in sequence instead of asynchronously&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-733&quot;&gt;&lt;del&gt;SLING-733&lt;/del&gt;&lt;/a&gt; and things look good.&lt;/p&gt;

&lt;p&gt;We do need more testing though, the best might be to create an integration test with a real repository, adding and removing large numbers of bundles to make sure things work as expected. There&apos;s a lot of async stuff going on when jcrinstall kicks in at startup.&lt;/p&gt;

&lt;p&gt;Closing this issue for now, we&apos;ll handle the tests in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-734&quot; title=&quot;jcrinstall integration tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-734&quot;&gt;&lt;del&gt;SLING-734&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175690</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 51 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ecsf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>292001</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-728] JcrInstall should prefer config in /apps/{xyz} over /libs/{xyz}</title>
                <link>https://issues.apache.org/jira/browse/SLING-728</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;currently jcrinstall does not respect the search paths correctly.&lt;br/&gt;
the idea is, that configuration (and bundles) residing in /apps/&lt;/p&gt;
{path} should win over /libs/{path}</description>
                <environment></environment>
        <key id="12408321">SLING-728</key>
            <summary>JcrInstall should prefer config in /apps/{xyz} over /libs/{xyz}</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="tripod">Tobias Bocanegra</reporter>
                        <labels>
                    </labels>
                <created>Wed, 12 Nov 2008 10:04:14 +0000</created>
                <updated>Tue, 14 Sep 2010 15:46:18 +0000</updated>
                            <resolved>Tue, 11 Aug 2009 11:54:04 +0000</resolved>
                                    <version>JCR Installer 3.0.0</version>
                                    <fixVersion>JCR Installer 3.0.0</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12646846" author="tripod" created="Wed, 12 Nov 2008 10:04:31 +0000"  >&lt;p&gt;i will try to provide a patch...&lt;/p&gt;</comment>
                            <comment id="12646854" author="bdelacretaz" created="Wed, 12 Nov 2008 10:34:36 +0000"  >&lt;p&gt;Giving priority to one path over another for installs looks easy, in WatchedFolder.scan():&lt;/p&gt;

&lt;p&gt;while(it.hasNext()) {&lt;br/&gt;
  final Node n = it.nextNode();&lt;br/&gt;
  // add code here: ignore this node if there&apos;s another one&lt;br/&gt;
  // that &quot;masks&quot; it, from a folder with more priority&lt;br/&gt;
  for(NodeConverter nc : converters) {&lt;/p&gt;

&lt;p&gt;But handling deletes is a bit trickier, I assume that deleting a node in a priority folder should cause the config defined by the non-priority folder node to be reactivated.&lt;/p&gt;

</comment>
                            <comment id="12646931" author="bdelacretaz" created="Wed, 12 Nov 2008 15:44:10 +0000"  >&lt;p&gt;Suggested test scenario for config nodes:&lt;/p&gt;

&lt;p&gt;1. add config node A in /libs -&amp;gt; config X created&lt;br/&gt;
2. Update A -&amp;gt; X updated&lt;br/&gt;
3. add config node B in /apps, same path as A except /apps instead of /libs -&amp;gt; config X deleted and immediately recreated based on B&lt;br/&gt;
4. remove node A -&amp;gt; no effect on X&lt;br/&gt;
5. readd node A -&amp;gt; no effect on X&lt;br/&gt;
6. remove node B -&amp;gt; config X deleted and immediately recreated based on A&lt;/p&gt;

&lt;p&gt;(the fact that /apps overrides /libs is configurable of course)&lt;/p&gt;</comment>
                            <comment id="12646981" author="bdelacretaz" created="Wed, 12 Nov 2008 18:08:32 +0000"  >&lt;p&gt;A first shot is implemented in revision 713442, manually tested with the above scenario.&lt;/p&gt;

&lt;p&gt;Also tested startup with config B overriding A, successful.&lt;/p&gt;

&lt;p&gt;Need more automated tests, leaving this issue open.&lt;/p&gt;</comment>
                            <comment id="12647006" author="fmeschbe" created="Wed, 12 Nov 2008 19:16:15 +0000"  >&lt;p&gt;Re: RepositoryObserver&lt;/p&gt;

&lt;p&gt;I think hard-coding /apps as an &quot;override&quot; path and &quot;/libs&quot; as an overwritten path is not a good idea. Rather than hardcoding (or even providing configuration) for this, it would be suitable to apply the ResourceResolver.getSearchPath() to the order of configuration overwriting.&lt;/p&gt;

&lt;p&gt;Apart from using consistent values (/apps, /libs) in a consistent order (same entries and order for the configurations as for the script resolution and other stuff), it also has the benefit of requiring a single configuration.&lt;/p&gt;</comment>
                            <comment id="12741817" author="bdelacretaz" created="Tue, 11 Aug 2009 11:54:04 +0000"  >&lt;p&gt;This is now tested in &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;, see testAppsOverridesLibsNodes&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://svn.apache.org/repos/asf/sling/trunk/contrib/launchpad/testing/src/test/java/org/apache/sling/launchpad/webapp/integrationtest/jcrinstall/SimpleConfigTest.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/repos/asf/sling/trunk/contrib/launchpad/testing/src/test/java/org/apache/sling/launchpad/webapp/integrationtest/jcrinstall/SimpleConfigTest.java&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175687</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 13 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1123j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>214306</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-726] Prevent ServletResponse.setCharacterEncoding in SlingHttpServletResponseImpl</title>
                <link>https://issues.apache.org/jira/browse/SLING-726</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The Servlet API 2.4 specifies that calls to the ServletResponse.setCharacterEncoding() method should be ignored if the response has already been committed or if the getWriter() method has already been called. Likewise the character encoding being specified through ServletResponse.setContentType() should be ignored if the getWriter() method has already been called (setContentType should be ignored if the response has already been committed).&lt;/p&gt;

&lt;p&gt;Unfortunately BEA WebLogic 10.3 seems to no ignore this call and instead chooses to act upon it. It looks like WebLogic internally recodes, what has already been written, and resets it into the output buffer, but does not seem to reset the buffer offset before doing this. This causes all kind of garbage of previous requests (since buffers seem to be reused) to be added to the output ....&lt;/p&gt;

&lt;p&gt;Sling should workaround this issue by overwriting the setCharacterEncoding and setContentType methods to prevent the character encoding from being changed after getWriter() has been called.&lt;/p&gt;

&lt;p&gt;The reason, why Sling may run into problems is, that the DefaultSlingScript used by the scripting/core module to adapt scripts to the Servlet interface automatically sets the character encoding before calling the actual script. This may cause responses handled by Sling to become garbled.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12408237">SLING-726</key>
            <summary>Prevent ServletResponse.setCharacterEncoding in SlingHttpServletResponseImpl</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Tue, 11 Nov 2008 12:39:14 +0000</created>
                <updated>Tue, 11 Nov 2008 13:23:57 +0000</updated>
                            <resolved>Tue, 11 Nov 2008 13:05:25 +0000</resolved>
                                    <version>Engine 2.0.2</version>
                                    <fixVersion>Engine 2.0.4</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12646541" author="bdelacretaz" created="Tue, 11 Nov 2008 12:48:21 +0000"  >&lt;p&gt;I hate to have to implement workarounds for broken app servers, but agree that it is useful for Sling to be resilient again such problems.&lt;/p&gt;

&lt;p&gt;I suggest identifying the corresponding code as a workaround in code comments, as that should normally be none of Sling&apos;s business.&lt;/p&gt;</comment>
                            <comment id="12646542" author="fmeschbe" created="Tue, 11 Nov 2008 13:05:25 +0000"  >&lt;p&gt;Implemented and tested this fix in Rev. 713028.&lt;/p&gt;

&lt;p&gt;Specially handling the setContentType() method seems not to be required, since WebLogic 10.3 seems to correctly ignore the character set setting in this method call.&lt;/p&gt;</comment>
                            <comment id="12646545" author="fmeschbe" created="Tue, 11 Nov 2008 13:23:57 +0000"  >&lt;p&gt;@Bertrand&lt;/p&gt;

&lt;p&gt;I agree with you whole heartedly.&lt;/p&gt;

&lt;p&gt;Yet it took me almost two days, to find the cause for the problem of garbage in the output ! So implementing this workaround to ensure behaviour is spec-compliant (instead of being a buggy extension) is acceptable by me.&lt;/p&gt;

&lt;p&gt; If have placed comments referring to this bug such that the complete discussion may be tracked.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175685</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rko7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>158993</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-725] NPE in ResourceProviderEntry</title>
                <link>https://issues.apache.org/jira/browse/SLING-725</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;In o.a.s.jcr.resource.internal.helper.ResourceProviderEntry, line 137, an NPE happens when the resource object is null (getPath() is called on it). This might happen if the resource cannot be found because eg. an anonymous user does the request, who has no rights to read the node in question.&lt;/p&gt;

&lt;p&gt;Here is the stacktrace:&lt;/p&gt;

&lt;p&gt;10.11.2008 16:18:54.321 &lt;b&gt;INFO&lt;/b&gt; [127.0.0.1 &lt;span class=&quot;error&quot;&gt;&amp;#91;1226330334321&amp;#93;&lt;/span&gt; GET /bin/tree/ext.json HTTP/1.1] logs/request.log 10/Nov/2008:16:18:54 +0100 &lt;span class=&quot;error&quot;&gt;&amp;#91;1028&amp;#93;&lt;/span&gt; -&amp;gt; GET /bin/tree/ext.json?_dc=1226330323421&amp;amp;predicate=hierarchy&amp;amp;depth=0&amp;amp;path=%2Fcontent&amp;amp;node=ynode-24 HTTP/1.1&lt;br/&gt;
10.11.2008 16:18:54.322 &lt;b&gt;ERROR&lt;/b&gt; [127.0.0.1 &lt;span class=&quot;error&quot;&gt;&amp;#91;1226330334321&amp;#93;&lt;/span&gt; GET /bin/tree/ext.json HTTP/1.1] org.apache.sling.engine.impl.SlingMainServlet service: Uncaught Throwable java.lang.NullPointerException&lt;br/&gt;
	at org.apache.sling.jcr.resource.internal.helper.ResourceProviderEntry$1.&amp;lt;init&amp;gt;(ResourceProviderEntry.java:137)&lt;br/&gt;
	at org.apache.sling.jcr.resource.internal.helper.ResourceProviderEntry.listChildren(ResourceProviderEntry.java:125)&lt;br/&gt;
	at org.apache.sling.jcr.resource.internal.JcrResourceResolver.listChildren(JcrResourceResolver.java:191)&lt;br/&gt;
	at com.day.cq.widget.ExtTreeJsonWriter.getChildren(ExtTreeJsonWriter.java:165)&lt;br/&gt;
	at com.day.cq.widget.ExtTreeJsonWriter.write(ExtTreeJsonWriter.java:105)&lt;br/&gt;
	at com.day.cq.widget.ExtTreeJsonWriter.write(ExtTreeJsonWriter.java:92)&lt;br/&gt;
	at com.day.cq.widget.servlets.ExtTreeExportServlet.doGet(ExtTreeExportServlet.java:68)&lt;br/&gt;
	at com.day.cq.commons.servlets.AbstractPredicateServlet.doGet(AbstractPredicateServlet.java:73)&lt;br/&gt;
	at org.apache.sling.api.servlets.SlingSafeMethodsServlet.mayService(SlingSafeMethodsServlet.java:262)&lt;br/&gt;
	at org.apache.sling.api.servlets.SlingAllMethodsServlet.mayService(SlingAllMethodsServlet.java:134)&lt;br/&gt;
	at org.apache.sling.api.servlets.SlingSafeMethodsServlet.service(SlingSafeMethodsServlet.java:338)&lt;br/&gt;
	at org.apache.sling.api.servlets.SlingSafeMethodsServlet.service(SlingSafeMethodsServlet.java:370)&lt;br/&gt;
	at org.apache.sling.engine.impl.request.RequestData.service(RequestData.java:465)&lt;br/&gt;
	at org.apache.sling.engine.impl.filter.SlingComponentFilterChain.render(SlingComponentFilterChain.java:45)&lt;br/&gt;
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:59)&lt;br/&gt;
	at com.day.cq.wcm.core.impl.WCMDebugFilter.doFilter(WCMDebugFilter.java:145)&lt;br/&gt;
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:57)&lt;br/&gt;
	at com.day.cq.wcm.core.impl.WCMRequestFilter.filterRootInclude(WCMRequestFilter.java:292)&lt;br/&gt;
	at com.day.cq.wcm.core.impl.WCMRequestFilter.doFilter(WCMRequestFilter.java:143)&lt;br/&gt;
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:57)&lt;br/&gt;
	at org.apache.sling.engine.impl.SlingMainServlet.processRequest(SlingMainServlet.java:462)&lt;br/&gt;
	at org.apache.sling.engine.impl.filter.RequestSlingFilterChain.render(RequestSlingFilterChain.java:48)&lt;br/&gt;
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:59)&lt;br/&gt;
	at org.apache.sling.engine.impl.debug.RequestProgressTrackerLogFilter.doFilter(RequestProgressTrackerLogFilter.java:59)&lt;br/&gt;
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:57)&lt;br/&gt;
	at com.day.cq.rewriter.filter.RewriterFilter.doFilter(RewriterFilter.java:74)&lt;br/&gt;
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:57)&lt;br/&gt;
	at com.day.cq.theme.impl.ThemeResolverFilter.doFilter(ThemeResolverFilter.java:67)&lt;br/&gt;
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:57)&lt;br/&gt;
	at org.apache.sling.i18n.impl.I18NFilter.doFilter(I18NFilter.java:96)&lt;br/&gt;
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:57)&lt;br/&gt;
	at org.apache.sling.debug.impl.RequestProgressLogFilter.doFilter(RequestProgressLogFilter.java:45)&lt;br/&gt;
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:57)&lt;br/&gt;
	at org.apache.sling.engine.impl.SlingMainServlet.service(SlingMainServlet.java:296)&lt;br/&gt;
	at org.apache.sling.engine.impl.SlingMainServlet.service(SlingMainServlet.java:183)&lt;br/&gt;
	at org.eclipse.equinox.http.servlet.internal.ServletRegistration.handleRequest(ServletRegistration.java:90)&lt;br/&gt;
	at org.eclipse.equinox.http.servlet.internal.ProxyServlet.processAlias(ProxyServlet.java:109)&lt;br/&gt;
	at org.eclipse.equinox.http.servlet.internal.ProxyServlet.service(ProxyServlet.java:75)&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)&lt;br/&gt;
	at org.apache.sling.launcher.webapp.SlingServlet.service(SlingServlet.java:198)&lt;br/&gt;
	at com.day.j2ee.servletengine.ServletRuntimeEnvironment.service(ServletRuntimeEnvironment.java:228)&lt;br/&gt;
	at com.day.j2ee.servletengine.RequestDispatcherImpl.doFilter(RequestDispatcherImpl.java:315)&lt;br/&gt;
	at com.day.j2ee.servletengine.FilterChainImpl.doFilter(FilterChainImpl.java:74)&lt;br/&gt;
	at com.day.crx.launchpad.filters.CRXLaunchpadLicenseFilter.doFilter(CRXLaunchpadLicenseFilter.java:101)&lt;br/&gt;
	at com.day.j2ee.servletengine.FilterChainImpl.doFilter(FilterChainImpl.java:72)&lt;br/&gt;
	at com.day.j2ee.servletengine.RequestDispatcherImpl.service(RequestDispatcherImpl.java:334)&lt;br/&gt;
	at com.day.j2ee.servletengine.RequestDispatcherImpl.service(RequestDispatcherImpl.java:378)&lt;br/&gt;
	at com.day.j2ee.servletengine.ServletHandlerImpl.execute(ServletHandlerImpl.java:313)&lt;br/&gt;
	at com.day.j2ee.servletengine.DefaultThreadPool$DequeueThread.run(DefaultThreadPool.java:134)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:613)&lt;br/&gt;
10.11.2008 16:18:54.326 &lt;b&gt;INFO&lt;/b&gt; [127.0.0.1 &lt;span class=&quot;error&quot;&gt;&amp;#91;1226330334321&amp;#93;&lt;/span&gt; GET /bin/tree/ext.json HTTP/1.1] logs/request.log 10/Nov/2008:16:18:54 +0100 &lt;span class=&quot;error&quot;&gt;&amp;#91;1028&amp;#93;&lt;/span&gt; &amp;lt;- 500 text/html; charset=UTF-8 5ms&lt;br/&gt;
10.11.2008 16:18:54.328 &lt;b&gt;INFO&lt;/b&gt; [127.0.0.1 &lt;span class=&quot;error&quot;&gt;&amp;#91;1226330334321&amp;#93;&lt;/span&gt; GET /bin/tree/ext.json HTTP/1.1] logs/access.log localhost - anonymous 10/Nov/2008:16:18:54 +0100 &quot;GET /bin/tree/ext.json?_dc=1226330323421&amp;amp;predicate=hierarchy&amp;amp;depth=0&amp;amp;path=%2Fcontent&amp;amp;node=ynode-24 HTTP/1.1&quot; 500 7302 &quot;http://10.0.1.199:8081/libs/wcm/content/siteadmin.html&quot; &quot;Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US) AppleWebKit/525.19 (KHTML, like Gecko) Chrome/0.3.154.9 Safari/525.19&quot;&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12408152">SLING-725</key>
            <summary>NPE in ResourceProviderEntry</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="alexander.klimetschek">Alexander Klimetschek</reporter>
                        <labels>
                    </labels>
                <created>Mon, 10 Nov 2008 15:24:36 +0000</created>
                <updated>Sun, 13 Sep 2009 13:22:53 +0000</updated>
                            <resolved>Mon, 10 Nov 2008 15:48:24 +0000</resolved>
                                                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12646283" author="alexander.klimetschek" created="Mon, 10 Nov 2008 15:48:23 +0000"  >&lt;p&gt;Ups, passing a null Resource into ResourceResolver.listChildren() is actually not allowed (NPE thrown is part of the javadoc), thus closing this as invalid.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175684</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ecsn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>292002</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-724] The API of the Resource Wrapper of the Rhino integration does not reflect the actual Resource interface</title>
                <link>https://issues.apache.org/jira/browse/SLING-724</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The scripting/javascript module provides a Rhino JavaScript wrapper class for the Resource interface making it easier to be used in JavaScript scripts. Unfortunately this wrapper has slight differences in  API to the actual Resource interface:&lt;/p&gt;

&lt;p&gt;String getPath();&lt;br/&gt;
Mapped to path property and getPath() method. Correct.&lt;/p&gt;

&lt;p&gt;String getResourceType();&lt;br/&gt;
Mapped to type property and getResourceType() method. Method is correct, but property should be called resourceType.&lt;/p&gt;

&lt;p&gt;String getResourceSuperType();&lt;br/&gt;
Missing in the wrapper.&lt;/p&gt;

&lt;p&gt;ResourceMetadata getResourceMetadata();&lt;br/&gt;
Mapped to meta property and getMetadata methods. Should map to resourceMetadata property and getResourceMetadata method.&lt;/p&gt;

&lt;p&gt;ResourceResolver getResourceResolver();&lt;br/&gt;
Mapped to resourceResolver property and getResourceResolver() method. Correct.&lt;/p&gt;

&lt;p&gt;&amp;lt;AdapterType&amp;gt; AdapterType adaptTo(Class&amp;lt;AdapterType&amp;gt; type);&lt;br/&gt;
Mapped to adaptTo method. Correct.&lt;/p&gt;

&lt;p&gt;Will add missing mappings. Existing &quot;wrong&quot; mappings are being kept for backwards compatibility but documented to be deprecated. We will probably just keep these wrong mappings since they don&apos;t hurt here. In the future, we might log a message to the log about an deprecated method/property being used.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12408109">SLING-724</key>
            <summary>The API of the Resource Wrapper of the Rhino integration does not reflect the actual Resource interface</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Sun, 9 Nov 2008 15:49:32 +0000</created>
                <updated>Sun, 13 Sep 2009 13:46:11 +0000</updated>
                            <resolved>Sun, 9 Nov 2008 16:50:30 +0000</resolved>
                                    <version>Scripting JavaScript 2.0.2</version>
                                    <fixVersion> Scripting JavaScript 2.0.4</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12646095" author="fmeschbe" created="Sun, 9 Nov 2008 16:50:30 +0000"  >&lt;p&gt;Implemented the missing mappings and marked wrong mappings as deprecated in Rev. 712512. Also added new unit tests for the method/property mappings.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175683</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rl2v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>159059</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-722] NullPotinerException trying to authenticate when requesting the SlingMainServlet directly</title>
                <link>https://issues.apache.org/jira/browse/SLING-722</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Consider the SlingServlet being registered in a servlet container as /somepath and it being called as &lt;a href=&quot;http://host/somepath&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://host/somepath&lt;/a&gt;, the HttpServletRequest.getPathInfo() will return null and thus the SlingAuthenticator.getAuthenticationInfo method will throw a NullPointerException.&lt;/p&gt;

&lt;p&gt;In case of only addressing the Sling servlet, the SlingAuthenticator should assume the &lt;b&gt;/&lt;/b&gt; to select the authenticator.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12407900">SLING-722</key>
            <summary>NullPotinerException trying to authenticate when requesting the SlingMainServlet directly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Wed, 5 Nov 2008 22:16:41 +0000</created>
                <updated>Fri, 4 Apr 2014 14:19:47 +0000</updated>
                            <resolved>Wed, 5 Nov 2008 22:17:55 +0000</resolved>
                                    <version>Engine 2.0.2</version>
                                    <fixVersion>Engine 2.0.4</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12645345" author="fmeschbe" created="Wed, 5 Nov 2008 22:17:55 +0000"  >&lt;p&gt;Fixed in Revision 711721.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12662137">SLING-2998</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12706629">SLING-3492</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175681</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 1 week ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rkmf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>158985</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-720] Set jcr:mimetype to text/x-java-source for generated java files</title>
                <link>https://issues.apache.org/jira/browse/SLING-720</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;We have a web-based repository browser that will return nt:files via HTTP with the content-type derived from the jcr:content subnode&apos;s jcr:mimeType property. In Sling&apos;s JSP Scripting engine, files generated by JSP transpilation/compilation will always have their mime type set to &quot;application/octet-stream&quot; (see org.apache.sling.scripting.jsp.RepositoryOutpuStream). If jcr:mimeType could be changed to &quot;text/x-java-source&quot; for generated java files, they would be displayed directly inside the web browser.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12407871">SLING-720</key>
            <summary>Set jcr:mimetype to text/x-java-source for generated java files</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="dpfister">Dominique Pfister</reporter>
                        <labels>
                    </labels>
                <created>Wed, 5 Nov 2008 16:52:13 +0000</created>
                <updated>Sun, 13 Sep 2009 14:05:58 +0000</updated>
                            <resolved>Thu, 6 Nov 2008 04:32:03 +0000</resolved>
                                    <version>Scripting JSP 2.0.2</version>
                    <version>Commons Mime 2.0.2</version>
                                    <fixVersion>Scripting JSP 2.0.6</fixVersion>
                    <fixVersion> Commons Mime 2.0.4</fixVersion>
                                    <component>Commons</component>
                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12645393" author="fmeschbe" created="Thu, 6 Nov 2008 04:26:58 +0000"  >&lt;p&gt;Modified the commons/mime mapping of the .java extension to text/x-java-source (was text/plain) in Rev. 711769&lt;/p&gt;</comment>
                            <comment id="12645395" author="fmeschbe" created="Thu, 6 Nov 2008 04:29:50 +0000"  >&lt;p&gt;Extended the SlingIOProvider in scripting/jsp to use the ServletContext to try to derive a MIME type for created files in Rev. 711770.&lt;/p&gt;</comment>
                            <comment id="12645396" author="fmeschbe" created="Thu, 6 Nov 2008 04:31:11 +0000"  >&lt;p&gt;Affects scripting/jsp because the SlingIOProvider just assigns application/octet-stream to all files created and affactes commons/mime because the .java extension maps to the incorrect MIME type.&lt;/p&gt;</comment>
                            <comment id="12645397" author="fmeschbe" created="Thu, 6 Nov 2008 04:32:03 +0000"  >&lt;p&gt;Thanks for reporting the issue. With the fixes mentioned above, the issue should be fixed.&lt;/p&gt;

&lt;p&gt;Please close this issue, if this is ok for you. Thanks.&lt;/p&gt;</comment>
                            <comment id="12668823" author="dpfister" created="Fri, 30 Jan 2009 11:35:35 +0000"  >&lt;p&gt;Verified, resources are now delivered with the correct mime-type. Thanks!&lt;/p&gt;</comment>
                            <comment id="12669150" author="jimwhite" created="Sat, 31 Jan 2009 05:27:10 +0000"  >&lt;p&gt;This seems to call for a more general solution for the related problem of the MIME type for scripts.&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;javax.script.ScriptEngineFactory&lt;/tt&gt; provides &lt;tt&gt;getMimeTypes() }} and {{getExtensions()&lt;/tt&gt; which could/should be used to provide the proper mapping for installed scripts.&lt;/p&gt;</comment>
                            <comment id="12669360" author="fmeschbe" created="Sun, 1 Feb 2009 09:14:38 +0000"  >&lt;p&gt;Very good idea. Thanks.&lt;/p&gt;

&lt;p&gt;I created issue &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-847&quot; title=&quot;Use ScriptEngineFactory.getMimeTypes() and .getExtensions() to enhance MIME Type Resolution&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-847&quot;&gt;&lt;del&gt;SLING-847&lt;/del&gt;&lt;/a&gt; to keep track of this.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175679</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 40 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rkxr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>159036</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-717] I18n: messages with no sling:key property stop enumeration of all keys</title>
                <link>https://issues.apache.org/jira/browse/SLING-717</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If a sling:message node has no sling:key property, this will stop the ResourceBundleEnumeration, because the null key is added to the resources list in JcrResourceBundle.loadFully() and a null key is also interpreted as the &quot;end marker&quot; in ResourceBundleEnumeration.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12407733">SLING-717</key>
            <summary>I18n: messages with no sling:key property stop enumeration of all keys</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="alexander.klimetschek">Alexander Klimetschek</reporter>
                        <labels>
                    </labels>
                <created>Mon, 3 Nov 2008 20:58:32 +0000</created>
                <updated>Tue, 4 Nov 2008 13:54:18 +0000</updated>
                            <resolved>Tue, 4 Nov 2008 13:31:36 +0000</resolved>
                                    <version>I18n 2.0.2</version>
                                    <fixVersion>I18n 2.0.2</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12644806" author="alexander.klimetschek" created="Mon, 3 Nov 2008 21:01:56 +0000"  >&lt;p&gt;Patch that checks for null values of sling:key and skips them.&lt;/p&gt;</comment>
                            <comment id="12644817" author="fmeschbe" created="Mon, 3 Nov 2008 21:43:14 +0000"  >&lt;p&gt;The attached patch is propably not correct in that a message entry without a key should use the entry node&apos;s name as the key, such as in my attached patch.&lt;/p&gt;</comment>
                            <comment id="12644930" author="alexander.klimetschek" created="Tue, 4 Nov 2008 09:41:30 +0000"  >&lt;p&gt;You are right, using the node name as fallback was actually a design goal in some earlier discussion. So I would prefer the second patch as well.&lt;/p&gt;</comment>
                            <comment id="12644958" author="fmeschbe" created="Tue, 4 Nov 2008 13:31:36 +0000"  >&lt;p&gt;Implemented the change in Rev. 711247.&lt;/p&gt;

&lt;p&gt;Please close this issue, if this fixes your problem. Thanks.&lt;/p&gt;</comment>
                            <comment id="12644967" author="alexander.klimetschek" created="Tue, 4 Nov 2008 13:54:18 +0000"  >&lt;p&gt;Thanks for the quick action, changes work fine!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12393266" name="SLING-717.fmeschbe.patch" size="1072" author="fmeschbe" created="Mon, 3 Nov 2008 21:43:14 +0000"/>
                            <attachment id="12393265" name="SLING-717.patch" size="1337" author="alexander.klimetschek" created="Mon, 3 Nov 2008 21:01:56 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175676</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 1 week, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rkbz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>158938</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-716] Unit tests fail while building</title>
                <link>https://issues.apache.org/jira/browse/SLING-716</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;With the changes applied as per &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-709&quot; title=&quot;Synchronization issues while managing bundles&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-709&quot;&gt;&lt;del&gt;SLING-709&lt;/del&gt;&lt;/a&gt; the unit tests of the extensions/jcrinstall module fail.&lt;/p&gt;

&lt;p&gt;It seems that the addition of the registration as a FrameworkListener causes the MockObjects expectations to fail.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12407355">SLING-716</key>
            <summary>Unit tests fail while building</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 Oct 2008 15:08:42 +0000</created>
                <updated>Tue, 14 Sep 2010 15:46:10 +0000</updated>
                            <resolved>Mon, 3 Nov 2008 21:24:20 +0000</resolved>
                                    <version>JCR Installer 3.0.0</version>
                                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12643230" author="fmeschbe" created="Tue, 28 Oct 2008 15:14:41 +0000"  >&lt;p&gt;Disabled unit tests for now in Rev. 708596.&lt;/p&gt;

&lt;p&gt;When this issue is fixed, the unit tests should be enabled again by removing the setting of the maven.test.skip property in the pom.xml&lt;/p&gt;</comment>
                            <comment id="12644810" author="bdelacretaz" created="Mon, 3 Nov 2008 21:24:20 +0000"  >&lt;p&gt;Fixed in revision 710163, all tests pass now&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175675</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 1 week, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i111in:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>214212</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-715] Need typed values support in jcrinstall cfg files</title>
                <link>https://issues.apache.org/jira/browse/SLING-715</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;As OSGi configs can use typed values, the cfg file format should provide a way to set the type of specific properties.&lt;/p&gt;

&lt;p&gt;In addition to the [] syntax defined by &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-707&quot; title=&quot;jcrinstall cfg syntax too rigid, does not accept comments&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-707&quot;&gt;&lt;del&gt;SLING-707&lt;/del&gt;&lt;/a&gt;:&lt;/p&gt;

&lt;p&gt;this.is.a.multivalue.property[] = one, two, three&lt;/p&gt;

&lt;p&gt;I&apos;ll add a brackets-based syntax for typed properties:&lt;/p&gt;

&lt;p&gt;this.is.a.boolean(boolean) = true&lt;br/&gt;
this.is.an.integer(integer) = 242&lt;br/&gt;
this.is.a.double(double) = 3.141592654&lt;/p&gt;

&lt;p&gt;It would be much easier to support multivalued and typed properties with JCR nodes, so we&apos;ll probably need to revisit this later.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12407354">SLING-715</key>
            <summary>Need typed values support in jcrinstall cfg files</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 Oct 2008 14:28:31 +0000</created>
                <updated>Tue, 21 Jul 2009 10:22:49 +0000</updated>
                            <resolved>Tue, 28 Oct 2008 14:30:14 +0000</resolved>
                                                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12643224" author="bdelacretaz" created="Tue, 28 Oct 2008 14:30:14 +0000"  >&lt;p&gt;Implemented in revision 708583&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175674</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 2 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ect3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>292004</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-710] Scheduler should user service id for registering services</title>
                <link>https://issues.apache.org/jira/browse/SLING-710</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Currently the scheduler uses the pid to register a service. In the case of an bundle update, the new service has the same pid as the old service. But as the bind method with the new&lt;br/&gt;
service is invoked before the unbind with the old service, the scheduler stops the previously scheduled new service.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12407260">SLING-710</key>
            <summary>Scheduler should user service id for registering services</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Mon, 27 Oct 2008 09:44:27 +0000</created>
                <updated>Sun, 13 Sep 2009 13:04:12 +0000</updated>
                            <resolved>Mon, 27 Oct 2008 10:00:21 +0000</resolved>
                                    <version>Commons Scheduler 2.0.2</version>
                                    <fixVersion>Commons Scheduler 2.0.4</fixVersion>
                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12642882" author="cziegeler" created="Mon, 27 Oct 2008 10:00:21 +0000"  >&lt;p&gt;Fixed in r708122 by appending the service pid to the pid or the provided name.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175669</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 2 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rkwv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>159032</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-708] JCR Install may not completely install bundles</title>
                <link>https://issues.apache.org/jira/browse/SLING-708</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Sometimes we have a situation were bundles are installed by JCR Install but remain in either INSTALLED or RESOLVED state but do not get started. Looking at the code it looks like the JCR Install bundle might be stopped (or at least the OSGi Controller is being stopped) at a moment where the BundleResourceProcessor&apos;s pending queue is not empty. Since this queue is not persisted, the bundles not started at the moment of the OSGi Controller stopp, will never be started.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12407064">SLING-708</key>
            <summary>JCR Install may not completely install bundles</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Thu, 23 Oct 2008 07:06:51 +0000</created>
                <updated>Tue, 14 Sep 2010 15:46:38 +0000</updated>
                            <resolved>Tue, 28 Oct 2008 15:07:01 +0000</resolved>
                                    <version>JCR Installer 3.0.0</version>
                                    <fixVersion>JCR Installer 3.0.0</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12643229" author="fmeschbe" created="Tue, 28 Oct 2008 15:07:01 +0000"  >&lt;p&gt;This issue has been fixed by the update to Rev. 708593 as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-709&quot; title=&quot;Synchronization issues while managing bundles&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-709&quot;&gt;&lt;del&gt;SLING-709&lt;/del&gt;&lt;/a&gt;. Therefore also closing this issue.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175667</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 2 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1123z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>214308</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-701] HtmlResponse should replace all place holders</title>
                <link>https://issues.apache.org/jira/browse/SLING-701</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Currently the HtlmResponse leaves the placeholders in the response if there is no value for a placeholder. Instead it should remove the placeholder as&lt;br/&gt;
otherwise the client has to take extra care to detect if a value is really missing &lt;/p&gt;</description>
                <environment></environment>
        <key id="12406693">SLING-701</key>
            <summary>HtmlResponse should replace all place holders</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Fri, 17 Oct 2008 16:15:54 +0000</created>
                <updated>Mon, 20 Oct 2008 14:04:47 +0000</updated>
                            <resolved>Mon, 20 Oct 2008 14:04:47 +0000</resolved>
                                    <version>API 2.0.2</version>
                                    <fixVersion>API 2.0.4</fixVersion>
                                    <component>API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12641017" author="cziegeler" created="Mon, 20 Oct 2008 14:04:47 +0000"  >&lt;p&gt;The placeholder is now always removed. If the corresponding property value is not available it is replaced with an empty string&lt;br/&gt;
Fixed in Revision 706296&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175660</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 3 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rkbj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>158936</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-698] Repository Ping thread may terminate without any traces in the log files</title>
                <link>https://issues.apache.org/jira/browse/SLING-698</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The Repository Ping thread ensures the repository is shutdown (or released) and the service unregistered when the thread terminates. The problem is, that the thread may either terminate because it is asked to terminate as per AbstractSlingRepository.stopRepositoryPinger called by the deactivate method or it terminates because of an uncaught Throwable. Neither case is currently properly logged.&lt;/p&gt;

&lt;p&gt;The AbstractSlingRepository.run() method should log the following situations:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;request to terminate as per AbstractSlingRepository.stopRepositoryPinger as INFO message&lt;/li&gt;
	&lt;li&gt;uncaught throwable as ERROR message&lt;/li&gt;
	&lt;li&gt;it is about to be going down as an INFO message&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12406578">SLING-698</key>
            <summary>Repository Ping thread may terminate without any traces in the log files</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 Oct 2008 09:48:57 +0000</created>
                <updated>Tue, 11 Nov 2008 15:29:26 +0000</updated>
                            <resolved>Tue, 11 Nov 2008 15:29:26 +0000</resolved>
                                    <version>JCR Base 2.0.2</version>
                                    <fixVersion>JCR Base 2.0.4</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12646568" author="fmeschbe" created="Tue, 11 Nov 2008 15:29:26 +0000"  >&lt;p&gt;Logging has been added to the pinger thread. I think this bug can be closed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175657</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rksf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>159012</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-694] Initial Content does not load initial content from a file </title>
                <link>https://issues.apache.org/jira/browse/SLING-694</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;At the moment it is not possible to use the initial content feature to create a node based on a single JSON file.The initial content rule&lt;br/&gt;
CQ-INF/content/etc/designs/xyz.json;overwrite:=true;path:=/etc/designs/xyz&lt;br/&gt;
which should take the xyz.json file from the bundle and import it at /etc/designs/xyz does not work. In the log one can see entries which indicate that the content loader does not find the xyz.json file (maybe because the content loader thinks xyz.json is a folder name?).&lt;/p&gt;

&lt;p&gt;As we want to create (or overwrite, if it already exists) the /etc/designs/xyz node but leave all other existing content under /etc/designs intact, we have to use the xyz.json file and cannot define the whole designs-folder as initial content.&lt;/p&gt;

&lt;p&gt;It would be great and help us a lot if this bug was fixed for load 29.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12406312">SLING-694</key>
            <summary>Initial Content does not load initial content from a file </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="mikep">Mike Pfaff</reporter>
                        <labels>
                    </labels>
                <created>Mon, 13 Oct 2008 15:52:03 +0000</created>
                <updated>Wed, 17 Feb 2010 08:00:43 +0000</updated>
                            <resolved>Fri, 11 Dec 2009 12:12:25 +0000</resolved>
                                    <version>JCR Contentloader 2.0.4</version>
                                    <fixVersion>JCR Contentloader 2.0.6</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12639085" author="alexander.klimetschek" created="Mon, 13 Oct 2008 16:07:58 +0000"  >&lt;p&gt;Not sure if it really works, but have you tried &quot;path:=/etc/designs&quot; ?&lt;/p&gt;</comment>
                            <comment id="12639111" author="mikep" created="Mon, 13 Oct 2008 17:02:34 +0000"  >&lt;p&gt;Just tried it with this config:&lt;br/&gt;
CQ-INF/content/etc/designs/xyz.json;overwrite:=true;path:=/etc/designs&lt;/p&gt;

&lt;p&gt;The import did NOT work, but i got the following xyz.json related messages in the error.log:&lt;br/&gt;
13.10.2008 18:56:52.262 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Background Updatecom.customerxy.xyz-cq.xyz-cq-components (96)&amp;#93;&lt;/span&gt; org.apache.sling.jcr.contentloader.internal.Loader install: No initial content entries at CQ-INF/content/etc/designs/xyz.json&lt;br/&gt;
13.10.2008 18:56:57.214 &lt;b&gt;INFO&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;FelixPackageAdmin&amp;#93;&lt;/span&gt; org.apache.sling.jcr.contentloader.internal.Loader install: No initial content entries at CQ-INF/content/etc/designs/xyz.json&lt;/p&gt;</comment>
                            <comment id="12639137" author="cziegeler" created="Mon, 13 Oct 2008 17:58:38 +0000"  >&lt;p&gt;You&apos;re assuming correctly that the content loader is working on folders as the basic input, therefore something like&lt;/p&gt;

&lt;p&gt;CQ-INF/content/etc/designs/;overwrite:=true;path:=/etc/designs&lt;/p&gt;

&lt;p&gt;with just xyz.json in &quot;CQ-INF/content/etc/designs/&quot; should do the trick I think.&lt;/p&gt;</comment>
                            <comment id="12639216" author="mikep" created="Mon, 13 Oct 2008 22:00:25 +0000"  >&lt;p&gt;I tried it with your suggestion and it seems to work, thanks for the hint! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; My problem is now solved with this workaround, but i still believe that the content loader should support input from files too, not only from folders. &lt;/p&gt;

&lt;p&gt;This feature is even mentioned in the documentation: &lt;a href=&quot;http://incubator.apache.org/sling/site/content-loading.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://incubator.apache.org/sling/site/content-loading.html&lt;/a&gt; where the table with the &quot;Entry Type&quot; and &quot;Installation method&quot; columns says that &quot;Entry Type&quot;=&quot;File&quot; should be supported.&lt;/p&gt;</comment>
                            <comment id="12639219" author="mikep" created="Mon, 13 Oct 2008 22:02:44 +0000"  >&lt;p&gt;You might also want to discuss this bug/feature with Felix, as he helped me with the initial content setup on our project and might have some more background info.&lt;/p&gt;</comment>
                            <comment id="12789263" author="cziegeler" created="Fri, 11 Dec 2009 12:12:25 +0000"  >&lt;p&gt;Added support for a file in revision: 889584&lt;/p&gt;</comment>
                            <comment id="12789265" author="cziegeler" created="Fri, 11 Dec 2009 12:13:11 +0000"  >&lt;p&gt;This should now work with:&lt;br/&gt;
CQ-INF/content/etc/designs/xyz.json;overwrite:=true;path:=/etc/designs&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175654</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 47 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10zm7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>213904</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-693] Sling request attributes not properly reset after an resource include</title>
                <link>https://issues.apache.org/jira/browse/SLING-693</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The &quot;org.apache.sling.api.include.servlet&quot; and &quot;org.apache.sling.api.include.resource&quot; request attributes are defined in the Sling API to be set to be the servlet including the currently executing servlet and the resource pertaining to that including servlet.&lt;/p&gt;

&lt;p&gt;Currently, the attribute is just set when a resource is included through the RequestDispatcher. When the include returns from the RequestDispatcher the attribtues are not reset to the previous values, thus still reflecting &quot;self&quot; instead of the actual including servlet.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12406283">SLING-693</key>
            <summary>Sling request attributes not properly reset after an resource include</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Mon, 13 Oct 2008 07:43:58 +0000</created>
                <updated>Mon, 13 Oct 2008 11:13:32 +0000</updated>
                            <resolved>Mon, 13 Oct 2008 11:13:32 +0000</resolved>
                                    <version>Engine 2.0.2</version>
                                    <fixVersion>Engine 2.0.4</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12639022" author="fmeschbe" created="Mon, 13 Oct 2008 11:13:32 +0000"  >&lt;p&gt;Implemented with integration tests in Rev. 704012.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175653</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 4 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rkzb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>159043</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-689] SlingScriptEngineManager.getEngineFactories has wrong return type</title>
                <link>https://issues.apache.org/jira/browse/SLING-689</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The return type of SlingScriptEngineManager.getEngineFactories is List&amp;lt;?&amp;gt; but should be List&amp;lt;ScriptEngineFactory&amp;gt; in order to be compatible with jdk1.6.0. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12405743">SLING-689</key>
            <summary>SlingScriptEngineManager.getEngineFactories has wrong return type</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="mduerig">Michael D&#252;rig</reporter>
                        <labels>
                    </labels>
                <created>Sat, 4 Oct 2008 18:04:16 +0000</created>
                <updated>Mon, 13 Oct 2008 11:14:46 +0000</updated>
                            <resolved>Mon, 13 Oct 2008 09:19:45 +0000</resolved>
                                                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12638987" author="bdelacretaz" created="Mon, 13 Oct 2008 09:19:45 +0000"  >&lt;p&gt;Fixed in revision 703986, thanks!&lt;/p&gt;</comment>
                            <comment id="12638991" author="fmeschbe" created="Mon, 13 Oct 2008 09:30:38 +0000"  >&lt;p&gt;Have you tested this on a Java 1.5 VM ?&lt;/p&gt;

&lt;p&gt;I suspect this might give issues, because on Java 1.5 we use the BSF 3 implementation of JSR-223 which is not implemented with generics ...&lt;/p&gt;


&lt;p&gt;(This is actually also the reason, why I did not handle this issue yet &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; )&lt;/p&gt;</comment>
                            <comment id="12638995" author="bdelacretaz" created="Mon, 13 Oct 2008 09:42:11 +0000"  >&lt;p&gt;All Sling tests pass on my java 1.5 / macosx system, so I assumed it&apos;s fine.&lt;/p&gt;</comment>
                            <comment id="12639024" author="fmeschbe" created="Mon, 13 Oct 2008 11:14:46 +0000"  >&lt;p&gt;Alright. Thanks for the confirmation and sorry to bother&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175649</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 4 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1135j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>214477</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-687]  Can&apos;t get the resource when _ in the path</title>
                <link>https://issues.apache.org/jira/browse/SLING-687</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Sling can&apos;t find the resource when there is 2 &quot; _&quot;  in the path.&lt;/p&gt;

&lt;p&gt;Such as /a/_b/_c.&lt;/p&gt;

&lt;p&gt;At that case the resource &quot;_c&quot; can&apos;t be found. You will get a http 404 when  trying to get it. But you can see it in WebDAV.&lt;/p&gt;</description>
                <environment>java version &amp;quot;1.5.0_16&amp;quot;&lt;br/&gt;
Java(TM) 2 Runtime Environment, Standard Edition (build 1.5.0_16-b06-284)&lt;br/&gt;
Java HotSpot(TM) Client VM (build 1.5.0_16-133, mixed mode, sharing)&lt;br/&gt;
OS X&lt;br/&gt;
Sling Launchpad app 3</environment>
        <key id="12405534">SLING-687</key>
            <summary> Can&apos;t get the resource when _ in the path</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="guitarpoet">&#20184;&#23591;</reporter>
                        <labels>
                    </labels>
                <created>Wed, 1 Oct 2008 12:16:14 +0000</created>
                <updated>Sun, 13 Sep 2009 13:22:55 +0000</updated>
                            <resolved>Wed, 8 Oct 2008 12:20:51 +0000</resolved>
                                    <version>JCR Resource 2.0.4</version>
                                    <fixVersion>JCR Resource 2.0.4</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="3600">1h</timeoriginalestimate>
                            <timeestimate seconds="3600">1h</timeestimate>
                                        <comments>
                            <comment id="12636010" author="guitarpoet" created="Wed, 1 Oct 2008 12:19:24 +0000"  >&lt;p&gt;I get the bug now. It is in the regex pattern of url remapping.&lt;/p&gt;

&lt;p&gt;Sling uses _a_b to map for a:b in jcr. The pattern is this /&lt;em&gt;(.+?)&lt;/em&gt;|/:&lt;/p&gt;

&lt;p&gt;But the regex is too greedy. So, if I have this, /_a/_b, &amp;lt;-- Only the valid path, no namespaces.&lt;/p&gt;

&lt;p&gt;It will use this mapping /_(a/)_b. So the result will be /a/:b, and it is wrong.&lt;/p&gt;

&lt;p&gt;I change the pattern to &quot;/&lt;em&gt;(&lt;span class=&quot;error&quot;&gt;&amp;#91;^/&amp;#93;&lt;/span&gt;+?)&lt;/em&gt;|/:&quot;, only a tiny change. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12391280" name="JcrResourceResolverFactoryImpl.java.diff" size="1070" author="guitarpoet" created="Wed, 1 Oct 2008 12:19:24 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175647</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 6 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rk47:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>158903</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-685] jcrinstall config files do not support comments or extra whitespace</title>
                <link>https://issues.apache.org/jira/browse/SLING-685</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Since &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-684&quot; title=&quot;JcrInstall fails to read multivalued properties from config&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-684&quot;&gt;&lt;del&gt;SLING-684&lt;/del&gt;&lt;/a&gt;, the Felix ConfigurationHandler class is used to read property files.&lt;/p&gt;

&lt;p&gt;The upside is that it supports multi-valued properties, but the downside is a much stricter configuration file format as compared to simple Properties.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12405455">SLING-685</key>
            <summary>jcrinstall config files do not support comments or extra whitespace</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Tue, 30 Sep 2008 12:25:09 +0000</created>
                <updated>Tue, 14 Sep 2010 15:46:18 +0000</updated>
                            <resolved>Tue, 11 Aug 2009 11:58:44 +0000</resolved>
                                                    <fixVersion>JCR Installer 3.0.0</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12741826" author="bdelacretaz" created="Tue, 11 Aug 2009 11:58:44 +0000"  >&lt;p&gt;Fixed a while ago, including tests in &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;  &lt;a href=&quot;http://svn.apache.org/repos/asf/sling/trunk/contrib/launchpad/testing/src/test/java/org/apache/sling/launchpad/webapp/integrationtest/jcrinstall/SimpleConfigTest.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/repos/asf/sling/trunk/contrib/launchpad/testing/src/test/java/org/apache/sling/launchpad/webapp/integrationtest/jcrinstall/SimpleConfigTest.java&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12405450">SLING-684</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175645</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 13 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ecuf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>292010</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-684] JcrInstall fails to read multivalued properties from config</title>
                <link>https://issues.apache.org/jira/browse/SLING-684</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description></description>
                <environment></environment>
        <key id="12405450">SLING-684</key>
            <summary>JcrInstall fails to read multivalued properties from config</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="tripod">Tobias Bocanegra</reporter>
                        <labels>
                    </labels>
                <created>Tue, 30 Sep 2008 11:34:15 +0000</created>
                <updated>Tue, 30 Sep 2008 12:27:16 +0000</updated>
                            <resolved>Tue, 30 Sep 2008 12:27:16 +0000</resolved>
                                                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12635722" author="tripod" created="Tue, 30 Sep 2008 11:35:41 +0000"  >&lt;p&gt;uses ConfigurationHandler to read the properties&lt;/p&gt;</comment>
                            <comment id="12635732" author="bdelacretaz" created="Tue, 30 Sep 2008 12:27:16 +0000"  >&lt;p&gt;Patch applied in revision 700431, thanks!&lt;/p&gt;

&lt;p&gt;The &quot;new&quot; configuration format is much less permissive than Properties though, I have committed it as it improves functionality, but we&apos;ll need to fix &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-685&quot; title=&quot;jcrinstall config files do not support comments or extra whitespace&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-685&quot;&gt;&lt;del&gt;SLING-685&lt;/del&gt;&lt;/a&gt; using either a filtering InputStream, or by making the ConfigurationHandler more lenient.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12405455">SLING-685</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12391209" name="jcrinstall-r698192.patch" size="2862" author="tripod" created="Tue, 30 Sep 2008 11:35:41 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175644</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 6 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ecun:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>292011</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-679] DefaultSlingScript unconditionally sets the response character encoding</title>
                <link>https://issues.apache.org/jira/browse/SLING-679</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The DefaultSlingScript.service method, which is called by the Sling runtime to execute a script to handle a request, sets the response content type and character encoding. While the content type is only set if it can be defaulted throught the request (SlingHttpServletRequest.getResponseContentType()) the charatcer encoding is unconditionally set to UTF-8.&lt;/p&gt;

&lt;p&gt;This causes such interesting content type headers as &quot;image/png; charset=UTF-8&quot;, which is not technically wrong, but certainly strange.&lt;/p&gt;

&lt;p&gt;It would be more correct to only set the default character encoding if the default content type as retrieved from the request is a text content type, e.g. text/plain, text/html, text/x-whatever.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12405345">SLING-679</key>
            <summary>DefaultSlingScript unconditionally sets the response character encoding</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Mon, 29 Sep 2008 06:25:57 +0000</created>
                <updated>Mon, 29 Sep 2008 06:50:07 +0000</updated>
                            <resolved>Mon, 29 Sep 2008 06:50:07 +0000</resolved>
                                    <version>Scripting Core 2.0.2</version>
                                    <fixVersion>Scripting Core 2.0.4</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12635299" author="fmeschbe" created="Mon, 29 Sep 2008 06:29:24 +0000"  >&lt;p&gt;Changes in Rev. 699995:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Only set the default character set if the content type is a text/ content type&lt;/li&gt;
	&lt;li&gt;Do not write a warn message to the log (debug is ok) if the request cannot provide a default content type&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12635304" author="fmeschbe" created="Mon, 29 Sep 2008 06:50:07 +0000"  >&lt;p&gt;Content type and encoding is properly set now. Therefore closing this issue.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175639</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 6 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rk7r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>158919</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-677] Reuse top level scope for the complete request processing thread</title>
                <link>https://issues.apache.org/jira/browse/SLING-677</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Currently the RhinoJavaScriptEngine creates a new scope for each call to the eval method to execute the respective script. On the other hand Rhino maintains a per-thread top level scope, which is set when the first script is called. This causes multiple top level scopes to be used by the script and Rhino and thus may cause reference issues.&lt;/p&gt;

&lt;p&gt;It would be better to only create one single top level scope, when the rhino is used for the first time during request processing and to reuse that scope on included scripts.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12405246">SLING-677</key>
            <summary>Reuse top level scope for the complete request processing thread</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Fri, 26 Sep 2008 15:24:39 +0000</created>
                <updated>Sun, 13 Sep 2009 13:46:13 +0000</updated>
                            <resolved>Fri, 26 Sep 2008 15:27:44 +0000</resolved>
                                    <version>Scripting JavaScript 2.0.2</version>
                                    <fixVersion> Scripting JavaScript 2.0.4</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12634896" author="fmeschbe" created="Fri, 26 Sep 2008 15:27:44 +0000"  >&lt;p&gt;Implemented this change in Rev. 699367. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175637</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 6 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rkvj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>159026</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-676] Rhino context not properly shutdown when bundle is stopped</title>
                <link>https://issues.apache.org/jira/browse/SLING-676</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Upon shutdown of the scripting/javascript bundle, the Rhino context is not properly shutdown thus leaving traces in the system and preventing correct garbage collection the classes. Most notably the following issues occurr in the factory:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;The Context used to create the root scope is never exited (this leaves a thread-local behind)&lt;/li&gt;
	&lt;li&gt;The Debugger window is not properly closed (this leaves traces in the AWT behind)&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12405239">SLING-676</key>
            <summary>Rhino context not properly shutdown when bundle is stopped</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Fri, 26 Sep 2008 14:06:43 +0000</created>
                <updated>Sun, 13 Sep 2009 13:46:12 +0000</updated>
                            <resolved>Fri, 26 Sep 2008 15:44:43 +0000</resolved>
                                    <version>Scripting JavaScript 2.0.2</version>
                                    <fixVersion> Scripting JavaScript 2.0.4</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12634902" author="fmeschbe" created="Fri, 26 Sep 2008 15:43:18 +0000"  >&lt;p&gt;Committed a first step in Rev. 699372.&lt;/p&gt;

&lt;p&gt;A further step is linked to &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-678&quot; title=&quot;Enable  Rhino debugger by framework property&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-678&quot;&gt;&lt;del&gt;SLING-678&lt;/del&gt;&lt;/a&gt; because it involves better control over the server side debugger.&lt;/p&gt;</comment>
                            <comment id="12634904" author="fmeschbe" created="Fri, 26 Sep 2008 15:44:43 +0000"  >&lt;p&gt;Checking Rev. 699373 completes this fix.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175636</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 6 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rkw7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>159029</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-675] JspFactoryImpl class uses PageContext pooling but does not clear the ThreadLocals</title>
                <link>https://issues.apache.org/jira/browse/SLING-675</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The JspFactoryImpl class uses pooling for the PageContext objects and stores the pools in ThreadLocals. Besides not being needed anymore these days, the problem with these thread locals is, that they are not cleaned up.&lt;/p&gt;

&lt;p&gt;So we have to take precaution to prevent using pools for the PageContext objects.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12405149">SLING-675</key>
            <summary>JspFactoryImpl class uses PageContext pooling but does not clear the ThreadLocals</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Thu, 25 Sep 2008 14:13:00 +0000</created>
                <updated>Sun, 13 Sep 2009 13:46:15 +0000</updated>
                            <resolved>Thu, 25 Sep 2008 14:17:07 +0000</resolved>
                                    <version>Scripting JSP 2.0.2</version>
                                    <fixVersion>Scripting JSP 2.0.6</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12634488" author="fmeschbe" created="Thu, 25 Sep 2008 14:17:07 +0000"  >&lt;p&gt;Implemented pooling prevention in Rev. 698978/698980.&lt;/p&gt;

&lt;p&gt;The problem with preventing pooling is, that the JspFactoryImpl class uses a system property to define whether to use pooling or not. When running in an container framework (OSGi, Servlet Container, App Server), using system properties is kind of problematic.&lt;/p&gt;

&lt;p&gt;So we temporaly set the system property, load the JspFactoryImpl class to configure from the system property, and reset or clear the system property afterwards.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175635</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 6 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rkhr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>158964</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-672] Parameter name decoding fails</title>
                <link>https://issues.apache.org/jira/browse/SLING-672</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Currently part of request parameter re-ecoding is the re-encoding of the request parameter names. This is done in the Util.fixEncoding method. Parameter name re-encoding is done using the URLDecoder.decode method with the idea, that the name is still URL-encoded.&lt;/p&gt;

&lt;p&gt;This does not seem to be the case &amp;#8211; in fact a test shows, that (at least FF 2) sends request parameter names not URL-encoded but encoded with the form character set.&lt;/p&gt;

&lt;p&gt;So the correct way probably (this is real trial and error stuff, unfortunately) is to not do URL decoding but to just re-encode the parameter name.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12404935">SLING-672</key>
            <summary>Parameter name decoding fails</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Tue, 23 Sep 2008 08:46:55 +0000</created>
                <updated>Tue, 23 Sep 2008 12:30:27 +0000</updated>
                            <resolved>Tue, 23 Sep 2008 11:50:24 +0000</resolved>
                                    <version>Engine 2.0.2</version>
                                    <fixVersion>Engine 2.0.4</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12633697" author="fmeschbe" created="Tue, 23 Sep 2008 11:50:24 +0000"  >&lt;p&gt;Implemented correct re-encoding in Rev. 698147.&lt;/p&gt;</comment>
                            <comment id="12633710" author="fmeschbe" created="Tue, 23 Sep 2008 12:30:27 +0000"  >&lt;p&gt;Tested this fix with two servlet containers (Jetty and Day Servlet Engine) as well as with Firefox 2 on Linux and Windows and Firefox 3 (Windows), IE6 (Windows) and Safari (Windows).&lt;/p&gt;

&lt;p&gt;Provided the data is submitted as a multipart/form-data POST request, the form data is correctly encoded and may be used for further perusal.&lt;/p&gt;

&lt;p&gt;Considering this issue fix.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175632</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 7 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rkn3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>158988</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-670] Launcher Main class: some comments out of place, duplicate code</title>
                <link>https://issues.apache.org/jira/browse/SLING-670</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;It looks like some comments have not moved along with the code as it evolved, also contains duplicate setting of log level.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12404881">SLING-670</key>
            <summary>Launcher Main class: some comments out of place, duplicate code</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="moritzh">Moritz Havelock</reporter>
                        <labels>
                    </labels>
                <created>Mon, 22 Sep 2008 15:31:27 +0000</created>
                <updated>Sun, 13 Sep 2009 12:58:17 +0000</updated>
                            <resolved>Fri, 26 Sep 2008 12:04:16 +0000</resolved>
                                    <version>Launchpad Base 2.0.4</version>
                                    <fixVersion>Launchpad Base 2.0.4</fixVersion>
                                    <component>Launchpad</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12634834" author="fmeschbe" created="Fri, 26 Sep 2008 12:04:16 +0000"  >&lt;p&gt;Thanks for providing the patch. I have applied in to Rev. 699290.&lt;/p&gt;

&lt;p&gt;Please close, if this fixes your issue. Thanks.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12390657" name="SLING-670.patch" size="2166" author="moritzh" created="Mon, 22 Sep 2008 15:32:44 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175630</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 6 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rkj3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>158970</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-668] SlingPostServlet fails with NPE when posting to root node</title>
                <link>https://issues.apache.org/jira/browse/SLING-668</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If a POST to / is handled by the SlingPostServlet, it will fail with an NPE because AbstractSlingPostOperation tries to externalize the parent path (which is null for the root node) for setting the parent location of the response.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12404849">SLING-668</key>
            <summary>SlingPostServlet fails with NPE when posting to root node</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="alexander.klimetschek">Alexander Klimetschek</reporter>
                        <labels>
                    </labels>
                <created>Mon, 22 Sep 2008 09:26:36 +0000</created>
                <updated>Sun, 13 Sep 2009 13:39:18 +0000</updated>
                            <resolved>Fri, 26 Sep 2008 12:28:31 +0000</resolved>
                                    <version>Servlets Post 2.0.2</version>
                                    <fixVersion>Servlets Post 2.0.4</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12633189" author="alexander.klimetschek" created="Mon, 22 Sep 2008 09:27:33 +0000"  >&lt;p&gt;Patch that solves the issue by not setting the parent location when the parent path is null.&lt;/p&gt;</comment>
                            <comment id="12634837" author="fmeschbe" created="Fri, 26 Sep 2008 12:28:31 +0000"  >&lt;p&gt;Applied your patch in Rev. 699297. Thanks for providing it.&lt;/p&gt;

&lt;p&gt;If this resolves your issue, please close this. Thanks.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12390620" name="SLING-668.patch" size="708" author="alexander.klimetschek" created="Mon, 22 Sep 2008 09:27:33 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175628</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 6 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rkzz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>159046</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-667] sling:VanityPath may not be registered during bundle update</title>
                <link>https://issues.apache.org/jira/browse/SLING-667</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If the jcr/resource bundle is updated from an earlier version to the current trunk version, the registration of sling:VanityPath may fail and thus the JcrResourceResolver may fail because the query in JcrResourceResolver.searchVanityPath will fail due to the missing node type.&lt;/p&gt;

&lt;p&gt;Solution is to split the node type definition file such that the sling:VanityPath node type is defined in its own file.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12404711">SLING-667</key>
            <summary>sling:VanityPath may not be registered during bundle update</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Fri, 19 Sep 2008 07:01:07 +0000</created>
                <updated>Sun, 13 Sep 2009 13:22:26 +0000</updated>
                            <resolved>Fri, 19 Sep 2008 07:04:01 +0000</resolved>
                                    <version>JCR Resource 2.0.4</version>
                                    <fixVersion>JCR Resource 2.0.4</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12632549" author="fmeschbe" created="Fri, 19 Sep 2008 07:04:01 +0000"  >&lt;p&gt;Created three node type definition files &amp;#8211; folder.cnd, resource.cnd, and vanitypath.cnd &amp;#8211; to minimize effects of node type registration failure. The background of this split is, that registration of node types from a single definition file is an all-or-nothing game. So if some node types fail to register, none are registered.&lt;/p&gt;

&lt;p&gt;Fixed in Rev. 696946.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175627</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 7 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rl93:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>159087</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-666] ResourceProviders not properly released</title>
                <link>https://issues.apache.org/jira/browse/SLING-666</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When a ResourceProvider is removed from the system, long-lived ResourceResolvers may still hold on to the removed resource provider thus referring to  a non-existing service and also preventing the service and its classes from being garbage collected. This only happens to resource providers attached to the roote resource provider entry in the JcrResourceResolverFactory.&lt;/p&gt;

&lt;p&gt;Implementation background: The JcrResourceResolverFactory maintains a root resource provider entry, which contains ResourceProviderEntry instances for all ResourceProvider instances directly below root. When creating a new JcrResourceResolver instance the child entries of the root resource provider are handed over to the new JcrResourceResolver instance.&lt;/p&gt;

&lt;p&gt;When a resource resolver is added to or removed from the root resource provider the entries array of the root resource provider is replaced by a new instance reflecting the addition or removal. Still, all JcrResourceResolver instances already out there refer to the old entry array, which still contains the removed provider (or does not contain the added resource provider yet).&lt;/p&gt;

&lt;p&gt;The consequences are problematic for long-lived ResourceResovlers:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;new resource providers directly attached to the root will never be seen&lt;/li&gt;
	&lt;li&gt;old resource providers directly attached to the root will still be seen even after removal&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The fix to this problem is to base the JcrResourceResolver returned from the JcrResourceResolverFactory on the root resource provider entry itself thus using the &quot;live&quot; entries list.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12404707">SLING-666</key>
            <summary>ResourceProviders not properly released</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Fri, 19 Sep 2008 05:45:47 +0000</created>
                <updated>Sun, 13 Sep 2009 13:22:29 +0000</updated>
                            <resolved>Fri, 19 Sep 2008 06:46:27 +0000</resolved>
                                    <version>JCR Resource 2.0.2</version>
                                    <fixVersion>JCR Resource 2.0.4</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12632540" author="fmeschbe" created="Fri, 19 Sep 2008 06:46:26 +0000"  >&lt;p&gt;Fixed in Rev. 696942.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175626</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 7 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rkuf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>159021</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-665] Two extensions/event tests fail, probably due to sling:folder changes</title>
                <link>https://issues.apache.org/jira/browse/SLING-665</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;mvn clean test in extensions/event says:&lt;/p&gt;

&lt;p&gt;Tests in error: &lt;br/&gt;
  testWriteEvent(org.apache.sling.event.impl.DistributingEventHandlerTest)&lt;br/&gt;
  testWriteEventPlusAppId(org.apache.sling.event.impl.DistributingEventHandlerTest)&lt;/p&gt;

&lt;p&gt;Due to, for example:&lt;br/&gt;
javax.jcr.nodetype.ConstraintViolationException: no definition found in parent node&apos;s node type for new node: no matching child node definition found for {}Event-4711-1221744638373: no matching child node definition found for {}Event-4711-1221744638373&lt;br/&gt;
        at org.apache.jackrabbit.core.NodeImpl.internalAddChildNode(NodeImpl.java:752)&lt;br/&gt;
...&lt;br/&gt;
        at org.apache.sling.event.impl.AbstractRepositoryEventHandler.writeEvent(AbstractRepositoryEventHandler.java:282)&lt;/p&gt;

</description>
                <environment></environment>
        <key id="12404649">SLING-665</key>
            <summary>Two extensions/event tests fail, probably due to sling:folder changes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Thu, 18 Sep 2008 13:53:56 +0000</created>
                <updated>Sun, 13 Sep 2009 13:13:58 +0000</updated>
                            <resolved>Fri, 19 Sep 2008 07:51:00 +0000</resolved>
                                    <version>Event 2.0.4</version>
                                    <fixVersion>Event 2.0.4</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12632219" author="bdelacretaz" created="Thu, 18 Sep 2008 14:21:14 +0000"  >&lt;p&gt;The event code tries to create a slingevent:Event node under a sling:Folder, and that doesn&apos;t work anymore due to the &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-663&quot; title=&quot;Make sling:Folder more folder like&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-663&quot;&gt;&lt;del&gt;SLING-663&lt;/del&gt;&lt;/a&gt; changes.&lt;/p&gt;

&lt;p&gt;The solution is to add the sling:HierarchyNode mixin to the slingevent:Event nodetype, I tried that but the test still fails as it seems that the new resource.cnd nodetypes are not registered correctly (although they should, see AbstractRepositoryEventHandlerTest.setupRepository).&lt;/p&gt;

&lt;p&gt;I got the tests to pass with event.cnd as shown below, duplicating the required resource.cnd entries - so the only problem left is why resource.cnd is not loaded during tests. But right now I have to run &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;slingevent=&apos;http://sling.apache.org/jcr/event/1.0&apos;&amp;gt;&lt;br/&gt;
&amp;lt;sling = &apos;http://sling.apache.org/jcr/sling/1.0&apos;&amp;gt;&lt;br/&gt;
&amp;lt;nt=&apos;http://www.jcp.org/jcr/nt/1.0&apos;&amp;gt;&lt;br/&gt;
&amp;lt;mix=&apos;http://www.jcp.org/jcr/mix/1.0&apos;&amp;gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;sling:Folder&amp;#93;&lt;/span&gt; &amp;gt; nt:folder&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;* (undefined) multiple&lt;/li&gt;
	&lt;li&gt;* (undefined)&lt;br/&gt;
  + * (nt:hierarchyNode) = sling:Folder version&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;sling:HierarchyNode&amp;#93;&lt;/span&gt; &amp;gt; nt:hierarchyNode&lt;br/&gt;
    mixin&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;slingevent:Event&amp;#93;&lt;/span&gt; &amp;gt; nt:unstructured, sling:HierarchyNode&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;slingevent:topic (string)&lt;/li&gt;
	&lt;li&gt;slingevent:application (string)&lt;/li&gt;
	&lt;li&gt;slingevent:created (date)&lt;/li&gt;
	&lt;li&gt;slingevent:properties (binary)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;slingevent:Job&amp;#93;&lt;/span&gt; &amp;gt; slingevent:Event, mix:lockable&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;slingevent:processor (string)&lt;/li&gt;
	&lt;li&gt;slingevent:id (string)&lt;/li&gt;
	&lt;li&gt;slingevent:finished (date)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;slingevent:TimedEvent&amp;#93;&lt;/span&gt; &amp;gt; slingevent:Event, mix:lockable&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;slingevent:processor (string)&lt;/li&gt;
	&lt;li&gt;slingevent:id (string)&lt;/li&gt;
	&lt;li&gt;slingevent:expression (string)&lt;/li&gt;
	&lt;li&gt;slingevent:date (date)&lt;/li&gt;
	&lt;li&gt;slingevent:period (long)&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12632553" author="fmeschbe" created="Fri, 19 Sep 2008 07:10:01 +0000"  >&lt;p&gt;&amp;gt; The solution is to add the sling:HierarchyNode mixin to the slingevent:Event nodetype&lt;/p&gt;

&lt;p&gt;It would probably be better and introducing less dependencies, if the slingevent:Event node type would just extend from nt:hierarchyNode :&lt;/p&gt;

&lt;p&gt;   &lt;span class=&quot;error&quot;&gt;&amp;#91;slingevent:Event&amp;#93;&lt;/span&gt; &amp;gt; nt:unstructured, nt:hierarchyNode&lt;br/&gt;
   ...&lt;/p&gt;

&lt;p&gt;The sling:HierarchyNode merely exists to turn existing nodes into hierarchy nodes or to turn nodes of node types we cannot modify into hierarchy nodes on the fly. For node types we define ourselves, it is probably better to directly extend from nt:hierarchyNode.&lt;/p&gt;</comment>
                            <comment id="12632558" author="bdelacretaz" created="Fri, 19 Sep 2008 07:21:42 +0000"  >&lt;p&gt;Of course, thanks for your suggestion!&lt;/p&gt;

&lt;p&gt;Fixed in revision 696954&lt;/p&gt;</comment>
                            <comment id="12632559" author="fmeschbe" created="Fri, 19 Sep 2008 07:25:30 +0000"  >&lt;p&gt;Proposed patch:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;make Event node type extend nt:hierarchyNode&lt;/li&gt;
	&lt;li&gt;include folder.cnd from jcr/resource module in test resources to have sling:Folder for the tests&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12632563" author="bdelacretaz" created="Fri, 19 Sep 2008 07:34:18 +0000"  >&lt;p&gt;Too quick, extensions/event tests still fail for me, as they require the sling:Folder type and that&apos;s apparently not&lt;br/&gt;
correctly registered. I probably won&apos;t have time to look at that before Tuesday.&lt;/p&gt;</comment>
                            <comment id="12632570" author="fmeschbe" created="Fri, 19 Sep 2008 07:46:11 +0000"  >&lt;p&gt;Taking over. The issue that &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-667&quot; title=&quot;sling:VanityPath may not be registered during bundle update&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-667&quot;&gt;&lt;del&gt;SLING-667&lt;/del&gt;&lt;/a&gt; split the node type definitions into three files causing the Event unit tests to not register the sling:Folder node type any more in the test repository. Will fix this.&lt;/p&gt;</comment>
                            <comment id="12632572" author="fmeschbe" created="Fri, 19 Sep 2008 07:51:00 +0000"  >&lt;p&gt;Fixed in Rev. 696965 by using the folder.cnd node type definition instead of the resource.cnd node type definition&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12390467" name="SLING-665.patch" size="4304" author="fmeschbe" created="Fri, 19 Sep 2008 07:25:30 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175625</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 7 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rl3j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>159062</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-661] vanityPath nodetype should be defined as mixin</title>
                <link>https://issues.apache.org/jira/browse/SLING-661</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;the vanityPath nodetype definition is wrong (the description right...)&lt;br/&gt;
instead of:&lt;br/&gt;
//-----------------------------------------------------------------------------&lt;br/&gt;
// Mixin node type for defining vanity resource path.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;sling:VanityPath&amp;#93;&lt;/span&gt;&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;sling:vanityPath (string)&lt;/li&gt;
	&lt;li&gt;sling:redirect (boolean)&lt;/li&gt;
	&lt;li&gt;sling:vanityOrder (long)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;it should be defined like this:&lt;br/&gt;
//-----------------------------------------------------------------------------&lt;br/&gt;
// Mixin node type for defining vanity resource path.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;sling:VanityPath&amp;#93;&lt;/span&gt;&lt;br/&gt;
  mixin&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;sling:vanityPath (string)&lt;/li&gt;
	&lt;li&gt;sling:redirect (boolean)&lt;/li&gt;
	&lt;li&gt;sling:vanityOrder (long)&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12404519">SLING-661</key>
            <summary>vanityPath nodetype should be defined as mixin</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="pkoch">Philipp Koch</reporter>
                        <labels>
                    </labels>
                <created>Wed, 17 Sep 2008 10:02:06 +0000</created>
                <updated>Sun, 13 Sep 2009 13:22:50 +0000</updated>
                            <resolved>Wed, 17 Sep 2008 10:41:00 +0000</resolved>
                                    <version>JCR Resource 2.0.4</version>
                                    <fixVersion>JCR Resource 2.0.4</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12631731" author="bdelacretaz" created="Wed, 17 Sep 2008 10:41:00 +0000"  >&lt;p&gt;Patch applied in revision 696231, thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12390253" name="SLING-661.patch" size="614" author="pkoch" created="Wed, 17 Sep 2008 10:03:56 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175621</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 8 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rl9j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>159089</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-660] Conflicts between services being started and jcrinstall uninstalling bundles</title>
                <link>https://issues.apache.org/jira/browse/SLING-660</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Setting priority=major as Sling seems to freeze when this happens, or at least becomes very slow.&lt;/p&gt;

&lt;p&gt;See discussion in &lt;a href=&quot;http://markmail.org/message/hfmua5xjv4svrpfi&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://markmail.org/message/hfmua5xjv4svrpfi&lt;/a&gt; , the issue is avoiding conflicts between jcrinstall and other OSGi framework activities, when jcrinstall needs to uninstall bundles when it starts.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12404494">SLING-660</key>
            <summary>Conflicts between services being started and jcrinstall uninstalling bundles</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Wed, 17 Sep 2008 08:18:45 +0000</created>
                <updated>Tue, 14 Sep 2010 15:46:30 +0000</updated>
                            <resolved>Tue, 11 Aug 2009 11:55:01 +0000</resolved>
                                                    <fixVersion>JCR Installer 3.0.0</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12741818" author="bdelacretaz" created="Tue, 11 Aug 2009 11:55:01 +0000"  >&lt;p&gt;Fixed as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-904&quot; title=&quot;jcrinstall - take three&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-904&quot;&gt;&lt;del&gt;SLING-904&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175620</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 13 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1124f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>214310</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-659] ConcurrentModificationException in OsgiControllerImpl.run()</title>
                <link>https://issues.apache.org/jira/browse/SLING-659</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Seen this a few times in my log when starting an instance with several bundles in the repository:&lt;/p&gt;

&lt;p&gt;java.util.ConcurrentModificationException&lt;br/&gt;
        at java.util.HashMap$HashIterator.nextEntry(HashMap.java:841)&lt;br/&gt;
        at java.util.HashMap$KeyIterator.next(HashMap.java:877)&lt;br/&gt;
        at org.apache.sling.jcr.jcrinstall.osgi.impl.BundleResourceProcessor.processResourceQueue(BundleResourceProcessor.java:118)&lt;br/&gt;
        at org.apache.sling.jcr.jcrinstall.osgi.impl.OsgiControllerImpl.run(OsgiControllerImpl.java:199)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:613)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12404441">SLING-659</key>
            <summary>ConcurrentModificationException in OsgiControllerImpl.run()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Tue, 16 Sep 2008 13:49:03 +0000</created>
                <updated>Tue, 14 Sep 2010 15:46:16 +0000</updated>
                            <resolved>Tue, 16 Sep 2008 14:55:22 +0000</resolved>
                                                    <fixVersion>JCR Installer 3.0.0</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12631427" author="bdelacretaz" created="Tue, 16 Sep 2008 14:55:22 +0000"  >&lt;p&gt;Should be fixed by revision #695889, we&apos;ll reopen this issue if problem happens again&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175619</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 8 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i11227:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>214300</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-658] Resources are not uninstalled if their folder was deleted</title>
                <link>https://issues.apache.org/jira/browse/SLING-658</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If a watched folder is deleted while the jcrinstall service is stopped, or if the regexp for folder names to watch changes between runs, the corresponding resources are not deleted on the next restart.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12404422">SLING-658</key>
            <summary>Resources are not uninstalled if their folder was deleted</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Tue, 16 Sep 2008 10:05:59 +0000</created>
                <updated>Tue, 14 Sep 2010 15:46:41 +0000</updated>
                            <resolved>Tue, 16 Sep 2008 14:54:28 +0000</resolved>
                                                    <fixVersion>JCR Installer 3.0.0</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12631425" author="bdelacretaz" created="Tue, 16 Sep 2008 14:54:28 +0000"  >&lt;p&gt;Fixed, including uninstalling resources still present but in folders which do not match the current folder name filter&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175618</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 8 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i11233:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>214304</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-657] inconsistent date behaviour of sling.wizard()</title>
                <link>https://issues.apache.org/jira/browse/SLING-657</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I create a form in a .jst page that creates a new node and add the special &quot;craeted&quot; field like this:&lt;/p&gt;

&lt;p&gt;					&amp;lt;form class=&quot;hform&quot; method=&quot;POST&quot; action=&quot;/content/myblog/posts/*&quot;&amp;gt;&lt;br/&gt;
	          				&amp;lt;legend&amp;gt;Post form&amp;lt;/legend&amp;gt;&lt;/p&gt;

&lt;p&gt;								&amp;lt;p&amp;gt;&amp;lt;label&amp;gt;Title&amp;lt;/label&amp;gt;&lt;br/&gt;
								&amp;lt;input name=&quot;title&quot; type=&quot;text&quot; size=&quot;80&quot;&amp;gt;&amp;lt;/p&amp;gt;&lt;/p&gt;

&lt;p&gt;								&amp;lt;p&amp;gt;&amp;lt;label&amp;gt;Body&amp;lt;/label&amp;gt;&lt;br/&gt;
								&amp;lt;textarea name=&quot;posttext&quot; cols=&quot;40&quot; rows=&quot;5&quot;&amp;gt;&amp;lt;/textarea&amp;gt;&amp;lt;/p&amp;gt;&lt;/p&gt;

&lt;p&gt;								&amp;lt;input type=&quot;hidden&quot; name=&quot;created&quot;/&amp;gt; &lt;br/&gt;
								&amp;lt;input name=&quot;:redirect&quot; type=&quot;hidden&quot; value=&quot;/content/myblog/posts.admin.html&quot;/&amp;gt; &lt;/p&gt;

&lt;p&gt;						&amp;lt;input type=&quot;submit&quot; value=&quot;Post&quot; class=&quot;button&quot;&amp;gt;&lt;br/&gt;
					&amp;lt;/form&amp;gt;&lt;br/&gt;
					&amp;lt;script&amp;gt;Sling.wizard();&amp;lt;/script&amp;gt;&lt;/p&gt;

&lt;p&gt;This will create the node with an attribute &quot;created&quot; of JCR type Date&lt;/p&gt;

&lt;p&gt;Then, I use the same .jst to edit this node and post again. This time, &quot;created&quot; will be a String property.&lt;/p&gt;

&lt;p&gt;Causes other scripts that use this property to fail&lt;/p&gt;</description>
                <environment>Sling bundled with CRX Quickstart</environment>
        <key id="12404357">SLING-657</key>
            <summary>inconsistent date behaviour of sling.wizard()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mmarth">Michael Marth</reporter>
                        <labels>
                    </labels>
                <created>Mon, 15 Sep 2008 13:04:43 +0000</created>
                <updated>Wed, 12 Apr 2023 07:21:06 +0000</updated>
                            <resolved>Wed, 12 Apr 2023 07:21:06 +0000</resolved>
                                                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12631019" author="bdelacretaz" created="Mon, 15 Sep 2008 13:22:25 +0000"  >&lt;p&gt;I think the problem lies in the SlingPropertyValueHandler class:&lt;/p&gt;

&lt;p&gt;    public void setProperty(Node parent, RequestProperty prop)&lt;br/&gt;
...&lt;br/&gt;
        final String name = prop.getName();&lt;br/&gt;
        if (prop.providesValue()) &lt;/p&gt;
{
            // if user provided a value, don&apos;t mess with it
            setPropertyAsIs(parent, prop);

        }
&lt;p&gt; else if (AUTO_PROPS.containsKey(name)) {&lt;br/&gt;
...&lt;/p&gt;

&lt;p&gt;So, if an &quot;auto property&quot; provides a value, that is used as is by the post servlet. &lt;/p&gt;

&lt;p&gt;If if didn&apos;&apos;t do that, all the AUTO_PROPS names (created, lastModified, etc.) would be reserved for sling&apos;s purposes.&lt;/p&gt;

&lt;p&gt;That&apos;s what happens when a form handled by the sling wizard is posted, the &quot;created&quot; field contains the string representation of the property value.&lt;/p&gt;

&lt;p&gt;To avoid this, the sling wizard could make sure those properties are emptied before posting the request, not optimal but simple to implement. If we do this, sling.js should at least query the Sling server for the list of names for these properties, so as to avoid having to define the list in two places.&lt;/p&gt;

&lt;p&gt;Another way might be to use names prefixed by &quot;sling:&quot; for those automatic properties, and reserve this prefix for properties set by Sling.&lt;/p&gt;

&lt;p&gt;Not sure how to best solve that...&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36101</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 8 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i03267:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>15785</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-656] sling.wizard() fails when form contains fieldset</title>
                <link>https://issues.apache.org/jira/browse/SLING-656</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I got a .jst with a form that I want to fill out using Sling.wizard()&lt;br/&gt;
This throws a js error when the form contains fieldsets (&lt;a href=&quot;http://www.w3.org/TR/html401/interact/forms.html#h-17.10&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.w3.org/TR/html401/interact/forms.html#h-17.10&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;sample html code:&lt;br/&gt;
					&amp;lt;form class=&quot;hform&quot; method=&quot;POST&quot; action=&quot;/content/myblog/posts/*&quot;&amp;gt;&lt;br/&gt;
	        				&amp;lt;fieldset&amp;gt;&lt;br/&gt;
	          				&amp;lt;legend&amp;gt;Post form&amp;lt;/legend&amp;gt;&lt;/p&gt;

&lt;p&gt;								&amp;lt;p&amp;gt;&amp;lt;label&amp;gt;Title&amp;lt;/label&amp;gt;&lt;br/&gt;
								&amp;lt;input name=&quot;title&quot; type=&quot;text&quot; size=&quot;80&quot;&amp;gt;&amp;lt;/p&amp;gt;&lt;/p&gt;

&lt;p&gt;								&amp;lt;p&amp;gt;&amp;lt;label&amp;gt;Body&amp;lt;/label&amp;gt;&lt;br/&gt;
								&amp;lt;textarea name=&quot;posttext&quot; cols=&quot;40&quot; rows=&quot;5&quot;&amp;gt;&amp;lt;/textarea&amp;gt;&amp;lt;/p&amp;gt;&lt;/p&gt;

&lt;p&gt;								&amp;lt;input type=&quot;hidden&quot; name=&quot;created&quot;/&amp;gt; &lt;br/&gt;
								&amp;lt;input name=&quot;:redirect&quot; type=&quot;hidden&quot; value=&quot;/content/myblog/posts.admin.html&quot;/&amp;gt; &lt;/p&gt;

&lt;p&gt;	        				&amp;lt;/fieldset&amp;gt;&lt;br/&gt;
                                               &amp;lt;input type=&quot;submit&quot; value=&quot;Post&quot; class=&quot;button&quot;&amp;gt;&lt;br/&gt;
					&amp;lt;/form&amp;gt;&lt;br/&gt;
					&amp;lt;script&amp;gt;Sling.wizard();&amp;lt;/script&amp;gt;&lt;/p&gt;


&lt;p&gt;Error in Firebug:&lt;/p&gt;

&lt;p&gt;a is undefined&lt;/p&gt;

&lt;p&gt;in:&lt;/p&gt;

&lt;p&gt; while (elems.length &amp;gt; i) {&lt;br/&gt;
306 var elem=elems&lt;span class=&quot;error&quot;&gt;&amp;#91;i&amp;#93;&lt;/span&gt;;&lt;br/&gt;
307 var a=elem.name;&lt;br/&gt;
--&amp;gt; 308 if (a.indexOf(&quot;./&quot;)==0) &lt;/p&gt;
{
309 formfieldprefix=&quot;./&quot;;
310 break;
311 }
&lt;p&gt;312 i++;&lt;br/&gt;
313 }&lt;/p&gt;

&lt;p&gt;same form works without fieldsets&lt;/p&gt;</description>
                <environment>Browser: Firefox 3 on Windows, Sling bundled with CRX Quickstart</environment>
        <key id="12404356">SLING-656</key>
            <summary>sling.wizard() fails when form contains fieldset</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mmarth">Michael Marth</reporter>
                        <labels>
                    </labels>
                <created>Mon, 15 Sep 2008 12:55:37 +0000</created>
                <updated>Wed, 12 Apr 2023 07:20:55 +0000</updated>
                            <resolved>Wed, 12 Apr 2023 07:20:55 +0000</resolved>
                                                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36102</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 8 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0326f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>15786</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-655] Exception thrown when installing a bundle prevents other bundles from being installed</title>
                <link>https://issues.apache.org/jira/browse/SLING-655</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If a bundle was already installed from the OSGi console for example, and jcrinstall tries to install it again, the Exception that&apos;s thrown prevents other bundles found in the same folder from being installed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12404350">SLING-655</key>
            <summary>Exception thrown when installing a bundle prevents other bundles from being installed</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Mon, 15 Sep 2008 11:14:18 +0000</created>
                <updated>Tue, 14 Sep 2010 15:46:11 +0000</updated>
                            <resolved>Mon, 15 Sep 2008 11:25:50 +0000</resolved>
                                                    <fixVersion>JCR Installer 3.0.0</fixVersion>
                                    <component>Installer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12630997" author="bdelacretaz" created="Mon, 15 Sep 2008 11:25:50 +0000"  >&lt;p&gt;Fixed in revision 695435, failure to install a resource is now logged as a warning, but does not prevent other resources from being installed.&lt;/p&gt;</comment>
                            <comment id="12631003" author="bdelacretaz" created="Mon, 15 Sep 2008 11:59:49 +0000"  >&lt;p&gt;Added a similar fix for uninstalling resources, in rev 695442&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175617</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 8 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1121b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>214296</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-652] SlingServletResolver fails to activate if a servlet service reference cannot be acquired</title>
                <link>https://issues.apache.org/jira/browse/SLING-652</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The SlingServletResolver fails to activate if a servlet service is to be used, which cannot be acquired. This may be the case if the respective service is registered as a ServiceFactory and fails to instantiate when retrieving it. This is for example the case for the recently added Deployment Admin console page of the Felix Web Console.&lt;/p&gt;

&lt;p&gt;In addition, the resolver acquires the service instance to early: It should first check whether the service is actually destined at Sling. Only if this is the case, should the servlet service be acquired &amp;#8211; better in a try-catch statement to prevent startup failure.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12403992">SLING-652</key>
            <summary>SlingServletResolver fails to activate if a servlet service reference cannot be acquired</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Tue, 9 Sep 2008 14:33:24 +0000</created>
                <updated>Wed, 10 Sep 2008 06:00:45 +0000</updated>
                            <resolved>Tue, 9 Sep 2008 14:41:13 +0000</resolved>
                                    <version>Servlets Resolver 2.0.4</version>
                                    <fixVersion> Servlets Resolver 2.0.6</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12629497" author="fmeschbe" created="Tue, 9 Sep 2008 14:41:13 +0000"  >&lt;p&gt;Fixed in Rev. 693474. In addition the SlingServletResolver does not write an error message to the log if the servlet is not usable by Sling. This message has already been written at info level and the situation is not really an error because not all servlet services are for Sling&apos;s use.&lt;/p&gt;</comment>
                            <comment id="12629718" author="fmeschbe" created="Wed, 10 Sep 2008 06:00:45 +0000"  >&lt;p&gt;fix typo in Summary&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175614</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 9 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rl0n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>159049</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-651] Extending the SlingPostServlet with SlingPostOperations</title>
                <link>https://issues.apache.org/jira/browse/SLING-651</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;As described in the documentation (&lt;a href=&quot;http://incubator.apache.org/sling/site/manipulating-content-the-slingpostservlet.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://incubator.apache.org/sling/site/manipulating-content-the-slingpostservlet.html&lt;/a&gt;), it should be possible to extend the SlingPostServlet with SlingPostOperations. However, in the SlingPostServlet, no methods allow to bind new operations.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12403975">SLING-651</key>
            <summary>Extending the SlingPostServlet with SlingPostOperations</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="bertil">Bertil Chapuis</reporter>
                        <labels>
                    </labels>
                <created>Tue, 9 Sep 2008 10:18:40 +0000</created>
                <updated>Fri, 20 Sep 2019 11:34:44 +0000</updated>
                            <resolved>Wed, 29 Apr 2009 19:11:59 +0000</resolved>
                                    <version>Servlets Post 2.0.2</version>
                                    <fixVersion>Servlets Post 2.0.4</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12629433" author="bertil" created="Tue, 9 Sep 2008 10:20:11 +0000"  >&lt;p&gt;This should fix the issue.&lt;/p&gt;</comment>
                            <comment id="12629453" author="bdelacretaz" created="Tue, 9 Sep 2008 11:39:08 +0000"  >&lt;p&gt;Could you provide some test cases for that?&lt;/p&gt;

&lt;p&gt;The easiest way to test this might be a test bundle that is loaded by the launchpad/testing module, and provides some additional SlingPostOperation services that can be tested by the integration tests.&lt;/p&gt;</comment>
                            <comment id="12633632" author="bertil" created="Tue, 23 Sep 2008 06:35:05 +0000"  >&lt;p&gt;For the test, I finally have create two sample bundle (PostProcessor and PostOperation) which are used by the integration tests.&lt;/p&gt;</comment>
                            <comment id="12633651" author="bdelacretaz" created="Tue, 23 Sep 2008 08:19:19 +0000"  >&lt;p&gt;The SlingPostServletTest fails if the &quot;Sling - Post servlet extensions&quot; bundle is started before the Sling POST servlet bundle.&lt;/p&gt;

&lt;p&gt;To reproduce:&lt;br/&gt;
-Start launchpad/testing with &quot;mvn jetty:run&quot;&lt;/p&gt;

&lt;p&gt;-In another terminal run &quot; mvn test -Dtest=SlingPostServletTest&quot; in the same folder&lt;/p&gt;

&lt;p&gt;-The test might pass or fail depending on startup order of the bundles&lt;/p&gt;

&lt;p&gt;-Stop both &quot;Sling - Default POST Servlets&quot; and &quot;Sling - Post servlet extensions&quot; bundles&lt;/p&gt;

&lt;p&gt;-Restart &quot;Sling - Post servlet extensions&quot;, and later &quot;Sling - Default POST Servlets&quot;&lt;/p&gt;

&lt;p&gt;The test fails.&lt;/p&gt;

&lt;p&gt;The SlingPostServlet should account for post operations services that are activated while the SlingPostServlet is inactive.&lt;/p&gt;

&lt;p&gt;Other nitpicks:&lt;br/&gt;
-Typo in the module name, it&apos;s &quot;extensions&quot; not &quot;extentions&quot;&lt;br/&gt;
-Apache license missing from the LinkHelper class, and that class does not need to be public&lt;br/&gt;
-Changes to the servlets/post/pom.xml are not needed&lt;/p&gt;

&lt;p&gt;-In SlingPostServlet test I think you can replace this with the superclass&apos;s getContent method:&lt;br/&gt;
        final GetMethod getSource = new GetMethod(urlSource);&lt;br/&gt;
        final int statusSource = httpClient.executeMethod(getSource);&lt;br/&gt;
        assertEquals(urlSource + &quot; must be accessible&quot;, 200, statusSource);&lt;br/&gt;
        final String responseSourceBodyStr = getSource.getResponseBodyAsString();&lt;/p&gt;

&lt;p&gt;-If SlingPostServlet test extends RenderingTestBase you could use that class&apos;s assertContains() method instead of &quot;assertTrue(responseTargetBodyStr.contains(target))&quot;, that would give better failure messages.&lt;/p&gt;</comment>
                            <comment id="12634842" author="bertil" created="Fri, 26 Sep 2008 12:47:59 +0000"  >&lt;p&gt;new version wich take into account the comments.&lt;/p&gt;</comment>
                            <comment id="12676530" author="enorman" created="Wed, 25 Feb 2009 06:38:45 +0000"  >&lt;p&gt;Updated the patch to fix the problems with the bundle startup order.&lt;/p&gt;</comment>
                            <comment id="12677282" author="fmeschbe" created="Fri, 27 Feb 2009 08:38:10 +0000"  >&lt;p&gt;Thanks Eric for the fixed patch. I have applied it in Rev. 748426.&lt;/p&gt;</comment>
                            <comment id="12677287" author="fmeschbe" created="Fri, 27 Feb 2009 08:54:19 +0000"  >&lt;p&gt;Added the sample post servlet extension to the samples in Rev. 748433 (thanks bertil)&lt;/p&gt;

&lt;p&gt;Since our restructuration, the launchpad/testing only contains the tests for the bundles in the bundles subtree. I cannot&lt;br/&gt;
apply the test extensions to the contrib/launchpad/testing either, since the samples may or may not be present during a contrib build.&lt;/p&gt;

&lt;p&gt;Maybe we might have to add a separate integration testing for the samples ??&lt;/p&gt;</comment>
                            <comment id="12704264" author="fmeschbe" created="Wed, 29 Apr 2009 19:11:59 +0000"  >&lt;p&gt;I think, this can be closed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12400908" name="FixedSlingPostServlet.diff" size="3211" author="edn" created="Wed, 25 Feb 2009 06:38:45 +0000"/>
                            <attachment id="12389735" name="SlingPostServlet.diff" size="1536" author="bertil" created="Tue, 9 Sep 2008 10:20:11 +0000"/>
                            <attachment id="12391024" name="samples.diff" size="34759" author="bertil" created="Fri, 26 Sep 2008 12:47:59 +0000"/>
                            <attachment id="12390718" name="samples.diff" size="21903" author="bertil" created="Tue, 23 Sep 2008 06:35:05 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175613</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 28 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rk9z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>158929</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-647] Configuration error when reconfiguring existing LogWriter</title>
                <link>https://issues.apache.org/jira/browse/SLING-647</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When a log writer is configured it checks, whether there is no other writer configuration for the same destinaiton file. If so, the configuration is ignored. This check is done by comparing the configuration PID of the existing writer with the configuration to be changed. If the PIDs match, everything is fine and the existing writer is to be reconfigured. Otherwise the configuration is rejected and ignored.&lt;/p&gt;

&lt;p&gt;Currently this check is wrong and rejects configurations if the PID is equal to the current writer configuration, thus actually preventing writer reconfiguration.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12403736">SLING-647</key>
            <summary>Configuration error when reconfiguring existing LogWriter</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Fri, 5 Sep 2008 06:35:42 +0000</created>
                <updated>Sun, 13 Sep 2009 13:04:11 +0000</updated>
                            <resolved>Fri, 5 Sep 2008 06:36:44 +0000</resolved>
                                    <version>Commons Log 2.0.2</version>
                                    <fixVersion>Commons Log 2.0.4</fixVersion>
                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12628569" author="fmeschbe" created="Fri, 5 Sep 2008 06:36:44 +0000"  >&lt;p&gt;Fixed in Rev. 692350&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175610</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 9 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rk5z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>158911</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-645] sling:superResourceType not taken into account for StarResource</title>
                <link>https://issues.apache.org/jira/browse/SLING-645</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Given:&lt;/p&gt;

&lt;p&gt;1) Rendering scripts at /apps/foo/foo.esp, /apps/bar/bar.esp, /apps/bar/ta.esp&lt;br/&gt;
2) /apps/foo having sling:resourceSuperType=bar&lt;br/&gt;
3) /realfoo having sling:resourceType=foo&lt;/p&gt;

&lt;p&gt;Rendering results:&lt;br/&gt;
a) &lt;a href=&quot;http://localhost:8888/content/bar/*.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8888/content/bar/*.html&lt;/a&gt; is rendered by bar.esp -&amp;gt; ok&lt;br/&gt;
b) &lt;a href=&quot;http://localhost:8888/content/bar/*.ta.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8888/content/bar/*.ta.html&lt;/a&gt; is rendered by ta.esp -&amp;gt; ok&lt;br/&gt;
c) &lt;a href=&quot;http://localhost:8888/realfoo.ta.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8888/realfoo.ta.html&lt;/a&gt; is rendered by ta.esp -&amp;gt; ok&lt;br/&gt;
d) &lt;a href=&quot;http://localhost:8888/content/foo/*.ta.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8888/content/foo/*.ta.html&lt;/a&gt; is rendered by foo.esp -&amp;gt; should be ta.esp&lt;/p&gt;

&lt;p&gt;It seems like 2) is not taken into account for a StarResource.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12403674">SLING-645</key>
            <summary>sling:superResourceType not taken into account for StarResource</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Thu, 4 Sep 2008 11:56:21 +0000</created>
                <updated>Sun, 13 Sep 2009 13:22:33 +0000</updated>
                            <resolved>Fri, 26 Sep 2008 12:37:12 +0000</resolved>
                                    <version>JCR Resource 2.0.2</version>
                                    <fixVersion>JCR Resource 2.0.4</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12630943" author="fmeschbe" created="Mon, 15 Sep 2008 06:56:16 +0000"  >&lt;p&gt;A StarResource is a SyntheticResource but does not overwrite the base class getResourceSuperType method, hence the resource super type of a StarResource is always null.&lt;/p&gt;

&lt;p&gt;To fix this, the StartResource should implement its own getResourceSuperType method similar to the JcrItemResource:&lt;/p&gt;

&lt;p&gt;    private static final String UNSET_RESOURCE_SUPER_TYPE = &quot;&amp;lt;unset&amp;gt;&quot;;&lt;br/&gt;
    private String resourceSuperType;&lt;br/&gt;
    public String getResourceSuperType() {&lt;br/&gt;
        if (resourceSuperType == UNSET_RESOURCE_SUPER_TYPE) &lt;/p&gt;
{
            resourceSuperType = JcrResourceUtil.getResourceSuperType(this);
        }
&lt;p&gt;        return resourceSuperType;&lt;br/&gt;
    }&lt;/p&gt;

&lt;p&gt;WDYT ?&lt;/p&gt;</comment>
                            <comment id="12631303" author="bdelacretaz" created="Tue, 16 Sep 2008 08:48:16 +0000"  >&lt;p&gt;I agree with the proposed solution&lt;/p&gt;</comment>
                            <comment id="12634839" author="fmeschbe" created="Fri, 26 Sep 2008 12:37:12 +0000"  >&lt;p&gt;I have implemented the proposal in Rev. 699299.&lt;/p&gt;

&lt;p&gt;Please close this issue if this works for you. Thanks.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175608</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 6 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rl9b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>159088</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-643] The LogSupport.fireLogEvent should deliver LogEvents to listeners asynchronously</title>
                <link>https://issues.apache.org/jira/browse/SLING-643</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Currently the LogSupport.fireLogEvent notifies registered LogListeners synchronously during the call the to the LogService.log method. According to Section 101.4, Log Reader Service, of the OSGi Service Compendium specification, the delivery of events to LogListeners is recommended to be done asynchronously:&lt;/p&gt;

&lt;p&gt;   &quot;The delivery of LogEntry objects to the LogListener&lt;br/&gt;
      object should be done asynchronously&quot;&lt;/p&gt;

&lt;p&gt;This should enhance the performance of the LogService.log calls dramatically.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12403656">SLING-643</key>
            <summary>The LogSupport.fireLogEvent should deliver LogEvents to listeners asynchronously</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Thu, 4 Sep 2008 06:22:21 +0000</created>
                <updated>Sun, 13 Sep 2009 13:04:13 +0000</updated>
                            <resolved>Fri, 5 Sep 2008 07:08:39 +0000</resolved>
                                    <version>Commons Log 2.0.2</version>
                                    <fixVersion>Commons Log 2.0.4</fixVersion>
                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12628577" author="fmeschbe" created="Fri, 5 Sep 2008 07:08:39 +0000"  >&lt;p&gt;Implemented asynchronous LogEvent delivery in Rev. 692355.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175606</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 9 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rl33:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>159060</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-642] ResourceProvider registered with a root path with a trailing slash cannot be unregistered</title>
                <link>https://issues.apache.org/jira/browse/SLING-642</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If a ResourceProvider is registered with a path with a trailing slash, it is happily and correctly registered. Unregistration fails for such a root path.&lt;/p&gt;

&lt;p&gt;Actually root paths used for hooking ResourceProvider instances into the provider tree should never have a trailing slash.&lt;/p&gt;

&lt;p&gt;Therefore the JcrResourceResolverFactoryImpl.bindResourceProvider and unbindResourceProvider methods should remove any trailing slash from the root paths before using them for hooking the ResourceProvider up.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12403640">SLING-642</key>
            <summary>ResourceProvider registered with a root path with a trailing slash cannot be unregistered</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Wed, 3 Sep 2008 21:33:05 +0000</created>
                <updated>Sun, 13 Sep 2009 13:22:41 +0000</updated>
                            <resolved>Wed, 3 Sep 2008 21:37:44 +0000</resolved>
                                    <version>JCR Resource 2.0.2</version>
                                    <fixVersion>JCR Resource 2.0.4</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12628150" author="fmeschbe" created="Wed, 3 Sep 2008 21:37:43 +0000"  >&lt;p&gt;Fixed in Rev. 691792.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175605</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 10 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rktz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>159019</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-641] Implement cache for bundle resources</title>
                <link>https://issues.apache.org/jira/browse/SLING-641</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When accessing bundle resources, the BundleResourceProvider currently accesses the bundle for each check, which in turn accesses and lock sthe bundle jar file.&lt;/p&gt;

&lt;p&gt;A simple cache should be built into the BundleResourceProvider to cache resources found for faster access on future access. This cache should be limited and on a per-bundle level, such that the cache may simply be dropped if the bundle is stopped.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12403609">SLING-641</key>
            <summary>Implement cache for bundle resources</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Wed, 3 Sep 2008 12:13:12 +0000</created>
                <updated>Fri, 5 Sep 2008 07:10:17 +0000</updated>
                            <resolved>Fri, 5 Sep 2008 07:10:17 +0000</resolved>
                                    <version>Bundle Resource Provider 2.0.2</version>
                                    <fixVersion>Bundle Resource Provider 2.0.4</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12627996" author="fmeschbe" created="Wed, 3 Sep 2008 13:41:21 +0000"  >&lt;p&gt;Implemented first version in Rev. 691609.&lt;/p&gt;

&lt;p&gt;JavaDoc pending, therefore keeping issue open&lt;/p&gt;</comment>
                            <comment id="12628579" author="fmeschbe" created="Fri, 5 Sep 2008 07:10:17 +0000"  >&lt;p&gt;JavaDoc is now added so I close this issue&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175604</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 9 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rkcf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>158940</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-639] Bug in SimpleWebDAVServlet</title>
                <link>https://issues.apache.org/jira/browse/SLING-639</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Reported by Marc Speck in &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;When PathInfo is null or &quot;/&quot;, a response is already created and it makes no&lt;br/&gt;
sense to call super.service() anymore:&lt;/p&gt;


&lt;p&gt;Index: SimpleWebDavServlet.java&lt;br/&gt;
===================================================================&lt;br/&gt;
&amp;#8212; SimpleWebDavServlet.java    (revision 691120)&lt;br/&gt;
+++ SimpleWebDavServlet.java    (working copy)&lt;br/&gt;
@@ -85,9 +85,9 @@&lt;br/&gt;
                 uri += slingRepo.getDefaultWorkspace();&lt;br/&gt;
                 response.sendRedirect(uri);&lt;br/&gt;
             }&lt;br/&gt;
+        } else &lt;/p&gt;
{
+            super.service(request, response);
         }
&lt;p&gt;-&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;super.service(request, response);&lt;br/&gt;
     }&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;     // ---------- SCR integration&lt;br/&gt;
----------------------------------------------&lt;/p&gt;


&lt;p&gt;Regards,&lt;br/&gt;
Marc&lt;/p&gt;


&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://markmail.org/message/z3tp43u54a7yqhqn&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://markmail.org/message/z3tp43u54a7yqhqn&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12403557">SLING-639</key>
            <summary>Bug in SimpleWebDAVServlet</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Tue, 2 Sep 2008 20:41:50 +0000</created>
                <updated>Wed, 3 Sep 2008 06:54:38 +0000</updated>
                            <resolved>Tue, 2 Sep 2008 20:47:25 +0000</resolved>
                                    <version>JCR Webdav 2.0.2</version>
                                    <fixVersion>JCR Webdav 2.0.6</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12627805" author="fmeschbe" created="Tue, 2 Sep 2008 20:47:25 +0000"  >&lt;p&gt;Fixed as proposed in Rev. 691374.&lt;/p&gt;

&lt;p&gt;Awating feedback  before closing.&lt;/p&gt;</comment>
                            <comment id="12627925" author="fmeschbe" created="Wed, 3 Sep 2008 06:54:38 +0000"  >&lt;p&gt;Fix confirmed to be ok. Closing&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175602</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 10 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rk3b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>158899</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-634] Enable extensibility of host objects provided by the JavaScriptEngine</title>
                <link>https://issues.apache.org/jira/browse/SLING-634</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Currently only a handful of predefined JavaScript host objects are provided by the JavaScriptEngineFactory of the scripting/javascript module. To support applications, which provide their own JavaScript host objects it would be good to be able to provide such objects.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12403246">SLING-634</key>
            <summary>Enable extensibility of host objects provided by the JavaScriptEngine</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Thu, 28 Aug 2008 12:23:32 +0000</created>
                <updated>Sun, 13 Sep 2009 13:46:09 +0000</updated>
                            <resolved>Fri, 26 Sep 2008 15:39:00 +0000</resolved>
                                    <version>Scripting JavaScript 2.0.2</version>
                                    <fixVersion> Scripting JavaScript 2.0.4</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12634895" author="fmeschbe" created="Fri, 26 Sep 2008 15:27:15 +0000"  >&lt;p&gt;Wrong issue closed. Sorry.&lt;/p&gt;</comment>
                            <comment id="12634900" author="fmeschbe" created="Fri, 26 Sep 2008 15:39:00 +0000"  >&lt;p&gt;Now it is time to close this issue with the ceckin for Rev. 699368.&lt;/p&gt;

&lt;p&gt;Documentation will follow on the site&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175598</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 6 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rk8n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>158923</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-633] RequestDispatcherOptions.setReplaceSelectors(&quot;&quot;) doesn&apos;t work</title>
                <link>https://issues.apache.org/jira/browse/SLING-633</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;As discussed on the mailing list (see &lt;a href=&quot;http://markmail.org/message/fphyjdeb2oecjqdn&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://markmail.org/message/fphyjdeb2oecjqdn&lt;/a&gt;), there is an issue when using the RequestDispatcher to include other components when the including component is addressed with a selector and the included component is not.&lt;/p&gt;

&lt;p&gt;Using the following code doesn&apos;t work as expected, the original (selector-dispatched) servlet is still invoked for the included resource:&lt;/p&gt;

&lt;p&gt;    RequestDispatcherOptions options = new RequestDispatcherOptions();&lt;br/&gt;
    options.setReplaceSelectors(&quot;&quot;);&lt;br/&gt;
    RequestDispatcher dispatcher =&lt;br/&gt;
        request.getRequestDispatcher(path, options);&lt;/p&gt;

&lt;p&gt;Could it be that an empty replacement string is treated as non-existent?&lt;/p&gt;

&lt;p&gt;Strangely enough the following code works, even though when addressing the resource directly in my browser, I get the same result with or without the &quot;.html&quot; suffix:&lt;/p&gt;

&lt;p&gt;    RequestDispatcher dispatcher =&lt;br/&gt;
        request.getRequestDispatcher(path + &quot;.html&quot;);&lt;/p&gt;</description>
                <environment>org.apache.sling.engine from revision 685501</environment>
        <key id="12403234">SLING-633</key>
            <summary>RequestDispatcherOptions.setReplaceSelectors(&quot;&quot;) doesn&apos;t work</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="jukkaz">Jukka Zitting</reporter>
                        <labels>
                    </labels>
                <created>Thu, 28 Aug 2008 09:24:59 +0000</created>
                <updated>Mon, 30 Aug 2010 12:48:55 +0000</updated>
                            <resolved>Wed, 18 Nov 2009 14:20:11 +0000</resolved>
                                                    <fixVersion>Engine 2.1.0</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12779462" author="cziegeler" created="Wed, 18 Nov 2009 14:20:11 +0000"  >&lt;p&gt;Added support for the empty string in revisions 881783 and 881785 together with a simple unit test.&lt;/p&gt;</comment>
                            <comment id="12904155" author="fmeschbe" created="Mon, 30 Aug 2010 12:48:55 +0000"  >&lt;p&gt;Close after release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175597</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 10 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ecvz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>292017</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-632] Ruby script engine does not start due to missing dependencies</title>
                <link>https://issues.apache.org/jira/browse/SLING-632</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;In revision 689730, the ruby script engine bundle does not start if loaded, due to the following missing dependencies:&lt;/p&gt;

&lt;p&gt;!! com.sun.mirror.apt,version=0.0.0 from &amp;#8211; Cannot be resolved&lt;br/&gt;
!! com.sun.mirror.declaration,version=0.0.0 from &amp;#8211; Cannot be resolved&lt;br/&gt;
!! com.sun.mirror.type,version=0.0.0 from &amp;#8211; Cannot be resolved&lt;br/&gt;
!! com.sun.mirror.util,version=0.0.0 from &amp;#8211; Cannot be resolved&lt;br/&gt;
!! org.apache.bsf,version=0.0.0 from &amp;#8211; Cannot be resolved&lt;br/&gt;
!! org.apache.bsf.util,version=0.0.0 from &amp;#8211; Cannot be resolved&lt;br/&gt;
!! sun.misc,version=0.0.0 from &amp;#8211; Cannot be resolved&lt;/p&gt;

&lt;p&gt;For now, I&apos;ll downgrade the jruby dependency to 1.0, as that used to work.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12403219">SLING-632</key>
            <summary>Ruby script engine does not start due to missing dependencies</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Thu, 28 Aug 2008 06:41:32 +0000</created>
                <updated>Thu, 28 Aug 2008 08:16:21 +0000</updated>
                            <resolved>Thu, 28 Aug 2008 07:13:01 +0000</resolved>
                                                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12626449" author="bdelacretaz" created="Thu, 28 Aug 2008 06:45:03 +0000"  >&lt;p&gt;&quot;Fixed&quot; in revision 689731, the scripting.ruby bundle now loads correctly using the launchpad/testing module, and the following script at apps/foo/foo.erb displays the correct path when requesting &lt;a href=&quot;http://localhost:8888/content/foo/*.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8888/content/foo/*.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;html&amp;gt;&lt;br/&gt;
&amp;lt;body&amp;gt;&lt;br/&gt;
currentNode path = &amp;lt;b&amp;gt;&amp;lt;%= currentNode.getPath() %&amp;gt;&amp;lt;/b&amp;gt;.&lt;br/&gt;
&amp;lt;/body&amp;gt;&lt;br/&gt;
&amp;lt;/html&amp;gt;&lt;/p&gt;</comment>
                            <comment id="12626452" author="fmeschbe" created="Thu, 28 Aug 2008 06:45:57 +0000"  >&lt;p&gt;Hmm, these look like rather specific dependencies. How about declaring them as optional:&lt;/p&gt;

&lt;p&gt;   &amp;lt;Import-Package&amp;gt;&lt;br/&gt;
       com.sun.&lt;b&gt;;org.apache.bsf.&lt;/b&gt;;sun.&lt;b&gt;;resolution:=optional,&lt;/b&gt;&lt;br/&gt;
   &amp;lt;/Import-Package&amp;gt;&lt;/p&gt;


&lt;p&gt;Wasn&apos;t that already in the pom.xml ?&lt;/p&gt;</comment>
                            <comment id="12626458" author="bdelacretaz" created="Thu, 28 Aug 2008 06:56:49 +0000"  >&lt;p&gt;Not all of them:&lt;/p&gt;

&lt;p&gt;                        &amp;lt;Import-Package&amp;gt;&lt;br/&gt;
                            javax.swing.*;&lt;br/&gt;
                            org.apache.bsf.*;&lt;br/&gt;
                            sun.misc; resolution:=optional&lt;br/&gt;
                        &amp;lt;/Import-Package&amp;gt;&lt;/p&gt;

&lt;p&gt;I&apos;ll try as you suggest, with jruby 1.1.1&lt;/p&gt;</comment>
                            <comment id="12626463" author="bdelacretaz" created="Thu, 28 Aug 2008 07:13:01 +0000"  >&lt;p&gt;Thanks for the hint Felix, with this I could go back to the latest jruby 1.1.3, in revision 689741. Tested with the erb script shown above.&lt;/p&gt;</comment>
                            <comment id="12626481" author="fmeschbe" created="Thu, 28 Aug 2008 08:16:21 +0000"  >&lt;p&gt;Thanks for the feedback and thanks for taking a stab at this.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175596</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 11 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ecw7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>292018</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-631] RequestData.toSlingHttpServletResponse does not wrap HttpServletResponse</title>
                <link>https://issues.apache.org/jira/browse/SLING-631</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The RequestData.toSlingHttpServletResponse method is intended to create a SlingHttpServletResponse wrapper for a non-SlingHttpServletResponse object delegating to wrapped SlingHttpServletResponse. In other words, RequestData.toSlingHttpServletResponse should do to the response, what the RequestData.toSlingHttpServletRequest does to the request. But it doesn&apos;t.&lt;/p&gt;

&lt;p&gt;This is most probably the cause for the problem reported by Jukka Zitting in &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://markmail.org/message/fphyjdeb2oecjqdn&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://markmail.org/message/fphyjdeb2oecjqdn&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12403184">SLING-631</key>
            <summary>RequestData.toSlingHttpServletResponse does not wrap HttpServletResponse</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Wed, 27 Aug 2008 20:56:30 +0000</created>
                <updated>Tue, 27 Jan 2009 20:10:08 +0000</updated>
                            <resolved>Tue, 27 Jan 2009 20:10:08 +0000</resolved>
                                    <version>Engine 2.0.2</version>
                                    <fixVersion>Engine 2.0.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12667785" author="fmeschbe" created="Tue, 27 Jan 2009 20:10:08 +0000"  >&lt;p&gt;The fix has long been applied, so this issue can be closed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175595</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 41 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rktj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>159017</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-630] StarResource does not set correct ResourceMetadata</title>
                <link>https://issues.apache.org/jira/browse/SLING-630</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;In revision 689422, requesting &lt;a href=&quot;http://localhost:8888/*.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8888/*.txt&lt;/a&gt; causes the Exception shown below.&lt;/p&gt;

&lt;p&gt;As a result, the  org.apache.sling.launchpad.webapp.integrationtest.GetStarTest fails.&lt;/p&gt;

&lt;p&gt;javax.servlet.ServletException: Resource StarResource, type=sling:syntheticStarResource, path=/* does not adapt to a map or string.&lt;br/&gt;
	at org.apache.sling.servlets.get.helpers.PlainTextRendererServlet.renderResource(PlainTextRendererServlet.java:71)&lt;br/&gt;
	at org.apache.sling.servlets.get.helpers.PlainTextRendererServlet.doGet(PlainTextRendererServlet.java:58)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12403142">SLING-630</key>
            <summary>StarResource does not set correct ResourceMetadata</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Wed, 27 Aug 2008 09:07:29 +0000</created>
                <updated>Sun, 13 Sep 2009 13:25:45 +0000</updated>
                            <resolved>Wed, 27 Aug 2008 10:46:54 +0000</resolved>
                                                    <fixVersion>JCR Resource 2.0.4</fixVersion>
                    <fixVersion>API 2.0.4</fixVersion>
                                    <component>API</component>
                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12626056" author="bdelacretaz" created="Wed, 27 Aug 2008 10:46:54 +0000"  >&lt;p&gt;Fixed in revision 689439, the problem was that StarResource did not initialize the ResourceMetadata correctly after &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-627&quot; title=&quot;Virtual URLs break script resolution&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-627&quot;&gt;&lt;del&gt;SLING-627&lt;/del&gt;&lt;/a&gt; changes.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175594</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 11 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rl1j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>159053</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-629] Engine builds errors - wrong path to parent pom?</title>
                <link>https://issues.apache.org/jira/browse/SLING-629</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The path to the parent pom in sling-enging/pom.xml is set to &quot;../../parent/pom.xml&quot;.&lt;br/&gt;
The build seems to work only if this is set to &quot;../parent/pom.xml&quot;&lt;/p&gt;</description>
                <environment>WinXP, Java 1.5.0_16</environment>
        <key id="12403057">SLING-629</key>
            <summary>Engine builds errors - wrong path to parent pom?</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="moritzh">Moritz Havelock</reporter>
                        <labels>
                    </labels>
                <created>Tue, 26 Aug 2008 10:19:19 +0000</created>
                <updated>Fri, 19 Sep 2008 11:55:08 +0000</updated>
                            <resolved>Tue, 26 Aug 2008 11:14:22 +0000</resolved>
                                    <version>Engine 2.0.4</version>
                                    <fixVersion>Engine 2.0.4</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="300">5m</timeoriginalestimate>
                            <timeestimate seconds="300">5m</timeestimate>
                                        <comments>
                            <comment id="12625703" author="bdelacretaz" created="Tue, 26 Aug 2008 11:14:22 +0000"  >&lt;p&gt;Fixed in revision 689035, thanks for reporting!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175593</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 11 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rk8v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>158924</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-627] Virtual URLs break script resolution</title>
                <link>https://issues.apache.org/jira/browse/SLING-627</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Consider a virtual URL configuration in the JcrResourceResolver mapping the URL &quot;/sample&quot; to &quot;/content/some/where/in/the/path.print.a4.html&quot;.&lt;/p&gt;

&lt;p&gt;When using the URL &quot;/content/some/where/in/the/path.print.a4.html&quot;, the resource resolver correctly resolves the &quot;/content/some/where/in/the/path&quot; resource and sets the selector string (print.a4) and extension (html) correctly. When accessing the URL &quot;/sample&quot;, the resource is correclty resolved again to &quot;/content/some/where/in/the/path&quot;. But the selector string and extension are empty.&lt;/p&gt;

&lt;p&gt;The reason for this is the cooperation between the JcrResourceResovler and the SlingRequestPathInfo and the RequestData class. The JcrResourceResolver sets up the Resoure correctly with the ResourceMetadata containing a property sling.resolutionPath set to &quot;/content/some/where/in/the/path&quot;. The RequestData.initServlet method uses the Resource (with the correct sling.resolutionPath field) and the servlet request&apos;s path info (ServletRequest.getPathInfo()) to find the selectors and extension etc.&lt;/p&gt;

&lt;p&gt;The problem with virtual URLs is, that the path info is the originally requested URL &amp;#8211; /sample in this case &amp;#8211; while the resource resolution path is something completely different. Hence the request path info details cannot be extracted.&lt;/p&gt;

&lt;p&gt;To be able to fix this situation, we should add a new field in the ResourceMetadata, which takes the part of the URL path used to resolve the resoure, which is not path of the resource path, such that:&lt;/p&gt;

&lt;p&gt;    resolutionFullPath = sling.resolutionPath + sling.resolutionPathInfo&lt;/p&gt;

&lt;p&gt;The SlingRequestPathInfo class will then only inspoect the sling.resolutionPathInfo field to split that into selectors, extension and suffix.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12402989">SLING-627</key>
            <summary>Virtual URLs break script resolution</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Mon, 25 Aug 2008 13:14:12 +0000</created>
                <updated>Sun, 13 Sep 2009 13:26:04 +0000</updated>
                            <resolved>Tue, 26 Aug 2008 07:09:07 +0000</resolved>
                                                    <fixVersion>JCR Resource 2.0.4</fixVersion>
                    <fixVersion>Engine 2.0.4</fixVersion>
                    <fixVersion>API 2.0.4</fixVersion>
                                    <component>API</component>
                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12625354" author="tripod" created="Mon, 25 Aug 2008 13:30:59 +0000"  >&lt;p&gt;i think virtual url should just allow mapping of &apos;directories&apos; and not full urls.&lt;br/&gt;
so /sample could map to /content/some/where/samples&lt;/p&gt;

&lt;p&gt;mapping requests from &lt;a href=&quot;http://host/sample&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://host/sample&lt;/a&gt; to another path should only be done with (http) redirects. otherwise the confusion is endless&lt;br/&gt;
as you problem shows.&lt;/p&gt;</comment>
                            <comment id="12625647" author="fmeschbe" created="Tue, 26 Aug 2008 07:06:47 +0000"  >&lt;p&gt;YMMV and as we already have this functionality built into the resource resolver, we should really implement the stuff correctly. In addition we might add additional path adaptions to the resolve methods, which also cause the the actual path used to retrieve the resource is completely different from the original request path. This would also not be supported by the current implementation.&lt;/p&gt;

&lt;p&gt;In addition the old  SlingRequestPathInfo implementation was based on the assumption upon the actual path used by the resource resolver to access the resource. This was bad anyway, because this used implementation knowledge of the resource resolver, which IMHO is not allowed anyway.&lt;/p&gt;</comment>
                            <comment id="12625649" author="fmeschbe" created="Tue, 26 Aug 2008 07:09:07 +0000"  >&lt;p&gt;Implemented the fixes:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Extended the ResourceMetadata API with a new sling.resolutionPathInfo property&lt;/li&gt;
	&lt;li&gt;Extended JcrResourceResolver to provide the new property in the resource metadata&lt;/li&gt;
	&lt;li&gt;Modified SlingRequestPathInfo class to use the new property&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;After committing the respective fixes to the api, jcr/resource and engine modules, I consider this issue fixed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175591</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 11 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rl7b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>159079</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-626] Potential encoding issues in Sling</title>
                <link>https://issues.apache.org/jira/browse/SLING-626</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;J&#252;rg Meier reported encoding issues when using Sling with URL encoded POST parameters &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;. This happens regardless of the client being used (IE, Firefox) with the Sling Engine version contained in Day&apos;s CRX Quickstart 1.4.0 product &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;The JSP script from the intiial mail (with the FormEncoding field fixed to &lt;em&gt;charset&lt;/em&gt;):&lt;/p&gt;

&lt;p&gt;-----------------------------------------------------&lt;br/&gt;
&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&amp;gt;&lt;br/&gt;
&amp;lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;   pageEncoding=&quot;UTF-8&quot;%&amp;gt;&lt;br/&gt;
&amp;lt;%@page import=&quot;javax.jcr.query.&lt;b&gt;, javax.jcr.&lt;/b&gt;,&lt;br/&gt;
org.apache.sling.api.resource.Resource&quot;%&amp;gt;&lt;br/&gt;
&amp;lt;%@page session=&quot;false&quot;%&amp;gt;&lt;br/&gt;
&amp;lt;%@taglib prefix=&quot;sling&quot;&lt;br/&gt;
uri=&quot;http://sling.apache.org/taglibs/sling/1.0&quot;%&amp;gt;&lt;br/&gt;
&amp;lt;sling:defineObjects/&amp;gt;&lt;br/&gt;
&amp;lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot;&lt;br/&gt;
&quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&amp;gt;&lt;br/&gt;
&amp;lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&amp;gt;&lt;br/&gt;
&amp;lt;head&amp;gt;&lt;br/&gt;
&amp;lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&amp;gt;&lt;br/&gt;
&amp;lt;title&amp;gt;Insert title here&amp;lt;/title&amp;gt;&lt;br/&gt;
&amp;lt;/head&amp;gt;&lt;br/&gt;
&amp;lt;body&amp;gt;&lt;br/&gt;
	&amp;lt;form name=&quot;form1&quot; method=&quot;post&quot; action=&quot;&amp;lt;%= currentNode.getPath()%&amp;gt;&quot;&lt;br/&gt;
	&amp;lt;table width=&quot;80%&quot; border=&quot;0&quot; cellspacing=&quot;4&quot; cellpadding=&quot;4&quot;&amp;gt;&lt;br/&gt;
	&amp;lt;tr&amp;gt; &lt;br/&gt;
		&amp;lt;td&amp;gt;Titel:&amp;lt;/td&amp;gt;&lt;br/&gt;
		&amp;lt;td&amp;gt;&amp;lt;input name=&quot;title&quot; type=&quot;text&quot; id=&quot;title&quot; size=&quot;80&quot; maxlength=&quot;128&quot; value=&quot;&amp;lt;%= currentNode.getProperty(&quot;title&quot;).getString()%&amp;gt;&quot;&amp;gt;&amp;lt;/td&amp;gt;&lt;br/&gt;
	&amp;lt;/tr&amp;gt;&lt;br/&gt;
	&amp;lt;tr&amp;gt;&lt;br/&gt;
		&amp;lt;td&amp;gt;&amp;lt;input name=&quot;&lt;em&gt;charset&lt;/em&gt;&quot; type=&quot;hidden&quot; value=&quot;UTF-8&quot;/&amp;gt; &amp;lt;/td&amp;gt;&lt;br/&gt;
		&amp;lt;td&amp;gt;&amp;lt;input type=&quot;submit&quot; value=&quot;&#196;ndern&quot;&amp;gt;&amp;lt;/td&amp;gt;&lt;br/&gt;
	&amp;lt;/tr&amp;gt;&lt;br/&gt;
	&amp;lt;/table&amp;gt;&lt;br/&gt;
	&amp;lt;/form&amp;gt;&lt;br/&gt;
&amp;lt;/body&amp;gt;&lt;br/&gt;
&amp;lt;/html&amp;gt;&lt;/p&gt;


&lt;p&gt;And here is the original data sent by the browser upon submitting this form:&lt;br/&gt;
     POSTDATA=title=Hilfe+bei+Wetterf%C3%BChligkeit&amp;amp;&lt;em&gt;charset&lt;/em&gt;=UTF-8&lt;/p&gt;


&lt;p&gt;It should be investigated which Engine version is being used in the CRX Quickstart and whether there have been any fixes applied after the production of that package.&lt;/p&gt;


&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://markmail.org/message/vh5sf5eoqmgs2h3r&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://markmail.org/message/vh5sf5eoqmgs2h3r&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://dev.day.com/microsling/content/blogs/cup/rules.c.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://dev.day.com/microsling/content/blogs/cup/rules.c.html&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12402841">SLING-626</key>
            <summary>Potential encoding issues in Sling</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Aug 2008 06:18:17 +0000</created>
                <updated>Tue, 26 Aug 2008 08:11:33 +0000</updated>
                            <resolved>Tue, 26 Aug 2008 08:11:33 +0000</resolved>
                                                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12625662" author="fmeschbe" created="Tue, 26 Aug 2008 08:11:33 +0000"  >&lt;p&gt;Quick testing reveals that this encoding issue does not happen in the current version (trunk) any more. A new release of the engine bundle is to be created soon.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175590</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 11 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ecwf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>292019</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-624] ignoreImportProviders cannot have more than one value</title>
                <link>https://issues.apache.org/jira/browse/SLING-624</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When using the following initial content configuration for the maven-bundle-plugin, only json files are ignored, but xml files are evaluated. The underlying problem is that ignoreImportProviders (which is part of a single Sling-Initial-Content entry) expects a comma-separated list and the Sling-Initial-Content expects a comma-separated list of entries.&lt;/p&gt;

&lt;p&gt;&amp;lt;Sling-Initial-Content&amp;gt;&lt;br/&gt;
CQ-INF/content/apps/xyz/docroot;overwrite:=true;path:=/apps/xyz/docroot;ignoreImportProviders:=json,xml,&lt;br/&gt;
CQ-INF/content/apps/xyz/components;overwrite:=true;path:=/apps/xyz/components,&lt;br/&gt;
CQ-INF/content/apps/xyz/templates;overwrite:=true;path:=/apps/xyz/templates&lt;br/&gt;
&amp;lt;/Sling-Initial-Content&amp;gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12402721">SLING-624</key>
            <summary>ignoreImportProviders cannot have more than one value</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="mikep">Mike Pfaff</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 Aug 2008 16:21:10 +0000</created>
                <updated>Sun, 13 Sep 2009 13:22:33 +0000</updated>
                            <resolved>Mon, 13 Oct 2008 15:38:30 +0000</resolved>
                                    <version>JCR Contentloader 2.0.4</version>
                                    <fixVersion>JCR Contentloader 2.0.4</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12624045" author="mikep" created="Wed, 20 Aug 2008 16:44:55 +0000"  >&lt;p&gt;Workaround: Put the whole tree, for which you do not want the xml/json auto-import, into a zip. The importer will then automatically extract the zip contents, but he will leave the json and xml files alone.&lt;/p&gt;</comment>
                            <comment id="12624587" author="cziegeler" created="Fri, 22 Aug 2008 06:25:10 +0000"  >&lt;p&gt;Hi Mike,&lt;/p&gt;

&lt;p&gt;could you please test if quoting the value works? &lt;/p&gt;

&lt;p&gt;CQ-INF/content/apps/xyz/docroot;overwrite:=true;path:=/apps/xyz/docroot;ignoreImportProviders:=&quot;json,xml&quot;, &lt;/p&gt;</comment>
                            <comment id="12625682" author="mikep" created="Tue, 26 Aug 2008 09:52:38 +0000"  >&lt;p&gt;I also tried that, but unfortunately it did not work. IIRC it even &quot;confused&quot; the importer.&lt;/p&gt;</comment>
                            <comment id="12625688" author="cziegeler" created="Tue, 26 Aug 2008 10:07:45 +0000"  >&lt;p&gt;Hi Mike,&lt;/p&gt;

&lt;p&gt;can you add the whole Sling-Initial-Content config you used here? And what exactly happended?&lt;/p&gt;</comment>
                            <comment id="12639081" author="mikep" created="Mon, 13 Oct 2008 15:38:30 +0000"  >&lt;p&gt;It now works with the double-quotes, therefore closing this issue.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175588</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 4 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ecwn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>292020</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-622] JspScriptEngineFactory: reference to repository classloader is not correctly unbound</title>
                <link>https://issues.apache.org/jira/browse/SLING-622</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The order of invocation if a service updates:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;bind the new service&lt;/li&gt;
	&lt;li&gt;unbind the old service&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12402695">SLING-622</key>
            <summary>JspScriptEngineFactory: reference to repository classloader is not correctly unbound</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 Aug 2008 08:25:19 +0000</created>
                <updated>Sun, 13 Sep 2009 13:46:09 +0000</updated>
                            <resolved>Wed, 20 Aug 2008 08:30:13 +0000</resolved>
                                    <version>Scripting JSP 2.0.2</version>
                                    <fixVersion>Scripting JSP 2.0.6</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175586</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 12 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rkif:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>158967</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-621] DefaultSlingScript should not flush the output after the script ends</title>
                <link>https://issues.apache.org/jira/browse/SLING-621</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The DefaultSclingScript.service method prepares a SlingBindings instance to call the script. This prepared instance provides the request and response objects and sets the flush property to true, which in turn causes the response to be flushed (and hence committed) when the script terminates.&lt;/p&gt;

&lt;p&gt;It is not necessairy to actually forcibly flush the output here, instead it might create issues if the response is committed early.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12402621">SLING-621</key>
            <summary>DefaultSlingScript should not flush the output after the script ends</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 Aug 2008 10:48:49 +0000</created>
                <updated>Tue, 19 Aug 2008 10:51:40 +0000</updated>
                            <resolved>Tue, 19 Aug 2008 10:51:27 +0000</resolved>
                                                    <fixVersion>Scripting Core 2.0.4</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12623630" author="fmeschbe" created="Tue, 19 Aug 2008 10:51:27 +0000"  >&lt;p&gt;Committed fix in Rev. 687015 and deployed snapshot build version 2.0.3-incubator-20080819.105057-2.&lt;/p&gt;</comment>
                            <comment id="12623631" author="fmeschbe" created="Tue, 19 Aug 2008 10:51:40 +0000"  >&lt;p&gt;Considering this issue resolved.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175585</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 12 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rk7j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>158918</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-615] Some jst&apos;s do not work on Mac</title>
                <link>https://issues.apache.org/jira/browse/SLING-615</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Michael Marth reported on some JSTs not working on Mac OS X:&lt;/p&gt;

&lt;p&gt;&quot;I saw this problem during a presales training, but thought it is with a&lt;br/&gt;
particular machine only. Now Kathy has sent the mail below where the problem&lt;br/&gt;
with jst&apos;s on Macs is described in detail.&lt;br/&gt;
The problem does not occur on Windows&lt;/p&gt;

&lt;p&gt;&amp;#8211;&lt;/p&gt;

&lt;p&gt;For some reason, on the mac, Phil and I have had to name some of the files that&lt;br/&gt;
you use as jst to esp. (Bertrand suggested this solution while we were in for&lt;br/&gt;
training.) The two problem files are post.jst/esp and html.jst/esp.  Naming&lt;br/&gt;
these two files with the .jst extension just returns an empty page.   (None of&lt;br/&gt;
our XP buddies are having this problem, only us mac users.) For some reason,&lt;br/&gt;
admin.jst works just fine...    (and, yes, I am moving the files up to the tss&lt;br/&gt;
directory as described in the errata)&lt;/p&gt;

&lt;p&gt;Once renamed, post.esp also works just fine. &lt;/p&gt;

&lt;p&gt;However, html.esp is throwing a &apos;&quot;Sling&quot; is not defined&apos; error for the following&lt;br/&gt;
statement:&lt;/p&gt;

&lt;p&gt;posts=Sling.getContent(&quot;/content/tss/posts&quot;, 2);&lt;/p&gt;

&lt;p&gt;I saw in a PDF file on the wiki that I might have to include sling.js as a&lt;br/&gt;
script in the file.  And the notes say that I also have to sling-551.js.  So I&lt;br/&gt;
included both files in the following fashion, as suggested by the Non CMS Web&lt;br/&gt;
App.pdf document:&lt;/p&gt;

&lt;p&gt;&amp;lt;script src=&quot;/system/sling.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&lt;br/&gt;
&amp;lt;script src=&quot;/system/sling-551.js&quot;&amp;gt;&amp;lt;/script&amp;gt;&lt;br/&gt;
(and yes, both of those files are in /system)&lt;/p&gt;

&lt;p&gt;However, it is throwing the same error.  So I have two questions:&lt;br/&gt;
1) Why is jst working only intermittently on the mac?&lt;br/&gt;
2) If we have to rename the files to esp, how can I get html.esp to recognize&lt;br/&gt;
the sling library? Do I have to put sling.js in a different place?&quot;&lt;/p&gt;

&lt;p&gt;I do not have an assessment for this issue. Maybe someone else here ?&lt;/p&gt;

&lt;p&gt;In addition, I also asked for the sample files and logs etc.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12402399">SLING-615</key>
            <summary>Some jst&apos;s do not work on Mac</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Thu, 14 Aug 2008 18:33:09 +0000</created>
                <updated>Tue, 21 Jul 2009 10:22:48 +0000</updated>
                            <resolved>Tue, 26 Aug 2008 13:04:46 +0000</resolved>
                                                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12623289" author="mmarth" created="Mon, 18 Aug 2008 09:08:05 +0000"  >&lt;p&gt;the application&lt;/p&gt;</comment>
                            <comment id="12623291" author="mmarth" created="Mon, 18 Aug 2008 09:09:56 +0000"  >&lt;p&gt;I attached the app. Use it like this:&lt;/p&gt;

&lt;p&gt;fill in content at .../content/tss/posts/*.post.html&lt;br/&gt;
aprrove content at .../content/tss/posts.admin.html&lt;br/&gt;
view list at .../content/tss/posts.html&lt;/p&gt;

&lt;p&gt;on my Windows machine all these steps work. On a Mac the first and the third seem not to work.&lt;/p&gt;</comment>
                            <comment id="12625718" author="bdelacretaz" created="Tue, 26 Aug 2008 13:04:46 +0000"  >&lt;p&gt;Fixed in revision 689056, the servlet that generates the client-side javascript uses regular expressions to find the &amp;lt;body&amp;gt; in the jst scripts, and those expressions were wrong.&lt;/p&gt;

&lt;p&gt;The problem was visible by looking at the generated js code, for example &lt;a href=&quot;http://localhost:8888/apps/tss/post.jst.jst.js&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8888/apps/tss/post.jst.jst.js&lt;/a&gt; (which is generated from /apps/tss/post.jst) contained just &quot;out=document;&quot;, indicating that the code generator didn&apos;t find a &amp;lt;body&amp;gt; tag.&lt;/p&gt;

&lt;p&gt;I have no idea why this could work on some platforms, as the code was clearly broken &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;This simplistic parsing could be problematic, for example including &amp;lt;body&amp;gt; in an html comment before the actual body breaks it.&lt;/p&gt;

&lt;p&gt;Please cross-check and close this issue if ok.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12388413" name="tss.zip" size="199035" author="mmarth" created="Mon, 18 Aug 2008 09:08:05 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175580</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 11 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10lov:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>211648</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-610] Recursion check counts all includes instead of nested includes</title>
                <link>https://issues.apache.org/jira/browse/SLING-610</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The include counter is only increased but never increased. If you have more than the allowed number of includes (50 currently) during a request in total, the corresponding&lt;br/&gt;
exception is thrown.&lt;br/&gt;
This behaviour does therefore currently not checked the recursion depths but the total number of includes.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12402284">SLING-610</key>
            <summary>Recursion check counts all includes instead of nested includes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Wed, 13 Aug 2008 10:07:12 +0000</created>
                <updated>Wed, 13 Aug 2008 10:25:05 +0000</updated>
                            <resolved>Wed, 13 Aug 2008 10:25:05 +0000</resolved>
                                    <version>Engine 2.0.2</version>
                                    <fixVersion>Engine 2.0.4</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175575</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 13 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rkq7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>159002</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-607] org.apache.log4j.CategoryKey is missing</title>
                <link>https://issues.apache.org/jira/browse/SLING-607</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;same issue as &lt;a href=&quot;http://issues.ops4j.org/jira/browse/PAXLOGGING-36&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://issues.ops4j.org/jira/browse/PAXLOGGING-36&lt;/a&gt;&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12402205">SLING-607</key>
            <summary>org.apache.log4j.CategoryKey is missing</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="olli">Oliver Lietz</reporter>
                        <labels>
                    </labels>
                <created>Tue, 12 Aug 2008 12:12:32 +0000</created>
                <updated>Sun, 13 Sep 2009 13:04:12 +0000</updated>
                            <resolved>Tue, 12 Aug 2008 15:27:55 +0000</resolved>
                                    <version>Commons Log 2.0.2</version>
                                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12621799" author="fmeschbe" created="Tue, 12 Aug 2008 12:45:16 +0000"  >&lt;p&gt;Hmm, I don&apos;t think our logging bundle is affected by this issue, because we only include the Log4J API but use our own implementation of the SLF4J API as a backend for logging. Thus also Log4J configuration does not take place in our bundle.&lt;/p&gt;

&lt;p&gt;Can you confirm, that your issue also happens when using the sling logging bundle instead of the pax logging bundle ?&lt;/p&gt;</comment>
                            <comment id="12621807" author="olli" created="Tue, 12 Aug 2008 13:09:19 +0000"  >&lt;p&gt;Yes, I can confirm - same exception. I&apos;m rebuilding the causing bundle as described in OPS4J&apos;s Jira and see if it still happens.&lt;/p&gt;</comment>
                            <comment id="12621851" author="olli" created="Tue, 12 Aug 2008 15:27:55 +0000"  >&lt;p&gt;removing logging classes from causing bundle helped&lt;/p&gt;</comment>
                            <comment id="12622101" author="fmeschbe" created="Wed, 13 Aug 2008 05:16:53 +0000"  >&lt;p&gt;Thanks for the feedback.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175572</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 13 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ecif:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291956</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-604] Multi value properties not properly supported by ScriptableNode.get(String) method</title>
                <link>https://issues.apache.org/jira/browse/SLING-604</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;It seems that mutlivalue properties are not properly supported by the ScriptableNode.get(String) method. The construct&lt;/p&gt;

&lt;p&gt;   someNode.prop&lt;/p&gt;

&lt;p&gt;should return an array of values if the property is multi-valued even in the case of the array only containing a single value.&lt;/p&gt;

&lt;p&gt;Paul Davis reported in &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; that the construct&lt;/p&gt;

&lt;p&gt;   &amp;lt;% for(var i=0; i &amp;lt;currentNode.trackId.length; i++) &lt;/p&gt;
{ %&amp;gt;
       &amp;lt;div&amp;gt;&amp;lt;%= currentNode.trackId[i] %&amp;gt;&amp;lt;/div&amp;gt;
   &amp;lt;% }
&lt;p&gt; %&amp;gt;&lt;/p&gt;

&lt;p&gt;listed the single characters of the single value of the trackid property in case the trackid is a multi-valued property with just a single value. The actual property seems to be a proper multivalue property because&lt;/p&gt;

&lt;p&gt;   var items = currentNode.getProperty(&quot;trackId&quot;).values;&lt;br/&gt;
   for( var i=0; i &amp;lt; items.length; i++ ) &lt;/p&gt;
{
       ...
   }

&lt;p&gt;works correctly.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://markmail.org/message/rbnsfolm3yq6thfv&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://markmail.org/message/rbnsfolm3yq6thfv&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12401959">SLING-604</key>
            <summary>Multi value properties not properly supported by ScriptableNode.get(String) method</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Fri, 8 Aug 2008 06:07:54 +0000</created>
                <updated>Tue, 14 Jan 2014 03:59:17 +0000</updated>
                            <resolved>Tue, 14 Jan 2014 03:58:48 +0000</resolved>
                                    <version>Scripting JavaScript 2.0.2</version>
                                    <fixVersion> Scripting JavaScript 2.0.4</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12634912" author="fmeschbe" created="Fri, 26 Sep 2008 16:07:02 +0000"  >&lt;p&gt;This didn&apos;t make it into the initial release. Retargeting for the next release.&lt;/p&gt;</comment>
                            <comment id="12705504" author="fmeschbe" created="Mon, 4 May 2009 07:16:16 +0000"  >&lt;p&gt;Descheduling. Will be fixed in a future release.&lt;/p&gt;</comment>
                            <comment id="13870360" author="fmeschbe" created="Tue, 14 Jan 2014 03:58:48 +0000"  >&lt;p&gt;I have the impression this issues actually duplicates &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-534&quot; title=&quot;Multi-Value Reference properties are not exposed to scripting the same way as single-value reference properties&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-534&quot;&gt;&lt;del&gt;SLING-534&lt;/del&gt;&lt;/a&gt; which has been fixed a long time ago.&lt;/p&gt;</comment>
                            <comment id="13870361" author="fmeschbe" created="Tue, 14 Jan 2014 03:59:17 +0000"  >&lt;p&gt;Thus closing.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12398267">SLING-534</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36106</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 42 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0327b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>15790</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-603] Primary node type is not detected</title>
                <link>https://issues.apache.org/jira/browse/SLING-603</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If a POST is send to a new node like /sling/mynode/something with a request parameter ./jcr:primaryNode=my:nodetype&lt;br/&gt;
then this node type is not applied to the newly created new &quot;something&quot;.&lt;/p&gt;

&lt;p&gt;The problem is in the ModifyOperation class. Each request property name is made absolute, so the final property name becomes:&lt;br/&gt;
/sling/mynode/something/./jcr:primaryNode  (method toPropertyPath)&lt;/p&gt;

&lt;p&gt;The getPrimaryType() method then searches for /sling/mynode/something/jcr:primaryNode which is logically the same path but a different key! Therefore the request parameter is never found.&lt;/p&gt;

&lt;p&gt;I&apos;ve no idea why this is not working anymore as it used to.&lt;/p&gt;

&lt;p&gt;I&apos;ll change the toPropertyPath method to check for the prefix ./ and remove it when creating the path.&lt;br/&gt;
But I&apos;ll leave this bug open as there might be a better solution.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12401772">SLING-603</key>
            <summary>Primary node type is not detected</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Wed, 6 Aug 2008 12:12:15 +0000</created>
                <updated>Sun, 13 Sep 2009 13:39:13 +0000</updated>
                            <resolved>Fri, 8 Aug 2008 06:27:00 +0000</resolved>
                                    <version>Servlets Post 2.0.2</version>
                                    <fixVersion>Servlets Post 2.0.4</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175569</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 14 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rkof:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>158994</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-601] Request Inclusion Counter operating too rigid</title>
                <link>https://issues.apache.org/jira/browse/SLING-601</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The SlingMainServlet implements a recursion level counter to prevent recursions going too deep in the checkRecursionLevel method. What this method does is incrementing a counter stored as a request attribute everytime RequestDispatcher.include is called (by whatever means).&lt;/p&gt;

&lt;p&gt;The drawback of this mechanism is, that the counter is only incremented and never decremented after an inclusion returns. This in fact is not a recursion level counter but a counter limiting the number of times RequestDispatcher.include may be called. Another drawback of this is, that the implementation is overcomplicated, because the RequestData object created for each request keeps a stack of a inclusions and hence could easily implement a real recursion level checker by just checking the size of the stack.&lt;/p&gt;

&lt;p&gt;I think, we should drop the SlingMainServlet.checkRecursionLevel method altogether and replace it with a new RequestData.checkAbort method which throws in case any of two cases occurrs:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Recursion Level is too deep (50 seems like useful)&lt;/li&gt;
	&lt;li&gt;Number of includes exceeds a given number (something like 1000 or more ?)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;In addition the Exception should be made public in the Sling engine module such that users of any include mechanism could handle it if need be.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12401683">SLING-601</key>
            <summary>Request Inclusion Counter operating too rigid</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Tue, 5 Aug 2008 10:08:14 +0000</created>
                <updated>Wed, 28 Jan 2009 16:50:15 +0000</updated>
                            <resolved>Wed, 28 Jan 2009 16:50:15 +0000</resolved>
                                    <version>Engine 2.0.2</version>
                                    <fixVersion>Engine 2.0.4</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12625432" author="janandith" created="Mon, 25 Aug 2008 17:36:34 +0000"  >&lt;p&gt;How can I use the checkRecursionLevel method in code  to check this problem.  &lt;/p&gt;

&lt;p&gt;should I include a script in 51 files recursively first.&lt;/p&gt;

&lt;p&gt;            ex: a ------ includes ------&amp;gt; b ------ includes -------&amp;gt; c  ....                etc.&lt;/p&gt;

&lt;p&gt;secondly&lt;/p&gt;

&lt;p&gt;should I call include 51 times in the same script.&lt;/p&gt;

&lt;p&gt;           ex:   a ----&amp;gt;include b&lt;br/&gt;
                      ----&amp;gt;include c&lt;/p&gt;

&lt;p&gt;                      -----   etc&lt;/p&gt;


&lt;p&gt;How can I check the result for a failure. Is it by finding whether InfiniteIncludeLoopException is thrown.&lt;/p&gt;
</comment>
                            <comment id="12625475" author="fmeschbe" created="Mon, 25 Aug 2008 19:24:25 +0000"  >&lt;p&gt;I think the counter should prevent to deeply nested recursions, so the first situation should be guarded against.&lt;/p&gt;

&lt;p&gt;In user code, you should not generally check this counter - it is an internal counter used by the Sling system to enforce the limit. Nevertheless you can catch an the exception which AFAIK is not a really public one.&lt;/p&gt;

&lt;p&gt;The second situation may potentially also be a problem, such as in an endless loop. But the limit for this kind of counter should be much higher than 50.&lt;/p&gt;

&lt;p&gt;I think Bertrand wrote integration tests for this functionality. But these test did not include includes in succession.&lt;/p&gt;</comment>
                            <comment id="12625487" author="tripod" created="Mon, 25 Aug 2008 19:58:28 +0000"  >&lt;p&gt;initially the  counter just counted the number of includes. so if you had more than 50 includes on your page it aborted.&lt;br/&gt;
imo (and of carstens) this was wrong and he changed it to count nested includes (so decrementing after the include).&lt;/p&gt;

&lt;p&gt;endless loops are not easy detectable. there is nothing you can do to prevent people writing a &quot;while(true);&quot;. of course there can be counter measures, like killing a 100% thread, or checking that the output of a HTML doesn&apos;t get too big...but i think this is a tedious work.&lt;/p&gt;</comment>
                            <comment id="12625637" author="fmeschbe" created="Tue, 26 Aug 2008 06:00:37 +0000"  >&lt;p&gt;&amp;gt; endless loops are not easy detectable. there is nothing you can do to prevent people writing a &quot;while(true);&quot;&lt;/p&gt;

&lt;p&gt;I was talking about endless inclusion loops of the form &quot;while (true) &lt;/p&gt;
{ include(&quot;something&quot;) }
&lt;p&gt;&quot;. This form of endless loop can be detected by an inclusion counter, too. But as I said, this limit should be much higher, such as to allow big inclusions (like listing and displaying children) but stopping ridiculous inclusions (like inclusion loops with bugs like forgetting to increment a counter).&lt;/p&gt;</comment>
                            <comment id="12625645" author="cziegeler" created="Tue, 26 Aug 2008 06:40:31 +0000"  >&lt;p&gt;Yes, I think having both limits makes sense - as pointed out, the current mechanism checks the recursion level where a value of 50 should really be sufficient.&lt;br/&gt;
In addition couting the total number of includes and limiting them (to 1000) makes sense.&lt;br/&gt;
However, it would be great to have this configurable - I can imagine that if you&apos;re building heavy portal sites the limits should be higher.&lt;/p&gt;</comment>
                            <comment id="12668017" author="fmeschbe" created="Wed, 28 Jan 2009 12:49:55 +0000"  >&lt;p&gt;Implemented this change in Rev. 738470:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;RecursionTooDeepException thrown when recursion level is reached&lt;/li&gt;
	&lt;li&gt;TooManyCallsException thrown when number of calls is too high&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Recursion level and call numbers are configurable for the SlingMainServlet and default to 50 for the recursion level and 1000 for the call counter.&lt;/p&gt;</comment>
                            <comment id="12668058" author="fmeschbe" created="Wed, 28 Jan 2009 15:59:04 +0000"  >&lt;p&gt;Fixed integration tests to check for the new RecursionTooDeepException in Rev. 738520.&lt;/p&gt;</comment>
                            <comment id="12668070" author="fmeschbe" created="Wed, 28 Jan 2009 16:50:15 +0000"  >&lt;p&gt;There was a small bug in the callCounter handling the RequestData.service method, which caused the max Call limit to never be reached since, the counter was decremented after the call. This is wrong and the counter is now not decremented any more. This also ensures the counter value in the timer name has a sensible and unique value.&lt;/p&gt;

&lt;p&gt;Fixed in Rev. 738529.&lt;/p&gt;

&lt;p&gt;In Rev. 738531 I added an integration test for the max call limit check, which in fact revealed the issue the RequestData.service method.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175567</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 41 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rkt3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>159015</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-600] ValueMap#get(String s, T obj) does not work with java.util.Calendar</title>
                <link>https://issues.apache.org/jira/browse/SLING-600</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I am using the sling api (Version 2.0.3-incubator-SNAPSHOT) to access properties from a JCR repository and have noticed something strange in the class&lt;br/&gt;
org.apache.sling.api.resource.ValueMap&lt;/p&gt;

&lt;p&gt;The method &quot;&amp;lt;T&amp;gt; T get(java.lang.String name, T defaultValue)&quot; allows to pass a default value. It will return the default value if the property &quot;name&quot; does not exist in the map. This works fine for many types such as String, Long and Boolean - but apparently it does not work for Calendar properties.&lt;/p&gt;

&lt;p&gt;The problem is that when i pass a default value of type java.util.Calendar, the get method always returns the default value regardless wether there is a property &quot;name&quot; or not. Wether the property &quot;name&quot; is of type &quot;Date&quot; (in the JCR repository) or of type &quot;String&quot; does not seem to make a difference.&lt;/p&gt;

&lt;p&gt;The following example code can be used to reproduce the problem:&lt;/p&gt;

&lt;p&gt;  ValueMap map = resource.adaptTo(ValueMap.class);&lt;/p&gt;

&lt;p&gt;  // this does not work&lt;br/&gt;
  Calendar defaultCalendar = new GregorianCalendar();&lt;br/&gt;
  Calendar dateValue = map.get(&quot;dateProperty&quot;, defaultCalendar); // &amp;lt;- always returns defaultCalendar&lt;br/&gt;
  log.debug(&quot;dateProperty with default = &quot;&lt;ins&gt;(dateValue == null ? &quot;null&quot; : dateValue.get(Calendar.MONTH)&lt;/ins&gt;&quot;.&quot;+dateValue.get(Calendar.YEAR)));&lt;/p&gt;

&lt;p&gt;  // without default value - works fine&lt;br/&gt;
  dateValue = map.get(&quot;dateProperty&quot;, Calendar.class); // &amp;lt;- correctly returns the dateProperty value&lt;br/&gt;
  log.debug(&quot;dateProperty no default = &quot;&lt;ins&gt;(dateValue == null ? &quot;null&quot; : dateValue.get(Calendar.MONTH)&lt;/ins&gt;&quot;.&quot;+dateValue.get(Calendar.YEAR)));&lt;/p&gt;</description>
                <environment>Windows XP, Sling Version 2.0.3-incubator-SNAPSHOT (running on Communiqu&amp;#xE9;5)</environment>
        <key id="12401682">SLING-600</key>
            <summary>ValueMap#get(String s, T obj) does not work with java.util.Calendar</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="vogla">Andreas Vogl</reporter>
                        <labels>
                    </labels>
                <created>Tue, 5 Aug 2008 10:00:44 +0000</created>
                <updated>Sun, 13 Sep 2009 13:22:38 +0000</updated>
                            <resolved>Tue, 5 Aug 2008 21:59:09 +0000</resolved>
                                                    <fixVersion>JCR Resource 2.0.4</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12620063" author="fmeschbe" created="Tue, 5 Aug 2008 21:51:39 +0000"  >&lt;p&gt;The problem is that the JcrPropertyMap.get(String, T) method uses the runtime type of the object to select the type for the conversion in the convertToType method. This results in the convertToType method in your example to be called with the GregorianCalendar class which does not equal any of the checked classes.&lt;/p&gt;

&lt;p&gt;The fix is to special case some types supported by the convertToType method: Calendar and Value. Both are interfaces of which the default value may be an implementation.&lt;/p&gt;</comment>
                            <comment id="12620067" author="fmeschbe" created="Tue, 5 Aug 2008 21:59:09 +0000"  >&lt;p&gt;Fixed in Rev. 682984 as indicated above. Also deployed SNAPSHOT version 2.0.3-incubator-20080805.215826-3.&lt;/p&gt;

&lt;p&gt;Please close the issue if the fix works for you. Thanks.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175566</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 14 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rl6f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>159075</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-597] Class MultipartRequestParameter contained in file MultipartPostParameter.java</title>
                <link>https://issues.apache.org/jira/browse/SLING-597</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The package private class MultipartRequestParameter is contained in the source file MutlipartPostParameter.java. While this seems to not techincally be a problem (no compiler complained to date), it is not nice to our clients and ourselves.&lt;/p&gt;

&lt;p&gt;Hence the file should be renamed to reflect the name of the class contained therein.&lt;/p&gt;

&lt;p&gt;Thanks to Angela Schreiber for reporting this.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12401585">SLING-597</key>
            <summary>Class MultipartRequestParameter contained in file MultipartPostParameter.java</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Mon, 4 Aug 2008 09:00:56 +0000</created>
                <updated>Mon, 4 Aug 2008 09:03:39 +0000</updated>
                            <resolved>Mon, 4 Aug 2008 09:03:39 +0000</resolved>
                                    <version>Engine 2.0.2</version>
                                    <fixVersion>Engine 2.0.4</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12619445" author="fmeschbe" created="Mon, 4 Aug 2008 09:03:39 +0000"  >&lt;p&gt;Fixed in Rev. 682299&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175564</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 14 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rk53:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>158907</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-595] Webloader ui ROOT.json fails to create subnodes</title>
                <link>https://issues.apache.org/jira/browse/SLING-595</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;This used to work, but I just noticed that the initial content loader fails to create the subnodes defined by the ROOT.json file of the samples/webloader/ui.&lt;/p&gt;

&lt;p&gt;Error in the logs:&lt;br/&gt;
java.util.EmptyStackException&lt;br/&gt;
        at java.util.Stack.peek(Stack.java:79)&lt;br/&gt;
        at java.util.Stack.pop(Stack.java:61)&lt;br/&gt;
        at org.apache.sling.jcr.contentloader.internal.ContentLoader.finishNode(ContentLoader.java:367)&lt;br/&gt;
        at org.apache.sling.jcr.contentloader.internal.JsonReader.createNode(JsonReader.java:120)&lt;/p&gt;

&lt;p&gt;And the ROOT.json file is:&lt;/p&gt;

&lt;p&gt;{&lt;br/&gt;
	&quot;bin&quot; : {&lt;br/&gt;
	    &quot;jcr:primaryType&quot; : &quot;nt:unstructured&quot;,&lt;br/&gt;
	    &quot;sling&quot; : {&lt;br/&gt;
		    &quot;jcr:primaryType&quot; : &quot;nt:unstructured&quot;,&lt;br/&gt;
		    &quot;webloader&quot; : &lt;/p&gt;
{
			    &quot;jcr:primaryType&quot; : &quot;nt:unstructured&quot;,
			    &quot;sling:resourceType&quot; : &quot;sling/webloader&quot;
		    }
&lt;p&gt;	    }&lt;br/&gt;
	}&lt;br/&gt;
}&lt;/p&gt;</description>
                <environment></environment>
        <key id="12401403">SLING-595</key>
            <summary>Webloader ui ROOT.json fails to create subnodes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Thu, 31 Jul 2008 13:41:28 +0000</created>
                <updated>Thu, 31 Jul 2008 13:48:17 +0000</updated>
                            <resolved>Thu, 31 Jul 2008 13:48:17 +0000</resolved>
                                                                    <component>Samples</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12618676" author="bdelacretaz" created="Thu, 31 Jul 2008 13:42:10 +0000"  >&lt;p&gt;I think it is better to use ROOT.json only for setting properties on the root node, so I&apos;ll just rename ROOT.json to bin.json and remove the &quot;bin&quot; level in it.&lt;/p&gt;</comment>
                            <comment id="12618680" author="bdelacretaz" created="Thu, 31 Jul 2008 13:48:17 +0000"  >&lt;p&gt;Fixed in revision 681368, using a bin.json file instead of ROOT.json&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175562</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 14 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1eciv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291958</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-593] JSPC does not respect JSTL/EL expressions</title>
                <link>https://issues.apache.org/jira/browse/SLING-593</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When using the JSPC plugin for precompilation of jsp-scripts, contained JSTL/EL expressions are ignored and the resulting servlets simply output the JSTL/EL expression instead of evaluating the expression itself. The precompiled classes are deployed as an OSGi bundle.&lt;/p&gt;

&lt;p&gt;If the exact same script is deployed directly to the target repository (e.g. with WebDAV), the JSTL/EL expressions are evaluated correctly.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12401331">SLING-593</key>
            <summary>JSPC does not respect JSTL/EL expressions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="hwong">Honwai Wong</reporter>
                        <labels>
                    </labels>
                <created>Wed, 30 Jul 2008 15:43:05 +0000</created>
                <updated>Wed, 6 Aug 2008 06:43:57 +0000</updated>
                            <resolved>Tue, 5 Aug 2008 14:08:04 +0000</resolved>
                                    <version>Maven JSPC Plugin 2.0.2</version>
                                    <fixVersion> Maven JSPC Plugin 2.0.4</fixVersion>
                                    <component>Maven Plugins and Archetypes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12618406" author="hwong" created="Wed, 30 Jul 2008 16:05:28 +0000"  >&lt;p&gt;Attaching a simple jsp script that should print a simple string value using JSTL/EL.&lt;/p&gt;</comment>
                            <comment id="12619450" author="fmeschbe" created="Mon, 4 Aug 2008 09:20:59 +0000"  >&lt;p&gt;Thanks for submitting this issue. Will look into this.&lt;/p&gt;

&lt;p&gt;As another workaround you may just omit the compiled classes from the bundle and have Sling compile the script files deployed with the bundle by means of the BundleResourceProvider.&lt;/p&gt;</comment>
                            <comment id="12619888" author="fmeschbe" created="Tue, 5 Aug 2008 14:08:04 +0000"  >&lt;p&gt;The problem is that the JSP compiler defaults ignoring expression language support if the web.xml file is a pre-Servlet API 2.4 file. This was exactly the case for the JspC plugin, which had an empty Servlet API 2.3 web.xml file. I modified the empty web.xml file to be Servlet API 2.4 compliant. Now it seems to work.&lt;/p&gt;

&lt;p&gt;Committed in Rev. 682715 and deployed SNAPSHOT version 2.0.3-incubator-20080805.140521-2.&lt;/p&gt;

&lt;p&gt;Please close this bug, if this works for you. Thanks.&lt;/p&gt;</comment>
                            <comment id="12620151" author="hwong" created="Wed, 6 Aug 2008 06:43:57 +0000"  >&lt;p&gt;I successfully tested following jstl-statements:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;${pageContext.request.pathInfo}&lt;/li&gt;
	&lt;li&gt;&amp;lt;c:out value=&quot;${pageContext.request.pathInfo}&quot; /&amp;gt;&lt;/li&gt;
	&lt;li&gt;&amp;lt;c:forEach ../&amp;gt;&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;Thanks for the fix, works perfect now!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12387204" name="test.jsp" size="209" author="hwong" created="Wed, 30 Jul 2008 16:05:28 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175560</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 14 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rkfb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>158953</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-591] NoSuchMethodError exception in javax.script.Bindings when running on Java 5</title>
                <link>https://issues.apache.org/jira/browse/SLING-591</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;running scripting on Java 5 leads to runtime errors:&lt;/p&gt;

&lt;p&gt;&lt;b&gt;ERROR&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;btpool0-2&amp;#93;&lt;/span&gt; org.apache.sling.scripting.freemarker.FreemarkerScriptEngine Failure running Freemarker script. java.lang.NoSuchMethodError: javax.script.Bindings.put(Ljava/lang/String;Ljava/lang/Object;)Ljava/lang/Object;&lt;br/&gt;
	at org.apache.sling.scripting.freemarker.FreemarkerScriptEngine.eval(FreemarkerScriptEngine.java:69)&lt;br/&gt;
	at org.apache.sling.scripting.core.impl.DefaultSlingScript.call(DefaultSlingScript.java:135)&lt;br/&gt;
	at org.apache.sling.scripting.core.impl.DefaultSlingScript.eval(DefaultSlingScript.java:106)&lt;br/&gt;
	at org.apache.sling.scripting.core.impl.DefaultSlingScript.service(DefaultSlingScript.java:219)&lt;br/&gt;
	at org.apache.sling.engine.impl.request.RequestData.service(RequestData.java:462)&lt;br/&gt;
	at org.apache.sling.engine.impl.SlingMainServlet.processRequest(SlingMainServlet.java:419)&lt;br/&gt;
	at org.apache.sling.engine.impl.filter.RequestSlingFilterChain.render(RequestSlingFilterChain.java:48)&lt;br/&gt;
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:54)&lt;br/&gt;
	at org.apache.sling.engine.impl.debug.RequestProgressTrackerLogFilter.doFilter(RequestProgressTrackerLogFilter.java:59)&lt;br/&gt;
	at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:52)&lt;br/&gt;
	at org.apache.sling.engine.impl.SlingMainServlet.service(SlingMainServlet.java:273)&lt;br/&gt;
	at org.apache.sling.engine.impl.SlingMainServlet.service(SlingMainServlet.java:171)&lt;br/&gt;
        &lt;span class=&quot;error&quot;&gt;&amp;#91;...&amp;#93;&lt;/span&gt;&lt;/p&gt;
</description>
                <environment>Mac OS X 10.5/Intel64</environment>
        <key id="12401300">SLING-591</key>
            <summary>NoSuchMethodError exception in javax.script.Bindings when running on Java 5</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="olli">Oliver Lietz</reporter>
                        <labels>
                    </labels>
                <created>Wed, 30 Jul 2008 08:58:29 +0000</created>
                <updated>Fri, 12 Mar 2010 16:55:43 +0000</updated>
                            <resolved>Fri, 12 Mar 2010 16:55:35 +0000</resolved>
                                                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12621375" author="fmeschbe" created="Mon, 11 Aug 2008 07:46:49 +0000"  >&lt;p&gt;The problem is probably that you compiled the scripting/freemarker module using a JDK 6 compiler which compiles against the Java Scripting API contained in Java 6, which is written using generics. When running on Java 5, the BSF 3 Java Scripting API implementation is used, which is &lt;em&gt;not&lt;/em&gt; written using generics, because it is intended to be run on Java 1.4, also.&lt;/p&gt;

&lt;p&gt;Two solutions come to mind:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Compile the module with Java 5 instead of Java 6&lt;/li&gt;
	&lt;li&gt;Extend the Freemarker module&apos;s &amp;lt;build/plugins&amp;gt; section as follows:&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;            &amp;lt;plugin&amp;gt;&lt;br/&gt;
                &amp;lt;groupId&amp;gt;org.apache.maven.plugins&amp;lt;/groupId&amp;gt;&lt;br/&gt;
                &amp;lt;artifactId&amp;gt;maven-dependency-plugin&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
                &amp;lt;version&amp;gt;2.0-alpha-4&amp;lt;/version&amp;gt;&lt;br/&gt;
                &amp;lt;executions&amp;gt;&lt;br/&gt;
                    &amp;lt;execution&amp;gt;&lt;br/&gt;
                        &amp;lt;id&amp;gt;get-bsf3-api&amp;lt;/id&amp;gt;&lt;br/&gt;
                        &amp;lt;goals&amp;gt;&lt;br/&gt;
                            &amp;lt;goal&amp;gt;copy&amp;lt;/goal&amp;gt;&lt;br/&gt;
                        &amp;lt;/goals&amp;gt;&lt;br/&gt;
                        &amp;lt;configuration&amp;gt;&lt;br/&gt;
                            &amp;lt;artifactItems&amp;gt;&lt;br/&gt;
                                &amp;lt;artifactItem&amp;gt;&lt;br/&gt;
                                    &amp;lt;groupId&amp;gt;org.apache.bsf&amp;lt;/groupId&amp;gt;&lt;br/&gt;
                                    &amp;lt;artifactId&amp;gt;bsf-api&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
                                    &amp;lt;version&amp;gt;3.0-beta2&amp;lt;/version&amp;gt;&lt;br/&gt;
                                &amp;lt;/artifactItem&amp;gt;&lt;br/&gt;
                            &amp;lt;/artifactItems&amp;gt;&lt;br/&gt;
                            &amp;lt;stripVersion&amp;gt;true&amp;lt;/stripVersion&amp;gt;&lt;br/&gt;
                        &amp;lt;/configuration&amp;gt;&lt;br/&gt;
                    &amp;lt;/execution&amp;gt;&lt;br/&gt;
                &amp;lt;/executions&amp;gt;&lt;br/&gt;
            &amp;lt;/plugin&amp;gt;&lt;br/&gt;
            &amp;lt;plugin&amp;gt;&lt;br/&gt;
                &amp;lt;groupId&amp;gt;org.apache.maven.plugins&amp;lt;/groupId&amp;gt;&lt;br/&gt;
                &amp;lt;artifactId&amp;gt;maven-compiler-plugin&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
                &amp;lt;configuration&amp;gt;&lt;br/&gt;
                    &amp;lt;!-- Reported to work on Linux, Windows, Mac OSX --&amp;gt;&lt;br/&gt;
                    &amp;lt;compilerArgument&amp;gt;-Xbootclasspath/p:${project.build.directory}/dependency/bsf-api.jar&amp;lt;/compilerArgument&amp;gt;&lt;br/&gt;
                &amp;lt;/configuration&amp;gt;&lt;br/&gt;
            &amp;lt;/plugin&amp;gt;&lt;/p&gt;

&lt;p&gt;This ensure the compilation of the module against the BSF 3 library.&lt;/p&gt;</comment>
                            <comment id="12621855" author="olli" created="Tue, 12 Aug 2008 15:35:28 +0000"  >&lt;p&gt;I would like to see this handled more gracefully.&lt;br/&gt;
a) add classifier to bundles (java5, java6)&lt;br/&gt;
b) add Bundle-RequiredExecutionEnvironment&lt;/p&gt;
</comment>
                            <comment id="12622102" author="fmeschbe" created="Wed, 13 Aug 2008 05:21:04 +0000"  >&lt;p&gt;&amp;gt; I would like to see this handled more gracefully.&lt;/p&gt;

&lt;p&gt;So do I &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;But I think, if we can ensure compilation works correctly (probably in a manner as explained above with the maven setup extension, it would be much simpler. Because we would have a single bundle which is usable on all Java platforms supported by Sling.&lt;/p&gt;

&lt;p&gt;One way might be to create a new parent project for the scripting bundles, which contains this setup to be inherited by the scripting modules.&lt;/p&gt;</comment>
                            <comment id="12844565" author="cziegeler" created="Fri, 12 Mar 2010 16:55:35 +0000"  >&lt;p&gt;I think we can set this to fixed now as we&apos;re not using the bsf version anymore&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175559</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 34 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ecj3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291959</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-588] Sling ignores specified node path when creating content</title>
                <link>https://issues.apache.org/jira/browse/SLING-588</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;As described here: &lt;a href=&quot;http://markmail.org/message/u3be3mpaal4efngj&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://markmail.org/message/u3be3mpaal4efngj&lt;/a&gt; Sling will ignore the node path specified in the HTTP request when creating contents which makes it impossible to create nodes with a dot in the node name from a form post.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12401188">SLING-588</key>
            <summary>Sling ignores specified node path when creating content</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="lars3loff">Lars Trieloff</reporter>
                        <labels>
                    </labels>
                <created>Mon, 28 Jul 2008 20:29:58 +0000</created>
                <updated>Sun, 13 Sep 2009 13:39:19 +0000</updated>
                            <resolved>Thu, 30 Oct 2008 08:03:04 +0000</resolved>
                                    <version>Servlets Post 2.0.2</version>
                                    <fixVersion>Servlets Post 2.0.4</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12617538" author="lars3loff" created="Mon, 28 Jul 2008 20:31:25 +0000"  >&lt;p&gt;This patch fixes the issue for me.&lt;/p&gt;</comment>
                            <comment id="12617735" author="tripod" created="Tue, 29 Jul 2008 08:11:52 +0000"  >&lt;p&gt;i would rather not change the way how node paths are computer for POST requests.&lt;br/&gt;
for your example you can use the workaround to specify deep paths in the property names, eg:&lt;/p&gt;

&lt;p&gt;&amp;lt;form method=&quot;POST&quot; action=&quot;/&quot;&amp;gt;&lt;br/&gt;
&amp;lt;input type=&quot;hidden&quot; value=&quot;/test.css&quot; name=&quot;:redirect&quot;/&amp;gt;&lt;br/&gt;
&amp;lt;input type=&quot;hidden&quot; value=&quot;nt:file&quot; name=&quot;./test.css/jcr:primaryType&quot;/&amp;gt;&lt;br/&gt;
&amp;lt;input type=&quot;hidden&quot; value=&quot;nt:resource&quot; name=&quot;./test.css/jcr:content/jcr:primaryType&quot;/&amp;gt;&lt;br/&gt;
&amp;lt;input type=&quot;hidden&quot; value=&quot;text/css&quot; name=&quot;./test.css/jcr:content/jcr:mimeType&quot;/&amp;gt;&lt;br/&gt;
&amp;lt;input type=&quot;hidden&quot; value=&quot;&quot; name=&quot;./test.css/jcr:content/jcr:lastModified&quot;/&amp;gt;&lt;/p&gt;
</comment>
                            <comment id="12617746" author="lars3loff" created="Tue, 29 Jul 2008 09:11:08 +0000"  >&lt;p&gt;Sorry, this does not work due to the NullPointerException mentioned in the original post. &lt;/p&gt;

&lt;p&gt;Additionally it would be interesting to know why you would not change the behavior. My proposed patch will not change the way existing content is addressed, so the resolution between POST and GET scenarios will stay consistent, the only difference is that resources will be addressed directly through their URI, not indirectly through a generic RPC-like endpoint and the specification of the resource that will be manipulated in the request entity.&lt;/p&gt;</comment>
                            <comment id="12617779" author="tripod" created="Tue, 29 Jul 2008 12:46:38 +0000"  >&lt;p&gt;because the &apos;addressed resource&apos;  would be different if the resource exists or not. &lt;br/&gt;
it just confusing the when posting to a non existent resource, the path resolution works differently, for example:&lt;br/&gt;
if i post to /some/sample.html for updating some stuff, i don&apos;t care if the resource exists beforehand or not. i just want to update the /some/sample resource.&lt;/p&gt;

&lt;p&gt;i&apos;d rather change the default behavior completely that for POST requests, always the resource is addressed.&lt;/p&gt;
</comment>
                            <comment id="12617782" author="lars3loff" created="Tue, 29 Jul 2008 13:06:24 +0000"  >&lt;p&gt;I think you are wrong here. In order to get content from the JCR node /some/sample.html I will send a GET request to /some/sample.html or /some/sample.html.html (or any other combination of selectors and extensions). Sling is right to detect extensions and selectors after &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/warning.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; having found the content.&lt;/p&gt;

&lt;p&gt;Dealing with POST requests ignores extensions and selectors completely (I cannot have a POST.html.esp, for instance) so I expect that posting to an URL will not consider extensions and selectors. This works fine for existing resources (I POST to /some/sample.html or /some/sample.html.foobar and it will update the node /some/sample.html) but it breaks the behavior for non-existing resources.&lt;/p&gt;

&lt;p&gt;Sling is trying to be smarter than the user here by expecting that no reasonable person could ever want to create a node with a dot in its name.&lt;/p&gt;</comment>
                            <comment id="12617783" author="fmeschbe" created="Tue, 29 Jul 2008 13:16:28 +0000"  >&lt;p&gt;&amp;gt; Dealing with POST requests ignores extensions and selectors completely (I cannot have a POST.html.esp, for instance)&lt;/p&gt;

&lt;p&gt;Partly wrong: Sling &lt;em&gt;always&lt;/em&gt; deals with selectors and extension. Point is that selectors and extensions are only considered for HEAD/GET requests and otherwise ignored.&lt;/p&gt;

&lt;p&gt;&amp;gt; Sling is trying to be smarter than the user here by expecting that no reasonable person could ever want to create a node with a dot in its name.&lt;/p&gt;

&lt;p&gt;Yes and no. Depends on how you look at it. Actually, we assume in the SlingPostServlet that you want to create content without a dot. This is what we most of the times in a CMS or such.&lt;/p&gt;

&lt;p&gt;Now, of course YMMV and you might want to create content with a dot, this is ok and perfectly valid in some cases.&lt;/p&gt;

&lt;p&gt;The problem is of course the term &quot;some cases&quot;: If there would be no means to inform Sling of whether to use the &quot;some cases&quot; case or the general case, Sling could just assume something, which may be wrong in &quot;some cases&quot;. Hence the SlingPostServlet has support for supplying the real name or a name hint.&lt;/p&gt;

&lt;p&gt;Lars, you would use this mechanism to supply the actual name to use. This is intended and correct. The problem is, that an NPE is thrown in case you like to create such a node below the root node.&lt;/p&gt;

&lt;p&gt;So, finally, I suggest to rather fix the NPE and keep the rest as it is (backwards compatibility comes as another argument, btw).&lt;/p&gt;</comment>
                            <comment id="12617787" author="lars3loff" created="Tue, 29 Jul 2008 13:42:12 +0000"  >&lt;p&gt;If you could decide for a way of fixing the NPE, I would be glad to have a working workaround. (and close this bug) However I still think it is quite easy to find out which case the servlet is dealing with. As the user is free to specify the action of the form, he can post to /some/sample if he wants no dot and /some/sample.html if he wants a dot. &lt;/p&gt;

&lt;p&gt;Speaking more broadly we are increasingly introducing &quot;tricks&quot;, special cases and magic post parameters to deal with a very specific use case &quot;most of the times in a CMS or such&quot; while ignoring the needs of other use cases like DAM, Blog, Wiki, social networking, forum, online shop, podcast, file sharing and other content-centric web applications. Having a RESTful web application framework implies in my opinion to respect concepts like Resource, Representation, URI and to avoid RPC-like interaction if not necessary. &lt;/p&gt;</comment>
                            <comment id="12643205" author="fmeschbe" created="Tue, 28 Oct 2008 13:56:16 +0000"  >&lt;p&gt;This issue has been open long enough and the follow up discussion resolved to Lars&apos; proposed fix to be accepted, so it is probably about time to apply this patch.&lt;/p&gt;</comment>
                            <comment id="12643776" author="fmeschbe" created="Thu, 30 Oct 2008 08:03:04 +0000"  >&lt;p&gt;Applied the fix in Rev. 709109&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12387050" name="SLING-588.patch" size="1109" author="lars3loff" created="Mon, 28 Jul 2008 20:31:25 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175556</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 2 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rkz3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>159042</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-584] extensions dojo demo1.html doesn&apos;t work in tomcat deployment </title>
                <link>https://issues.apache.org/jira/browse/SLING-584</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;the dojo jcr browser doesn&apos;t work when deployed into a sling instance which is running w/in tomcat (deployed as a war)&lt;/p&gt;


&lt;p&gt;below is the error from &lt;a href=&quot;http://localhost:8080/sling/dojox/data/demo/demo1.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/sling/dojox/data/demo/demo1.html&lt;/a&gt;&lt;br/&gt;
Interestingly, the same build and bundles run in a jetty:run from w/in launchpad/webapp work fine. &lt;/p&gt;

&lt;p&gt;  status : 404&lt;br/&gt;
  responseText : &amp;lt;html&amp;gt;&amp;lt;head&amp;gt;&amp;lt;title&amp;gt;Apache Tomcat/6.0.16 - Error report&amp;lt;/title&amp;gt;&amp;lt;style&amp;gt;&amp;lt;!--H1 &lt;/p&gt;
{font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;font-size:22px;}
&lt;p&gt; H2 &lt;/p&gt;
{font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;font-size:16px;}
&lt;p&gt; H3 &lt;/p&gt;
{font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;font-size:14px;}
&lt;p&gt; BODY &lt;/p&gt;
{font-family:Tahoma,Arial,sans-serif;color:black;background-color:white;}
&lt;p&gt; B &lt;/p&gt;
{font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;}
&lt;p&gt; P &lt;/p&gt;
{font-family:Tahoma,Arial,sans-serif;background:white;color:black;font-size:12px;}
&lt;p&gt;A &lt;/p&gt;
{color : black;}
&lt;p&gt;A.name &lt;/p&gt;
{color : black;}
&lt;p&gt;HR &lt;/p&gt;
{color : #525D76;}
&lt;p&gt;--&amp;gt;&amp;lt;/style&amp;gt; &amp;lt;/head&amp;gt;&amp;lt;body&amp;gt;&amp;lt;h1&amp;gt;HTTP Status 404 - /.1.json&amp;lt;/h1&amp;gt;&amp;lt;HR size=&quot;1&quot; noshade=&quot;noshade&quot;&amp;gt;&amp;lt;p&amp;gt;&amp;lt;b&amp;gt;type&amp;lt;/b&amp;gt; Status report&amp;lt;/p&amp;gt;&amp;lt;p&amp;gt;&amp;lt;b&amp;gt;message&amp;lt;/b&amp;gt; &amp;lt;u&amp;gt;/.1.json&amp;lt;/u&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;p&amp;gt;&amp;lt;b&amp;gt;description&amp;lt;/b&amp;gt; &amp;lt;u&amp;gt;The requested resource (/.1.json) is not available.&amp;lt;/u&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;HR size=&quot;1&quot; noshade=&quot;noshade&quot;&amp;gt;&amp;lt;h3&amp;gt;Apache Tomcat/6.0.16&amp;lt;/h3&amp;gt;&amp;lt;/body&amp;gt;&amp;lt;/html&amp;gt;&lt;br/&gt;
  message : Unable to load /.1.json status:404&lt;br/&gt;
  fileName : &lt;a href=&quot;http://localhost:8080/sling/dojo/_base/_loader/bootstrap.js&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/sling/dojo/_base/_loader/bootstrap.js&lt;/a&gt;&lt;br/&gt;
  lineNumber : 971&lt;br/&gt;
  stack : Error(&quot;Unable to load /.1.json status:404&quot;)@:0&lt;br/&gt;
(&lt;span class=&quot;error&quot;&gt;&amp;#91;object Object&amp;#93;&lt;/span&gt;)@&lt;a href=&quot;http://localhost:8080/sling/dojo/_base/_loader/bootstrap.js:971&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/sling/dojo/_base/_loader/bootstrap.js:971&lt;/a&gt;&lt;br/&gt;
(576)@&lt;a href=&quot;http://localhost:8080/sling/dojo/_base/_loader/bootstrap.js:888&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/sling/dojo/_base/_loader/bootstrap.js:888&lt;/a&gt;&lt;br/&gt;
@:0&lt;/p&gt;

&lt;p&gt;  name : Error&lt;/p&gt;

</description>
                <environment>linux, jdk 1.6, tomcat apache-6.0.16</environment>
        <key id="12401094">SLING-584</key>
            <summary>extensions dojo demo1.html doesn&apos;t work in tomcat deployment </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="digerat">John Langley</reporter>
                        <labels>
                    </labels>
                <created>Sat, 26 Jul 2008 20:22:36 +0000</created>
                <updated>Sun, 11 Nov 2018 09:50:26 +0000</updated>
                            <resolved>Sun, 11 Nov 2018 09:50:26 +0000</resolved>
                                                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36109</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 15 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0327z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>15793</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-582] scripting/jst JsCodeGeneratorTest broken under Cygwin on Windows</title>
                <link>https://issues.apache.org/jira/browse/SLING-582</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;This is probably not that important to too many people, but for me it is.  I use cygwin on Windows for development and CRLF issues are always a problem here.  So this is a fix to the JsCodeGeneratorTest that allows it to work on Cygwin.&lt;/p&gt;

&lt;p&gt;Basically, normal Windows uses CRLF for line-endings, but Cygwin uses just CR if installed the way Cygwin recommends.  There&apos;s a subtle problem where the test generates code that has CRLF in it, but since the test&apos;s expected input doesn&apos;t use CRLF, the test fails.  There is already a helper that is supposed to turn line-endings into &apos;.&apos;, but, unfortunately it&apos;s broken as well.  Currently it simply turns &apos;\n&apos; into &apos;.&apos;, but in the case of Windows this ends up leaving the line-feeds in, which doesn&apos;t cause any problems, but the intention of the code isn&apos;t met.  So, not only is this a better implementation that fixes a subtle issue, but it also makes it work on Cygwin.&lt;/p&gt;

&lt;p&gt;Patch will be attached in my next post.&lt;/p&gt;</description>
                <environment>Maven version: 2.0.9&lt;br/&gt;
Java version: 1.6.0_03&lt;br/&gt;
OS name: &amp;quot;windows vista&amp;quot; version: &amp;quot;6.0&amp;quot; arch: &amp;quot;x86&amp;quot; Family: &amp;quot;windows&amp;quot;&lt;br/&gt;
</environment>
        <key id="12400951">SLING-582</key>
            <summary>scripting/jst JsCodeGeneratorTest broken under Cygwin on Windows</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="craigching">Craig L. Ching</reporter>
                        <labels>
                    </labels>
                <created>Thu, 24 Jul 2008 21:00:02 +0000</created>
                <updated>Wed, 30 Jul 2008 15:28:42 +0000</updated>
                            <resolved>Wed, 30 Jul 2008 14:17:51 +0000</resolved>
                                                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12616655" author="craigching" created="Thu, 24 Jul 2008 21:01:14 +0000"  >&lt;p&gt;Patch that fixes the problem.&lt;/p&gt;</comment>
                            <comment id="12618353" author="bdelacretaz" created="Wed, 30 Jul 2008 14:17:51 +0000"  >&lt;p&gt;Patch applied in revision 681061, please cross-check and close this issue if ok.&lt;/p&gt;

&lt;p&gt;Thanks very much for your contribution!&lt;/p&gt;</comment>
                            <comment id="12618385" author="craigching" created="Wed, 30 Jul 2008 15:28:42 +0000"  >&lt;p&gt;Thank you very much, I&apos;ve built on Cygwin and this is fixed.  The issue appears closed to me, so not taking any further action.  Thanks again!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12386827" name="SLING-582.patch" size="1069" author="craigching" created="Thu, 24 Jul 2008 21:01:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175551</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 15 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ecjj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291961</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-581] ObjectContentManagerFactoryImpl missing an SCR service interface</title>
                <link>https://issues.apache.org/jira/browse/SLING-581</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The samples/simple-demo was broken because:&lt;/p&gt;

&lt;p&gt;    final SamplePage samplePage = resource.adaptTo(SamplePage.class);&lt;/p&gt;

&lt;p&gt;in samples/simple-demo/src/main/resources/SLING-INF/content/apps/sling/SamplePage/html.jsp returns null.  This appeared to fail because the org.apache.sling.jcr.ocm.impl.ObjectContentManagerFactoryImpl was not in the active state.  I&apos;ll attach a patch that seems to fix this, the solution was proposed by Rory Douglas on the mailing list&lt;/p&gt;</description>
                <environment>$ mvn --version&lt;br/&gt;
Maven version: 2.0.9&lt;br/&gt;
Java version: 1.6.0_03&lt;br/&gt;
OS name: &amp;quot;windows vista&amp;quot; version: &amp;quot;6.0&amp;quot; arch: &amp;quot;x86&amp;quot; Family: &amp;quot;windows&amp;quot;</environment>
        <key id="12400921">SLING-581</key>
            <summary>ObjectContentManagerFactoryImpl missing an SCR service interface</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="craigching">Craig L. Ching</reporter>
                        <labels>
                    </labels>
                <created>Thu, 24 Jul 2008 15:52:01 +0000</created>
                <updated>Sat, 26 Jul 2008 16:15:04 +0000</updated>
                            <resolved>Sat, 26 Jul 2008 16:15:04 +0000</resolved>
                                    <version>JCR OCM 2.0.2</version>
                                    <fixVersion>JCR OCM 2.0.4</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12616509" author="craigching" created="Thu, 24 Jul 2008 15:53:31 +0000"  >&lt;p&gt;This patch appears to fix the problem where the ObjectContentManagerFactoryImpl wasn&apos;t in an active state at startup.&lt;/p&gt;</comment>
                            <comment id="12616839" author="fmeschbe" created="Fri, 25 Jul 2008 10:33:37 +0000"  >&lt;p&gt;As explained in &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; can we please revert this &quot;fix&quot; and close this bug as works-for-me.&lt;/p&gt;

&lt;p&gt;As an explanation for closing this bug as such said message should be enough. In short: just compiling and deploying the current trunk state fixes the issue, because trunk already contains the actual fix (see &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-546&quot; title=&quot;ObjectContentMnagerFactoryImpl does not register adapter factories for mapped objects&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-546&quot;&gt;&lt;del&gt;SLING-546&lt;/del&gt;&lt;/a&gt;) but not the released bundle.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://markmail.org/message/rqfmb7lkbedvhipc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://markmail.org/message/rqfmb7lkbedvhipc&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12617192" author="cziegeler" created="Sat, 26 Jul 2008 16:15:04 +0000"  >&lt;p&gt;Reverted&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12386799" name="SLING-581.patch" size="803" author="craigching" created="Thu, 24 Jul 2008 15:53:31 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175550</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 15 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ecjr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291962</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-571] JspServletWrapper swallows jsp exceptions if root cause is null</title>
                <link>https://issues.apache.org/jira/browse/SLING-571</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;For example for a JSP compile error the &apos;realException&apos; is null and the following stack-frame resolution fails:&lt;/p&gt;

&lt;p&gt;(JspServletWrapper.java, line 492ff)&lt;/p&gt;

&lt;p&gt;            // First identify the stack frame in the trace that represents the JSP&lt;br/&gt;
            StackTraceElement[] frames = realException.getStackTrace();&lt;br/&gt;
            StackTraceElement jspFrame = null;&lt;/p&gt;

&lt;p&gt;            for (int i=0; i&amp;lt;frames.length; ++i) {&lt;br/&gt;
                if ( frames&lt;span class=&quot;error&quot;&gt;&amp;#91;i&amp;#93;&lt;/span&gt;.getClassName().equals(this.getServlet().getClass().getName()) ) &lt;/p&gt;
{
                    jspFrame = frames[i];
                    break;
                }
&lt;p&gt;            }&lt;/p&gt;

&lt;p&gt;Suggest to check for (realException == null)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12400283">SLING-571</key>
            <summary>JspServletWrapper swallows jsp exceptions if root cause is null</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="tripod">Tobias Bocanegra</reporter>
                        <labels>
                    </labels>
                <created>Tue, 15 Jul 2008 10:40:05 +0000</created>
                <updated>Sun, 13 Sep 2009 13:46:11 +0000</updated>
                            <resolved>Sun, 22 Feb 2009 17:37:57 +0000</resolved>
                                    <version>Scripting JSP 2.0.2</version>
                                    <fixVersion>Scripting JSP 2.0.6</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12622187" author="alexander.klimetschek" created="Wed, 13 Aug 2008 12:12:45 +0000"  >&lt;p&gt;Experienced the same issue when a jsp had compilation errors that got completely swallowed. The NPE above was only 1 of 3 issues that were roadblocks:&lt;/p&gt;

&lt;p&gt;2) There is also a NPE in the ErrorDispatcher.createJavacError() method, where the passed &quot;page&quot; parameter can be null (ie. if there was a script compile error and the parsed script tree = page is null).&lt;/p&gt;

&lt;p&gt;3) And finally the javax.script.ScriptException (eg. here &lt;a href=&quot;http://svn.apache.org/viewvc/jakarta/bsf/trunk/bsf3/bsf-api/src/main/java/javax/script/ScriptException.java?view=markup&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc/jakarta/bsf/trunk/bsf3/bsf-api/src/main/java/javax/script/ScriptException.java?view=markup&lt;/a&gt;) swallows the message of the causing exception when using the constructor with just the causing exception (in JspScriptEngineFactory.JspScriptEnginge.eval()).&lt;/p&gt;</comment>
                            <comment id="12622188" author="alexander.klimetschek" created="Wed, 13 Aug 2008 12:14:00 +0000"  >&lt;p&gt;Uploaded patch that fixes both NPEs and the ScriptException issue.&lt;/p&gt;</comment>
                            <comment id="12622196" author="cziegeler" created="Wed, 13 Aug 2008 12:33:07 +0000"  >&lt;p&gt;Thanks for the patch - it&apos;s applied.&lt;br/&gt;
Please close the bug if it fixes the problems.&lt;/p&gt;</comment>
                            <comment id="12622254" author="alexander.klimetschek" created="Wed, 13 Aug 2008 15:40:51 +0000"  >&lt;p&gt;A second patch that tries to provide a full exception chain by unpacking ServletException and fetching the rootCause.&lt;/p&gt;

&lt;p&gt;Background: ServletExceptions do not use the normal &quot;cause&quot; of exceptions (which is used for exception chaining, ie. when printing the full stacktrace), but introduce their own &quot;rootCause&quot; member. So once an exception chain comes to a ServletException, it effectively stops.&lt;/p&gt;</comment>
                            <comment id="12622259" author="cziegeler" created="Wed, 13 Aug 2008 15:50:19 +0000"  >&lt;p&gt;Ok, thanks Alex for your second patch.&lt;/p&gt;

&lt;p&gt;Please close the bug if everything is fine now.&lt;/p&gt;</comment>
                            <comment id="12622301" author="alexander.klimetschek" created="Wed, 13 Aug 2008 18:10:11 +0000"  >&lt;p&gt;And yet another improvement to the previous patches:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;use TagUtil.getRootCause() for ServletException unwrapping&lt;/li&gt;
	&lt;li&gt;use rootCause.toString() instead of getMessage(), which is helpful for java built-in throwables like NoClassDefFoundError that only have the class name as message - but you need the exception class name as well to know &lt;b&gt;what&lt;/b&gt; is wrong with that class (&quot;com/foo/MyClass&quot; vs. &quot;NoClassDefFoundError: com/foo/MyClass&quot; in the final stacktrace)&lt;/li&gt;
	&lt;li&gt;also keep the servletexceptions message in case it is unwrapped (in JspServletWrapper.handleJspException())&lt;/li&gt;
	&lt;li&gt;unwrap nested ScriptEvaluationExceptions (eg. whith nested jsp includes)&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12622563" author="alexander.klimetschek" created="Thu, 14 Aug 2008 14:26:23 +0000"  >&lt;p&gt;Updated the third patch to add:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;remove &quot;Stacktrace:&quot; at the end of JSP compile error messages&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12622824" author="cziegeler" created="Fri, 15 Aug 2008 07:39:45 +0000"  >&lt;p&gt;Reopen this bug so we don&apos;t forget it &lt;/p&gt;</comment>
                            <comment id="12667218" author="fmeschbe" created="Mon, 26 Jan 2009 11:10:45 +0000"  >&lt;p&gt;I do not understand, why the patch removes &quot;Stacktrace:&quot; strings. Can you please enlighten me ? Thanks.&lt;/p&gt;</comment>
                            <comment id="12674800" author="cziegeler" created="Wed, 18 Feb 2009 21:56:24 +0000"  >&lt;p&gt;Hi Alex, the patch is not up to date anymore, so can you please come up with a new patch?&lt;/p&gt;</comment>
                            <comment id="12674822" author="alexander.klimetschek" created="Wed, 18 Feb 2009 23:13:54 +0000"  >&lt;p&gt;@Felix: I think I removed the &quot;Stacktrace:&quot; strings because they looked &quot;ugly&quot; in the output and it was somewhat obvious that these are stacktraces or the word stacktrace was duplicated in the end. Unfortunately I don&apos;t have the original testing situation anymore - I think it was something nasty like a jsp compile exception in the 404 error handler.&lt;/p&gt;

&lt;p&gt;@Carsten: I will take a look at it. Basically it should be the 4 points mentioned in my comment for the third patch, probably without the removal of the &quot;Stacktrace:&quot; strings if you favor them.&lt;/p&gt;</comment>
                            <comment id="12674971" author="alexander.klimetschek" created="Thu, 19 Feb 2009 11:25:00 +0000"  >&lt;p&gt;Fourth patch based on current trunk, simply recreated from my local modifcations, ie. same as the third patch (incl. stackrace: changes).&lt;/p&gt;</comment>
                            <comment id="12675678" author="cziegeler" created="Sun, 22 Feb 2009 17:37:57 +0000"  >&lt;p&gt;I&apos;ve applied your patch in revision 746782. Thanks Alexander.&lt;br/&gt;
If any other problems arise we should open a new bug.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12400508" name="SLING-571-fourth.patch" size="6573" author="alexander.klimetschek" created="Thu, 19 Feb 2009 11:25:00 +0000"/>
                            <attachment id="12388157" name="SLING-571-reloaded.patch" size="5818" author="alexander.klimetschek" created="Wed, 13 Aug 2008 15:40:51 +0000"/>
                            <attachment id="12388243" name="SLING-571-third.patch" size="6606" author="alexander.klimetschek" created="Thu, 14 Aug 2008 14:26:23 +0000"/>
                            <attachment id="12388134" name="SLING-571.patch" size="4702" author="alexander.klimetschek" created="Wed, 13 Aug 2008 12:13:59 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175545</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 37 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rkin:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>158968</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-567] sling.include inclides fragments in the wrong order</title>
                <link>https://issues.apache.org/jira/browse/SLING-567</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;(This is observed in revision 670551)&lt;/p&gt;

&lt;p&gt;consider a jsp &quot;/apps/myapp/a.jsp&quot; which contains:&lt;/p&gt;

&lt;p&gt;aaa&lt;br/&gt;
&amp;lt;% sling.include(currentNode.getPath() + &quot;.b.html&quot;); %&amp;gt;&lt;/p&gt;

&lt;p&gt;and another jsp &quot;/apps/myapp/b.jsp&quot; which contains&lt;/p&gt;

&lt;p&gt;bbb&lt;/p&gt;


&lt;p&gt;if i execute /content/myapp/mynode.a.html i get&lt;/p&gt;

&lt;p&gt;bbb&lt;br/&gt;
aaa&lt;/p&gt;

&lt;p&gt;expected result is:&lt;/p&gt;

&lt;p&gt;aaa&lt;br/&gt;
bbb&lt;/p&gt;</description>
                <environment></environment>
        <key id="12399716">SLING-567</key>
            <summary>sling.include inclides fragments in the wrong order</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mmarth">Michael Marth</reporter>
                        <labels>
                    </labels>
                <created>Mon, 7 Jul 2008 12:07:21 +0000</created>
                <updated>Tue, 6 Apr 2010 09:46:04 +0000</updated>
                            <resolved>Tue, 6 Apr 2010 09:46:04 +0000</resolved>
                                    <version>Scripting JSP 2.0.2</version>
                                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12611136" author="tripod" created="Mon, 7 Jul 2008 12:32:38 +0000"  >&lt;p&gt;btw: i use the sling:include tag and this work without problems, eg:&lt;/p&gt;

&lt;p&gt;&amp;lt;sling:inlcude path=&quot;b.html&quot; /&amp;gt;&lt;/p&gt;

&lt;p&gt;if this still does not work, try flushing explicitly:&lt;/p&gt;

&lt;p&gt;&amp;lt;sling:inlcude path=&quot;b.html&quot; flush=&quot;true&quot; /&amp;gt;&lt;/p&gt;
</comment>
                            <comment id="12611163" author="mmarth" created="Mon, 7 Jul 2008 13:41:27 +0000"  >&lt;p&gt;Tobi&apos;s suggested workaround with &amp;lt;sling:include ...&amp;gt; works OK.&lt;/p&gt;

&lt;p&gt;Tobi also suggested:&lt;/p&gt;

&lt;p&gt;&amp;lt;%&lt;br/&gt;
out.flush();&lt;br/&gt;
sling.include(currentNode.getPath() + &quot;.b.html&quot;);&lt;br/&gt;
%&amp;gt; &lt;/p&gt;

&lt;p&gt;that helps as well&lt;/p&gt;</comment>
                            <comment id="12611178" author="bdelacretaz" created="Mon, 7 Jul 2008 14:27:25 +0000"  >&lt;p&gt;Thanks for the additional info, so if there&apos;s a workaround this doesn&apos;t look too urgent, that&apos;s good.&lt;/p&gt;</comment>
                            <comment id="12616409" author="fmeschbe" created="Thu, 24 Jul 2008 09:12:13 +0000"  >&lt;p&gt;IMHO the reported behaviour is not a bug but expected behaviour related to writer buffering during JSP processing.&lt;/p&gt;

&lt;p&gt;A JSP has an out variable which is a buffering JspWriter backed by the request writer. In your reported case, the first JSP writes to the JspWriter which buffers the data but does not flush it to the underlying request writer. The the imported script is called which writes data to its own JspWriter backed by the request writer. When the script ends, the JspWriter is flushed into the request writer. Only when the first script ends, is its JspWriter flushed into the the PrintWriter....&lt;/p&gt;

&lt;p&gt;The &quot;workaround&quot; is not really a workaround but the way how it goes. This is why the flush attribute is present.&lt;/p&gt;

&lt;p&gt;The jsp:include tag works exactly the same.&lt;/p&gt;

&lt;p&gt;So I think, we should rather close this issue as wors as expetced.&lt;/p&gt;</comment>
                            <comment id="12618354" author="bdelacretaz" created="Wed, 30 Jul 2008 14:20:24 +0000"  >&lt;p&gt;Wouldn&apos;t it be less surprising to the user to flush by default?&lt;/p&gt;

&lt;p&gt;I see your reasoning, but from the user&apos;s point of view the default behavior is definitely not what you want.&lt;/p&gt;</comment>
                            <comment id="12618365" author="fmeschbe" created="Wed, 30 Jul 2008 14:42:53 +0000"  >&lt;p&gt;I assume the &quot;user&apos;s point of view&quot; is the &quot;jsp programmer&apos;s point of view&quot;.&lt;/p&gt;

&lt;p&gt;So the question is: How is the default defined in JSP for jsp:include ? The spec (2.1) says: &quot;flush: Optional boolean attribute. If the value is true, the buffer is flushed now. The default value is false.&quot;&lt;/p&gt;

&lt;p&gt;So I would say, we stay close to the JSP standard and do not introduce a different default value.&lt;/p&gt;</comment>
                            <comment id="12618380" author="mmarth" created="Wed, 30 Jul 2008 15:07:46 +0000"  >&lt;p&gt;Felix, re your last two comments: the reported behavior/bug is regarding &amp;lt;% sling.include(...) %&amp;gt; not &amp;lt;sling:include ...&amp;gt;&lt;br/&gt;
(so the comparison to &amp;lt;jsp:include...&amp;gt; is invalid IMO)&lt;/p&gt;</comment>
                            <comment id="12618386" author="fmeschbe" created="Wed, 30 Jul 2008 15:29:51 +0000"  >&lt;p&gt;Hmpf, sorry, I was completely mislead. You are right. So back to field 1 &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;As SlingScriptHelperinclude() is based on RequestDispatcher.include() this behaviour is still expected. So the &quot;workarounds&quot; presented by Tobias are probably the way to go.&lt;/p&gt;

&lt;p&gt;Have you tried to use:&lt;/p&gt;

&lt;p&gt;   RequestDispatcher rd = request.getRequestDispatcher(....);&lt;br/&gt;
   rd.include(request, response);&lt;/p&gt;

&lt;p&gt;instead of SlingScriptHelper.include() ?&lt;/p&gt;</comment>
                            <comment id="12623294" author="mmarth" created="Mon, 18 Aug 2008 09:30:52 +0000"  >&lt;p&gt;Request Dispatcher has the same behaviour. This jsp &quot;a.jsp&quot;:&lt;/p&gt;

&lt;p&gt;aaa&lt;br/&gt;
1&amp;lt;% sling.include(currentNode.getPath() + &quot;.b.html&quot;); %&amp;gt; &lt;/p&gt;

&lt;p&gt;2&amp;lt;%&lt;br/&gt;
   javax.servlet.RequestDispatcher rd = request.getRequestDispatcher(&quot;/content/myapp/mynode.b.html&quot;);&lt;br/&gt;
   rd.include(request, response); &lt;br/&gt;
%&amp;gt;&lt;/p&gt;

&lt;p&gt;returns: bbb bbb aaa 1 2&lt;br/&gt;
expected: aaa 1bbb 2bbb&lt;/p&gt;

&lt;p&gt;(I tested this in CRX Quickstart, maybe the servlet engine matters)&lt;/p&gt;</comment>
                            <comment id="12623583" author="fmeschbe" created="Tue, 19 Aug 2008 07:14:23 +0000"  >&lt;p&gt;actually, what is returned is perfectly acceptable: The a.jsp uses a JspWriter around the response writer as its output channel. This JspWriter is caching. If you include a request, the included request uses another JspWriter around the response writer. When the include finishes the JspWriter of the included script is flushed to the response (hence the output &quot;bbb bbb&quot;).&lt;/p&gt;

&lt;p&gt;Only when the a.jsp also ends is the the JspWriter flushed (unless the buffer overrunns before, of course) is the cached output flushed to the response, hence the output &quot;aaa 1 2&quot;.&lt;/p&gt;

&lt;p&gt;To have the expected output, explicitly flush the JspWriter - either by setting flush attribute in the include tag or by calling out.flush() before inclusion.&lt;/p&gt;</comment>
                            <comment id="12853825" author="cziegeler" created="Tue, 6 Apr 2010 09:46:04 +0000"  >&lt;p&gt;As discussed this is the expected behaviour, therefore I&apos;m closing this issue now&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175541</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 31 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10iw7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>211195</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-561] Concurrent check for jobs is not working</title>
                <link>https://issues.apache.org/jira/browse/SLING-561</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The QuartzJobExecutor uses a boolean to detect if a scheduled job is running concurrently. Unfortunately on each invocation a new data map is passed into the executor and therefore the check does not work&lt;/p&gt;</description>
                <environment></environment>
        <key id="12399439">SLING-561</key>
            <summary>Concurrent check for jobs is not working</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Wed, 2 Jul 2008 12:12:18 +0000</created>
                <updated>Sun, 13 Sep 2009 13:04:15 +0000</updated>
                            <resolved>Wed, 2 Jul 2008 12:35:29 +0000</resolved>
                                    <version>Commons Scheduler 2.0.2</version>
                                    <fixVersion>Commons Scheduler 2.0.4</fixVersion>
                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12609897" author="cziegeler" created="Wed, 2 Jul 2008 12:25:01 +0000"  >&lt;p&gt;Correct component/version&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175536</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 19 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rk5r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>158910</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-559] Request parameter re-encoding does not work</title>
                <link>https://issues.apache.org/jira/browse/SLING-559</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Issue &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-508&quot; title=&quot;Parameter decoding uses wrong default charset&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-508&quot;&gt;&lt;del&gt;SLING-508&lt;/del&gt;&lt;/a&gt; introduced a smart way to re-encode request parameters, if they are sent in a different encoding that the default.&lt;br/&gt;
imo there is a bug that causes this functionality to fail:&lt;/p&gt;

&lt;p&gt;in ParameterSupport.getContainerParameters(....) new ContainerRequestParameter are generated with the respective encoding. but the&lt;br/&gt;
constructor does never call setEncoding() and the re-encode is never performed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12399031">SLING-559</key>
            <summary>Request parameter re-encoding does not work</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="tripod">Tobias Bocanegra</reporter>
                        <labels>
                    </labels>
                <created>Wed, 25 Jun 2008 20:29:27 +0000</created>
                <updated>Thu, 3 Jul 2008 19:33:21 +0000</updated>
                            <resolved>Thu, 26 Jun 2008 14:11:46 +0000</resolved>
                                    <version>Engine 2.0.2</version>
                                    <fixVersion>Engine 2.0.4</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12608363" author="fmeschbe" created="Thu, 26 Jun 2008 09:47:33 +0000"  >&lt;p&gt;Re-encoding is in fact not performed (my bad) because the Util.fixEncoding method checks for the existence of a parameter&apos;s encoding before trying to set the encoding. In reality the encoding should be checked for existence &lt;em&gt;and&lt;/em&gt; for being the same as the actual encoding to be used. Only if the encoding is already set to the correct encoding, does the parameter not need to be re-encoded.&lt;/p&gt;</comment>
                            <comment id="12608440" author="fmeschbe" created="Thu, 26 Jun 2008 14:05:12 +0000"  >&lt;p&gt;Further inspection yielded yet another issue: The SlingMainServlet.handleSecurity method implements API of the OSGi HttpContext. This method is called by the OSGi HttpService &lt;em&gt;before&lt;/em&gt; calling into the actual servlet registered for that HttpContext. This allows for security checks before hitting the servlet.&lt;/p&gt;

&lt;p&gt;If now during handleSecurity handling a request parameter is retrieved, the ParameterSupport handling of setting the request character encoding has no effect. In addtion, what makes the situation even worse, is that Jetty uses a separate character encoding do decode the query parameters. This character encoding may be set by using a Jetty specific method on the ServletRequest or &amp;#8211; fortunately &amp;#8211; by setting a request attribute.&lt;/p&gt;

&lt;p&gt;To come around these two problems, the following solution will be implemented:&lt;/p&gt;

&lt;p&gt;(1) The SlingMainServlet.handleSecurity method passes a request wrapper, which makes use of the ParameterSupport class.&lt;br/&gt;
(2) The ParameterSupport instance is available by calling the ParameterSupport.getInstance(ServletRequest) method. This method is the only way to get at a ParameterSupport instance for a given request. This enables sharing a single ParameterSupport instance accross the request.&lt;br/&gt;
(3) When getting the ParameterSupport instance the Jetty specific request attribute &amp;#8211; org.mortbay.jetty.Request.queryEncoding &amp;#8211; is set to ISO-8859-1 to try to enforce identity decoding of the request query.&lt;/p&gt;

&lt;p&gt;These steps combined allow for the following:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;ParameterSupport is the only thing used inside Sling to access parameters&lt;/li&gt;
	&lt;li&gt;ParameterSupport is set as early as possible&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12608442" author="fmeschbe" created="Thu, 26 Jun 2008 14:09:59 +0000"  >&lt;p&gt;Simple test script used to test the fix for this issue. To use this script store it at /apps/sling/nonexisting/GET.esp and access /missing.html on the Sling server.&lt;/p&gt;</comment>
                            <comment id="12608444" author="fmeschbe" created="Thu, 26 Jun 2008 14:11:46 +0000"  >&lt;p&gt;In Rev. 671908 I committed the fix described in my previous comment. I tested this fix with the Sling standalone application which uses an embedded Jetty Servlet Container as well as with Day&apos;s own Servlet Container.&lt;/p&gt;

&lt;p&gt;Please close this issue if it fixes your issue. Thanks.&lt;/p&gt;</comment>
                            <comment id="12610327" author="tripod" created="Thu, 3 Jul 2008 19:33:21 +0000"  >&lt;p&gt;works as a charm. thanks.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12384764" name="SLING-559-GET.esp" size="1016" author="fmeschbe" created="Thu, 26 Jun 2008 14:09:59 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175535</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 18 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rktb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>159016</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-556] Freemarker wrapper not correctly dereferencing multi value properties</title>
                <link>https://issues.apache.org/jira/browse/SLING-556</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When iterating through multi value properties of type Reference the NodeModel was not dereferencing the node reference when the property was being treated as a node list, i.e.:&lt;br/&gt;
    &amp;lt;list node.@multireferenceproperty as reference&amp;gt;...&amp;lt;/list&amp;gt;&lt;br/&gt;
Correctly lists through all the reference properties as properties, but:&lt;br/&gt;
    &amp;lt;list node.multireferenceproperty as reference&amp;gt;...&amp;lt;/list&amp;gt;&lt;br/&gt;
Throws an exception.  This should iterate over the property reference values, find the node and make the node available as reference within the body of the list markup.&lt;/p&gt;

&lt;p&gt;Patch included to fix this, and tests included to test for both cases above.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12398964">SLING-556</key>
            <summary>Freemarker wrapper not correctly dereferencing multi value properties</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="brycenz">Bryce Ewing</reporter>
                        <labels>
                    </labels>
                <created>Wed, 25 Jun 2008 05:55:36 +0000</created>
                <updated>Wed, 25 Jun 2008 09:50:27 +0000</updated>
                            <resolved>Wed, 25 Jun 2008 08:43:36 +0000</resolved>
                                    <version>3</version>
                                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12607864" author="brycenz" created="Wed, 25 Jun 2008 05:56:48 +0000"  >&lt;p&gt;As an aside, I was wondering whether an issue like this should be created new, or whether I should have reopened the last issue?&lt;/p&gt;</comment>
                            <comment id="12607894" author="bdelacretaz" created="Wed, 25 Jun 2008 08:43:36 +0000"  >&lt;p&gt;Patch applied in revision 671465, thanks very much!&lt;/p&gt;

&lt;p&gt;Please cross-check and close this issue if ok.&lt;/p&gt;

&lt;p&gt;Creating a new issue was the right thing to do, personally I prefer small focused issues.&lt;/p&gt;</comment>
                            <comment id="12607916" author="brycenz" created="Wed, 25 Jun 2008 09:50:27 +0000"  >&lt;p&gt;Tested and works correctly.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12384650" name="freemarker.patch" size="5581" author="brycenz" created="Wed, 25 Jun 2008 05:55:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175532</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 20 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1eckf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291965</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-555] mvn install on svn checkout fails if sling-3-incubator is not available</title>
                <link>https://issues.apache.org/jira/browse/SLING-555</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Carsten recently (revision 670566) added the incubating repository to the parent POM in svn. But since many components refer to version 3-incubator (instead of 4-incubator-SNAPSHOT) as the parent POM, this repository reference is not picked up by the build.&lt;/p&gt;

&lt;p&gt;And if the 3-incubator version of the parent POM is not available in the local Maven repository, the build fails as Maven does not know where to download it from (since the components don&apos;t refer to 4-incubator-SNAPSHOT version of the parent POM...).&lt;/p&gt;

&lt;p&gt;Moving the repository reference to the reactor POM also won&apos;t help.&lt;/p&gt;

&lt;p&gt;The options I see are:&lt;/p&gt;

&lt;p&gt;  1) Make components use 4-incubator-SNAPSHOT as the parent POM version&lt;br/&gt;
  2) Make the 3-incubator version of the parent POM explicitly available in svn&lt;br/&gt;
  3) Add the incubator repository reference to all component POMs&lt;br/&gt;
  4) Publish the 3-incubator version of the parent POM to the standard Maven repository&lt;/p&gt;</description>
                <environment></environment>
        <key id="12398841">SLING-555</key>
            <summary>mvn install on svn checkout fails if sling-3-incubator is not available</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="jukkaz">Jukka Zitting</reporter>
                        <labels>
                    </labels>
                <created>Mon, 23 Jun 2008 15:13:16 +0000</created>
                <updated>Mon, 21 Jul 2008 14:24:31 +0000</updated>
                            <resolved>Mon, 21 Jul 2008 14:24:31 +0000</resolved>
                                                                    <component>General</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12607255" author="jukkaz" created="Mon, 23 Jun 2008 15:15:17 +0000"  >&lt;p&gt;As noted by Bertrand on the mailing list, we could also instruct people to add the incubating repository to the Maven configuration in ~/.m2/settings.xml.&lt;/p&gt;</comment>
                            <comment id="12607505" author="fmeschbe" created="Tue, 24 Jun 2008 07:52:16 +0000"  >&lt;p&gt;I added instructions to the &quot;Getting and Building Sling&quot; page &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;. Is this sufficient ?&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://incubator.apache.org/sling/site/getting-and-building-sling.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://incubator.apache.org/sling/site/getting-and-building-sling.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12608330" author="jukkaz" created="Thu, 26 Jun 2008 08:09:41 +0000"  >&lt;p&gt;A &amp;lt;pluginRepository/&amp;gt; entry is also needed, as the build references the Maven plugins we released. I updated the web site. I also updated the README.txt file with the latest build instructions. Resolving as fixed.&lt;/p&gt;</comment>
                            <comment id="12610611" author="bdelacretaz" created="Fri, 4 Jul 2008 16:01:58 +0000"  >&lt;p&gt;Reopening for Alex...&lt;/p&gt;</comment>
                            <comment id="12610612" author="alexander.klimetschek" created="Fri, 4 Jul 2008 16:06:18 +0000"  >&lt;p&gt;I experienced the same problem (in revision 673754) and would prefer that this is fixed in trunk and not by changing settings.xml. If things are deployed to the m2-incubating-repository (as a placeholder for the central repository as long as the project is not mature), that repository has to be fully referenced within the poms.&lt;/p&gt;

&lt;p&gt;The changes I had to make are these:&lt;/p&gt;

&lt;p&gt;1) Add the pluginRepository as noted by Jukka to the parent pom and&lt;/p&gt;

&lt;p&gt;2) reference the newest parent pom (4-incubator-SNAPSHOT) in these projects:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;samples/simple-demo/pom.xml&lt;/li&gt;
	&lt;li&gt;extensions/apt/servlet/pom.xml&lt;/li&gt;
	&lt;li&gt;launchpad/webapp/pom.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12610613" author="alexander.klimetschek" created="Fri, 4 Jul 2008 16:07:06 +0000"  >&lt;p&gt;Added patch that modifies the poms as described in my last comment.&lt;/p&gt;</comment>
                            <comment id="12615254" author="cziegeler" created="Mon, 21 Jul 2008 14:24:31 +0000"  >&lt;p&gt;I&apos;ve changed all poms to refer to the latest parent pom and added the plugin repository.&lt;/p&gt;

&lt;p&gt;Thanks for the patch !&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12385307" name="SLING-555.patch" size="1983" author="alexander.klimetschek" created="Fri, 4 Jul 2008 16:07:05 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175531</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 16 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10w4n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>213339</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-554] Problems when several Sling instances share the repository</title>
                <link>https://issues.apache.org/jira/browse/SLING-554</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If several Sling instances share the same repository, the content loading does not work properly anymore: the content loader uses the repository to remember which bundles have already been processed for content loading. Unfortunately this information is written in a &quot;global&quot; section in the repository, which means that several Sling instances work on the same data set.&lt;br/&gt;
The content loader should use the sling id to make the information unique in the repository.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12398813">SLING-554</key>
            <summary>Problems when several Sling instances share the repository</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Mon, 23 Jun 2008 06:58:18 +0000</created>
                <updated>Sun, 13 Sep 2009 13:22:42 +0000</updated>
                            <resolved>Mon, 23 Jun 2008 07:07:26 +0000</resolved>
                                    <version>JCR Contentloader 2.0.2</version>
                                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12607155" author="cziegeler" created="Mon, 23 Jun 2008 07:07:26 +0000"  >&lt;p&gt;Actually this is the correct behaviour as its about content which is loaded into the shared repository anyway&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175530</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 20 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1eckn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291966</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-551] Sling.removeContent does not work due to wrong operation name</title>
                <link>https://issues.apache.org/jira/browse/SLING-551</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;In sling.js, the Sling.removeContent() method should use &quot;:operation=delete&quot;, it is still using &quot;:delete&quot; which fails.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12398712">SLING-551</key>
            <summary>Sling.removeContent does not work due to wrong operation name</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Fri, 20 Jun 2008 15:35:10 +0000</created>
                <updated>Fri, 20 Jun 2008 15:44:04 +0000</updated>
                            <resolved>Fri, 20 Jun 2008 15:44:04 +0000</resolved>
                                    <version>Servlets Post 2.0.2</version>
                                    <fixVersion>Servlets Post 2.0.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12606803" author="bdelacretaz" created="Fri, 20 Jun 2008 15:44:04 +0000"  >&lt;p&gt;Fixed in revision 669948&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175527</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 20 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rkzj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>159044</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-549] Scala script engine</title>
                <link>https://issues.apache.org/jira/browse/SLING-549</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;As the code at &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; demonstrates, the scala interpreter rebuilds its own classpath from the current JVM classpath and user-supplied additions.&lt;/p&gt;

&lt;p&gt;We should find a way for it to use the current classloader instead.&lt;/p&gt;

&lt;p&gt;Note that the almost same test &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; works when run with &quot;mvn test&quot; without setting the classpath explicitly, probably because in this case the JVM classpath includes the scala jars.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://code.google.com/p/sling-scala/source/browse/trunk/scala-min-bundle/src/main/java/org/apache/sling/scripting/scala/minbundle/ScalaCompileServlet.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://code.google.com/p/sling-scala/source/browse/trunk/scala-min-bundle/src/main/java/org/apache/sling/scripting/scala/minbundle/ScalaCompileServlet.java&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://code.google.com/p/sling-scala/source/browse/trunk/scala-min-bundle/src/test/java/org/apache/sling/scripting/scala/minbundle/ScalaCompilerTest.java?r=38&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://code.google.com/p/sling-scala/source/browse/trunk/scala-min-bundle/src/test/java/org/apache/sling/scripting/scala/minbundle/ScalaCompilerTest.java?r=38&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12398676">SLING-549</key>
            <summary>Scala script engine</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Fri, 20 Jun 2008 09:19:43 +0000</created>
                <updated>Tue, 21 Jul 2009 10:22:48 +0000</updated>
                            <resolved>Mon, 2 Feb 2009 12:25:37 +0000</resolved>
                                                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12606703" author="bdelacretaz" created="Fri, 20 Jun 2008 10:56:18 +0000"  >&lt;p&gt;Asked on scala-user, see &lt;a href=&quot;http://www.nabble.com/How-to-compile-Scala-code-from-java-using-the-current-ClassLoader-instead-of-a-string-based-classpath--tt18026672.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.nabble.com/How-to-compile-Scala-code-from-java-using-the-current-ClassLoader-instead-of-a-string-based-classpath--tt18026672.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12610818" author="bdelacretaz" created="Sun, 6 Jul 2008 15:22:42 +0000"  >&lt;p&gt;In the scala eclipse plugin &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;, the intializePaths() method sets the classpath for the scala compiler. That plugin looks like a good example of using the compiler, but it also uses a list of strings for the classpath (which makes sense in an IDE context).&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://lampsvn.epfl.ch/svn-repos/scala/scala-plugin/trunk/src/scala/tools/eclipse/ScalaPlugin.scala&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://lampsvn.epfl.ch/svn-repos/scala/scala-plugin/trunk/src/scala/tools/eclipse/ScalaPlugin.scala&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12662179" author="mduerig" created="Thu, 8 Jan 2009 23:51:38 +0000"  >&lt;p&gt;This patch implements a Scala scripting engine:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Scala compiler 2.7.2 (most recent stable version)&lt;/li&gt;
	&lt;li&gt;Scripts are compiled into /var/classes by default (configurable)&lt;/li&gt;
	&lt;li&gt;Recompilation of scripts as needed&lt;/li&gt;
	&lt;li&gt;Supports dynamic package import&lt;/li&gt;
	&lt;li&gt;Pre-build binaries are available from the interim project page at &lt;a href=&quot;http://code.google.com/p/sling-scala/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://code.google.com/p/sling-scala/&lt;/a&gt; (revision 129)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Possible improvements/changes&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Add configuration settings for compiler options&lt;/li&gt;
	&lt;li&gt;Make the script wrapper more flexible&lt;/li&gt;
	&lt;li&gt;Instead of rolling an own script wrapper, make Scripts implement the Servlet interface&lt;/li&gt;
&lt;/ul&gt;




</comment>
                            <comment id="12662271" author="fmeschbe" created="Fri, 9 Jan 2009 08:01:10 +0000"  >&lt;p&gt;Thanks for supplying this patch&lt;/p&gt;

&lt;p&gt;I have the following remarks:&lt;/p&gt;

&lt;p&gt;  1 Is there a reason to have two projects instead of one single project ?&lt;br/&gt;
  2 Is there a reason to exclude the imports of Sling packages in the ScriptEngine project ?&lt;br/&gt;
  3 Source files miss the ASL license headers.&lt;br/&gt;
  4 Please explicitly state the versions in the dependency elements for the&lt;br/&gt;
    sling artifacts. Using variables won&apos;t work in the long run. And also refer to&lt;br/&gt;
    released artifacts unless you require functionality from SNAPSHOTs&lt;/p&gt;

&lt;p&gt;I think, we can fix the third and fourth issue when applying the patch.&lt;/p&gt;</comment>
                            <comment id="12662354" author="mduerig" created="Fri, 9 Jan 2009 12:44:16 +0000"  >&lt;p&gt;&amp;gt; 1 Is there a reason to have two projects instead of one single project ? &lt;/p&gt;

&lt;p&gt;Separation of the Scala and the Java parts. Having mixed Scala and Java sources in a single project does not work well with the maven-scala-plugin and with the Scala Eclipse plugin ATM. We might fix this when the tools catch up.&lt;/p&gt;


&lt;p&gt;&amp;gt; 2 Is there a reason to exclude the imports of Sling packages in the ScriptEngine project ? &lt;/p&gt;

&lt;p&gt;You mean !org.apache.tools.ant.&lt;b&gt;,!org.apache.sling.jcr.api.&lt;/b&gt;,!org.apache.sling.scripting.api.* ?&lt;br/&gt;
I could not get the bundle to install without excluding these: &lt;/p&gt;

&lt;p&gt;!! org.apache.sling.jcr.api,version=2.0.3.incubator-SNAPSHOT from &amp;#8211; Cannot be resolved&lt;/p&gt;

&lt;p&gt;and so on.&lt;/p&gt;


&lt;p&gt;3 and 4 are inherited from when I took over the GSoC code base. Should be easy to fix.&lt;/p&gt;</comment>
                            <comment id="12662363" author="fmeschbe" created="Fri, 9 Jan 2009 13:29:27 +0000"  >&lt;p&gt;1. ok then&lt;br/&gt;
2. resolution issue: This might be caused by your environment &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; If you don&apos;t really depend SNAPSHOT API functionality, you might as well declare the released version dependencies (2.0.2-incubator).&lt;/p&gt;</comment>
                            <comment id="12662385" author="mduerig" created="Fri, 9 Jan 2009 14:47:17 +0000"  >&lt;p&gt;Updated patch:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;No more snapshot dependencies&lt;/li&gt;
	&lt;li&gt;No more exclusion of Sling packages&lt;/li&gt;
	&lt;li&gt;Added license information and headers&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12666093" author="bdelacretaz" created="Thu, 22 Jan 2009 08:51:14 +0000"  >&lt;p&gt;Renaming the issue as Michael&apos;s lates patch provides complete Scala scripting engine&lt;/p&gt;</comment>
                            <comment id="12668869" author="mduerig" created="Fri, 30 Jan 2009 13:49:21 +0000"  >&lt;p&gt;Updated patch:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Upgraded to Scala 2.7.3&lt;/li&gt;
	&lt;li&gt;Fixed problem with boot delegation and system packages not found by the Scala compiler&lt;/li&gt;
	&lt;li&gt;Added better string representation of file system abstraction of bundle content&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12669580" author="fmeschbe" created="Mon, 2 Feb 2009 12:25:37 +0000"  >&lt;p&gt;Thanks for supplying (and maintaining) the patch. I have applied it in Rev. 739973 with some modifications:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Removed the META-INF/services/javax.script:ScriptEngineFactory file since the ScriptEngineFactory&lt;br/&gt;
       is registered as an OSGi service&lt;/li&gt;
	&lt;li&gt;Fixed the README.txt, LICENSE, NOTICE and DISCLAIMER files&lt;/li&gt;
	&lt;li&gt;Set the version to 0.9.0-incubator-SNAPSHOT, assuming an initial 1.0.0 version&lt;/li&gt;
	&lt;li&gt;Fixed dependencies&lt;/li&gt;
	&lt;li&gt;Fixed bundle generation to not require compile scope dependencies&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;AFAICT this makes a usable OSGi bundle, but since I don&apos;t know any Scala, I could not really verify.&lt;/p&gt;

&lt;p&gt;Could you please verify that everything works alright and then close this issue ? Thanks.&lt;/p&gt;</comment>
                            <comment id="12669581" author="bdelacretaz" created="Mon, 2 Feb 2009 12:40:36 +0000"  >&lt;p&gt;Thanks Felix for taking care of this.&lt;/p&gt;

&lt;p&gt;&amp;gt; Could you please verify that everything works alright and then close this issue ?&lt;/p&gt;

&lt;p&gt;Michael, while you&apos;re at it, could you add an integration test for this module in the launchpad/testing module?&lt;/p&gt;

&lt;p&gt;A smoke test similar to &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; would be good already, just something that proves that the Scala engine is basically working. This would also require adding the required sling/scala modules to launchpad/testing/pom.xml&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;br/&gt;
launchpad/testing/src/test/resources/integration-test/rendering-test.jsp&lt;br/&gt;
and &lt;br/&gt;
launchpad/testing/src/test/java/org/apache/sling/launchpad/webapp/integrationtest/JspScriptingTest.java&lt;/p&gt;</comment>
                            <comment id="12669723" author="mduerig" created="Mon, 2 Feb 2009 20:01:48 +0000"  >&lt;p&gt;ok everything seems to work fine. The only thing I noticed is that the Scala scripting engine is not buildable from sling\scripting\scala. If I try to do so Maven fails with &lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Project &apos;org.apache.sling:org.apache.sling.scripting.scala&apos; is duplicated in the reactor&lt;/p&gt;

&lt;p&gt;If this is not easy to fix, I suggest to remove the reactor pom from that location. &lt;/p&gt;


&lt;p&gt;I&apos;ll follow up on the integration test later this week.&lt;/p&gt;</comment>
                            <comment id="12669894" author="fmeschbe" created="Tue, 3 Feb 2009 08:20:18 +0000"  >&lt;p&gt;Oops, the reactor used the same artifactId as the ScriptEngine project. I fixed this to be ...reactor now in Rev. 740242. Also in this revision I modified the root reactor POM to refer to the scala reactor instead of the projects directly.&lt;/p&gt;</comment>
                            <comment id="12670902" author="mduerig" created="Thu, 5 Feb 2009 21:03:31 +0000"  >&lt;p&gt;Smoke test as suggested by Bertrand&lt;/p&gt;</comment>
                            <comment id="12670903" author="mduerig" created="Thu, 5 Feb 2009 21:06:14 +0000"  >&lt;p&gt;Same patch as before but with correct ASF license settings for the Attachment&lt;/p&gt;</comment>
                            <comment id="12675944" author="bdelacretaz" created="Mon, 23 Feb 2009 15:18:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-865&quot; title=&quot;Source Tree Restructuring&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-865&quot;&gt;&lt;del&gt;SLING-865&lt;/del&gt;&lt;/a&gt; means integration tests will need to be moved to contrib/launchpad/testing. I&apos;m fine with doing that, just making a note here to remember it.&lt;/p&gt;</comment>
                            <comment id="12700220" author="mduerig" created="Fri, 17 Apr 2009 16:03:09 +0000"  >&lt;p&gt;I created &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-928&quot; title=&quot;Include integration tests for Scala scripting engine&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-928&quot;&gt;&lt;del&gt;SLING-928&lt;/del&gt;&lt;/a&gt; for the missing integration test and added a patch there.&lt;br/&gt;
So I think this issue can be closed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12397520" name="SLING-549-2.patch" size="120514" author="mduerig" created="Fri, 9 Jan 2009 14:47:17 +0000"/>
                            <attachment id="12399128" name="SLING-549-3.patch" size="133840" author="mduerig" created="Fri, 30 Jan 2009 13:49:21 +0000"/>
                            <attachment id="12399590" name="SLING-549-integration-test.patch" size="5183" author="mduerig" created="Thu, 5 Feb 2009 21:06:14 +0000"/>
                            <attachment id="12399589" name="SLING-549-integration-test.patch" size="5183" author="mduerig" created="Thu, 5 Feb 2009 21:03:31 +0000"/>
                            <attachment id="12397464" name="SLING-549.patch" size="86331" author="mduerig" created="Thu, 8 Jan 2009 23:51:38 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175526</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 29 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ecl3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291968</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-547] Included header.html (node of type nt:file) through a script sling.include uses HtmlRendererServlet instead of StreamRendererServlet</title>
                <link>https://issues.apache.org/jira/browse/SLING-547</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;Well at least I think that this is a bug.  The ScriptHelper.include method says that it includes the &quot;output of another request&quot; which I would have thought meant that if I included &quot;/content/include/header.html&quot; this would do the same thing as if I requested &lt;a href=&quot;http://localhost:8080/content/include/header.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/content/include/header.html&lt;/a&gt;.  In this case the header.html file is a snippet of html that has been loaded as a file (i.e. with type nt:file).  When I request the file directly as &lt;a href=&quot;http://localhost:8080/content/include/header.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/content/include/header.html&lt;/a&gt; I get the file streamed directly using StreamRendererServlet, but from an include this instead uses the extension from the original request (which was for a html rendered view of a node) and then uses the HtmlRendererServlet.&lt;/p&gt;

&lt;p&gt;I would make a suggestion as to where a fix to this could be applied but got myself a little bogged down in the details of this, not sure if something like checking the node type, and if it is a file that already matches the extension then stream it might work?  Or maybe a different request object needs to be created for this &quot;request&quot;.&lt;/p&gt;

&lt;p&gt;Cheers&lt;br/&gt;
Bryce&lt;/p&gt;</description>
                <environment>Ubuntu 8.04, Java 1.6</environment>
        <key id="12398663">SLING-547</key>
            <summary>Included header.html (node of type nt:file) through a script sling.include uses HtmlRendererServlet instead of StreamRendererServlet</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="brycenz">Bryce Ewing</reporter>
                        <labels>
                    </labels>
                <created>Fri, 20 Jun 2008 04:45:45 +0000</created>
                <updated>Wed, 12 Apr 2023 07:19:49 +0000</updated>
                            <resolved>Wed, 12 Apr 2023 07:19:49 +0000</resolved>
                                    <version>Servlets Get 2.0.2</version>
                    <version>Scripting Core 2.0.2</version>
                                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12610547" author="fmeschbe" created="Fri, 4 Jul 2008 11:18:28 +0000"  >&lt;p&gt;I assume you request for /content/something.html where /content/something is the resource. Now, if you include /content/include/header.html, the resource is properly resolved but the request extension is still &quot;html&quot;. That is the default servlet still selects a renderer for the &quot;html&quot; extension.&lt;/p&gt;

&lt;p&gt;This happens in the SlingRequestPathInfo.merge(RequestPathInfo) method of the engine module, where the RequestPathInfo is inherited from the request if the included resource has no &quot;request extension&quot;.&lt;/p&gt;

&lt;p&gt;There is no way currently, to overwrite this (unfortunately).&lt;/p&gt;</comment>
                            <comment id="12659658" author="fmeschbe" created="Mon, 29 Dec 2008 21:35:31 +0000"  >&lt;p&gt;I assume, this is still an issue ?&lt;/p&gt;

&lt;p&gt;You could try a workaround which is based on the StreamRendererServlet also being registered for the &quot;.res&quot; extension. So instead of including &quot;/content/header.html&quot; you would include &quot;/content/header.html.res&quot;.&lt;/p&gt;

&lt;p&gt;This causes the /content/header.html resource to be included with the extension &quot;res&quot;, which in turn would select the StreamRendererServlet.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36118</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 45 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0329z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>15802</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-546] ObjectContentMnagerFactoryImpl does not register adapter factories for mapped objects</title>
                <link>https://issues.apache.org/jira/browse/SLING-546</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;After the change of the maven-sling-plugin to not set the immediate attribute anymore to true by default for components, the jcr/ocm ObjectContentManagerFactoryImpl class is registered as a delayed component. This causes the factory to only be instantiated when the the service is first requested and the bundle listener to only be registered by then.&lt;/p&gt;

&lt;p&gt;Correct would be to immediately activate this component such that it can start listening for bundles and register adapter factories.&lt;/p&gt;

&lt;p&gt;In addition, the service registration is incorrect as the component is registered as a service for all implemented interfaces. The reason for this is the incorrect attribute &quot;name&quot; to indicate the actual service interface. This should be the &quot;interface&quot; attribute.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12398574">SLING-546</key>
            <summary>ObjectContentMnagerFactoryImpl does not register adapter factories for mapped objects</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Thu, 19 Jun 2008 11:29:06 +0000</created>
                <updated>Fri, 19 Sep 2008 12:05:39 +0000</updated>
                            <resolved>Thu, 19 Jun 2008 11:31:08 +0000</resolved>
                                    <version>JCR OCM 2.0.2</version>
                                    <fixVersion>JCR OCM 2.0.2</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12606332" author="fmeschbe" created="Thu, 19 Jun 2008 11:31:08 +0000"  >&lt;p&gt;Implement fix in Rev. 669451.&lt;/p&gt;

&lt;p&gt;Resolving now and will close this issue as soon as it is confirmed by Craig Ching, who reported it in &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://markmail.org/message/gv3zxtflogwgw54b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://markmail.org/message/gv3zxtflogwgw54b&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12606415" author="craigching" created="Thu, 19 Jun 2008 15:23:51 +0000"  >&lt;p&gt;I&apos;ve confirmed that my code and the simple-demo project in sling itself are working again.  Thanks!&lt;/p&gt;</comment>
                            <comment id="12606416" author="fmeschbe" created="Thu, 19 Jun 2008 15:27:24 +0000"  >&lt;p&gt;Thanks for the feedback. I so close this issue.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175524</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 20 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1137r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>214487</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-545] Node with primary node type set to nt:unstructured (via json), overridden to nt:folder</title>
                <link>https://issues.apache.org/jira/browse/SLING-545</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;As stated in sample_readme.txt (in simple-demo):&lt;/p&gt;

&lt;p&gt;Directories&lt;br/&gt;
-----------&lt;/p&gt;

&lt;p&gt;Unless a node with the name of the directory already exists or has been defined&lt;br/&gt;
in an XML or JSON descriptor file (see below) a directory is created as a node&lt;br/&gt;
with the primary node type &quot;nt:folder&quot; in the repository.&lt;/p&gt;

&lt;p&gt;I have the following structure in my content folder:&lt;br/&gt;
    pages.json&lt;br/&gt;
    pages/home.json&lt;/p&gt;

&lt;p&gt;pages.json has:&lt;br/&gt;
{&lt;br/&gt;
    &quot;jcr:primaryType&quot;:&quot;nt:unstructured&quot;,&lt;br/&gt;
    &quot;title&quot; : &quot;test&quot;&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;home.json has:&lt;br/&gt;
{&lt;br/&gt;
    &quot;jcr:primaryType&quot;:&quot;nt:unstructured&quot;    &lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;When the bundle is loaded I get the following exception:&lt;br/&gt;
19.06.2008 15:54:44.971 &lt;b&gt;ERROR&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Background Updatenz.co.smx.sling.test (37)&amp;#93;&lt;/span&gt; org.apache.sling.jcr.contentloader.internal.Loader Cannot load initial content for bundle nz.co.smx.sling.test : no definition found in parent node&apos;s node type for new node: no matching child node definition found for {}home javax.jcr.nodetype.ConstraintViolationException: no definition found in parent node&apos;s node type for new node: no matching child node definition found for {}home: no matching child node definition found for {}home&lt;br/&gt;
	at org.apache.jackrabbit.core.NodeImpl.internalAddChildNode(NodeImpl.java:752)&lt;br/&gt;
	at org.apache.jackrabbit.core.NodeImpl.internalAddNode(NodeImpl.java:718)&lt;br/&gt;
	at org.apache.jackrabbit.core.NodeImpl.internalAddNode(NodeImpl.java:665)&lt;br/&gt;
	at org.apache.jackrabbit.core.NodeImpl.addNode(NodeImpl.java:1987)&lt;br/&gt;
	at org.apache.sling.jcr.contentloader.internal.Loader.createNode(Loader.java:470)&lt;br/&gt;
	at org.apache.sling.jcr.contentloader.internal.Loader.createNode(Loader.java:416)&lt;/p&gt;

&lt;p&gt;Having stepped through the loader code in the debugger I found the following:&lt;br/&gt;
Loader.java:361 - when pages.json is being processed&lt;br/&gt;
                if (foundProvider) {&lt;br/&gt;
                    if (createNode(parent, getName(entry), file, overwrite,&lt;br/&gt;
                        versionables, checkin) != null) &lt;/p&gt;
{
                        ignoreEntry.add(file);
                        continue;
                    }
&lt;p&gt;                }&lt;br/&gt;
Loader.java:324 - when pages directory is being processed&lt;br/&gt;
                // if we have a descriptor, which has not been processed yet,&lt;br/&gt;
                // otherwise call createFolder, which creates an nt:folder or&lt;br/&gt;
                // returns an existing node (created by a descriptor)&lt;br/&gt;
                Node node = null;&lt;br/&gt;
                if (nodeDescriptor != null&lt;br/&gt;
                    &amp;amp;&amp;amp; !ignoreEntry.contains(nodeDescriptor)) &lt;/p&gt;
{
                    node = createNode(parent, name, nodeDescriptor, overwrite,
                        versionables, checkin);
                    ignoreEntry.add(nodeDescriptor);
                }
&lt;p&gt; else &lt;/p&gt;
{
                    node = createFolder(parent, name, overwrite);
                }

&lt;p&gt;From the first code fragment the pages node has the node type nt:unstructured but this is overridden to nt:folder in the second code fragment, which causes the home.json node to fail.  When stepping through in the debugger in the second code fragment I removed the node descriptor from the ignoreEntry list and the content all loaded correctly, so I might wonder why it is being put in there in the first place (or whether the node from the first code fragment should be used in the second?).&lt;/p&gt;

&lt;p&gt;Have created a patch, but for some reason I am not able to compile at the moment, get:&lt;br/&gt;
org.apache.maven.reactor.MavenExecutionException: Cannot find parent: org.apache.sling:sling for project: null:org.apache.sling.jcr.contentloader:bundle:2.0.3-incubator-SNAPSHOT for project null:org.apache.sling.jcr.contentloader:bundle:2.0.3-incubator-SNAPSHOT&lt;/p&gt;

&lt;p&gt;So this patch may not work, also due to only starting looking at Sling a couple of days ago I am unsure as to what issues I may not know about in regards to what I have changed.&lt;/p&gt;

&lt;p&gt;P.S. The project looks great, I am very excited by the possibilities of what can be done with this.&lt;/p&gt;</description>
                <environment>Ubuntu 8.04, Java 1.6</environment>
        <key id="12398557">SLING-545</key>
            <summary>Node with primary node type set to nt:unstructured (via json), overridden to nt:folder</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="brycenz">Bryce Ewing</reporter>
                        <labels>
                    </labels>
                <created>Thu, 19 Jun 2008 04:20:29 +0000</created>
                <updated>Thu, 19 Jun 2008 18:23:41 +0000</updated>
                            <resolved>Thu, 19 Jun 2008 12:38:57 +0000</resolved>
                                    <version>JCR Contentloader 2.0.2</version>
                                    <fixVersion>JCR Contentloader 2.0.2</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12606370" author="fmeschbe" created="Thu, 19 Jun 2008 12:38:57 +0000"  >&lt;p&gt;Thanks for reporting and providing the patch. I applied it with two modifications in Rev. 669469.&lt;/p&gt;

&lt;p&gt;The modifications I made:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;The processedEntries entry for the root descript must refer to the session root node, not&lt;br/&gt;
   to the parent node (may still be the same, but it should be explicit IMHO)&lt;/li&gt;
	&lt;li&gt;When checking for a processedEntry of a descriptor just get the entry and check the&lt;br/&gt;
   value; if null have the descriptor applied.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The cause of this problem is probably the recently added &quot;overwrite&quot; flag, which causes the createFolder method to remove any existing node at that location regardless of whether it has been created due to a descriptor file or by previous bundle installation.&lt;/p&gt;

&lt;p&gt;Please test this and close this issue if it works for you. Thanks.&lt;/p&gt;</comment>
                            <comment id="12606490" author="brycenz" created="Thu, 19 Jun 2008 18:23:41 +0000"  >&lt;p&gt;Works correctly now, thanks.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12384251" name="loader.patch" size="2993" author="brycenz" created="Thu, 19 Jun 2008 04:21:08 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175523</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 20 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1eclb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291969</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-538] SlingPropertyValueHelper.setPropertyAsIs() handles impossible empty-value-list case</title>
                <link>https://issues.apache.org/jira/browse/SLING-538</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The list of values of the request property can never have the length of null - RequestProperty.getStringValues() ensures this, and it also does not make any sense with form posts, since a request parameter must always have at least one value, otherwise it would simply not exist in the request. So this code is superfluous (also for single-value property handling):&lt;/p&gt;

&lt;p&gt;        } else if (values.length == 0) {&lt;br/&gt;
            // do not create new prop here, but clear existing&lt;br/&gt;
            if (parent.hasProperty(prop.getName())) &lt;/p&gt;
{
                response.onModified(
                    parent.setProperty(prop.getName(), &quot;&quot;).getPath()
                );
            }</description>
                <environment></environment>
        <key id="12398316">SLING-538</key>
            <summary>SlingPropertyValueHelper.setPropertyAsIs() handles impossible empty-value-list case</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="alexander.klimetschek">Alexander Klimetschek</reporter>
                        <labels>
                    </labels>
                <created>Mon, 16 Jun 2008 10:20:16 +0000</created>
                <updated>Sun, 13 Sep 2009 13:39:12 +0000</updated>
                            <resolved>Wed, 11 Mar 2009 07:13:09 +0000</resolved>
                                                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12605250" author="alexander.klimetschek" created="Mon, 16 Jun 2008 10:24:03 +0000"  >&lt;p&gt;Removes the code in question and adds explaining comments/javadoc.&lt;/p&gt;</comment>
                            <comment id="12605287" author="cziegeler" created="Mon, 16 Jun 2008 13:53:49 +0000"  >&lt;p&gt;Looking at the code in the RequestProperty class there is one case where an empty array is returned (line 169), so I think this code is required.&lt;/p&gt;</comment>
                            <comment id="12605295" author="alexander.klimetschek" created="Mon, 16 Jun 2008 14:08:58 +0000"  >&lt;p&gt;Oh, I missed that one completely! Looks like this is by intention, ie. using &quot;sling:ignore&quot; shall ignore the value.&lt;/p&gt;

&lt;p&gt;But IIUC, this will lead to an empty property (values.length == 0 will trigger parent.setProperty(prop.getName(), &quot;&quot;) in setPropertyAsIs(). Seems to be a bug.&lt;/p&gt;</comment>
                            <comment id="12680619" author="tripod" created="Tue, 10 Mar 2009 21:10:07 +0000"  >&lt;p&gt;the value handling should work like this:&lt;/p&gt;

&lt;p&gt;prop = &quot;foo&quot;&lt;br/&gt;
prop@DefaultValue = &quot;xyz&quot;&lt;br/&gt;
--&amp;gt; set &quot;foo&quot;&lt;/p&gt;

&lt;p&gt;prop = &quot;&quot;&lt;br/&gt;
prop@DefaultValue = &quot;xyz&quot;&lt;br/&gt;
--&amp;gt; set &quot;xyz&quot;&lt;/p&gt;

&lt;p&gt;prop = &quot;&quot;&lt;br/&gt;
prop@DefaultValue = &quot;:null&quot;&lt;br/&gt;
--&amp;gt; remove&lt;/p&gt;

&lt;p&gt;prop = &quot;&quot;&lt;br/&gt;
prop@DefaultValue = &quot;:ignore&quot;&lt;br/&gt;
--&amp;gt; don&apos;t create new values&lt;/p&gt;

&lt;p&gt;the use case for the :ignore is the following:&lt;br/&gt;
if you have a form (basic html, no dhml or ajax) where you have several input fields that are initially empty,&lt;br/&gt;
and you don&apos;t want to create all the properties if the user doesn&apos;t fill them, then you need the &quot;:ignore&quot;, since the&lt;br/&gt;
browser sends a value for all fields that are not disabled.&lt;br/&gt;
if the properties already have a value, then you want the empty string to clear them (:ignore) or even remove them (:null).&lt;/p&gt;

&lt;p&gt;so i guess, this code is correct, but maybe a bit a questionable use case. &lt;/p&gt;
</comment>
                            <comment id="12680770" author="cziegeler" created="Wed, 11 Mar 2009 07:13:08 +0000"  >&lt;p&gt;Thanks Tobi for the information. So, I&apos;ll close this bug.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12384046" name="SLING-538.patch" size="2091" author="alexander.klimetschek" created="Mon, 16 Jun 2008 10:24:03 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175519</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 35 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1eclr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291971</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-537] WebDAV module processes zip and xml files, should not happen</title>
                <link>https://issues.apache.org/jira/browse/SLING-537</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The jcr/webdav/src/main/resources/webdav-resource-config.xml activates Jackrabbit&apos;s ZipHandler and XmlHandler, which means zip and xml files copied into the repository via WebDAV are expanded.&lt;/p&gt;

&lt;p&gt;This is not useful in the general case, and people do not expect it in the general case. I&apos;ll disable those configs in the jcr/webdav bundle.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12398312">SLING-537</key>
            <summary>WebDAV module processes zip and xml files, should not happen</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Mon, 16 Jun 2008 10:00:41 +0000</created>
                <updated>Mon, 16 Jun 2008 12:23:19 +0000</updated>
                            <resolved>Mon, 16 Jun 2008 12:23:19 +0000</resolved>
                                                    <fixVersion>3</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12605272" author="bdelacretaz" created="Mon, 16 Jun 2008 12:23:19 +0000"  >&lt;p&gt;Fixed in revision 668136, including tests which upload and check various types of files&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175518</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 21 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1eclz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291972</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-536] Log configuration fails with ConfigurationException if log level configuration is missing</title>
                <link>https://issues.apache.org/jira/browse/SLING-536</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Currently configuraiton of a logger fails if the log level configuration setting is missing. The assumption was that a log level must be provided to clearly indicate the logging level required. This is probably true in the general case. However, when starting the commons/log bundle in an OSGi framework where the global log level is not set by a system property, the log level should be properly defaulted.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12398305">SLING-536</key>
            <summary>Log configuration fails with ConfigurationException if log level configuration is missing</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Mon, 16 Jun 2008 08:48:50 +0000</created>
                <updated>Sun, 13 Sep 2009 13:04:15 +0000</updated>
                            <resolved>Fri, 31 Jul 2009 11:08:34 +0000</resolved>
                                    <version>Commons Log 2.0.2</version>
                                    <fixVersion>Commons Log 2.0.2</fixVersion>
                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12737494" author="fmeschbe" created="Fri, 31 Jul 2009 11:08:34 +0000"  >&lt;p&gt;This problem has already been fixed in Rev. 668165, I updated the respective svn log message referring to this issue.&lt;/p&gt;

&lt;p&gt;Marking as fixed in the correct version Rev 668165 is part of.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175517</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 14 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10y27:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>213652</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-534] Multi-Value Reference properties are not exposed to scripting the same way as single-value reference properties</title>
                <link>https://issues.apache.org/jira/browse/SLING-534</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If a node contains a multi-valued reference property, it is exposed to scripts as an array of UUID strings.  For single-value reference properties the value is resolved to the referenced node.  I&apos;d expect the multi-value reference properties to be resolved the same way and exposed to scripting as an array of nodes.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12398267">SLING-534</key>
            <summary>Multi-Value Reference properties are not exposed to scripting the same way as single-value reference properties</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="enorman">Eric Norman</reporter>
                        <labels>
                    </labels>
                <created>Sat, 14 Jun 2008 00:26:45 +0000</created>
                <updated>Fri, 20 Sep 2019 11:34:46 +0000</updated>
                            <resolved>Tue, 10 Feb 2009 12:22:44 +0000</resolved>
                                    <version>Scripting JavaScript 2.0.2</version>
                                    <fixVersion> Scripting JavaScript 2.0.4</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12605017" author="enorman" created="Sat, 14 Jun 2008 00:29:08 +0000"  >&lt;p&gt;Proposed patch.&lt;/p&gt;</comment>
                            <comment id="12605217" author="bdelacretaz" created="Mon, 16 Jun 2008 08:03:16 +0000"  >&lt;p&gt;Could you provide some automated tests for your patch?&lt;/p&gt;

&lt;p&gt;See  &lt;a href=&quot;https://svn.apache.org/repos/asf/incubator/sling/trunk/scripting/javascript/src/test/java/org/apache/sling/scripting/wrapper/ScriptableNodeTest.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/repos/asf/incubator/sling/trunk/scripting/javascript/src/test/java/org/apache/sling/scripting/wrapper/ScriptableNodeTest.java&lt;/a&gt; for examples, the framework provides everything to make it very easy to add automated tests. Or let us know if something&apos;s missing, and we&apos;ll fix it.&lt;/p&gt;</comment>
                            <comment id="12605304" author="fmeschbe" created="Mon, 16 Jun 2008 14:43:40 +0000"  >&lt;p&gt;Very good point. Thanks Erik.&lt;/p&gt;

&lt;p&gt;But how about this patch ? It unifies the value handling in the wrap method handling reference values. This concentrates handling of REFERNCE values in a single place.&lt;/p&gt;</comment>
                            <comment id="12605311" author="enorman" created="Mon, 16 Jun 2008 15:14:01 +0000"  >&lt;p&gt;Patch to add a new unit test to the ScriptableNodeTest  testcase&lt;/p&gt;</comment>
                            <comment id="12605313" author="enorman" created="Mon, 16 Jun 2008 15:22:36 +0000"  >&lt;p&gt;Felix, your patch looks good to me.&lt;/p&gt;</comment>
                            <comment id="12671704" author="enorman" created="Mon, 9 Feb 2009 00:19:20 +0000"  >&lt;p&gt;Is there anything keeping this patch from being committed?&lt;/p&gt;</comment>
                            <comment id="12672246" author="fmeschbe" created="Tue, 10 Feb 2009 12:22:44 +0000"  >&lt;p&gt;Applied my patch for multi-value property handling in Rev. 742950 as well as the extended unit test provided by Eric Norman (Thanks) in Rev. 742951.&lt;/p&gt;

&lt;p&gt;Please close this issue, if it works for you. Thanks.&lt;/p&gt;</comment>
                            <comment id="12672493" author="enorman" created="Wed, 11 Feb 2009 03:41:13 +0000"  >&lt;p&gt;looks good.  thanks.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12401959">SLING-604</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12389775">SLING-291</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12384060" name="SLING-534-fmeschbe.patch" size="2681" author="fmeschbe" created="Mon, 16 Jun 2008 14:43:40 +0000"/>
                            <attachment id="12384001" name="multival_refprops_lookup.diff" size="1787" author="edn" created="Sat, 14 Jun 2008 00:29:08 +0000"/>
                            <attachment id="12384062" name="unit_test.diff" size="1780" author="edn" created="Mon, 16 Jun 2008 15:14:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>88812</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 39 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rkkv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>158978</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-532] Latest maven-sling-plugin fails to run due to missing dependencies</title>
                <link>https://issues.apache.org/jira/browse/SLING-532</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Reported by Alex Klimetschek:&lt;/p&gt;

&lt;p&gt;when I run the newest maven sling plugin (2.0.1-incbuator-SNAPSHOT,&lt;br/&gt;
built from current trunk), I get an error of a missing&lt;br/&gt;
commons-httpclient class, see below. I run it with the full&lt;br/&gt;
groupId/artifactId because the project does not contain the&lt;br/&gt;
maven-sling-plugin configuration.&lt;/p&gt;

&lt;p&gt;After having a look at the maven-sling-plugin pom and recent changes,&lt;br/&gt;
I have no clue what&apos;s wrong here... I didn&apos;t see anything what affects&lt;br/&gt;
the dependency to commons-httpclient.&lt;/p&gt;

&lt;p&gt;mvn -e -Dsling.url=&lt;a href=&quot;http://localhost:8080/wcms/system/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/wcms/system/console&lt;/a&gt;&lt;br/&gt;
org.apache.sling:maven-sling-plugin:2.0.1-incubator-SNAPSHOT:install&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;...&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; BUILD ERROR&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Internal error in the plugin manager executing goal&lt;br/&gt;
&apos;org.apache.sling:maven-sling-plugin:2.0.1-incubator-SNAPSHOT:install&apos;:&lt;br/&gt;
Unable to find the mojo&lt;br/&gt;
&apos;org.apache.sling:maven-sling-plugin:2.0.1-incubator-SNAPSHOT:install&apos;&lt;br/&gt;
in the plugin &apos;org.apache.sling:maven-sling-plugin&apos;&lt;br/&gt;
org/apache/commons/httpclient/methods/multipart/PartSource&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Trace&lt;br/&gt;
org.apache.maven.lifecycle.LifecycleExecutionException: Internal error&lt;br/&gt;
in the plugin manager executing goal&lt;br/&gt;
&apos;org.apache.sling:maven-sling-plugin:2.0.1-incubator-SNAPSHOT:install&apos;:&lt;br/&gt;
Unable to find the mojo&lt;br/&gt;
&apos;org.apache.sling:maven-sling-plugin:2.0.1-incubator-SNAPSHOT:install&apos;&lt;br/&gt;
in the plugin &apos;org.apache.sling:maven-sling-plugin&apos;&lt;br/&gt;
        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoals(DefaultLifecycleExecutor.java:543)&lt;br/&gt;
        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeStandaloneGoal(DefaultLifecycleExecutor.java:493)&lt;br/&gt;
        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoal(DefaultLifecycleExecutor.java:463)&lt;br/&gt;
        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoalAndHandleFailures(DefaultLifecycleExecutor.java:311)&lt;br/&gt;
        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeTaskSegments(DefaultLifecycleExecutor.java:278)&lt;br/&gt;
        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.execute(DefaultLifecycleExecutor.java:143)&lt;br/&gt;
        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:334)&lt;br/&gt;
        at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:125)&lt;br/&gt;
        at org.apache.maven.cli.MavenCli.main(MavenCli.java:280)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
        at java.lang.reflect.Method.invoke(Method.java:585)&lt;br/&gt;
        at org.codehaus.classworlds.Launcher.launchEnhanced(Launcher.java:315)&lt;br/&gt;
        at org.codehaus.classworlds.Launcher.launch(Launcher.java:255)&lt;br/&gt;
        at org.codehaus.classworlds.Launcher.mainWithExitCode(Launcher.java:430)&lt;br/&gt;
        at org.codehaus.classworlds.Launcher.main(Launcher.java:375)&lt;br/&gt;
Caused by: org.apache.maven.plugin.PluginManagerException: Unable to&lt;br/&gt;
find the mojo &apos;org.apache.sling:maven-sling-plugin:2.0.1-incubator-SNAPSHOT:install&apos;&lt;br/&gt;
in the plugin &apos;org.apache.sling:maven-sling-plugin&apos;&lt;br/&gt;
        at org.apache.maven.plugin.DefaultPluginManager.getConfiguredMojo(DefaultPluginManager.java:571)&lt;br/&gt;
        at org.apache.maven.plugin.DefaultPluginManager.executeMojo(DefaultPluginManager.java:421)&lt;br/&gt;
        at org.apache.maven.lifecycle.DefaultLifecycleExecutor.executeGoals(DefaultLifecycleExecutor.java:539)&lt;br/&gt;
        ... 16 more&lt;br/&gt;
Caused by: org.codehaus.plexus.component.repository.exception.ComponentLookupException:&lt;br/&gt;
Unable to lookup component&lt;br/&gt;
&apos;org.apache.maven.plugin.Mojoorg.apache.sling:maven-sling-plugin:2.0.1-incubator-SNAPSHOT:install&apos;,&lt;br/&gt;
it could not be created&lt;br/&gt;
        at org.codehaus.plexus.DefaultPlexusContainer.lookup(DefaultPlexusContainer.java:335)&lt;br/&gt;
        at org.codehaus.plexus.DefaultPlexusContainer.lookup(DefaultPlexusContainer.java:440)&lt;br/&gt;
        at org.apache.maven.plugin.DefaultPluginManager.getConfiguredMojo(DefaultPluginManager.java:562)&lt;br/&gt;
        ... 18 more&lt;br/&gt;
Caused by: org.codehaus.plexus.component.factory.ComponentInstantiationException:&lt;br/&gt;
Could not instanciate component: role: &apos;null&apos;, implementation:&lt;br/&gt;
&apos;org.apache.sling.maven.bundlesupport.BundleInstallMojo&apos;&lt;br/&gt;
        at org.codehaus.plexus.component.factory.java.JavaComponentFactory.makeException(JavaComponentFactory.java:77)&lt;br/&gt;
        at org.codehaus.plexus.component.factory.java.JavaComponentFactory.newInstance(JavaComponentFactory.java:62)&lt;br/&gt;
        at org.codehaus.plexus.DefaultPlexusContainer.createComponentInstance(DefaultPlexusContainer.java:1464)&lt;br/&gt;
        at org.codehaus.plexus.component.manager.AbstractComponentManager.createComponentInstance(AbstractComponentManager.java:93)&lt;br/&gt;
        at org.codehaus.plexus.component.manager.PerLookupComponentManager.getComponent(PerLookupComponentManager.java:48)&lt;br/&gt;
        at org.codehaus.plexus.DefaultPlexusContainer.lookup(DefaultPlexusContainer.java:331)&lt;br/&gt;
        ... 20 more&lt;br/&gt;
Caused by: java.lang.NoClassDefFoundError:&lt;br/&gt;
org/apache/commons/httpclient/methods/multipart/PartSource&lt;br/&gt;
        at java.lang.Class.getDeclaredConstructors0(Native Method)&lt;br/&gt;
        at java.lang.Class.privateGetDeclaredConstructors(Class.java:2357)&lt;br/&gt;
        at java.lang.Class.getConstructor0(Class.java:2671)&lt;br/&gt;
        at java.lang.Class.newInstance0(Class.java:321)&lt;br/&gt;
        at java.lang.Class.newInstance(Class.java:303)&lt;br/&gt;
        at org.codehaus.plexus.component.factory.java.JavaComponentFactory.newInstance(JavaComponentFactory.java:44)&lt;br/&gt;
        ... 24 more&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Total time: 2 seconds&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Finished at: Thu Jun 12 17:44:11 CEST 2008&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Final Memory: 4M/7M&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;/p&gt;


&lt;p&gt;The problem is the change in the default scope of the http client library as well as the exclusion of commons-logging as a transitive dependency.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12398230">SLING-532</key>
            <summary>Latest maven-sling-plugin fails to run due to missing dependencies</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Fri, 13 Jun 2008 12:48:47 +0000</created>
                <updated>Fri, 13 Jun 2008 12:50:34 +0000</updated>
                            <resolved>Fri, 13 Jun 2008 12:50:34 +0000</resolved>
                                                    <fixVersion>3</fixVersion>
                                    <component>Maven Plugins and Archetypes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12604848" author="fmeschbe" created="Fri, 13 Jun 2008 12:50:34 +0000"  >&lt;p&gt;Fixed scope and missing dependency in Rev. 667511. Works now.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175516</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 21 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i113br:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>214505</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-530] JspScriptEngineFactory throws NullPointerException on deactivate</title>
                <link>https://issues.apache.org/jira/browse/SLING-530</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Upon shutting down Sling, the following exception is thrown:&lt;/p&gt;

&lt;p&gt;13.06.2008 09:32:17.491 &lt;b&gt;ERROR&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; org.apache.sling.scripting.jsp.JspScriptEngineFactory deactivate: Caught NullPointerException ! Just logging java.lang.NullPointerException&lt;br/&gt;
    at org.eclipse.equinox.http.servlet.internal.ServletContextAdaptor.removeAttribute(ServletContextAdaptor.java:75)&lt;br/&gt;
    at org.apache.sling.engine.impl.helper.SlingServletContext.removeAttribute(SlingServletContext.java:204)&lt;br/&gt;
    at org.apache.sling.scripting.jsp.JspScriptEngineFactory.deactivate(JspScriptEngineFactory.java:244)&lt;br/&gt;
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
    at java.lang.reflect.Method.invoke(Method.java:585)&lt;br/&gt;
    at org.apache.felix.scr.impl.ImmediateComponentManager.disposeImplementationObject(ImmediateComponentManager.java:269)&lt;br/&gt;
    at org.apache.felix.scr.impl.ImmediateComponentManager.deleteComponent(ImmediateComponentManager.java:150)&lt;br/&gt;
    at org.apache.felix.scr.impl.DelayedComponentManager.deleteComponent(DelayedComponentManager.java:61)&lt;br/&gt;
    at org.apache.felix.scr.impl.AbstractComponentManager.deactivateInternal(AbstractComponentManager.java:549)&lt;br/&gt;
    at org.apache.felix.scr.impl.AbstractComponentManager.deactivate(AbstractComponentManager.java:233)&lt;br/&gt;
    at org.apache.felix.scr.impl.DependencyManager.serviceRemoved(DependencyManager.java:242)&lt;br/&gt;
    at org.apache.felix.scr.impl.DependencyManager.serviceChanged(DependencyManager.java:124)&lt;br/&gt;
    at org.apache.felix.framework.util.EventDispatcher.invokeServiceListenerCallback(EventDispatcher.java:765)&lt;br/&gt;
    at org.apache.felix.framework.util.EventDispatcher.fireEventImmediately(EventDispatcher.java:623)&lt;br/&gt;
    at org.apache.felix.framework.util.EventDispatcher.fireServiceEvent(EventDispatcher.java:554)&lt;br/&gt;
    at org.apache.felix.framework.Felix.fireServiceEvent(Felix.java:3612)&lt;br/&gt;
    at org.apache.felix.framework.Felix.access$000(Felix.java:36)&lt;br/&gt;
    at org.apache.felix.framework.Felix$1.serviceChanged(Felix.java:626)&lt;br/&gt;
    at org.apache.felix.framework.ServiceRegistry.fireServiceChanged(ServiceRegistry.java:559)&lt;br/&gt;
    at org.apache.felix.framework.ServiceRegistry.unregisterService(ServiceRegistry.java:96)&lt;br/&gt;
    at org.apache.felix.framework.ServiceRegistrationImpl.unregister(ServiceRegistrationImpl.java:112)&lt;br/&gt;
    at org.apache.sling.engine.impl.helper.SlingServletContext.dispose(SlingServletContext.java:101)&lt;br/&gt;
    at org.apache.sling.engine.impl.SlingMainServlet.deactivate(SlingMainServlet.java:629)&lt;br/&gt;
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
    at java.lang.reflect.Method.invoke(Method.java:585)&lt;br/&gt;
    at org.apache.felix.scr.impl.ImmediateComponentManager.disposeImplementationObject(ImmediateComponentManager.java:269)&lt;br/&gt;
    at org.apache.felix.scr.impl.ImmediateComponentManager.deleteComponent(ImmediateComponentManager.java:150)&lt;br/&gt;
    at org.apache.felix.scr.impl.AbstractComponentManager.deactivateInternal(AbstractComponentManager.java:549)&lt;br/&gt;
    at org.apache.felix.scr.impl.AbstractComponentManager.deactivate(AbstractComponentManager.java:233)&lt;br/&gt;
    at org.apache.felix.scr.impl.DependencyManager.serviceRemoved(DependencyManager.java:242)&lt;br/&gt;
    at org.apache.felix.scr.impl.DependencyManager.serviceChanged(DependencyManager.java:124)&lt;br/&gt;
    at org.apache.felix.framework.util.EventDispatcher.invokeServiceListenerCallback(EventDispatcher.java:765)&lt;br/&gt;
    at org.apache.felix.framework.util.EventDispatcher.fireEventImmediately(EventDispatcher.java:623)&lt;br/&gt;
    at org.apache.felix.framework.util.EventDispatcher.fireServiceEvent(EventDispatcher.java:554)&lt;br/&gt;
    at org.apache.felix.framework.Felix.fireServiceEvent(Felix.java:3612)&lt;br/&gt;
    at org.apache.felix.framework.Felix.access$000(Felix.java:36)&lt;br/&gt;
    at org.apache.felix.framework.Felix$1.serviceChanged(Felix.java:626)&lt;br/&gt;
    at org.apache.felix.framework.ServiceRegistry.fireServiceChanged(ServiceRegistry.java:559)&lt;br/&gt;
    at org.apache.felix.framework.ServiceRegistry.unregisterService(ServiceRegistry.java:96)&lt;br/&gt;
    at org.apache.felix.framework.ServiceRegistrationImpl.unregister(ServiceRegistrationImpl.java:112)&lt;br/&gt;
    at org.eclipse.equinox.http.servlet.internal.Activator.removeProxyServlet(Activator.java:84)&lt;br/&gt;
    at org.eclipse.equinox.http.servlet.internal.ProxyServlet.destroy(ProxyServlet.java:43)&lt;br/&gt;
    at org.apache.sling.launcher.webapp.SlingServlet.destroy(SlingServlet.java:210)&lt;br/&gt;
   (...)&lt;/p&gt;</description>
                <environment>Darwin 9.3.0 Darwin Kernel Version 9.3.0: Fri May 23 00:49:16 PDT 2008; root:xnu-1228.5.18~1/RELEASE_I386 i386</environment>
        <key id="12398216">SLING-530</key>
            <summary>JspScriptEngineFactory throws NullPointerException on deactivate</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="dominique.jaeggi">Dominique J&#228;ggi</reporter>
                        <labels>
                    </labels>
                <created>Fri, 13 Jun 2008 07:41:59 +0000</created>
                <updated>Sun, 13 Sep 2009 13:46:14 +0000</updated>
                            <resolved>Tue, 4 Nov 2008 16:50:11 +0000</resolved>
                                    <version>Scripting JSP 2.0.2</version>
                                    <fixVersion>Scripting JSP 2.0.6</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="12644997" author="fmeschbe" created="Tue, 4 Nov 2008 16:45:45 +0000"  >&lt;p&gt;As the log message says: &quot;Just logging&quot;. This is not a problem, since it occurrs only on system shutdown, when the Equinox ServletContainer bridge has already disposed off the actual servlet context from the servlet container and cannot access the attributes any more.&lt;/p&gt;

&lt;p&gt;Will lower the logging level though and rework the log message to indicate, that this is an expected behaviour on shutdown.&lt;/p&gt;</comment>
                            <comment id="12644998" author="fmeschbe" created="Tue, 4 Nov 2008 16:47:09 +0000"  >&lt;p&gt;Another source of a NullPointerException on shutdown is the cleanup of any JSP servlets, as in :&lt;/p&gt;

&lt;p&gt;16.05.2008 18:55:40.480 &lt;b&gt;ERROR&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; org.apache.sling.scripting.jsp &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.scripting.jsp.JspScriptEngineFactory&amp;#93;&lt;/span&gt; The deactivate method has thrown an exception &lt;br/&gt;
(java.lang.NullPointerException) java.lang.NullPointerException&lt;br/&gt;
	at &lt;br/&gt;
org.eclipse.equinox.http.servlet.internal.ServletContextAdaptor.getAttribute(ServletContextAdaptor.java&lt;br/&gt;
:60)&lt;br/&gt;
	at &lt;br/&gt;
org.apache.sling.engine.impl.helper.SlingServletContext.getAttribute(SlingServletContext.java:175)&lt;br/&gt;
	at org.apache.sling.scripting.jsp.JspServletContext.getAttribute(JspServletContext.java:123)&lt;br/&gt;
	at &lt;br/&gt;
org.apache.sling.scripting.jsp.jasper.servlet.JspServletWrapper.destroy(JspServletWrapper.java:445)&lt;br/&gt;
	at &lt;br/&gt;
org.apache.sling.scripting.jsp.jasper.compiler.JspRuntimeContext.destroy(JspRuntimeContext.java:247)&lt;br/&gt;
	at org.apache.sling.scripting.jsp.JspScriptEngineFactory.deactivate(JspScriptEngineFactory.java:228)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:585)&lt;br/&gt;
        .....&lt;/p&gt;

&lt;p&gt;Also here, the cause is the Equinox servlet container bridge, which has already disposed off the servlet container&apos;s servlet context.&lt;/p&gt;</comment>
                            <comment id="12644999" author="fmeschbe" created="Tue, 4 Nov 2008 16:50:11 +0000"  >&lt;p&gt;Fixed in Rev. 711307&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175514</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 1 week, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rki7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>158966</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-529] Global logging reconfiguration results in configuration error</title>
                <link>https://issues.apache.org/jira/browse/SLING-529</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;After the implementation of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-525&quot; title=&quot;Allow more fine grained logging configuration&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-525&quot;&gt;&lt;del&gt;SLING-525&lt;/del&gt;&lt;/a&gt;, the global logging configuration does not work any more. Instead a ConfigurationException is thrown and logged:&lt;/p&gt;

&lt;p&gt;13.06.2008 07:44:22.647 &lt;b&gt;ERROR&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Configuration Updater&amp;#93;&lt;/span&gt; org.apache.felix.configadmin Updating configuration property org.apache.sling.commons.log.names caused a problem: Missing categories in configuration org.apache.sling.commons.log.LogManager (org.osgi.service.cm.ConfigurationException: org.apache.sling.commons.log.names : Missing categories in configuration org.apache.sling.commons.log.LogManager) org.osgi.service.cm.ConfigurationException: org.apache.sling.commons.log.names : Missing categories in configuration org.apache.sling.commons.log.LogManager&lt;br/&gt;
        at org.apache.sling.commons.log.slf4j.LogConfigManager.updateLoggerConfiguration(LogConfigManager.java:388)&lt;br/&gt;
        at org.apache.sling.commons.log.LogManager$GlobalConfigurator.updated(LogManager.java:180)&lt;br/&gt;
        at org.apache.felix.cm.impl.ConfigurationManager$UpdateConfiguration.run(ConfigurationManager.java:1125)&lt;br/&gt;
        at org.apache.felix.cm.impl.UpdateThread.run(UpdateThread.java:90)&lt;/p&gt;


&lt;p&gt;The problem seems to be that there is no acceptable entry for the logger names in the global configuration, whereas this setting should be &quot;&quot; indicating the &quot;ROOT&quot; logger meaning apply to all loggers as a default.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12398210">SLING-529</key>
            <summary>Global logging reconfiguration results in configuration error</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Fri, 13 Jun 2008 05:48:10 +0000</created>
                <updated>Sun, 13 Sep 2009 13:04:13 +0000</updated>
                            <resolved>Fri, 13 Jun 2008 06:14:00 +0000</resolved>
                                                    <fixVersion>3</fixVersion>
                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12604747" author="fmeschbe" created="Fri, 13 Jun 2008 06:14:00 +0000"  >&lt;p&gt;Fixed in Rev. 667371.&lt;/p&gt;

&lt;p&gt;Now global configuration sets the value for the applicable logger names to the constant LogConfigManager.ROOT. This special configuration value for loggers is recognized during logger name processing to indicate a set only containg the root logger name.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175513</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 21 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i110pj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>214081</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-528] ServletException on request for synthtic resource</title>
                <link>https://issues.apache.org/jira/browse/SLING-528</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Have a Resource at path &quot;/synthetic&quot; &lt;br/&gt;
Requesting this resource SlingDefaultGetServlet throws an ServletException with the message&lt;br/&gt;
&quot;path=/synthetic does not adapt to a Node or a Property&quot;.&lt;/p&gt;

&lt;p&gt;This is thrown by the PlainTextRendererSerlvet, which expects a JCR Resource.&lt;br/&gt;
I would suggest to fail gracefully. Like rendering the ResourceMetadata&lt;/p&gt;

</description>
                <environment></environment>
        <key id="12398168">SLING-528</key>
            <summary>ServletException on request for synthtic resource</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="chrisk">christian</reporter>
                        <labels>
                    </labels>
                <created>Thu, 12 Jun 2008 14:02:02 +0000</created>
                <updated>Sun, 13 Sep 2009 13:39:11 +0000</updated>
                            <resolved>Wed, 10 Sep 2008 11:52:21 +0000</resolved>
                                                    <fixVersion>Servlets Get 2.0.4</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12604520" author="fmeschbe" created="Thu, 12 Jun 2008 14:08:43 +0000"  >&lt;p&gt;You mean, there is a non-JCR resource at &quot;/synthetic&quot; ?&lt;/p&gt;

&lt;p&gt;I agree, that this should handle the request more gracefully.&lt;/p&gt;</comment>
                            <comment id="12604544" author="chrisk" created="Thu, 12 Jun 2008 15:34:19 +0000"  >&lt;p&gt;Ah sorry, only statet the failing resource type within the title.&lt;br/&gt;
Yes at path &quot;/synthetic&quot; theres is a Resource of type &quot;SyntheticResource&quot;&lt;/p&gt;</comment>
                            <comment id="12604568" author="fmeschbe" created="Thu, 12 Jun 2008 16:40:48 +0000"  >&lt;p&gt;Ehrm, a SyntheticResource does not really exist and is an &quot;include&quot; artifact. But probably, we should do better in this case than just throwing a ServletException, anyway .&lt;/p&gt;</comment>
                            <comment id="12629771" author="cziegeler" created="Wed, 10 Sep 2008 11:52:21 +0000"  >&lt;p&gt;I&apos;ll close this as the behaviour in the get servlets has changed. If there is still an issue please open a new bug.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175512</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 9 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ecm7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291973</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-527] NullPointerException running the launchpad/webapp</title>
                <link>https://issues.apache.org/jira/browse/SLING-527</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;After the latest changes to commons/log, there are NullPointerExceptions when running the launchpad/webapp with Maven &amp;#8211; both with integration-tests and jetty:run.&lt;/p&gt;

&lt;p&gt;The stacktraces at startup are as follows:&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Context path = /&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Tmp directory = /usr/src/sling/head/launchpad/webapp/target/work&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Web defaults =  jetty default&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Web overrides =  none&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Webapp directory = /usr/src/sling/head/launchpad/webapp/target/org.apache.sling.launchpad.webapp-3-incubator-SNAPSHOT&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Starting jetty 6.1.5 ...&lt;br/&gt;
2008-06-12 15:15:26.283::INFO:  jetty-6.1.5&lt;br/&gt;
2008-06-12 15:15:26.403::INFO:  No Transaction manager found - if your webapp requires one, please configure one.&lt;br/&gt;
2008-06-12 15:15:31.140:/:WARN:  ERROR: EventDispatcher: Error during dispatch. (java.lang.NullPointerException)&lt;br/&gt;
java.lang.NullPointerException&lt;br/&gt;
        at org.apache.sling.commons.log.slf4j.LogConfigManager.getLoggerConfig(LogConfigManager.java:551)&lt;br/&gt;
        at org.apache.sling.commons.log.slf4j.LogConfigManager.getLogger(LogConfigManager.java:179)&lt;br/&gt;
        at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:88)&lt;br/&gt;
        at org.apache.sling.commons.log.LogSupport.getLogger(LogSupport.java:322)&lt;br/&gt;
        at org.apache.sling.commons.log.LogSupport.logOut(LogSupport.java:333)&lt;br/&gt;
        at org.apache.sling.commons.log.LogSupport.fireLogEvent(LogSupport.java:167)&lt;br/&gt;
        at org.apache.sling.commons.log.LogSupport.bundleChanged(LogSupport.java:216)&lt;br/&gt;
        at org.apache.felix.framework.util.EventDispatcher.invokeBundleListenerCallback(EventDispatcher.java:690)&lt;br/&gt;
        at org.apache.felix.framework.util.EventDispatcher.fireEventImmediately(EventDispatcher.java:619)&lt;br/&gt;
        at org.apache.felix.framework.util.EventDispatcher.run(EventDispatcher.java:816)&lt;br/&gt;
        at org.apache.felix.framework.util.EventDispatcher.access$000(EventDispatcher.java:42)&lt;br/&gt;
        at org.apache.felix.framework.util.EventDispatcher$1.run(EventDispatcher.java:94)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:619)&lt;br/&gt;
2008-06-12 15:15:31.141:/:WARN:  ERROR: EventDispatcher: Error during dispatch. (java.lang.NullPointerException)&lt;br/&gt;
java.lang.NullPointerException&lt;br/&gt;
        at org.apache.sling.commons.log.slf4j.LogConfigManager.getLoggerConfig(LogConfigManager.java:551)&lt;br/&gt;
        at org.apache.sling.commons.log.slf4j.LogConfigManager.getLogger(LogConfigManager.java:179)&lt;br/&gt;
        at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:88)&lt;br/&gt;
        at org.apache.sling.commons.log.LogSupport.getLogger(LogSupport.java:322)&lt;br/&gt;
        at org.apache.sling.commons.log.LogSupport.logOut(LogSupport.java:333)&lt;br/&gt;
        at org.apache.sling.commons.log.LogSupport.fireLogEvent(LogSupport.java:167)&lt;br/&gt;
        at org.apache.sling.commons.log.LogSupport.bundleChanged(LogSupport.java:216)&lt;br/&gt;
        at org.apache.felix.framework.util.EventDispatcher.invokeBundleListenerCallback(EventDispatcher.java:690)&lt;br/&gt;
        at org.apache.felix.framework.util.EventDispatcher.fireEventImmediately(EventDispatcher.java:619)&lt;br/&gt;
        at org.apache.felix.framework.util.EventDispatcher.run(EventDispatcher.java:816)&lt;br/&gt;
        at org.apache.felix.framework.util.EventDispatcher.access$000(EventDispatcher.java:42)&lt;br/&gt;
        at org.apache.felix.framework.util.EventDispatcher$1.run(EventDispatcher.java:94)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:619)&lt;br/&gt;
2008-06-12 15:15:31.331:/:INFO:  sling: Servlet sling initialized&lt;br/&gt;
2008-06-12 15:15:31.343::INFO:  Started SelectChannelConnector@0.0.0.0:8888&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Started Jetty Server&lt;/p&gt;</description>
                <environment></environment>
        <key id="12398165">SLING-527</key>
            <summary>NullPointerException running the launchpad/webapp</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Thu, 12 Jun 2008 13:43:09 +0000</created>
                <updated>Sun, 13 Sep 2009 12:58:17 +0000</updated>
                            <resolved>Thu, 12 Jun 2008 14:34:23 +0000</resolved>
                                                    <fixVersion>3</fixVersion>
                                    <component>Launchpad</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12604519" author="fmeschbe" created="Thu, 12 Jun 2008 14:05:11 +0000"  >&lt;p&gt;The problem is that the commons/testing library is packaged into the war file. This library is not a bundle and has no Bundle-SymbolicName header hence the LogService tries to acquire a logger with a null-name which fails.&lt;/p&gt;

&lt;p&gt;Two issues:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Why is the commons/testing library packaged into the war ?&lt;/li&gt;
	&lt;li&gt;The LogService implementation should cope with the &quot;null&quot; value for the symbolic name&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12604527" author="fmeschbe" created="Thu, 12 Jun 2008 14:30:28 +0000"  >&lt;p&gt;In Rev. 667104 fixed the commons/log LogSupport class to fall back to the bundle location or bundle ID if the bundle has no symbolic name (which is technically legal for pre-R4 bundles)&lt;/p&gt;</comment>
                            <comment id="12604529" author="fmeschbe" created="Thu, 12 Jun 2008 14:34:23 +0000"  >&lt;p&gt;In Rev. 667106 fixed inclusion of the commons/testing library in the war file.&lt;/p&gt;

&lt;p&gt;This solves the issue and this can be closed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175511</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 21 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ecmf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291974</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-522] Default POST Servlet writes single-value property even though node type mandates multi-value.</title>
                <link>https://issues.apache.org/jira/browse/SLING-522</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If a JCR node-type defines a multi-value property (e.g. String[]) and only a single value for this property is posted, the property will become single-value (e.g String). The POST Servlet should check, if the property is multi-value and respect that. Otherwise, any code reading the property value would need to check, whether it is multi-value or not and handle both cases.&lt;/p&gt;

&lt;p&gt;It might even be beneficial to force a multi-value property, if there is no node-type that defines it. This would provide for better control of unstructured data.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12398032">SLING-522</key>
            <summary>Default POST Servlet writes single-value property even though node type mandates multi-value.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jsedding">Julian Sedding</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Jun 2008 09:31:03 +0000</created>
                <updated>Wed, 12 Apr 2023 07:19:09 +0000</updated>
                            <resolved>Wed, 12 Apr 2023 07:19:09 +0000</resolved>
                                    <version>Servlets Post 2.0.2</version>
                                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12604174" author="cziegeler" created="Wed, 11 Jun 2008 09:55:07 +0000"  >&lt;p&gt;As the bug fix for this should be simple we should include it in the next release.&lt;/p&gt;</comment>
                            <comment id="12604210" author="cziegeler" created="Wed, 11 Jun 2008 13:09:33 +0000"  >&lt;p&gt;Looking at this issue, I&apos;m not sure if this can be fixed easily. If the property is a property defined on the primary node type, then it should get a multi value&lt;br/&gt;
field. However if your node type inherits from nt:unstructured, jackrabbit will use the property definition from nt:unstructured and therefore a single value is created.&lt;br/&gt;
What do you think about extending the type hint? So you can send an additional (hidden) parameter, defining that the property should be a multi value one.&lt;/p&gt;

&lt;p&gt;Example: property is &quot;paths&quot;, so you post &quot;paths=hallo&quot; and &quot;paths@TypeHint=String[]&quot;&lt;/p&gt;</comment>
                            <comment id="12604214" author="jsedding" created="Wed, 11 Jun 2008 13:21:59 +0000"  >&lt;p&gt;I believe that the type information from the primary-type (and mixin-types) should certainly be respected.&lt;/p&gt;

&lt;p&gt;For any properties on nt:unstructured I would be happy with your proposed option. In case both are defined, I guess the @TypeHint should have precedence.&lt;/p&gt;</comment>
                            <comment id="12604218" author="cziegeler" created="Wed, 11 Jun 2008 13:36:37 +0000"  >&lt;p&gt;The problem I see is that even Jackrabbit does not respect the type information in these cases. So I think this should be fixed in Jackrabbit (if at all).&lt;br/&gt;
Therefore the only solution I see is the type hint.&lt;/p&gt;</comment>
                            <comment id="12604633" author="jsedding" created="Thu, 12 Jun 2008 20:23:12 +0000"  >&lt;p&gt;Quote from JCR API PropertyDefinition.isMultiple(): &quot;Note that the isMultiple flag is special in that a given node type may have two property definitions that are identical in every respect except for the their isMultiple status.&quot; (&lt;a href=&quot;http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/nodetype/PropertyDefinition.html#isMultiple(&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.day.com/maven/jsr170/javadocs/jcr-1.0/javax/jcr/nodetype/PropertyDefinition.html#isMultiple(&lt;/a&gt;))&lt;/p&gt;

&lt;p&gt;This is also reflected by the fact, that there are variations of Node.setProperty(), for which the documentation states whether they are to be used for setting single-value properties or multi-value properties. E.g. setProperty(String name, Value value) for single-value properties and setProperty(String name, Value[] values).&lt;/p&gt;

&lt;p&gt;If my interpretation of the JCR documentation is correct, it would be the responsibility of Sling to decide whether to set a single-value or a multi-value property.&lt;/p&gt;

&lt;p&gt;A pseudo code implementation could look something like this:&lt;/p&gt;

&lt;p&gt;POST Servlet receives a post request with prop1=value1 on the node at /content/node1&lt;/p&gt;

&lt;p&gt;if nodetype of /content/node1 defines a property with the name prop1 {&lt;br/&gt;
    if definition of prop1 is single-value  &lt;/p&gt;
{
        set-single-value /content/node1/prop1=value1
    }
&lt;p&gt; else &lt;/p&gt;
{ // multi-value
        set-multi-value /content/node1/prop1=[value1]
    }
&lt;p&gt;} else {&lt;br/&gt;
    set property the way it is done currently&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;After writing this post,  I don&apos;t believe anymore that this issue is correctly classified as a bug. However, I still believe that the expected behavior would be, that if a property is defined by the nodetype, it should be used. I.e. if the post servlet receives a single value and the nodetype defines a multi-value property, the single value should assigned to the multi-value property, rather than creating a new single-value property.&lt;/p&gt;</comment>
                            <comment id="12604895" author="cziegeler" created="Fri, 13 Jun 2008 14:24:17 +0000"  >&lt;p&gt;Moving this to a later release for now.&lt;/p&gt;</comment>
                            <comment id="12604897" author="cziegeler" created="Fri, 13 Jun 2008 14:27:11 +0000"  >&lt;p&gt;The problem is the detection of the property definition - JCR does not provide a method for this. So, in order to propertly implement this,&lt;br/&gt;
we have to scan the primary node type of a node, followed by all mixins etc. I have the feeling that this is a costly operation compared to&lt;br/&gt;
the problem it might solve. I haven&apos;t looked at JCR 2.0 yet, if it provides something in this area.&lt;/p&gt;

&lt;p&gt;Therefore I would be very happy if you could live with the explicit hint for now &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12604905" author="jsedding" created="Fri, 13 Jun 2008 14:59:56 +0000"  >&lt;p&gt;Agreed,. The explicit hint will allow for the required flexibility and is definitely cheaper than getting the information from the nodetype.&lt;/p&gt;</comment>
                            <comment id="12604911" author="alexander.klimetschek" created="Fri, 13 Jun 2008 15:22:46 +0000"  >&lt;p&gt;I have the same problem (same use case as Julian &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;). &lt;/p&gt;

&lt;p&gt;&amp;gt; What do you think about extending the type hint? So you can send an additional (hidden) parameter,&lt;br/&gt;
&amp;gt; defining that the property should be a multi value one.&lt;br/&gt;
&amp;gt;&lt;br/&gt;
&amp;gt; Example: property is &quot;paths&quot;, so you post &quot;paths=hallo&quot; and &quot;paths@TypeHint=String[]&quot; &lt;/p&gt;

&lt;p&gt;Just to be sure: a multi-value type hint, and thus String[], is not yet implemented. o.a.s.servlets.post.impl.helper.SlingPropertyValueHandler does not support multi-value type hints (ending with []).&lt;/p&gt;

&lt;p&gt;I created &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-533&quot; title=&quot;Support multi-value type hints (eg. @TypeHint=String[])&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-533&quot;&gt;&lt;del&gt;SLING-533&lt;/del&gt;&lt;/a&gt; for this.&lt;/p&gt;
</comment>
                            <comment id="12605013" author="enorman" created="Sat, 14 Jun 2008 00:14:24 +0000"  >&lt;p&gt;I encountered this issue as well.  My solution was basically the same as has been described in the comments.  I scanned the primary type and mixin types to find a matching property definition and use the definition to provide defaults for the property type and for determining if the property is multi-valued.  &lt;/p&gt;

&lt;p&gt;I&apos;ll attach a patch with my changes.&lt;/p&gt;</comment>
                            <comment id="12605014" author="enorman" created="Sat, 14 Jun 2008 00:16:01 +0000"  >&lt;p&gt;Provides resolution about whether a property should be multi-valued or not.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12398244">SLING-533</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12384000" name="propdef_lookup.diff" size="11099" author="edn" created="Sat, 14 Jun 2008 00:16:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36124</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 21 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i032bb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>15808</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-520] BufferedPrintWriter logs too many times in debug logging</title>
                <link>https://issues.apache.org/jira/browse/SLING-520</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The write methods make a debug log call each time they&apos;re called if buffering is turned off. This should be logged once per writer instance&lt;/p&gt;</description>
                <environment></environment>
        <key id="12397891">SLING-520</key>
            <summary>BufferedPrintWriter logs too many times in debug logging</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Tue, 10 Jun 2008 09:46:22 +0000</created>
                <updated>Tue, 10 Jun 2008 09:52:35 +0000</updated>
                            <resolved>Tue, 10 Jun 2008 09:52:35 +0000</resolved>
                                    <version>3</version>
                                    <fixVersion>3</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175506</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 22 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10vmf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>213257</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-516] sling.js client test is broken</title>
                <link>https://issues.apache.org/jira/browse/SLING-516</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;With the 2.0.2 webapp, the test at &lt;a href=&quot;http://localhost:8888/sling-test/sling/sling-test.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8888/sling-test/sling/sling-test.html&lt;/a&gt; fails for two reasons&lt;/p&gt;

&lt;p&gt;1) It requires changing a setting via the Sling console, but doesn&apos;t say how&lt;/p&gt;

&lt;p&gt;2) &quot;assertNull failed: data should be gone after deletePath&quot; - the test has probably not been adapted to recent changes&lt;/p&gt;</description>
                <environment></environment>
        <key id="12397656">SLING-516</key>
            <summary>sling.js client test is broken</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Fri, 6 Jun 2008 08:38:19 +0000</created>
                <updated>Wed, 12 Apr 2023 07:19:00 +0000</updated>
                            <resolved>Wed, 12 Apr 2023 07:19:00 +0000</resolved>
                                    <version>3</version>
                                                    <component>Launchpad</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14346553" author="cziegeler" created="Wed, 4 Mar 2015 07:44:04 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bdelacretaz&quot; class=&quot;user-hover&quot; rel=&quot;bdelacretaz&quot;&gt;bdelacretaz&lt;/a&gt; Is this still relevant?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36126</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 35 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i032br:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>15810</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-515] IncludeTest fails when run against another Sling instance</title>
                <link>https://issues.apache.org/jira/browse/SLING-515</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Running the IncludeTest against a separate Sling instance like this:&lt;/p&gt;

&lt;p&gt; mvn -o -s /dev/null test -Dhttp.port=8080  -Dtest=IncludeTest  -Dhttp.base.path=sling  -Dwebdav.workspace.path=sling&lt;/p&gt;

&lt;p&gt;whereas it passes when run as part of the full build, where Sling runs in the same process and on / as opposed to /sling in the above example.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12397655">SLING-515</key>
            <summary>IncludeTest fails when run against another Sling instance</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Fri, 6 Jun 2008 08:27:55 +0000</created>
                <updated>Mon, 16 Jun 2008 13:18:59 +0000</updated>
                            <resolved>Mon, 16 Jun 2008 13:18:59 +0000</resolved>
                                    <version>3</version>
                                    <fixVersion>3</fixVersion>
                                    <component>Launchpad</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12605281" author="bdelacretaz" created="Mon, 16 Jun 2008 13:18:59 +0000"  >&lt;p&gt;Fixed in revision 668150,  DefaultErrorHandlerServlet outputs error info even if response is already committed, without changing response status.&lt;/p&gt;

&lt;p&gt;For some reason, the behavior is different when running the integration tests as part of the Maven build (response was not committed in this case) and when running them against a Sling webapp that was already started with mvn jetty:run.&lt;/p&gt;

&lt;p&gt;Different Jetty versions are used in both cases, that might explain the difference.&lt;/p&gt;

&lt;p&gt;Anyway, I think it&apos;s good for the DefaultErrorHandlerServlet to at least output error info even if it&apos;s too late to change the HTTP response status, instead of being silent in this case as before.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175503</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 21 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ecmn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291975</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-512] APT servlet takes over requests that do not have the aptml extension</title>
                <link>https://issues.apache.org/jira/browse/SLING-512</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I downloaded &lt;a href=&quot;http://people.apache.org/~cziegeler/releases/sling/maven/org.apache.sling.launchpad.app-2.0.0-incubator.jar&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://people.apache.org/~cziegeler/releases/sling/maven/org.apache.sling.launchpad.app-2.0.0-incubator.jar&lt;/a&gt; and started it with java -jar ...&lt;/p&gt;

&lt;p&gt;Going to &lt;a href=&quot;http://localhost:8080/index.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/index.html&lt;/a&gt; shows the page with no css and no logo, and &lt;a href=&quot;http://localhost:8080/sling-logo.png&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/sling-logo.png&lt;/a&gt; gives an &quot;Exception while parsing APT content&quot; error.&lt;/p&gt;

&lt;p&gt;After stopping the APT servlet bundle, everything&apos;s back to normal.&lt;/p&gt;

&lt;p&gt;Same problem in the trunk.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12397561">SLING-512</key>
            <summary>APT servlet takes over requests that do not have the aptml extension</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Thu, 5 Jun 2008 08:27:35 +0000</created>
                <updated>Sun, 13 Sep 2009 13:39:13 +0000</updated>
                            <resolved>Thu, 5 Jun 2008 10:00:49 +0000</resolved>
                                    <version>3</version>
                                    <fixVersion>Servlets Resolver 2.0.4</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12602594" author="fmeschbe" created="Thu, 5 Jun 2008 09:34:02 +0000"  >&lt;p&gt;The cause of this issue is the servlet registration process introduced with &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-430&quot; title=&quot;Change behaviour of Servlet Resource Registration for missing sling.servlet.methods property&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-430&quot;&gt;&lt;del&gt;SLING-430&lt;/del&gt;&lt;/a&gt;: If a servlet is registered without the sling.servlet.methods property, a default value of [ &quot;GET&quot;, &quot;HEAD&quot; ] is assumed. This default setting together with the setting of sling.servlet.extensions=aptml of the AptServlet results in the AptServlet to be registered three times:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;to handle GET requests&lt;/li&gt;
	&lt;li&gt;to handle HEAD requests&lt;/li&gt;
	&lt;li&gt;to handel GET/HEAD requests with an extension of .aptml&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The first two registrations are not needed and in fact cause the servlet resolution to be confused as these registrations hide (overwrite, replace) the registration of the default GET servlet.&lt;/p&gt;

&lt;p&gt;The fix to this issue is to only consider a default value for the sling.servlet.methods property if the sling.servlet.extensions property is not set.&lt;/p&gt;</comment>
                            <comment id="12602595" author="fmeschbe" created="Thu, 5 Jun 2008 09:34:56 +0000"  >&lt;p&gt;This issue affects servlet resolution and is fixed in the next target release.&lt;/p&gt;</comment>
                            <comment id="12602601" author="fmeschbe" created="Thu, 5 Jun 2008 10:00:49 +0000"  >&lt;p&gt;Fixed in Rev. 663513.&lt;/p&gt;</comment>
                            <comment id="12602660" author="craigching" created="Thu, 5 Jun 2008 14:28:46 +0000"  >&lt;p&gt;This is probably the same as &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-507&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SLING-507&lt;/a&gt;, I&apos;ll get a trunk and test immediately.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175501</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 22 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i11393:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>214493</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-508] Parameter decoding uses wrong default charset</title>
                <link>https://issues.apache.org/jira/browse/SLING-508</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;As of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-152&quot; title=&quot;POST parameters are read from request body even when contentType is application/x-www-form-urlencoded&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-152&quot;&gt;&lt;del&gt;SLING-152&lt;/del&gt;&lt;/a&gt; the request paremeters are re-encoded if a &lt;em&gt;charset&lt;/em&gt; parameter is present. it assumes that the default encoding is&lt;br/&gt;
UTF-8 which is not the case for servlet spec compliant containers (eg. tomcat).&lt;/p&gt;

&lt;p&gt;change the default encoding to ISO-8851-1 or make it configurable.&lt;/p&gt;

&lt;p&gt;see: &lt;a href=&quot;http://svn.apache.org/viewvc/incubator/sling/trunk/engine/src/main/java/org/apache/sling/engine/impl/parameters/Util.java?view=markup&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc/incubator/sling/trunk/engine/src/main/java/org/apache/sling/engine/impl/parameters/Util.java?view=markup&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12397465">SLING-508</key>
            <summary>Parameter decoding uses wrong default charset</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="tripod">Tobias Bocanegra</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Jun 2008 12:42:54 +0000</created>
                <updated>Tue, 21 Jul 2009 10:22:47 +0000</updated>
                            <resolved>Mon, 16 Jun 2008 14:21:15 +0000</resolved>
                                    <version>3</version>
                                    <fixVersion>3</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12602634" author="fmeschbe" created="Thu, 5 Jun 2008 12:55:20 +0000"  >&lt;p&gt;First off: Servlet Container parameters are not re-encoded by Sling (any more). They are taken as is.&lt;/p&gt;

&lt;p&gt;Now, to what happens here:&lt;/p&gt;

&lt;p&gt;On the one hand, the W3C &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; recomends browser vendors to encode non-ASCI characters in URLs in UTF-8. This should IMO also include the encoding of parameters in application/x-www-formurlencoded POSTed parameters, altough I could not find a real codification of this.&lt;/p&gt;

&lt;p&gt;On the other hand, the Servlet Specification states, that all data read from POSTed content should be decoded with ISO-8859-1 encoding (Servlet API 2.4, Section 4.9). As servlet containers only read application/x-www-formurlencoded POST requests this issue is about these parameters.&lt;/p&gt;

&lt;p&gt;Third, servlet containers are implemented inconsistently: Some (e.g. Tomcat) apply the Servlet API spec and read the data as ISO-8859-1 and some apply (e.g. Jetty) the W3C recommendation and read the data as UTF-8.&lt;/p&gt;

&lt;p&gt;Fourth, browsers do not apply the W3C recomendation but instead encode the parameters in the character encoding of the page on which the form is placed.&lt;/p&gt;

&lt;p&gt;Consider now the situation of a Servlet API conforming servlet container accepting form data of an UTF-8 encoded page: The parameters are encoded in UTF-8 and servlet container decodes this as ISO-8859-1 giving unreadable data. Conversely, if running in a W3C conforming container accepting form data of an ISO-8859-1 encoded page, the data will also be corrupt due to UTF-8 decoding of ISO-8859-1 data.&lt;/p&gt;

&lt;p&gt;To come around this, we have very lilttle power. Best we can do is try to force the servlet container in decoding the parameter data in ISO-8859-1 and then to recode the raw data in whatever character encoding has been declared with the &quot;&lt;em&gt;charset&lt;/em&gt;&quot; request parameter.&lt;/p&gt;

&lt;p&gt;Two remarks:&lt;br/&gt;
(1) We use ISO-8859-1 because this encoding defines a 1:1 mapping of raw bytes to characters. In fact, the lower 256 characters of Unicode are exactly the characters from the ISO-8859-1 encoding. Thus ISO-8859-1 is kind of an identity encoding.&lt;br/&gt;
(2) &quot;Trying to force&quot; the container means, that we ensure the correct character set to use for reading the input, but if the input has already been read (e.g. by a filter outside Sling), we can not do much any more. This is probably not much of an issue, but we must be aware of it.&lt;/p&gt;


&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://www.w3.org/TR/html4/appendix/notes.html#h-B.2.1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.w3.org/TR/html4/appendix/notes.html#h-B.2.1&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12602763" author="tripod" created="Thu, 5 Jun 2008 19:55:46 +0000"  >&lt;p&gt;iiuc, this is (currently) mainly a servlet container problem. i.e. when running inside jetty, we can assume that the parameters are decoded with utf-8, if running inside tomcat, we can assume that parameters are decoded with iso-8859-1. or whatever is configured in the container (e.g. websphere has configuration for this).&lt;br/&gt;
browsers usually send in the page encoding, so this can be controlled by the script (with the only exception that the user can switch the page encoding manually before submitting the form).&lt;/p&gt;

&lt;p&gt;i suggest to make the SERVLET_CONTAINER_DEFAULT_ENCODING configurable, try to force the container to use that decoding, and reencode with the &lt;em&gt;charset&lt;/em&gt; encoding if needed.&lt;/p&gt;

&lt;p&gt;in the simplest case, setting SERVLET_CONTAINER_DEFAULT_ENCODING to utf-8 inside jetty, and to iso-8859-1 inside tomcat (which i would use as the default).&lt;/p&gt;</comment>
                            <comment id="12602937" author="fmeschbe" created="Fri, 6 Jun 2008 06:37:21 +0000"  >&lt;p&gt;The only problem being that I don&apos;t know whether I am in Jetty or not &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; And honestly, I don&apos;t want to care, that&apos;s what the servlet API is for.&lt;/p&gt;

&lt;p&gt;Therefore, I suggest to try to force the decoding to use ISO-8859-1, which is a 1:1 mapping. What I in fact do is the following:&lt;/p&gt;

&lt;p&gt;    if (request.getCharacterEncoding() == null) &lt;/p&gt;
{
        request.setCharacterEncoding(&quot;ISO-8859-1&quot;);
    }
&lt;p&gt;    Map containerParams = request.getParameterMap();&lt;/p&gt;

&lt;p&gt;This gives the client the opportunity to explicitly define the character encoding while at the same time forcing ISO-8859-1 if not set, which is the standard case.&lt;/p&gt;

&lt;p&gt;After everything is done, the parameters are re-encoded as per &lt;em&gt;charset&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;Now, this mechanism is probably as good as it can get given the specification and implementation issues we have at hand. There are (at least) two problems, we simply cannot solve:&lt;/p&gt;

&lt;p&gt;(1) If the request parameters have already been read outside of Sling, e.g. by a Filter registered by the servlet container, or by some preprocessing servlet, setting the character encoding has no effect and the parameters may still be wrongly encoded.&lt;/p&gt;

&lt;p&gt;(2) If, as Tobias says, the user tampers with the &lt;em&gt;charset&lt;/em&gt; parameter or the actual page encoding such that the browsers does not encode in the expected encoding, we cannot do anything anymore.&lt;/p&gt;

&lt;p&gt;I consider (1) to be a real thread, but not highly probable. We might want to care about that situation when it occurrs. I consider (2) as being as a usage error which I cannot fix on the server side.&lt;/p&gt;</comment>
                            <comment id="12602939" author="bdelacretaz" created="Fri, 6 Jun 2008 06:57:04 +0000"  >&lt;p&gt;One thing that might help (though I&apos;m not sure if it fits people&apos;s use cases) is for Sling to provide a value that can be added as a hidden parameter in forms, and allows the encoding to be recognized when processing the parameters.&lt;/p&gt;

&lt;p&gt;As a simplified example, if Sling provides &quot;&#226;&#234;&#238;&#244;&#251;&#228;&#235;&#239;&#246;&#252;&quot; as the reference value that must be submitted with a predefined parameter name, we could check that this value decodes correctly with a few possible encodings, to select the encoding to use for the other parameters.&lt;/p&gt;

&lt;p&gt;Not an ideal solution, but that should work. Maybe in addition (optional, provided by a separate bundle) to what Felix suggests.&lt;/p&gt;</comment>
                            <comment id="12602944" author="tripod" created="Fri, 6 Jun 2008 07:24:51 +0000"  >&lt;p&gt;I meant configuring in the osgi console. Usually the admin who deploys sling knows which container he uses &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12602946" author="fmeschbe" created="Fri, 6 Jun 2008 07:44:44 +0000"  >&lt;p&gt;&amp;gt; I meant configuring in the osgi console&lt;/p&gt;

&lt;p&gt;While I am a big fan of configuration, I tend to think that such integration issues should not be solved by configuration...&lt;/p&gt;

&lt;p&gt;Given that my solution works for 95% (or more) of the cases, which I am sure of, I don&apos;t think we need anything more.&lt;/p&gt;

&lt;p&gt;&amp;gt; As a simplified example, if Sling provides &quot;&#226;&#234;&#238;&#244;&#251;&#228;&#235;&#239;&#246;&#252;&quot; as the reference value that must be submitted&lt;/p&gt;

&lt;p&gt;Not sure whether this works. We could of course write a Filter (later) which recognizes forms in HTML responses and injects such a parameter. On response with parameters (POST and GET), the parameter could be analyzed and acted upon.&lt;/p&gt;

&lt;p&gt;But again, I don&apos;t think we need this right now.&lt;/p&gt;</comment>
                            <comment id="12605298" author="fmeschbe" created="Mon, 16 Jun 2008 14:21:15 +0000"  >&lt;p&gt;Committed the following fix to request parameter handling in Rev. 668173.&lt;/p&gt;

&lt;p&gt;Before asking the servlet container for its request parameters, the ParameterSupport.getContainerParameters() method sets the request character encoding to ISO-8859-1 if not already set by the request itself. This should cause the request parameters to be decoded as ISO-8859-1.&lt;/p&gt;

&lt;p&gt;After reading all request parameters all parameters (container parameters and multipart/form-data parameters) are re-coded to the encoding specified in the &lt;em&gt;charset&lt;/em&gt; parameter. For container parameters this means, they are converted to bytes again with ISO-8859-1 and then converted to strings using the &lt;em&gt;charset&lt;/em&gt; encoding.&lt;/p&gt;

&lt;p&gt;Thus UTF-8 submitted data should be treated correctly, no matter what servlet container is actually used.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175497</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 21 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10jjz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>211302</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-507] Having problems with Apt Servlet trying to render .html output</title>
                <link>https://issues.apache.org/jira/browse/SLING-507</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I&apos;m having trouble with any request from the browser resulting in an Apt Servlet error.  Here is the response I get in the browser:&lt;/p&gt;

&lt;p&gt;Exception while parsing APT content: org.apache.sling.apt.parser.internal.SlingAptParseExceptionImpl: missing &apos;}&apos; (500)&lt;/p&gt;

&lt;p&gt;The requested URL /dojox/data/demo/demo1.html resulted in an error in org.apache.sling.apt.servlet.SlingAptServlet.&lt;br/&gt;
ApacheSling/2.0 (Java HotSpot(TM) Client VM 1.6.0_03; Windows Vista 6.0 x86)&lt;/p&gt;

&lt;p&gt;The requested URI is this:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://localhost:8080/dojox/data/demo/demo1.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/dojox/data/demo/demo1.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;All I do to reproduce this is deploy the dojo and dojo-sling bundles (though I can reproduce this at will with my own content).  I can work around this problem by removing the following from the launchpad/app/pom.xml:&lt;/p&gt;

&lt;p&gt;        &amp;lt;dependency&amp;gt;&lt;br/&gt;
            &amp;lt;groupId&amp;gt;org.apache.sling&amp;lt;/groupId&amp;gt;&lt;br/&gt;
            &amp;lt;artifactId&amp;gt;&lt;br/&gt;
                org.apache.sling.extensions.apt.servlet&lt;br/&gt;
            &amp;lt;/artifactId&amp;gt;&lt;br/&gt;
            &amp;lt;version&amp;gt;2.0.0-incubator-SNAPSHOT&amp;lt;/version&amp;gt;&lt;br/&gt;
            &amp;lt;optional&amp;gt;true&amp;lt;/optional&amp;gt;&lt;br/&gt;
        &amp;lt;/dependency&amp;gt;&lt;br/&gt;
        &amp;lt;dependency&amp;gt;&lt;br/&gt;
            &amp;lt;groupId&amp;gt;org.apache.sling&amp;lt;/groupId&amp;gt;&lt;br/&gt;
            &amp;lt;artifactId&amp;gt;&lt;br/&gt;
                org.apache.sling.extensions.apt.parser&lt;br/&gt;
            &amp;lt;/artifactId&amp;gt;&lt;br/&gt;
            &amp;lt;version&amp;gt;2.0.0-incubator-SNAPSHOT&amp;lt;/version&amp;gt;&lt;br/&gt;
            &amp;lt;optional&amp;gt;true&amp;lt;/optional&amp;gt;&lt;br/&gt;
        &amp;lt;/dependency&amp;gt;&lt;/p&gt;

&lt;p&gt;I&apos;ll attach my error.log shortly.&lt;/p&gt;

&lt;p&gt;If anyone can point me in the right direction, I can try and figure this out myself, but I haven&apos;t yet found out how I even get into the Apt servlet yet (I admit I haven&apos;t looked to hard yet).&lt;/p&gt;

&lt;p&gt;I marked this as minor since I have a work-around, though I don&apos;t know if disabling the apt servlet will affect me negatively in any way.&lt;/p&gt;

&lt;p&gt;Also, I left the component empty as I&apos;m not quite sure how this should be categorized.&lt;/p&gt;</description>
                <environment>$ mvn --version&lt;br/&gt;
Maven version: 2.0.9&lt;br/&gt;
Java version: 1.6.0_03&lt;br/&gt;
OS name: &amp;quot;windows vista&amp;quot; version: &amp;quot;6.0&amp;quot; arch: &amp;quot;x86&amp;quot; Family: &amp;quot;windows&amp;quot;&lt;br/&gt;
</environment>
        <key id="12397405">SLING-507</key>
            <summary>Having problems with Apt Servlet trying to render .html output</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="craigching">Craig L. Ching</reporter>
                        <labels>
                    </labels>
                <created>Tue, 3 Jun 2008 19:00:22 +0000</created>
                <updated>Thu, 5 Jun 2008 17:58:07 +0000</updated>
                            <resolved>Thu, 5 Jun 2008 17:58:07 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12602029" author="craigching" created="Tue, 3 Jun 2008 19:05:23 +0000"  >&lt;p&gt;Attached error log.&lt;/p&gt;</comment>
                            <comment id="12602728" author="craigching" created="Thu, 5 Jun 2008 17:58:07 +0000"  >&lt;p&gt;Appears to be fixed in r663677 by &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-512&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SLING-512&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12383310" name="error.log.zip" size="34156" author="craigching" created="Tue, 3 Jun 2008 19:05:23 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175496</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 22 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ecnj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291979</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-506] RepositoryPinger pings too often</title>
                <link>https://issues.apache.org/jira/browse/SLING-506</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-505&quot; title=&quot;RepositoryPinger makes log unusable in debug mode&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-505&quot;&gt;&lt;del&gt;SLING-505&lt;/del&gt;&lt;/a&gt; reminds me that I&apos;ve seen the RepositoryPinger ping way too often, and a colleague reports seeing two active RepositoryPinger threads in his system.&lt;/p&gt;

&lt;p&gt;We need to test this again, and maybe restructure the code to allow for automated testing of the ping cycle times.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12397373">SLING-506</key>
            <summary>RepositoryPinger pings too often</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Tue, 3 Jun 2008 13:45:07 +0000</created>
                <updated>Thu, 25 Sep 2008 11:32:51 +0000</updated>
                            <resolved>Tue, 26 Aug 2008 12:24:51 +0000</resolved>
                                    <version>JCR Base 2.0.2</version>
                                    <fixVersion>JCR Base 2.0.4</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12625709" author="bdelacretaz" created="Tue, 26 Aug 2008 12:24:51 +0000"  >&lt;p&gt;Fixed in revision 689045, the ping interval logic was broken.&lt;/p&gt;

&lt;p&gt;Ping intervals are now set between the configured min and max values, and ramped up if the repository is not available, to avoid pinging too often.&lt;/p&gt;

&lt;p&gt;Changes to the ping interval are logged at the DEBUG level.&lt;/p&gt;

&lt;p&gt;If the repository is available immediately at startup, this is logged:&lt;/p&gt;

&lt;p&gt;  Repository Pinger interval set to 10000 msec, repository is available&lt;/p&gt;

&lt;p&gt;If the repository becomes available about 5 seconds after startup, the interval sequence is:&lt;/p&gt;

&lt;p&gt;14:19:40.865  Repository Pinger interval set to 200 msec, repository is NOT available&lt;br/&gt;
14:19:41.153  Repository Pinger interval set to 400 msec, repository is NOT available&lt;br/&gt;
14:19:41.555  Repository Pinger interval set to 800 msec, repository is NOT available&lt;br/&gt;
14:19:42.356  Repository Pinger interval set to 1600 msec, repository is NOT available&lt;br/&gt;
14:19:43.958  Repository Pinger interval set to 3200 msec, repository is NOT available&lt;br/&gt;
14:19:48.013  Repository Pinger interval set to 10000 msec, repository is available&lt;/p&gt;</comment>
                            <comment id="12634447" author="fmeschbe" created="Thu, 25 Sep 2008 11:32:51 +0000"  >&lt;p&gt;This is a problem of the jcr/base module&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175495</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 6 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rksv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>159014</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-503] Enable SCR plugin for Factory Components</title>
                <link>https://issues.apache.org/jira/browse/SLING-503</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;After upgrading to a more recent maven-scr-plugin which includes the fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-593&quot; title=&quot;Fix handling of immediate attribute of component factories&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-593&quot;&gt;&lt;del&gt;FELIX-593&lt;/del&gt;&lt;/a&gt;, the manually crafted component descriptors for component factories must be removed again and the generation using the scr plugin must be renabled.&lt;/p&gt;

&lt;p&gt;This is the reverse task of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-502&quot; title=&quot;Disable SCR plugin for Factory Components&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-502&quot;&gt;&lt;del&gt;SLING-502&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12397346">SLING-503</key>
            <summary>Enable SCR plugin for Factory Components</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Tue, 3 Jun 2008 10:40:26 +0000</created>
                <updated>Tue, 10 Jun 2008 11:26:49 +0000</updated>
                            <resolved>Tue, 10 Jun 2008 11:26:49 +0000</resolved>
                                    <version>3</version>
                                    <fixVersion>3</fixVersion>
                                    <component>Engine</component>
                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12601899" author="fmeschbe" created="Tue, 3 Jun 2008 11:39:48 +0000"  >&lt;p&gt;The changes of Rev. 662747 are to be reverted.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175492</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 23 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10jdj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>211273</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-502] Disable SCR plugin for Factory Components</title>
                <link>https://issues.apache.org/jira/browse/SLING-502</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The folloing Component Factories  must be used with manually crafted service component descriptors for now: &lt;/p&gt;

&lt;p&gt;        jcr/jackrabbit-server : SlingServerRepository&lt;br/&gt;
        jcr/jackrabbit-client : SlingClientRepository&lt;br/&gt;
        engine                : RequestLoggerService&lt;/p&gt;

&lt;p&gt;The reason is compatibility with the fixes introduced with &lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-593&quot; title=&quot;Fix handling of immediate attribute of component factories&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-593&quot;&gt;&lt;del&gt;FELIX-593&lt;/del&gt;&lt;/a&gt;, which cause the Felix Declarative Services to act correctly.&lt;/p&gt;

&lt;p&gt;Because the current maven-scr-plugin incorrectly forces the immediate attribute to true we have to hand-craft descriptors which do not include the attribute to be compatible with the old Declarative Services implementation and the new implementation.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12397345">SLING-502</key>
            <summary>Disable SCR plugin for Factory Components</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Tue, 3 Jun 2008 10:38:15 +0000</created>
                <updated>Tue, 3 Jun 2008 11:44:04 +0000</updated>
                            <resolved>Tue, 3 Jun 2008 11:39:19 +0000</resolved>
                                                    <fixVersion>3</fixVersion>
                                    <component>Engine</component>
                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12601895" author="fmeschbe" created="Tue, 3 Jun 2008 11:34:49 +0000"  >&lt;p&gt;Remove RepositoryClassloaderProviderImpl, this is a service factory not a component factory.&lt;/p&gt;</comment>
                            <comment id="12601898" author="fmeschbe" created="Tue, 3 Jun 2008 11:39:19 +0000"  >&lt;p&gt;Changed component factory declarations to manual in Rev. 662747.&lt;/p&gt;

&lt;p&gt;This also required a modification to the RequestLoggerService: This service is manually registered in the activate() method and unregistered in the deactivate() method. Otherwise the component factory providing a service is not loaded by the Apache Felix SCR 1.0.0 implementation.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12397340">SLING-501</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175491</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 23 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10je7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>211276</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-501] RequestLoggerService does not run with latest SCR implementation from Felix</title>
                <link>https://issues.apache.org/jira/browse/SLING-501</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The latest changes in the SCR implementation of Apache Felix break our current impl:&lt;/p&gt;

&lt;p&gt;03.06.2008 11:30:48.952 &lt;b&gt;ERROR&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;FelixStartLevel&amp;#93;&lt;/span&gt; org.apache.sling.engine General problem with descriptor entry &apos;OSGI-INF/serviceComponents.xml&apos; (org.osgi.service.component.ComponentException: Component org.apache.sling.engine.impl.log.RequestLoggerService validation failed: Factory cannot be immediate) org.osgi.service.component.ComponentException: Component org.apache.sling.engine.impl.log.RequestLoggerService validation failed: Factory cannot be immediate&lt;br/&gt;
	at org.apache.felix.scr.impl.ComponentMetadata.validationFailure(ComponentMetadata.java:352)&lt;br/&gt;
	at org.apache.felix.scr.impl.ComponentMetadata.validate(ComponentMetadata.java:314)&lt;br/&gt;
	at org.apache.felix.scr.impl.XmlHandler.endElement(XmlHandler.java:244)&lt;br/&gt;
	at org.apache.felix.scr.impl.parser.KXml2SAXParser.parseXML(KXml2SAXParser.java:77)&lt;br/&gt;
	at org.apache.felix.scr.impl.BundleComponentActivator.initialize(BundleComponentActivator.java:154)&lt;br/&gt;
	at org.apache.felix.scr.impl.BundleComponentActivator.&amp;lt;init&amp;gt;(BundleComponentActivator.java:110)&lt;br/&gt;
	at org.apache.felix.scr.impl.Activator.loadComponents(Activator.java:227)&lt;br/&gt;
	at org.apache.felix.scr.impl.Activator.bundleChanged(Activator.java:173)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.invokeBundleListenerCallback(EventDispatcher.java:690)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.fireEventImmediately(EventDispatcher.java:619)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.fireBundleEvent(EventDispatcher.java:532)&lt;br/&gt;
	at org.apache.felix.framework.Felix.fireBundleEvent(Felix.java:3601)&lt;br/&gt;
	at org.apache.felix.framework.Felix._startBundle(Felix.java:1616)&lt;br/&gt;
	at org.apache.felix.framework.Felix.startBundle(Felix.java:1544)&lt;br/&gt;
	at org.apache.felix.framework.Felix.setFrameworkStartLevel(Felix.java:1125)&lt;br/&gt;
	at org.apache.felix.framework.StartLevelImpl.run(StartLevelImpl.java:258)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:613)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12397340">SLING-501</key>
            <summary>RequestLoggerService does not run with latest SCR implementation from Felix</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Tue, 3 Jun 2008 09:38:46 +0000</created>
                <updated>Tue, 3 Jun 2008 11:44:04 +0000</updated>
                            <resolved>Tue, 3 Jun 2008 11:41:41 +0000</resolved>
                                    <version>3</version>
                                    <fixVersion>3</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12601875" author="cziegeler" created="Tue, 3 Jun 2008 09:43:43 +0000"  >&lt;p&gt;This occurs due to the changes in &lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-593&quot; title=&quot;Fix handling of immediate attribute of component factories&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-593&quot;&gt;&lt;del&gt;FELIX-593&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12601876" author="fmeschbe" created="Tue, 3 Jun 2008 09:47:47 +0000"  >&lt;p&gt;This only occurrs when using the release maven-scr-plugin with the new SNAPSHOT declarative services.&lt;/p&gt;

&lt;p&gt;The problem is that the released maven-scr-plugin forcibly sets the immediate attribute of the component element to true. This has been fixed in the latest trunk version of the maven-scr-plugin (of which I did not deploy a new SNAPSHOT because it would also include other changes...).&lt;/p&gt;

&lt;p&gt;Therefore, I do not think, this is a blocker actually. Because the RequestLoggerService itself is correct in not declaring the immediate attribute.&lt;/p&gt;

&lt;p&gt;A workaround fix would be to manually set the immediate attribute to false. But I am not sure, whether this is a good idea given that this situation only arises when using the SNAPSHOT declarative services.&lt;/p&gt;</comment>
                            <comment id="12601900" author="fmeschbe" created="Tue, 3 Jun 2008 11:41:41 +0000"  >&lt;p&gt;Closing this as duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-502&quot; title=&quot;Disable SCR plugin for Factory Components&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-502&quot;&gt;&lt;del&gt;SLING-502&lt;/del&gt;&lt;/a&gt;, which encompasses all tasks required to generate manual descriptors for component factories.&lt;/p&gt;</comment>
                            <comment id="12601902" author="fmeschbe" created="Tue, 3 Jun 2008 11:44:04 +0000"  >&lt;p&gt;Linking to &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-502&quot; title=&quot;Disable SCR plugin for Factory Components&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-502&quot;&gt;&lt;del&gt;SLING-502&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12397345">SLING-502</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175490</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 23 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ecnz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291981</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-500] The Dojo Toolkit bundle doesn&apos;t include the Dojo source files</title>
                <link>https://issues.apache.org/jira/browse/SLING-500</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The Dojo Toolkit bundle doesn&apos;t actually include the Dojo source files in the jar file created.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12397334">SLING-500</key>
            <summary>The Dojo Toolkit bundle doesn&apos;t include the Dojo source files</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="rwtucker">Robert Tucker</reporter>
                        <labels>
                    </labels>
                <created>Tue, 3 Jun 2008 08:16:56 +0000</created>
                <updated>Wed, 4 Jun 2008 08:41:22 +0000</updated>
                            <resolved>Wed, 4 Jun 2008 06:47:03 +0000</resolved>
                                    <version>3</version>
                                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12601856" author="rwtucker" created="Tue, 3 Jun 2008 08:18:53 +0000"  >&lt;p&gt;A patch to fix this is included.&lt;/p&gt;</comment>
                            <comment id="12601867" author="fmeschbe" created="Tue, 3 Jun 2008 08:44:11 +0000"  >&lt;p&gt;Thanks for reporting this issue.&lt;/p&gt;

&lt;p&gt;Your patch replaces the use of the src package by the usual release package of the dojo toolkit. Because we changed this only recently in Rev. 654821 as per &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-429&quot; title=&quot;Tune Dojo to allow server-side execution&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-429&quot;&gt;&lt;del&gt;SLING-429&lt;/del&gt;&lt;/a&gt; to enable running dojo on the server side, I am reluctant to go back without any feedback from Lars Trieloff.&lt;/p&gt;

&lt;p&gt;Regardless of the above, the dojo toolkit sources are part of the bundle. So I wonder, why you think, they are not ? Thanks for any clarification.&lt;/p&gt;</comment>
                            <comment id="12601917" author="bdelacretaz" created="Tue, 3 Jun 2008 13:16:52 +0000"  >&lt;p&gt;Congratulations on issue #500 &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12601937" author="rwtucker" created="Tue, 3 Jun 2008 13:41:41 +0000"  >&lt;p&gt;Yay! What do I win? &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Perhaps it is just me.  Prior to patching my pom, the build was:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;expanding the Dojo sources to: sling/extensions/dojo/target/dojo/dojo-release-1.1.0 and&lt;/li&gt;
	&lt;li&gt;copying src/main/dojo-override to: sling/extensions/dojo/target/dojo/dojo-release-1.1.0-src&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Because the bundle was only including &quot;${dojo.target}/dojo-${dojo.version}-src&quot;, the Dojo sources were not making it into the bundle.  An alternative to my patch would be to keep the &quot;-src&quot; designation and update the untar step.&lt;/p&gt;

&lt;p&gt;Either way, this is a minor issue, so I have no problem waiting for Lars&apos; feedback.  Thanks for your prompt response.&lt;/p&gt;</comment>
                            <comment id="12601943" author="fmeschbe" created="Tue, 3 Jun 2008 13:55:14 +0000"  >&lt;p&gt;&amp;gt;  - expanding the Dojo sources to: sling/extensions/dojo/target/dojo/dojo-release-1.1.0 and&lt;/p&gt;

&lt;p&gt;On my system, the library is unpacked into sling/extensions/dojo/target/dojo/dojo-release-1.1.0-src and the the hostenv_rhino.js is correctly overwritten there.&lt;/p&gt;

&lt;p&gt;Finally the thing is packed into the bundle, yielding a bundle of 16MB.&lt;/p&gt;</comment>
                            <comment id="12601952" author="lars3loff" created="Tue, 3 Jun 2008 14:27:29 +0000"  >&lt;p&gt;A fairy told me my feedback is required here. I will have a look at it as soon as I have a decent internet connection and some time to concentrate.&lt;/p&gt;

&lt;p&gt;To clarify one thing: what we want to achieve is a 16MB bundle containing all dojo sources, right. Only that Felix gets this result without the patch and Robert needs the patch. Or is there anything I have been missing?&lt;/p&gt;</comment>
                            <comment id="12601958" author="bdelacretaz" created="Tue, 3 Jun 2008 14:41:02 +0000"  >&lt;p&gt;FWIW, I also get a 16MB /dojo/target/org.apache.sling.extensions.dojo-1.1.0.001-incubator-SNAPSHOT.jar after running &quot;mvn clean install&quot; either from the top-level sling directory, or from extensions/dojo.&lt;/p&gt;

&lt;p&gt;I&apos;m using Maven 2.0.7, on macosx - Robert, what&apos;s your environment?&lt;/p&gt;</comment>
                            <comment id="12601963" author="craigching" created="Tue, 3 Jun 2008 14:53:15 +0000"  >&lt;p&gt;Yeah, I didn&apos;t see this problem either.  Maybe I&apos;m misunderstanding, but he says the source isn&apos;t there, that would mean that dojo (and the SlingNodeStore and SlingPropertyStore as well) wouldn&apos;t work at all, right?  Or is there something I&apos;m missing, he does say it&apos;s minor so I&apos;m wondering if there is something I&apos;m not understanding.&lt;/p&gt;</comment>
                            <comment id="12601992" author="rwtucker" created="Tue, 3 Jun 2008 16:28:44 +0000"  >&lt;p&gt;&amp;gt;mvn --version&lt;br/&gt;
Maven version: 2.0.9&lt;br/&gt;
Java version: 1.5.0_13&lt;br/&gt;
OS name: &quot;windows xp&quot; version: &quot;5.1&quot; arch: &quot;x86&quot; Family: &quot;windows&quot;&lt;/p&gt;

&lt;p&gt;I reverted the pom and got:&lt;/p&gt;

&lt;p&gt;&amp;gt;mvn clean install&lt;br/&gt;
  &lt;span class=&quot;error&quot;&gt;&amp;#91;...snip...&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Executing tasks&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;mkdir&amp;#93;&lt;/span&gt; Created dir: C:\Projects\sling\extensions\dojo\target\dojo&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;get&amp;#93;&lt;/span&gt; Getting: &lt;a href=&quot;http://download.dojotoolkit.org/release-1.1.0/dojo-release-1.1.0-src.tar.gz&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://download.dojotoolkit.org/release-1.1.0/dojo-release-1.1.0-src.tar.gz&lt;/a&gt;&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;get&amp;#93;&lt;/span&gt; To: C:\Projects\sling\extensions\dojo\download-cache\dojo-release-1.1.0-src.tar.gz&lt;br/&gt;
      &lt;span class=&quot;error&quot;&gt;&amp;#91;get&amp;#93;&lt;/span&gt; Not modified - so not downloaded&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;untar&amp;#93;&lt;/span&gt; Expanding: C:\Projects\sling\extensions\dojo\download-cache\dojo-release-1.1.0-src.tar.gz into C:\Projects\sling\extensions\dojo\target\dojo&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;copy&amp;#93;&lt;/span&gt; Copying 1 file to C:\Projects\sling\extensions\dojo\target\dojo\dojo-release-1.1.0-src&lt;br/&gt;
  &lt;span class=&quot;error&quot;&gt;&amp;#91;...snip...&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;Wierd thing is that I have 2 directories under sling/extensions/dojo/target/dojo:&lt;/p&gt;

&lt;p&gt;&amp;gt;dir /d&lt;br/&gt;
 Directory of C:\Projects\sling\extensions\dojo\target\dojo&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;.&amp;#93;&lt;/span&gt;                      &lt;span class=&quot;error&quot;&gt;&amp;#91;dojo-release-1.1.0&amp;#93;&lt;/span&gt;  &amp;lt;-- Dojo sources expanded here&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;..&amp;#93;&lt;/span&gt;                     &lt;span class=&quot;error&quot;&gt;&amp;#91;dojo-release-1.1.0-src&amp;#93;&lt;/span&gt;  &amp;lt;-- override here&lt;/p&gt;

&lt;p&gt;Both jars are &amp;lt; 30KB:&lt;/p&gt;

&lt;p&gt;&amp;gt;dir&lt;br/&gt;
 Directory of C:\Projects\sling\extensions\dojo\target&lt;/p&gt;

&lt;p&gt;06/03/2008  12:10 PM    &amp;lt;DIR&amp;gt;          .&lt;br/&gt;
06/03/2008  12:10 PM    &amp;lt;DIR&amp;gt;          ..&lt;br/&gt;
06/03/2008  12:09 PM    &amp;lt;DIR&amp;gt;          classes&lt;br/&gt;
06/03/2008  12:10 PM    &amp;lt;DIR&amp;gt;          dojo&lt;br/&gt;
06/03/2008  12:10 PM            10,912 org.apache.sling.extensions.dojo-1.1.0.00 &lt;br/&gt;
1-incubator-SNAPSHOT-sources.jar&lt;br/&gt;
06/03/2008  12:10 PM            18,382 org.apache.sling.extensions.dojo-1.1.0.00&lt;br/&gt;
1-incubator-SNAPSHOT.jar&lt;br/&gt;
               2 File(s)         29,294 bytes&lt;/p&gt;

&lt;p&gt;&lt;b&gt;shrug&lt;/b&gt;&lt;/p&gt;</comment>
                            <comment id="12602005" author="craigching" created="Tue, 3 Jun 2008 17:53:37 +0000"  >&lt;p&gt;Just for reference, I&apos;m on Windows Vista and this is what I see after a mvn clean install in the extensions/dojo directory:&lt;/p&gt;

&lt;p&gt;C:\dev\sling\trunk\extensions\dojo&amp;gt;mvn --version&lt;br/&gt;
Maven version: 2.0.9&lt;br/&gt;
Java version: 1.6.0_03&lt;br/&gt;
OS name: &quot;windows vista&quot; version: &quot;6.0&quot; arch: &quot;x86&quot; Family: &quot;windows&quot;&lt;/p&gt;

&lt;p&gt; Directory of C:\dev\sling\trunk\extensions\dojo\target\dojo&lt;/p&gt;

&lt;p&gt;06/03/2008  12:49 PM    &amp;lt;DIR&amp;gt;          .&lt;br/&gt;
06/03/2008  12:49 PM    &amp;lt;DIR&amp;gt;          ..&lt;br/&gt;
06/03/2008  12:49 PM    &amp;lt;DIR&amp;gt;          dojo-release-1.1.0-src&lt;br/&gt;
               0 File(s)              0 bytes&lt;/p&gt;

&lt;p&gt; Directory of C:\dev\sling\trunk\extensions\dojo\target&lt;/p&gt;

&lt;p&gt;06/03/2008  12:49 PM    &amp;lt;DIR&amp;gt;          .&lt;br/&gt;
06/03/2008  12:49 PM    &amp;lt;DIR&amp;gt;          ..&lt;br/&gt;
06/03/2008  12:49 PM    &amp;lt;DIR&amp;gt;          classes&lt;br/&gt;
06/03/2008  12:49 PM    &amp;lt;DIR&amp;gt;          dojo&lt;br/&gt;
06/03/2008  12:49 PM            11,079 org.apache.sling.extensions.dojo-1.1.0.001-incubator-SNAPSHOT-sources.jar&lt;br/&gt;
06/03/2008  12:49 PM        16,930,736 org.apache.sling.extensions.dojo-1.1.0.001-incubator-SNAPSHOT.jar&lt;br/&gt;
               2 File(s)     16,941,815 bytes&lt;br/&gt;
               4 Dir(s)  107,142,922,240 bytes free&lt;/p&gt;</comment>
                            <comment id="12602069" author="lars3loff" created="Tue, 3 Jun 2008 20:48:20 +0000"  >&lt;p&gt;Robert, is it possible that your download-cache is for some reason corrupted? Anyway I think it might be a good idea to add a checksum verification to the ant tasks to make sure the correct version of dojo is being downloaded.&lt;/p&gt;</comment>
                            <comment id="12602077" author="lars3loff" created="Tue, 3 Jun 2008 21:11:44 +0000"  >&lt;p&gt;This patch adds MD5 checksum verification to the build file. So if your ZIP file download gets corrupted, Maven will fail, forcing you to solve the problem. Additionally we can make sure that no evildoer replaces the dojo sources at the dojo download server without us noticing it.&lt;/p&gt;

&lt;p&gt;Robert, what are your results after using this patch?&lt;/p&gt;</comment>
                            <comment id="12602136" author="rwtucker" created="Wed, 4 Jun 2008 01:04:51 +0000"  >&lt;p&gt;The checksum did indeed fail. I deleted the file from the download cache, re-ran mvn clean install and now all is right with the world. Thanks again for everyone&apos;s help!&lt;/p&gt;

&lt;p&gt;Question on process:  Should I close this now or leave open in case someone wants to apply Lars&apos; patch?&lt;/p&gt;</comment>
                            <comment id="12602194" author="fmeschbe" created="Wed, 4 Jun 2008 06:37:19 +0000"  >&lt;p&gt;&amp;gt; Question on process: Should I close this now or leave open in case someone wants to apply Lars&apos; patch?&lt;/p&gt;

&lt;p&gt;I will apply Lars&apos; patch &apos;cause it makes sense, I will then resolve the issue and will kindly ask you to close if you are satisifed.&lt;/p&gt;</comment>
                            <comment id="12602199" author="fmeschbe" created="Wed, 4 Jun 2008 06:47:03 +0000"  >&lt;p&gt;I applied the Lars Trieloff&apos;s patch with a slightly modified failure message indicating where to look for the problem in Rev. 663008.&lt;/p&gt;

&lt;p&gt;Please close this isssue if your problem is solved. Thanks.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12383326" name="SLING-500-verify-download.patch" size="1318" author="lars3loff" created="Tue, 3 Jun 2008 21:11:44 +0000"/>
                            <attachment id="12383281" name="sling-500.patch" size="1154" author="rwtucker" created="Tue, 3 Jun 2008 08:18:53 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175489</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 23 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1eco7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291982</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-496] dojo-sling SlingNodeStore and SlingPropertyStore missing needed require</title>
                <link>https://issues.apache.org/jira/browse/SLING-496</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The dojo-sling node and property stores aren&apos;t requiring dojo.data.simpleFetch as they should.  This is resulting in a failure in dojo to properly load the SlingNodeStore and SlingPropertyStore scripts.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12397300">SLING-496</key>
            <summary>dojo-sling SlingNodeStore and SlingPropertyStore missing needed require</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="craigching">Craig L. Ching</reporter>
                        <labels>
                    </labels>
                <created>Mon, 2 Jun 2008 16:52:44 +0000</created>
                <updated>Tue, 3 Jun 2008 14:59:45 +0000</updated>
                            <resolved>Tue, 3 Jun 2008 07:17:11 +0000</resolved>
                                                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12601673" author="craigching" created="Mon, 2 Jun 2008 16:54:05 +0000"  >&lt;p&gt;Here&apos;s a patch to fix this.&lt;/p&gt;</comment>
                            <comment id="12601846" author="bdelacretaz" created="Tue, 3 Jun 2008 07:17:11 +0000"  >&lt;p&gt;Patch applied in revision 662670, thanks for your contribution!&lt;/p&gt;

&lt;p&gt;Please cross-check and close this issue if ok.&lt;/p&gt;</comment>
                            <comment id="12601966" author="craigching" created="Tue, 3 Jun 2008 14:59:37 +0000"  >&lt;p&gt;Works for me at r662817.&lt;/p&gt;</comment>
                            <comment id="12601967" author="craigching" created="Tue, 3 Jun 2008 14:59:45 +0000"  >&lt;p&gt;Closing.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12383236" name="sling-496.diff" size="1408" author="craigching" created="Mon, 2 Jun 2008 16:54:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175486</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 23 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ecof:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291983</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-495] Complete our NOTICE files</title>
                <link>https://issues.apache.org/jira/browse/SLING-495</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;We have to complete the NOTICE files for our module that embed non-ASF dependencies.&lt;/p&gt;

&lt;p&gt;The script created for &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-493&quot; title=&quot;Generate NOTICE files from Maven dependencies&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-493&quot;&gt;&lt;del&gt;SLING-493&lt;/del&gt;&lt;/a&gt; can be used to generate those files.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12397293">SLING-495</key>
            <summary>Complete our NOTICE files</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Mon, 2 Jun 2008 15:07:25 +0000</created>
                <updated>Wed, 4 Jun 2008 13:50:23 +0000</updated>
                            <resolved>Wed, 4 Jun 2008 13:50:23 +0000</resolved>
                                                    <fixVersion>3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12601909" author="bdelacretaz" created="Tue, 3 Jun 2008 12:25:32 +0000"  >&lt;p&gt;NOTICE files generated using mknotice script from &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-493&quot; title=&quot;Generate NOTICE files from Maven dependencies&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-493&quot;&gt;&lt;del&gt;SLING-493&lt;/del&gt;&lt;/a&gt;, in revision 662766, ready for review.&lt;/p&gt;</comment>
                            <comment id="12602207" author="bdelacretaz" created="Wed, 4 Jun 2008 07:27:00 +0000"  >&lt;p&gt;Reopening to account for fielding&apos;s changes in revisions 662927&lt;/p&gt;</comment>
                            <comment id="12602217" author="bdelacretaz" created="Wed, 4 Jun 2008 08:05:55 +0000"  >&lt;p&gt;NOTICE files regenerated in revision 663025&lt;/p&gt;</comment>
                            <comment id="12602267" author="cziegeler" created="Wed, 4 Jun 2008 12:46:46 +0000"  >&lt;p&gt;There are still issues:&lt;br/&gt;
commons/json: This product includes software developed at &lt;a href=&quot;http://json.org&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://json.org&lt;/a&gt;.&lt;br/&gt;
commons/log: This product includes software developed by QOS (&lt;a href=&quot;http://www.qos.ch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.qos.ch&lt;/a&gt;)&lt;br/&gt;
                          This product includes software developed at&lt;br/&gt;
                          the OSGi Alliance (&lt;a href=&quot;http://www.osgi.org/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.osgi.org/&lt;/a&gt;).&lt;/p&gt;</comment>
                            <comment id="12602268" author="cziegeler" created="Wed, 4 Jun 2008 12:48:25 +0000"  >&lt;p&gt;commons/scheduler: This product includes software developed at&lt;br/&gt;
                                       Opensymphony (&lt;a href=&quot;http://www.opensymphony.org/quartz&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.opensymphony.org/quartz&lt;/a&gt;).&lt;br/&gt;
commons/scheduler: Does not contain software developed by mx4j.&lt;/p&gt;</comment>
                            <comment id="12602275" author="bdelacretaz" created="Wed, 4 Jun 2008 13:04:15 +0000"  >&lt;p&gt;A number of those notices were removed due Roy&apos;s changes in revision 662927, see the following files for details:&lt;/p&gt;

&lt;p&gt;&amp;gt; commons/json: This product includes software developed at &lt;a href=&quot;http://json.org&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://json.org&lt;/a&gt;.&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/repos/asf/incubator/sling/trunk/etc/notice/notices/json.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/repos/asf/incubator/sling/trunk/etc/notice/notices/json.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&amp;gt; commons/log: This product includes software developed by QOS (&lt;a href=&quot;http://www.qos.ch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.qos.ch&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/repos/asf/incubator/sling/trunk/etc/notice/notices/slf4j.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/repos/asf/incubator/sling/trunk/etc/notice/notices/slf4j.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&amp;gt;                          This product includes software developed at&lt;br/&gt;
&amp;gt;                         the OSGi Alliance (&lt;a href=&quot;http://www.osgi.org/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.osgi.org/&lt;/a&gt;). &lt;/p&gt;

&lt;p&gt;mvn dependency:resolve doesn&apos;t indicate that - if it&apos;s actually used we must add a module.notice.txt file there.&lt;/p&gt;

&lt;p&gt;&amp;gt; commons/scheduler: This product includes software developed at&lt;br/&gt;
&amp;gt;                                       Opensymphony (&lt;a href=&quot;http://www.opensymphony.org/quartz&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.opensymphony.org/quartz&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/incubator/sling/trunk/etc/notice/notices/opensymphony.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/repos/asf/incubator/sling/trunk/etc/notice/notices/opensymphony.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&amp;gt; commons/scheduler: Does not contain software developed by mx4j. &lt;/p&gt;

&lt;p&gt;mvn dependency:resolve says it does&lt;/p&gt;</comment>
                            <comment id="12602285" author="cziegeler" created="Wed, 4 Jun 2008 13:50:23 +0000"  >&lt;p&gt;It seems that these are all non-issues, apart from mx4j which should be fixed now.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175485</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 23 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1econ:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291984</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-494] Clarify tm-extractors license</title>
                <link>https://issues.apache.org/jira/browse/SLING-494</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The jackrabbit-server module has a dependency on  org.textmining:tm-extractors:jar:0.4, and while working on the NOTICE files I realized that version 1.0 of that software has an LGPL license, which we&apos;re not allowed to redistribute.&lt;/p&gt;

&lt;p&gt;The release notes at &lt;a href=&quot;http://code.google.com/p/text-mining/source/browse/trunk/ReleaseNotes.txt?r=2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://code.google.com/p/text-mining/source/browse/trunk/ReleaseNotes.txt?r=2&lt;/a&gt; indicate that the change to LGPL occured in version 1.0, so it is very probable that the 0.4 version that we&apos;re using is under the BSD-like textmining license found at &lt;a href=&quot;http://www.searchblox.com/TEXT_MINING_license.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.searchblox.com/TEXT_MINING_license.html&lt;/a&gt;, reproduced below.&lt;/p&gt;

&lt;p&gt;I&apos;ll try to contact Ryan Ackley, who seems to be the main or only author, to clarify that.&lt;/p&gt;

&lt;p&gt;/* ====================================================================&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;The TextMining.Org Software License, Version 1.1&lt;br/&gt;
 *&lt;/li&gt;
	&lt;li&gt;Copyright (c) 2002 Ryan Ackley  All rights&lt;/li&gt;
	&lt;li&gt;reserved.&lt;br/&gt;
 *&lt;/li&gt;
	&lt;li&gt;Redistribution and use in source and binary forms, with or without&lt;/li&gt;
	&lt;li&gt;modification, are permitted provided that the following conditions&lt;/li&gt;
	&lt;li&gt;are met:&lt;br/&gt;
 *&lt;/li&gt;
	&lt;li&gt;1. Redistributions of source code must retain the above copyright&lt;/li&gt;
	&lt;li&gt;notice, this list of conditions and the following disclaimer.&lt;br/&gt;
 *&lt;/li&gt;
	&lt;li&gt;2. Redistributions in binary form must reproduce the above copyright&lt;/li&gt;
	&lt;li&gt;notice, this list of conditions and the following disclaimer in&lt;/li&gt;
	&lt;li&gt;the documentation and/or other materials provided with the&lt;/li&gt;
	&lt;li&gt;distribution.&lt;br/&gt;
 *&lt;/li&gt;
	&lt;li&gt;3. The end-user documentation included with the redistribution,&lt;/li&gt;
	&lt;li&gt;if any, must include the following acknowledgment:&lt;/li&gt;
	&lt;li&gt;&quot;This product includes software developed by&lt;/li&gt;
	&lt;li&gt;TextMining.Org (&lt;a href=&quot;http://www.textmining.org/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.textmining.org/&lt;/a&gt;).&quot;&lt;/li&gt;
	&lt;li&gt;Alternately, this acknowledgment may appear in the software itself,&lt;/li&gt;
	&lt;li&gt;if and wherever such third-party acknowledgments normally appear.&lt;br/&gt;
 *&lt;/li&gt;
	&lt;li&gt;4. The name &quot;TextMining.Org&quot; must not be used to endorse or promote products&lt;/li&gt;
	&lt;li&gt;derived from this software without prior written permission. For&lt;/li&gt;
	&lt;li&gt;written permission, please contact apache@apache.org.&lt;br/&gt;
 *&lt;/li&gt;
	&lt;li&gt;5. Products derived from this software may not be called &quot;TextMining.org&quot;,&lt;/li&gt;
	&lt;li&gt;&quot;TextMining.org extractors&quot;, nor may &quot;TextMining.org&quot; appear in their name,&lt;/li&gt;
	&lt;li&gt;without prior written permission of the Apache Software Foundation.&lt;br/&gt;
 *&lt;/li&gt;
	&lt;li&gt;THIS SOFTWARE IS PROVIDED ``AS IS&apos;&apos; AND ANY EXPRESSED OR IMPLIED&lt;/li&gt;
	&lt;li&gt;WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES&lt;/li&gt;
	&lt;li&gt;OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE&lt;/li&gt;
	&lt;li&gt;DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR&lt;/li&gt;
	&lt;li&gt;ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,&lt;/li&gt;
	&lt;li&gt;SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT&lt;/li&gt;
	&lt;li&gt;LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF&lt;/li&gt;
	&lt;li&gt;USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND&lt;/li&gt;
	&lt;li&gt;ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,&lt;/li&gt;
	&lt;li&gt;OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT&lt;/li&gt;
	&lt;li&gt;OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF&lt;/li&gt;
	&lt;li&gt;SUCH DAMAGE.&lt;/li&gt;
	&lt;li&gt;====================================================================&lt;br/&gt;
 *&lt;/li&gt;
	&lt;li&gt;This software consists of voluntary contributions made by many&lt;/li&gt;
	&lt;li&gt;individuals on behalf of the Apache Software Foundation.  For more&lt;/li&gt;
	&lt;li&gt;information on the Apache Software Foundation, please see&lt;/li&gt;
	&lt;li&gt;.&lt;br/&gt;
 */&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12397292">SLING-494</key>
            <summary>Clarify tm-extractors license</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Mon, 2 Jun 2008 14:40:37 +0000</created>
                <updated>Tue, 3 Jun 2008 08:39:00 +0000</updated>
                            <resolved>Tue, 3 Jun 2008 08:39:00 +0000</resolved>
                                                    <fixVersion>3</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12601861" author="bdelacretaz" created="Tue, 3 Jun 2008 08:34:01 +0000"  >&lt;p&gt;Ryan Ackley confirmed by email that all releases before 1.0 are covered by the above Apache-like license.&lt;/p&gt;

&lt;p&gt;Additional information provided by Jukka (&lt;a href=&quot;http://markmail.org/message/fpunk7hi7nbis3sr&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://markmail.org/message/fpunk7hi7nbis3sr&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;&amp;gt; The library is available under ALv2 (see &lt;a href=&quot;http://markmail.org/message/nmmyh2rcazhak2nf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://markmail.org/message/nmmyh2rcazhak2nf&lt;/a&gt;), and AFAIK &lt;br/&gt;
&amp;gt; the following is the appropriate attribution notice:&lt;/p&gt;

&lt;p&gt;&amp;gt;   This software contains code written by Ryan Ackley.&lt;br/&gt;
 &amp;gt;  Please go to &lt;a href=&quot;http://www.textmining.org&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.textmining.org&lt;/a&gt; for the latest version.&lt;/p&gt;

&lt;p&gt;&amp;gt; See &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-91&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/TIKA-91&lt;/a&gt; where I traced the origin before.&lt;/p&gt;</comment>
                            <comment id="12601865" author="bdelacretaz" created="Tue, 3 Jun 2008 08:39:00 +0000"  >&lt;p&gt;textmining notice fragment updated in revision 662698, and added a note in the pom where this is used, to make sure we stay on V0.4&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175484</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 23 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ecov:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291985</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-488] Pooled sessions are not reused when workspace is null</title>
                <link>https://issues.apache.org/jira/browse/SLING-488</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I noticed this when looking at the workings of the repository pinger inside AbstractSlingRepository.java:&lt;/p&gt;

&lt;p&gt;When a default workspace is not specified, the repository pinger will use &quot;null&quot; as workspace name and attempt to remove an idle session from the administrative user&apos;s session pool. It will, however, never match an existing session, since (SessionPool.java:782)&lt;/p&gt;

&lt;p&gt;  session.getWorkspace().getName().equals(workSpaceName)&lt;/p&gt;

&lt;p&gt;In other words, the repository pinger will continuously acquire &quot;real&quot; sessions instead of reusing a pooled one.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12397047">SLING-488</key>
            <summary>Pooled sessions are not reused when workspace is null</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="dpfister">Dominique Pfister</reporter>
                        <labels>
                    </labels>
                <created>Thu, 29 May 2008 06:58:14 +0000</created>
                <updated>Fri, 30 May 2008 12:27:12 +0000</updated>
                            <resolved>Fri, 30 May 2008 11:31:44 +0000</resolved>
                                    <version>3</version>
                                    <fixVersion>3</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12601093" author="fmeschbe" created="Fri, 30 May 2008 11:31:09 +0000"  >&lt;p&gt;What is even worth, the pool is filled with sessions while new sessions keep getting acquired.&lt;/p&gt;

&lt;p&gt;I am fixing this by resetting the default workspace setting of the AbstractSlingRepository to the name of the workspace of a session returned upon being called with a null-workspace.&lt;/p&gt;</comment>
                            <comment id="12601094" author="fmeschbe" created="Fri, 30 May 2008 11:31:44 +0000"  >&lt;p&gt;Fixed in Rev. 661655.&lt;/p&gt;

&lt;p&gt;Please close if this is solution is ok for you. Thanks.&lt;/p&gt;</comment>
                            <comment id="12601118" author="dpfister" created="Fri, 30 May 2008 12:27:12 +0000"  >&lt;p&gt;Excellent! I can now see that the SessionPool&apos;s hit counter is growing continuously while the miss counter stays at 0, as expected. Thanks for fixing!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175480</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 23 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ecpj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291988</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-486] Filter chain is not updated when filters are updated</title>
                <link>https://issues.apache.org/jira/browse/SLING-486</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When a bundle containing a servlet filter is updated, the old already disposed instance is still used.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12396978">SLING-486</key>
            <summary>Filter chain is not updated when filters are updated</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Wed, 28 May 2008 12:26:12 +0000</created>
                <updated>Tue, 10 Jun 2008 11:27:46 +0000</updated>
                            <resolved>Tue, 10 Jun 2008 11:27:46 +0000</resolved>
                                    <version>3</version>
                                    <fixVersion>3</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12600460" author="fmeschbe" created="Wed, 28 May 2008 13:00:48 +0000"  >&lt;p&gt;I cannot reproduce this issue. Did you do refreshPackages after the update ? (should be default in the current Web Console and sling plugin)&lt;/p&gt;</comment>
                            <comment id="12600471" author="cziegeler" created="Wed, 28 May 2008 13:29:04 +0000"  >&lt;p&gt;Yes, I did refresh - here are some updates:&lt;br/&gt;
During an update, the old instance is disposed, a new instance is created, activate is called, then the configuration updater kicks in, deactivates the old instance and creates a new one. From this point on, both instances are in the filter chain.&lt;/p&gt;

&lt;p&gt;28.05.2008 15:23:11.552 &lt;b&gt;WARN&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;SCR Component Actor&amp;#93;&lt;/span&gt; com.day.cq.cms.linkchecker.filter.LinkCheckerFilter FILTER: activate com.day.cq.cms.linkchecker.filter.LinkCheckerFilter@e8b496 : org.apache.felix.framework.BundleContextImpl@a6c44f&lt;br/&gt;
28.05.2008 15:23:45.547 &lt;b&gt;WARN&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Background Updatecom.day.cq.cq-linkchecker (65)&amp;#93;&lt;/span&gt; com.day.cq.cms.linkchecker.filter.LinkCheckerFilter FILTER: deactivate com.day.cq.cms.linkchecker.filter.LinkCheckerFilter@e8b496 : null&lt;br/&gt;
28.05.2008 15:23:45.591 &lt;b&gt;WARN&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;SCR Component Actor&amp;#93;&lt;/span&gt; com.day.cq.cms.linkchecker.filter.LinkCheckerFilter FILTER: activate com.day.cq.cms.linkchecker.filter.LinkCheckerFilter@1a1546 : org.apache.felix.framework.BundleContextImpl@6ad043&lt;br/&gt;
28.05.2008 15:23:45.592 &lt;b&gt;WARN&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Configuration Updater&amp;#93;&lt;/span&gt; com.day.cq.cms.linkchecker.filter.LinkCheckerFilter FILTER: deactivate com.day.cq.cms.linkchecker.filter.LinkCheckerFilter@1a1546 : null&lt;br/&gt;
28.05.2008 15:23:45.597 &lt;b&gt;WARN&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;SCR Component Actor&amp;#93;&lt;/span&gt; com.day.cq.cms.linkchecker.filter.LinkCheckerFilter FILTER: activate com.day.cq.cms.linkchecker.filter.LinkCheckerFilter@1734ba : org.apache.felix.framework.BundleContextImpl@6ad043&lt;br/&gt;
28.05.2008 15:24:26.560 &lt;b&gt;WARN&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;http-8080-1&amp;#93;&lt;/span&gt; com.day.cq.cms.linkchecker.filter.LinkCheckerFilter FILTER: filter com.day.cq.cms.linkchecker.filter.LinkCheckerFilter@1a1546 : null&lt;br/&gt;
28.05.2008 15:24:26.562 &lt;b&gt;WARN&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;http-8080-1&amp;#93;&lt;/span&gt; com.day.cq.cms.linkchecker.filter.LinkCheckerFilter FILTER: filter com.day.cq.cms.linkchecker.filter.LinkCheckerFilter@1734ba : org.apache.felix.framework.BundleContextImpl@6ad043&lt;/p&gt;</comment>
                            <comment id="12600475" author="cziegeler" created="Wed, 28 May 2008 13:51:28 +0000"  >&lt;p&gt;Further debugging seems to reveal that this is the same problem as &lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-550&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/FELIX-550&lt;/a&gt;&lt;br/&gt;
Two instances are created and registered, however if the timing is different, for instance during debugging everything works as expected.&lt;/p&gt;</comment>
                            <comment id="12600717" author="cziegeler" created="Thu, 29 May 2008 09:48:58 +0000"  >&lt;p&gt;As this is not a bug in Sling but in Felix I&apos;ll remove it from the 2.0.0 schedule.&lt;/p&gt;</comment>
                            <comment id="12603840" author="cziegeler" created="Tue, 10 Jun 2008 11:27:46 +0000"  >&lt;p&gt;With the upgrade to latest SCR implementation, this is fixed as well.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12395629">FELIX-550</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175478</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 22 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ecpz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291990</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-480] LoginServlet should use POST instead of GET</title>
                <link>https://issues.apache.org/jira/browse/SLING-480</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The httpauth LoginServlet currently uses GET for authentication.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12396852">SLING-480</key>
            <summary>LoginServlet should use POST instead of GET</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Tue, 27 May 2008 07:20:02 +0000</created>
                <updated>Wed, 28 May 2008 11:49:36 +0000</updated>
                            <resolved>Tue, 27 May 2008 07:20:45 +0000</resolved>
                                                    <fixVersion>3</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12600446" author="fmeschbe" created="Wed, 28 May 2008 11:49:36 +0000"  >&lt;p&gt;In Rev. 660909 I changed the LoginServlet to handle the POST servlet sent to it itself to not trigger any other servlets registered for POST, most notably the Sling POST Servlet.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175473</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 24 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ecqn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291993</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-470] ClassLoaderResourceProvider loads from a hardcoded path rather than the one provided to getChildren()</title>
                <link>https://issues.apache.org/jira/browse/SLING-470</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;ClassLoaderResourceProvider.getChildren takes a path parameter but uses a hardcoded Sling.CONFIG_PROPERTIES. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12396623">SLING-470</key>
            <summary>ClassLoaderResourceProvider loads from a hardcoded path rather than the one provided to getChildren()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="niklas">Niklas Therning</reporter>
                        <labels>
                    </labels>
                <created>Thu, 22 May 2008 13:00:16 +0000</created>
                <updated>Thu, 22 May 2008 18:48:01 +0000</updated>
                            <resolved>Thu, 22 May 2008 14:26:08 +0000</resolved>
                                                    <fixVersion>3</fixVersion>
                                    <component>Launchpad</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12599027" author="fmeschbe" created="Thu, 22 May 2008 14:26:08 +0000"  >&lt;p&gt;Thanks for reporting the issue and supplying a path. I applied it in Rev. 659122.&lt;/p&gt;

&lt;p&gt;Please close if this works for you. Thanks.&lt;/p&gt;</comment>
                            <comment id="12599116" author="niklas" created="Thu, 22 May 2008 18:48:01 +0000"  >&lt;p&gt;Perfect, thanks&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12382559" name="SLING-470.patch" size="705" author="niklas" created="Thu, 22 May 2008 13:00:50 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175465</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 24 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i113a7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>214498</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-468] ContainerRequestParameter.getString(String encoding) not working</title>
                <link>https://issues.apache.org/jira/browse/SLING-468</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Using the method&lt;br/&gt;
ContainerRequestParameter.getString(String encoding) does not decode the String.&lt;/p&gt;

&lt;p&gt;When executing a sling page with the url:&lt;br/&gt;
standardportal.html?q=%C3%A4%C3%B6%C3%BC&lt;/p&gt;

&lt;p&gt;then using &lt;br/&gt;
SlingHttpServletRequest.getParameter(&quot;q&quot;).getString(&quot;UTF-8&quot;) &lt;br/&gt;
is not returning &#228;&#246;&#252; but &#195;&#164;&#195;&#182;&#195;&#188;&lt;/p&gt;

&lt;p&gt;but when doing the decode manually&lt;br/&gt;
new String(SlingHttpServletRequest.getParameter(&quot;q&quot;).getString().getBytes(),&quot;UTF-8&quot;)&lt;br/&gt;
is returning &#228;&#246;&#252;.&lt;/p&gt;</description>
                <environment>Windows XP, Java 1.5.0_04</environment>
        <key id="12396502">SLING-468</key>
            <summary>ContainerRequestParameter.getString(String encoding) not working</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="tomroethlisberger">Thomas R&#246;thlisberger</reporter>
                        <labels>
                    </labels>
                <created>Wed, 21 May 2008 14:24:14 +0000</created>
                <updated>Tue, 10 Mar 2009 18:43:26 +0000</updated>
                            <resolved>Tue, 27 May 2008 13:42:52 +0000</resolved>
                                    <version>3</version>
                                    <fixVersion>3</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12599856" author="cziegeler" created="Mon, 26 May 2008 15:23:46 +0000"  >&lt;p&gt;I think we should fix this for the release.&lt;br/&gt;
As far as I can see, it seems to me that the value is decoded twice, once in #get and then in #getString again,&lt;/p&gt;</comment>
                            <comment id="12600053" author="fmeschbe" created="Tue, 27 May 2008 07:30:44 +0000"  >&lt;p&gt;I could not reproduce this behaviour both under Linux and Windows XP.&lt;/p&gt;

&lt;p&gt;Are you sure, you are using the most recent SNAPSHOTs ? (Just a dump question, because I know we once had this issue)&lt;/p&gt;</comment>
                            <comment id="12600125" author="cziegeler" created="Tue, 27 May 2008 13:42:52 +0000"  >&lt;p&gt;I&apos;ve just committed a fix for this - could you please retry and then close this bug?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175463</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 24 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ecrj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291997</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-462] Endless loop in JobEventHandler</title>
                <link>https://issues.apache.org/jira/browse/SLING-462</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;the runInBackground method has an endless loop, when&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;the queue is not empty,&lt;/li&gt;
	&lt;li&gt;the item still exists&lt;/li&gt;
	&lt;li&gt;parallelProcessing is false&lt;/li&gt;
	&lt;li&gt;the processing map already has the topic&lt;/li&gt;
	&lt;li&gt;the eventNode is not locked&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;i don&apos;t know how exactly this state was reached, most probably by a failing JobProcessor.&lt;/p&gt;

&lt;p&gt;note: after the respective nodes are deleted, the endless loop ends &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12396254">SLING-462</key>
            <summary>Endless loop in JobEventHandler</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="tripod">Tobias Bocanegra</reporter>
                        <labels>
                    </labels>
                <created>Sat, 17 May 2008 19:38:46 +0000</created>
                <updated>Sun, 13 Sep 2009 13:14:02 +0000</updated>
                            <resolved>Tue, 27 May 2008 07:18:33 +0000</resolved>
                                    <version>3</version>
                                    <fixVersion>3</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12599577" author="cziegeler" created="Sat, 24 May 2008 11:59:27 +0000"  >&lt;p&gt;Looking at the code, I curently can&apos;t see how this state could be reached.&lt;br/&gt;
Can you turn on debug logging and try to reproduce this state? If something goes wrong there should be an exception in the log.&lt;/p&gt;</comment>
                            <comment id="12599829" author="cziegeler" created="Mon, 26 May 2008 12:24:16 +0000"  >&lt;p&gt;Looking further at the code, I can&apos;t see a problem with the code itself &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
However, it&apos;s true that if a job fails it is rescheduled for ever, if then more than one job is in the pipeline this results in an endless loop.&lt;br/&gt;
I created and implemented &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-477&quot; title=&quot;Limit the number of job retries by default configuration&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-477&quot;&gt;&lt;del&gt;SLING-477&lt;/del&gt;&lt;/a&gt; to set a limit for rescheduling.&lt;/p&gt;
</comment>
                            <comment id="12599922" author="tripod" created="Mon, 26 May 2008 21:46:55 +0000"  >&lt;p&gt;how about adding a nice mechanism for a failing job? i would not mind if a failing job is not dequeued automatically, but without a &apos;sleep-time&apos;, this just kills the CPU &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12600040" author="cziegeler" created="Tue, 27 May 2008 06:36:31 +0000"  >&lt;p&gt;Yes, I agree - however scheduling a failing job forever doesn&apos;t look like a good idea either &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
On the other hand, there is a sleep-time for a failing job which is actually not very effective &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Currently if there&apos;s only one job in the queue, the thread sleeps for a configured time - so if there is one failing job, it doesn&apos;t kill the CPU.&lt;br/&gt;
If there&apos;s more than one failing job, no sleep time is used and these failing jobs are retried in sequence - which then of course kills the CPU - maybe we should add a per job sleep time for retrying.&lt;/p&gt;</comment>
                            <comment id="12600049" author="cziegeler" created="Tue, 27 May 2008 07:18:33 +0000"  >&lt;p&gt;We don&apos;t reschedule a job if it fails with an exception per default now - this should solve the problems.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175458</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 24 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10kfr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>211445</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-460] commons/osgi testAttributes() and testDirectives()  fail under Windows</title>
                <link>https://issues.apache.org/jira/browse/SLING-460</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;In &lt;a href=&quot;http://markmail.org/message/2umcs2tbahereydy&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://markmail.org/message/2umcs2tbahereydy&lt;/a&gt;, Jeremias Maerki reports that those two tests fail under Windows.&lt;/p&gt;

&lt;p&gt;They work for me on macosx 10.5, java 1.5.0_13, svn revision 656970.&lt;/p&gt;</description>
                <environment>Windows XP SP2, Java 1.5.0_14</environment>
        <key id="12396180">SLING-460</key>
            <summary>commons/osgi testAttributes() and testDirectives()  fail under Windows</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Fri, 16 May 2008 08:44:15 +0000</created>
                <updated>Sun, 13 Sep 2009 13:04:12 +0000</updated>
                            <resolved>Fri, 16 May 2008 09:12:28 +0000</resolved>
                                    <version>3</version>
                                    <fixVersion>3</fixVersion>
                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12597394" author="cziegeler" created="Fri, 16 May 2008 09:06:11 +0000"  >&lt;p&gt;The junit test is expecting a specific order of the attributes/directives.&lt;/p&gt;</comment>
                            <comment id="12597398" author="cziegeler" created="Fri, 16 May 2008 09:12:28 +0000"  >&lt;p&gt;The order of the attributes and directives is now preserved.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175456</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 25 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ebrr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291836</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-457] script include problem with selectors</title>
                <link>https://issues.apache.org/jira/browse/SLING-457</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;i have a base resource type /a with a script /a/foo.html.jsp&lt;br/&gt;
then i have a extended resource type /b&lt;/p&gt;

&lt;p&gt;when i have content &quot;/xyz&quot; with resourcetype /b, and a request to &quot;/xyz.foo.html&quot; then it works.&lt;br/&gt;
but when i have an include &amp;lt;sling:include path=&quot;./image.foo.html&quot; resourceType=&quot;b&quot;/&amp;gt; it does not. when i specify the base resource type, it works.&lt;/p&gt;

&lt;p&gt;it seams like the include resolution does not respect the selectors.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12396089">SLING-457</key>
            <summary>script include problem with selectors</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="tripod">Tobias Bocanegra</reporter>
                        <labels>
                    </labels>
                <created>Thu, 15 May 2008 10:59:25 +0000</created>
                <updated>Sun, 13 Sep 2009 13:39:13 +0000</updated>
                            <resolved>Tue, 20 May 2008 11:44:40 +0000</resolved>
                                    <version>3</version>
                                    <fixVersion>3</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12597087" author="fmeschbe" created="Thu, 15 May 2008 11:02:45 +0000"  >&lt;p&gt;Thanks for reporting. I will look into this.&lt;/p&gt;</comment>
                            <comment id="12597390" author="fmeschbe" created="Fri, 16 May 2008 08:53:55 +0000"  >&lt;p&gt;By running the testcases committed in Rev. 656974, I was able to reproduce this issue.&lt;/p&gt;

&lt;p&gt;The problem was, that the SlingRequestDispatcher uses its own ResourceWrapper implementation overwriting the getResourceType() method. But the getResourceSupertType() was not overwritten, which caused the respective method of wrapped resource to be called. That method, though, relies on the original resource type and thus may result in the wrong resource super type returned.&lt;/p&gt;

&lt;p&gt;In Rev. 656972 the resource wrapper implements the getResourceSuperType() method employing the same semantics as used by the JcrItemResource implementation.&lt;/p&gt;

&lt;p&gt;Currently, code is still copied. Will implement a better solution preventing code copying.&lt;/p&gt;

&lt;p&gt;Implemented the fix in Rev. 656972 and committed the test cases in Rev. 656974.&lt;/p&gt;</comment>
                            <comment id="12598259" author="fmeschbe" created="Tue, 20 May 2008 11:44:40 +0000"  >&lt;p&gt;In Rev. 658209 I applied a change to the resource super type resolution. There is now a JcrResourceUtil.getResourceSuperType(Resource) method which is used by the JcrItemResource and the SlingRequestDispatcher.TypeOverwritingResourceWrapper.&lt;/p&gt;

&lt;p&gt;See the JavaDoc of the new method for more details on how resource super type resolution works.&lt;/p&gt;

&lt;p&gt;Tobias, if the functionality now works as you expected, please close this issue. Thanks.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175453</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 25 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ebs7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291838</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-454] in ESP, &lt;%= currentNode.x %&gt; should output a javascript.compatible Date string</title>
                <link>https://issues.apache.org/jira/browse/SLING-454</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;For the autogenerated &quot;created&quot; field, for example, using&lt;/p&gt;

&lt;p&gt;&amp;lt;%= currentNode.created %&amp;gt;&lt;/p&gt;

&lt;p&gt;in an ESP script outputs an ugly toString() dump of the GregorianCalendar object that provides the data.&lt;/p&gt;

&lt;p&gt;This should rather be a string in the javascript Date.toString() format, which is like&lt;/p&gt;

&lt;p&gt;  Mon Jun 25 2007 13:12:59 GMT+0200&lt;/p&gt;

&lt;p&gt;which is what a JST script outputs for the above construct. &lt;/p&gt;
</description>
                <environment></environment>
        <key id="12396023">SLING-454</key>
            <summary>in ESP, &lt;%= currentNode.x %&gt; should output a javascript.compatible Date string</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Wed, 14 May 2008 14:21:01 +0000</created>
                <updated>Thu, 15 May 2008 14:48:49 +0000</updated>
                            <resolved>Thu, 15 May 2008 14:48:49 +0000</resolved>
                                                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12597150" author="bdelacretaz" created="Thu, 15 May 2008 14:48:49 +0000"  >&lt;p&gt;Implemented in revision 656687, the autogenerated &quot;created&quot; property, for example, is now output like:&lt;/p&gt;

&lt;p&gt;  created = Thu May 15 2008 11:47:56 GMT+0200&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175450</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 25 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ebsf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291839</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-445] RequestPathInfo.getResourcePath returns complete path including extension</title>
                <link>https://issues.apache.org/jira/browse/SLING-445</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;It seems that at least in some cases, the RequestPathInfo.getResourcePath() includes the selectors and extensions (which it should omit)&lt;/p&gt;

&lt;p&gt;I have a request to a non existing resource: /a/b.html and getResourcePath() returns &quot;/a/b.html&quot;&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12395903">SLING-445</key>
            <summary>RequestPathInfo.getResourcePath returns complete path including extension</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Tue, 13 May 2008 09:30:12 +0000</created>
                <updated>Tue, 13 May 2008 09:49:11 +0000</updated>
                            <resolved>Tue, 13 May 2008 09:49:11 +0000</resolved>
                                    <version>3</version>
                                    <fixVersion>3</fixVersion>
                                    <component>API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12596340" author="cziegeler" created="Tue, 13 May 2008 09:49:11 +0000"  >&lt;p&gt;The current behaviour is correct as this is a non existing resource, so it is unclear what makes up the selectors or extensions.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175443</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 26 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ebuf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291848</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-443] OutOfMemory Error while building the jcr/jackrabbit-server bundle</title>
                <link>https://issues.apache.org/jira/browse/SLING-443</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Reported on &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;, the full build of Sling causes an OutOfMemoryError while building the jcr/jackrabbit-server bundle. This is most probably the result of implementing &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-437&quot; title=&quot;Merge jackrabbit-text-extractor bundle into jackrabbit-server&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-437&quot;&gt;&lt;del&gt;SLING-437&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;A fix must be found for this issue to circumvent this.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://markmail.org/message/gdn7jtlrdjcepngg&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://markmail.org/message/gdn7jtlrdjcepngg&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12395886">SLING-443</key>
            <summary>OutOfMemory Error while building the jcr/jackrabbit-server bundle</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Tue, 13 May 2008 07:14:35 +0000</created>
                <updated>Mon, 23 Mar 2015 12:46:18 +0000</updated>
                            <resolved>Mon, 23 Mar 2015 12:46:18 +0000</resolved>
                                                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12596309" author="fmeschbe" created="Tue, 13 May 2008 07:15:36 +0000"  >&lt;p&gt;One possible solution would be to not use the maven-bundle-plugin any more - just for this single bundle. But of course, this would be kind of a last resort because it would mean hand-coding the complete manifest ...&lt;/p&gt;</comment>
                            <comment id="12598292" author="fmeschbe" created="Tue, 20 May 2008 13:21:34 +0000"  >&lt;p&gt;I don&apos;t think we really need this for the initial release because there is a known workaround and the issue is only important for the full reactor build.&lt;/p&gt;</comment>
                            <comment id="12599046" author="bdelacretaz" created="Thu, 22 May 2008 15:14:42 +0000"  >&lt;p&gt;See &quot;Increase JVM memory if needed&quot; in &lt;a href=&quot;http://incubator.apache.org/sling/site/maventipsandtricks.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://incubator.apache.org/sling/site/maventipsandtricks.html&lt;/a&gt; for a workaround&lt;/p&gt;</comment>
                            <comment id="12599049" author="bdelacretaz" created="Thu, 22 May 2008 15:21:56 +0000"  >&lt;p&gt;In revision 659132, added a message that says&lt;/p&gt;

&lt;p&gt;     &lt;span class=&quot;error&quot;&gt;&amp;#91;echo&amp;#93;&lt;/span&gt; ********************** WARNING (&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-443&quot; title=&quot;OutOfMemory Error while building the jcr/jackrabbit-server bundle&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-443&quot;&gt;&lt;del&gt;SLING-443&lt;/del&gt;&lt;/a&gt;) **********************************&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;echo&amp;#93;&lt;/span&gt; On most platforms, building Sling currently requires setting &lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;echo&amp;#93;&lt;/span&gt; MAVEN_OPTS=&quot;-Xmx256M&quot;, see &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-443&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SLING-443&lt;/a&gt;&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;echo&amp;#93;&lt;/span&gt; You might get a &quot;java.lang.OutOfMemoryError: Java heap space&quot; if that&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;echo&amp;#93;&lt;/span&gt; setting is not correct.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;echo&amp;#93;&lt;/span&gt; *****************************************************************************&lt;/p&gt;

&lt;p&gt;at the beginning of each build&lt;/p&gt;</comment>
                            <comment id="12651756" author="olaf.fricke@hansemerkur.de" created="Sat, 29 Nov 2008 21:26:35 +0000"  >&lt;p&gt;Hello,&lt;/p&gt;

&lt;p&gt;I got an OutOfMemoryError, although I already had defined MAVEN_OPTS set to &quot;-Xms256m -Xmx521m&quot;. The reason for that was not the heap space, but the perm gen space. Therefore I set the MAVEN_OPTS to &quot;-Xms256m -Xmx521m -XX:MaxPermSize=256m&quot;. With that setting, a full build of sling succeeded on my machine (after changing a lot of POM files, to work aroung &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-555&quot; title=&quot;mvn install on svn checkout fails if sling-3-incubator is not available&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-555&quot;&gt;&lt;del&gt;SLING-555&lt;/del&gt;&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;Best regards,&lt;br/&gt;
Olaf&lt;/p&gt;</comment>
                            <comment id="12828547" author="bdelacretaz" created="Tue, 2 Feb 2010 09:25:42 +0000"  >&lt;p&gt;In revision 905548, changed the warning in the parent pom to&lt;/p&gt;

&lt;p&gt;     &lt;span class=&quot;error&quot;&gt;&amp;#91;echo&amp;#93;&lt;/span&gt; ********************** WARNING (&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-443&quot; title=&quot;OutOfMemory Error while building the jcr/jackrabbit-server bundle&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-443&quot;&gt;&lt;del&gt;SLING-443&lt;/del&gt;&lt;/a&gt;) **********************************&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;echo&amp;#93;&lt;/span&gt; On most platforms, you&apos;ll get OutOfMemoryErrors when building unless you set&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;echo&amp;#93;&lt;/span&gt; MAVEN_OPTS=&quot;-Xmx256M -XX:MaxPermSize=128M&quot;, see &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-443&quot; title=&quot;OutOfMemory Error while building the jcr/jackrabbit-server bundle&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-443&quot;&gt;&lt;del&gt;SLING-443&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;echo&amp;#93;&lt;/span&gt; *****************************************************************************&lt;/p&gt;

&lt;p&gt;Those settings work for me for a full build using java version &quot;1.6.0_17&quot; on macosx 10.6.2.&lt;/p&gt;

&lt;p&gt;JDK 1.5 VMs probably don&apos;t need the MaxPermSize setting.&lt;/p&gt;

&lt;p&gt;Changed the parent pom only, modules which still point to the released pom won&apos;t have this change for now.&lt;/p&gt;</comment>
                            <comment id="14375861" author="rombert" created="Mon, 23 Mar 2015 12:46:18 +0000"  >&lt;p&gt;This looks like it&apos;s been fixed a long time ago, please reopen if still an issue&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12474325">SLING-1782</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36133</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 32 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i032db:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>15817</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-441] Windows Users receiving java.lang.NoClassDefFoundError: org/apache/sling/launcher/webapp/SlingServlet$ServletContextResourceProvider</title>
                <link>https://issues.apache.org/jira/browse/SLING-441</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Windows Users recieve java.lang.NoClassDefFoundError: org/apache/sling/launcher/webapp/SlingServlet$ServletContextResourceProvider&lt;br/&gt;
when running tests.&lt;/p&gt;</description>
                <environment>Windows</environment>
        <key id="12395636">SLING-441</key>
            <summary>Windows Users receiving java.lang.NoClassDefFoundError: org/apache/sling/launcher/webapp/SlingServlet$ServletContextResourceProvider</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="nodenp">Paul Noden</reporter>
                        <labels>
                    </labels>
                <created>Thu, 8 May 2008 16:05:07 +0000</created>
                <updated>Wed, 2 Jul 2008 14:31:55 +0000</updated>
                            <resolved>Wed, 2 Jul 2008 14:31:55 +0000</resolved>
                                                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12595305" author="nodenp" created="Thu, 8 May 2008 16:06:02 +0000"  >&lt;p&gt;console output of failure&lt;/p&gt;</comment>
                            <comment id="12597055" author="cziegeler" created="Thu, 15 May 2008 08:32:11 +0000"  >&lt;p&gt;I just tested the latest from svn on vista with maven 2.0.9 and jdk 1.5.0.13 and everything runs fine.&lt;/p&gt;

&lt;p&gt;Could you please give more information about your environment and recheck with latest from svn?&lt;/p&gt;</comment>
                            <comment id="12598298" author="fmeschbe" created="Tue, 20 May 2008 13:39:30 +0000"  >&lt;p&gt;I cannot reproduce this either in Rev. 658215 with maven 2.0.8, win xp sp2, both Java 1.5 and 6.&lt;/p&gt;</comment>
                            <comment id="12598299" author="fmeschbe" created="Tue, 20 May 2008 13:39:54 +0000"  >&lt;p&gt;Removing from version 2.0.0 because for now, we cannot reproduce.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12381690" name="failure.txt" size="20271" author="nodenp" created="Thu, 8 May 2008 16:06:02 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175440</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 25 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ebuv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291850</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-440] testInfiniteLoopDetection fails in full build with Maven 2.0.9</title>
                <link>https://issues.apache.org/jira/browse/SLING-440</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The IncludeTest.testInfiniteLoopDetection fails (AssertionFailedError: Response contains infinite loop error message) when doing &quot;mvn clean install&quot; from the top of the Sling code tree. &lt;/p&gt;

&lt;p&gt;The same test works with mvn 2.0.7, or when doing &quot;mvn clean install&quot; directly in the launchpad/webapp directory with either mvn version.&lt;/p&gt;


</description>
                <environment>macosx 10.4.11, java version &amp;quot;1.5.0_13&amp;quot;, mvn 2.0.9</environment>
        <key id="12395635">SLING-440</key>
            <summary>testInfiniteLoopDetection fails in full build with Maven 2.0.9</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Thu, 8 May 2008 15:47:16 +0000</created>
                <updated>Fri, 11 Dec 2009 16:15:47 +0000</updated>
                            <resolved>Fri, 11 Dec 2009 16:15:41 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12595339" author="cziegeler" created="Thu, 8 May 2008 17:41:57 +0000"  >&lt;p&gt;This works for me; same environment.&lt;/p&gt;</comment>
                            <comment id="12595343" author="craigching" created="Thu, 8 May 2008 17:54:51 +0000"  >&lt;p&gt;This test fails for me on Windows Vista and XP as well, I use maven 2.0.9 and JRE 1.6.0_04.&lt;/p&gt;</comment>
                            <comment id="12789366" author="cziegeler" created="Fri, 11 Dec 2009 16:15:41 +0000"  >&lt;p&gt;I think we can safely close this bug now&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175439</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 47 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10z8v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>213844</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-436] Eclipse: nested output folders</title>
                <link>https://issues.apache.org/jira/browse/SLING-436</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The project o.a.s.launchpad.webapp can&apos;t be built due to a build path error:&lt;/p&gt;

&lt;p&gt;Cannot nest output folder &apos;org.apache.sling.launchpad.webapp/target/classes/META-INF&apos; inside output folder &apos;org.apache.sling.launchpad.webapp/target/classes&apos;&lt;/p&gt;

&lt;p&gt;I guess this is caused by these conflicting classpath entries:&lt;/p&gt;

&lt;p&gt;  &amp;lt;classpathentry kind=&quot;src&quot; path=&quot;.&quot; output=&quot;target/classes/META-INF&quot; including=&quot;LICENSE*|NOTICE*|DISCLAIMER&quot; excluding=&quot;*&lt;b&gt;/&lt;/b&gt;.java&quot;/&amp;gt;&lt;br/&gt;
  ...&lt;br/&gt;
  &amp;lt;classpathentry kind=&quot;output&quot; path=&quot;target/classes&quot;/&amp;gt;&lt;/p&gt;</description>
                <environment>Eclipse 3.3.2</environment>
        <key id="12395594">SLING-436</key>
            <summary>Eclipse: nested output folders</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="andreas@apache.org">Andreas Hartmann</reporter>
                        <labels>
                    </labels>
                <created>Thu, 8 May 2008 09:05:21 +0000</created>
                <updated>Wed, 22 Sep 2010 13:37:01 +0000</updated>
                            <resolved>Wed, 22 Sep 2010 13:36:18 +0000</resolved>
                                                                    <component>Launchpad</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12913551" author="justinedelson" created="Wed, 22 Sep 2010 13:37:01 +0000"  >&lt;p&gt;this module doesn&apos;t exist anymore&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175435</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 7 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10idr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>211112</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-435] IE7 error when displaying SlingPostServlet result page</title>
                <link>https://issues.apache.org/jira/browse/SLING-435</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When submitting a form that&apos;s handled by the SlingPostServlet, IE7 displays the following error instead of showing the result page:&lt;/p&gt;

&lt;p&gt;Parameter entity must be defined before it is used. Error processing resource&lt;br/&gt;
&apos;http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd...&lt;/p&gt;

&lt;p&gt;%xhtml-prefw-redecl.mod;&lt;br/&gt;
-^&lt;/p&gt;</description>
                <environment>Windows, Internet Explorer 7</environment>
        <key id="12395590">SLING-435</key>
            <summary>IE7 error when displaying SlingPostServlet result page</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Thu, 8 May 2008 07:21:03 +0000</created>
                <updated>Fri, 9 Nov 2018 07:35:00 +0000</updated>
                            <resolved>Fri, 9 Nov 2018 07:34:54 +0000</resolved>
                                                    <fixVersion>Servlets Post 2.1.0</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12595135" author="fmeschbe" created="Thu, 8 May 2008 07:29:22 +0000"  >&lt;p&gt;I am not too much in to the full gory details of DTD syntax. But I have more confidence that the w3c DTD is correct than IE7 interpreting correctly &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;What ever it is, we - the Sling project - can probably not do much about this, right ? Or should we switch to another XHTML DTD version ?&lt;/p&gt;</comment>
                            <comment id="12595139" author="bdelacretaz" created="Thu, 8 May 2008 07:45:51 +0000"  >&lt;p&gt;Removing the DOCTYPE and xhtml namespace declaration in the POST response page causes IE7 to display the page as an XML document, even though it is server as text/html&lt;/p&gt;</comment>
                            <comment id="12595140" author="bdelacretaz" created="Thu, 8 May 2008 07:46:56 +0000"  >&lt;p&gt;On Thu, May 8, 2008 at 9:30 AM, Felix Meschberger (JIRA)&lt;/p&gt;


&lt;p&gt;totally agreed.&lt;/p&gt;


&lt;p&gt;I&apos;m tempted to remove the DOCTYPE for now, and find a cleaner solution&lt;br/&gt;
later on, if needed. Testing some alternatives right now.&lt;/p&gt;

&lt;p&gt;-Bertrand&lt;/p&gt;</comment>
                            <comment id="12595141" author="tripod" created="Thu, 8 May 2008 07:55:24 +0000"  >&lt;p&gt;could it be that the response is not a valid XHTML?&lt;/p&gt;</comment>
                            <comment id="12595143" author="bdelacretaz" created="Thu, 8 May 2008 07:59:50 +0000"  >&lt;p&gt;Note that the Sling response page validates in &lt;a href=&quot;http://validator.w3.org/check&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://validator.w3.org/check&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12595146" author="bdelacretaz" created="Thu, 8 May 2008 08:05:22 +0000"  >&lt;p&gt;Removed the DOCTYPE and other xhtml stuff from the response in revision 654442, until we have a better solution.&lt;/p&gt;

&lt;p&gt;POST response now works with IE7&lt;/p&gt;</comment>
                            <comment id="16680990" author="cziegeler" created="Fri, 9 Nov 2018 07:34:54 +0000"  >&lt;p&gt;This seems to be fixed&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36134</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 50 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i032dj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>15818</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-433] DefaultSlingScript should only set currentNode property if not null</title>
                <link>https://issues.apache.org/jira/browse/SLING-433</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The DefaultSlingScript.verifySlingBindings sets the currentNode property to the resource adapted to a Node. This may be null in case the resource is not node-based. In such situations the currentNode property should not be set.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12395547">SLING-433</key>
            <summary>DefaultSlingScript should only set currentNode property if not null</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Wed, 7 May 2008 18:42:18 +0000</created>
                <updated>Wed, 7 May 2008 18:43:22 +0000</updated>
                            <resolved>Wed, 7 May 2008 18:43:22 +0000</resolved>
                                                    <fixVersion>3</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12594997" author="fmeschbe" created="Wed, 7 May 2008 18:43:22 +0000"  >&lt;p&gt;Fixed in Rev. 654204&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175433</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 27 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1135z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>214479</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-432] Metatype descriptor for SlingAuthenticator inconsistent with actual default value</title>
                <link>https://issues.apache.org/jira/browse/SLING-432</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The Metatype descriptor defines the default value for the auth.anonymous parameter to be &quot;false&quot;, which the actual default value in the SlingAuthenticator class is defined as &quot;true&quot;. This is inconsistent and causes confusion when comparing the displayed default configuration in the Sling Console Configuration screen to the actual behaviour.&lt;/p&gt;

&lt;p&gt;The fix is to use the recently added &quot;valueRef&quot; attribute for the @scr.property tag to refer to the constant describing the actual default value.&lt;/p&gt;

&lt;p&gt;The same fix should be applied to the other configuration properties in the SlingAuthenticator class.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12395517">SLING-432</key>
            <summary>Metatype descriptor for SlingAuthenticator inconsistent with actual default value</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Wed, 7 May 2008 12:54:41 +0000</created>
                <updated>Wed, 7 May 2008 13:40:29 +0000</updated>
                            <resolved>Wed, 7 May 2008 12:58:52 +0000</resolved>
                                                    <fixVersion>3</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12594899" author="fmeschbe" created="Wed, 7 May 2008 12:58:52 +0000"  >&lt;p&gt;Fixed in Rev. 654086 together with update to the message catalogue used to build the configuration GUI.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12395446">SLING-426</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175432</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 27 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i11347:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>214471</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-431] Unexplained NPE in AbstractSlingRepository.pingAndCheck</title>
                <link>https://issues.apache.org/jira/browse/SLING-431</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I&apos;ve found this trace in the log of my custom launchpad-based Sling webapp:&lt;/p&gt;

&lt;p&gt;Exception in thread &quot;Repository Pinger&quot; java.lang.NullPointerException&lt;br/&gt;
        at org.apache.sling.jcr.base.AbstractSlingRepository.pingAndCheck(AbstractSlingRepository.java:481)&lt;br/&gt;
        at org.apache.sling.jcr.base.AbstractSlingRepository.run(AbstractSlingRepository.java:898)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:613)&lt;/p&gt;

&lt;p&gt;This happened at startup, but only once with many successful startups with the same code and configuration.&lt;/p&gt;

&lt;p&gt;The corresponding code line is the log.log call in &lt;/p&gt;

&lt;p&gt;            } catch(RepositoryException re) &lt;/p&gt;
{
                log.log(LogService.LOG_INFO, &quot;pingAndCheck; loginAdministrative failed&quot;, re);
            }

&lt;p&gt;So the only explanation is that log is null, which is &quot;impossible&quot; looking at the source code: the thread that calls pingAndCheck is created in activate(), which must be called by the OSGi framework after initializing the log member variable:&lt;/p&gt;

&lt;p&gt;     /** @scr.reference bind=&quot;bindLog&quot; unbind=&quot;unbindLog&quot; */&lt;br/&gt;
    private LogService log;&lt;/p&gt;

&lt;p&gt;There is something weird about the log class, in the error log:&lt;/p&gt;

&lt;p&gt;07.05.2008 13:20:39.574 &lt;b&gt;ERROR&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;SCR Component Actor&amp;#93;&lt;/span&gt; org.apache.sling.jcr.jackrabbit.client &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.jcr.jackrabbit.client.SlingClientRepository&amp;#93;&lt;/span&gt; Cannot load class used as parameter org.osgi.service.log.Lo&lt;br/&gt;
gService (java.lang.ClassNotFoundException: org.osgi.service.log.LogService) java.lang.ClassNotFoundException: org.osgi.service.log.LogService&lt;br/&gt;
        at org.apache.felix.framework.Felix.loadBundleClass(Felix.java:1504)&lt;/p&gt;

&lt;p&gt;That happens before the above NPE.&lt;/p&gt;

&lt;p&gt;I won&apos;t investigate further for now, but this looks like a weird timing-related bug.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12395516">SLING-431</key>
            <summary>Unexplained NPE in AbstractSlingRepository.pingAndCheck</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Wed, 7 May 2008 12:42:17 +0000</created>
                <updated>Tue, 21 Jul 2009 10:22:47 +0000</updated>
                            <resolved>Wed, 7 May 2008 13:46:40 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12594895" author="bdelacretaz" created="Wed, 7 May 2008 12:43:21 +0000"  >&lt;p&gt;Note that things worked fine after stopping and restarting the repository client bundle.&lt;/p&gt;</comment>
                            <comment id="12594904" author="cziegeler" created="Wed, 7 May 2008 13:12:02 +0000"  >&lt;p&gt;I experienced the same strange log entry about the ClassNotFoundException. The reason was that my repository client bundle did not have an import for org.osgi.service.log. This &lt;b&gt;should&lt;/b&gt; be generated by the maven plugin, but for some strange reasons it did not. Even more strange: the app did run without any problems.&lt;br/&gt;
So have a look if this import is in the client bundle; if not it should be added.&lt;/p&gt;</comment>
                            <comment id="12594909" author="bdelacretaz" created="Wed, 7 May 2008 13:46:40 +0000"  >&lt;p&gt;Thanks for the pointer, I have added the org.osgi.service.log Import-Package to the jcr.jackrabbit.client bundle and that got rid of the ClassNotFoundException.&lt;/p&gt;

&lt;p&gt;Closing this as &quot;cannot reproduce&quot; for now, I&apos;ll reopen it if I see the problem again.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175431</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 27 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ebvb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291852</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-426] Sling client library tests: Allow Anonymous Access configuration on Authentication Filter does not take effect.</title>
                <link>https://issues.apache.org/jira/browse/SLING-426</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;In the latest version I found that checking the Allow Anonymous Access configuration on Authentication Filter does not take effect.&lt;/p&gt;

&lt;p&gt;Changing the anonymous user/password for the Embedded JCR Repository to admin:admin was the only way I got the Sling client library tests&lt;/p&gt;</description>
                <environment>Windows</environment>
        <key id="12395446">SLING-426</key>
            <summary>Sling client library tests: Allow Anonymous Access configuration on Authentication Filter does not take effect.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="nodenp">Paul Noden</reporter>
                        <labels>
                    </labels>
                <created>Tue, 6 May 2008 17:35:25 +0000</created>
                <updated>Wed, 7 May 2008 13:40:29 +0000</updated>
                            <resolved>Wed, 7 May 2008 13:40:00 +0000</resolved>
                                                    <fixVersion>3</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12594907" author="fmeschbe" created="Wed, 7 May 2008 13:39:35 +0000"  >&lt;p&gt;There was a bug in the configuration definition for the Authenticator (see &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-432&quot; title=&quot;Metatype descriptor for SlingAuthenticator inconsistent with actual default value&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-432&quot;&gt;&lt;del&gt;SLING-432&lt;/del&gt;&lt;/a&gt;), which might cause confusion:&lt;/p&gt;

&lt;p&gt;The actual default value for &quot;Allow Anonymous Access&quot; is &quot;true&quot;. The default value for this setting as displayed in the Configuration Admin Screen is &quot;false&quot; though.&lt;/p&gt;

&lt;p&gt;So if you were instructed to go to the configuration screen to switch the thing off, you were thinking, &quot;hey, this is already switched off, what is going on....&quot;.&lt;/p&gt;

&lt;p&gt;Your short-term fix would be to just press &quot;Save&quot; here to store what is displayed. This really switches anonymous access off.&lt;/p&gt;

&lt;p&gt;The discrepancy between actual and displayed default value has been fixed as per &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-432&quot; title=&quot;Metatype descriptor for SlingAuthenticator inconsistent with actual default value&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-432&quot;&gt;&lt;del&gt;SLING-432&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Thanks for reporting.&lt;/p&gt;</comment>
                            <comment id="12594908" author="fmeschbe" created="Wed, 7 May 2008 13:40:00 +0000"  >&lt;p&gt;Closing this as a duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-432&quot; title=&quot;Metatype descriptor for SlingAuthenticator inconsistent with actual default value&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-432&quot;&gt;&lt;del&gt;SLING-432&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12395517">SLING-432</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175427</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 27 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ebvz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291855</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-425] SlingLogFileWriter fails three test cases</title>
                <link>https://issues.apache.org/jira/browse/SLING-425</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The test for SlingLogFileWriter failed in the three test cases in SlingLogFileWriterTest where assertTrue(test.exists() &amp;amp;&amp;amp; test.length() &amp;gt; 0) is made. I took the liberty of commenting out from this line to the end of each test case and found that all the other tests  in the build process on windows still reported successful - with the exception of the tests run once sling has started up, all of which fail  with &quot;Sling services not available.&quot;- I&apos;m hoping this is a consequence of these logging issues.&lt;/p&gt;</description>
                <environment>Windows</environment>
        <key id="12395445">SLING-425</key>
            <summary>SlingLogFileWriter fails three test cases</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="nodenp">Paul Noden</reporter>
                        <labels>
                    </labels>
                <created>Tue, 6 May 2008 17:21:49 +0000</created>
                <updated>Tue, 21 Jul 2009 10:22:47 +0000</updated>
                            <resolved>Thu, 8 May 2008 12:16:33 +0000</resolved>
                                                    <fixVersion>3</fixVersion>
                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12594672" author="fmeschbe" created="Tue, 6 May 2008 18:35:08 +0000"  >&lt;p&gt;Thanks for reporting. Will look into this.&lt;/p&gt;</comment>
                            <comment id="12594720" author="fmeschbe" created="Tue, 6 May 2008 21:56:13 +0000"  >&lt;p&gt;I can reproduce this test failure on windows - does not happen on my linux box.&lt;/p&gt;</comment>
                            <comment id="12594922" author="nodenp" created="Wed, 7 May 2008 14:32:20 +0000"  >&lt;p&gt;Attached SlingLogFileWriterTest.java. The tests which fail on windows are indicated with // TODO: TEST FAILURE: &lt;/p&gt;</comment>
                            <comment id="12595166" author="cziegeler" created="Thu, 8 May 2008 09:25:08 +0000"  >&lt;p&gt;This should be fixed for the first release&lt;/p&gt;</comment>
                            <comment id="12595202" author="bdelacretaz" created="Thu, 8 May 2008 12:16:33 +0000"  >&lt;p&gt;Fixed in revision 654502 - the problem was using the same base log file for several tests, now they all use their own unique base file.&lt;/p&gt;

&lt;p&gt;Thanks very much for reporting - please cross-check and close this issue if ok.&lt;/p&gt;</comment>
                            <comment id="12595274" author="nodenp" created="Thu, 8 May 2008 14:52:46 +0000"  >&lt;p&gt;Sorry, but the tests for all three rotate tests still failed.&lt;/p&gt;

&lt;p&gt;I checked the contents of the log files and they seemed accurate, so I turned on the exception logging.&lt;/p&gt;

&lt;p&gt;I commented out assertTrue(test.length() &amp;gt; 0); out in all three tests and tried again : failed&lt;br/&gt;
I additionally commented out assertTrue(test0.exists()); for the rotate 0 and 1 tests and tried again : failed&lt;br/&gt;
I additionally commented out assertTrue(test1.exists()); for the rotate1 tests : success (same org.apache.sling.launchpad.webapp.integrationtest errors due to wait expired - talked to bertrand and may be raising a new jira for these, depending on some environment improvements i&apos;ve made - which might lead to some hints and tips for building with maven )&lt;/p&gt;</comment>
                            <comment id="12595278" author="bdelacretaz" created="Thu, 8 May 2008 14:57:50 +0000"  >&lt;p&gt;Unassigning - I won&apos;t work on this right now.&lt;/p&gt;

&lt;p&gt;I&apos;m wondering if the way log files are rotated causes issues with the way Windows caches filesystem info, so that tests see stale information about the rotated files.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12381600" name="SlingLogFileWriterTest.java" size="6071" author="nodenp" created="Wed, 7 May 2008 14:32:20 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175426</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 26 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ebw7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291856</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-423] TimedJobHandler: error is thrown while executing timed job</title>
                <link>https://issues.apache.org/jira/browse/SLING-423</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;the eventing resp. event processing works but the post processing (cleaning up) the persisted event (node) fails:&lt;br/&gt;
1. the timedjobhandler creates a node of type slingevent:TimedEvent. the node name got created by cancatenating the topicId and the jobid.&lt;br/&gt;
2. the event handler executes the job abnd loads the persisted node(for deletion)  and creates a slightly different jobid which is then used to retrieve the node. this fails with the following stacktrace:&lt;br/&gt;
05.05.2008 16:38:15.540 &lt;b&gt;ERROR&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;pool-1-thread-3&amp;#93;&lt;/span&gt; org.apache.sling.event.impl.TimedJobHandler Unable to create a session. javax.jcr.RepositoryException: failed to resolve path TimedEvent: com/day/cq/workflow/timeout/job::/home/groups/a/administrators/workflow-inbox/node3_etc_workflow_instances_2008-05-05_testli_2285454820460019 relative to /var/eventing/timed-jobs: &apos;TimedEvent: com/day/cq/workflow/timeout/job::/home/groups/a/administrators/workflow-inbox/node3_etc_workflow_instances_2008-05-05_testli_2285454820460019&apos; is not a valid path. &apos; &apos; not valid name start: &apos;TimedEvent: com/day/cq/workflow/timeout/job::/home/groups/a/administrators/workflow-inbox/node3_etc_workflow_instances_2008-05-05_testli_2285454820460019&apos; is not a valid path. &apos; &apos; not valid name start&lt;br/&gt;
	at org.apache.jackrabbit.core.NodeImpl.resolveRelativeNodePath(NodeImpl.java:237)&lt;br/&gt;
	at org.apache.jackrabbit.core.NodeImpl.hasNode(NodeImpl.java:2563)&lt;br/&gt;
	at org.apache.sling.event.impl.TimedJobHandler.execute(TimedJobHandler.java:469)&lt;br/&gt;
	at org.apache.sling.scheduler.impl.QuartzJobExecutor.execute(QuartzJobExecutor.java:66)&lt;br/&gt;
	at org.quartz.core.JobRunShell.run(JobRunShell.java:203)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)&lt;br/&gt;
	at java.lang.Thread.run(Unknown Source)&lt;br/&gt;
Caused by: org.apache.jackrabbit.spi.commons.conversion.MalformedPathException: &apos;TimedEvent: com/day/cq/workflow/timeout/job::/home/groups/a/administrators/workflow-inbox/node3_etc_workflow_instances_2008-05-05_testli_2285454820460019&apos; is not a valid path. &apos; &apos; not valid name start&lt;br/&gt;
	at org.apache.jackrabbit.spi.commons.conversion.PathParser.parse(PathParser.java:223)&lt;br/&gt;
	at org.apache.jackrabbit.spi.commons.conversion.PathParser.parse(PathParser.java:57)&lt;br/&gt;
	at org.apache.jackrabbit.spi.commons.conversion.ParsingPathResolver.getQPath(ParsingPathResolver.java:60)&lt;br/&gt;
	at org.apache.jackrabbit.spi.commons.conversion.CachingPathResolver.getQPath(CachingPathResolver.java:77)&lt;br/&gt;
	at org.apache.jackrabbit.spi.commons.conversion.DefaultNamePathResolver.getQPath(DefaultNamePathResolver.java:69)&lt;br/&gt;
	at org.apache.jackrabbit.core.SessionImpl.getQPath(SessionImpl.java:649)&lt;br/&gt;
	at org.apache.jackrabbit.core.NodeImpl.resolveRelativeNodePath(NodeImpl.java:209)&lt;br/&gt;
	... 7 more&lt;br/&gt;
org.apache.jackrabbit.spi.commons.conversion.MalformedPathException: &apos;TimedEvent: com/day/cq/workflow/timeout/job::/home/groups/a/administrators/workflow-inbox/node3_etc_workflow_instances_2008-05-05_testli_2285454820460019&apos; is not a valid path. &apos; &apos; not valid name start&lt;br/&gt;
	at org.apache.jackrabbit.spi.commons.conversion.PathParser.parse(PathParser.java:223)&lt;br/&gt;
	at org.apache.jackrabbit.spi.commons.conversion.PathParser.parse(PathParser.java:57)&lt;br/&gt;
	at org.apache.jackrabbit.spi.commons.conversion.ParsingPathResolver.getQPath(ParsingPathResolver.java:60)&lt;br/&gt;
	at org.apache.jackrabbit.spi.commons.conversion.CachingPathResolver.getQPath(CachingPathResolver.java:77)&lt;br/&gt;
	at org.apache.jackrabbit.spi.commons.conversion.DefaultNamePathResolver.getQPath(DefaultNamePathResolver.java:69)&lt;br/&gt;
	at org.apache.jackrabbit.core.SessionImpl.getQPath(SessionImpl.java:649)&lt;br/&gt;
	at org.apache.jackrabbit.core.NodeImpl.resolveRelativeNodePath(NodeImpl.java:209)&lt;br/&gt;
	at org.apache.jackrabbit.core.NodeImpl.hasNode(NodeImpl.java:2563)&lt;br/&gt;
	at org.apache.sling.event.impl.TimedJobHandler.execute(TimedJobHandler.java:469)&lt;br/&gt;
	at org.apache.sling.scheduler.impl.QuartzJobExecutor.execute(QuartzJobExecutor.java:66)&lt;br/&gt;
	at org.quartz.core.JobRunShell.run(JobRunShell.java:203)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)&lt;br/&gt;
	at java.lang.Thread.run(Unknown Source)&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12395325">SLING-423</key>
            <summary>TimedJobHandler: error is thrown while executing timed job</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="pkoch">Philipp Koch</reporter>
                        <labels>
                    </labels>
                <created>Mon, 5 May 2008 14:53:28 +0000</created>
                <updated>Sun, 13 Sep 2009 13:13:57 +0000</updated>
                            <resolved>Tue, 6 May 2008 07:42:56 +0000</resolved>
                                                    <fixVersion>3</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                    <workratio workratioPercent="0"/>
                                                                    <timeoriginalestimate seconds="0">0h</timeoriginalestimate>
                            <timeestimate seconds="0">0h</timeestimate>
                                        <comments>
                            <comment id="12594248" author="pkoch" created="Mon, 5 May 2008 14:54:13 +0000"  >&lt;p&gt;Attached a patch that solves the above described problem.&lt;/p&gt;</comment>
                            <comment id="12594501" author="cziegeler" created="Tue, 6 May 2008 07:18:35 +0000"  >&lt;p&gt;I applied a slightly modified version which should have the same behaviour. Can you please cross check and then close this bug?&lt;br/&gt;
Thanks!&lt;/p&gt;</comment>
                            <comment id="12594505" author="pkoch" created="Tue, 6 May 2008 07:42:56 +0000"  >&lt;p&gt;works fine. thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12381430" name="event.patch" size="3693" author="pkoch" created="Mon, 5 May 2008 14:54:13 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175424</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 27 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10zev:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>213871</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-420] Autogenerated node names should not start with a number</title>
                <link>https://issues.apache.org/jira/browse/SLING-420</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Numeric node names are harder to manage in javascript (see &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-329&quot; title=&quot;cannot access node when node name is a number&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-329&quot;&gt;&lt;del&gt;SLING-329&lt;/del&gt;&lt;/a&gt;) - the node names generated by the NodeNameGenerator class should not start with a number.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12395309">SLING-420</key>
            <summary>Autogenerated node names should not start with a number</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Mon, 5 May 2008 12:23:16 +0000</created>
                <updated>Tue, 21 Jul 2009 10:22:47 +0000</updated>
                            <resolved>Mon, 5 May 2008 12:36:11 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12594226" author="bdelacretaz" created="Mon, 5 May 2008 12:36:11 +0000"  >&lt;p&gt;Implemented in revision 653455, an underscore is now prepended to autogenerated node names that would otherwise start with a number&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175421</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 27 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ebwn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291858</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-416] Sling Post Processor should try to create nodes using longest path first</title>
                <link>https://issues.apache.org/jira/browse/SLING-416</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The current deepGetOrCreateNode method implementation starts from the root node to get/create a complete path.&lt;br/&gt;
Assumging that /tmp/a/b is passed into the method, first the root node, then tmp, followed by tmp/a and tmp/a/b is tried to get. Each time such a node is not available it is created.&lt;br/&gt;
This approach has problems when it comes to ACLs; assuming that the current user has only read/write access to a sub tree, this algorithm fails as soon as the root node or the parent node is accessed. Example: user is allowed to read/write to /foo/bar but is neiter allowed to read/write to /foo. In this case as soon as /foo is accessed the processing stops by an exception although the operation is completly legal.&lt;br/&gt;
The algorithm has to be reverted by using longest path match first, like first checking if /tmp/a/b exists, if not if /tmp/a exists and so on. As soon as a node is found, the creation can start in the same order as currently.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12395201">SLING-416</key>
            <summary>Sling Post Processor should try to create nodes using longest path first</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Fri, 2 May 2008 15:13:00 +0000</created>
                <updated>Sun, 13 Sep 2009 13:39:10 +0000</updated>
                            <resolved>Fri, 2 May 2008 16:28:27 +0000</resolved>
                                                    <fixVersion>3</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12593810" author="cziegeler" created="Fri, 2 May 2008 16:28:27 +0000"  >&lt;p&gt;Fixed in 652805&lt;/p&gt;</comment>
                            <comment id="12593830" author="tripod" created="Fri, 2 May 2008 17:52:58 +0000"  >&lt;p&gt;are you sure you fixed this?&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/viewvc?view=rev&amp;amp;revision=652805&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=rev&amp;amp;revision=652805&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;is something different, and&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/viewvc/incubator/sling/trunk/sling/servlets-post/src/main/java/org/apache/sling/servlets/post/impl/SlingPostServlet.java?r1=652786&amp;amp;r2=652804&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc/incubator/sling/trunk/sling/servlets-post/src/main/java/org/apache/sling/servlets/post/impl/SlingPostServlet.java?r1=652786&amp;amp;r2=652804&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;does not fix this issue ?&lt;/p&gt;

&lt;p&gt;btw: i don&apos;t think that this is fixable as suggested, since a lot of internal resolution works by traversing the path. furthermore i don&apos;t think that a user that has only read access to /tmp/a but not to the parent nodes is possible.&lt;/p&gt;</comment>
                            <comment id="12594142" author="cziegeler" created="Mon, 5 May 2008 06:01:16 +0000"  >&lt;p&gt;Hi, this has been fixed in the SlingPostProcessor.&lt;/p&gt;</comment>
                            <comment id="12594169" author="tripod" created="Mon, 5 May 2008 08:06:41 +0000"  >&lt;p&gt;i see, but the SVN comments were mixed up. never mind.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175417</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 27 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ebxb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291861</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-415] Internationalization: if sling:key contains invalid characters, query for resources fails</title>
                <link>https://issues.apache.org/jira/browse/SLING-415</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If a sling:Message with e.g. sling:key = &quot;List of a rootpage&apos;s childpages&quot; is defined, the org.apache.sling.jcr.resource.internal.JcrResourceResolver.queryResources(JcrResourceResolver.java:234) class will fail with a lexical query error due to the apostrophe in this case:&lt;/p&gt;

&lt;p&gt;resulting query:&lt;br/&gt;
//element(&lt;b&gt;,mix:language)&lt;span class=&quot;error&quot;&gt;&amp;#91;@jcr:language=&amp;#39;en_US&amp;#39;&amp;#93;&lt;/span&gt;/&lt;/b&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;@sling:key=&amp;#39;Liste of a rootpage&amp;#39;s childpages&amp;#39;&amp;#93;&lt;/span&gt;/@sling:message&lt;/p&gt;

&lt;p&gt;resulting exception:&lt;/p&gt;

&lt;p&gt;rror while generating JSON componet list org.apache.sling.api.resource.QuerySyntaxException: Lexical error at line 1, column 133.  Encountered: &amp;lt;EOF&amp;gt; after : &quot;\&apos;]/@sling:message return $v&quot;: Lexical error at line 1, column 133.  Encountered: &amp;lt;EOF&amp;gt; after : &quot;\&apos;]/@sling:message return $v&quot;&lt;br/&gt;
	at org.apache.sling.jcr.resource.internal.JcrResourceResolver.queryResources(JcrResourceResolver.java:234)&lt;br/&gt;
	at org.apache.sling.i18n.impl.JcrResourceBundle.loadResource(JcrResourceBundle.java:147)&lt;br/&gt;
	at org.apache.sling.i18n.impl.JcrResourceBundle.handleGetObject(JcrResourceBundle.java:96)&lt;br/&gt;
	at java.util.ResourceBundle.getObject(ResourceBundle.java:319)&lt;br/&gt;
	at java.util.ResourceBundle.getString(ResourceBundle.java:285)&lt;br/&gt;
(...)&lt;/p&gt;

&lt;p&gt;should the natural language approach be the way to go, probably special characters should be allowed (escaped internally).&lt;/p&gt;</description>
                <environment>Darwin 9.2.2 Darwin Kernel Version 9.2.2: Tue Mar  4 21:17:34 PST 2008; root:xnu-1228.4.31~1/RELEASE_I386 i386,&lt;br/&gt;
java version &amp;quot;1.5.0_13&amp;quot;&lt;br/&gt;
Java(TM) 2 Runtime Environment, Standard Edition (build 1.5.0_13-b05-237)&lt;br/&gt;
Java HotSpot(TM) Client VM (build 1.5.0_13-119, mixed mode, sharing)</environment>
        <key id="12395192">SLING-415</key>
            <summary>Internationalization: if sling:key contains invalid characters, query for resources fails</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="dominique.jaeggi">Dominique J&#228;ggi</reporter>
                        <labels>
                    </labels>
                <created>Fri, 2 May 2008 11:52:28 +0000</created>
                <updated>Fri, 15 Oct 2010 12:55:03 +0000</updated>
                            <resolved>Fri, 25 Sep 2009 10:25:33 +0000</resolved>
                                    <version>I18n 2.0.2</version>
                                    <fixVersion>I18n 2.0.2</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12593912" author="fmeschbe" created="Fri, 2 May 2008 22:04:12 +0000"  >&lt;p&gt;No matter, how we define the sling:key to be defined - natural language or some cryptic code - the query must of course escape any special characters ...&lt;/p&gt;

&lt;p&gt;Thanks for reporting.&lt;/p&gt;</comment>
                            <comment id="12593983" author="tripod" created="Sat, 3 May 2008 10:06:42 +0000"  >&lt;p&gt;imo all message entries should be cached on startup and updated via observation. using the search for each&lt;br/&gt;
string output seams to be a lot of overhead.&lt;/p&gt;</comment>
                            <comment id="12759480" author="cziegeler" created="Fri, 25 Sep 2009 10:25:33 +0000"  >&lt;p&gt;This has been fixed some months ago.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175416</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 6 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0rken:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>158950</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-414] Environment properties like sling.id, or sling.home are not available when launchpad is not used.</title>
                <link>https://issues.apache.org/jira/browse/SLING-414</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The Sling core defines some environment properties like sling.id or sling.home; these props are set by the Sling class from the launchpad.&lt;br/&gt;
However if you deploy Sling as bundles in a running OSGi container, these props are not available which might cause some bundles to fail.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12395188">SLING-414</key>
            <summary>Environment properties like sling.id, or sling.home are not available when launchpad is not used.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Fri, 2 May 2008 10:00:07 +0000</created>
                <updated>Fri, 16 May 2008 11:37:34 +0000</updated>
                            <resolved>Fri, 16 May 2008 11:37:34 +0000</resolved>
                                    <version>3</version>
                                    <fixVersion>3</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12595582" author="cziegeler" created="Fri, 9 May 2008 12:44:25 +0000"  >&lt;p&gt;One of the main goals of Sling should be to run in any OSGi container. As we have to find a way of providing these values independent from the used container, this might come with api changes, therefore setting this to be fixed for 2.0.0&lt;/p&gt;</comment>
                            <comment id="12597406" author="cziegeler" created="Fri, 16 May 2008 09:37:46 +0000"  >&lt;p&gt;The sling.home variable makes only sense if the sling launchpad is used.&lt;/p&gt;

&lt;p&gt;The best way is to provide an own service for the sling.id&lt;/p&gt;</comment>
                            <comment id="12597428" author="cziegeler" created="Fri, 16 May 2008 11:37:34 +0000"  >&lt;p&gt;Added new SlingSettingsService in the engine module which creates the sling.id; removed the sling.id generation from the launchpad.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175415</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 25 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10x93:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>213521</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-413] Unloading initial content during bundle update fails with NPE and subsequent locked bundle content node</title>
                <link>https://issues.apache.org/jira/browse/SLING-413</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;when deploying a bundle using the maven-sling-plugin to a running sling instance the following errors produce themselves should the bundle contain initial content:&lt;/p&gt;

&lt;p&gt;02.05.2008 11:52:07.237 &lt;b&gt;ERROR&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Background Update com.mycompany.mybundle (77)&amp;#93;&lt;/span&gt; org.apache.sling.jcr.contentloader.internal.ContentLoaderService bundleChanged: Problem unloading initial content of bundle com.mycompany.mybundle (77) java.lang.NullPointerException&lt;br/&gt;
	at org.apache.sling.jcr.contentloader.internal.ContentLoaderService.contentIsUninstalled(ContentLoaderService.java:320)&lt;br/&gt;
	at org.apache.sling.jcr.contentloader.internal.Loader.unregisterBundle(Loader.java:193)&lt;br/&gt;
	at org.apache.sling.jcr.contentloader.internal.ContentLoaderService.bundleChanged(ContentLoaderService.java:134)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.invokeBundleListenerCallback(EventDispatcher.java:690)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.fireEventImmediately(EventDispatcher.java:619)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.fireBundleEvent(EventDispatcher.java:532)&lt;br/&gt;
	at org.apache.felix.framework.Felix.fireBundleEvent(Felix.java:3568)&lt;br/&gt;
	at org.apache.felix.framework.Felix._stopBundle(Felix.java:2010)&lt;br/&gt;
	at org.apache.felix.framework.Felix.stopBundle(Felix.java:1920)&lt;br/&gt;
	at org.apache.felix.framework.Felix._updateBundle(Felix.java:1757)&lt;br/&gt;
	at org.apache.felix.framework.Felix.updateBundle(Felix.java:1719)&lt;br/&gt;
	at org.apache.felix.framework.BundleImpl.update(BundleImpl.java:372)&lt;br/&gt;
	at org.apache.sling.osgi.console.web.internal.core.InstallAction$2.doRun(InstallAction.java:242)&lt;br/&gt;
	at org.apache.sling.osgi.console.web.internal.core.InstallAction$InstallHelper.run(InstallAction.java:278)&lt;/p&gt;

&lt;p&gt;with a subsequent &quot;pending changes&quot; state of the associated bundle content node:&lt;/p&gt;

&lt;p&gt;02.05.2008 11:52:07.288 &lt;b&gt;ERROR&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Background Update com.mycompany.mybundle (77)&amp;#93;&lt;/span&gt; org.apache.sling.jcr.contentloader.internal.Loader Cannot load initial content for bundle com.mycompany.mybundle : Unable to lock node. Node has pending changes: /var/sling/bundle-content/com.mycompany.mybundle javax.jcr.InvalidItemStateException: Unable to lock node. Node has pending changes: /var/sling/bundle-content/com.mycompany.mybundle&lt;br/&gt;
	at org.apache.jackrabbit.core.NodeImpl.lock(NodeImpl.java:4092)&lt;br/&gt;
	at org.apache.sling.jcr.contentloader.internal.ContentLoaderService.getBundleContentInfo(ContentLoaderService.java:279)&lt;br/&gt;
	at org.apache.sling.jcr.contentloader.internal.Loader.registerBundleInternal(Loader.java:143)&lt;br/&gt;
	at org.apache.sling.jcr.contentloader.internal.Loader.registerBundle(Loader.java:107)&lt;br/&gt;
	at org.apache.sling.jcr.contentloader.internal.ContentLoaderService.bundleChanged(ContentLoaderService.java:123)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.invokeBundleListenerCallback(EventDispatcher.java:690)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.fireEventImmediately(EventDispatcher.java:619)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.fireBundleEvent(EventDispatcher.java:532)&lt;br/&gt;
	at org.apache.felix.framework.Felix.fireBundleEvent(Felix.java:3568)&lt;br/&gt;
	at org.apache.felix.framework.Felix._updateBundle(Felix.java:1848)&lt;br/&gt;
	at org.apache.felix.framework.Felix.updateBundle(Felix.java:1719)&lt;br/&gt;
	at org.apache.felix.framework.BundleImpl.update(BundleImpl.java:372)&lt;br/&gt;
	at org.apache.sling.osgi.console.web.internal.core.InstallAction$2.doRun(InstallAction.java:242)&lt;br/&gt;
	at org.apache.sling.osgi.console.web.internal.core.InstallAction$InstallHelper.run(InstallAction.java:278)&lt;/p&gt;
</description>
                <environment>Darwin 9.2.2 Darwin Kernel Version 9.2.2: Tue Mar  4 21:17:34 PST 2008; root:xnu-1228.4.31~1/RELEASE_I386 i386,&lt;br/&gt;
java version &amp;quot;1.5.0_13&amp;quot;&lt;br/&gt;
Java(TM) 2 Runtime Environment, Standard Edition (build 1.5.0_13-b05-237)&lt;br/&gt;
Java HotSpot(TM) Client VM (build 1.5.0_13-119, mixed mode, sharing)</environment>
        <key id="12395187">SLING-413</key>
            <summary>Unloading initial content during bundle update fails with NPE and subsequent locked bundle content node</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="dominique.jaeggi">Dominique J&#228;ggi</reporter>
                        <labels>
                    </labels>
                <created>Fri, 2 May 2008 09:58:28 +0000</created>
                <updated>Thu, 8 May 2008 09:26:22 +0000</updated>
                            <resolved>Thu, 8 May 2008 09:26:22 +0000</resolved>
                                    <version>3</version>
                                    <fixVersion>3</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12593763" author="dominique.jaeggi" created="Fri, 2 May 2008 12:12:49 +0000"  >&lt;p&gt;it seems that in the ContentLoaderService the bundle context of a bundle installed / updated is null:&lt;/p&gt;

&lt;p&gt;bcNode.setProperty(&quot;content-loaded-by&quot;, bundle.getBundleContext().getProperty(&quot;sling.id&quot;));&lt;/p&gt;

&lt;p&gt;-&amp;gt; bundle.getBundleContext() = null..&lt;/p&gt;

&lt;p&gt;as such the associated bundle-content node is left in a locked state which prevents further content updates.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175414</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 27 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10x9z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>213525</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-412] Inconsistent name handling when importing json stuff</title>
                <link>https://issues.apache.org/jira/browse/SLING-412</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The json importer looks for a property named &quot;name&quot; to use its value for a node name. Only if this is not available, the json object name is used as the node name.&lt;br/&gt;
This is an inconsistent behaviour compared to a default json export. As soon as a node has a &quot;name&quot; property this value is used for the name. So exporting nodes with random name properties and importing same results in different node names.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12395181">SLING-412</key>
            <summary>Inconsistent name handling when importing json stuff</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Fri, 2 May 2008 08:59:18 +0000</created>
                <updated>Sun, 13 Sep 2009 13:04:15 +0000</updated>
                            <resolved>Mon, 5 May 2008 10:16:58 +0000</resolved>
                                                    <fixVersion>3</fixVersion>
                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12593918" author="fmeschbe" created="Fri, 2 May 2008 22:18:45 +0000"  >&lt;p&gt;Do not quite understand this issue. It is true, the the &quot;name&quot; property is used for the top level node. But for any lower level nodes, only the JSON object name is used.&lt;/p&gt;

&lt;p&gt;Probably the selection of the node name for the top level node in the JsonReader.parse method should be modified.&lt;/p&gt;

&lt;p&gt;Maybe this may be fixed in the Loader.createNode(Node, String, URL, boolean) method which actually implements this behaviour for the top level node ?&lt;/p&gt;</comment>
                            <comment id="12594143" author="cziegeler" created="Mon, 5 May 2008 06:04:31 +0000"  >&lt;p&gt;Yes, I think this is what needs to be fixed. Imagine I export node &quot;A&quot; which has a &quot;name&quot; property with value &quot;B&quot;. My json of the export looks like this:&lt;br/&gt;
{&lt;br/&gt;
   &quot;name&quot;:&quot;B&quot;&lt;br/&gt;
}&lt;br/&gt;
Importing this by putting it into a file named &quot;A.json&quot; results in a new node named &quot;B&quot;.&lt;br/&gt;
I think we should use an artifical property which is not allowed as a real property name, like we do in the sling post servlets (where we use &quot;:name&quot;)&lt;/p&gt;</comment>
                            <comment id="12594173" author="fmeschbe" created="Mon, 5 May 2008 08:21:32 +0000"  >&lt;p&gt;I would even consider dropping that &quot;feature&quot;. It dates back to the days where we had the old-style JSON format.&lt;/p&gt;

&lt;p&gt;So, the top level node would &lt;em&gt;always&lt;/em&gt; be named after the file name and &lt;em&gt;never&lt;/em&gt; will a name property (however it that property is named) be used.&lt;/p&gt;</comment>
                            <comment id="12594186" author="cziegeler" created="Mon, 5 May 2008 09:00:45 +0000"  >&lt;p&gt;I&apos;m fine with removing this feature completly as well. There could only be the case, when it is too difficult (not possible) to use the correct file name for the json file; but so far I don&apos;t see this as a problem atm; we can fix this when the problem arises.&lt;/p&gt;</comment>
                            <comment id="12594187" author="bdelacretaz" created="Mon, 5 May 2008 09:03:23 +0000"  >&lt;p&gt;Agree with removing this feature&lt;/p&gt;</comment>
                            <comment id="12594207" author="cziegeler" created="Mon, 5 May 2008 10:16:58 +0000"  >&lt;p&gt;Removed in 653413&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175413</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 27 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ebxj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291862</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-411] Remove Dependency on Sling API from jcr/base module</title>
                <link>https://issues.apache.org/jira/browse/SLING-411</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The jcr/base module has a dependency on the Sling API because the RepositoryAccessor class defines an internal Exception class which extends the SlingException. This exception is only thrown by the RepositoryAccessor.getRepositoryFromURL in case the url parameter is null. This use case is questionable as the existing NullPointerException should be used in these cases.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12395148">SLING-411</key>
            <summary>Remove Dependency on Sling API from jcr/base module</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Thu, 1 May 2008 18:10:28 +0000</created>
                <updated>Thu, 1 May 2008 18:18:10 +0000</updated>
                            <resolved>Thu, 1 May 2008 18:18:10 +0000</resolved>
                                                    <fixVersion>3</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12593600" author="fmeschbe" created="Thu, 1 May 2008 18:18:09 +0000"  >&lt;p&gt;Committed said fix in Rev. 652610.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175412</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 27 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ebxr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291863</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-408] Repository service not registered when using Equinox Declarative Services</title>
                <link>https://issues.apache.org/jira/browse/SLING-408</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;While trying to run the jcr/jackrabbit-server bundle inside Equinox with the Equinox Declarative Services and Configuration Admin implementations, I discovered, that the handling of ComponentFactories is different in the Equinox DS and Apache Felix DS:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Equinox DS seems to expect factory components to be set as immediate=&quot;false&quot;, while Felix DS expects immediate=&quot;true&quot;&lt;/li&gt;
	&lt;li&gt;Equinox DS does not seem to start the services properly&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I am not sure, whether this is actually related to wrong implementation in Felix DS or a bug in Equinox DS. This will have to be investigated.&lt;/p&gt;

&lt;p&gt;Versions used:&lt;br/&gt;
  Equinox DS: org.eclipse.equinox.ds_1.0.0.v20070226.jar&lt;br/&gt;
  Felix DS: 1.0.0&lt;/p&gt;</description>
                <environment></environment>
        <key id="12395073">SLING-408</key>
            <summary>Repository service not registered when using Equinox Declarative Services</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Wed, 30 Apr 2008 13:15:17 +0000</created>
                <updated>Thu, 2 May 2013 02:29:14 +0000</updated>
                            <resolved>Fri, 4 Dec 2009 10:04:47 +0000</resolved>
                                    <version>JCR Jackrabbit Server 2.0.4</version>
                    <version>JCR Jackrabbit Client 2.0.2</version>
                    <version>JCR API 2.0.2</version>
                                    <fixVersion>JCR Jackrabbit Server 2.0.6</fixVersion>
                    <fixVersion> JCR Jackrabbit Client 2.0.4</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12601837" author="fmeschbe" created="Tue, 3 Jun 2008 06:21:58 +0000"  >&lt;p&gt;The Apache Felix Declarative Services and maven-scr-plugin assume wrong default and accepted values for component factories. After fixing these implementations, the Sling jcr/jackrabbit-server and jcr/jackrabbit-client bundles (as well as others using component factories with explicit immediate attribute values must be fixed.&lt;/p&gt;

&lt;p&gt;Component factories not using explicit immediate attribute declarations need not be fixed as default value handling is correct after fixing the issues.&lt;/p&gt;

&lt;p&gt;See &lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-593&quot; title=&quot;Fix handling of immediate attribute of component factories&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-593&quot;&gt;&lt;del&gt;FELIX-593&lt;/del&gt;&lt;/a&gt; for details.&lt;/p&gt;</comment>
                            <comment id="12785845" author="fmeschbe" created="Fri, 4 Dec 2009 09:59:06 +0000"  >&lt;p&gt;The second issue has in fact been another wrong implementation in the Felix DS implementation (see &lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-1416&quot; title=&quot;Wrong factory configuration behaviour&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-1416&quot;&gt;&lt;del&gt;FELIX-1416&lt;/del&gt;&lt;/a&gt;). &lt;/p&gt;</comment>
                            <comment id="12785847" author="fmeschbe" created="Fri, 4 Dec 2009 10:04:47 +0000"  >&lt;p&gt;Finally fixed this in the embedded server (Rev. 887137) and client bundles (Rev. 887138)&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310040">
                    <name>Required</name>
                                            <outwardlinks description="requires">
                                        <issuelink>
            <issuekey id="12431589">FELIX-1416</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12397326">FELIX-593</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175409</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 48 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10znj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>213910</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-407] SlingServerRepository.copyFile may throw NullPointerException</title>
                <link>https://issues.apache.org/jira/browse/SLING-407</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Reported by Joseph Ottinger:&lt;/p&gt;

&lt;p&gt;Okay, so putting in the declarative services gave me another issue, which is an improvement: &lt;/p&gt;


&lt;p&gt;93 &lt;span class=&quot;error&quot;&gt;&amp;#91;Start Level Event Dispatcher&amp;#93;&lt;/span&gt; ERROR org.apache.sling.jcr.jackrabbit.server.Activator - verifyConfiguration: Cannot check or define configuration&lt;br/&gt;
java.lang.NullPointerException&lt;br/&gt;
    at org.apache.sling.jcr.jackrabbit.server.SlingServerRepository.copyFile(SlingServerRepository.java:177)&lt;br/&gt;
    at org.apache.sling.jcr.jackrabbit.server.Activator.initDefaultConfig(Activator.java:185)&lt;br/&gt;
    at org.apache.sling.jcr.jackrabbit.server.Activator.verifyConfiguration(Activator.java:151)&lt;br/&gt;
    at org.apache.sling.jcr.jackrabbit.server.Activator.serviceChanged(Activator.java:112)&lt;br/&gt;
    at org.eclipse.osgi.framework.internal.core.FilteredServiceListener.serviceChanged(FilteredServiceListener.java:94)&lt;br/&gt;
    at org.eclipse.osgi.framework.internal.core.BundleContextImpl.dispatchEvent(BundleContextImpl.java:1224)&lt;br/&gt;
    at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:209)&lt;br/&gt;
    at org.eclipse.osgi.framework.eventmgr.ListenerQueue.dispatchEventSynchronous(ListenerQueue.java:141)&lt;br/&gt;
    at org.eclipse.osgi.framework.internal.core.Framework.publishServiceEventPrivileged(Framework.java:1558)&lt;br/&gt;
    at org.eclipse.osgi.framework.internal.core.Framework.publishServiceEvent(Framework.java:1533)&lt;br/&gt;
    at org.eclipse.osgi.framework.internal.core.ServiceRegistrationImpl.&amp;lt;init&amp;gt;(ServiceRegistrationImpl.java:103)&lt;br/&gt;
    at org.eclipse.osgi.framework.internal.core.BundleContextImpl.createServiceRegistration(BundleContextImpl.java:657)&lt;br/&gt;
    at org.eclipse.osgi.framework.internal.core.BundleContextImpl.registerService(BundleContextImpl.java:609)&lt;br/&gt;
    at org.eclipse.osgi.framework.internal.core.BundleContextImpl.registerService(BundleContextImpl.java:675)&lt;br/&gt;
    at org.eclipse.equinox.internal.cm.Activator.start(Activator.java:53)&lt;br/&gt;
    at org.eclipse.osgi.framework.internal.core.BundleContextImpl$2.run(BundleContextImpl.java:999)&lt;br/&gt;
    at java.security.AccessController.doPrivileged(Native Method)&lt;br/&gt;
    at org.eclipse.osgi.framework.internal.core.BundleContextImpl.startActivator(BundleContextImpl.java:993)&lt;br/&gt;
    at org.eclipse.osgi.framework.internal.core.BundleContextImpl.start(BundleContextImpl.java:974)&lt;br/&gt;
    at org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(BundleHost.java:346)&lt;br/&gt;
    at org.eclipse.osgi.framework.internal.core.AbstractBundle.resume(AbstractBundle.java:355)&lt;br/&gt;
    at org.eclipse.osgi.framework.internal.core.Framework.resumeBundle(Framework.java:1073)&lt;br/&gt;
    at org.eclipse.osgi.framework.internal.core.StartLevelManager.resumeBundles(StartLevelManager.java:632)&lt;br/&gt;
    at org.eclipse.osgi.framework.internal.core.StartLevelManager.incFWSL(StartLevelManager.java:506)&lt;br/&gt;
    at org.eclipse.osgi.framework.internal.core.StartLevelManager.doSetStartLevel(StartLevelManager.java:280)&lt;br/&gt;
    at org.eclipse.osgi.framework.internal.core.StartLevelManager.dispatchEvent(StartLevelManager.java:466)&lt;br/&gt;
    at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:209)&lt;br/&gt;
    at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:319)&lt;/p&gt;

&lt;p&gt;Erm... what file is it trying to copy? Is it looking for a repository.xml? (If so: classpath, I assume?)&lt;/p&gt;


&lt;p&gt;The problem is that the sling.home property is not set and hence the File.getParentFile() may throw a NullPointerException.&lt;/p&gt;

&lt;p&gt;The fix is for the Activator.initConfig() method of jackrabbit-server to check for this situation and try to use the bundle private data area or the current working directory instead.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12395068">SLING-407</key>
            <summary>SlingServerRepository.copyFile may throw NullPointerException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Wed, 30 Apr 2008 12:38:47 +0000</created>
                <updated>Thu, 1 May 2008 19:19:17 +0000</updated>
                            <resolved>Thu, 1 May 2008 19:19:17 +0000</resolved>
                                                    <fixVersion>3</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12593613" author="fmeschbe" created="Thu, 1 May 2008 19:19:17 +0000"  >&lt;p&gt;Fixed in Rev 652632 (and deployed snapshot)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175408</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 27 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10jq7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>211330</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-399] Remove useless launchpad.app bundle from launchpad.webapp</title>
                <link>https://issues.apache.org/jira/browse/SLING-399</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The launchpad.app bundle is not used by the webapp, which only depends on it to get the same list of dependencies.&lt;/p&gt;

&lt;p&gt;Removing the extra bundle will make the webapp 20MB slimmer &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12394987">SLING-399</key>
            <summary>Remove useless launchpad.app bundle from launchpad.webapp</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Tue, 29 Apr 2008 15:34:06 +0000</created>
                <updated>Tue, 21 Jul 2009 10:22:47 +0000</updated>
                            <resolved>Wed, 30 Apr 2008 05:40:35 +0000</resolved>
                                                                    <component>Launchpad</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12593038" author="bdelacretaz" created="Tue, 29 Apr 2008 15:34:46 +0000"  >&lt;p&gt;Will apply this patch when SVN write access is back&lt;/p&gt;</comment>
                            <comment id="12593043" author="cziegeler" created="Tue, 29 Apr 2008 15:54:31 +0000"  >&lt;p&gt;I have a patch for this on my machine as well (together with a number of other patches)&lt;/p&gt;</comment>
                            <comment id="12593233" author="bdelacretaz" created="Wed, 30 Apr 2008 05:40:35 +0000"  >&lt;p&gt;Patch committed in revision 652270&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12381114" name="SLING-399.patch" size="735" author="bdelacretaz" created="Tue, 29 Apr 2008 15:34:46 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175400</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 28 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ebzb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291870</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-396] RepositoryAccessor cannot cast to Repository anymore</title>
                <link>https://issues.apache.org/jira/browse/SLING-396</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;My custom Sling webaapp gets a Repository via JNDI from another webapp, and up to Sling revision 651211 that works fine - I have added jcr.jar to the global libraries of my web container, so that both webapps get the same Repository interface definition and the cast works.&lt;/p&gt;

&lt;p&gt;If I rebuild my app against the current Sling revision 652071, and load the resulting webapp in my web container without changing anything else (without even restarting the web container), the cast of repoObject to Repository in RepositoryAccessor.getRepository() fails:&lt;/p&gt;

&lt;p&gt;  Object repoObject = initialContext.lookup(repositoryName);&lt;br/&gt;
  if (repoObject instanceof Repository) {&lt;/p&gt;

&lt;p&gt;As repoObject is the same in both cases, this seems to be caused by a Sling change that causes the Repository interface to come from a different ClassLoader than before.&lt;/p&gt;


</description>
                <environment></environment>
        <key id="12394969">SLING-396</key>
            <summary>RepositoryAccessor cannot cast to Repository anymore</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Tue, 29 Apr 2008 08:41:20 +0000</created>
                <updated>Tue, 21 Jul 2009 10:22:47 +0000</updated>
                            <resolved>Wed, 30 Apr 2008 05:36:42 +0000</resolved>
                                                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12592987" author="bdelacretaz" created="Tue, 29 Apr 2008 09:13:08 +0000"  >&lt;p&gt;The cause was a missing jcr-client.properties in the launchpad war file, that file has moved to&lt;/p&gt;

&lt;p&gt;  jcrapp/target/classes/WEB-INF/jcr-client.properties&lt;/p&gt;

&lt;p&gt;and needs to be copied under WEB-INF for the bootdelegation to work: that file defines classes (including the jcr Repository interface) that must be loaded from the boot classloader, and it was missing.&lt;/p&gt;

&lt;p&gt;Will apply the patch as soon as svn is writeable again&lt;/p&gt;</comment>
                            <comment id="12593231" author="bdelacretaz" created="Wed, 30 Apr 2008 05:36:42 +0000"  >&lt;p&gt;Patch applied in revision 652267&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12381089" name="SLING-396.patch" size="1448" author="bdelacretaz" created="Tue, 29 Apr 2008 09:13:08 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175398</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 28 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ebzr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291872</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-392] JSON Import: serialization fails with node type denying child nodes even though mixin allows it</title>
                <link>https://issues.apache.org/jira/browse/SLING-392</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;when importing the following JSON file:&lt;/p&gt;

&lt;p&gt;{&lt;br/&gt;
   &quot;jcr:language&quot;:&quot;de&quot;,&lt;br/&gt;
   &quot;jcr:mixinTypes&quot;:[&lt;br/&gt;
      &quot;mix:language&quot;&lt;br/&gt;
           ],&lt;br/&gt;
    &quot;jcr:primaryType&quot;:&quot;nt:unstructured&quot;,&lt;/p&gt;

&lt;p&gt;    &quot;general_yes&quot;:&lt;/p&gt;
{
        &quot;sling:message&quot;:&quot;Ja&quot;,
        &quot;sling:key&quot;:&quot;apps.mycompany.general.yes&quot;,
        &quot;jcr:primaryType&quot;:&quot;sling:messageEntry&quot;
    }
&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;using the sling initial content functionality, an exception is thrown because the mixins don&apos;t seem to be respected:&lt;/p&gt;

&lt;p&gt;23.04.2008 14:47:29.092 &lt;b&gt;ERROR&lt;/b&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Background Updatech.com.mycompany.mymodule (91)&amp;#93;&lt;/span&gt; org.apache.sling.jcr.resource.internal.loader.Loader Cannot load initial content for bundle com.mycompany.mymodule : no definition found in parent node&apos;s node type for new node: no matching child node definition found for {}general_yes javax.jcr.nodetype.ConstraintViolationException: no definition found in parent node&apos;s node type for new node: no matching child node definition found for {}general_yes: no matching child node definition found for {}general_yes&lt;br/&gt;
        at org.apache.jackrabbit.core.NodeImpl.internalAddChildNode(NodeImpl.java:752)&lt;br/&gt;
        at org.apache.jackrabbit.core.NodeImpl.internalAddNode(NodeImpl.java:718)&lt;br/&gt;
        at org.apache.jackrabbit.core.NodeImpl.internalAddNode(NodeImpl.java:665)&lt;br/&gt;
        at org.apache.jackrabbit.core.NodeImpl.addNode(NodeImpl.java:1987)&lt;br/&gt;
        at org.apache.sling.jcr.resource.internal.loader.Loader.createNode(Loader.java:351)&lt;br/&gt;
        at org.apache.sling.jcr.resource.internal.loader.Loader.setupNode(Loader.java:399)&lt;br/&gt;
        at org.apache.sling.jcr.resource.internal.loader.Loader.createNode(Loader.java:355)&lt;br/&gt;
        at org.apache.sling.jcr.resource.internal.loader.Loader.createNode(Loader.java:317)&lt;br/&gt;
        at org.apache.sling.jcr.resource.internal.loader.Loader.install(Loader.java:256)&lt;br/&gt;
        at org.apache.sling.jcr.resource.internal.loader.Loader.install(Loader.java:243)&lt;br/&gt;
        at org.apache.sling.jcr.resource.internal.loader.Loader.install(Loader.java:243)&lt;br/&gt;
        at org.apache.sling.jcr.resource.internal.loader.Loader.install(Loader.java:243)&lt;br/&gt;
        at org.apache.sling.jcr.resource.internal.loader.Loader.install(Loader.java:243)&lt;br/&gt;
        at org.apache.sling.jcr.resource.internal.loader.Loader.install(Loader.java:243)&lt;br/&gt;
        at org.apache.sling.jcr.resource.internal.loader.Loader.installContent(Loader.java:175)&lt;br/&gt;
        at org.apache.sling.jcr.resource.internal.loader.Loader.registerBundleInternal(Loader.java:130)&lt;br/&gt;
        at org.apache.sling.jcr.resource.internal.loader.Loader.registerBundle(Loader.java:107)&lt;br/&gt;
        at org.apache.sling.jcr.resource.internal.ContentLoaderService.bundleChanged(ContentLoaderService.java:103)&lt;br/&gt;
        at org.apache.felix.framework.util.EventDispatcher.invokeBundleListenerCallback(EventDispatcher.java:690)&lt;br/&gt;
        at org.apache.felix.framework.util.EventDispatcher.fireEventImmediately(EventDispatcher.java:619)&lt;br/&gt;
        at org.apache.felix.framework.util.EventDispatcher.fireBundleEvent(EventDispatcher.java:532)&lt;br/&gt;
        at org.apache.felix.framework.Felix.fireBundleEvent(Felix.java:3568)&lt;br/&gt;
        at org.apache.felix.framework.Felix._startBundle(Felix.java:1570)&lt;br/&gt;
        at org.apache.felix.framework.Felix.startBundle(Felix.java:1519)&lt;br/&gt;
        at org.apache.felix.framework.Felix$RefreshHelper.restart(Felix.java:4025)&lt;br/&gt;
        at org.apache.felix.framework.Felix.refreshPackages(Felix.java:3267)&lt;br/&gt;
        at org.apache.felix.framework.Felix._updateBundle(Felix.java:1871)&lt;br/&gt;
        at org.apache.felix.framework.Felix.updateBundle(Felix.java:1719)&lt;br/&gt;
        at org.apache.felix.framework.BundleImpl.update(BundleImpl.java:372)&lt;br/&gt;
        at org.apache.sling.osgi.console.web.internal.core.InstallAction$2.doRun(InstallAction.java:242)&lt;br/&gt;
        at org.apache.sling.osgi.console.web.internal.core.InstallAction$InstallHelper.run(InstallAction.java:278)&lt;br/&gt;
Caused by: javax.jcr.nodetype.ConstraintViolationException: no matching child node definition found for {}general_yes&lt;br/&gt;
        at org.apache.jackrabbit.core.nodetype.EffectiveNodeType.getApplicableChildNodeDef(EffectiveNodeType.java:735)&lt;br/&gt;
        at org.apache.jackrabbit.core.NodeImpl.getApplicableChildNodeDefinition(NodeImpl.java:878)&lt;br/&gt;
        at org.apache.jackrabbit.core.NodeImpl.internalAddChildNode(NodeImpl.java:748)&lt;br/&gt;
        ... 30 more&lt;br/&gt;
javax.jcr.nodetype.ConstraintViolationException: no matching child node definition found for {}general_yes&lt;br/&gt;
        at org.apache.jackrabbit.core.nodetype.EffectiveNodeType.getApplicableChildNodeDef(EffectiveNodeType.java:735)&lt;br/&gt;
        at org.apache.jackrabbit.core.NodeImpl.getApplicableChildNodeDefinition(NodeImpl.java:878)&lt;br/&gt;
        at org.apache.jackrabbit.core.NodeImpl.internalAddChildNode(NodeImpl.java:748)&lt;br/&gt;
        at org.apache.jackrabbit.core.NodeImpl.internalAddNode(NodeImpl.java:718)&lt;br/&gt;
        at org.apache.jackrabbit.core.NodeImpl.internalAddNode(NodeImpl.java:665)&lt;br/&gt;
        at org.apache.jackrabbit.core.NodeImpl.addNode(NodeImpl.java:1987)&lt;br/&gt;
        at org.apache.sling.jcr.resource.internal.loader.Loader.createNode(Loader.java:351)&lt;br/&gt;
        at org.apache.sling.jcr.resource.internal.loader.Loader.setupNode(Loader.java:399)&lt;/p&gt;
</description>
                <environment>Darwin 9.2.2 Darwin Kernel Version 9.2.2: Tue Mar  4 21:17:34 PST 2008; root:xnu-1228.4.31~1/RELEASE_I386 i386&lt;br/&gt;
Java(TM) 2 Runtime Environment, Standard Edition (build 1.5.0_13-b05-237)&lt;br/&gt;
</environment>
        <key id="12394771">SLING-392</key>
            <summary>JSON Import: serialization fails with node type denying child nodes even though mixin allows it</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="dominique.jaeggi">Dominique J&#228;ggi</reporter>
                        <labels>
                    </labels>
                <created>Fri, 25 Apr 2008 08:18:38 +0000</created>
                <updated>Sun, 13 Sep 2009 13:04:14 +0000</updated>
                            <resolved>Fri, 25 Apr 2008 09:53:56 +0000</resolved>
                                    <version>3</version>
                                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12592305" author="dominique.jaeggi" created="Fri, 25 Apr 2008 08:24:25 +0000"  >&lt;p&gt;of course the JSON file shown in the original post should use &quot;nt:folder&quot; as its primary type, not &quot;nt:unstructured&quot; (which is the workaround):&lt;/p&gt;

&lt;p&gt;{ &lt;br/&gt;
   &quot;jcr:language&quot;:&quot;de&quot;, &lt;br/&gt;
   &quot;jcr:mixinTypes&quot;:[ &lt;br/&gt;
      &quot;mix:language&quot; &lt;br/&gt;
           ], &lt;br/&gt;
    &quot;jcr:primaryType&quot;:&quot;nt:folder&quot;, &lt;/p&gt;

&lt;p&gt;    &quot;general_yes&quot;:&lt;/p&gt;
{ 
        &quot;sling:message&quot;:&quot;Ja&quot;, 
        &quot;sling:key&quot;:&quot;apps.mycompany.general.yes&quot;, 
        &quot;jcr:primaryType&quot;:&quot;sling:messageEntry&quot; 
    }
&lt;p&gt; &lt;br/&gt;
} &lt;/p&gt;</comment>
                            <comment id="12592324" author="cziegeler" created="Fri, 25 Apr 2008 09:53:56 +0000"  >&lt;p&gt;Your json is incorrect: you apply the mixin &quot;mix:language&quot;, but this mixin has no definition for a child node &quot;sling:messageEntry&quot;.&lt;br/&gt;
So I guess either your child node name is wrong or you need a different mixin.&lt;/p&gt;</comment>
                            <comment id="12592345" author="fmeschbe" created="Fri, 25 Apr 2008 11:04:19 +0000"  >&lt;p&gt;Two things to note:&lt;/p&gt;

&lt;p&gt;  (1) The node type is &quot;sling:MessageEntry&quot; (note the upper case &quot;M&quot;)&lt;br/&gt;
  (2) Are your node type definitions up to date ? sling:MessageEntry should be nt:hierarchyNode&lt;br/&gt;
        But this only changed recently. Initially sling:MessageEntry was not an nt:hierarchyNode and&lt;br/&gt;
        this failure would be explainable.&lt;/p&gt;</comment>
                            <comment id="12599568" author="dominique.jaeggi" created="Sat, 24 May 2008 10:27:48 +0000"  >&lt;p&gt;thank you for the fix. working as expected.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175395</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 24 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ec0f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291875</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-390] NPE in SlingServletResolver (script == null accessed)</title>
                <link>https://issues.apache.org/jira/browse/SLING-390</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;This warning popped up after I imported the trunk into Eclipse; it&apos;s in SlingServletResolver.findScript() at line 225 ff:&lt;/p&gt;

&lt;p&gt;                SlingScript script = resource.adaptTo(SlingScript.class);&lt;br/&gt;
                if (script == null) {&lt;br/&gt;
                    log.debug(&quot;findScript: Using script {} for {}&quot;,&lt;br/&gt;
                        script.getScriptResource().getPath(), name);&lt;br/&gt;
                    return script;&lt;br/&gt;
                }&lt;/p&gt;

&lt;p&gt;Inside the if block, script will be null, thus script.getScriptResource() will fail with an NPE and also returning script seems wrong here.&lt;/p&gt;

&lt;p&gt;I assume the condition should be if (script != null) instead.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12394615">SLING-390</key>
            <summary>NPE in SlingServletResolver (script == null accessed)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="alexander.klimetschek">Alexander Klimetschek</reporter>
                        <labels>
                    </labels>
                <created>Wed, 23 Apr 2008 14:08:38 +0000</created>
                <updated>Sun, 13 Sep 2009 13:39:11 +0000</updated>
                            <resolved>Mon, 5 May 2008 08:02:01 +0000</resolved>
                                                    <fixVersion>3</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12592339" author="fmeschbe" created="Fri, 25 Apr 2008 10:40:38 +0000"  >&lt;p&gt;Oops, this is probably completely wrong. Thanks for pointing this out.&lt;/p&gt;

&lt;p&gt;Will fix it along with the &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-387&quot; title=&quot;Simplify script paths and names&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-387&quot;&gt;&lt;del&gt;SLING-387&lt;/del&gt;&lt;/a&gt; stuff.&lt;/p&gt;</comment>
                            <comment id="12594167" author="fmeschbe" created="Mon, 5 May 2008 08:02:01 +0000"  >&lt;p&gt;Fixed in Rev. 653340.&lt;/p&gt;

&lt;p&gt;Please close, if this is ok for you. Thanks.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175393</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 27 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10kev:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>211441</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-389] NPE in ScriptableNode.getIds</title>
                <link>https://issues.apache.org/jira/browse/SLING-389</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;This ESP code&lt;/p&gt;

&lt;p&gt;for (var a in currentNode) {}&lt;/p&gt;

&lt;p&gt;Causes &lt;/p&gt;

&lt;p&gt;java.lang.NullPointerException&lt;br/&gt;
	at org.apache.sling.scripting.javascript.wrapper.ScriptableNode.getIds(ScriptableNode.java:360)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12394433">SLING-389</key>
            <summary>NPE in ScriptableNode.getIds</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Mon, 21 Apr 2008 11:42:26 +0000</created>
                <updated>Tue, 21 Jul 2009 10:22:47 +0000</updated>
                            <resolved>Mon, 21 Apr 2008 12:22:55 +0000</resolved>
                                                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12590904" author="bdelacretaz" created="Mon, 21 Apr 2008 12:22:55 +0000"  >&lt;p&gt;Fixed in revision 650124&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175392</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 29 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ec0n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291876</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-387] Simplify script paths and names</title>
                <link>https://issues.apache.org/jira/browse/SLING-387</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;According to the findings in the dev list thread &quot;Simplifying script paths and names?&quot; at &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; I would now like to propose the implementation of this change in script/servlet path resolution:&lt;/p&gt;

&lt;p&gt;Note: This issue talks about scripts. But as servlets are mirrored into the virtual Resource Tree accessible through the ResourceResolver, servlets are treated exactly the same as scripts (or vice-versa actually). So the discussion applies to servlets as well as to scripts.&lt;/p&gt;

&lt;p&gt;(1) Script Location&lt;/p&gt;

&lt;p&gt;Scripts to handle the processing or a resource are looked up in a single location:&lt;/p&gt;

&lt;p&gt;     &lt;/p&gt;
{scriptPathPrefix}/{resourceTypePath}&lt;br/&gt;
&lt;br/&gt;
Where {scriptPathPrefix}
&lt;p&gt; is an absolute path prefix (as per ResourceResolver.getSearchPath()) to get absolute paths and &lt;/p&gt;
{resourceTypePath} is the resource type converted to a path. If the {resourceTypePath}
&lt;p&gt; is actually an absolute path, the &lt;/p&gt;
{scriptPathPrefix}
&lt;p&gt; is not used.&lt;/p&gt;

&lt;p&gt;Example: Given the search path [ &quot;/apps&quot;, &quot;/libs&quot; ] and a resource type of sling:sample, the following locations will be searched for scripts:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;/aps/sling/script&lt;/li&gt;
	&lt;li&gt;/libs/sling/script&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;(2) Within the location(s) found through above mechanism a script is searched whose script name matches the pattern&lt;/p&gt;

&lt;p&gt;     &lt;/p&gt;
{resourceTypeLabel}.{selectorString}.{requestMethod}.{requestExtension}.{scriptExtension}&lt;br/&gt;
&lt;br/&gt;
where the fields have the following meaning:&lt;br/&gt;
&lt;br/&gt;
     {resourceTypeLabel}
&lt;p&gt; - the last segment of the &lt;/p&gt;
{resourceTypePath}
&lt;p&gt; (see above)&lt;br/&gt;
                    This part is required. Only scripts whose name starts with this name are considerd&lt;br/&gt;
     &lt;/p&gt;
{selectorString}
&lt;p&gt; - the selector string as per RequestPathInfo.getSelectorString&lt;br/&gt;
                    This part is optional. The more selectors of the selector string match, the&lt;br/&gt;
                    better.&lt;/p&gt;
     {requestMethod}
&lt;p&gt;                    The request method name. This is optional for GET or HEAD requests&lt;br/&gt;
                    and is required for non-GET/non-HEAD requests&lt;/p&gt;
     {requestExtension}
&lt;p&gt;                    The extension of the request. This is optional.&lt;/p&gt;
     {scriptExtension}
&lt;p&gt;                     The extension indicating the script language. Not used for selecting&lt;br/&gt;
                     the script but for selecting the ScriptEngine. This is of course not existing&lt;br/&gt;
                     for servlets.&lt;/p&gt;


&lt;p&gt;If multiple scripts would apply for a given request, the script with the best match is selected. Generally speaking a match is better if it is more specific. More in detail, a match with more selector matches is better than a match with less selector matches, regardless of any request extension or method name match.&lt;/p&gt;

&lt;p&gt;For example, consider a request to resource /foo/bar.print.a4.html of type sling:sample. Assuming we have the following list of scripts in the correct location:&lt;/p&gt;

&lt;p&gt;   (1) sample.esp&lt;br/&gt;
   (2) sample.GET.esp&lt;br/&gt;
   (3) sample.GET.html.esp&lt;br/&gt;
   (4) sample.html.esp&lt;br/&gt;
   (5) sample.print.esp&lt;br/&gt;
   (6) sample.print.a4.esp&lt;br/&gt;
   (7) sample.print.html.esp&lt;br/&gt;
   (8) sample.print.GET.html.esp&lt;br/&gt;
   (9) sample.print.a4.html.esp&lt;br/&gt;
   (10) sample.print.a4.GET.html.esp&lt;/p&gt;

&lt;p&gt;It would probably be (10) - (9) - (6) - (8) - (7) - (5) - (3) - (4) - (2) - (1). Note that (6) is a better match than (8) because it matches more selectors even though (8) has a method name and extension match where (6) does not.&lt;/p&gt;

&lt;p&gt;If there is a catch, e.g. between print.esp and print.jsp, the first script in the listing would be selected (of course, there should not be a catch...)&lt;/p&gt;



&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://markmail.org/message/odduiwskv7ogdtz2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://markmail.org/message/odduiwskv7ogdtz2&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12394298">SLING-387</key>
            <summary>Simplify script paths and names</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Fri, 18 Apr 2008 11:13:27 +0000</created>
                <updated>Sun, 13 Sep 2009 13:39:16 +0000</updated>
                            <resolved>Thu, 8 May 2008 07:35:32 +0000</resolved>
                                                    <fixVersion>3</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                                                            <comments>
                            <comment id="12590391" author="fmeschbe" created="Fri, 18 Apr 2008 11:15:51 +0000"  >&lt;p&gt;To be clear: This new mechanism replaces the script resolution mechanism of today. As such this change is not backwards compatible and existing applications will have to be adapted.&lt;/p&gt;</comment>
                            <comment id="12590425" author="bdelacretaz" created="Fri, 18 Apr 2008 12:41:21 +0000"  >&lt;p&gt;&amp;gt; Given the search path [ &quot;/apps&quot;, &quot;/libs&quot; ] and a resource type of sling:sample, the following locations will be &lt;br/&gt;
&amp;gt; searched for scripts:&lt;/p&gt;

&lt;p&gt;&amp;gt;     * /aps/sling/script&lt;br/&gt;
&amp;gt;     * /libs/sling/script &lt;/p&gt;

&lt;p&gt;I think this should be&lt;/p&gt;

&lt;p&gt;/apps/sling/sample&lt;br/&gt;
/lib/sling/sample&lt;/p&gt;

&lt;p&gt;And I&apos;m not sure what the initial */ means in your example, I thought the search paths were absolute.&lt;/p&gt;</comment>
                            <comment id="12590431" author="fmeschbe" created="Fri, 18 Apr 2008 12:53:14 +0000"  >&lt;p&gt;the initial &quot;*&quot; in the lines is just a numbering symbol. It has no code significance. And yes, your fixes are correct.&lt;/p&gt;</comment>
                            <comment id="12592393" author="uncled" created="Fri, 25 Apr 2008 14:38:13 +0000"  >&lt;p&gt;i think it is important that this change was originally suggested to&lt;br/&gt;
make the simple cases as simple and intuitive as possible for&lt;br/&gt;
the user of sling and not to come up with something that is really&lt;br/&gt;
easy and consistent to map for the sling implementation.&lt;/p&gt;

&lt;p&gt;let me try to explain with an example:&lt;br/&gt;
as a user of sling i would like to have my app in&lt;br/&gt;
/apps/myapp and lets say i have a node of resourceType&lt;br/&gt;
&quot;myapp/homepage&quot; at &quot;/content/myapp&quot;.&lt;/p&gt;

&lt;p&gt;i would like to to be able to structure my applications as follows:&lt;/p&gt;

&lt;p&gt;(1) /apps/myapp/homepage/hompage.esp (or html.esp or GET.esp)&lt;br/&gt;
(2) /apps/myapp/homepage/edit.esp (or edit.html.esp)&lt;br/&gt;
(3) /apps/myapp/homepage/header/highlight.jpg.esp&lt;br/&gt;
(4) /apps/myapp/homepage/header/selected.jpg.esp&lt;br/&gt;
(5) /apps/myapp/homepage/header/small.jpg.esp&lt;/p&gt;

&lt;p&gt;where&lt;/p&gt;

&lt;p&gt;/content/myapp.html -&amp;gt; (1)&lt;br/&gt;
/content/myapp.edit.html -&amp;gt; (2)&lt;br/&gt;
/content/myapp.header.highlight.jpg -&amp;gt; (3)&lt;br/&gt;
/content/myapp.header.selected.jpg -&amp;gt; (4)&lt;br/&gt;
/content/myapp.header.small.jpg -&amp;gt; (5)&lt;/p&gt;

&lt;p&gt;i think it is important that we avoid unnecessary repetition at any point&lt;br/&gt;
and we would allow for enough flexibility in the /apps directory allow&lt;br/&gt;
the user to come up with something short, distinct and meaningful.&lt;/p&gt;
</comment>
                            <comment id="12593349" author="fmeschbe" created="Wed, 30 Apr 2008 14:56:24 +0000"  >&lt;p&gt;This patch should implemented the latest decision from &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;As soon as SVN gets back up, I will try to check this in.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://markmail.org/message/tksvk4xfwapdpkwo&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://markmail.org/message/tksvk4xfwapdpkwo&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12593357" author="bdelacretaz" created="Wed, 30 Apr 2008 15:38:50 +0000"  >&lt;p&gt;Updated patch that also removes some classes under sling/servlets-get&lt;/p&gt;</comment>
                            <comment id="12593369" author="bdelacretaz" created="Wed, 30 Apr 2008 16:29:05 +0000"  >&lt;p&gt;I haven&apos;t found out how to hook a script to POST with a &quot;delete&quot; selector, tried POST.delete.html.esp and various other options but that didn&apos;t work.&lt;/p&gt;

&lt;p&gt;Looking at the code, I think that might not work at all, and I didn&apos;t find tests related to this.&lt;/p&gt;</comment>
                            <comment id="12593395" author="fmeschbe" created="Wed, 30 Apr 2008 18:23:45 +0000"  >&lt;p&gt;The correct script path would be .../delete/POST.esp&lt;/p&gt;</comment>
                            <comment id="12594160" author="fmeschbe" created="Mon, 5 May 2008 07:27:14 +0000"  >&lt;p&gt;Implemented first step of refactoring in Rev. 653326.&lt;/p&gt;

&lt;p&gt;Remains: Check error handler script/servlet resolution and clean up  unused code.&lt;/p&gt;</comment>
                            <comment id="12594193" author="bdelacretaz" created="Mon, 5 May 2008 09:23:36 +0000"  >&lt;p&gt;Added ScriptSelectionTest in revision 653378, with the testHtmlPostSelectors commented out as it fails.&lt;/p&gt;
</comment>
                            <comment id="12594196" author="fmeschbe" created="Mon, 5 May 2008 09:29:14 +0000"  >&lt;p&gt;Request Selectors are ignored for non-GET/HEAD requests. Hence the POST-related test is expected to fail. This is related to issue (III) in &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; stating that not all request methods are equal.&lt;/p&gt;

&lt;p&gt;Hence, I suggest to for the moment comment out these tests with a comment stating this situation and not implementing that support. Reason for this is, that a resource URL should address the resource (and at most give some hint for a specific representation, such as html or txt) but not include an operation such as delete.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://markmail.org/message/tksvk4xfwapdpkwo&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://markmail.org/message/tksvk4xfwapdpkwo&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12595137" author="fmeschbe" created="Thu, 8 May 2008 07:35:32 +0000"  >&lt;p&gt;In Rev. 654438 finalized implementation of this issue:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Refactored resolution of error handler servlets/scripts to use new mechanism&lt;/li&gt;
	&lt;li&gt;Removed unused methods and classes&lt;/li&gt;
	&lt;li&gt;Renamed helper classes to reflect their functionality&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Closing this issue for now. Errors in the new implementation should be reported in new issues.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12395296">SLING-419</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12381195" name="SLING387.patch" size="145185" author="bdelacretaz" created="Wed, 30 Apr 2008 15:38:49 +0000"/>
                            <attachment id="12381192" name="SLING387.patch" size="141037" author="fmeschbe" created="Wed, 30 Apr 2008 14:56:24 +0000"/>
                    </attachments>
                <subtasks>
                            <subtask id="12395313">SLING-421</subtask>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175391</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 27 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10on3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>212126</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-385] ScriptableNode.remove() method missing</title>
                <link>https://issues.apache.org/jira/browse/SLING-385</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Need a ScriptableNode.remove method to be able to remove nodes from scripts.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12394198">SLING-385</key>
            <summary>ScriptableNode.remove() method missing</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Thu, 17 Apr 2008 13:01:52 +0000</created>
                <updated>Tue, 21 Jul 2009 10:22:47 +0000</updated>
                            <resolved>Thu, 17 Apr 2008 13:43:17 +0000</resolved>
                                                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12590032" author="bdelacretaz" created="Thu, 17 Apr 2008 13:43:17 +0000"  >&lt;p&gt;remove() and hasNode(path) added in revision 649098&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175389</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 29 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ec13:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291878</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-384] Replace logback in the osgi/log module</title>
                <link>https://issues.apache.org/jira/browse/SLING-384</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The osgi/log module currently includes LogBack &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; as the logging backend. This library is licensed under LGPL 3.0, which makes it hard to include in Sling. In addition, the full functionality of LogBack is probably not used at all.&lt;/p&gt;

&lt;p&gt;The goal of this issue is to replace LogBack with a very simple implementation of the SLF4J API suitable for our needs, that is:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Log to a file or to the console&lt;/li&gt;
	&lt;li&gt;Support log file rotation&lt;/li&gt;
	&lt;li&gt;Support simple log message formatting&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://www.logback.org&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.logback.org&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12394056">SLING-384</key>
            <summary>Replace logback in the osgi/log module</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Wed, 16 Apr 2008 06:16:18 +0000</created>
                <updated>Sun, 13 Sep 2009 13:35:06 +0000</updated>
                            <resolved>Wed, 16 Apr 2008 09:36:06 +0000</resolved>
                                                    <fixVersion>3</fixVersion>
                                    <component>Commons</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12589480" author="fmeschbe" created="Wed, 16 Apr 2008 09:36:06 +0000"  >&lt;p&gt;Replaced logback by our own simple SLF4J implementation in Rev. 648644.&lt;/p&gt;

&lt;p&gt;The size of the bundle is drammatically reduced. Some overhead is removed from the logging tool, so it might well be that logging performance is even better (can probably still be enhanced....)&lt;/p&gt;


&lt;p&gt;The external configuration is still the same: We have rolling file support with configuration of log file path, number of files to keep and maximum file size.&lt;/p&gt;

&lt;p&gt;Also the log message pattern is still available but different: It is now a java.util.MessageFormat pattern taking up to five arguments as follows:&lt;/p&gt;

&lt;p&gt;    &lt;/p&gt;
{0}
&lt;p&gt; The timestamp of type java.util.Date&lt;br/&gt;
    &lt;/p&gt;
{1}
&lt;p&gt; the log marker (generally null, not used by Sling actually)&lt;br/&gt;
    &lt;/p&gt;
{2} the name of the current thread&lt;br/&gt;
    {3} the name of the logger&lt;br/&gt;
    {4} the debug level&lt;br/&gt;
    {5} the actual debug message&lt;br/&gt;
&lt;br/&gt;
The default pattern is changed to :&lt;br/&gt;
&lt;br/&gt;
    {0,date,dd.MM.yyyy HH:mm:ss.SSS} *{4}* [{2}
&lt;p&gt;] &lt;/p&gt;
{3}
&lt;p&gt; &lt;/p&gt;
{5}

&lt;p&gt;Thus besides the date (incl. microseconds) the current thread name and logger name along with the debug level and actual message are logged. If an exception is logged, the dump is just appended to the message.&lt;/p&gt;

&lt;p&gt;The log file is generally only rolled after a complete log entry (incl. stack trace). This means, that files may get slightly bigger than the configured maximum to take the complete last entry.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175388</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 30 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ec1b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291879</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-382] VersionHistoryImpl is incorrectly wrapped as a Node in server-side javascript </title>
                <link>https://issues.apache.org/jira/browse/SLING-382</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The toString() code in this ESP code fails when applied to a versionable Node:&lt;/p&gt;

&lt;p&gt;var history = currentNode.getVersionHistory();&lt;br/&gt;
out.println(history);&lt;br/&gt;
out.write(&quot;&amp;lt;br/&amp;gt;&quot;); &lt;br/&gt;
out.println(history.toString());&lt;br/&gt;
out.write(&quot;&amp;lt;br/&amp;gt;&quot;); &lt;/p&gt;

&lt;p&gt;IIUC the cause is that in SlingWrapFactory.wrapAsJavaObject, the jackrabbit VersionHistoryImpl is incorrectly wrapped with a ScriptableNode, as VersionHistoryImpl extends from NodeImpl and there&apos;s no specific wrapper for VersionHistoryImpl.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12393979">SLING-382</key>
            <summary>VersionHistoryImpl is incorrectly wrapped as a Node in server-side javascript </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Tue, 15 Apr 2008 12:00:19 +0000</created>
                <updated>Tue, 21 Jul 2009 10:22:46 +0000</updated>
                            <resolved>Tue, 15 Apr 2008 13:02:57 +0000</resolved>
                                                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12589061" author="gertvanthienen" created="Tue, 15 Apr 2008 12:50:59 +0000"  >&lt;p&gt;Bertrand,&lt;/p&gt;

&lt;p&gt;The WrapFactory.wrapAsJavaObject was indeed the cause of the problem.  This patch works for me.  Is this what you had in mind?&lt;/p&gt;

&lt;p&gt;Gert&lt;/p&gt;</comment>
                            <comment id="12589066" author="bdelacretaz" created="Tue, 15 Apr 2008 12:59:28 +0000"  >&lt;p&gt;That&apos;s perfect, and the included test makes it easy to decide to commit this!&lt;/p&gt;

&lt;p&gt;We might need a more sophisticated mechanism later on, but this is fine for now, IMHO. On my way to committing...&lt;/p&gt;</comment>
                            <comment id="12589067" author="bdelacretaz" created="Tue, 15 Apr 2008 13:02:57 +0000"  >&lt;p&gt;Patch committed in revision 648231, thanks!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12394054">SLING-383</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12380176" name="SLING-382.diff" size="3935" author="gertvanthienen" created="Tue, 15 Apr 2008 12:50:59 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175386</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 30 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ec1r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291881</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-380] DefualtSlingScript does not close the Script Reader</title>
                <link>https://issues.apache.org/jira/browse/SLING-380</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Reported by Vidar Ramdal in &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;The DefaultSlingScript creates the reader to access the script to execute. But this reader is not closed and thus may cause the file table to overrun.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://markmail.org/message/5s4xtvtofbxjj4v7&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://markmail.org/message/5s4xtvtofbxjj4v7&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12393970">SLING-380</key>
            <summary>DefualtSlingScript does not close the Script Reader</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Tue, 15 Apr 2008 09:07:14 +0000</created>
                <updated>Tue, 15 Apr 2008 11:39:37 +0000</updated>
                            <resolved>Tue, 15 Apr 2008 09:10:38 +0000</resolved>
                                                    <fixVersion>3</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12588986" author="fmeschbe" created="Tue, 15 Apr 2008 09:10:38 +0000"  >&lt;p&gt;Fixed in Rev. 648189.&lt;/p&gt;

&lt;p&gt;Vidar, could you please close this issue, if it really fixes your initial problem ? Thanks.&lt;/p&gt;</comment>
                            <comment id="12589027" author="vramdal" created="Tue, 15 Apr 2008 11:04:07 +0000"  >&lt;p&gt;I can confirm that the problem &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; is no longer reproducable.&lt;br/&gt;
However, I don&apos;t have permission to close issues &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://markmail.org/message/5s4xtvtofbxjj4v7&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://markmail.org/message/5s4xtvtofbxjj4v7&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12589043" author="fmeschbe" created="Tue, 15 Apr 2008 11:39:37 +0000"  >&lt;p&gt;Closing this issue after confirmation. Thanks.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175384</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 30 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10khb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>211452</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-379] wrong properties: org.apache.sling.log.*, missing osgi in names</title>
                <link>https://issues.apache.org/jira/browse/SLING-379</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;should be org.apache.sling.osgi.log.* instead, error found on following pages:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://incubator.apache.org/sling/site/logging.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://incubator.apache.org/sling/site/logging.html&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;http://incubator.apache.org/sling/site/configuration.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://incubator.apache.org/sling/site/configuration.html&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;http://wiki.apache.org/jackrabbit/ApacheSling/SlingLogging&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://wiki.apache.org/jackrabbit/ApacheSling/SlingLogging&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;http://wiki.apache.org/jackrabbit/ApacheSling/SlingConfiguration&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://wiki.apache.org/jackrabbit/ApacheSling/SlingConfiguration&lt;/a&gt;&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12393796">SLING-379</key>
            <summary>wrong properties: org.apache.sling.log.*, missing osgi in names</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="olli">Oliver Lietz</reporter>
                        <labels>
                    </labels>
                <created>Sat, 12 Apr 2008 01:30:16 +0000</created>
                <updated>Mon, 14 Apr 2008 06:53:47 +0000</updated>
                            <resolved>Mon, 14 Apr 2008 06:53:47 +0000</resolved>
                                                                    <component>Site</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12588496" author="fmeschbe" created="Mon, 14 Apr 2008 06:53:47 +0000"  >&lt;p&gt;Fixed the property names on the site. Thanks for reporting.&lt;/p&gt;

&lt;p&gt;I did, however not fix the pages on the Jackrabbit Wiki because this is outdated documentation and not the official source any more. In fact, these Jackrabbit Wiki pages are removed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175383</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 30 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10w87:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>213355</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-377] Make troubleshooting of initial content loading easier</title>
                <link>https://issues.apache.org/jira/browse/SLING-377</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Currently, for example if an xjson file includes a property type that is not allowed by the parent node, it is very hard to find out exactly what is happening based on the log messages.&lt;/p&gt;

&lt;p&gt;We need to improve the reporting of such errors, and maybe include some json validation as well.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12393752">SLING-377</key>
            <summary>Make troubleshooting of initial content loading easier</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Fri, 11 Apr 2008 13:47:31 +0000</created>
                <updated>Sun, 11 Nov 2018 09:48:42 +0000</updated>
                            <resolved>Sun, 11 Nov 2018 09:48:42 +0000</resolved>
                                                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36137</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 30 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i032e7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>15821</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-367] change sling:post: to sling: for &quot;command&quot; prefixes in form names</title>
                <link>https://issues.apache.org/jira/browse/SLING-367</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;I think it is fair to also prefix the form elements that express certain &quot;commands&quot; &lt;br/&gt;
with &quot;sling:&quot; since they are sling related. &lt;br/&gt;
i see it more as a side effect that the &quot;sling:resourceType&quot; also gets persisted.&lt;br/&gt;
generally, i think everything that has something to with &quot;sling&quot; should be prefixed&lt;br/&gt;
with &quot;sling&quot;. &lt;/p&gt;

&lt;p&gt;I think we need to make sure that we don&apos;t complicate the most simple cases just&lt;br/&gt;
to a avoid possible collisions&lt;/p&gt;</description>
                <environment></environment>
        <key id="12393388">SLING-367</key>
            <summary>change sling:post: to sling: for &quot;command&quot; prefixes in form names</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="uncled">David Nuescheler</reporter>
                        <labels>
                    </labels>
                <created>Tue, 8 Apr 2008 09:54:41 +0000</created>
                <updated>Sun, 13 Sep 2009 13:39:18 +0000</updated>
                            <resolved>Fri, 2 May 2008 16:27:50 +0000</resolved>
                                    <version>3</version>
                                    <fixVersion>3</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12587041" author="tripod" created="Wed, 9 Apr 2008 03:59:22 +0000"  >&lt;p&gt;if this is changed to &quot;sling:&quot; i would ignore all the commands explicitly as value input instead of the general &apos;startsWith(&quot;sling:&quot;)&apos; mechanism as it is implemented in todays SlingPostServlet. so at least the &quot;sling:resourceType&quot; does not need to be prefixed with &quot;./&quot;&lt;/p&gt;

&lt;p&gt;but basically: +1 for using &quot;sling:&quot;&lt;/p&gt;</comment>
                            <comment id="12587062" author="fmeschbe" created="Wed, 9 Apr 2008 06:48:00 +0000"  >&lt;p&gt;Please review the respective discussion at &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;. The problem is the collision of the prefix used for properties and for parameters. At the moment we have - AFAIK - three well-known properties with the prefix sling: If we change sling:post: to sling: we would have to filter for these property names and would have issues, if another property would be added. (BTW: Storing the sling:resourceType property is an intention not a side-effect).&lt;/p&gt;

&lt;p&gt;On the other hand we could of course place all the command names in a collection and for each parameter check whether it is part of that collection and ignore it then. The only problem is, that we then prevent using names like sling:remove. Agreed, I don&apos;t see a real use case - except perhaps storing a bunch of batch operations in the repository ?? - but I just don&apos;t want to prevent this.&lt;/p&gt;

&lt;p&gt;Having the command prefix be sling:post: we definitely prevent this for being used as property names, as names with two colons would anyway be illegal.&lt;/p&gt;

&lt;p&gt;For this reason, I am against this change. All the more, that we have &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-258&quot; title=&quot;ujax.js should define useful constants&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-258&quot;&gt;&lt;del&gt;SLING-258&lt;/del&gt;&lt;/a&gt; which should create constants for these command names for easy use.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://markmail.org/message/fgyux3tyo2cvipun&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://markmail.org/message/fgyux3tyo2cvipun&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12587073" author="tripod" created="Wed, 9 Apr 2008 07:23:16 +0000"  >&lt;p&gt;note that you can always use the &quot;./&quot; prefix to circumvent the special meaning of the command. eg:&lt;/p&gt;

&lt;p&gt;./sling:remove&lt;/p&gt;</comment>
                            <comment id="12587078" author="fmeschbe" created="Wed, 9 Apr 2008 07:51:04 +0000"  >&lt;p&gt;Just to quote the initial description:&lt;/p&gt;

&lt;p&gt;&amp;gt; I think we need to make sure that we don&apos;t complicate the most simple cases just&lt;br/&gt;
&amp;gt; to a avoid possible collisions&lt;/p&gt;

&lt;p&gt;So, why should I prefix the property name in case of some names and not for others ? Again, consistency is the key.&lt;/p&gt;</comment>
                            <comment id="12592373" author="uncled" created="Fri, 25 Apr 2008 13:33:45 +0000"  >&lt;p&gt;i think the behavior is consistent if all the form-names that bear any relevance are&lt;br/&gt;
prefixed with &quot;sling:&quot;. the fact that some of these sling commands also persist as a property&lt;br/&gt;
is a side effect at best i think.&lt;br/&gt;
i think it is very confusing to have to learn all these different conventions just because some&lt;br/&gt;
of the sling related commands are also persisted as content. &lt;/p&gt;

&lt;p&gt;Especially since it complicates the &quot;simple&quot; most common case of the usage and there definitely&lt;br/&gt;
is no need for a new &quot;namespace&quot; since users will not make up arbitrary sling properties,&lt;br/&gt;
this will always be avery defined set.&lt;/p&gt;</comment>
                            <comment id="12592401" author="cziegeler" created="Fri, 25 Apr 2008 15:05:47 +0000"  >&lt;p&gt;I think there is a difference between stuff that is stored in the repository and commands which perform some action on the repository.&lt;br/&gt;
Using the same prefix for both is imho confusing.&lt;/p&gt;

&lt;p&gt;I don&apos;t really see why this complicates the simple use case - in the simple use case, you might not need commands at all and just post stuff to change or add content &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; In addition, we have a client lib that hides this stuff anyway (though I still don&apos;t think that it is complicated) &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12592561" author="uncled" created="Sat, 26 Apr 2008 10:24:54 +0000"  >&lt;p&gt;let me try from a slightly different angle:&lt;/p&gt;

&lt;p&gt;my point is the following... when you are writing the content in the very first form&lt;br/&gt;
you will have to let sling do a redirect. hence you will have to use the redirect&lt;br/&gt;
instruction... from a users perspective it is simple to understand that &quot;sling&quot; stuff &lt;br/&gt;
is prefixed with sling: have some special meaning in sling.&lt;br/&gt;
that&apos;s the first simple case... now i would like to make that as simple as possible.&lt;/p&gt;

&lt;p&gt;since i am trying to streamline the simple first steps to lower the entry barrier &lt;br/&gt;
(and i know that i am going to extremes here, but i think i am doing it for the right &lt;br/&gt;
reasons) i think it is of a great importance that we do not have to teach the user &lt;br/&gt;
for the very simple case a lot of the complexities of either jcr or sling. as much as i &lt;br/&gt;
don&apos;t want the user to need to understand things like nodetypes or workspaces &lt;br/&gt;
to get started with sling i think he should also not need to make the distinction &lt;br/&gt;
between sling &quot;instructions&quot; that are persisted in content and others that aren&apos;t...&lt;/p&gt;</comment>
                            <comment id="12592587" author="cziegeler" created="Sat, 26 Apr 2008 17:25:08 +0000"  >&lt;p&gt;Hmm, I totally agree that things should be as simple as possible and people should be able to start using Sling without having to mess with too many details.&lt;br/&gt;
But &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; if you look at a POST request it should be clearly visible which parameters make up the content and which not - having to learn a special exclusion list is neither simple nor intuitiv.&lt;br/&gt;
I don&apos;t care that much what the prefixes are, but it should be possible to distinguish them. We could reach the same goal by renaming the sling prefix for the repository to something else.&lt;/p&gt;</comment>
                            <comment id="12592752" author="cziegeler" created="Mon, 28 Apr 2008 06:57:00 +0000"  >&lt;p&gt;Ok, rethinking the issue, I still would prefer to separate between&lt;br/&gt;
something which is stored in the repo during a post and something that&lt;br/&gt;
has an influence on how/what is stored. Using the prefix &quot;sling&quot; for&lt;br/&gt;
node types, node and property names seems to be the best choice.&lt;br/&gt;
What about just using a &quot;:&quot; for prefixing commands? It then looks like&lt;br/&gt;
a command shell with a command (ok, sort of at least) &quot;:move&quot; etc.&lt;br/&gt;
It&apos;s short, can be easily explained and avoids collisions.&lt;/p&gt;</comment>
                            <comment id="12592753" author="fmeschbe" created="Mon, 28 Apr 2008 07:04:09 +0000"  >&lt;p&gt;+1 for prefixing control parameters with just a colon&lt;/p&gt;</comment>
                            <comment id="12592760" author="bdelacretaz" created="Mon, 28 Apr 2008 07:55:58 +0000"  >&lt;p&gt;Carsten, could you give some examples of how the sling: and : prefixes will be used? Just to clarify.&lt;/p&gt;</comment>
                            <comment id="12592762" author="cziegeler" created="Mon, 28 Apr 2008 08:04:07 +0000"  >&lt;p&gt;The &quot;sling:&quot; prefix is used by node types defined through Sling, like the sling:resourceType property. So whenever you want to store/update such a value in the repo, you use the registered prefix &quot;sling:&quot;.&lt;br/&gt;
The &quot;:&quot; prefix is used by the sling post servlet only to mark special commands implemented by the post servlet, e.g. like &quot;:move&quot; or &quot;:copy&quot;.&lt;/p&gt;</comment>
                            <comment id="12593809" author="cziegeler" created="Fri, 2 May 2008 16:27:50 +0000"  >&lt;p&gt;I changed the prefix to &quot;:&quot; in revision 652804&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175376</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 27 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ec2f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291884</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-362] JspC plugin should fail on error and support overwriting the output</title>
                <link>https://issues.apache.org/jira/browse/SLING-362</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Two small changes to the maven-jspc-plugin:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;failOnError should default to true instead of false&lt;/li&gt;
	&lt;li&gt;outputDirectory should not be readonly to be able to overwrite&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12393177">SLING-362</key>
            <summary>JspC plugin should fail on error and support overwriting the output</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Apr 2008 21:31:09 +0000</created>
                <updated>Fri, 4 Apr 2008 21:32:04 +0000</updated>
                            <resolved>Fri, 4 Apr 2008 21:32:04 +0000</resolved>
                                                    <fixVersion>3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12585786" author="fmeschbe" created="Fri, 4 Apr 2008 21:32:04 +0000"  >&lt;p&gt;Fixed in Rev. 644941&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175371</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 31 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ec2v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291886</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-361] The sling/sample module fails to compile JSP scripts when run in a reactor build</title>
                <link>https://issues.apache.org/jira/browse/SLING-361</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;JSP script file compilation with the maven-jspc-plugin fails when run in reactor mode build. The problem seems to be that the tag library cannot be resolved:&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; [jspc:jspc &lt;/p&gt;
{execution: compile-jsp}
&lt;p&gt;]&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Compilation Failure&lt;br/&gt;
org.apache.sling.scripting.jsp.jasper.JasperException: The absolute uri: &lt;a href=&quot;http://sling.apache.org/taglibs/sling/1.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sling.apache.org/taglibs/sling/1.0&lt;/a&gt; cannot be resolved in either web.xml or the jar files deployed with this application&lt;br/&gt;
        at org.apache.sling.scripting.jsp.jasper.compiler.DefaultErrorHandler.jspError(DefaultErrorHandler.java:51)&lt;br/&gt;
        at org.apache.sling.scripting.jsp.jasper.compiler.ErrorDispatcher.dispatch(ErrorDispatcher.java:409)&lt;br/&gt;
        at org.apache.sling.scripting.jsp.jasper.compiler.ErrorDispatcher.jspError(ErrorDispatcher.java:116)&lt;br/&gt;
        at org.apache.sling.scripting.jsp.jasper.compiler.TagLibraryInfoImpl.generateTLDLocation(TagLibraryInfoImpl.java:315)&lt;br/&gt;
        at org.apache.sling.scripting.jsp.jasper.compiler.TagLibraryInfoImpl.&amp;lt;init&amp;gt;(TagLibraryInfoImpl.java:148)&lt;br/&gt;
        at org.apache.sling.scripting.jsp.jasper.compiler.Parser.parseTaglibDirective(Parser.java:420)&lt;br/&gt;
        at org.apache.sling.scripting.jsp.jasper.compiler.Parser.parseDirective(Parser.java:476)&lt;br/&gt;
        at org.apache.sling.scripting.jsp.jasper.compiler.Parser.parseElements(Parser.java:1426)&lt;br/&gt;
        at org.apache.sling.scripting.jsp.jasper.compiler.Parser.parse(Parser.java:133)&lt;br/&gt;
        at org.apache.sling.scripting.jsp.jasper.compiler.ParserController.doParse(ParserController.java:216)&lt;br/&gt;
        at org.apache.sling.scripting.jsp.jasper.compiler.ParserController.parse(ParserController.java:103)&lt;br/&gt;
        at org.apache.sling.scripting.jsp.jasper.compiler.Compiler.generateJava(Compiler.java:168)&lt;br/&gt;
        at org.apache.sling.scripting.jsp.jasper.compiler.Compiler.compile(Compiler.java:307)&lt;br/&gt;
        at org.apache.sling.maven.jspc.JspcMojo.processFile(JspcMojo.java:360)&lt;br/&gt;
        at org.apache.sling.maven.jspc.JspcMojo.executeInternal(JspcMojo.java:313)&lt;br/&gt;
        at org.apache.sling.maven.jspc.JspcMojo.execute(JspcMojo.java:225)&lt;br/&gt;
        at org.apache.maven.plugin.DefaultPluginManager.executeMojo(DefaultPluginManager.java:443)&lt;/p&gt;


&lt;p&gt;The interesting question - once again - is why the build succeeds in single build but not in a reactor build. Probably there is some project resolution issue. Will have to trace this.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12393174">SLING-361</key>
            <summary>The sling/sample module fails to compile JSP scripts when run in a reactor build</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Apr 2008 21:13:39 +0000</created>
                <updated>Sun, 13 Sep 2009 13:46:11 +0000</updated>
                            <resolved>Wed, 16 Apr 2008 06:51:54 +0000</resolved>
                                    <version>3</version>
                                    <fixVersion>3</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12585777" author="fmeschbe" created="Fri, 4 Apr 2008 21:15:28 +0000"  >&lt;p&gt;For the moment I comment the sling/sample module in the reactor build in Rev. 644936&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175370</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 31 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10mdj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>211759</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-359] sling/sling.js path hidden by Sling console</title>
                <link>https://issues.apache.org/jira/browse/SLING-359</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;See &lt;a href=&quot;http://markmail.org/message/osjab4dn2yis4uhd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://markmail.org/message/osjab4dn2yis4uhd&lt;/a&gt;, the consensus seems to be to address this resource /system/sling.js - the idea being that /system will be reserved for resources that are usually provided directly by Sling, and do not come from the repository.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12393123">SLING-359</key>
            <summary>sling/sling.js path hidden by Sling console</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Apr 2008 14:29:05 +0000</created>
                <updated>Tue, 21 Jul 2009 10:22:46 +0000</updated>
                            <resolved>Fri, 4 Apr 2008 14:53:16 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12585559" author="bdelacretaz" created="Fri, 4 Apr 2008 14:53:16 +0000"  >&lt;p&gt;In revision 644731, sling.js is served as /system/sling.js&lt;/p&gt;</comment>
                            <comment id="12585632" author="tripod" created="Fri, 4 Apr 2008 16:50:33 +0000"  >&lt;p&gt;&amp;gt; the consensus seems to be to address this resource /system/sling.js &lt;br/&gt;
was there? i though that there was still a requirement of having the script at &quot;/sling.js&quot;&lt;/p&gt;</comment>
                            <comment id="12585730" author="fmeschbe" created="Fri, 4 Apr 2008 19:55:29 +0000"  >&lt;p&gt;Currently global docroot mapping* is not supported. So to support the docroot mapping for sling.js an explicit configuration entry for the mapping /system/docroot-&amp;gt;/ is required. Of course we could add such a default mapping to the ResourceResolver to provider sling.js under /sling.js.&lt;/p&gt;

&lt;p&gt;WDYT ?&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;global docroot mapping is mapping of all docroot locations in the resource tree to the root URL without having to configure the respective mapping for each every such location.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12585744" author="tripod" created="Fri, 4 Apr 2008 20:24:51 +0000"  >&lt;p&gt;just asking, because the sling.js is now here:&lt;/p&gt;

&lt;p&gt;sling/servlets-post/src/main/resources/system/sling.js&lt;/p&gt;

&lt;p&gt;and not in the docroot.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175368</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 31 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ec3b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291888</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-356] Create separate project for the BundleResourceProvider</title>
                <link>https://issues.apache.org/jira/browse/SLING-356</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Currently the BundleResourceProvider is part of the jcr/resource project but this functionality is not exactly JCR related, therefore, the BundleResourceProvider should be factored out into its own module&lt;/p&gt;</description>
                <environment></environment>
        <key id="12393107">SLING-356</key>
            <summary>Create separate project for the BundleResourceProvider</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Apr 2008 10:12:19 +0000</created>
                <updated>Sun, 13 Sep 2009 13:28:55 +0000</updated>
                            <resolved>Fri, 11 Apr 2008 10:20:51 +0000</resolved>
                                                    <fixVersion>3</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12585765" author="fmeschbe" created="Fri, 4 Apr 2008 21:04:47 +0000"  >&lt;p&gt;Removed BundleResourceProvider from jcr/resource bundle in Rev. 644882 and created new sling/bundleresource bundle for the BundleResourceProvider in Rev. 644887.&lt;/p&gt;

&lt;p&gt;Added new module to launcher/app module list in Rev. 644891&lt;/p&gt;

&lt;p&gt;Added new module to global build reactor in Rev. 644930&lt;/p&gt;</comment>
                            <comment id="12585766" author="fmeschbe" created="Fri, 4 Apr 2008 21:05:14 +0000"  >&lt;p&gt;Keeping this issue open until the new module has been added to the Continuum build server&lt;/p&gt;</comment>
                            <comment id="12587910" author="fmeschbe" created="Fri, 11 Apr 2008 10:20:51 +0000"  >&lt;p&gt;This can be closed as the new module is now configured in Continuum&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175365</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 30 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ec3z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291891</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-355] Empty Request Parameters should be handled as not present</title>
                <link>https://issues.apache.org/jira/browse/SLING-355</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When the sling post servlet tries to set a property which value is empty, it fails to set the property value if the proper type is not a string as it for example tries to convert the empty string into a long - which fails.&lt;br/&gt;
Therefore the servlet should treat empty values as not existing ones and rather remove the property.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12393105">SLING-355</key>
            <summary>Empty Request Parameters should be handled as not present</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Apr 2008 09:39:48 +0000</created>
                <updated>Sun, 13 Sep 2009 13:39:16 +0000</updated>
                            <resolved>Fri, 4 Apr 2008 14:15:37 +0000</resolved>
                                                    <fixVersion>3</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                    <workratio workratioPercent="0"/>
                                                                    <timeoriginalestimate seconds="0">0h</timeoriginalestimate>
                            <timeestimate seconds="0">0h</timeestimate>
                                        <comments>
                            <comment id="12585479" author="bdelacretaz" created="Fri, 4 Apr 2008 10:24:34 +0000"  >&lt;p&gt;I assume by &quot;empty value&quot; you mean a parameter that is present but has no value.&lt;/p&gt;

&lt;p&gt;If a request does not contain a foo parameter and the node being modified has a foo property, I think the existing property should be left untouched.&lt;/p&gt;

&lt;p&gt;OTOH if the request contains a foo parameter, but with no value, the property would be removed. &lt;/p&gt;</comment>
                            <comment id="12585484" author="cziegeler" created="Fri, 4 Apr 2008 10:38:53 +0000"  >&lt;p&gt;Yes, I mean the case where a request parameter with an empty value is used to set the value of a property. And then this property should rather be removed&lt;br/&gt;
than trying to set the empty string as a value (which fails for all non string properties)&lt;/p&gt;</comment>
                            <comment id="12585598" author="tripod" created="Fri, 4 Apr 2008 15:56:06 +0000"  >&lt;p&gt;it depends on the use case. sometimes a empty value should delete the property, sometimes an empty value should leave the property untouched and sometimes an empty string needs to be stored.&lt;/p&gt;

&lt;p&gt;see &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-180&quot; title=&quot;ujax post servlet: add @DefaultValue hint for empty strings&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-180&quot;&gt;&lt;del&gt;SLING-180&lt;/del&gt;&lt;/a&gt; for details.&lt;/p&gt;</comment>
                            <comment id="12585611" author="fmeschbe" created="Fri, 4 Apr 2008 16:11:29 +0000"  >&lt;p&gt;I agree with you Tobias, yet what is the default behaviour on empty parameters for non-String properties ? This question has not been answered in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-180&quot; title=&quot;ujax post servlet: add @DefaultValue hint for empty strings&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-180&quot;&gt;&lt;del&gt;SLING-180&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12585612" author="cziegeler" created="Fri, 4 Apr 2008 16:12:28 +0000"  >&lt;p&gt;Hmm, not sure - if I have a simple form with an input field, this field is always posted to the server with the user input. If there is no user input, the empty string is posted.&lt;br/&gt;
If we are speaking of types other than strings, than this can only mean to remove the property. For strings this could either mean setting it to an empty value or&lt;br/&gt;
removing it. Usually empty string and non existing string are treated the same, so its safe to always remove the property.&lt;/p&gt;

&lt;p&gt;If you want to leave the property untouched, don&apos;t post it.&lt;/p&gt;</comment>
                            <comment id="12585618" author="tripod" created="Fri, 4 Apr 2008 16:27:58 +0000"  >&lt;p&gt;well, an empty string can also mean &quot;i see this field, but i intentionally leave it empty&quot;.&lt;/p&gt;

&lt;p&gt;as for numbers, i agree that an empty string can be ignored or even force a removal of the property.&lt;br/&gt;
however i would try to set the value anyways and if it fails try to remove it.&lt;/p&gt;

&lt;p&gt;&amp;gt; If you want to leave the property untouched, don&apos;t post it.&lt;br/&gt;
which is a problem if you can&apos;t (or don&apos;t want to) modify the DOM of the form.&lt;/p&gt;</comment>
                            <comment id="12585626" author="tripod" created="Fri, 4 Apr 2008 16:41:57 +0000"  >&lt;p&gt;what was the resolution on this? why is this issue closed now?&lt;/p&gt;</comment>
                            <comment id="12585638" author="fmeschbe" created="Fri, 4 Apr 2008 17:11:38 +0000"  >&lt;p&gt;&amp;gt; what was the resolution on this? why is this issue closed now?&lt;/p&gt;

&lt;p&gt;Because it was fixed as initially described.&lt;/p&gt;

&lt;p&gt;&amp;gt; as for numbers, i agree that an empty string can be ignored or even force a removal of the property.&lt;br/&gt;
&amp;gt; however i would try to set the value anyways and if it fails try to remove it.&lt;/p&gt;

&lt;p&gt;This is the problem we are facing: It creates inconsistent behaviour depending on the property type. IMHO this is not acceptable&lt;/p&gt;</comment>
                            <comment id="12585645" author="tripod" created="Fri, 4 Apr 2008 17:25:33 +0000"  >&lt;p&gt;ok. consistency is better &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; removing all properties with empty strings is ok then, if they are not mandatory and if they dont have a defaultValue assigned.&lt;/p&gt;</comment>
                            <comment id="12586008" author="cziegeler" created="Sat, 5 Apr 2008 14:36:19 +0000"  >&lt;p&gt;This is how it is currently implemented&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175364</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 31 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ec47:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291892</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-353] Script engines need DynamicImport-Package *</title>
                <link>https://issues.apache.org/jira/browse/SLING-353</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The&lt;/p&gt;

&lt;p&gt;&amp;lt;DynamicImport-Package&amp;gt;*&amp;lt;/DynamicImport-Package&amp;gt;&lt;/p&gt;

&lt;p&gt;statement is needed in the pom.xml of all script engines, so that they&apos;re aware of classes contributed by all bundles.&lt;/p&gt;

&lt;p&gt;The JSP engine is ok, I&apos;ll add this to the javascript engine now, and we need to check all the others.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12393020">SLING-353</key>
            <summary>Script engines need DynamicImport-Package *</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 Apr 2008 11:36:53 +0000</created>
                <updated>Tue, 4 Aug 2009 15:15:07 +0000</updated>
                            <resolved>Tue, 4 Aug 2009 15:15:07 +0000</resolved>
                                                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12739001" author="cziegeler" created="Tue, 4 Aug 2009 15:15:07 +0000"  >&lt;p&gt;I think we can close this now; if this is a problem for a particular script engine we can open a new bug.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175362</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 14 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10y9j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>213685</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-350] maven-jspc-plugin should put compiled classes under /var/classes</title>
                <link>https://issues.apache.org/jira/browse/SLING-350</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;In &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-317&quot; title=&quot;Rename /classes to /var/classes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-317&quot;&gt;&lt;del&gt;SLING-317&lt;/del&gt;&lt;/a&gt; the location of compiled (JSP) classes has moved to /var/classes, the plugin should be updated accordingly.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12392912">SLING-350</key>
            <summary>maven-jspc-plugin should put compiled classes under /var/classes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Wed, 2 Apr 2008 09:14:33 +0000</created>
                <updated>Sun, 13 Sep 2009 14:05:03 +0000</updated>
                            <resolved>Fri, 30 May 2008 12:15:17 +0000</resolved>
                                                                    <component>Maven Plugins and Archetypes</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12601116" author="fmeschbe" created="Fri, 30 May 2008 12:15:17 +0000"  >&lt;p&gt;I don&apos;t think we need to fix this, as the classes need to be in the normal place for the maven bundle plugin to act correctly. Instead I added a prefixing functionality to register the classes appropriately with the Resource provider. See &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-357&quot; title=&quot;Support simple path mappings for bundle provided resources&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-357&quot;&gt;&lt;del&gt;SLING-357&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12390635">SLING-317</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175359</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 23 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ec53:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291896</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-349] Listing children of bundle resources hiding JCR resources does not work</title>
                <link>https://issues.apache.org/jira/browse/SLING-349</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Consider a bundle providing resources below /some/path and a the bundle resource /some/path/nested/folder hiding the /some/path/nested/folder repository node. In this case accessing the /some/path/nested/folder resource would return the JCR resource instead of the bundle resource.&lt;/p&gt;

&lt;p&gt;If now the children of the /some/path/nested/folder resource should be listed, the children of the given resource from the bundle are not returned.&lt;/p&gt;

&lt;p&gt;The problem is that the child resource iterator does not actually access the bundle to find the child entries.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12392830">SLING-349</key>
            <summary>Listing children of bundle resources hiding JCR resources does not work</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Tue, 1 Apr 2008 12:27:57 +0000</created>
                <updated>Sun, 13 Sep 2009 13:22:51 +0000</updated>
                            <resolved>Tue, 1 Apr 2008 13:10:57 +0000</resolved>
                                                    <fixVersion>3</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12584128" author="fmeschbe" created="Tue, 1 Apr 2008 13:10:57 +0000"  >&lt;p&gt;Implemented the fix in Rev. 643386&lt;/p&gt;

&lt;p&gt;Basically the BundleResourceProvider.listChildren(Resource) method now internally always uses a BundleResourceIterator, also for non-BundleResource parent resources (after checking applicability of course).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175358</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 32 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ec5b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291897</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-345] NonExistingResource should extend SyntheticResource</title>
                <link>https://issues.apache.org/jira/browse/SLING-345</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;As discussed here &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; the NonExistingResource should also be a SyntheticResource because it is not actually reflected with a real resource but is returned from the ResourceResolver.resolve(HttpServletRequest) method when the request cannot be resolved to a real resource.&lt;/p&gt;

&lt;p&gt;In addition a new helper method should be added to the JcrResourceUtil:&lt;/p&gt;

&lt;p&gt;   // return true if resource is a synthetic resource&lt;br/&gt;
   public static boolean isSyntheticResource(Resource resource);&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://markmail.org/message/vgtnh73uunouni4e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://markmail.org/message/vgtnh73uunouni4e&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12392540">SLING-345</key>
            <summary>NonExistingResource should extend SyntheticResource</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Fri, 28 Mar 2008 09:49:00 +0000</created>
                <updated>Sun, 13 Sep 2009 13:31:19 +0000</updated>
                            <resolved>Fri, 28 Mar 2008 10:03:47 +0000</resolved>
                                                    <fixVersion>3</fixVersion>
                                    <component>API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12582963" author="fmeschbe" created="Fri, 28 Mar 2008 10:03:47 +0000"  >&lt;p&gt;Implemented this issue:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;NonExistingResource extends SyntheticResource in Rev. 642176&lt;/li&gt;
	&lt;li&gt;new helper method JcrResourceUtil.isSyntheticResource in Rev. 642178&lt;/li&gt;
	&lt;li&gt;check for SyntheticResource in UjaxPostProcessor in Rev. 642179&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Closing this issue for now&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175354</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 32 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ec67:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291901</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-343] POST to something/* works but not something/*.html</title>
                <link>https://issues.apache.org/jira/browse/SLING-343</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt; curl -F title=buzz &lt;a href=&quot;http://admin:admin@localhost:7402/foo/*&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://admin:admin@localhost:7402/foo/*&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;works, but not&lt;/p&gt;

&lt;p&gt; curl -F title=buzz &lt;a href=&quot;http://admin:admin@localhost:7402/foo/*.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://admin:admin@localhost:7402/foo/*.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;There&apos;s no real reason to use the second form, but that can happen when using client-side javascript code to setup forms, so accepting this is more robust.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12392351">SLING-343</key>
            <summary>POST to something/* works but not something/*.html</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Wed, 26 Mar 2008 15:07:49 +0000</created>
                <updated>Sun, 13 Sep 2009 13:39:12 +0000</updated>
                            <resolved>Wed, 26 Mar 2008 15:09:55 +0000</resolved>
                                                    <fixVersion>3</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12582310" author="bdelacretaz" created="Wed, 26 Mar 2008 15:09:55 +0000"  >&lt;p&gt;Fixed in revision 641346, including additional integration test&lt;/p&gt;</comment>
                            <comment id="12582965" author="fmeschbe" created="Fri, 28 Mar 2008 10:06:01 +0000"  >&lt;p&gt;This can probably be closed as everything runs smoothly also with &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-344&quot; title=&quot;GET /foo/*.html should return the equivalent of an empty Node&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-344&quot;&gt;&lt;del&gt;SLING-344&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-345&quot; title=&quot;NonExistingResource should extend SyntheticResource&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-345&quot;&gt;&lt;del&gt;SLING-345&lt;/del&gt;&lt;/a&gt; fixed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175352</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 32 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ec6n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291903</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-341] Logged errors in JavaScript wrappers</title>
                <link>https://issues.apache.org/jira/browse/SLING-341</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;When running the unit tests of the scripting/javascript module, errors are logged but do not cause the tests to fail. The logged messages are caused by incompletely initialized wrapper objects (the scope is not correctly initialized). Thus these wrapper objects do not work and any methods called will fail.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12392245">SLING-341</key>
            <summary>Logged errors in JavaScript wrappers</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Tue, 25 Mar 2008 11:20:38 +0000</created>
                <updated>Tue, 25 Mar 2008 11:32:25 +0000</updated>
                            <resolved>Tue, 25 Mar 2008 11:32:25 +0000</resolved>
                                                    <fixVersion>3</fixVersion>
                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12581880" author="fmeschbe" created="Tue, 25 Mar 2008 11:32:25 +0000"  >&lt;p&gt;Wrappers now are properly setup as of Rev. 640774.&lt;/p&gt;

&lt;p&gt;Closing this issue.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175350</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 33 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10x4n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>213501</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-336] SlingAptParserImplTest fails under Windows</title>
                <link>https://issues.apache.org/jira/browse/SLING-336</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;See &lt;a href=&quot;http://markmail.org/message/dtwm3fwjgo7htlbi&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://markmail.org/message/dtwm3fwjgo7htlbi&lt;/a&gt; , seems like a Windows-specific issue&lt;/p&gt;</description>
                <environment>Windows</environment>
        <key id="12391720">SLING-336</key>
            <summary>SlingAptParserImplTest fails under Windows</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Tue, 18 Mar 2008 09:43:27 +0000</created>
                <updated>Tue, 21 Jul 2009 10:22:46 +0000</updated>
                            <resolved>Mon, 21 Apr 2008 12:28:44 +0000</resolved>
                                                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12579782" author="bdelacretaz" created="Tue, 18 Mar 2008 09:45:31 +0000"  >&lt;p&gt;Should be fixed in revision 638291, can someone verify under Windows that &quot;mvn clean install&quot; works in extensions/apt/parser ?&lt;/p&gt;

&lt;p&gt;Please close this issue if that works.&lt;/p&gt;</comment>
                            <comment id="12590905" author="bdelacretaz" created="Mon, 21 Apr 2008 12:28:44 +0000"  >&lt;p&gt;No news in a month, assuming this works under Windows. Please reopen if not.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175346</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 29 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ec7b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291906</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-334] Change name of property forcing authentication in the Http Header Authenticator</title>
                <link>https://issues.apache.org/jira/browse/SLING-334</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-175&quot; title=&quot;support for form-based authentication&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-175&quot;&gt;&lt;del&gt;SLING-175&lt;/del&gt;&lt;/a&gt; added form based login and defined a parameter which may be used to force a login prompt. This parameter more looks like a header - X-Sling-Request-Login - than a parameter (in fact initially it was a header).&lt;/p&gt;

&lt;p&gt;This should be changed to a normal parameter name as we use it else where.&lt;/p&gt;

&lt;p&gt;I propose sling:authRequestLogin. When this parameter is set and the request does not contain credentials, the login prompt is forced.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12391455">SLING-334</key>
            <summary>Change name of property forcing authentication in the Http Header Authenticator</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Fri, 14 Mar 2008 14:46:04 +0000</created>
                <updated>Fri, 14 Mar 2008 14:57:54 +0000</updated>
                            <resolved>Fri, 14 Mar 2008 14:57:54 +0000</resolved>
                                                    <fixVersion>3</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12578784" author="fmeschbe" created="Fri, 14 Mar 2008 14:57:54 +0000"  >&lt;p&gt;Rename the parameter to sling:authRequestLogin in Rev. 637120.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175344</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 34 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ec7j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291907</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-332] Mistakes in the page &quot;Discover Sling in 15 minutes&quot; </title>
                <link>https://issues.apache.org/jira/browse/SLING-332</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;In the page &lt;a href=&quot;http://incubator.apache.org/sling/site/discover-sling-in-15-minutes.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://incubator.apache.org/sling/site/discover-sling-in-15-minutes.html&lt;/a&gt; , just below the topic &quot;Start the Launchpad&quot;, it asks to navigate to the directory launchpad/launchpad-webapp. &lt;/p&gt;

&lt;p&gt;But there is not a directory named launchpad-webapp inside the launchpad directory. But it has a directory named &quot;webapp&quot;, for which the instructions given in the page works fine.&lt;/p&gt;

&lt;p&gt;So this has to be modified. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12391422">SLING-332</key>
            <summary>Mistakes in the page &quot;Discover Sling in 15 minutes&quot; </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="thilinamb">Thilina Mahesh Buddhika</reporter>
                        <labels>
                    </labels>
                <created>Fri, 14 Mar 2008 09:52:11 +0000</created>
                <updated>Fri, 14 Mar 2008 11:36:39 +0000</updated>
                            <resolved>Fri, 14 Mar 2008 11:28:11 +0000</resolved>
                                                    <fixVersion>3</fixVersion>
                                    <component>Site</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12578692" author="fmeschbe" created="Fri, 14 Mar 2008 11:28:11 +0000"  >&lt;p&gt;Fixed the site. It should be online within a few hours.&lt;/p&gt;

&lt;p&gt;NB: We are managing our site in the Confluence Wiki at &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;. So to remind us of any mistakes, you may just add a comment there and need not take the route of creating JIRA.&lt;/p&gt;

&lt;p&gt;NB2: Your feedback is very much appreciated. Thanks.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://cwiki.apache.org/confluence/display/SLINGxSITE/Index&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://cwiki.apache.org/confluence/display/SLINGxSITE/Index&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12578697" author="thilinamb" created="Fri, 14 Mar 2008 11:36:39 +0000"  >&lt;p&gt;thanks for the information. I&apos;ll follow that route.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175342</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 34 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ec7r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291908</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-331] A mistake in &quot;Getting started&quot; page</title>
                <link>https://issues.apache.org/jira/browse/SLING-331</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;In this page, it says that after following the link, &lt;a href=&quot;http://localhost:8080/sling&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8080/sling&lt;/a&gt; the user will be directed to a login page. And it says to use &quot;admin&quot; as both the username and the password. But following that link will directly go to the Sling Management Console, without asking for authentication.&lt;/p&gt;

&lt;p&gt;This should be corrected either in the site of in the implementation.&lt;/p&gt;



</description>
                <environment></environment>
        <key id="12391420">SLING-331</key>
            <summary>A mistake in &quot;Getting started&quot; page</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="thilinamb">Thilina Mahesh Buddhika</reporter>
                        <labels>
                    </labels>
                <created>Fri, 14 Mar 2008 09:45:17 +0000</created>
                <updated>Tue, 18 Mar 2008 09:01:56 +0000</updated>
                            <resolved>Tue, 18 Mar 2008 09:01:56 +0000</resolved>
                                                                    <component>Site</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12579768" author="bdelacretaz" created="Tue, 18 Mar 2008 09:01:56 +0000"  >&lt;p&gt;Thanks, I&apos;ve changed that page to say &quot;Use &lt;em&gt;admin&lt;/em&gt; with password &lt;em&gt;admin&lt;/em&gt; if Sling asks you for a login&quot;.&lt;/p&gt;

&lt;p&gt;Changes will be online in a few hours at &lt;a href=&quot;http://incubator.apache.org/sling/site/discover-sling-in-15-minutes.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://incubator.apache.org/sling/site/discover-sling-in-15-minutes.html&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175341</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 34 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ec7z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291909</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-330] A mistake in the documentation of the site</title>
                <link>https://issues.apache.org/jira/browse/SLING-330</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The  page with the URL,  &lt;a href=&quot;http://incubator.apache.org/sling/site/getting-and-building-sling.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://incubator.apache.org/sling/site/getting-and-building-sling.html&lt;/a&gt; contains the steps for building Sling from the source. &lt;br/&gt;
Under the topic &quot;Getting a Running Instance&quot;, in the 3rd step, it says  &quot;Enter the launcher/app directory and launch Sling for the first time&quot;.&lt;br/&gt;
But there is no any directory created with the name &quot;launcher&quot; inside the Sling directory. But it has a directory with the name &quot; launchpad&quot;, and every thing works fine with that directory. &lt;/p&gt;

&lt;p&gt;Trying to run the  command, &lt;/p&gt;

&lt;p&gt;     java -jar -Dsling.home=sling -Dorg.apache.sling.osgi.log.file= target/org.apache.sling.launcher.app-2.0.0-incubator-SNAPSHOT.jar, &lt;/p&gt;

&lt;p&gt;in the 3rd step gives the following error. &lt;/p&gt;

&lt;p&gt;java -jar -Dsling.home=sling -Dorg.apache.sling.osgi.log.file= target/org.apache.sling.launcher.app-2.0.0-incubator-SNAPSHOT.jar&lt;/p&gt;

&lt;p&gt;It is because, the launchpad/app/target directory does not contain a jar called, org.apache.sling.launcher.app-2.0.0-incubator-SNAPSHOT.jar.&lt;br/&gt;
But it contains org.apache.sling.launchpad.app-2.0.0-incubator-SNAPSHOT.jar&lt;/p&gt;

&lt;p&gt;So that command should be corrected.&lt;/p&gt;


</description>
                <environment></environment>
        <key id="12391418">SLING-330</key>
            <summary>A mistake in the documentation of the site</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="thilinamb">Thilina Mahesh Buddhika</reporter>
                        <labels>
                    </labels>
                <created>Fri, 14 Mar 2008 09:13:56 +0000</created>
                <updated>Fri, 14 Mar 2008 09:32:53 +0000</updated>
                            <resolved>Fri, 14 Mar 2008 09:27:04 +0000</resolved>
                                                    <fixVersion>3</fixVersion>
                                    <component>Site</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12578659" author="thilinamb" created="Fri, 14 Mar 2008 09:18:03 +0000"  >

&lt;p&gt;The error it gives is ,&lt;/p&gt;

&lt;p&gt;Unable to access jarfile target/org.apache.sling.launcher.app-2.0.0-incubator-SNAPSHOT.jar&lt;/p&gt;
</comment>
                            <comment id="12578661" author="fmeschbe" created="Fri, 14 Mar 2008 09:26:33 +0000"  >&lt;p&gt;Thanks for reporting this. &lt;/p&gt;

&lt;p&gt;This is a leftover from moving the former launcher/app module to launchpad/app as of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-189&quot; title=&quot;Consolidate launcher and launchpad modules&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-189&quot;&gt;&lt;del&gt;SLING-189&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;I fixed this on the site and it should go to the site in a few hours.&lt;/p&gt;</comment>
                            <comment id="12578662" author="fmeschbe" created="Fri, 14 Mar 2008 09:27:04 +0000"  >&lt;p&gt;Please close the issue, if it is ok for your. Thanks.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175340</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 34 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ec87:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291910</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-329] cannot access node when node name is a number</title>
                <link>https://issues.apache.org/jira/browse/SLING-329</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;the line&lt;br/&gt;
currentNode.getNodes()&lt;span class=&quot;error&quot;&gt;&amp;#91;i&amp;#93;&lt;/span&gt;.getProperty(&quot;approved&quot;).getString()&lt;br/&gt;
gives&lt;br/&gt;
TypeError: Cannot call method &quot;getProperty&quot; of undefined (/apps/tss/list/html.esp#8) (500)&lt;br/&gt;
If the node name consists of numbers only (like &quot;111111&quot; - but &quot;1aaaa&quot; is OK)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12390971">SLING-329</key>
            <summary>cannot access node when node name is a number</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mmarth">Michael Marth</reporter>
                        <labels>
                    </labels>
                <created>Thu, 13 Mar 2008 16:39:50 +0000</created>
                <updated>Wed, 12 Apr 2023 07:17:33 +0000</updated>
                            <resolved>Wed, 12 Apr 2023 07:17:33 +0000</resolved>
                                    <version>Scripting JavaScript 2.0.2</version>
                                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12578633" author="fmeschbe" created="Fri, 14 Mar 2008 07:31:34 +0000"  >&lt;p&gt;this is AFAIK a limitation of JavaScript, where an object property may be accessed by a numeric index or by a string name. In your case, JavaScript rightfully so (probably) assumes the number to be numeric and access the property by numeric index. To force using the index as a string you solve the issue by explicitly creating a string of the number.&lt;/p&gt;

&lt;p&gt;Not sure though.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36140</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 34 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i032ev:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>15824</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-328] access to node props in esp</title>
                <link>https://issues.apache.org/jira/browse/SLING-328</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;My .esp looks like&lt;/p&gt;

&lt;p&gt;for (var i in currentNode.getNodes()) {&lt;br/&gt;
            if(currentNode.getNodes()&lt;span class=&quot;error&quot;&gt;&amp;#91;i&amp;#93;&lt;/span&gt;.getProperty(&quot;approved&quot;).getString() == &quot;true&quot;) {&lt;br/&gt;
...&lt;/p&gt;

&lt;p&gt;Bertrand tells me that in the second line this should work as well:&lt;br/&gt;
if(currentNode.getNodes()&lt;span class=&quot;error&quot;&gt;&amp;#91;i&amp;#93;&lt;/span&gt;.approved (...)&lt;br/&gt;
It does not give an exception but the property is undefined.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12390970">SLING-328</key>
            <summary>access to node props in esp</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mmarth">Michael Marth</reporter>
                        <labels>
                    </labels>
                <created>Thu, 13 Mar 2008 16:38:44 +0000</created>
                <updated>Wed, 12 Apr 2023 07:17:24 +0000</updated>
                            <resolved>Wed, 12 Apr 2023 07:17:24 +0000</resolved>
                                    <version>Scripting JavaScript 2.0.2</version>
                                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36141</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 34 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i032f3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>15825</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-323] Provide Jackrabbit API over RMI</title>
                <link>https://issues.apache.org/jira/browse/SLING-323</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Discusses as a problem based on the problem report by Vidar Ramdal on the dev list &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;:&lt;/p&gt;

&lt;p&gt;When Sling accesses a repository over RMI, node type registration fails blatantly because the Sling RMI layer does not expose the Jackrabbit API which is required for node type registration as done in Sling.&lt;/p&gt;


&lt;p&gt;BTW: It turns out, that the original problem reported by Vidar most probably is not an RMI problem, but a problem starting the TransientRepository on the server side.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://www.mail-archive.com/sling-dev@incubator.apache.org/msg03279.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.mail-archive.com/sling-dev@incubator.apache.org/msg03279.html&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12390816">SLING-323</key>
            <summary>Provide Jackrabbit API over RMI</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Wed, 12 Mar 2008 07:43:07 +0000</created>
                <updated>Thu, 2 May 2013 02:29:13 +0000</updated>
                            <resolved>Thu, 13 Mar 2008 08:10:53 +0000</resolved>
                                                    <fixVersion>3</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12577741" author="fmeschbe" created="Wed, 12 Mar 2008 07:45:16 +0000"  >&lt;p&gt;In Rev. 636239 extended the RepositoryAccessor class to use the JackrabbitClientAdapterFactory to convert remote objects to local objects. This enables the support of the Jackrabbit API most notably used for node type registration.&lt;/p&gt;</comment>
                            <comment id="12577746" author="fmeschbe" created="Wed, 12 Mar 2008 08:00:16 +0000"  >&lt;p&gt;In Rev. 636243 added a factory method to publish an embedded Jackrabbit repository with the Jackrabbit API (in addition to the JCR API).&lt;/p&gt;</comment>
                            <comment id="12577947" author="fmeschbe" created="Wed, 12 Mar 2008 17:43:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/JCR-1406&quot; title=&quot;Add the org.apache.jackrabbit.rmi.jackrabbit package to the rmic generation &quot; class=&quot;issue-link&quot; data-issue-key=&quot;JCR-1406&quot;&gt;&lt;del&gt;JCR-1406&lt;/del&gt;&lt;/a&gt; detected an issue in the Jackrabbit JCR RMI library version 1.4 which is not complete and misses a bunch of Jackrabbit API related classes. To really fix this issue I will upgrade to use 1.5-SNAPSHOT.&lt;/p&gt;</comment>
                            <comment id="12578180" author="fmeschbe" created="Thu, 13 Mar 2008 08:10:53 +0000"  >&lt;p&gt;This can be closed for now as the Jackrabbit API is provided over RMI with using the latest Jackrabbit RMI library snapshot.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12389218">JCR-1406</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175337</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 35 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10wzb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>213477</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-322] Sling client library tests require setting Allow Anonymous Access = false</title>
                <link>https://issues.apache.org/jira/browse/SLING-322</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The tests at &lt;a href=&quot;http://localhost:8888/sling-test/sling/sling-test.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8888/sling-test/sling/sling-test.html&lt;/a&gt; require setting Allow Anonymous Access to false on the Sling Request Authenticator configuration page, this should not be needed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12390762">SLING-322</key>
            <summary>Sling client library tests require setting Allow Anonymous Access = false</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Tue, 11 Mar 2008 15:24:54 +0000</created>
                <updated>Wed, 12 Apr 2023 07:16:51 +0000</updated>
                            <resolved>Wed, 12 Apr 2023 07:16:51 +0000</resolved>
                                                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12577737" author="bdelacretaz" created="Wed, 12 Mar 2008 07:11:40 +0000"  >&lt;p&gt;Felix says he&apos;s working on a servlet, as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-319&quot; title=&quot;Streamlining authentication and access control&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-319&quot;&gt;&lt;del&gt;SLING-319&lt;/del&gt;&lt;/a&gt;, which allows logging in and out based on Alexander Klimetschek&apos;s suggestion in &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-175&quot; title=&quot;support for form-based authentication&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-175&quot;&gt;&lt;del&gt;SLING-175&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="12606797" author="bdelacretaz" created="Fri, 20 Jun 2008 15:23:45 +0000"  >&lt;p&gt;Screenshot of configuration panel (Sling revision 669215)&lt;/p&gt;</comment>
                            <comment id="12841735" author="bdelacretaz" created="Fri, 5 Mar 2010 07:38:35 +0000"  >&lt;p&gt;Someone&apos;s asking where that setting is, in the current trunk it&apos;s at&lt;br/&gt;
&lt;a href=&quot;http://localhost:8888/system/console/configMgr/org.apache.sling.engine.impl.auth.SlingAuthenticator&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8888/system/console/configMgr/org.apache.sling.engine.impl.auth.SlingAuthenticator&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13049023" author="asanso" created="Tue, 14 Jun 2011 07:17:00 +0000"  >&lt;p&gt;Works for me: despite the fact I have Allow Anonymous Access checked (=true) in &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; the test in &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; pass (&quot;Done running tests, pass 1&quot;). Am I wrong or this has been somehow fixed?&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://localhost:8888/system/console/configMgr/org.apache.sling.engine.impl.auth.SlingAuthenticator&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8888/system/console/configMgr/org.apache.sling.engine.impl.auth.SlingAuthenticator&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://localhost:8888/sling-test/sling/sling-test.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8888/sling-test/sling/sling-test.html&lt;/a&gt; &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12388217">SLING-241</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12384391" name="auth-config.jpg" size="43952" author="bdelacretaz" created="Fri, 20 Jun 2008 15:23:45 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36144</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 21 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i032fr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>15828</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-321] Log stops working after reconfiguration</title>
                <link>https://issues.apache.org/jira/browse/SLING-321</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The log stops working after starting the launchpad, going to &lt;a href=&quot;http://localhost:8888/sling/configMgr&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:8888/sling/configMgr&lt;/a&gt; and save the LogbackManager configuration.&lt;/p&gt;

&lt;p&gt;This is due to a ClassCastException in LogbackManager.updated(), as the org.apache.sling.osgi.log.file.number parameter is an Integer.&lt;/p&gt;

&lt;p&gt;I&apos;ll attach a workaround patch, which is probably not the right way of fixing this.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12390753">SLING-321</key>
            <summary>Log stops working after reconfiguration</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Tue, 11 Mar 2008 14:15:53 +0000</created>
                <updated>Tue, 21 Jul 2009 10:22:46 +0000</updated>
                            <resolved>Wed, 12 Mar 2008 07:06:54 +0000</resolved>
                                                    <fixVersion>3</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12577736" author="fmeschbe" created="Wed, 12 Mar 2008 07:06:54 +0000"  >&lt;p&gt;Thanks for supplying the patch. I applied it and also fixed the property uses now correclty assuming the properties are strings.&lt;/p&gt;

&lt;p&gt;Fixed in Rev. 636226.&lt;/p&gt;

&lt;p&gt;Please close if this fixes your issue. Thanks.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12377617" name="SLING-log.patch" size="728" author="bdelacretaz" created="Tue, 11 Mar 2008 14:16:20 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175336</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 35 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ec8v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291913</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-318] UjaxDateValuesTest fails if Sling instance under test has a different timezone setting</title>
                <link>https://issues.apache.org/jira/browse/SLING-318</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;UjaxDateValuesTest assumes that the target Sling instance uses the same timezone setting as its own.&lt;/p&gt;

&lt;p&gt;No big deal, but we should fix that eventually.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12390669">SLING-318</key>
            <summary>UjaxDateValuesTest fails if Sling instance under test has a different timezone setting</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Mon, 10 Mar 2008 14:48:05 +0000</created>
                <updated>Thu, 8 Oct 2015 08:18:11 +0000</updated>
                            <resolved>Thu, 8 Oct 2015 08:18:11 +0000</resolved>
                                                                    <component>Testing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14948256" author="rombert" created="Thu, 8 Oct 2015 08:18:11 +0000"  >&lt;p&gt;No sign of UjaxDateValuesTest -&amp;gt; resolving not a problem&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36146</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i032g7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>15830</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-316] DefaultSlingScript calls request.getReader() which collides with multipart post parsing later</title>
                <link>https://issues.apache.org/jira/browse/SLING-316</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The DefaultSlingScript calls ServletRequest.getReader() in it&apos;s service method. When the underlying &apos;POST&apos; script tries to access a request parameter of a multipart post, it fails because the &apos;reader&apos; is already obtained:&lt;/p&gt;

&lt;p&gt;java.lang.IllegalStateException: getReader() already called&lt;br/&gt;
	at com.day.j2ee.servletengine.RequestImpl.getInputStream(RequestImpl.java:941)&lt;br/&gt;
	at javax.servlet.ServletRequestWrapper.getInputStream(ServletRequestWrapper.java:145)&lt;br/&gt;
	at org.apache.commons.fileupload.servlet.ServletRequestContext.getInputStream(ServletRequestContext.java:92)&lt;br/&gt;
	at org.apache.commons.fileupload.FileUploadBase.parseRequest(FileUploadBase.java:329)&lt;br/&gt;
	at org.apache.sling.core.impl.parameters.ParameterSupport.parseMultiPartPost(ParameterSupport.java:163)&lt;br/&gt;
	at org.apache.sling.core.impl.parameters.ParameterSupport.getRequestParameterMapInternal(ParameterSupport.java:107)&lt;br/&gt;
	at org.apache.sling.core.impl.parameters.ParameterSupport.getRequestParameter(ParameterSupport.java:84)&lt;br/&gt;
	at org.apache.sling.core.impl.parameters.ParameterSupport.getParameter(ParameterSupport.java:65)&lt;br/&gt;
	at org.apache.sling.core.impl.SlingHttpServletRequestImpl.getParameter(SlingHttpServletRequestImpl.java:131)&lt;br/&gt;
	at javax.servlet.ServletRequestWrapper.getParameter(ServletRequestWrapper.java:157)&lt;br/&gt;
	at org.apache.sling.scripting.jsp.JspServletWrapperAdapter.preCompile(JspServletWrapperAdapter.java:88)&lt;br/&gt;
	at org.apache.sling.scripting.jsp.JspServletWrapperAdapter.service(JspServletWrapperAdapter.java:58)&lt;br/&gt;
	at org.apache.sling.scripting.jsp.JspScriptEngineFactory.callJsp(JspScriptEngineFactory.java:131)&lt;br/&gt;
	at org.apache.sling.scripting.jsp.JspScriptEngineFactory.access$000(JspScriptEngineFactory.java:72)&lt;br/&gt;
	at org.apache.sling.scripting.jsp.JspScriptEngineFactory$JspScriptEngine.eval(JspScriptEngineFactory.java:279)&lt;br/&gt;
	at org.apache.sling.scripting.resolver.impl.DefaultSlingScript.eval(DefaultSlingScript.java:118)&lt;br/&gt;
	at org.apache.sling.scripting.resolver.impl.DefaultSlingScript.service(DefaultSlingScript.java:184)&lt;br/&gt;
	at org.apache.sling.core.impl.request.RequestData.service(RequestData.java:447)&lt;br/&gt;
	at org.apache.sling.core.impl.SlingMainServlet.processRequest(SlingMainServlet.java:396)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12390581">SLING-316</key>
            <summary>DefaultSlingScript calls request.getReader() which collides with multipart post parsing later</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="tripod">Tobias Bocanegra</reporter>
                        <labels>
                    </labels>
                <created>Sun, 9 Mar 2008 04:30:00 +0000</created>
                <updated>Mon, 10 Mar 2008 20:12:04 +0000</updated>
                            <resolved>Mon, 10 Mar 2008 08:56:13 +0000</resolved>
                                                                    <component>Scripting</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12576900" author="fmeschbe" created="Mon, 10 Mar 2008 08:56:13 +0000"  >&lt;p&gt;Reverted addition of the getReader() call in the service method in Rev. 635489. This call was added in Rev. 631505 to fix &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-264&quot; title=&quot;Allow sling scripts resolved by the script resolver to be executed without request/response&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-264&quot;&gt;&lt;del&gt;SLING-264&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Please close if your issue is fixed. Thanks.&lt;/p&gt;</comment>
                            <comment id="12577159" author="tripod" created="Mon, 10 Mar 2008 20:12:04 +0000"  >&lt;p&gt;works. thanks.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175333</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 35 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10m87:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>211735</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-313] Registered servlet can&apos;t be invoked with authentication</title>
                <link>https://issues.apache.org/jira/browse/SLING-313</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;It seems that if you register a servlet under /bin/myServlet (without storing the servlet into the repository), the /bin node in the repository is checked.&lt;br/&gt;
If this /bin node is not accessible for the current user, the servlet is not invoked.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12390420">SLING-313</key>
            <summary>Registered servlet can&apos;t be invoked with authentication</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Fri, 7 Mar 2008 07:54:19 +0000</created>
                <updated>Wed, 12 Mar 2008 13:26:21 +0000</updated>
                            <resolved>Wed, 12 Mar 2008 13:26:21 +0000</resolved>
                                    <version>3</version>
                                    <fixVersion>3</fixVersion>
                                    <component>Engine</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12577841" author="cziegeler" created="Wed, 12 Mar 2008 13:26:21 +0000"  >&lt;p&gt;This seems to be fixed with the changes made because of &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-319&quot; title=&quot;Streamlining authentication and access control&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-319&quot;&gt;&lt;del&gt;SLING-319&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175330</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 35 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10vqf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>213275</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-310] SlingMainServlet still used as the HttpContext after being deactivated</title>
                <link>https://issues.apache.org/jira/browse/SLING-310</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;In revision 633868, with this build/start sequence:&lt;/p&gt;

&lt;p&gt;cd launchpad/webapp&lt;br/&gt;
cd ../app ; mvn clean install ; cd - ; mvn clean integration-test -Dintegration.test.wait=true&lt;/p&gt;

&lt;p&gt;Some integration tests fail, like for example PropertyRenderingTest.testTextNoExt&lt;/p&gt;

&lt;p&gt;The problem is that mimeTypeService is null here:&lt;/p&gt;

&lt;p&gt;            HttpContext httpContext = new HttpContext() {&lt;br/&gt;
                public String getMimeType(String name) &lt;/p&gt;
{
                    return mimeTypeService.getMimeType(name);
                }

&lt;p&gt;event though the mimeTypeService of the enclosing class is set.&lt;/p&gt;

&lt;p&gt;Not sure what&apos;s happening, maybe there are several instances of this HttpContext around.&lt;/p&gt;

&lt;p&gt;To simplify, I&apos;ll change SlingMainServlet to implement HttpContext&lt;/p&gt;</description>
                <environment></environment>
        <key id="12390259">SLING-310</key>
            <summary>SlingMainServlet still used as the HttpContext after being deactivated</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Wed, 5 Mar 2008 15:03:39 +0000</created>
                <updated>Mon, 10 Mar 2008 12:53:49 +0000</updated>
                            <resolved>Mon, 10 Mar 2008 12:34:40 +0000</resolved>
                                                    <fixVersion>3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12575438" author="bdelacretaz" created="Wed, 5 Mar 2008 18:00:01 +0000"  >&lt;p&gt;Making changes to SlingMainServlet didn&apos;t help, but in debugging I noticed that there are indeed two instances of SlingMainServlet around, and for some reason the HttpContext is using the wrong one&lt;/p&gt;</comment>
                            <comment id="12575596" author="bdelacretaz" created="Thu, 6 Mar 2008 07:45:03 +0000"  >&lt;p&gt;Note that on my laptop the problem only happens after a &quot;mvn clean&quot;, so it&apos;s probably related to the repository taking a bit longer to come up.&lt;/p&gt;

&lt;p&gt;Also, when the problem happens, Sling works fine after stopping and restarting the sling core bundle.&lt;/p&gt;</comment>
                            <comment id="12575627" author="bdelacretaz" created="Thu, 6 Mar 2008 09:29:11 +0000"  >&lt;p&gt;This log excerpt shows what happens: with the startup sequence below, the SlingMainServlet is activated, deactivated and activated again.&lt;/p&gt;

&lt;p&gt;For some reason, the HttpContext which was registered on the first activate() call is still used for requests that come after the second activate() call.&lt;/p&gt;

&lt;p&gt;I have modified the SlingMainServlet code to detect this and report an IllegalStateException. Not sure if that&apos;s a bug in the HttpService that we&apos;re using, or if we&apos;re doing something wrong.&lt;/p&gt;

&lt;p&gt;Startup commands to reproduce:&lt;/p&gt;

&lt;p&gt;  cd launchpad/webapp&lt;br/&gt;
  mvn clean package jetty:run&lt;/p&gt;

&lt;p&gt;Here&apos;s the log excerpt:&lt;/p&gt;

&lt;p&gt; o.a.s.core: Service &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.core.impl.SlingMainServlet,59&amp;#93;&lt;/span&gt; ServiceEvent REGISTERED&lt;br/&gt;
 o.a.s.c.i.SlingMainServlet: ApacheSling/2.0 (Java HotSpot(TM) Client VM 1.5.0_13; Mac OS X 10.4.11 i386) ready to serve requests&lt;br/&gt;
 o.a.s.c.i.SlingMainServlet: ApacheSling/2.0 (Java HotSpot(TM) Client VM 1.5.0_13; Mac OS X 10.4.11 i386) shut down&lt;br/&gt;
 o.a.s.core: &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.core.impl.SlingMainServlet&amp;#93;&lt;/span&gt; Dependency Manager: Service Filter registered, trying to activate&lt;br/&gt;
 o.a.s.core: &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.sling.core.impl.SlingMainServlet&amp;#93;&lt;/span&gt; Dependency Manager: Service Filter registered, trying to activate&lt;br/&gt;
 o.a.s.c.i.SlingMainServlet: ApacheSling/2.0 (Java HotSpot(TM) Client VM 1.5.0_13; Mac OS X 10.4.11 i386) ready to serve requests&lt;br/&gt;
06.03.2008 10:15:00 &lt;b&gt;ERROR&lt;/b&gt; o.a.s.c.i.SlingMainServlet: service: Uncaught Throwable&lt;br/&gt;
java.lang.IllegalStateException: SlingMainServlet is inactive&lt;br/&gt;
        at org.apache.sling.core.impl.SlingMainServlet.ensureActivated(SlingMainServlet.java:764)&lt;br/&gt;
        at org.apache.sling.core.impl.SlingMainServlet.getMimeType(SlingMainServlet.java:740)&lt;br/&gt;
        at org.apache.sling.core.impl.SlingMainServlet.processRequest(SlingMainServlet.java:419)&lt;br/&gt;
        at org.apache.sling.core.impl.SlingMainServlet.service(SlingMainServlet.java:284)&lt;br/&gt;
        at org.apache.sling.core.impl.SlingMainServlet.service(SlingMainServlet.java:170)&lt;/p&gt;</comment>
                            <comment id="12575630" author="bdelacretaz" created="Thu, 6 Mar 2008 09:37:48 +0000"  >&lt;p&gt;The following two requests cause the IllegalStateException after starting as above:&lt;/p&gt;

&lt;p&gt;curl -D - -F &quot;title=$(date)&quot; &lt;a href=&quot;http://admin:admin@localhost:8888/SLING-310&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://admin:admin@localhost:8888/SLING-310&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;curl -D - &lt;a href=&quot;http://admin:admin@localhost:8888/SLING-310/title&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://admin:admin@localhost:8888/SLING-310/title&lt;/a&gt;&lt;/p&gt;
</comment>
                            <comment id="12575873" author="fmeschbe" created="Thu, 6 Mar 2008 20:34:22 +0000"  >&lt;p&gt;I cannot reproduce this behaviour on my linux box. And looking at the SlingMainServlet class, I cannot imagine, why the component should be cycled because the only reason, this would happen is if the HttpService is coming or going. But then the SlingMainServlet is not activated as long as the HttpService is not there .... So this really is a strange situation ...&lt;/p&gt;</comment>
                            <comment id="12576060" author="bdelacretaz" created="Fri, 7 Mar 2008 06:50:07 +0000"  >&lt;p&gt;Our continuum builds are fine as well, and I assume they run from a clean target directory. &lt;/p&gt;

&lt;p&gt;If that&apos;s the case, this might indeed by a mac-only problem, or timing-related maybe.&lt;/p&gt;</comment>
                            <comment id="12576061" author="bdelacretaz" created="Fri, 7 Mar 2008 06:52:50 +0000"  >&lt;p&gt;Here&apos;s the list of tests that fail when this problem occurs:&lt;/p&gt;

&lt;p&gt;Failed tests: &lt;br/&gt;
  testTextNoExt(org.apache.sling.launchpad.webapp.integrationtest.PropertyRenderingTest)&lt;br/&gt;
  testResourceTypeNoExt(org.apache.sling.launchpad.webapp.integrationtest.PropertyRenderingTest)&lt;br/&gt;
  testDistinctResource(org.apache.sling.launchpad.webapp.integrationtest.UploadFileTest)&lt;br/&gt;
  testDistinctResourceWithType(org.apache.sling.launchpad.webapp.integrationtest.UploadFileTest)&lt;br/&gt;
  testDistinctFile(org.apache.sling.launchpad.webapp.integrationtest.UploadFileTest)&lt;br/&gt;
  testRtJsp(org.apache.sling.launchpad.webapp.integrationtest.JspScriptingTest)&lt;br/&gt;
  testUnstructuredJsp(org.apache.sling.launchpad.webapp.integrationtest.JspScriptingTest)&lt;br/&gt;
  testAptDocument(org.apache.sling.launchpad.webapp.integrationtest.apt.SimpleAptRenderingTest)&lt;br/&gt;
  testJsonFile(org.apache.sling.launchpad.webapp.integrationtest.StreamServletTest)&lt;/p&gt;</comment>
                            <comment id="12576091" author="bdelacretaz" created="Fri, 7 Mar 2008 08:55:24 +0000"  >&lt;p&gt;Patch that tries to start the repository pinger thread only when the OSGi framework reaches a stable state (STARTED) - seemed to work in a first test&lt;/p&gt;</comment>
                            <comment id="12576122" author="bdelacretaz" created="Fri, 7 Mar 2008 10:30:25 +0000"  >&lt;p&gt;Sorry, wrong file...here&apos;s the correct debug log that shows a&lt;/p&gt;

&lt;p&gt;  State transition : Factory -&amp;gt; Deactivating&lt;/p&gt;

&lt;p&gt;for the SlingServerRepository component, not sure why this happens&lt;/p&gt;</comment>
                            <comment id="12576177" author="fmeschbe" created="Fri, 7 Mar 2008 13:15:06 +0000"  >&lt;p&gt;I committed the following to help investigate this issue:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-314&quot; title=&quot;Support configuration of log rotation: number and size of files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-314&quot;&gt;&lt;del&gt;SLING-314&lt;/del&gt;&lt;/a&gt;: enable configuration of log file size, new default is 10MB (was 1MB)&lt;/li&gt;
	&lt;li&gt;switched to org.apache.felix.scr, 1.0.1-SNAPSHOT, which contains some more message, esp. around component deactivation&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12576178" author="fmeschbe" created="Fri, 7 Mar 2008 13:17:26 +0000"  >&lt;p&gt;Re patch &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-310&quot; title=&quot;SlingMainServlet still used as the HttpContext after being deactivated&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-310&quot;&gt;&lt;del&gt;SLING-310&lt;/del&gt;&lt;/a&gt;-0954.patch: Please do not apply this patch. This is most certainly not a good idea. Rather I propose to modify the AbstractSlingRepository.activate method to immediately try to start the repository before even launching the thread in the background. Will attach a patch for this.&lt;/p&gt;</comment>
                            <comment id="12576179" author="fmeschbe" created="Fri, 7 Mar 2008 13:21:01 +0000"  >&lt;p&gt;Patch trying to immediately start/access the repository when the component instance is being activated.&lt;/p&gt;</comment>
                            <comment id="12576210" author="bdelacretaz" created="Fri, 7 Mar 2008 14:31:11 +0000"  >&lt;p&gt;All test pass on my system after appliying &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-310&quot; title=&quot;SlingMainServlet still used as the HttpContext after being deactivated&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-310&quot;&gt;&lt;del&gt;SLING-310&lt;/del&gt;&lt;/a&gt;-fmeschbe.patch, thanks!&lt;/p&gt;

&lt;p&gt;I agree that it makes sense when using an embedded repository that can be started synchronously, but I don&apos;t think the core problem is addressed, there was a weird timing/threading problem that is probably not solved.&lt;/p&gt;

&lt;p&gt;Anyway, I suggest that you apply the patch, and that we keep this issue in mind in case there are more similar issues later on.&lt;/p&gt;</comment>
                            <comment id="12576224" author="fmeschbe" created="Fri, 7 Mar 2008 15:01:10 +0000"  >&lt;p&gt;Thanks for the information.&lt;/p&gt;

&lt;p&gt;Before applying this patch, I would like to conduct more investigation. Carsten is now testing a new configuraiton admin bundle, which contains more logging.&lt;/p&gt;</comment>
                            <comment id="12576231" author="cziegeler" created="Fri, 7 Mar 2008 15:16:28 +0000"  >&lt;p&gt;Reduced log with latest debug outputs&lt;/p&gt;</comment>
                            <comment id="12576920" author="bdelacretaz" created="Mon, 10 Mar 2008 09:56:33 +0000"  >&lt;p&gt;FWIW, I ran the launchpad/webapp test suite on another, slightly faster macosx system, and the same tests fail, in revision 635495&lt;/p&gt;

&lt;p&gt;I&apos;d suggest applying &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-310&quot; title=&quot;SlingMainServlet still used as the HttpContext after being deactivated&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-310&quot;&gt;&lt;del&gt;SLING-310&lt;/del&gt;&lt;/a&gt;-fmeschbe.patch until the real issue is fixed.&lt;/p&gt;</comment>
                            <comment id="12576943" author="fmeschbe" created="Mon, 10 Mar 2008 10:58:58 +0000"  >&lt;p&gt;I modified the Apache Felix Configuration Admin implementation a bit and this seems to work and re-reading the logs provided by Carsten now show exactly, that we were on the right track regarding what was going:&lt;/p&gt;

&lt;p&gt;   Thread T2 was registering a ManagedServiceFactory&lt;br/&gt;
   In T2 the ConfigurationAdmin service sees the service and schedules configuration of it&lt;br/&gt;
   Thread T1 was creating and setting a configuration C&lt;br/&gt;
   In T1 the ConfigurationAdmin service schedules the update of the ManagedServiceFactory&lt;br/&gt;
   Thread T3 handles the first scheduled task of initially providing the service with configuration&lt;br/&gt;
              (created by T2 in the meantime)&lt;br/&gt;
   Thread T3 handles the second scheduled task of updating the configuration&lt;/p&gt;

&lt;p&gt;Hence the ManagedServiceFactory is updated twice with the same configuration and thus cycles the service.&lt;/p&gt;

&lt;p&gt;The provisional fix is to record in the Configuration object that it was sent to the consuming service and to prevent sending the update of a configuration, which has already been sent.&lt;/p&gt;

&lt;p&gt;See also &lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-516&quot; title=&quot;ManagedService[Factory] may be updated twice with the same Configuration&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-516&quot;&gt;&lt;del&gt;FELIX-516&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12576946" author="fmeschbe" created="Mon, 10 Mar 2008 11:08:14 +0000"  >&lt;p&gt;We found out the cause for the double start of the repository service and are working on a fix as per &lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-516&quot; title=&quot;ManagedService[Factory] may be updated twice with the same Configuration&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-516&quot;&gt;&lt;del&gt;FELIX-516&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Therefore, the optimization proposed in my last patch may be applied.&lt;/p&gt;

&lt;p&gt;Fixed in Rev. 635526.&lt;/p&gt;

&lt;p&gt;Please close this issue if it fixes your problem. Thanks.&lt;/p&gt;</comment>
                            <comment id="12576952" author="fmeschbe" created="Mon, 10 Mar 2008 11:41:29 +0000"  >&lt;p&gt;Outsch ! I found the actual problem.... The SlingServletContext which is registered in the SlingMainServlet.activate() method as an OSGi service is never unregistered and thus clients may still refer to that server ....&lt;/p&gt;

&lt;p&gt;We must make sure in the SlingMainServlet.deactivate() method to dispose off - and thus unregister - the SlingServletContext ...&lt;/p&gt;</comment>
                            <comment id="12576955" author="fmeschbe" created="Mon, 10 Mar 2008 12:02:22 +0000"  >&lt;p&gt;In Rev. 635535 I fixed the missing disposal (hence service unregistration) of the SlingServletContext. In addition I prevent null pointer exceptions in the SlingServletContext if called after the SlingMainServlet has been deactivated. These calls may come from deactivation methods called because the SlingServletContext is unregistered (e.g. the JspScriptEngineFactory, which ensure the unregistration of a Jasper specific servlet context attribute)&lt;/p&gt;</comment>
                            <comment id="12576965" author="fmeschbe" created="Mon, 10 Mar 2008 12:34:40 +0000"  >&lt;p&gt;I think now this issue can really be closed because the real cause - the SlingServletContext was not actuall unregistered as a Service - has been fixed.&lt;/p&gt;

&lt;p&gt;Please do so, if your issue is fixed. Thanks.&lt;/p&gt;</comment>
                            <comment id="12576967" author="bdelacretaz" created="Mon, 10 Mar 2008 12:53:49 +0000"  >&lt;p&gt;Revision 635545 does not show the problem anymore, thanks! Closing this issue.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12377324" name="SLING-310-0954.patch" size="2023" author="bdelacretaz" created="Fri, 7 Mar 2008 08:55:24 +0000"/>
                            <attachment id="12377336" name="SLING-310-debug.log" size="683577" author="bdelacretaz" created="Fri, 7 Mar 2008 10:30:25 +0000"/>
                            <attachment id="12377343" name="SLING-310-fmeschbe.patch" size="926" author="fmeschbe" created="Fri, 7 Mar 2008 13:21:01 +0000"/>
                            <attachment id="12377238" name="SLING-310.log" size="55422" author="bdelacretaz" created="Thu, 6 Mar 2008 09:29:11 +0000"/>
                            <attachment id="12377356" name="log.txt" size="10310" author="cziegeler" created="Fri, 7 Mar 2008 15:16:28 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175327</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 35 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10x0n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>213483</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-308] Config page dropdown not displayed in Firefox 3, Safari and Opera 9</title>
                <link>https://issues.apache.org/jira/browse/SLING-308</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Reported by Vidar Ramdal on dev@.&lt;/p&gt;

&lt;p&gt;Confirmed on Safari 3.0.4&lt;/p&gt;</description>
                <environment></environment>
        <key id="12390173">SLING-308</key>
            <summary>Config page dropdown not displayed in Firefox 3, Safari and Opera 9</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bdelacretaz">Bertrand Delacretaz</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Tue, 4 Mar 2008 14:24:08 +0000</created>
                <updated>Fri, 19 Sep 2008 11:42:54 +0000</updated>
                            <resolved>Tue, 4 Mar 2008 16:34:21 +0000</resolved>
                                                    <fixVersion>3</fixVersion>
                                    <component>Console</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12574999" author="bdelacretaz" created="Tue, 4 Mar 2008 14:25:11 +0000"  >&lt;p&gt;Safari screenshot, nothing&apos;s displayed below the Assemblies/Bundles/... menu&lt;/p&gt;</comment>
                            <comment id="12575001" author="vramdal" created="Tue, 4 Mar 2008 14:33:04 +0000"  >&lt;p&gt;This seems to be due to an unclosed script tag on line 11.&lt;br/&gt;
Replace &amp;lt;script type=&apos;text/javascript&apos; src=&apos;res/ui/configmanager.js&apos;&amp;gt;&lt;br/&gt;
with &amp;lt;script type=&apos;text/javascript&apos; src=&apos;res/ui/configmanager.js&apos;&amp;gt;&amp;lt;/script&amp;gt;&lt;/p&gt;

&lt;p&gt;and you&apos;re good.&lt;/p&gt;</comment>
                            <comment id="12575045" author="bdelacretaz" created="Tue, 4 Mar 2008 16:34:21 +0000"  >&lt;p&gt;Of course, good catch!&lt;/p&gt;

&lt;p&gt;Fixed in revision 633534&lt;/p&gt;</comment>
                            <comment id="12632643" author="fmeschbe" created="Fri, 19 Sep 2008 11:42:54 +0000"  >&lt;p&gt;Closing overdue &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12377084" name="safari-sling-config.jpg" size="61618" author="bdelacretaz" created="Tue, 4 Mar 2008 14:25:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175325</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 7 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ec9z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291918</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-306] Property setting assums String by default</title>
                <link>https://issues.apache.org/jira/browse/SLING-306</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If I want to set properties on a node where the type is not a string, the ujax post servlet fails as it always&lt;br/&gt;
assumes string as the property type if no type hint is given.&lt;br/&gt;
I think the correct behaviour would be to let the repository try to convert the value into the required&lt;br/&gt;
type if no type hint is set.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12390168">SLING-306</key>
            <summary>Property setting assums String by default</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Tue, 4 Mar 2008 13:33:07 +0000</created>
                <updated>Sun, 13 Sep 2009 13:39:18 +0000</updated>
                            <resolved>Fri, 7 Mar 2008 15:27:05 +0000</resolved>
                                                    <fixVersion>3</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                    <workratio workratioPercent="0"/>
                                                                    <timeoriginalestimate seconds="0">0h</timeoriginalestimate>
                            <timeestimate seconds="0">0h</timeestimate>
                                        <comments>
                            <comment id="12576237" author="cziegeler" created="Fri, 7 Mar 2008 15:27:05 +0000"  >&lt;p&gt;Fixed in r634716&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175323</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 35 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10xfb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>213549</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-304] undo SLING-185 that moved all useful classes to internal package</title>
                <link>https://issues.apache.org/jira/browse/SLING-304</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-185&quot; title=&quot;Split jcr/api project in two&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-185&quot;&gt;&lt;del&gt;SLING-185&lt;/del&gt;&lt;/a&gt; moved some useful classes to org.apache.sling.jcr.base.internal which is not exported.&lt;br/&gt;
existing code that is based on those classes fail to work, now.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12390090">SLING-304</key>
            <summary>undo SLING-185 that moved all useful classes to internal package</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="tripod">Tobias Bocanegra</reporter>
                        <labels>
                    </labels>
                <created>Mon, 3 Mar 2008 21:26:17 +0000</created>
                <updated>Mon, 3 Mar 2008 21:39:25 +0000</updated>
                            <resolved>Mon, 3 Mar 2008 21:39:25 +0000</resolved>
                                                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12574748" author="tripod" created="Mon, 3 Mar 2008 21:39:25 +0000"  >&lt;p&gt;sorry. this is of course not needed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175321</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 36 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ecaf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291920</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-300] Redirecting a request without extension to a child resource fails</title>
                <link>https://issues.apache.org/jira/browse/SLING-300</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Consider a resource /content being a sling:redirect resource whose target is /content/sample/index.html. In this case the redirection will currently be to /sample/index.html instead of the desired /content/sample/index.html as the identification of the relative path is wrong.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12390024">SLING-300</key>
            <summary>Redirecting a request without extension to a child resource fails</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Mon, 3 Mar 2008 08:46:21 +0000</created>
                <updated>Sun, 13 Sep 2009 13:39:15 +0000</updated>
                            <resolved>Mon, 3 Mar 2008 09:49:18 +0000</resolved>
                                                    <fixVersion>3</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12574401" author="fmeschbe" created="Mon, 3 Mar 2008 09:49:18 +0000"  >&lt;p&gt;Fixed in Rev. 633008.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175319</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 36 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i10wvz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>213462</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-299] Node creation without properties doesn&apos;t work</title>
                <link>https://issues.apache.org/jira/browse/SLING-299</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If a new node should be created without setting a property, the node is never created as the processContent() method in the ujax post processor only acts when a property is available.&lt;br/&gt;
Now, this use case might be questionable, however it seems strange to not create the node.&lt;br/&gt;
I&apos;ve added and disabled a test case in the CreateNodeTest test.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12389909">SLING-299</key>
            <summary>Node creation without properties doesn&apos;t work</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Fri, 29 Feb 2008 18:39:18 +0000</created>
                <updated>Sun, 13 Sep 2009 13:39:10 +0000</updated>
                            <resolved>Mon, 3 Mar 2008 07:09:30 +0000</resolved>
                                                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12573897" author="tripod" created="Fri, 29 Feb 2008 18:53:05 +0000"  >&lt;p&gt;shouldn&apos;t be the case anymore since &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-285&quot; title=&quot;ujax post servlet should silently replace existing move targets&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-285&quot;&gt;&lt;del&gt;SLING-285&lt;/del&gt;&lt;/a&gt; introduced a new handling for node creation.&lt;/p&gt;</comment>
                            <comment id="12573910" author="tripod" created="Fri, 29 Feb 2008 19:13:53 +0000"  >&lt;p&gt;the createNode() handles &quot;/*&quot; nodes but not &quot;/new_node&quot; &lt;/p&gt;</comment>
                            <comment id="12574365" author="cziegeler" created="Mon, 3 Mar 2008 07:09:30 +0000"  >&lt;p&gt;This should be fixed by the patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-295&quot; title=&quot;Specify nodetype for node creation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-295&quot;&gt;&lt;del&gt;SLING-295&lt;/del&gt;&lt;/a&gt; in rev 632955&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175318</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 36 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ecb3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291923</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-298] FormEncoding parameter should be ignored during POST processing</title>
                <link>https://issues.apache.org/jira/browse/SLING-298</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;The FormEncoding parameter should be ignored during post processing and not be set as a property.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12389908">SLING-298</key>
            <summary>FormEncoding parameter should be ignored during POST processing</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Fri, 29 Feb 2008 18:37:21 +0000</created>
                <updated>Sun, 13 Sep 2009 13:39:15 +0000</updated>
                            <resolved>Thu, 8 May 2008 09:18:21 +0000</resolved>
                                    <version>3</version>
                                    <fixVersion>3</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12573893" author="tripod" created="Fri, 29 Feb 2008 18:49:38 +0000"  >&lt;p&gt;imo this should not be treated specially. just prefix all other props with &quot;./&quot; and you&apos;re set.&lt;/p&gt;

&lt;p&gt;eg:&lt;/p&gt;

&lt;p&gt;POST /foo/bar&lt;br/&gt;
FormEncoding = &quot;utf-8&quot;&lt;br/&gt;
./jcr:title = &quot;hello&quot;&lt;/p&gt;</comment>
                            <comment id="12573895" author="cziegeler" created="Fri, 29 Feb 2008 18:52:19 +0000"  >&lt;p&gt;Then perhaps the processing of properties in the ujax post processor is wrong. Without my latest fix, the FormEncoding property was set on newly created nodes.&lt;/p&gt;</comment>
                            <comment id="12573902" author="cziegeler" created="Fri, 29 Feb 2008 18:56:04 +0000"  >&lt;p&gt;I guess this has to do with &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-299&quot; title=&quot;Node creation without properties doesn&amp;#39;t work&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-299&quot;&gt;&lt;del&gt;SLING-299&lt;/del&gt;&lt;/a&gt;, if no parameter starting with &quot;./&quot; is set, FormEncoding is assumed to specify a property.&lt;/p&gt;</comment>
                            <comment id="12573909" author="tripod" created="Fri, 29 Feb 2008 19:12:30 +0000"  >&lt;p&gt;since the FormEncoding is used internally in sling as hint for a missing POST content type,&lt;br/&gt;
we might rename it to something more specific, like:&lt;/p&gt;

&lt;p&gt;X-HTTP-ContentType&lt;/p&gt;</comment>
                            <comment id="12574389" author="bdelacretaz" created="Mon, 3 Mar 2008 09:05:26 +0000"  >&lt;p&gt;&amp;gt; I guess this has to do with &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-299&quot; title=&quot;Node creation without properties doesn&amp;#39;t work&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-299&quot;&gt;&lt;del&gt;SLING-299&lt;/del&gt;&lt;/a&gt;, if no parameter starting with &quot;./&quot; is set, FormEncoding is assumed &lt;br/&gt;
&amp;gt; to specify a property.&lt;/p&gt;

&lt;p&gt;Yes, IIRC that&apos;s how the logic works, and I agree that it&apos;s a problem in this case: FormEncoding will be stored if no other parameter is supplied.&lt;/p&gt;</comment>
                            <comment id="12574390" author="cziegeler" created="Mon, 3 Mar 2008 09:12:57 +0000"  >&lt;p&gt;I&apos;m wondering if we could simplify the handling by saying that we require a &quot;./&quot; for setting properties and&lt;br/&gt;
everything else are special parameters?&lt;/p&gt;</comment>
                            <comment id="12577016" author="fmeschbe" created="Mon, 10 Mar 2008 14:48:17 +0000"  >&lt;p&gt;&amp;gt; we might rename it to something more specific, like:&lt;br/&gt;
&amp;gt; X-HTTP-ContentType&lt;/p&gt;

&lt;p&gt;Thinking about this and considering, that we prefix everything pertaining to Sling with the sling: prefix, why not do sling:formEncoding ?&lt;/p&gt;

&lt;p&gt;X-HTTP-ContentType is not accurate because the property contains the character encoding and not the content type.&lt;/p&gt;</comment>
                            <comment id="12577128" author="tripod" created="Mon, 10 Mar 2008 19:22:06 +0000"  >&lt;p&gt;what about: X-HTTP-Charset, then ?&lt;/p&gt;</comment>
                            <comment id="12577913" author="fmeschbe" created="Wed, 12 Mar 2008 16:47:19 +0000"  >&lt;p&gt;Because our parameters are not generally created in this X-** form but as sling:* or ujax:* (at least currently) ... Also, having it names according to other &quot;system&quot; parameters makes its handling (aka ignoring) in the UjaxPostServlet much easier ...&lt;/p&gt;</comment>
                            <comment id="12592824" author="cziegeler" created="Mon, 28 Apr 2008 15:01:21 +0000"  >&lt;p&gt;Ok, can we come to a consensus here and use the same prefix for FormEncoding as we use for other special post commands? (That&apos;s currently &quot;sling:post:&quot;, but we&apos;ll change that to &quot;:&quot; soon)&lt;/p&gt;</comment>
                            <comment id="12592965" author="cziegeler" created="Tue, 29 Apr 2008 07:25:10 +0000"  >&lt;p&gt;The alternative would be to use &quot;&lt;em&gt;charset&lt;/em&gt;&quot; which is set by IE and Firefox, see &lt;a href=&quot;http://www.crazysquirrel.com/computing/general/form-encoding.jspx&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.crazysquirrel.com/computing/general/form-encoding.jspx&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12592967" author="fmeschbe" created="Tue, 29 Apr 2008 07:40:35 +0000"  >&lt;p&gt;I think it is worth it using a special (well-known and exceptional) parameter for this kind of thing because (1) it is supported by the major browser vendors and (2) it fixes a problem, which would otherwise not be properly fixed.&lt;/p&gt;

&lt;p&gt;+1 for using &lt;em&gt;charset&lt;/em&gt; and encouraging form creators to also set the &quot;accept-charset&quot; attribute in form elements.&lt;/p&gt;</comment>
                            <comment id="12593006" author="tripod" created="Tue, 29 Apr 2008 11:51:46 +0000"  >&lt;p&gt;agreed.&lt;/p&gt;

&lt;p&gt;+1 for using &lt;em&gt;charset&lt;/em&gt; and encouraging form creators to also set the &quot;accept-charset&quot; attribute in form elements.&lt;/p&gt;

&lt;p&gt;(why didn&apos;t we know that before??)&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175317</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 28 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ecbb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291924</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-297] Exceptions during processing of POST are never logged</title>
                <link>https://issues.apache.org/jira/browse/SLING-297</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;If an exception occurs during POST processing, it is never logged.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12389907">SLING-297</key>
            <summary>Exceptions during processing of POST are never logged</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Fri, 29 Feb 2008 18:36:30 +0000</created>
                <updated>Sun, 13 Sep 2009 13:39:18 +0000</updated>
                            <resolved>Fri, 29 Feb 2008 18:50:51 +0000</resolved>
                                                    <fixVersion>3</fixVersion>
                                    <component>Servlets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12573900" author="tripod" created="Fri, 29 Feb 2008 18:55:32 +0000"  >&lt;p&gt;i strongly disagree with this patch!&lt;br/&gt;
you just fixed 3 bugs at once in the same checkin although the other were not agreed.&lt;/p&gt;

&lt;p&gt;please revert&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175316</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 36 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ecbj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291925</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-294] Nodetypes not registered if repository becomes available after bundle is loaded</title>
                <link>https://issues.apache.org/jira/browse/SLING-294</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;Related to &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-132&quot; title=&quot;Auto-reconnect to the JCR Repository if it is not found or lost&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-132&quot;&gt;&lt;del&gt;SLING-132&lt;/del&gt;&lt;/a&gt;: if the repository service becomes available after a bundle that contains nodetype definitions was loaded, it seems like the nodetypes are never registered.&lt;/p&gt;

&lt;p&gt;The initial content loading seems to work in such a case.&lt;/p&gt;

&lt;p&gt;I haven&apos;t done extensive tests yet, creating the issue so that we don&apos;t forget to look at it.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12389862">SLING-294</key>
            <summary>Nodetypes not registered if repository becomes available after bundle is loaded</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="bdelacretaz">Bertrand Delacretaz</reporter>
                        <labels>
                    </labels>
                <created>Fri, 29 Feb 2008 11:05:07 +0000</created>
                <updated>Sun, 13 Sep 2009 13:22:27 +0000</updated>
                            <resolved>Mon, 10 Mar 2008 15:54:54 +0000</resolved>
                                                    <fixVersion>3</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12577052" author="fmeschbe" created="Mon, 10 Mar 2008 15:54:54 +0000"  >&lt;p&gt;After &lt;a href=&quot;https://issues.apache.org/jira/browse/SLING-132&quot; title=&quot;Auto-reconnect to the JCR Repository if it is not found or lost&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SLING-132&quot;&gt;&lt;del&gt;SLING-132&lt;/del&gt;&lt;/a&gt; has been implemented this issue should also be fixed at the same time, as now node types are loaded as soon as the repository becomes available.&lt;/p&gt;

&lt;p&gt;Please close, if your issue is fixed. Thanks.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12384404">SLING-132</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175313</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 35 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ecc7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291928</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[SLING-293] bundle resource content loader should use default nodetype if non specified in the serialization</title>
                <link>https://issues.apache.org/jira/browse/SLING-293</link>
                <project id="12310710" key="SLING">Sling</project>
                    <description>&lt;p&gt;the primary node type of the &apos;nodes&apos; that the content loader used to install bundled content is initialized with &apos;nt:unstructured&apos;.&lt;br/&gt;
this causes new nodes always to be created with &apos;nt:unstructured&apos; even if no primary type is specified in the serialization.&lt;br/&gt;
the correct way would be to use: Node.addNode(String name); and let the repository choose the correct nodetype.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12389813">SLING-293</key>
            <summary>bundle resource content loader should use default nodetype if non specified in the serialization</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="tripod">Tobias Bocanegra</reporter>
                        <labels>
                    </labels>
                <created>Thu, 28 Feb 2008 19:22:57 +0000</created>
                <updated>Sun, 13 Sep 2009 13:22:38 +0000</updated>
                            <resolved>Fri, 29 Feb 2008 06:40:29 +0000</resolved>
                                                    <fixVersion>3</fixVersion>
                                    <component>JCR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12573616" author="fmeschbe" created="Fri, 29 Feb 2008 06:40:29 +0000"  >&lt;p&gt;Fixed as requested in Rev. 632234.&lt;/p&gt;

&lt;p&gt;Please close if your issue is resolved. Thanks.&lt;/p&gt;</comment>
                            <comment id="12574072" author="tripod" created="Sat, 1 Mar 2008 05:50:48 +0000"  >&lt;p&gt;thanks.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>175312</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 36 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1eccf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>291929</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>